"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["17900"],{139368:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};r.hash="2c875107b94cccf12970aeb534f39684",t.default=r},184242:function(e,t,n){n.r(t);var r,i,o,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:i=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a=[o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},o,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};l.hash="3e837db15a9e9f5a0377c7ab62c7401e",t.default=l},19342:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};r.hash="d9fe632f7481dc91f9007bbd592d44c2",t.default=r},625796:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};r.hash="4b0c4a7a095db0d3cc7f22f3f6c85086",t.default=r},980360:function(e,t,n){n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:r,storageKey:null}],type:"Pin",abstractKey:null};i.hash="cabaa35ed7d59dee006897bf3ef32e3d",t.default=i},173248:function(e,t,n){n.r(t);var r,i,o,a,l,s,u,c=(u={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},i={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:s=[l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:s,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},u,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[o,a,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[u,{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:s,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:s,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:s,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},a],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},i],storageKey:null}]},params:{id:"8577718fbdbea8f1301b405d5a93f8e7876db25e987d2043bf7b830c0818ab66",metadata:{},name:"SearchLandingPageFeaturedBoardsQuery",operationKind:"query",text:null}});c.hash="3ca45565a804bd5428a8509aa83434c3",t.default=c;var d=c.default||c;if("query"===d.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(d);else{let e=[d.params.name,d.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=d}},763859:function(e,t,n){n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedFiltersContext_oneBarModules",selections:[r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moduleType",storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,concreteType:"FilterOption",kind:"LinkedField",name:"filters",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isSelected",storageKey:null},r,{alias:null,args:null,concreteType:"OneBarModuleDisplay",kind:"LinkedField",name:"display",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayText",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OneBarModuleAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"feedUrl",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"OneBarModule",abstractKey:null};i.hash="92b841173868ce353dd00b5fce287546",t.default=i},705268:function(e,t,n){n.r(t);var r,i,o,a,l,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"e23a4165dc6f285e042f7e6e8b3bcb629c5f425352dfa3c3e807dd864f3ca8f1",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};s.hash="5a3162913508a33c37676bde5973ea45",t.default=s;var u=s.default||s;if("query"===u.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(u);else{let e=[u.params.name,u.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=u}},879991:function(e,t,n){n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:r,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};i.hash="756d8d8edca35eac0a0500359bf60618",t.default=i},245652:function(e,t,n){n.r(t);var r,i,o,a,l,s=(i={alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},o={alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"474x")'},a={alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"564x")'},l={alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"736x")'},{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:r,storageKey:null}],storageKey:null},i,o,a,l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null},i,o,a,l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:r,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductMetadataV2",kind:"LinkedField",name:"productPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"ItemMetadata",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"additionalImagesLength",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null});s.hash="5fc3e90469998e436af7fa9ec7d4a329",t.default=s},59827:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};r.hash="dbfca9820e0aa1302554a0137a270b16",t.default=r},985034:function(e,t,n){n.r(t);var r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinCarouselData_pin",selections:[{args:null,kind:"FragmentSpread",name:"usePinDefaultCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"usePinProductCarouselData_pin"}],type:"Pin",abstractKey:null};r.hash="461a57fcc8f7958e3742c217e4cc45a2",t.default=r},402731:function(e,t,n){n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinDefaultCarouselData_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="a3cbf6d55cf89d97d6e04c32195968d9",t.default=i},477800:function(e,t,n){n.r(t);var r,i,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinProductCarouselData_pin",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:r,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:i=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"productId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};o.hash="6588018e2880f2695fc6c4ba45aab606",t.default=o},867987:function(e,t,n){n.r(t);var r,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichPinProductMetadataCarouselSlots_richPinProductMetadata",selections:[{alias:"image236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r=[{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"image474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"image564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"image736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:r,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};i.hash="b49953855cdc69f6ee2c8d4925149d23",t.default=i},637117:function(e,t,n){var r=n(20256),i=n(382718);t.Z=function(e){var t=e.text;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:t})}},116882:function(e,t,n){function r(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.abrupt("return",new File([r],"image.png"));case 7:case"end":return e.stop()}},e)}),(o=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}n.d(t,{Z:function(){return i}})},866189:function(e,t,n){function r(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function i(e,t){return o.apply(this,arguments)}function o(){var e;return e=regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var r=new FileReader;r.onload=function(){var i=new Image;i.src=r.result,i.onload=function(){var r=i.height,o=i.width;o>474&&(r*=474/o,o=474),n({src:i.src,height:r,width:o});var a=document.createElement("canvas");a.width=o,a.height=r;var l=a.getContext("2d");null!==l&&l.drawImage(i,0,0,o,r),a.toBlob(function(n){e(new File([n],t.name,{type:"image/jpeg"}))},"image/jpeg",.9)}},r.readAsDataURL(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}),(o=function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function l(e){r(a,i,o,l,s,"next",e)}function s(e){r(a,i,o,l,s,"throw",e)}l(void 0)})}).apply(this,arguments)}n.d(t,{Z:function(){return i}})},780879:function(e,t,n){n.d(t,{f:function(){return A},l:function(){return E}});var r=n(586659),i=n(769430),o=n(753090),a=n(478135),l=n(288910),s=n(755222),u=n(838880),c=n(234681),d=n(272191),p=n(399573),f=n(729434),m=n(503246),g=n(949044),y=n(974705),h=n(382718);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||b(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return x(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=function(e,t,n){var r=null==t?void 0:t.find(function(e){var t,r=e.action;return(null==r||null==(t=r.filter)?void 0:t.product_filter_type)===n});if(r){var i=(0,g.Z)(y.Z,!0)(r),o=e.findIndex(function(e){var t,r=e.action;return(null==r||null==(t=r.filter)?void 0:t.productFilterType)===n});e[o]?e[o]=i:e.push(i)}},I=function(e,t,n,r){var i,o=r.find(function(t){var n,r=t.action;return"number"==typeof(null==r||null==(n=r.filter)?void 0:n.productFilterType)&&e.has(r.filter.productFilterType)});if(null!=o&&null!=(i=o.action)&&i.filter){var a=o.action.filter.filterOptions;o.action.filter.appliedFilterOptions="string"==typeof t?null==a?void 0:a.filter(function(e){return(null==e?void 0:e[n])&&t.split(",").includes(String(e[n]))}).map(function(e){return P(P({},e),{},{selected:!0})}):[]}},O=(0,f.Z)("OneBarProductFilters"),j=O.Provider,E=O.get;function A(e){var t,n=e.children,f=_((0,r.useState)([]),2),g=f[0],y=f[1],v=_((0,r.useState)(null),2),S=v[0],O=v[1],E=(t=(0,l.n)().scope,[a.lw.BOARDS,a.lw.PINS_BUYABLE,a.lw.PINS_VIDEO,a.lw.USERS].includes(t)),A=(0,d.Z)(),T=(0,u.Z)(),k=(0,i.Z)(),C=(0,o.Z)(),D=(0,c.Z)(),R=(0,r.useCallback)(function(e){var t=e.oneBarModules,n=e.baseCacheKey,r=null==t?void 0:t.filter(function(e){var t=e.module_type;return 17===t||0===t});if(r&&(null==r?void 0:r.length)!==0&&n){var i=n!==S,o=i?[]:g;(i||!E)&&w(o,r,4),(i||!A)&&w(o,r,1),(i||!T)&&w(o,r,0),(i||!k)&&w(o,r,3),(i||!C)&&w(o,r,6),(i||!D)&&[7,8,9].forEach(function(e){w(o,r,e)}),(0,m.ZP)(o,g)||(y(o),O(n))}},[g,k,C,E,T,D,A,S]),L=(0,s.Z)(),M=(0,l.n)(),F=M.priceMax,N=M.priceMin,B=M.scope,z=M.brands,Z=M.onSale,U=M.colors,K=M.domains;(0,r.useEffect)(function(){if(L&&0!==g.length){var e=(0,p.Z)(g);if(B!==a.lw.PINS){var t,n,r=(0,a.gi)(B),i=e.find(function(e){return 0===e.moduleType});null!=i&&null!=(n=i.action)&&n.filter&&(i.action.filter.appliedFilterOptions=((function(e){if(Array.isArray(e))return x(e)})(t=i.action.filter.filterOptions||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||b(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).map(function(e){var t=e.searchType;return{searchType:t,selected:t===r}}))}if("string"==typeof F||"string"==typeof N){var o,l,s,u=e.find(function(e){var t,n=e.action;return(null==n||null==(t=n.filter)?void 0:t.productFilterType)===1});null!=u&&null!=(o=u.action)&&o.filter&&(u.action.filter.appliedFilterOptions=[null!=(l=u.action.filter.filterOptions)&&l[0]?P(P({},u.action.filter.filterOptions[0]),{},{numericValue:Number(N)}):null,null!=(s=u.action.filter.filterOptions)&&s[1]?P(P({},u.action.filter.filterOptions[1]),{},{numericValue:Number(F)}):null].filter(Boolean))}I(new Set([3]),z,"stringValue",e),I(new Set([6]),U,"stringValue",e),I(new Set([0]),K,"stringValue",e),I(new Set([7,8,9]),Z,"numericValue",e),(0,m.ZP)(e,g)||y(e)}},[g,L,F,N,B,z,U,K,Z]);var V=(0,r.useMemo)(function(){return{cachedProductFilterOneBarModules:g,cacheOneBarModules:R}},[g,R]);return(0,h.jsx)(j,{value:V,children:n})}},377678:function(e,t,n){n.d(t,{N$:function(){return W},wy:function(){return Y},VA:function(){return H}});var r,i=n(586659),o=n(492996),a=n(780879),l=n(119797),s=n(448744),u=n(761256);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==c(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e,t,n){return n&&(0,s.nZ)(n,t)?l.v.MODIFIED:(0,s.B1)(t,e)||n&&(0,s.Uv)(n,e)||(0,s.Uv)(t,e)?l.v.CLEARED:l.v.APPLIED};function h(e,t){(0,s.ph)(t);var n,r,i=e.find(function(e){return(null==e?void 0:e.id)===t.id}),o=null==i?void 0:i.rules,a=(null==i||null==(n=i.filter_options)||null==(r=n.find(function(e){return"selectedOptionId"in t&&e.id===t.selectedOptionId}))?void 0:r.rules)||o;if(!a)return[e,[]];var l=[],u=[];return e.forEach(function(e){void 0!==e.product_filter_type&&a.includes(e.product_filter_type)?l.push(e):u.push(e)}),[l,u]}function v(e,t){switch(t.type){case"RESET_FILTERS":var n=m(t.payload,2),r=n[0],i=n[1],o=r,a=(0,u.Z)(i)?(0,s.iP)(r):i;return Object.values(a).forEach(function(e){o=m(h(o,e),1)[0]}),{models:r,availableFilterModels:o,appliedFilters:i,filters:a,isFetching:!1,pendingDeletedSelections:{},status:y(r,i,a)};case"CLEAR_FILTERS":var c=e.models,d=(0,s.P5)(e.models);return Object.values(d).forEach(function(e){c=m(h(c,e),1)[0]}),p(p({},e),{},{filters:d,availableFilterModels:c,pendingDeletedSelections:{},status:y(e.models,e.appliedFilters,d)});case"UPDATE_FILTER":var g=t.payload,v=m(h(e.models,g),2),_=v[0],b=v[1],x=p(p({},e.filters),{},f({},g.id,g)),S=p({},e.pendingDeletedSelections);return _.forEach(function(e){if(e.id){var t=S[e.id];t&&(x[e.id]=t,delete S[e.id])}}),b.forEach(function(e){if(e.id){var t=x[e.id];t&&(S[e.id]=t,delete x[e.id])}}),(0,s.ph)(g,e.models.find(function(e){return e.id===g.id}))&&delete x[g.id],p(p({},e),{},{availableFilterModels:_,filters:x,pendingDeletedSelections:S,status:y(e.models,e.appliedFilters,x)});case"SUBMIT_FILTER":return p(p({},e),{},{pendingDeletedSelections:{},status:l.v.SUBMITTED});case"SUBMIT_FAILED":return p(p({},e),{},{status:l.v.FAILED});case"SUBMIT_COMPLETE":var P=e.filters;return p(p({},e),{},{appliedFilters:P,pendingDeletedSelections:{},status:y(e.models,P)});case"LOADING":return p(p({},e),{},{isFetching:!0});case"LOADING_COMPLETED_OR_FAILED":return p(p({},e),{},{isFetching:!1});default:return e}}var _=n(769430),b=n(753090),x=n(838880),S=n(234681),P=n(272191),w=n(503246);function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||O(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){if(e){if("string"==typeof e)return j(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=new Set([1,0,3,6,7,8,9]),A=function(e,t,n){var r=null==t?void 0:t.find(function(e){return e.product_filter_type===n});if(r){var i=e.findIndex(function(e){return e.product_filter_type===n});e[i]?e[i]=r:e.push(r)}},T=function(e,t,n){var r=null==t?void 0:t.find(function(e){return e.product_filter_type===n});if(!r)return e;var i=e.findIndex(function(e){return e.product_filter_type===n});return e[i]?e[i]=r:e.push(r),e},k=n(755222),C=n(729434),D=n(886981),R=n(288910),L=n(77155),M=n(382718);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e){return function(e){if(Array.isArray(e))return Z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||z(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||z(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var U=function(){},K=(0,C.Z)("UnifiedFiltersContext"),V=K.Provider,H=K.getMaybe,G=function(e){var t,n,r,o,a,u,c,d,p,f,m,g,y=e.applyInitFilters,h=e.children,C=e.filterModels,D=e.filters,L=e.isFetching,F=e.refreshFiltersData,z=(0,R.n)().query,Z=(0,k.Z)(),U=(n=(t=I((0,i.useState)([]),2))[0],r=t[1],a=(o=I((0,i.useState)(null),2))[0],u=o[1],c=(0,P.Z)(),d=(0,x.Z)(),p=(0,_.Z)(),f=(0,b.Z)(),m=(0,S.Z)(),g=(0,i.useCallback)(function(e){var t=e.unifiedFilterModels,i=e.baseCacheKey,o=null==t?void 0:t.filter(function(e){var t=e.product_filter_type;return void 0!==t&&E.has(t)});if(o&&(null==o?void 0:o.length)!==0&&i){var l=i!==a,s=l?[]:n;(l||!c)&&A(s,o,1),(l||!d)&&A(s,o,0),(l||!p)&&A(s,o,3),(l||!f)&&A(s,o,6),(l||!m)&&[7,8,9].forEach(function(e){A(s,o,e)}),(0,w.ZP)(s,n)||(r(s),u(i))}},[n,p,f,d,m,c,a]),{getCachedFilters:(0,i.useCallback)(function(e){if(!e||(null==e?void 0:e.length)===0)return[];var t=function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||O(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return c&&(t=T(t,n,1)),d&&(t=T(t,n,0)),p&&(t=T(t,n,3)),f&&(t=T(t,n,6)),m&&[7,8,9].forEach(function(e){t=T(t,n,e)}),t},[n,p,f,d,m,c]),cacheUnifiedFilterModelsWithProductFilters:g}),K=U.getCachedFilters,H=U.cacheUnifiedFilterModelsWithProductFilters,G=(null==y?void 0:y(C))||D||{},W=B((0,i.useReducer)(v,{models:C,availableFilterModels:C,appliedFilters:G,filters:G,pendingDeletedSelections:{},isFetching:L,status:(0,s.B1)(G,C)||(0,s.Uv)(G,C)?l.v.CLEARED:l.v.APPLIED}),2),q=W[0],Y=W[1],X=B((0,i.useState)(C),2),$=X[0],Q=X[1];(0,i.useEffect)(function(){L&&Y({type:"LOADING"})},[L]),(0,i.useEffect)(function(){if(!L&&(!q.isFetching||0!==C.length)){if(!(0,s.a$)($,C))return void Y({type:"LOADING_COMPLETED_OR_FAILED"});var e=C;Z||(e=K(N(C)),H({unifiedFilterModels:N(C),baseCacheKey:z})),Y({type:"RESET_FILTERS",payload:[e,(null==y?void 0:y(e))||{}]}),Q(C)}},[y,C,$,L,q.isFetching,K,H,z,Z]);var J=(0,i.useMemo)(function(){return{filterState:q,dispatch:Y,refreshFiltersData:F}},[q,F]);return(0,M.jsx)(V,{value:J,children:h})},W=function(e){var t=e.bookmark,n=void 0===t?"":t,r=e.children,i=e.generateInitFilterCb,o=(0,k.Z)(),l=(0,D.Z)(!o&&n?{name:"ApiResource",options:{url:"/v3/filters/",data:{bookmark_string:n}}}:null),u=l.data,c=l.refresh,d=l.isLoaded,p=(0,a.l)().cachedProductFilterOneBarModules.map(s.tx).filter(Boolean);return(0,M.jsx)(G,{applyInitFilters:i,filterModels:(o?p:void 0===u?null:u)||[],isFetching:o?0===p.length:!d||!n,refreshFiltersData:c,children:r})},q=(void 0!==r||(r=n(763859)).hash&&"92b841173868ce353dd00b5fce287546"!==r.hash&&console.error("The definition of 'UnifiedFiltersContext_oneBarModules' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),Y=function(e){var t,n,r,a,s,u,c,d=e.children,p=e.oneBarModulesKey,f=(0,L.Z)(),m=f.data,g=f.isFetching,y=f.isLoaded,h=(m||{}).oneBarModules,v=(0,o.useFragment)(q,p),_=(0,i.useMemo)(function(){return{dispatch:function(){},filterState:{models:[],availableFilterModels:[],appliedFilters:{},filters:{},isFetching:g,pendingDeletedSelections:{},status:l.v.CLEARED},refreshFiltersData:U}},[g]),b=null==(s=v?[v]:null==h?void 0:h.map(function(e){var t,n;return e&&{action:e.action?{filters:e.action.filters?e.action.filters.map(function(e){var t,n,r,i;return{isSelected:null!=(t=e.is_selected)?t:null,id:null!=(n=e.id)?n:null,display:e.display?{displayText:null!=(r=e.display.display_text)?r:null}:null,action:e.action?{feedUrl:null!=(i=e.action.feed_url)?i:null}:null}}):null}:null,id:null!=(t=e.id)?t:null,moduleType:null!=(n=e.module_type)?n:null}}))?void 0:s.find(function(e){return 0===e.moduleType}),x=null==b||null==(u=b.action)?void 0:u.filters;if(!b||!x)return(0,M.jsx)(V,{value:_,children:d});var S=b.id||"",P=(n={},r=S,a={id:S,selectedOptionId:(null==(c=x.find(function(e,t){return(null==e?void 0:e.isSelected)&&0!==t}))?void 0:c.id)||"",type:"single",lastChangedLocation:1},(t=function(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),(r="symbol"==F(t)?t:t+"")in n)?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n);return(0,M.jsx)(G,{filterModels:[{filter_component_type:2,filter_options:x.map(function(e,t){var n,r;return{label:(null==e||null==(n=e.display)?void 0:n.displayText)||"",id:(null==e?void 0:e.id)||"",string_value:(null==e||null==(r=e.action)?void 0:r.feedUrl)||"",is_selected:"boolean"==typeof(null==e?void 0:e.isSelected)?e.isSelected:0===t}}),id:S,title:"",product_filter_type:4}],filters:P,isFetching:!y,refreshFiltersData:U,children:d})}},119797:function(e,t,n){n.d(t,{$:function(){return r},v:function(){return i}});var r=50,i={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},239988:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(780879),i=n(377678),o=n(448744),a=n(949044),l=n(755522),s=n(510928),u=n(288910);function c(){var e=(0,u.n)(),t=e.brands,n=e.colors,c=e.domains,d=e.onSale,p=e.priceMax,f=e.priceMin,m=(0,i.VA)(),g=(0,r.l)().cachedProductFilterOneBarModules,y=Number((0,s.Z)().filter_location);if(1===y){var h=(m||{}).filterState;return h?(0,o.Ax)(h.appliedFilters,h.models):null}if(0===y){var v=(0,a.Z)(l.Z,!0)(g.map(function(e){var t;return null==(t=e.action)?void 0:t.filter}).filter(Boolean));return(0,o.vJ)({brandsParam:t,colorsParam:n,domainsParam:c,onSaleParam:d,priceMaxParam:p,priceMinParam:f,unifiedFilterModels:v})}return null}},769430:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(963489),i=n(378888);function o(){return!!(0,i.mB)((0,r.TH)().search).brands}},753090:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(963489),i=n(675973),o=n(378888);function a(){var e=(0,i.Z)().checkExperiment,t=(0,r.TH)();return!!(0,o.mB)(t.search).colors&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},755222:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(675973);function i(){return(0,(0,r.Z)().checkExperiment)("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},838880:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(963489),i=n(378888);function o(){return!!(0,i.mB)((0,r.TH)().search).domains}},234681:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(963489),i=n(378888);function o(){var e=(0,r.TH)();return!!(0,i.mB)(e.search).on_sale}},272191:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(963489),i=n(378888);function o(){var e=(0,r.TH)(),t=(0,i.mB)(e.search),n=t.price_max,o=t.price_min;return!!(null!=o?o:n)}},448744:function(e,t,n){n.d(t,{Ak:function(){return D},Ax:function(){return A},B1:function(){return x},LG:function(){return C},P5:function(){return w},UP:function(){return R},Uv:function(){return S},a$:function(){return _},eF:function(){return L},i7:function(){return O},iP:function(){return P},nZ:function(){return v},ph:function(){return b},rc:function(){return E},tx:function(){return k},vJ:function(){return j}});var r=n(119797),i=n(503246),o=n(478135);function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||u(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){var r;return(r=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==m(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var g=function(e){return e.map(function(e){var t=e.filter_component_type,n=e.filter_options,r=e.title;return{filter_component_type:t,filter_options:null==n?void 0:n.map(function(e){return{id:e.id,label:e.label,count:e.count,image_url:e.image_url,is_verified:e.is_verified,numeric_value:e.numeric_value,string_value:e.string_value,unit:e.unit}}),title:r}})},y=function(e,t){if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,i.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},h=function(e){return!e||!Object.keys(e).length},v=function(e,t){if(h(e)&&h(t))return!1;if(h(e)||h(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(var n in e)if(y(e[n],null==t?void 0:t[n]))return!0;return!1},_=function(e,t){return!(0,i.ZP)(g(e),g(t))},b=function(e,t){if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type){var n,r;return!!(null!=t&&t.filter_options)&&e.min===(null==(n=t.filter_options[0])?void 0:n.numeric_value)&&e.max===(null==(r=t.filter_options[2])?void 0:r.numeric_value)}throw Error("Filter type specific return must be specified")},x=function(e,t){try{for(var n in e){var r=function(n){var r=e[n],i=t.find(function(e){return e.id===(null==r?void 0:r.id)});if(r&&!b(r,i))return{v:!1}}(n);if("object"===m(r))return r.v}return!0}catch(e){return!0}},S=function(e,t){if(!t||0===t.length)return!1;var n,r=t[0];if(!r)return!1;switch(null==r?void 0:r.filter_component_type){case 2:var i=null==(n=r.filter_options)?void 0:n[0];for(var o in e){var a=e[o];if(!a)break;if("selectedOptionId"in a&&a.selectedOptionId===(null==i?void 0:i.id))return!0}return!1;case 1:for(var l in e){var s=e[l];if(!s)break;if(s.id===r.id&&"selectedOptionIds"in s&&0===s.selectedOptionIds.size)return!0}return!1;default:return!1}},P=function(e){return e.map(function(e){var t,n,r;switch(e.filter_component_type){case 2:var i=null==(t=e.filter_options)||null==(n=t.find(function(e){return e.is_selected}))?void 0:n.id;return i?{selectedOptionId:i,id:e.id,type:"single"}:null;case 1:var o=null==(r=e.filter_options)?void 0:r.filter(function(e){return e.is_selected}).map(function(e){return e.id});return o&&o.length>0?{selectedOptionIds:new Set(o),id:e.id,type:"multi"}:null;default:return null}}).reduce(function(e,t){return t?p(p({},e),{},f({},t.id,t)):e},{})},w=function(e){if(!e||0===e.length)return{};var t,n,r=e[0];switch(null==r?void 0:r.filter_component_type){case 2:var i=null==(t=r.filter_options)||null==(n=t[0])?void 0:n.id;return i&&"string"==typeof r.id?f({},r.id,{selectedOptionId:i,lastChangedLocation:1,id:r.id,type:"single"}):{};case 1:return"string"==typeof r.id?f({},r.id,{selectedOptionIds:new Set,lastChangedLocation:1,id:r.id,type:"multi"}):{};default:return{}}},I=function(e){return e.map(function(e){var t=e.filter_id,n=e.filter_options,r=e.product_filter_type,i=t;return"number"==typeof r&&(i+="_".concat(r)),n.length>0&&(i+=":",n.forEach(function(e,t){var r=e.filter_option_id,o=e.numeric_value,a=e.string_value,l=e.unit;i+="".concat(r),"number"==typeof o&&(i+="_".concat(o)),"string"==typeof a&&(i+="_".concat(a)),"string"==typeof l&&(i+="_".concat(l)),t<n.length-1&&(i+=",")})),i}).join("|")},O=function(e){var t,n=e.brands,r=e.colors,i=e.domains,a=e.onSale,u=e.priceMax,c=e.priceMin,d=e.scope,p=e.unifiedFilterModels,f={},m=s(p);try{for(m.s();!(t=m.n()).done;)!function(){var e=t.value,s=e.filter_options,p=e.id,m=e.product_filter_type;if(p&&null!=s&&s.length){if(1===m&&("number"==typeof c||"number"==typeof u)){var g,y,h,v,_=l(s,4),b=_[0],x=_[1],S=_[2],P=_[3],w=null!=(g=null!=(y=null!=c?c:null==S?void 0:S.numeric_value)?y:null==b?void 0:b.numeric_value)?g:0,I=null!=(h=null!=(v=null!=u?u:null==P?void 0:P.numeric_value)?v:null==x?void 0:x.numeric_value)?h:100;f[p]={min:w,max:I,id:p,type:"range",lastChangedLocation:1}}if(0===m&&i&&i.length>0){var O=i.map(function(e){var t=s.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);O.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(O),type:"multi"})}if(3===m&&n&&n.length>0){var j=n.map(function(e){var t=s.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);j.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(j),type:"multi"})}if(6===m&&r&&r.length>0){var E=r.map(function(e){var t=s.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);E.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(E),type:"multi"})}if(4===m&&d){var A=(0,o.gi)(d),T=s.find(function(e){return e.search_type===A});null!=T&&T.id&&(f[p]={id:p,lastChangedLocation:1,selectedOptionId:T.id,type:"single"})}if("number"==typeof m&&new Set([7,8,9]).has(m)&&a){var k,C=null==(k=s[0])?void 0:k.id;C&&(f[p]={id:p,lastChangedLocation:1,selectedOptionId:C,type:"single"})}}}()}catch(e){m.e(e)}finally{m.f()}return f},j=function(e){var t,n,r,i,o=e.brandsParam,a=e.colorsParam,l=e.domainsParam,u=e.onSaleParam,c=e.priceMaxParam,d=e.priceMinParam,p=e.unifiedFilterModels,f=[],m=Number(d),g=Number(c),y=Number.isNaN(m)?void 0:m,h=Number.isNaN(g)?void 0:g,v=null!=(t=null==l?void 0:l.split(",").filter(Boolean))?t:[],_=null!=(n=null==o?void 0:o.split(",").filter(Boolean))?n:[],b=null!=(r=null==a?void 0:a.split(",").filter(Boolean))?r:[],x=s(p);try{for(x.s();!(i=x.n()).done;)!function(){var e=i.value,t=e.filter_options,n=e.id,r=e.product_filter_type;if(n&&null!=t&&t.length){if(1===r&&"number"==typeof y&&"number"==typeof h){var o={filter_id:n,filter_options:t.slice(0,2).filter(function(e){return void 0!==e.id}).map(function(e,t){return{filter_option_id:e.id,numeric_value:0===t?y:h,unit:e.unit||"USD"}}),location:0,product_filter_type:r};f.push(o)}if(0===r&&v&&v.length>0){var a=v.map(function(e){var n=t.find(function(t){return t.string_value===e});return n?n.id:null}).filter(Boolean);if(a.length>0){var l={filter_id:n,filter_options:a.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};f.push(l)}}if(3===r&&_&&_.length>0){var s=_.map(function(e){var n=t.find(function(t){return t.string_value===e});return n?n.id:null}).filter(Boolean);if(s.length>0){var c={filter_id:n,filter_options:s.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};f.push(c)}}if(6===r&&b&&b.length>0){var d=b.map(function(e){var n=t.find(function(t){var n;return(null==(n=t.string_value)?void 0:n.toLowerCase())===e.toLowerCase()});return n?n.id:null}).filter(Boolean);if(d.length>0){var p={filter_id:n,filter_options:d.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};f.push(p)}}if(7===r&&u){var m,g=null==(m=t[0])?void 0:m.id;if(g){var x={filter_id:n,filter_options:[{filter_option_id:g,numeric_value:Number(u)}],location:0,product_filter_type:r};f.push(x)}}}}()}catch(e){x.e(e)}finally{x.f()}return 0===f.length?null:I(f)},E=function(e){var t,n=e.filterMap,r=e.isInWebHundredPercentProductLoadExp,i=e.models,a=null,l=null,s=!1,u=null,c=null,d=null,p=null,f=null;for(var m in n)!function(e){var t=n[e];if(t){var m=i.find(function(e){return e.id===t.id});if(m)if("range"===t.type&&1===m.product_filter_type)d=t.min,c=t.max;else if("multi"===t.type&&0===m.product_filter_type){var g,y,h,v=null==(h=m.filter_options)?void 0:h.filter(function(e){return t.selectedOptionIds.has(e.id||"")});u=null==v?void 0:v.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===t.type&&3===m.product_filter_type){var _,b=null==(_=m.filter_options)?void 0:_.filter(function(e){return t.selectedOptionIds.has(e.id||"")});a=null==b?void 0:b.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===t.type&&6===m.product_filter_type){var x,S=null==(x=m.filter_options)?void 0:x.filter(function(e){return t.selectedOptionIds.has(e.id||"")});l=null==S?void 0:S.map(function(e){return e.string_value}).filter(Boolean)}else if("single"===t.type&&4===m.product_filter_type){var P,w=null==(P=m.filter_options)?void 0:P.find(function(e){return t.selectedOptionId===e.id}),I=w&&void 0!==w.search_type?(0,o.zh)(w.search_type):o.lw.PINS;f=I,r&&(f=I===o.lw.PINS_BUYABLE?o.lw.PINS:I,s=I===o.lw.PINS_BUYABLE)}else"single"===t.type&&7===m.product_filter_type&&(p=null==(g=m.filter_options)||null==(y=g[0])?void 0:y.numeric_value)}}(m);var g=i.find(function(e){return 4===e.product_filter_type}),y=null==g||null==(t=g.filter_options)?void 0:t.find(function(e){return e.is_selected});return null===f&&"number"==typeof(null==y?void 0:y.search_type)&&(f=(0,o.zh)(y.search_type)),{brands:a,colors:l,commerce_only:s,domains:u,max:c,min:d,on_sale:p,scope:f}},A=function(e,t){var n=[];return(Object.entries(e).forEach(function(e){var r=l(e,2),i=r[0],o=r[1],a=t.find(function(e){return e.id===o.id});if(a&&4!==a.product_filter_type&&"number"==typeof a.product_filter_type&&a.filter_options){var s=[];if("range"===o.type){var u=l(a.filter_options,2),c=u[0],d=u[1];if(!(null!=c&&c.id)||!(null!=d&&d.id))return;s=[{filter_option_id:c.id,numeric_value:o.min,unit:c.unit},{filter_option_id:d.id,numeric_value:o.max,unit:d.unit}]}if("single"===o.type){var p=a.filter_options.find(function(e){return e.id===o.selectedOptionId});if(!(null!=p&&p.id))return;s=[{filter_option_id:p.id,numeric_value:p.numeric_value,string_value:p.string_value}]}if("multi"===o.type){var f=a.filter_options.filter(function(e){return e.id&&o.selectedOptionIds.has(e.id)});if(0===f.length)return;s=f.filter(function(e){return void 0!==e.id}).map(function(e){return{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}})}n.push({filter_id:i,filter_options:s,location:o.lastChangedLocation,product_filter_type:a.product_filter_type})}}),n&&0!==n.length)?I(n):null},T=function(e){var t=e.map(function(e){if(!e)return null;var t=e.auxData,n=e.id,r=e.imageUrl,i=e.isVerified,o=e.label,l=e.numericValue,s=e.searchType,u=e.stringValue,c=e.unit,d=e.rules;return null===r||null===r||null===l||null===i||null===u||null===c?null:p(p(p({id:n||"",label:o||"",count:0,image_url:r,is_verified:i,numeric_value:l},d?{rules:a(d)}:{}),"number"==typeof s?{search_type:s}:{}),{},{string_value:u,unit:c},"string"==typeof(null==t?void 0:t.moduleId)?{aux_data:{module_id:t.moduleId}}:{})}).filter(Boolean);return t.length>0?t:null},k=function(e){var t=e.action||{},n=t.filter,r=t.title,i=(n||{}).title,o=r||i;if(!n||!o)return null;var l=n.filterComponentType,s=n.productFilterType,u=n.id,c=(n.filterOptions||[]).filter(Boolean);if(void 0===l||void 0===c||0===c.length||null==s||null==u)return null;var d=T(c);return d?{filter_component_type:l,filter_options:a(d),id:u||"",product_filter_type:s,title:o}:null};function C(e,t,n){var i,o,a,s=l(n,4),u=s[0],c=s[1],d=s[2],p=s[3],f=(null!=(i=null!=p?p:u)?i:{}).numeric_value,m=void 0===f?0:f,g=(null!=(o=null!=d?d:c)?o:{}).numeric_value,y=void 0===g?m+r.$:g,h=(null!=u?u:{}).unit,v=(null==(a=e.filters[t])?void 0:a.type)==="range"?e.filters[t]:{min:m,max:y,id:t,type:"range",lastChangedLocation:1};return{defaultMax:y,defaultMin:m,unit:void 0===h?"USD":h,range:v}}function D(e){return"multi"!==e.type?e:p(p({},e),{},{selectedOptionIds:new Set})}function R(e,t){var n=[];return Object.entries(t).forEach(function(t){var r=l(t,2),i=r[0],o=r[1],s=e.find(function(e){return(null==e?void 0:e.id)===i});if(s){var u,c=null==(u=s.aux_data)?void 0:u.module_id;c&&n.push(c);var d=("multi"===o.type?Array.from(o.selectedOptionIds):"single"===o.type?[o.selectedOptionId]:[]).map(function(e){var t,n,r=null==(t=s.filter_options)?void 0:t.find(function(t){return t.id===e});return(null==r||null==(n=r.aux_data)?void 0:n.module_id)||""}).filter(Boolean);n.push.apply(n,a(d))}}),n}function L(e,t){var n=[];return Object.keys(t).forEach(function(t){var r=e.find(function(e){return(null==e?void 0:e.id)===t});if(r){var i=r.product_filter_type;i&&n.push(i)}}),n}},382028:function(e,t,n){n.d(t,{B:function(){return s},Z:function(){return u}});var r=n(586659),i=n(20256),o=n(19585),a=n(74229),l=n(382718),s="media-viewer-full";function u(e){var t=e.children,n=e.onOutsideClick,u=(0,o.ZP)();return(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(i.xu,{alignItems:"center","aria-label":u._('Media Viewer', 'closeup.mediaViewer.label', 'Label of Media Viewer modal'),"aria-modal":"true","data-test-id":s,display:"flex",height:"100vh",justifyContent:"center",left:!0,position:"fixed",role:"dialog",top:!0,width:"100vw",zIndex:a.k,children:[t,(0,l.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&n()},onKeyDown:function(e){"Escape"===e.key&&n()},role:"presentation",style:{backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(4px)",position:"absolute",bottom:0,left:0,right:0,top:0,marginBottom:"-1px"}})]})})}},592821:function(e,t,n){n.d(t,{BI:function(){return L},BO:function(){return S},DO:function(){return j},Gd:function(){return h},J:function(){return b},LV:function(){return _},MB:function(){return R},Re:function(){return P},Xw:function(){return m},_B:function(){return f},aW:function(){return g},ff:function(){return p},ho:function(){return T},ko:function(){return D},le:function(){return y},ne:function(){return O},pl:function(){return w},ql:function(){return x},rt:function(){return I},tV:function(){return A},tc:function(){return k},te:function(){return d},tm:function(){return E},yc:function(){return C},zw:function(){return v}});var r=n(20256),i=n(382028),o=n(461951),a=n(664897),l=n(601686);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},p=function(e){return"".concat(e.substring(0,33)).concat(e.length>33?"...":"")},f=375,m=4,g=new Set(["related_modules_header","related_products_feed_header"]),y=function(e){var t=e.verticalNavWidth;return{BREAKPOINT:1056+t,BACKBUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+t,SM_BREAKPOINT:680+t,EXP_SM_BREAKPOINT:814+t}},h=16,v=64,_=290,b=100,x=480,S=new r.Ry(5);function P(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(0,l.x4)(),s=o.peekCloseupEnabled,u=o.viewportSize,d=(0,a.Z)();if(!s)return{maxWidth:void 0,maxHeight:void 0,fiftyPercentWidth:void 0,fiftyPercentHeight:void 0};var p={sm:96,md:96,lg:244}[u],f={sm:v,md:v,lg:v}[u],m="100vw - ".concat(2*p,"px - ").concat(r,"px"),g="100vh - ".concat(80,"px - ").concat(f,"px - ").concat(i,"px"),y={maxWidth:"calc(".concat(m,")"),maxHeight:"calc(".concat(g,")"),fiftyPercentWidth:"sm"===u?"calc(".concat(m,")"):"calc((".concat(m,")/2)"),fiftyPercentHeight:"calc((".concat(g,")/2)")};if(d)return y;var h=(null==(e=window)?void 0:e.innerWidth)-2*p-r,_=(null==(t=window)?void 0:t.innerHeight)-80-f-i;return c(c({},y),{},{numericValues:{maxWidth:h,maxHeight:(null==(n=window)?void 0:n.innerHeight)-80-f-i,fiftyPercentWidth:"sm"===u?h:h/2,fiftyPercentHeight:_/2}})}function w(e){var t=e.objectFit,n=e.variant,r=(0,l.x4)(),o=r.peekCloseupEnabled,a=r.viewportSize,s=P(),u=s.maxHeight,c=s.maxWidth,d=s.fiftyPercentHeight,p=s.fiftyPercentWidth;if("media-viewer"===n)return{};var f="video:not([data-test-id=".concat(i.B,"] video)");return{styleOverrides:o?"\n      ".concat(f," {\n        max-height: ").concat("sm"===a?d:u,";\n        max-width: ").concat(p,";\n      }\n    "):"",objectFit:o?"contain":t,maxHeight:u,maxWidth:c,fiftyPercentHeight:d}}function I(e){var t=e.peekCloseupEnabled,n=e.viewportSize,r=e.surface;return!!t&&"lg"===n&&"ShoppingGridSmallCarousel"===r}var O={columnSpan:{sm:2,md:2,_lg1:3,lg:3,xl:5},type:"closeup_module",virtualize:!1},j={md:4,lg:4,lg1:4,xl:5},E={columnSpan:{sm:2,md:4,lg1:4,lg:5,xl:6},type:"closeup_module",virtualize:!1},A={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:4},type:"shopping_module",virtualize:!1},T=1,k="".concat(T,"px solid ").concat(o.zsO),C="#FFFFFF",D={boxShadow:"unset",borderRadius:16},R={columnSpan:{sm:2,md:2,_lg1:2,lg:2,xl:2},type:"inclusive_filters_module",virtualize:!1},L={closeupWrapperStyle:{cursor:"zoom-out",display:"flex",width:"100%"},storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}}},660341:function(e,t,n){n.d(t,{Z:function(){return o},t:function(){return i}});var r=n(940280),i=[r.i.GUIDED_SEARCH_LANDING,r.i.GUIDED_SEARCH_ENTRY],o=296},899678:function(e,t,n){n.d(t,{N:function(){return a},Z:function(){return o}});var r=n(20256),i=n(382718);function o(e){var t=e.children,n=e.fullWidth,o=e.overrideDataTestId;return(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:n?"100%":void 0}},"data-test-id":o||"pointer-events-wrapper",children:t})}function a(e){var t=e.children;return e.enabled?(0,i.jsx)(o,{children:t}):t}},953939:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(20256),i=n(382718),o={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},a=function(e,t,n){switch(n){case"MOBILE":r={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":r={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:r={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}var r,i=r[e];return i.border="1px solid #FFFFFF",i.transition="all 150ms ease-out",i};function l(e){var t,n=e.fanOut,l=e.card,s=e.index,u=e.size,c=e.rounding,d=o[u],p=l.height,f=void 0===p?d.HEIGHT_PX:p,m=l.url,g=l.width,y=void 0===g?d.WIDTH_PX:g,h=l.colorRGB,v=l.opacity;return m?t=(0,i.jsx)(r.Ee,{alt:m,fit:"cover",naturalHeight:f,naturalWidth:y,src:m}):h&&v&&(t=(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(".concat(h.join(", "),", ").concat(v,")")}},height:d.HEIGHT_PX,width:d.WIDTH_PX})),(0,i.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:a(s,n,u)},position:"absolute",rounding:null!=c?c:5,children:(0,i.jsx)(r.zd,{height:d.HEIGHT_PX,rounding:5,wash:!0,width:d.WIDTH_PX,children:t})})}},512712:function(e,t,n){function r(e){return[0,24,21,26].includes(e)}function i(e){var t=e.articleType,n=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===t?"/today/shop/".concat(r,"/").concat(n,"/"):"/discover/article/".concat(r,"/").concat(n,"/")}n.d(t,{x:function(){return i},y:function(){return r}})},582569:function(e,t,n){n.d(t,{P:function(){return O},Z:function(){return I}}),n(492996);var r,i,o,a,l=n(28427),s=(void 0!==r||(r=n(402731)).hash&&"a3cbf6d55cf89d97d6e04c32195968d9"!==r.hash&&console.error("The definition of 'usePinDefaultCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){var r;return(r=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==u(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g=(void 0!==i||(i=n(867987)).hash&&"b49953855cdc69f6ee2c8d4925149d23"!==i.hash&&console.error("The definition of 'useRichPinProductMetadataCarouselSlots_richPinProductMetadata' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),y=n(221020),h=n(603316);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _=(void 0!==o||(o=n(477800)).hash&&"6588018e2880f2695fc6c4ba45aab606"!==o.hash&&console.error("The definition of 'usePinProductCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),b=!1;function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=(void 0!==a||(a=n(985034)).hash&&"461a57fcc8f7958e3742c217e4cc45a2"!==a.hash&&console.error("The definition of 'usePinCarouselData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function I(e){var t,n,r,i=(0,l.Z)(w,e),o=null!=(r=(0,l.Z)(s,i))&&r.carouselData?{index:r.carouselData.index,carouselId:r.carouselData.entityId,carouselSlots:null!=(t=null==(n=r.carouselData.carouselSlots)?void 0:n.map(function(e){return{details:e.details,imageSignature:e.imageSignature,imageSizeMap:{"236x":e.image236x&&{height:e.image236x.height,url:e.image236x.url,width:e.image236x.width},"474x":e.image474x&&{height:e.image474x.height,url:e.image474x.url,width:e.image474x.width},"564x":e.image564x&&{height:e.image564x.height,url:e.image564x.url,width:e.image564x.width},"736x":e.image736x&&{height:e.image736x.height,url:e.image736x.url,width:e.image736x.width}},slotId:e.slotId,title:e.title}}))?t:[]}:null,a=function(e){var t,n,r,i,o,a,s,u,c=e.pinKey,m=e.index,x=(0,l.Z)(_,c),S=(null==(t=(null==x?void 0:x.richMetadata)||(null==x?void 0:x.richSummary))||null==(n=t.products)?void 0:n[0])||null,P=(null!=(r=null==x||null==(i=x.richMetadata)||null==(o=i.products)?void 0:o.length)?r:0)+(null!=(a=null==x||null==(s=x.richSummary)||null==(u=s.products)?void 0:u.length)?a:0);if(null!=c&&P>1&&!b){b=!0;var w=(0,y.o)(c);(0,h.nP)("autoLegacyAdapter.overfetch.usePinProductCarouselData_pin",{sampleRate:.1,tags:{totalLength:P,isGraphQL:"GraphQL"===w}})}var I=function(e){var t=(0,l.Z)(g,e);if(!t)return[];var n={};return[[t.image236x,"236x"],[t.image474x,"474x"],[t.image564x,"564x"],[t.image736x,"736x"]].forEach(function(e){var t=f(e,2),r=t[0],i=t[1];(Array.isArray(r)?r:[]).forEach(function(e){var t=e.canonicalImage,r=e.imageSignature;r&&t&&(n=d(d({},n),{},p({},r,d(d({},n[r]),{},p({},i,{height:t.height,url:t.url,width:t.width})))))})}),Object.entries(n).map(function(e){var t=f(e,2);return{imageSignature:t[0],imageSizeMap:t[1]}})}(S);return S&&I.length?{carouselId:S.productId,carouselSlots:[{imageSignature:null,imageSizeMap:{"236x":(null==x?void 0:x.image236x)&&{height:x.image236x.height,url:x.image236x.url,width:x.image236x.width},"474x":(null==x?void 0:x.image474x)&&{height:x.image474x.height,url:x.image474x.url,width:x.image474x.width},"564x":(null==x?void 0:x.image564x)&&{height:x.image564x.height,url:x.image564x.url,width:x.image564x.width},"736x":(null==x?void 0:x.image736x)&&{height:x.image736x.height,url:x.image736x.url,width:x.image736x.width}}}].concat(function(e){if(Array.isArray(e))return v(e)}(I)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(I)||function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,void 0):void 0}}(I)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),index:m}:null}({pinKey:i,index:null==o?void 0:o.index});return a?P(P({},a),{},{carouselSlots:a.carouselSlots.map(function(e){return P(P({},e),{},{details:null,slotId:null,title:null})})}):o}function O(e){return(0,e.children)(I(e.pinKey))}},140725:function(e,t,n){n.d(t,{Q:function(){return d},Z:function(){return p}});var r=n(586659),i=n(521009),o=n(346955),a=n(991384),l=n(15667);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){var n=(0,o.A$)().setViewContextData,s=(0,l.B)().requestIdentifier,u=(0,i.Z)(),d=(0,o.SU)().viewData;(0,r.useEffect)(function(){if(e){var t;n({viewType:null!=(t=e.view_type)?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.Z)(d,e.view_data):d,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),u(c(c({},e),{},{event_type:13,request_identifier:s}))}},[t])}function p(e){var t=e.children;return d(e.log),t||null}},273094:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(586659),i=n(20256),o=n(547585),a=n(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e.carouselData,n=e.contextLogData,l=e.height,s=e.id,d=e.index,p=e.slideWidth,f=e.view,m=e.impressionType,g=e.viewParameter,y=c((0,r.useState)(null),2),h=y[0],v=y[1],_=c((0,r.useState)(!1),2),b=_[0],x=_[1];return((0,r.useEffect)(function(){h!==d?(v(d),x(!1)):x(!0)},[d,h]),t)?(0,a.jsx)(o.JE,{carouselData:u(u({},t),{},{type:"canonical"}),contextLogData:n,impressionType:null!=m?m:"Pin",isPaused:!b,loggingId:s,slotIndex:d,viewParameter:g,viewType:f,children:function(e){var t=e.impressionTrackerRef;return(0,a.jsx)(i.xu,{ref:t,"data-test-id":"carousel-impression-ref-".concat(s,"-").concat(d),height:l,overflow:"hidden",position:"absolute",width:p})}},"carousel-impression-key-".concat(d)):null}},947543:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(675973);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){var t,n,a,l,s,u=(a=(n={experimentsClient:(0,r.Z)(),skipActivation:null!=(t=null==e?void 0:e.skipActivation)&&t}).experimentsClient,l=n.skipActivation,(s=(0,a.checkExperiment)("web_masonry_v2",{dangerouslySkipActivation:l})).group?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({expName:"web_masonry_v2"},s):{expName:"",anyEnabled:!1,group:""}),c=u.expName,d=u.anyEnabled,p=u.group;return{expName:c,anyEnabled:d,group:p,isMeasureAllEnabled:"enabled_measure_all"===p||"enabled_measure_all_impression_fix"===p,isImpressionFixEnabled:"control_impression_fix"===p||"enabled_impression_fix"===p||"enabled_measure_all_impression_fix"===p}}},54038:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){return e.reduce(function(e,n){var r="function"==typeof t?t(n):n[t];return r in e||(e[r]=[]),e[r].push(n),e},{})}},906553:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(19585),i=n(473728);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var s=function(e,t){var n=t||0,r=Math.pow(10,n),i=+(n?e*r:e).toFixed(8),o=Math.floor(i),a=i-o,l=a>.49999999&&a<.50000001?o%2==0?o:o+1:Math.round(i);return n?l/r:l},u=function(e){var t=e.maximumFractionDigits,n=e.minimumFractionDigits,r=e.style,i=e.currency,o={maximumFractionDigits:t,minimumFractionDigits:n};return r?l(l({},o),{},{style:r},"currency"===r?{currency:i,currencyDisplay:"symbol"}:{}):o},c=function(e){try{0..toLocaleString([e])}catch(e){return!1}return!0},d=function(e,t){if(t){var n=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions(),r=n.minimumFractionDigits,i=n.maximumFractionDigits;if(void 0!==r&&void 0!==i)return{minimumFractionDigits:r,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function p(){var e=(0,r.ZP)();return function(t,n,r){var o=0,a=0,l=r&&r.style||void 0,p=r&&r.shortform||!1,f=r&&r.uplimit||void 0,m=r&&r.currency||void 0,g=!!f&&n>=f,y=f&&g?f:n;if("currency"===l){var h=d(t,m),v=h.minimumFractionDigits,_=h.maximumFractionDigits;o=void 0===r||void 0===r.maximum_fraction_digits?_:r.maximum_fraction_digits,a=void 0===r||void 0===r.minimum_fraction_digits?v:r.minimum_fraction_digits}else o=void 0===r||void 0===r.maximum_fraction_digits?0:r.maximum_fraction_digits,a=void 0===r||void 0===r.minimum_fraction_digits?0:r.minimum_fraction_digits;if(p&&y>999&&(o=void 0===r||void 0===r.shortform_maximum_fraction_digits?2:r.shortform_maximum_fraction_digits,a=0),o<a)return String(y);var b=y,x="",S=[{"100m":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],P=[{b:{value:1e9,localeKey:e._('b', 'Used in number formatting to abbreviate large values in billions.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('m', 'Used in number formatting to abbreviate large values in millions.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Used in number formatting to abbreviate large values in thousands.', 'Abbreviation for one thousand.')}}],w=/^zh|ja|ko/.test(t);if(p&&y>999)for(var I=w?S:P,O=0;O<I.length;O+=1){var j=Object.keys(I[O])[0],E=I[O][j].value;if(y>=E){b=s(y/E*Math.pow(10,o))/Math.pow(10,o),x=I[O][j].localeKey;break}}if(null==b)return"";var A=b.toLocaleString([c(t)&&"ar-SA"!==t?t:"en-US"],u({maximumFractionDigits:o,minimumFractionDigits:a,currency:m,style:l}));return x&&x.length>0?(0,i.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:A,numberSuffix:x})+(g?"+":""):A+(g?"+":"")}}},351607:function(e,t,n){n.d(t,{ZP:function(){return I},Fw:function(){return O}});var r=n(586659),i=n(915493),o=n(657043),a=n(603316);function l(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function s(){var e;return e=regeneratorRuntime.mark(function e(t,n,r,l,s,u,c,d,p){var f,m,g,y,h,v,_,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m=(f=u||{}).appType,g=f.osType,h="",v="",!(["Pin","pinImpressions"].includes(t)&&n&&(l||d||p))){e.next=31;break}if((0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"start",appType:m,osType:g}}),e.prev=5,null!=(_=window.document.featurePolicy)&&_.allowsFeature("attribution-reporting")){e.next=9;break}return(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"skipped",message:"attribution-reporting is not enabled",appType:m,osType:g}}),e.abrupt("return");case 9:b={eventSourceEligible:!0,triggerEligible:!1},h=(0,i.Z)(r,[l,d,p],!1,s,c);try{v=new URL(window.location.href).hostname}catch(e){(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"hostname_parse_failed",href:window&&window.location&&window.location.href}})}if(!(v&&"www.pinterest.com"!==v)){e.next=18;break}document.createElement("img").setAttribute("attributionsrc",h),(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"international",appType:m,osType:g,hostname:v}}),e.next=23;break;case 18:return e.next=20,window.fetch(h,{keepalive:!0,attributionReporting:b});case 20:if((y=e.sent).ok){e.next=23;break}throw Error("server request failed.");case 23:(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"success",appType:m,osType:g}}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,o.Z)(e.t0,"name"),message:(0,o.Z)(e.t0,"message"),appType:m,osType:g,hostname:v,responseStatus:y&&y.status}});case 29:e.next=32;break;case 31:(0,a.nP)("webapp.arapi.view.funnel",{sampleRate:.1,tags:{status:"missing_param",appType:m,osType:g}});case 32:case"end":return e.stop()}},e,null,[[5,26]])}),(s=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)})}).apply(this,arguments)}var u=n(293565),c=n(980787),d=n(947543),p=n(816358),f=n(15667),m=n(647709),g=n(792171),y=n(370347),h=n(183152),v=["children"];function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t,n){var r;return(r=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==_(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Notification:{impressionType:"notificationDetailImpressions",idType:"newsIdStr",eventType:4111},NotificationFeed:{impressionType:"notificationFeedImpressions",idType:"newsIdStr",eventType:4110},EditorialBoard:{impressionType:"editorialBoardImpressions",idType:"boardIdStr",eventType:3700},VaseAnnotation:{impressionType:"vaseAnnotationImpressions",idType:"vaseAnnotationUrlStr",eventType:16444}},w=function(e){var t=e.events,n=e.startTime,r=e.endTime;return(null==t?void 0:t.filter(function(e){return e>=n&&e<=r}))||[]};function I(e){var t=e.carouselData,n=e.closeupImpressionType,i=e.closeupNavigationType,o=e.componentType,l=e.contextLogData,v=e.clientTrackingParams,_=e.duploShouldTrackPinEvents,b=e.elementType,I=e.impressionAuxFields,O=e.inImpressionExp,j=e.impressionType,E=e.impressionsFramework,A=e.isPaused,T=e.loggingId,k=e.objectIdStr,C=e.slotIndex,D=e.trackCarousel,R=e.viewData,L=e.viewParameter,M=e.viewType,F=e.isPromoted,N=e.storyPinProductEventData,B=(0,c.u)().logContextEvent,z=(0,g.H)().logMrcVideoAdEventOnPlay,Z=(0,f.B)().userAgent.browserName,U=(0,y.Yg)().logStat,K=E||p.Z,V=(0,r.useRef)(null),H=(0,r.useRef)(function(e){});H.current=function(e){var r,a,c,d,p,f,m,g,y=P[j],h=y.idType,O=x(x((S(E={clientTrackingParams:v,endTime:e.endTime},h,T),S(E,"slotIndex",C),S(E,"time",e.startTime),S(E,"renderDuration",e.endTime-e.startTime),S(E,"type",n),E),I),{},{forcedExit:"removed"===e.forcedExit?0:void 0});if("Pin"===j){var E,A,K,V=[],H=e.visibleEvents||new Map,G=e.hiddenEvents||new Map;if((I&&I.isPromoted||F)&&[1,50,80,2,102].forEach(function(t){var n=w({events:H.get(t),startTime:e.startTime,endTime:e.endTime}),r=w({events:G.get(t),startTime:e.startTime,endTime:e.endTime});n.forEach(function(e){V.push({type:t,time:e||0,visible:!0})}),r.forEach(function(e){V.push({type:t,time:e||0,visible:!1})})}),O=x(x({},O),{},{pinCellWidth:e.pinCellWidth||0,pinCellHeight:e.pinCellHeight||0,windowWidth:null==(A=window)?void 0:A.innerWidth,windowHeight:null==(K=window)?void 0:K.innerHeight,visibleEvents:V.sort(function(e,t){return e.time-t.time})}),(0,u.i7)(Z)&&I&&I.isPromoted){var W=I.attributionSourceId,q=I.isPromoted,Y=I.link,X=I.campaignId,$=I.araAuxData,Q=I.advertiserId,J=I.domain,ee=I.adDestinationUrl;!function(e,t,n,r,i,o,a,l,u){s.apply(this,arguments)}(j,null!=q?q:null,null!=W?W:null,null!=Y?Y:null,null!=X?X:null,null!=$?$:null,null!=Q?Q:null,null!=J?J:null,null!=ee?ee:null)}}var et={component:o,object_id_str:k,view_type:M,view_data:R||{},view_parameter:L};if(D)t&&D&&B(x(x({event_type:7352,event_data:{pinCarouselSlotImpressions:[x(x({},O),"canonical"===t.type?{carouselDataId:Number(null!=(r=t.carouselId)?r:0),slotIndex:t.index,carouselSlotId:(null==(a=t.carouselSlots)?void 0:a[null!=(c=t.index)?c:0])&&Number(t.carouselSlots[null!=(d=t.index)?d:0].slotId)}:{carouselDataId:Number(null!=(p=t.id)?p:0),carouselSlotId:(null==(f=t.carousel_slots)?void 0:f[null!=(m=t.index)?m:0])&&Number(t.carousel_slots[null!=(g=t.index)?g:0].id),slotIndex:t.index})]}},et),{},{aux_data:x({},l)}));else{var en=x(x({clientTrackingParams:v,event_type:y.eventType},et),{},{element:b,event_data:x(S({},y.impressionType,"Story"===j?O:[O]),N?{storyPinProductEventData:N}:{}),aux_data:x({closeup_navigation_type:i},l)});B(en),z(en)}_&&U("log_pin_impression")};var G=(0,d.Z)({skipActivation:!0}),W=G.expName,q=G.group,Y=(0,m.ZP)(),X=(0,h.Zv)(),$=(0,f.B)().isAuthenticated,Q=(0,r.useCallback)(function(){var e=!1;try{var t=V.current;if(t instanceof HTMLElement&&(!F||t.getElementsByTagName("img").length>0)){var n=K.start(t);n.onExitViewport(H.current).setDebugId(T||"unknown"),_&&n.onEnterViewport(function(){U("log_pin_impression_track_enter_viewport")}),e=!0,q&&(0,a.nP)("webapp.masonry.trackImpression",{tags:{callsite:"app_packages_useImpressionTracker",deviceType:Y,experimentName:W,group:q,handlerId:X,isAuthenticated:$,slotIndex:null!=C?C:"unknown"}})}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}_&&U("log_pin_impression_track",{didStartTracking:e})},[V.current]);return(0,r.useEffect)(function(){return O&&!K.inExperiment&&K.setExperimentStatus(!0),A||Q(),function(){var e=V.current;e instanceof HTMLElement&&(!F||e.getElementsByTagName("img").length>0)&&K.stop(e)}},[A,Q]),V}var O=function(e){return(0,e.children)({impressionTrackerRef:I(function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,v))})}},733674:function(e,t,n){n.d(t,{Z:function(){return r}});function r(){window&&window.focus(),document.activeElement&&document.activeElement.blur()}},406262:function(e,t,n){var r=n(378888);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}var l={carousel:{authOnly:!0,partnerOnly:!0},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:function(e){var t=e.user;return!!(null!=t&&t.video_upload_allowed)},authOnly:!0,hasCustomEnabledCheck:function(){return!0}},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},pinQuality:{partnerOnly:!0},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},pinItemBase64:{authOnly:!0,experiment:"aid_exp_pin_builder_item_base64",groups:/^(employees|enabled)/}};t.Z=new(function(){var e;function t(){if(!(this instanceof t))throw TypeError("Cannot call a class as a function");o(this,"_experiments",null),o(this,"_viewer",null),o(this,"_advertiser",null),o(this,"_scenario",null),o(this,"_language",null),o(this,"_context",null),o(this,"_orbacActingAs",null)}return e=[{key:"initialize",value:function(e){var t=e.requestContext,n=e.viewer,i=e.location,o=e.advertiser,a=e.scenario,l=e.orbacActingAs;this._context=e,this._experiments=t.experimentsClient,this._language=t.language,this._viewer=n,this._advertiser=o,this._orbacActingAs=l;var s=(0,r.mB)(i.search).adCreate;a?this._scenario=a:s?this._scenario="ad_creation":this._scenario="default"}},{key:"scenario",value:function(){return this._scenario}},{key:"enabled",value:function(e){if(!this._viewer||!this._experiments)return!1;var t,n=l[e],r=n.advertisers,i=n.authOnly,o=n.customEnabledCheck,a=n.experiment,s=n.groups,u=n.hasCustomEnabledCheck,c=n.languages,d=n.orbacDisabled,p=n.partnerOnly,f=n.scenarios,m=n.skipActivation,g=this._viewer.isAuth?this._viewer.id:void 0;return(null==(t=this._orbacActingAs)||!t.id||this._orbacActingAs.id===g||!d)&&(u&&o&&this._context&&u(this._context)?!!this._context&&o(this._context):m&&this._experiments?!!a&&this.checkExperimentWithSkipActivation(e):!!r&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!i||!!this._viewer.isAuth)&&(!this._viewer||!p||!!(this._viewer.isAuth&&this._viewer.isPartner))&&(!f||!!f.includes(this._scenario))&&(!c||!!c.includes(this._language))&&(!a||(void 0===s?/.*/:s).test(this.getExperimentGroup(e)||"")))}},{key:"getExperimentGroup",value:function(e){if(!this._viewer||!this._experiments)return null;var t,n,r,i,o,a,l,s,u=this._experiments.checkExperiment;switch(e){case"disabledIdeaPinCreation":return null!=(t=u("disable_pin_creation").group)?t:null;case"disabledPinCreation":return null!=(n=u("disable_pin_creation").group)?n:null;case"disabledVideoPinCreation":return null!=(r=u("disable_pin_creation").group)?r:null;case"imageSignals":return null!=(i=u("pin_quality_signal_image").group)?i:null;case"tagging":return null!=(o=u("web_pin_builder_tagging").group)?o:null;case"videoEditing":return null!=(a=u("video_edit").group)?a:null;case"ideaPinProductTagging":return null!=(l=u("web_idea_pin_product_tagging").group)?l:null;case"pinItemBase64":return null!=(s=u("aid_exp_pin_builder_item_base64").group)?s:null;default:return null}}},{key:"checkExperimentWithSkipActivation",value:function(e){if(!this._viewer||!this._experiments)return!1;var t,n,r,i,o,a,l=this._experiments.checkExperiment;switch(e){case"disabledIdeaPinCreation":return null!=(t=l("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&t;case"disabledPinCreation":return null!=(n=l("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&n;case"disabledVideoPinCreation":return null!=(r=l("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&r;case"imageSignals":return null!=(i=l("pin_quality_signal_image",{dangerouslySkipActivation:!0}).anyEnabled)&&i;case"tagging":return null!=(o=l("web_pin_builder_tagging",{dangerouslySkipActivation:!0}).anyEnabled)&&o;case"videoEditing":return null!=(a=l("video_edit",{dangerouslySkipActivation:!0}).anyEnabled)&&a;default:return!1}}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}())},658673:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(586659),i=n(729434),o=n(901360),a=n(592109),l=n(735201),s=n(645214),u=n(979817),c=n(868178),d=n(375730),p=n(594885),f=n(932885),m=n(986906),g=n(970773),y=n(361423);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return b(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){P(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e,t,n){var r;return(r=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==h(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=(0,a.XV)("PwtStopwatch"),I=function(e,t){if(y.Z){if("start"===t.type&&!e.isTiming){var n=t.name,r=t.startTime,i=t.navigationType;return(0,o.A9)("TIMING.".concat(n)),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:y.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:i},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming)if(t.bypassIsTimingCheck)w("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var a=t.name||e.name;return w("ignoring action - stopwatch is not actively timing",t),(0,o.A9)("WARN.".concat(a,".noTiming.").concat(t.type)),e}if("annotate"===t.type){var p=y.Z.now();return w("adding annotation {".concat(t.label,": ").concat(p,"}")),S(S({},e),{},{annotations:e.annotations.concat([{label:t.label,timestamp:p}])})}if("binaryAnnotate"===t.type)return w("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),S(S({},e),{},{binaryAnnotations:S(S({},e.binaryAnnotations),P({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var m=t.binaryAnnotationValueAndType,h=m.value,_=m.type;if(!e.binaryAnnotations[t.name])return S(S({},e),{},{binaryAnnotations:S(S({},e.binaryAnnotations),P({},t.name,{value:h,type:_}))});var b=e.binaryAnnotations[t.name].value||0;return w("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(b),"\n          operand: ").concat(String(h),"\n        }")),S(S({},e),{},{binaryAnnotations:S(S({},e.binaryAnnotations),P({},t.name,{value:h?t.operation(b,h):b,type:_}))})}if("addSubspan"===t.type){w("adding subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&w("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var x=t.id||(0,g.Z)();-1!==e.spans.findIndex(function(e){return e.id===x})&&w("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(x,"}"));var I=0;return t.startTime?I=t.startTime:e.startTime?I=e.startTime:w("WARNING: adding subspan {".concat(t.name,"} without start time")),S(S({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:x,startTime:I,endTime:t.endTime||1/0,annotationMap:S({},t.annotations),binaryAnnotationMap:S({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){w("starting subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&w("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var O,j=t.id||(0,g.Z)();-1!==e.spans.findIndex(function(e){return e.id===j})&&w("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(j,"}"));var E=t.parentName?null==(O=e.spans.find(function(e){return e.name===t.parentName}))?void 0:O.id:null;return S(S({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:j,parentId:t.parentId||E,startTime:y.Z.now(),endTime:1/0,annotationMap:S({},t.annotations),binaryAnnotationMap:S({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){w("stopping subspan {".concat(t.name,"}")),!t.id&&e.spans.filter(function(e){return e.name===t.name}).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var A=t.id?e.spans.findIndex(function(e){return e.id===t.id}):e.spans.findIndex(function(e){return e.name===t.name});return A>-1?(e.spans[A].endTime=y.Z.now(),t.annotations&&(e.spans[A].annotationMap=S(S({},e.spans[A].annotationMap),t.annotations)),t.binaryAnnotations&&(e.spans[A].binaryAnnotationMap=S(S({},e.spans[A].binaryAnnotationMap),t.binaryAnnotations))):(0,o.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.filter(function(e){return e.name===t.currentName}).length>1&&(0,o.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var T=e.spans.findIndex(function(e){return e.name===t.currentName});return T>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(v(e.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(w("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),e.spans[T].name=t.newName):(0,o.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){var k=e.startTime,C=e.metricId,D=e.pwtStaticContext,R=e.annotations,L=e.binaryAnnotations,M=e.isSampled,F=e.spans,N=e.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),M){var B=t.stopTime||y.Z.now(),z=v(F.map(function(t){t.endTime===1/0&&(t.endTime=B);var n=e.spanNameUpdates.findIndex(function(e){return t.name===e.currentName});return n>-1&&(w("renaming subspan {".concat(t.name,"} to {").concat(e.spanNameUpdates[n].newName,"}")),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===F.length){var Z=(0,g.Z)();z.push.apply(z,[{name:"network_resources",id:Z,startTime:k,endTime:B,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(v((t.customStopwatchBuffer||[]).map(function(e){return(0,d.Z)((0,u.p)(e,[]),Z)}).filter(Boolean))))}var U={type:"COMPLETE",metricId:C,traceId:N,startTime:k,endTime:B,spans:z,annotationMap:S({},(0,f.Z)(R)),binaryAnnotationMap:(0,s.ng)({metricId:C,pwtStaticContext:D,binaryAnnotations:L,performanceResourceTimings:t.customStopwatchBuffer||[],type:"COMPLETE"})};(0,c.Z)({metricId:C,pwtStaticContext:D,result:U})}return(0,l.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("error"===t.type){var K=t.error,V=t.stopwatchPerformanceObserver;return K&&(0,o.H)(K),V&&V.disconnect(),(0,l.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,g.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var H=t.reason||"",G=e.startTime,W=e.metricId,q=e.pwtStaticContext,Y=e.binaryAnnotations,X=e.traceId,$={type:"ABORT",traceId:X,startTime:G,endTime:y.Z.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,s.ng)({metricId:W,pwtStaticContext:q,binaryAnnotations:Y,performanceResourceTimings:t.customStopwatchBuffer||[],type:"ABORT"}),reason:H};return(0,c.Z)({metricId:W,pwtStaticContext:q,result:$}),(0,l.$B)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:X,spanNameUpdates:[]}}}return e},O=function(e){var t,n=e.name,i=e.sampleRate,o=e.navigationType,a=e.manualAndResourceSpans,s=void 0!==a&&a,u=(0,p.Z)(),c=(0,r.useRef)([]),d=(0,r.useRef)(null),f=(0,r.useRef)(null);null===f.current&&(f.current=(0,l.jf)());var g=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(I,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:f.current,spanNameUpdates:[]}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||_(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=g[0],v=g[1];return u?{isTiming:h.isTiming,name:h.name,start:function(e){return window.PerformanceObserver&&(c.current=[],d.current=(0,m.Z)({entryTypes:["resource"]},function(e){c.current=c.current.concat(e.getEntries()),c.current.length>1e3&&(c.current=c.current.slice(-1e3))})),v({type:"start",startTime:e,name:n,navigationType:o,pwtStaticContext:u,isSampled:!i||Math.random()<i})},stop:function(e){return v({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:c.current,manualAndResourceSpans:s})},error:function(e){v({type:"error",stopwatchPerformanceObserver:d.current,error:e})},abort:function(e){return v({type:"abort",stopTime:null===y.Z||void 0===y.Z?void 0:y.Z.now(),stopwatchPerformanceObserver:d.current,customStopwatchBuffer:c.current,reason:e})},annotate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n})},binaryAnnotate:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return v({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:i})},binaryAnnotateOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;return v({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:n,operation:r,parentId:i,bypassIsTimingCheck:void 0!==o&&o})},addSubspan:function(e){var t=e.name,n=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,a=e.parentId,l=e.id,s=e.bypassIsTimingCheck;return v({type:"addSubspan",name:t,startTime:n,endTime:r,annotations:void 0===i?{}:i,binaryAnnotations:void 0===o?{}:o,parentId:void 0===a?null:a,id:void 0===l?null:l,bypassIsTimingCheck:void 0!==s&&s})},subspanStart:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,a=e.id,l=e.bypassIsTimingCheck;return v({type:"subspanStart",name:t,annotations:void 0===n?{}:n,binaryAnnotations:void 0===r?{}:r,parentId:void 0===i?null:i,parentName:void 0===o?null:o,id:void 0===a?null:a,bypassIsTimingCheck:void 0!==l&&l})},subspanStop:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,a=e.bypassIsTimingCheck;return v({type:"subspanStop",name:t,annotations:n,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:void 0!==a&&a})},subspanUpdateName:function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;return v({type:"subspanUpdateName",currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:void 0===i||i})},getSpans:function(e,t){return h.spans.filter(function(n){return n[e]===t})},getTraceId:function(){return h.traceId}}:null},j=n(891631),E=n(382718),A=function(e){var t=e.name,n=e.sampleRate,a=e.abortOnUnloadOrClientNavigation,l=void 0===a||a,s=e.navigationType,u=e.manualAndResourceSpans,c=void 0!==u&&u,d=(0,i.Z)("Stopwatch_".concat(t)),p=d.Provider;return{Provider:function(e){var i=e.children,a=O({name:t,sampleRate:n,navigationType:s,manualAndResourceSpans:c}),u=(0,j.Z)(),d=u?u.time:0,f=(0,r.useRef)(!1),m=null==a?void 0:a.isTiming,g=(0,r.useCallback)(function(e){f.current?(f.current=!1,null==a||a.abort(e)):(0,o.A9)("WARN.".concat(t,".noTiming.abort"))},[a]),y=(0,r.useCallback)(function(e,t){null==a||a.annotate(e,t)},[a]),h=(0,r.useCallback)(function(e,t,n,r){null==a||a.binaryAnnotate(e,t,n,r)},[a]),v=(0,r.useCallback)(function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,i=e.parentId,o=e.bypassIsTimingCheck;null==a||a.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:n,operation:r,parentId:i,bypassIsTimingCheck:o})},[a]),_=(0,r.useCallback)(function(e){var t=e.name,n=e.startTime,r=e.endTime,i=e.annotations,o=e.binaryAnnotations,l=e.parentId,s=e.id,u=e.bypassIsTimingCheck;null==a||a.addSubspan({name:t,startTime:n,endTime:r,annotations:i,binaryAnnotations:o,parentId:l,id:s,bypassIsTimingCheck:u})},[a]),b=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.parentId,o=e.parentName,l=e.id,s=e.bypassIsTimingCheck;null==a||a.subspanStart({name:t,annotations:n,binaryAnnotations:r,parentId:i,parentName:o,id:l,bypassIsTimingCheck:s})},[a]),x=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,i=e.id,o=e.parentId,l=e.bypassIsTimingCheck;null==a||a.subspanStop({name:t,annotations:n,binaryAnnotations:r,id:i,parentId:o,bypassIsTimingCheck:l})},[a]),S=(0,r.useCallback)(function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,i=e.updateWhenStopwatchCompletes;null==a||a.subspanUpdateName({currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:i})},[a]),P=(0,r.useCallback)(function(e,t){return a?a.getSpans(e,t):[]},[a]),w=(0,r.useCallback)(function(){return a?a.getTraceId():""},[a]),I=(0,r.useCallback)(function(e){f.current?(f.current=!1,null==a||a.error(e)):(0,o.A9)("WARN.".concat(t,".noTiming.error"))},[a]),A=(0,r.useCallback)(function(e){f.current&&(null==a||a.abort("duplicated_init_stopwatch_action")),f.current=!0,null==a||a.start(e)},[a]),T=(0,r.useCallback)(function(e){f.current?(f.current=!1,null==a||a.stop(e)):(0,o.A9)("WARN.".concat(t,".noTiming.stop"))},[a]);(0,r.useEffect)(function(){return function(){l&&g("unloadOrClientNavigation")}},[d]);var k=(0,r.useMemo)(function(){return{name:t,isTiming:m,abort:g,addAnnotation:y,addBinaryAnnotation:h,binaryAnnotationOperation:v,addSubspan:_,subspanStart:b,subspanStop:x,getSpans:P,getTraceId:w,updateSubspanName:S,stop:T,error:I,start:A}},[m,g,y,h,v,_,b,x,P,w,S,T,I,A]);return(0,E.jsx)(p,{value:k,children:i})},get:d.useMaybeHook}}},891631:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(586659),i=n(622481);function o(){return(0,r.useContext)(i.Z)}},594885:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(586659),i=n(282803);function o(){return(0,r.useContext)(i.Z)}},410690:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(20256),i=n(937392),o=n(675973),a=function(e,t){var n=Array(e.length).fill(!1);t.forEach(function(t){if(t)for(var r=0;r<=e.length-t.length;){var i=e.indexOf(t,r);if(-1===i)break;for(var o=i+t.length,a=!1,l=i;l<o;l+=1)if(n[l]){a=!0;break}if(!a){for(var s=i;s<o;s+=1)n[s]=!0;break}r=o}});for(var r=[],i=0;i<n.length;){for(var o=n[i],a=i+1;a<n.length&&n[a]===o;)a+=1;r.push({matched:!!o,start:i,end:a}),i=a}return r},l=n(647709),s=n(382718);function u(e){var t=e.allBold,n=e.searchDelightConfig,u=e.query,c=e.text,d=(0,o.Z)().checkExperiment,p=(0,l.HG)(),f=(void 0===u?"":u).trim(),m=c.toLowerCase(),g=(m.startsWith(f.toLowerCase())?f:"").length,y=n?(0,i.pF)(c,n.search_query_list):null;if(y&&n)return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,s.jsx)(i.KS,{allBold:t,searchDelightConfig:n,searchDelightParts:y,text:c,weightPivot:g})});if(!p&&d("web_search_autocomplete_visual_treatment").anyEnabled){var h=a(m,f.toLowerCase().split(/\s/));return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:h.map(function(e){var t=e.matched,n=e.start,i=e.end;return(0,s.jsx)(r.xv,{color:t?"subtle":"default",inline:!0,weight:t?"normal":"bold",children:c.substring(n,i)},"search-autocomplete-suggestion-".concat(c,"-").concat(n,"-").concat(i))})})}return(0,s.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,s.jsx)(r.xv,{color:"subtle",inline:!0,weight:t?"bold":"normal",children:c.substring(0,g)}),(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:c.substring(g)})]})}},256310:function(e,t,n){n.d(t,{Z:function(){return I},b:function(){return P}});var r,i=n(586659),o=n(581722),a=n(872555),l=n(963489),s=n(20256),u=n(918920),c=n(506662),d=n(15667),p=n(941404),f=n(163404),m=n(647709),g=n(702226),y=n(438235);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(e){if("string"==typeof e)return _(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=(void 0!==r||(r=n(705268)).hash&&"5a3162913508a33c37676bde5973ea45"!==r.hash&&console.error("The definition of 'useDynamicSearchPlaceholderDataQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),P=function(e){var t={pageType:"other",isEligiblePageTypeForDynamicSearchPlaceholder:!1};return(0,c.uM)(e)?(t.pageType="pin",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,c.am)(e)?(t.pageType="board",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,c.dr)(e)&&(t.pageType="klp",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0),t},w=function(e){var t=e.fetchedSuggestedTerms,n=e.deviceType,r=e.pageType,i={deviceType:n,dataType:e.dataType,pageType:r};return t.length<3?((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",x({termsCount:t.length},i)),t=[]):(t=t.filter(function(e){return e.split(" ").length>1}).map(function(e){return e.toLowerCase()})).length<3&&((0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",x({termsCount:t.length},i)),t=[]),t};function I(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)([]))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||v(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1],h=(0,l.TH)(),b=(0,y.Z)(),x=(0,s.JZ)(),I=(0,f.Z)(h.pathname)||"",O=(0,d.B)().isAuthenticated,j=(0,m.ZP)(),E=(0,c.uM)(h),A=(0,c.am)(h),T=(0,c.dr)(h),k=P(h),C=k.pageType,D=k.isEligiblePageTypeForDynamicSearchPlaceholder,R=b.id||(0,u.Gt)(b.interest||""),L=!O&&D&&!x,M=(0,a.useRelayEnvironment)(),F=(0,o.v9)(function(e){return(0,g.Z)(e)[h.pathname]}),N=(0,o.v9)(function(e){var t=e.topics;return Object.keys(t).reduce(function(e,n){var r=t[n];return e[r.slug]=r,e[n]=r,e},{})[R]}),B=function(e){return e.reduce(function(e,t){return t.name?[].concat(function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.name]):e},[])},z=(0,i.useCallback)(function(){(0,a.fetchQuery)(M,S,{pinId:I},{fetchPolicy:"store-or-network"}).subscribe({next:function(e){var t,n,i,o=[],a=(null==(t=e.v3GetPinQuery)?void 0:t.__typename)==="V3GetPin"?null==(n=e.v3GetPinQuery)?void 0:n.data:null;null!=a&&a.isUnsafe?(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(null!=a&&null!=(i=a.pinJoin)&&i.visualAnnotation&&(o=a.pinJoin.visualAnnotation),o=w({fetchedSuggestedTerms:o,deviceType:j,pageType:C,dataType:"vase"})),r(o.slice(0,5))},error:function(e){(0,p.My)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[j,I,M,C]),Z=(0,i.useCallback)(function(){var e;if(null!=F&&F.seo_related_interests&&!(null!=(e=F.owner)&&e.is_partner)){var t=B(F.seo_related_interests);r((t=w({fetchedSuggestedTerms:t,deviceType:j,pageType:C,dataType:"board_annotations"})).slice(0,5))}},[F,C,j]),U=(0,i.useCallback)(function(){if(null!=N&&N.seo_related_interests){var e=B(N.seo_related_interests);r((e=w({fetchedSuggestedTerms:e,deviceType:j,pageType:C,dataType:"klp_annotations"})).slice(0,5))}},[N,C,j]);return(0,i.useEffect)(function(){!O&&L&&("desktop"!==j?r([]):(E&&z(),A&&Z(),T&&U()))},[F,E,A,T,L,O,j,z,Z,U]),(0,i.useEffect)(function(){E||A||T||0===n.length||r([])},[E,n.length,A,T]),n}},478135:function(e,t,n){n.d(t,{Hd:function(){return u},_R:function(){return l},gi:function(){return o},lw:function(){return r},oD:function(){return i},wF:function(){return s},zh:function(){return a}});var r={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",BOARDS_MINE:"my_boards",USERS:"users",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},i=function(e){var t=Object.values(r).find(function(t){return t===e});return null!=t?t:void 0},o=function(e){switch(e){case r.PINS:return 0;case r.PINS_MINE:return null;case r.PINS_BUYABLE:return 1;case r.PINS_VIDEO:return 2;case r.BOARDS:return 3;case r.USERS:return 4;default:return null}},a=function(e){switch(e){case 0:return r.PINS;case 1:return r.PINS_BUYABLE;case 2:return r.PINS_VIDEO;case 3:return r.BOARDS;case 4:return r.USERS;default:return null}},l=function(e){switch(e){case r.PINS_MINE:case r.MY_CONTENT:return 107;case r.PINS_BUYABLE:return 254;case r.PINS_VIDEO:return 3306;case r.SHOP_TOOL:return 3380;case r.BOARDS:return 44;case r.USERS:return 45;case r.PINS:default:return 43}},s=function(e){switch(e){case r.PINS:return 60;case r.PINS_MINE:case r.MY_CONTENT:return 63;case r.PINS_BUYABLE:return 3800;case r.PINS_VIDEO:return 64;case r.BOARDS:return 61;case r.USERS:return 62;default:return null}},u=function(e,t){if(t)switch(e){case r.USERS:return 1000392;case r.PINS_BUYABLE:return 1000391;case r.PINS:default:return 29}switch(e){case r.USERS:return 1000432;case r.PINS_BUYABLE:return 1000433;case r.PINS:default:return 1000269}}},490186:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(403135);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){var t=e.enteredQuery,n=e.filters,a=e.guideAdded,l=e.query,s=e.requestParams,u=e.rs,c=e.scope,d=e.selectedOneBarModules,p=e.user,f=e.inlineSuggestion;if(!l)return"/";var m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({q:l,rs:u},s);if(n&&(m.filters=n),p&&(m.user=p),d&&(m.selected_one_bar_modules=d),a&&a.term&&(m.add_refine="".concat(a.term,"|guide|word|").concat(a.index)),t&&(m.entered_query=t),f&&(m.inline_suggestion=f),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,r.Z)(m));var g=c;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(g)||(g="pins"),g?"/search/".concat(g,"/?").concat((0,r.Z)(m)):"".concat(window.location.pathname,"?").concat((0,r.Z)(m))}},950741:function(e,t,n){n.d(t,{Sx:function(){return i},wU:function(){return r},zc:function(){return o}});var r="#E1E1E1",i="#F1F1F1",o="0 0 0 4px rgba(0, 132, 255, .5)"},970979:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(378888);function i(e){var t,n=(0,r.mB)(e.search)||{};if(n.q){var i=e.pathname.split("/");t=i.length>2?i[2]:"pins"}if(n.q&&t){var o=Array.isArray(n.q)?n.q.join(" "):n.q,a=Array.isArray(n.rs)?"":n.rs,l=Array.isArray(n.user)?"":n.user;return{filters:n.filters||"",user:l,query:o||"",rs:a||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t?t:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},390957:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(512712),i=n(403135);function o(e){var t=e.bubbleId,n=e.pinId,o=e.query,a=e.referringSource,l=e.storyCategory,s=e.storyId,u=e.title,c=[0,24,21,26].includes(l),d=(0,i.Z)({q:o,rs:a||void 0,b_id:t,source_id:s,top_pin_ids:n}),p=c&&u?(0,r.x)({title:u,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return c?p:"/search/pins/".concat(d?"?"+d:"")}},732753:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return(e||"").trim().replace(/\s+/g," ")}},902293:function(e,t,n){n.d(t,{J:function(){return r},Z:function(){return i}});var r=-1;function i(e){switch(e){case r:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},755522:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){var n=null!=t&&t.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(n,function(e,t){return"_"+t.toLowerCase()})}},134475:function(e,t,n){n.d(t,{U:function(){return o},Z:function(){return a}});var r=n(20256),i=n(382718),o=", ";function a(){return(0,i.jsx)(r.xu,{display:"visuallyHidden",children:o})}},96101:function(e,t){t.Z=function(){return window.location.pathname}},194737:function(e,t){t.Z=function(e){var t=e.url;return""===t||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(t)}},271910:function(e,t,n){n.d(t,{q:function(){return l}});var r=n(586659);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var a=function(){var e=i((0,r.useState)(!1),2),t=e[0],n=e[1],o=i((0,r.useState)(!1),2),a=o[0],l=o[1],s=i((0,r.useState)(!1),2),u=s[0],c=s[1];return{active:t,focused:a,hovered:u,onBlur:function(){l(!1),n(!1)},onFocus:function(){return l(!0)},onMouseDown:function(){return n(!0)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){c(!1),n(!1)},onMouseUp:function(){return n(!1)}}};function l(e){return(0,e.children)(a())}t.Z=a},431338:function(e,t,n){n.d(t,{Y:function(){return y}});var r,i=n(586659);n(492996);var o=n(221020),a=n(28427);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){var r;return(r=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=(void 0!==r||(r=n(245652)).hash&&"5fc3e90469998e436af7fa9ec7d4a329"!==r.hash&&console.error("The definition of 'useGetStringifiedCommerceAuxData_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),m=function(e,t){var n,r,i,o,a,l,s,p,f,m,g,y,h,v=Symbol("SKIP"),_=null;return t||(_=!!(null!=(m=e.shoppingFlags)&&m.includes(10)||null!=(g=e.productPinData)&&null!=(y=g.items)&&null!=(h=y[0])&&h.additionalImagesLength)),Object.entries(u(u({},e.isEligibleForPdp||e.isOosProduct||e.isStaleProduct?u(u({},function(n,r,i,o,a,l,s,u,c){var d=null,p=null,f=null==(n=e.richMetadata)||null==(r=n.products)?void 0:r[0];if(!t){var m,g,y,h,_,b,x,S,P,w,I=null==(m=e.richMetadata||e.richSummary)||null==(g=m.products)?void 0:g[0],O=(null==I||null==(y=I.image736x)?void 0:y.length)||(null==I||null==(h=I.image564x)?void 0:h.length)||(null==I||null==(_=I.image474x)?void 0:_.length)||(null==I||null==(b=I.image236x)?void 0:b.length)||0,j=!!e.imageSpec_orig;p=O>0?+!!j+O:null==(x=e.carouselData)||null==(S=x.carouselSlots)?void 0:S.length,d=!t&&(null==f||null==(P=f.variantSet)||null==(w=P.dimensionMetadata)?void 0:w.reduce(function(e,t){var n=t.name,r=t.values;return e+(n&&r?r.length:0)},0))}return{carousel_image_count:p||v,brand_signature:(null==f||null==(i=f.brand)?void 0:i.signature)||v,free_shipping_price:(null==f||null==(o=f.shippingInfo)?void 0:o.freeShippingPrice)||v,free_shipping_value:(null==f||null==(a=f.shippingInfo)?void 0:a.freeShippingValue)||v,num_variants:(null==f||null==(l=f.variantSet)||null==(s=l.variants)?void 0:s.length)||v,total_dimension_option_count:(null==f||null==(u=f.variantSet)||null==(c=u.dimensionMetadata)?void 0:c.length)||v,valid_dimension_option_count:d||v}}()),{},{pin_show_pdp_oos:!!e.isOosProduct||v,pin_show_pdp_stale:!!e.isStaleProduct||v,pin_show_pdp:!!e.isEligibleForPdp||v}):{}),{},{pin_is_shop_the_look:!!(null!=(n=e.shoppingFlags)&&n.includes(2)||null!=(r=e.aggregatedPinData)&&r.isShopTheLook)||v,is_available:!!(null!=(i=e.shoppingFlags)&&i.includes(1))||v,is_product_pin_v2:!!(null!=(o=e.shoppingFlags)&&o.includes(5))||v,is_rich_product_pin:!!(null!=(a=e.shoppingFlags)&&a.includes(6))||v,is_organic_product_carousel:_||v,item_id:((null==(l=e.richSummary)||null==(s=l.products)?void 0:s[0])||{}).itemId||v,item_set_id:((null==(p=e.richSummary)||null==(f=p.products)?void 0:f[0])||{}).itemSetId||v,story_pin_id:e.storyPinData?e.storyPinDataId:v})).filter(function(e){return d(e,2)[1]!==v}).reduce(function(e,t){var n=d(t,2),r=n[0],i=n[1];return u(u({},e),{},c({},r,i))},{})},g=function(e){var t=!!(e&&"GraphQL"===(0,o.o)(e)),n=(0,a.Z)(f,e);return(0,i.useCallback)(function(e){var r;return 0===Object.keys(r=u(u(u({},null==e?void 0:e.default),n?m(n,t):{}),null==e?void 0:e.override)).length?{}:{commerce_data:JSON.stringify(r)}},[t,n])},y=function(e){return(0,e.children)(g(e.pinKey))};t.Z=g},931302:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(586659),i=n(20256),o=n(461951),a=n(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}var y={default:{backgroundColor:o.zsO,boxShadow:"none"},drag:{backgroundColor:o.Wmm,boxShadow:"".concat(o.lwx," ").concat(o.lwx," ").concat(o.lwx," ").concat(o.FCL," ").concat(o.Gh8)},error:{backgroundColor:o.$wd,boxShadow:"".concat(o.lwx," ").concat(o.lwx," ").concat(o.lwx," ").concat(o.FCL," ").concat(o.jKP)}},h=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),e&&c(o,e);var t,n,r=(t=p(),function(){var e,n=f(o);return e=t?Reflect.construct(n,arguments,f(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return d(e)}(this,e)});function o(){var e;if(!(this instanceof o))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return m(d(e=r.call.apply(r,[this].concat(n))),"state",{isDraggingOver:!1,isHoveringOver:!1,containedHeight:null}),m(d(e),"handleOnDragEnter",function(t){var n=e.props.onDragEnter;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!0}),n&&n(t)}),m(d(e),"handleOnDragLeave",function(t){var n=e.props.onDragLeave;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),n&&n(t)}),m(d(e),"handleOnDragOver",function(t){var n=e.props.onDragOver;t.preventDefault(),t.stopPropagation(),n&&n(t)}),m(d(e),"handleOnDrop",function(t){var n=e.props.onDrop;t.preventDefault(),t.stopPropagation(),e.setState({isDraggingOver:!1}),n&&n(t)}),m(d(e),"handleMouseEnter",function(){var t=e.props.onMouseEnter;t&&t(),e.setState({isHoveringOver:!0})}),m(d(e),"handleMouseLeave",function(){var t=e.props.onMouseLeave;t&&t(),e.setState({isHoveringOver:!1})}),m(d(e),"setContainedHeight",function(t){e.setState({containedHeight:t})}),e}return n=[{key:"getDragContainerStyles",value:function(e,t){return t&&"default"===e?u(u({},y[e]),{},{backgroundColor:t}):y[e]}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.color,r=e.dropRounding,o=e.hasError,l=e.height,s=e.position,c=e.width,d=this.state,p=d.isDraggingOver,f=d.isHoveringOver,m=d.containedHeight;return(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:u(u({},this.getDragContainerStyles(p?"drag":o?"error":"default",n)),r?{borderRadius:r}:{})},"data-test-id":"drag-behavior-container",height:l||m||"100%",onDragEnter:this.handleOnDragEnter,onDragLeave:this.handleOnDragLeave,onDragOver:this.handleOnDragOver,onDrop:this.handleOnDrop,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,position:s,rounding:2,width:c||"100%",children:t(p,f,this.setContainedHeight,m)})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}(o.prototype,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(r.Component)},767209:function(e,t,n){var r=n(586659),i=n(20256),o=n(461951),a=n(931302),l=n(382718);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d={cursor:"pointer",height:"100%",opacity:0,position:"absolute",width:"100%",left:0,top:0,fontSize:0};t.Z=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=n[0],f=n[1],m=function(t){var n=e.onChange;t.preventDefault(),t.stopPropagation(),n&&n(t),t.target.value=""},g=function(t){var n=e.onClick;n&&n(t)},y=e.accept,h=e.accessibilityLabel,v=e.accessibilityDescription,_=e.allowMultipleFiles,b=e.children,x=e.color,S=e.dropRounding,P=e.hasError,w=e.height,I=e.id,O=e.onDrop,j=e.position,E=e.rounding,A=void 0===E?2:E,T=e.width,k=e.isAriaHidden,C=void 0===k?void 0:k,D=e.isRequired,R=void 0===D?void 0:D,L=e.experimentsClient;return(0,l.jsx)(a.Z,{color:x,dropRounding:S,experimentsClient:L,hasError:P,height:w,onDrop:O,position:j,width:T,children:function(e){return(0,l.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},p?{border:"2px solid ".concat(o.nTo)}:{})},height:"100%",onBlur:function(){return f(!1)},onFocus:function(){return f(!0)},position:"relative",rounding:A,children:[b(e),(0,l.jsx)("input",{accept:y,"aria-describedby":"upload-button-explanation","aria-hidden":C,"aria-invalid":P?"true":void 0,"aria-label":h,"data-test-id":I,id:I,multiple:_,onChange:m,onClick:g,required:R,style:d,tabIndex:C?-1:0,type:"file"}),v&&(0,l.jsx)(i.xu,{display:"none",id:"upload-button-explanation",children:(0,l.jsx)(i.xv,{children:v})})]})}})}},594306:function(e,t,n){n.d(t,{P7:function(){return i},Zx:function(){return l},sc:function(){return a},ss:function(){return o},xl:function(){return r}});var r=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],i=["bmp","gif","jpg","jpeg","png","tiff","webp"],o=["video/mp4","video/x-m4v","video/quicktime"],a=["mp4","m4v","mov"],l={border:"2px dashed #DADADA",borderRadius:"32px",pointerEvents:"none"}},815507:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(302148),i=n(526435),o=n(406262);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n,l){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:n,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:t._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:n,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:t._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var s,u=function(e){if(Array.isArray(e))return e}(s=o.Z.enabled("pinQuality")||null!=l&&l.isStoryPin?[300,200]:[100,100])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(s,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(s,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=u[0],d=u[1];return{dispatchId:n,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(t._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:c,minWidth:d,pixelString:t.ngettext('pixel', 'pixels', d, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:n,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(t.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:n,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:t._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:n,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,r.nk)(t.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var p=Math.floor(4);return{dispatchId:n,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(t.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', p, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:p}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var f=i.W_;return{dispatchId:n,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,r.nk)(t.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', f, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:f}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:n,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:t._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:n,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:t._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:n,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(t.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,r.nk)(t._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(i.P9)}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:n,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(t.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var m=i.Lr/1024/1024;return{dispatchId:n,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,r.nk)(t.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', m, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:m}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:t._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:t._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:t._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:n,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:t._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:n,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:t._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:n,id:"GENERAL_ERROR",type:"error",message:t._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},988833:function(e,t,n){var r=n(672410),i=n(815507);t.Z=function(e){return function(t){return new Promise(function(n,o){var a=new Image;a.addEventListener("load",function(){return n({fileSrc:t,height:a.height,id:(0,r.Z)(),name:t.name,size:t.size,src:a.src,type:"localImage",width:a.width})}),a.addEventListener("error",function(){return o((0,i.Z)("IMAGE_UNRECOGNIZED_TYPE",e))}),a.src=URL.createObjectURL(t)})}}},496250:function(e,t,n){var r=n(672410),i=n(815507),o=n(895718);t.Z=function(e){return function(t){return new Promise(function(n,a){var l,s=new FileReader,u=((null==(l=window.navigator)?void 0:l.userAgent)||"").includes("Safari")?t.slice(0,t.size,"video/mp4"):t,c=URL.createObjectURL(u);s.addEventListener("load",function(){var l=document.createElement("video");l.addEventListener("loadedmetadata",function(){return n({id:(0,r.Z)(),duration:l.duration,fileSrc:t,height:l.videoHeight,name:t.name,size:t.size,src:l.src,thumbnail:0,type:"localVideo",width:l.videoWidth})}),l.addEventListener("error",function(){a((0,i.Z)((0,o.Z)(),e))}),l.src=c}),s.readAsDataURL(t)})}}},895718:function(e,t,n){n.d(t,{Z:function(){return r}});function r(){var e,t=(null==(e=window.navigator)?void 0:e.userAgent)||"";if(t.includes("Firefox"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX";if(t.includes("SamsungBrowser")||t.includes("Opera")||t.includes("OPR")||t.includes("Edge"))return"VIDEO_UNRECOGNIZED_ENCODING";if(t.includes("Edg"))return"VIDEO_UNRECOGNIZED_ENCODING";if(t.includes("Chrome"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME";if(t.includes("Safari"))return"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI";else return"VIDEO_UNRECOGNIZED_ENCODING"}},765908:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(594306),i=n(815507),o=n(988833),a=n(406262),l=n(830176);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=n(526435),c=n(496250),d=n(895718);function p(e){var t,n,p=e.i18n,f=e.file,m=e.options,g=e.ideaPinRenamingEnabled,y=e.imageFileTypes,h=void 0===y?r.xl:y,v=m||{},_=v.allowVideo,b=v.videoOnly;return r.ss.includes(f.type)&&_?(n=(t=(m||{}).forStoryPin)?u.Lr:0x80000000,f.size>n?Promise.resolve((0,i.Z)(t?"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":"VIDEO_OVER_MAX_FILE_SIZE",p)):(0,c.Z)(p)(f).then(function(e){var t,n,r,o,a,l,s,c;return t=p,n=e,o=(r=m||{}).forStoryPin,a=r.allowAllAspectRatios,s=(l=!!o)?u.W_:4,c=l?u.P9:900,n.duration<s?(0,i.Z)(l?"STORY_PIN_VIDEO_BELOW_MIN_DURATION":"VIDEO_BELOW_MIN_DURATION",t):n.duration>c?(0,i.Z)(l?"STORY_PIN_VIDEO_OVER_MAX_DURATION":"VIDEO_OVER_MAX_DURATION",t):n.width&&n.height?!a&&(n.width/n.height<.5||n.width/n.height>1.91)?(0,i.Z)("VIDEO_UNSUPPORTED_RATIO",t):n.width<100||n.height<100?(0,i.Z)("VIDEO_UNDER_MIN_DIMENSIONS",t):n:(0,i.Z)((0,d.Z)(),t)}).catch(function(e){return e})):!h.includes(f.type)||b?Promise.resolve((0,i.Z)("FILE_UNRECOGNIZED_TYPE",p)):f.size>0x1400000?Promise.resolve((0,i.Z)("IMAGE_OVER_MAX_FILE_SIZE",p)):(0,o.Z)(p)(f).then(function(e){var t,n,r,i,o,u;return r=(n=function(e){if(Array.isArray(e))return e}(t=a.Z.enabled("pinQuality")||null!=m&&m.isStoryPin?[300,200]:[100,100])||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],i=n[1],o=(null==m?void 0:m.minHeight)||r,u=(null==m?void 0:m.minWidth)||i,e.height*e.width>0x5555555?(0,l.ZP)({errorId:"IMAGE_OVER_MAX_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:g}):e.height<o||e.width<u?(0,l.ZP)({errorId:"IMAGE_UNDER_MIN_DIMENSIONS",i18n:p,ideaPinRenamingEnabled:g,options:m}):e}).catch(function(e){return e})}},38817:function(e,t,n){n.d(t,{Z:function(){return E}});var r,i=n(586659);n(492996);var o=n(20256),a=n(521009),l=n(821342),s=n(28427),u=n(19585),c=n(675973),d=n(607001),p=n(941404),f=n(572227),m=n(87853),g=n(741155),y=n(334536),h=n(647709),v=n(341742),_=n(732347),b=n(352908),x=n(793698),S=n(400741),P=n(151594),w=n(382718);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=e.children,n=e.pulsar,r=e.testId;return n.show?(0,w.jsx)(o.xu,{"data-test-id":r,position:"relative",children:(0,w.jsxs)(o.iP,{onTap:n.onClick,tapStyle:"none",children:[(0,w.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:t}),(0,w.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,w.jsx)(o.o3,{})})]})}):(0,w.jsx)(o.xu,{"data-test-id":r,children:t})},j=(void 0!==r||(r=n(980360)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==r.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function E(e){var t,n,r=e.auxData,E=e.disabled,A=e.disableLog,T=e.followEventType,k=e.id,C=e.inline,D=e.invertColors,R=e.isFollowed,L=e.isIdeaPin,M=e.isLegoEnabled,F=e.isSecondaryButton,N=e.isUserFollowButton,B=e.isUserMe,z=e.onFollow,Z=e.onUnfollow,U=e.pinKey,K=e.shouldUseLegoColors,V=e.showPulsar,H=e.size,G=e.textType,W=void 0===G?"FollowFollowing":G,q=e.unfollowEventType,Y=e.viewParameter,X=e.viewType,$=e.clientTrackingParams,Q=(0,u.ZP)(),J=(0,h.HG)(),ee=(0,m.dI)().showToast,et=(0,f.Z)(),en=(0,a.Z)(),er=(0,d.Z)(),ei=(0,c.Z)().checkExperiment,eo=(0,b.Z)(),ea=(0,l.Z)(),el=ea&&ea.isAuth,es=(0,P.A)(),eu=es.unauthFollowUserId,ec=es.setUnauthFollowUserId,ed=(0,x.mN)()(k),ep=(0,g.Z)(),ef=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(R))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return I(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),em=ef[0],eg=ef[1],ey=ed&&{imageMediumUrl:ed.image_medium_url,username:ed.username},eh=(0,s.Z)(j,U),ev=null==eh?void 0:eh.linkDomain,e_=null==eh?void 0:eh.nativeCreator,eb=null==eh?void 0:eh.originPinner,ex=null==eh?void 0:eh.pinner;n=e_||(ev?ev.officialUser:eb||ex);var eS=null!=ey?ey:n;(0,v.Z)(function(){!J&&el&&eu&&k&&eu===k&&z(k)});var eP=eo({fn:function(){if(el)em?(Z(k),eg(!1),A||en({event_type:q,view_type:X,view_parameter:Y,object_id_str:k,aux_data:r,clientTrackingParams:$})):(z(k),eg(!0),N&&ee(function(e){var t=e.hideToast,n=null!=eS&&eS.username?"/".concat(eS.username,"/"):"";return(0,w.jsx)(S.Z,{handleHide:t,href:n,imageUrl:(null==eS?void 0:eS.imageMediumUrl)||"",text:(0,w.jsx)(o.xv,{lineClamp:4,children:Q._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:k})}),A||en({event_type:T,view_type:X,view_parameter:Y,object_id_str:k,aux_data:r,clientTrackingParams:$}));else{if((0,p.NC)(em?"press_profile_unfollow":"press_profile_follow"),et({action:"click",item:em?"unfollow-button":"follow-button"}),ei("migration_upsell_manager_redux").anyEnabled||ei("migration_upsell_manager_redux_dweb").anyEnabled||ei("migration_upsell_manager_redux_mweb").anyEnabled)if(J){var e=ei("pcons_dweb_contextual_follow_modal").anyEnabled;ep((0,y.b9)(!!L,e))}else{var t=ei("pcons_mweb_contextual_follow_modal").anyEnabled;ep((0,y.Jw)(!!L,t))}else er({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:L?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:J&&ei("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!J&&ei("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});J||ec(null!=k?k:""),(0,p.NC)("clickthrough")}},modalHeader:(0,_.N4)({i18n:Q,toFollow:!em})}),ew=!em&&!!V,eI=function(){if(B)return Q._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===W)return em?Q._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):Q._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');var e="FollowUnfollow"===W?Q._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):Q._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return em?e:Q._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,w.jsx)(O,{pulsar:ew?{show:!0,onClick:eP}:{show:!1},testId:B||em?"board-unfollow-button":"board-follow-button",children:(0,w.jsx)(o.zx,{accessibilityLabel:eI(),color:K||"AddRemove"===W||!M&&F||D?"gray":"red",disabled:B||E,fullWidth:C,onClick:ew?void 0:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),A||en({event_type:101,component:13672,element:11951,object_id_str:k,view_type:X,view_parameter:Y,aux_data:r,clientTrackingParams:$}),eP()},selected:em||!1,size:H,text:eI()})})}},787698:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(20256),i=n(521009),o=n(937392),a=n(19585),l=n(733674),s=n(611282),u=n(271910),c=n(532444),d=n(210031),p=n(850954),f=n(382718),m=function(e){var t=e.children,n=e.eventHandlers,o=n.onBlur,a=n.onFocus,u=n.onMouseDown,c=n.onMouseEnter,d=n.onMouseLeave,p=n.onMouseUp,m=e.role,g=e.url,y=e.contextData,h=e.onClick,v=e.onMouseDown,_=e.onMouseEnter,b=e.onTap,x=(0,i.Z)(),S=(0,s.Z)({href:g||"",onHistoryChange:l.Z}),P=function(e){y&&x(y),h&&h(e)};return"link"===m?(0,f.jsx)(r.Tg,{href:g||"",onBlur:o,onFocus:function(){a()},onMouseDown:function(){u(),null==v||v()},onMouseEnter:function(){c(),null==_||_()},onMouseLeave:function(){d()},onMouseUp:p,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),P(t),g&&S({event:t}),null==b||b()},rounding:6,children:t}):(0,f.jsx)(r.iP,{onBlur:o,onFocus:a,onMouseDown:function(){u(),null==v||v()},onMouseEnter:function(){c(),null==_||_()},onMouseLeave:d,onMouseUp:p,onTap:function(e){var t=e.event;P(t),g&&S({event:t})},role:"button",rounding:6,children:t})};function g(e){var t=e.contextData,n=e.dataTestId,i=e.iconEnd,l=e.isSelected,s=e.onClick,g=e.onMouseDown,y=e.onTap,h=e.role,v=e.showNotifBadge,_=void 0!==v&&v,b=e.text,x=e.navigateTo,S=(0,a.ZP)(),P=(0,u.Z)(),w=P.active,I=P.hovered,O=P.onBlur,j=P.onFocus,E=P.onMouseDown,A=P.onMouseEnter,T=P.onMouseLeave,k=P.onMouseUp,C=(0,o.oS)(c.nu),D=(0,d.G)().preload,R=function(){if((null==x?void 0:x.kind)==="Entrypoint"){var e=x.preloadExtent;if("None"!==e)return function(){return D(x.route,e)}}return null}(),L=(null==x?void 0:x.kind)==="Entrypoint"?(0,p.w)(x.route):(null==x?void 0:x.kind)==="Legacy"?x.url:null;return(0,f.jsx)(r.xu,{"data-test-id":n,flex:"none",height:48,minWidth:60,rounding:6,children:(0,f.jsx)(m,{contextData:t,eventHandlers:{onBlur:O,onFocus:j,onMouseDown:E,onMouseEnter:A,onMouseLeave:T,onMouseUp:k},onClick:function(e){null==s||s(e),_&&C.completeExperience(c.nu,c.wo)},onMouseDown:null!=g?g:null,onMouseEnter:R,onTap:y,role:void 0===h?"link":h,url:L,children:(0,f.jsx)(r.xu,{color:l||w?"selected":I?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:w&&!l?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:48,minWidth:60,paddingX:4,rounding:6,children:(0,f.jsxs)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,f.jsx)(r.xv,{align:"center",color:l?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:b}),i&&(0,f.jsx)(r.xu,{marginStart:2,children:(0,f.jsx)(r.JO,{accessibilityLabel:"",color:l?"inverse":"default",icon:i,size:12})}),_&&(0,f.jsx)(o.a3,{eligibleIds:[c.wo],placementId:c.nu,children:(0,f.jsx)(r.z$,{accessibilityLabel:S._('Notifications', 'header.headerTab.notifBadge', 'accessibility label for icon indicating the header tab has notifications')})})]})})})})}},63952:function(e,t,n){var r=n(586659),i=n(289032),o=n(525663);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)({searchIconOnly:!1,shrinkSearchBox:!1}))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],a=n.shrinkSearchBox,l=n.searchIconOnly,c=t[1];return(0,r.useEffect)(function(){var e=(0,i.Z)(function(){var e=document.getElementById(o.v6);if(e){var t=300>=(e.offsetWidth||0);window.innerWidth<850?c({searchIconOnly:t,shrinkSearchBox:!0}):a?c({searchIconOnly:!1,shrinkSearchBox:!1}):c(function(e){return s(s({},e),{},{searchIconOnly:t})})}},100);return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[a]),{shrinkSearchBox:a,searchIconOnly:l}}},547585:function(e,t,n){n.d(t,{Cy:function(){return p},HE:function(){return f},JE:function(){return y},Mv:function(){return s},Y4:function(){return m},dL:function(){return l},fS:function(){return g},fv:function(){return c},qS:function(){return d},u:function(){return h},uc:function(){return u}});var r=n(351607);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l=function(e){var t=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},s=function(e){var t=(0,r.ZP)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},u=function(e){var t=(0,r.ZP)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},c=function(e){var t=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},d=function(e){var t=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=function(e){var t=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},f=function(e){var t=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},m=function(e){var t=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},g=function(e){var t=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},y=function(e){var t,n=(0,r.ZP)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:null!=(t=e.slotIndex)?t:0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:n})},h=function(e){var t=(0,r.ZP)({impressionAuxFields:a({},e.impressionData||{}),clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},452516:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(793698);function i(){var e=(0,r.dM)();return Object.keys(e).reduce(function(t,n){var r=e[n];return t[r.username]=r,t},{})}},322838:function(e,t,n){n.d(t,{Z:function(){return R}});var r,i=n(586659);n(492996);var o=n(20256),a=n(521009),l=n(821342),s=n(28427),u=n(19585),c=n(670622),d=n(906553),p=n(302148),f=n(15667),m=n(941404),g=n(134475),y=n(734263),h=n(647709),v=n(223615),_=n(975740);function b(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return x(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=n(382718);function P(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e){var t,n,r,a,s,c,d,f,m=e.boardId,g=(0,u.ZP)(),y=(0,l.Z)(),v=(0,h.HG)(),x=(0,_.gC)()(m),w=(t=(0,l.Z)(),n=(0,h.HG)()&&t&&t.isAuth,r=(0,_.gC)()(m),(0,i.useMemo)(function(){if(!r)return[];for(var e=r.owner,i=r.collaborating_users,o=new Set,a=new Set,l=new Set,s=0,u=[].concat(b(e?[e]:[]),b(i||[]));s<u.length;s++){var c=u[s];c.id===(null==e?void 0:e.id)?o.add(c):c.id===(t.isAuth?t.id:void 0)?a.add(c):l.add(c)}return[].concat(b(o),b(a),b(l)).map(function(e){var t,r,i;return{name:null!=(t=n?e.full_name:e.username)?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!=(r=e.image_medium_url)?r:"",color:null!=(i=null==e?void 0:e.avatar_color_index)?i:void 0}})},[n,r,t]));if(!x)return null;var I=x.collaborator_count,O=void 0===I?0:I,j=v&&y&&y.isAuth?23:16,E=j/3*((w.length>2?3:w.length)*2+1),A=O>=w.length?O-w.length:0;A=A>99?100:A;var T=[].concat(P(w),P(Array(A).fill({name:"",src:""}))),k="",C=w.slice(0,3).map(function(e){return e.name});switch(w.length){case 3:k=(0,p.Wc)("".concat(g._('{{ first }}, {{ second }}, and {{ last }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.threeAvatars', 'List of three usernames. Placeholders: first: first collaborator name, second: second collaborator name, last: third collaborator name.')),{first:"".concat(null!=(a=C[0])?a:""),second:"".concat(null!=(s=C[1])?s:""),last:"".concat(null!=(c=C[2])?c:"")});break;case 2:k=(0,p.Wc)("".concat(g._('{{ first }} and {{ second }}', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.usernames.twoAvatars', 'List of two usernames. Placeholders: first: first collaborator name, second: second collaborator name.')),{first:"".concat(null!=(d=C[0])?d:""),second:"".concat(null!=(f=C[1])?f:"")});break;default:k=C.join(", ")}var D=w.length>3?(0,p.Wc)(", ".concat(g.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', w.length - 3, 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars. Placeholders: userNames: list of displayed collaborator names, leftCount: count of non-displayed collaborators.')),{userNames:k,leftCount:"".concat(w.length-3)}):(0,p.Wc)(", ".concat(g._('Collaborators: {{ userNames }}.', 'profile.boardCard.collaboratorsAvatars.accessibilityLabel.notAboveThree', 'Accessibility label for the Avatar Group component that lists the names of collaborators. Placeholder: userNames: list of displayed collaborator names.')),{userNames:k});return(0,S.jsx)(o.xu,{height:j,marginStart:2,minWidth:E,width:E,children:(0,S.jsx)(o.HE,{accessibilityLabel:D,collaborators:T})})}var O=n(271597),j=n(298097),E=n(38817),A=n(547585),T=n(452516),k=n(438235),C=(void 0!==r||(r=n(139368)).hash&&"2c875107b94cccf12970aeb534f39684"!==r.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),D=function(e){var t=e.children,n=e.isOwnProfile,r=e.lineClamp;return(0,h.HG)()?(0,S.jsx)(o.X6,{accessibilityLevel:2,lineClamp:n?1:r,size:n?"400":"300",children:t}):(0,S.jsx)(o.xv,{lineClamp:n?1:r,size:n?void 0:"200",weight:"bold",children:t})};function R(e){var t,n,r,_,b=e.archivedDate,x=e.boardId,P=e.boardUrl,w=e.canEdit,R=e.numberOfCollaborators,L=e.containerBackgroundColor,M=e.coverPhoto,F=e.display,N=e.followButtonDisabled,B=void 0!==N&&N,z=e.followedByMe,Z=e.fullSizeDrawer,U=e.sensitivityScreen,K=e.handleInviteResponse,V=e.hideMeta,H=e.hideSecretBoardIcon,G=void 0!==H&&H,W=e.id,q=e.invite,Y=e.imagesLego,X=e.isActive,$=e.isAttributionHeightUnfixed,Q=e.isAuthenticated,J=e.isBoardInviteAccepted,ee=e.isCollaborative,et=e.isCollaborator,en=e.isCollaboratorsAttributionVisible,er=e.isFeaturedBoardsModule,ei=void 0!==er&&er,eo=e.isHomePageBoards,ea=e.isOwner,el=e.isProtected,es=e.isSecret,eu=e.lastModifiedDate,ec=e.layout,ed=e.lineClamp,ep=void 0===ed?2:ed,ef=e.locale,em=e.metaMarginTop,eg=void 0===em?0:em,ey=e.metaMarginBottom,eh=void 0===ey?0:ey,ev=e.metaPaddingY,e_=void 0===ev?2:ev,eb=e.name,ex=e.numCols,eS=e.onEditClick,eP=e.onFollow,ew=e.onUnfollow,eI=e.pinCount,eO=void 0===eI?0:eI,ej=e.sectionCount,eE=e.slotIndex,eA=e.showFollowButton,eT=e.showBoardCollaborators,ek=void 0===eT||eT,eC=e.showTitleOnly,eD=e.trackingParams,eR=e.boardKey,eL=e.viewObjectIdStr,eM=e.viewParameter,eF=e.viewType,eN=(0,u.ZP)(),eB=(0,c.Z)(),ez=(0,d.Z)(),eZ=(0,a.Z)(),eU=(0,h.HG)(),eK=(0,f.B)().isRTL,eV=(0,l.Z)(),eH=(0,k.Z)().username,eG=null==(t=(0,T.Z)()[null!=eH?eH:""])?void 0:t.is_gco_account,eW=(0,s.Z)(C,eR),eq=eU&&Q,eY="square"===ec?O.M0:O.z9,eX="responsive"!==F&&(eq||ei)?eY:"100%",e$=eV.isAuth&&eV.username===eH,eQ=function(e){Q||(0,m.NC)("press_follow_board"),eP&&eP(e)},eJ=function(e){Q||(0,m.NC)("press_unfollow_board"),ew&&ew(e)},e0=(void 0===Y?[]:Y).map(function(e){return{url:e.url,name:eb}}),e1=!!(null!=eW&&eW.owner)&&!w&&eA,e2=null==eW||null==(n=eW.owner)?void 0:n.isVerifiedMerchant,e3=null==eW||null==(r=eW.owner)||null==(_=r.verifiedIdentity)?void 0:_.verified,e6=ee&&!ei;!e$&&e6&&(e6=!!eH&&!eG);var e5=!ea&&!et&&!!(null!=U&&U.show_warning),e4={board_id:W,reason:null==U?void 0:U.reason},e8=!e$&&!eC&&(!eH||void 0!==en&&en||eG),e7=eq?void 0:O.s0+(e1?O.o2:0);e$||(e7=eU?void 0:(e8?O.AC:O.Y_)+(e1?O.o2:0));var e9=e1&&"responsive"!==F?"max(calc(25vh + 10px), calc(".concat(210,"px + ").concat(5*!e$,"vh))"):"100%";return(0,i.useEffect)(function(){e5&&eZ({event_type:13,component:13861,view_type:215,aux_data:e4})},[]),(0,S.jsx)(A.fS,{auxData:{board_id:W,board_pin_count:null!=eO?eO:0,board_section_count:null!=ej?ej:0,grid_index:eE||0},impressionData:{imageURL:null==M?void 0:M.url},loggingId:W,slotIndex:eE||0,trackingParams:eD,viewData:{view_object_id_str:eL},viewParameter:eM,viewType:eF,children:function(e){var t,n,r,a,l,s,u,c=e.impressionTrackerRef;return(0,S.jsxs)(o.xu,{ref:c,"data-test-id":"boardCard-".concat(eb),height:b&&!eU?"100%":e9,position:"relative",width:eX,children:[(0,S.jsx)(o.zd,{rounding:4,children:(0,S.jsx)(j.Z,{boardKey:eW,canEdit:w,containerBackgroundColor:L,coverPhoto:M,coverPinKey:null==eW?void 0:eW.coverPin,fullSize:Z,hideSecretBoardIcon:G,images:e0,isActive:X,isHomePageBoards:eo,isProtected:el,isSecret:es,layout:ec,onEditClick:eS,renderAsImage:!0,showSensitivityScreen:e5})}),!V&&(0,S.jsx)(i.Fragment,{children:q?(0,S.jsxs)(i.Fragment,{children:[(0,S.jsxs)(o.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,S.jsxs)(o.xu,{width:"100%",children:[(0,S.jsx)(o.rU,{href:null!=P?P:"",children:(0,S.jsx)(o.xu,{marginBottom:1,marginTop:0,children:(0,S.jsx)(D,{isOwnProfile:e$,lineClamp:ep,children:eb})})}),J?(0,S.jsx)(o.xv,{lineClamp:1,size:"200",children:eN._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,S.jsx)(o.xv,{size:"200",children:(n=(t=q.invited_by_user).full_name,r=t.username,a=(0,S.jsx)(o.rU,{display:"inlineBlock",href:"/".concat(r),underline:"hover",children:n},"linkToUser"),(0,p.nk)(eN._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:a}))})]}),ek&&(0,S.jsx)(I,{boardId:x})]}),J?(0,S.jsx)(o.xu,{direction:"row",display:"flex",paddingX:2,children:(0,S.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,S.jsx)(o.ZP,{fullWidth:!0,href:null!=P?P:"",size:"lg",text:eN._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,S.jsxs)(o.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,S.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,S.jsx)(o.zx,{fullWidth:!0,onClick:function(){null==K||K(!1)},size:"lg",text:eN._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,S.jsx)(o.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,S.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:function(){null==K||K(!0)},size:"lg",text:eN._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,S.jsxs)(o.xu,{height:$?void 0:e7,marginBottom:eh,marginTop:eg,paddingX:2,paddingY:e_,children:[(0,S.jsxs)(o.xu,{alignItems:e$?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,S.jsx)(D,{isOwnProfile:e$,lineClamp:ep,children:eb}),e6&&ek&&(0,S.jsx)(I,{boardId:x})]}),e8&&(0,S.jsx)(o.xu,{marginTop:1,children:(0,S.jsx)(v.Z,{numberOfCollaborators:R,ownerFullName:null!=(l=null==eW||null==(s=eW.owner)?void 0:s.fullName)?l:"",ownerIsVerifiedIdentity:!!e3,ownerIsVerifiedMerchant:!!e2,showBoardCollaborators:ek})}),!eC&&(0,S.jsxs)(o.xu,{alignItems:eU?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,S.jsx)(o.kC.Item,{flex:"none",children:(0,S.jsxs)(o.xv,{color:e$?void 0:"subtle",lineClamp:1,size:"100",children:[(0,S.jsx)(g.Z,{}),(0,p.nk)(eN.ngettext('{{ count }} Pin', '{{ count }} Pins', eO, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:ez(ef,eO,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!ej&&(0,S.jsxs)(o.xv,{color:e$?void 0:"subtle",lineClamp:1,size:"100",children:[(0,S.jsx)(y.Z,{ariaHidden:!0,size:"100"}),(0,S.jsx)(g.Z,{}),(0,p.nk)(eN.ngettext('{{ count }} section', '{{ count }} sections', ej, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:ej})]}),!e$&&(0,S.jsx)(o.xv,{color:"subtle",size:"100",children:(0,S.jsx)(y.Z,{ariaHidden:!0,size:"100"})}),(0,S.jsx)(o.kC.Item,{flex:ej?"none":"grow",children:(0,S.jsx)(o.xu,{display:"flex",marginEnd:2*!!eK,marginStart:e$?2:void 0,children:(0,S.jsxs)(o.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,S.jsx)(g.Z,{}),eB(eu,!0)]})})})]}),b&&!eU&&(0,S.jsxs)(o.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,S.jsx)(g.Z,{}),eN._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),e1&&(0,S.jsx)(o.xu,{column:2===ex?12:void 0,flex:"none",marginTop:2===ex?3:void 0,children:(0,S.jsx)(E.Z,{disabled:!!(null==eW||null==(u=eW.owner)?void 0:u.blockedByMe)||B,followEventType:26,id:W,isFollowed:z,onFollow:eQ,onUnfollow:eJ,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:eM,viewType:eF})})]})})]})}})}},222401:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r,i=n(586659),o=n(581722);n(492996);var a=n(20256),l=n(521009),s=n(821342),u=n(28427),c=n(15667),d=n(941404),p=n(572227),f=n(647709),m=n(322838),g=n(537005),y=n(408575),h=n(207691),v=n(975740),_=n(382718);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x=(void 0!==r||(r=n(184242)).hash&&"3e837db15a9e9f5a0377c7ab62c7401e"!==r.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),S=["thumbnail","imageOnly"],P=function(e){var t=e.isUsingMask,n=e.setIsHovered,r=e.children,o=(0,f.HG)();return t&&o?(0,_.jsx)(a.xu,{onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},children:r}):(0,_.jsx)(i.Fragment,{children:r})};function w(e){var t,n,r,w,I,O,j,E,A,T,k,C,D,R,L,M,F,N,B,z,Z,U,K,V,H,G,W,q=e.boardKey,Y=e.component,X=e.containerBackgroundColor,$=e.display,Q=e.forwardedRef,J=e.fullSize,ee=e.hideSecretBoardIcon,et=e.isAttributionHeightUnfixed,en=e.isCollaboratorsAttributionVisible,er=e.isFeaturedBoardsModule,ei=e.isHomePageBoards,eo=e.noPaddings,ea=e.showFollowButton,el=e.isUsingMask,es=e.showPinCount,eu=e.slotIndex,ec=e.type,ed=e.viewObjectIdStr,ep=e.viewParameter,ef=e.viewType,em=e.trackInteractionObjectProp,eg=e.isFromProfileGrid,ey=e.metaMarginTop,eh=e.metaMarginBottom,ev=e.metaPaddingY,e_=(0,s.Z)(),eb=e_&&e_.isAuth,ex=(0,o.I0)(),eS=(0,c.B)().locale,eP=(0,p.Z)(),ew=(0,u.Z)(x,q),eI=(0,v.gC)(),eO=null!=ew&&ew.entityId?eI(ew.entityId):null,ej=(0,g.Z)(ew),eE=(0,l.Z)(),eA=(0,f.HG)(),eT=function(e){if(Array.isArray(e))return e}(t=(0,i.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),ek=eT[0],eC=eT[1];if(!ew)return null;var eD=ew.collaboratingUsers,eR=ew.owner,eL=ew.privacy,eM=ew.shouldShowBoardCollaborators,eF=e_.isAuth?e_.id:"",eN=(null==eR?void 0:eR.entityId)===eF,eB=[];(null==eD?void 0:eD.__typename)==="UserCollaboratingUsersConnectionContainer"?eB=null!=(H=null==(G=eD.connection)||null==(W=G.edges)?void 0:W.map(function(e){var t;return null==e||null==(t=e.node)?void 0:t.entityId}))?H:[]:null!=eO&&eO.collaborating_users&&(eB=eO.collaborating_users.map(function(e){return e.id}));var ez=eB.includes(eF)||eN;if("secret"===eL&&!ez)return null;var eZ=!eb&&!(void 0!==eg&&eg&&ew.hasCustomCover)&&!!(null!=(n=ew.images236x)&&null!=(r=n[0])&&r.url),eU="grid"===ec||"thumbnail"===ec?2:4,eK=eZ?null==(w=ew.images236x)||null==(I=w[0])?void 0:I.url:ej(eU),eV=null!=(O=ew.coverPin)?O:null==eO?void 0:eO.cover_pin,eH=null!=(j=(null==eV?void 0:eV.crop)&&(null==eV?void 0:eV.size)&&{x:null!=(E=null==eV?void 0:eV.crop[0])?E:0,y:null!=(A=null==eV?void 0:eV.crop[1])?A:0,width:null!=(T=null==eV?void 0:eV.size[0])?T:0,height:null!=(k=null==eV?void 0:eV.size[0])?k:0})?j:{x:0,y:0,width:0,height:0},eG={isCustom:!eZ&&(ew.hasCustomCover||void 0),url:eK,position:eH},eW=null!=(C=ew.pinThumbnailUrls)?C:null==eO?void 0:eO.pin_thumbnail_urls,eq=(0,y.Jx)(ew.images170x,null!=(D=null==eW?void 0:eW.filter(function(e){return null!==e}))?D:void 0,eK).map(function(e){var t=e.url;return{name:(0,y.po)(t),url:t}}),eY=[44,49,4182].includes(ep)||[3,442,625].includes(ef),eX=null!=ew&&ew.sensitivityScreen?{reason:null==(R=ew.sensitivityScreen)?void 0:R.reason,showWarning:null==(L=ew.sensitivityScreen)?void 0:L.showWarning}:void 0,e$=null!=(M=null!=(F=ew.pinCount)?F:null==eO?void 0:eO.pin_count)?M:0,eQ=null!=(N=null!=(B=ew.sectionCount)?B:null==eO?void 0:eO.section_count)?N:0,eJ=(0,_.jsx)(m.Z,{archivedDate:null!=(z=ew.archivedByMeAt)?z:null==eO?void 0:eO.archived_by_me_at,boardId:ew.entityId,boardKey:ew,canEdit:!!ew.boardAccess&&ew.boardAccess.includes("write"),containerBackgroundColor:X,coverPhoto:eG,display:void 0===$?"responsive":$,followedByMe:!!(null!=(Z=null==eO?void 0:eO.followed_by_me)?Z:ew.followedByMe),fullSizeDrawer:J,hideMeta:S.includes(ec),hideSecretBoardIcon:void 0!==ee&&ee,id:ew.entityId,imagesLego:eq,isActive:ek,isAttributionHeightUnfixed:void 0!==et&&et,isAuthenticated:eb,isCollaborative:!!ew.isCollaborative,isCollaborator:!!ez,isCollaboratorsAttributionVisible:void 0!==en&&en,isFeaturedBoardsModule:void 0!==er&&er,isHomePageBoards:ei,isOwner:eN,isProtected:"protected"===ew.privacy||(null==eO?void 0:eO.privacy)==="protected",isSecret:"secret"===ew.privacy||(null==eO?void 0:eO.privacy)==="secret",lastModifiedDate:null!=(U=null!=(K=ew.boardOrderModifiedAt)?K:null==eO?void 0:eO.board_order_modified_at)?U:"",layout:eA?"square":void 0,locale:eS,metaMarginBottom:void 0===eh?0:eh,metaMarginTop:void 0===ey?2:ey,metaPaddingY:void 0===ev?0:ev,name:null!=(V=ew.name)?V:(null==eO?void 0:eO.name)||"",numberOfCollaborators:eB.length,numCols:eU,onFollow:function(e){return ex((0,h.Z)(e,eE))},onUnfollow:function(e){return ex((0,h.f)(e,eE))},pinCount:(void 0===es||es)&&e$?e$:void 0,sectionCount:null!=eQ?eQ:0,sensitivityScreen:eX,showBoardCollaborators:!1!==eM,showFollowButton:void 0===ea||ea,showTitleOnly:"imageTitle"===ec,slotIndex:eu,viewerId:eF,viewObjectIdStr:ed,viewParameter:ep,viewType:ef}),e0=ew.url||(null==eO?void 0:eO.url);return!S.includes(ec)&&e0?(0,_.jsx)(a.Tg,{dataTestId:"board-rep-tap-area-link",href:eb?e0:e0.toLowerCase(),onTap:function(){if(eY&&eE({aux_data:{board_id:ew.entityId,board_pin_count:e$,board_section_count:eQ},component:null!=Y?Y:1,element:36,event_type:102,view_parameter:49===ep?eN?3106:3107:ep,view_data:{view_object_id_str:ed}}),!eb){if((0,d.NC)("click_go_to_board"),em)return void eP(em);eP({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,_.jsx)(a.xu,{ref:Q,paddingY:void 0!==eo&&eo?0:eA?2:3,children:(0,_.jsx)(P,{isUsingMask:void 0!==el&&el,setIsHovered:eC,children:eJ})})}):eJ}},223615:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(20256),i=n(637117),o=n(19585),a=n(906553),l=n(15667),s=n(382718),u={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function c(e){var t=e.ownerFullName,n=e.ownerIsVerifiedMerchant,c=e.ownerIsVerifiedIdentity,d=e.numberOfCollaborators,p=e.size,f=void 0===p?"xs":p,m=e.showBoardCollaborators,g=(0,o.ZP)(),y=(0,l.B)().locale,h=(0,a.Z)();return(0,s.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",maxHeight:u[f].height,children:[(0,s.jsx)(r.xv,{lineClamp:1,size:u[f].text,children:(0,s.jsx)(i.Z,{text:t})}),(n||c)&&(0,s.jsx)(r.xu,{flex:"none",marginStart:1,children:n?(0,s.jsx)(r.kw,{accessibilityLabel:g._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"info",icon:"compact-check-circle-fill",size:u[f].icon}):(0,s.jsx)(r.kw,{accessibilityLabel:g._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"compact-check-circle-fill",size:u[f].icon})}),(void 0===m||m)&&d>0&&(0,s.jsx)(r.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,s.jsx)(r.xv,{size:u[f].text,children:"+ "+h(y,d,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},537005:function(e,t,n){n(492996);var r,i=n(28427),o=n(975740),a=(void 0!==r||(r=n(879991)).hash&&"756d8d8edca35eac0a0500359bf60618"!==r.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);t.Z=function(e){var t,n,r,l,s,u,c,d=(0,i.Z)(a,e),p=(0,o.gC)(),f=null!=d&&d.entityId?p(d.entityId):null,m=null!=(t=null==d?void 0:d.imageCoverUrl)?t:null==f?void 0:f.image_cover_url,g=null!=(n=null==d?void 0:d.coverImageSpec_216x146)?n:null==f||null==(r=f.cover_images)?void 0:r.spec_216x146,y=null!=(l=null==d?void 0:d.coverImageSpec_222x)?l:null==f||null==(s=f.cover_images)?void 0:s.spec_222x,h=null!=(u=null==d?void 0:d.coverImageSpec_400x300)?u:null==f||null==(c=f.cover_images)?void 0:c.spec_400x300;return function(e){var t,n,r,i=(null==d?void 0:d.imageCoverHdUrl)||(null==d?void 0:d.imageCoverUrl);if(i)return i;var o=null!=(t=null!=(n=null!=(r=null==h?void 0:h.url)?r:null==y?void 0:y.url)?n:null==g?void 0:g.url)?t:"";return e&&e>2&&o?o:m||""}}},408575:function(e,t,n){n.d(t,{Bw:function(){return l},Jx:function(){return a},po:function(){return r}});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(null!=e?e:"").substring((null!=e?e:"").lastIndexOf("/")+1)},i=function(e){return{dominant_color:"#FFFFFF",height:1,url:e,width:1}},o=function(e){if(!e)return function(){return!0};var t=r(e);return function(e){var n;return"string"==typeof e?r(e)!==t:r(null!=(n=e.url)?n:"")!==t}},a=function(e,t,n){return e?e.filter(o(n)):t?t.filter(o(n)).map(i):[]},l=function(e){var t;return null!=(t=e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})?t:{x:0,y:0,width:0,height:0}}},601686:function(e,t,n){n.d(t,{bq:function(){return d},x4:function(){return p}});var r=n(586659),i=n(611499),o=n(382718);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:function(){},setIsCloseupMediaViewerOpen:function(){},setIsCommentAttachmentSelectorOpen:function(){},setIsCommentComposerFocused:function(){},setIsCommentPopoverInteractionActive:function(){},setIsMediaViewerOpen:function(){},setIsShoppingModuleExpanded:function(){},setCalculatedImageHeight:function(){},setViewportSize:function(){}},c=(0,r.createContext)(u);function d(e){var t=e.children,n=e.value,i=(0,r.useMemo)(function(){return s(s({},u),n)},[n]);return(0,o.jsx)(c,{value:i,children:t})}function p(){var e=(0,r.useContext)(c);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},611499:function(e,t,n){n.d(t,{$T:function(){return g},CI:function(){return a},Ch:function(){return s},E$:function(){return P},ER:function(){return m},Gb:function(){return u},Gg:function(){return i},Hf:function(){return v},Id:function(){return x},Ie:function(){return d},KP:function(){return p},Kn:function(){return l},O5:function(){return y},d2:function(){return c},dm:function(){return S},fF:function(){return b},g9:function(){return f},iB:function(){return _},rv:function(){return h},u6:function(){return o}});var r=n(20256),i=508,o=1016,a=488,l=992,s=672,u=1176,c=40,d=72,p=740,f=32,m=16,g=24,y=2,h=1,v=new r.Ry(5),_={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},b={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},x="calc(90vh - 80px)",S="calc(55vh + 80px)",P="calc(75vh - 80px)"},300685:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(586659),i=n(20256),o=n(592821),a=n(582569),l=n(980787),s=n(937392),u=n(273094),c=n(93966),d=n(19585),p=n(351607),f=n(369416),m=n(302148),g=n(15667),y=n(341742),h=n(601686),v=n(382718);function _(e){var t=e.index,n=e.length,r=e.showBadge;return(0,v.jsx)(i.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:.8*!!r,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new i.Ry(1),children:(0,v.jsx)(i.xv,{color:"inverse",children:"".concat((null!=t?t:0)+1,"/").concat(n)})})}var b=n(712172),x=n(169053),S=n(74459);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var E=function(e){var t=e.index,n=O((0,r.useState)(!0),2),i=n[0],o=n[1],a=(0,r.useRef)(void 0),l=(0,r.useRef)(void 0);return(0,r.useEffect)(function(){return a.current=setTimeout(function(){o(!1)},3e3),function(){clearTimeout(a.current)}},[]),(0,r.useEffect)(function(){if(!l.current){l.current=t;return}clearTimeout(a.current),o(!0)},[t]),{showBadge:i}};function A(e){var t,n,P,w=e.backgroundColor,j=e.children,A=e.componentType,T=e.containerRef,k=e.contextLogData,C=e.disableTransition,D=e.gap,R=void 0===D?0:D,L=e.height,M=e.id,F=e.impressionType,N=e.index,B=e.responsiveSizing,z=void 0!==B&&B,Z=e.shouldBeDragCarousel,U=e.showCarouselBadge,K=e.styleOverrides,V=e.innerCarouselWidthRef,H=e.slideWidth,G=e.surface,W=e.paddingX,q=e.view,Y=e.viewParameter,X=e.widthRatio,$=void 0===X?1:X,Q=e.setSlideIndex,J=e.sliderRef,ee=e.showCarouselOverflow,et=e.isHorizontalScrollable,en=E({index:N}).showBadge,er=(0,l.u)().logContextEvent,ei=(0,x.S6)()(M),eo=(0,d.ZP)(),ea=(0,g.B)().isRTL,el=(0,r.useRef)(void 0),es=(0,r.useRef)(null),eu=(0,r.useRef)(0),ec=(0,r.useRef)(void 0),ed=(0,S.Z)(),ep=(0,h.x4)(),ef=ep.peekCloseupEnabled,em=ep.viewportSize;if((0,y.Z)(function(){var e=es.current;if(e){J&&e&&(J.current=e);var t=function(){var e=eu.current;if(et){var t=new IntersectionObserver(function(n){var i,o=-(null!=(i=O(n,1)[0].boundingClientRect.x)?i:0),a=r.Children.toArray(j),l=J?(0,b.yR)(J.current,o+ed,H,$,R,a.length):0;null==Q||Q(l),Math.abs(e-o)>=10&&er({aux_data:I({},k),component:A,event_type:"right"==(e<o?"right":"left")?9315:9316,view_type:q,view_parameter:Y}),eu.current=o,ec.current&&t.unobserve(ec.current)});ec.current&&t.observe(ec.current)}else{var n,i,o=-(null!=(n=null==(i=ec.current)?void 0:i.getBoundingClientRect().x)?n:0);Math.abs(e-o)>=10&&er({aux_data:I({},k),component:A,event_type:"right"==(e<o?"right":"left")?9315:9316,view_type:q,view_parameter:Y}),eu.current=o}};return Z&&(et&&(null==e||e.addEventListener("scroll",t)),null==e||e.addEventListener("touchend",t)),function(){Z&&(et&&(null==e||e.removeEventListener("scroll",t)),null==e||e.removeEventListener("touchend",t))}}}),$>1||$<0)throw Error("widthRatio should be between 0 and 1 inclusive");var eg=Math.floor(H*$),ey=r.Children.toArray(j),eh=ey.length*eg,ev=(null==T?void 0:T.clientWidth)||eh,e_=(0,o.Re)(),eb=e_.maxHeight,ex=e_.fiftyPercentHeight,eS=e_.fiftyPercentWidth,eP=ef&&"lg"===em&&"ShoppingGridSmallCarousel"===G;ef&&(P="sm"===em?ex:eb);var ew=null!=(t=null==K?void 0:K.justifyContent)?t:ev>eh?"center":"start",eI=function(e){return void 0!==e?"".concat(e,"px"):Z?"".concat(c.yt,"px"):void 0},eO=eI(null==K?void 0:K.horizontalScrollContainerPaddingLeft),ej=eI(null==K?void 0:K.horizontalScrollContainerPaddingRight);V&&(V.current="center"===ew?es.current:null);var eE=z||Z?void 0:(0,b.CU)({slotWidth:eg,gap:R,numberOfSlides:ey.length,index:N,containerWidth:ev,paddingX:W});return(0,v.jsxs)("div",{className:"BoardMoreIdeasRep"===F?"moreIdeasBoardRepCarousel":"",style:z?{height:"inherit"}:{},children:[(0,v.jsxs)(i.xu,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",height:z?"inherit":void 0,justifyContent:ew,overflow:eP||ee?void 0:"hidden",children:[U&&(0,v.jsx)(_,{index:N,length:ey.length,showBadge:en}),"BoardMoreIdeasRep"!==F&&(0,v.jsx)(a.P,{pinKey:null!=ei?{type:"Legacy",data:ei}:null,children:function(e){var t,n;return(0,v.jsx)(u.Z,{carouselData:I(I({},e),{},{type:"canonical"}),contextLogData:k,height:null!=(t=null!=L?L:null==(n=el.current)?void 0:n.clientHeight)?t:1,id:M,impressionType:"Pin",index:N,slideWidth:H,view:null!=q?q:1,viewParameter:null!=Y?Y:72},"carousel-impression-key-".concat(N))}}),Z&&(0,v.jsx)(f.Z,{unsafeCSS:"\n  .horizontal-scroll-container {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }"}),(0,v.jsx)("div",{ref:es,className:"horizontal-scroll-container","data-test-id":"carousel-container",style:{backgroundColor:void 0===w?"transparent":w,overflowX:Z?"scroll":"visible",paddingLeft:eO,paddingRight:ej,display:"flex",flexDirection:null!=(n=null==K?void 0:K.flexDirection)?n:"row",height:z?"inherit":void 0,marginLeft:W?"".concat(W,"px"):void 0,marginRight:W?"".concat(W,"px"):void 0,position:"relative",scrollbarWidth:0,transition:Z||C?void 0:ea?"right .5s":"left .5s",right:ea?eE:void 0,left:ea?void 0:eE,width:z?"100%":void 0},children:ey.map(function(e,t){var n=t===ey.length-1,r=Math.ceil(R/4),a=0;r>=-12&&r<=12&&(a=r);var l=(0,v.jsx)(i.xu,{ref:function(e){el.current=e,0===t&&(ec.current=e)},"aria-label":(0,m.Wc)(eo._('Slide {{ currentSlide }} of {{ totalSlides }}', 'CloseupCarousel.Carousel.labelSlide', 'Accessibility label that defines a carousel slide. currentSlide: current slide number. totalSlides: total number of slides in carousel.'),{currentSlide:"".concat(t+1),totalSlides:"".concat(ey.length)}),"data-carousel-indicator":"carousel-card","data-test-id":"carousel-img-".concat(t),display:t!==N&&z?"none":"block",height:z?"100%":null!=L?L:void 0,marginEnd:n?0:a,maxHeight:P,maxWidth:eP?"calc(".concat(o.LV,"px - ").concat(o.Gd,"px * 2)"):eS,role:"group",width:z?"100%":eg,children:e},"carousel-slot-".concat(M,"-").concat(t));if("BoardMoreIdeasRep"===F){var s=e.props,u={total_object_count:null==s?void 0:s.story.objects.length,storyType:null==s?void 0:s.story.story_type,boardIdStr:null==s?void 0:s.item.board_id,slotIndex:null==s?void 0:s.slotIndex,story_id:null==s?void 0:s.story.id};return(0,v.jsx)(p.Fw,{componentType:A,contextLogData:u,impressionAuxFields:u,impressionType:"BoardMoreIdeasRep",loggingId:M,slotIndex:t,viewParameter:null!=Y?Y:72,viewType:null!=q?q:1,children:function(e){var t=e.impressionTrackerRef;return(0,v.jsx)(i.xu,{ref:t,children:l})}},"carousel-slot-".concat(M,"-").concat(t))}return l})})]}),14114===A&&(0,v.jsx)(s.Qp,{anchor:ec.current,experienceIds:[506684],idealDirection:"down",placementId:11,positionRelativeToAnchor:!0,showCaret:!0,textWeight:"normal",useMasonryFlyout:!0})]})}},448372:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var r,i=n(581722);n(492996);var o=n(20256),a=n(582569),l=n(28427),s=n(601686),u=n(839340),c=n(206459),d=n(382718);function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return f(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var m=(void 0!==r||(r=n(19342)).hash&&"d9fe632f7481dc91f9007bbd592d44c2"!==r.hash&&console.error("The definition of 'CarouselEllipsis_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function g(e){var t,n=e.carouselData,r=e.carouselIndex,f=e.componentType,g=e.contextLogData,y=e.enablePagination,h=e.handleCarouselSwipe,v=e.isCloseup,_=e.isEditMode,b=e.itemsPerPage,x=e.pinKey,S=e.viewParameter,P=e.viewType,w=e.variant,I=(0,l.Z)(m,x),O=(0,u.Z)(I),j=(0,a.Z)(I),E=n||j&&{carouselSlots:j.carouselSlots.map(function(e){return{id:e.slotId,title:e.title}}),entityId:null!=(t=j.carouselId)?t:"",index:j.index},A=(0,i.I0)(),T=(0,s.x4)(),k=T.closeupWithinMasonryEnabled,C=T.viewportSize;if(!E)return null;var D=function(e,t,n){var r,i,o;_||void 0===c.yR||(e.preventDefault(),e.stopPropagation(),A((0,c.yR)(null!=(o=null==I?void 0:I.entityId)?o:"",n))),void 0!==h&&h(n),O({pinId:null!=(r=null==I?void 0:I.entityId)?r:"",currentIndex:null!=t?t:0,nextIndex:n,carouselData:{carouselSlots:null==(i=E.carouselSlots)?void 0:i.map(function(e){return{id:e.id}}),entityId:E.entityId},viewParameter:S,viewType:P,componentType:f,contextLogData:g,isEditMode:_})},R=E.carouselSlots,L=E.index,M="number"==typeof r?r:L,F=null!=R&&R.length&&b?Math.ceil((null==R?void 0:R.length)/b):void 0,N="default"===w,B=N?"white":"#555",z=N?"rgba(255, 255, 255, 0.5)":"lightGray",Z=function(e,t){var n;return(0,d.jsx)(o.xu,{paddingX:1,children:(0,d.jsx)(o.iP,{accessibilityLabel:null!=(n=(e||{}).title)?n:"",fullWidth:!1,onTap:function(e){return D(e.event,M,t)},rounding:"circle",children:(0,d.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t===M?B:z}},"data-test-id":"ellipsis-size",height:8,rounding:"circle",width:8})})},"".concat(null==e?void 0:e.id,"-").concat(t))};return"sm"===C&&(k&&14339!==f&&14394!==f||!k)?null:R&&(0,d.jsx)(o.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:v?"end":"center",paddingY:+!!_,children:void 0!==y&&y?b&&p(Array(F).keys()).map(function(e){return Z(R[e*b],e*b)}):p(Array(R.length).keys()).map(function(e){return Z(R[e],e)})})}},458684:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r,i=n(581722);n(492996);var o=n(20256),a=n(582569),l=n(28427),s=n(19585),u=n(448372),c=n(839340),d=n(206459),p=n(382718);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},h=function(e,t,n,r,i,o){o||void 0===r||(e.preventDefault(),e.stopPropagation(),r(t,n)),void 0!==i&&i(n)},v=(void 0!==r||(r=n(625796)).hash&&"4b0c4a7a095db0d3cc7f22f3f6c85086"!==r.hash&&console.error("The definition of 'CarouselSliders_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function _(e){var t,n,r=e.addEllipsis,f=e.alwaysShowNavigationArrows,m=e.carouselIndex,_=e.carouselData,b=e.ellipsisVariant,x=e.handleCarouselSwipe,S=e.height,P=e.isShowingLastSlide,w=e.pinKey,I=e.contextLogData,O=e.viewParameter,j=e.viewType,E=e.componentType,A=e.isEditMode,T=e.storyType,k=e.itemsPerPage,C=e.forwardNode,D=e.backNode,R=e.sliderStyleOverride,L=e.hideNavigationArrows,M=(0,s.ZP)(),F=(0,i.I0)(),N=(0,l.Z)(v,w),B=(0,c.Z)(N),z=(0,a.Z)(N),Z=_||z&&{carouselSlots:z.carouselSlots.map(function(e){return{id:e.slotId,title:e.title}}),entityId:null!=(t=z.carouselId)?t:"",index:z.index};if(!Z)return null;var U=function(e,t){return F((0,d.yR)(e,t))},K=Z.carouselSlots,V=Z.index,H=void 0!==m?m:null!=V?V:0,G=Math.max(0,H-(null!=k?k:1)),W=Math.min((null!=K?K:[]).length-1,H+(null!=k?k:1)),q=0===H,Y=P||H===(null!=K?K:[]).length-1,X=function(e,t){var n,r,i,o=t<H?9315:9316,a="search_3p_ad_only_module"===T;h(e,null!=(n=null==N?void 0:N.entityId)?n:"",t,U,x,A),B({pinId:null!=(r=null==N?void 0:N.entityId)?r:"",currentIndex:H,nextIndex:t,carouselData:{carouselSlots:null==K?void 0:K.map(function(e){return{id:e.id}}),entityId:Z.entityId},viewParameter:O,viewType:j,storyType:T,componentType:E,contextLogData:I,isEditMode:A,isEligibleForPdp:null!=(i=null==N?void 0:N.isEligibleForPdp)&&i,swipeEvent:a?o:108})},$=D||(0,p.jsx)(o.JO,{accessibilityLabel:M._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),color:"inverse",icon:"arrow-back"}),Q=L?null:C||(0,p.jsx)(o.JO,{accessibilityLabel:M._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'),color:"inverse",icon:"arrow-forward"});return(0,p.jsxs)(o.xu,{alignItems:"center",bottom:!S,"data-test-id":"carousel-sliders",display:"flex",height:S,justifyContent:L?"center":"between",left:!0,position:"absolute",right:!0,top:!0,children:[!L&&(0,p.jsx)("div",{"data-test-id":"carousel-slider-left",onClick:function(e){return X(e,G)},role:"presentation",style:g(g(g({},y),R),{},{pointerEvents:q?"none":"auto"}),children:(0,p.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:q&&!f?"hidden":"visible",opacity:q&&f?"50%":"100%"}},"data-test-id":"carousel-slider-left-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:$})}),r&&(0,p.jsx)(u.default,{carouselData:{carouselSlots:null==(n=Z.carouselSlots)?void 0:n.map(function(e){return{id:e.id,title:e.title}}),entityId:Z.entityId,index:Z.index},carouselIndex:m,componentType:E,handleCarouselSwipe:x,itemsPerPage:k,pinKey:N,variant:b||"default",viewParameter:O,viewType:j}),!L&&(0,p.jsx)("div",{"data-test-id":"carousel-slider-right",onClick:function(e){return X(e,W)},role:"presentation",style:g(g(g({},y),R),{},{pointerEvents:Y?"none":"auto"}),children:(0,p.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Y&&!f?"hidden":"visible",opacity:Y&&f?"50%":"100%"}},"data-test-id":"carousel-slider-right-box",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:Q})})]})}},828942:function(e,t,n){var r=n(586659),i=n(20256),o=n(19585),a=n(382718);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.Z=function(e){var t,n=e.iconType,s=e.showFab,u=e.moduleHovered,c=e.opacity,d=(0,o.ZP)(),p=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=p[0],m=p[1],g=null!=u?u:f;return(0,a.jsx)(i.xu,{"data-test-id":"navigation-fab-container",onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},opacity:g?1:g===u?0:void 0===c?.8:c,children:(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},opacity:+!!s,children:(0,a.jsx)(i.hU,{accessibilityLabel:"forward"===n?d._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'):d._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),bgColor:"white",dataTestId:"navigation-fab",icon:"forward"===n?"arrow-forward":"arrow-back",size:"md"})})})}},839340:function(e,t,n){n.d(t,{Z:function(){return p}}),n(492996);var r,i=n(980787),o=n(28427),a=n(431338);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["objectIdStr"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=(void 0!==r||(r=n(59827)).hash&&"dbfca9820e0aa1302554a0137a270b16"!==r.hash&&console.error("The definition of 'useLogSwipe_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function p(e){var t=(0,i.u)().logContextEvent,n=(0,o.Z)(d,e),r=(0,a.Z)(n);return function(e){var n=e.pinId,i=e.currentIndex,o=e.nextIndex,a=e.carouselData,l=e.viewParameter,u=e.viewType,d=e.storyType,p=e.componentType,f=e.contextLogData,m=e.isEditMode,g=e.swipeEvent;if(!m){var y=a.carouselSlots,h=a.entityId,v=null!=f?f:{},_=v.objectIdStr,b=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(v,s);t({event_type:null!=g?g:108,object_id_str:null!=n?n:_,component:p,view_type:u,view_parameter:l,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==y?void 0:y[i])&&Number(y[i].id),carouselDataId:Number(h),carouselSlotIndex:i,toCarouselSlotIndex:o}},aux_data:c(c({story_type:d},b),r())})}}}},712172:function(e,t,n){n.d(t,{CU:function(){return l},GH:function(){return c},Iw:function(){return u},c3:function(){return m},gA:function(){return d},tD:function(){return s},vF:function(){return p},yR:function(){return f}});var r=function(e){var t=e.index;return e.numberOfSlides-t-Math.floor(e.slidesShownPerPosition)<1},i=function(e){var t=e.slidesShownPerPosition,n=e.slotAndGapWidth;return n-(t-parseInt(t,10))*n},o=function e(t){var n=t.containerWidth,r=t.contentWidth,i=t.index,o=t.slotAndGapWidth,a=i-1,l=a*o;return r-l>=n?l:e({index:a,slotAndGapWidth:o,containerWidth:n,contentWidth:r})},a=function(e){var t=e.containerWidth,n=e.contentWidth,r=e.gap,a=e.index,l=e.slidesShownPerPosition,s=e.slotAndGapWidth,u=e.paddingX;return o({containerWidth:t,contentWidth:n,index:a,slotAndGapWidth:s})+i({slidesShownPerPosition:l,slotAndGapWidth:s})-r+(void 0===u?0:u)},l=function(e){var t=e.containerWidth,n=e.gap,i=e.index,o=e.numberOfSlides,l=e.slotWidth,s=e.paddingX,u=l+n,c=u*o,d=s?t-s:t;if(c<=d)return 0;var p=d/u,f=r({index:i,numberOfSlides:o,slidesShownPerPosition:p})?a({containerWidth:d,contentWidth:c,gap:n,index:i,slidesShownPerPosition:p,slotAndGapWidth:u,paddingX:s}):i*u;return f?Math.round(-f):0},s=function(e){var t=e.containerWidth,n=e.gap,r=e.index,i=e.numberOfSlides,o=e.slotWidth,a=e.isHorizontalScrollable,s=e.paddingX,u=e.rows,c=i/(void 0===u?1:u)*o+n*(i-1),d=s?t-s:t;return 0!==t&&(c<=d||(a?c<=d:Math.abs(l({containerWidth:t,gap:n,index:r,numberOfSlides:i,slotWidth:o,paddingX:s}))+n>=c-d))},u=function(e){var t=e.containerWidth,n=e.currentIndex,r=e.gap,i=e.index,o=e.numberOfSlides,a=e.slotWidth,s=e.paddingX,u=a+r,c=s?t-s:t;if(u*o<=c||0===t)return!0;var d=l({containerWidth:t,gap:r,index:n,numberOfSlides:o,slotWidth:a,paddingX:s}),p=s?c+u+s:t+u;return d+u*i<p},c=function(e,t,n){return e||"".concat(t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')," ").concat(n)};function d(e){var t,n,r,i,o,a=e.highResOnly,l=e.slot.images;return a?"".concat(null!=(i=null==l||null==(o=l["564x"])?void 0:o.url)?i:""," 1x"):[(null==l?void 0:l["474x"])&&"".concat(null!=(t=l["474x"].url)?t:""," 2x"),(null==l?void 0:l["736x"])&&"".concat(null!=(n=l["736x"].url)?n:""," 3x"),(null==l?void 0:l.orig)&&"".concat(null!=(r=l.orig.url)?r:""," 4x")].filter(Boolean).join(", ")}var p=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=o?n-o:n;if(a===t)return-(r*t*1)+(o||0);var l=Math.floor(a-t),s=t+i;return r===e-1?-1*r*s+l+(o||0):-1*r*s+(o||0)},f=function(e,t,n,r,i,o,a){if(!e||t<=0)return 0;var l=Math.floor(n*r),s=(null==e?void 0:e.clientWidth)||o*l;return Math.round(((a?t-a:t)+(a?s-a:s)-l/2)/(l+i))-1},m=function(e,t,n,r,i,o){e.current&&t&&e.current.scrollBy({left:(n-r)*(i+o),behavior:"smooth"})}},74229:function(e,t,n){n.d(t,{k:function(){return r}});var r=new(n(20256)).Ry(700)},280670:function(e,t,n){n.d(t,{O:function(){return d},Z:function(){return p}});var r=n(586659),i=n(20256),o=n(19585),a=n(694955),l=n(382718);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var u=(0,r.lazy)(function(){return n.e("28168").then(n.bind(n,494818))}),c={xs:12,sm:16,md:20,lg:24};function d(e){var t=e.children,n=(0,o.ZP)();return(0,l.jsx)(i.u,{dataTestId:"verified-badge-tooltip",link:(0,l.jsx)(i.rU,{href:a.vBy,target:"blank",children:(0,l.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:n._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:n._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:t})}function p(e){var t,n=e.iconOnly,a=e.isVerifiedIdentity,p=e.isVerifiedMerchant,f=e.showText,m=e.size,g=e.inspirationalBadges,y=e.inspirationalBadgesColor,h=(0,o.ZP)(),v=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return s(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=v[0],b=v[1],x=(0,l.jsxs)(i.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,l.jsx)(i.iP,{onTap:function(){return b(!0)},children:(0,l.jsx)(i.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"info",icon:"check-circle-fill",inline:!0,size:c[m]})}),f&&(0,l.jsx)(i.xu,{marginStart:2,children:(0,l.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:h._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(r.Fragment,{children:[p&&!n&&(0,l.jsx)(d,{children:x}),p&&n&&x,a&&!p&&(0,l.jsx)(i.JO,{accessibilityLabel:h._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle-fill",size:c[m]}),!a&&!n&&p&&_&&(0,l.jsx)(r.Suspense,{children:(0,l.jsx)(u,{inspirationalBadges:g,inspirationalBadgesColor:y,setShowModal:b,showModal:_})})]})}},661037:function(e,t,n){n.d(t,{A:function(){return l},Z:function(){return s}});var r=n(586659),i=n(20256),o=n(382718);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s(e){var t,n,s,u=e.backgroundColor,c=e.children,d=e.coverImage,p=e.disableTabIndex,f=e.height,m=e.id,g=e.isHovered,y=e.onClick,h=e.onMouseDown,v=e.onMouseEnter,_=e.onMouseLeave,b=e.searchBoxRenderStopwatch,x=e.url,S=e.width,P=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=P[0],I=P[1],O=function(){v?v():I(!0)},j=function(){_?_():I(!1)},E=g||w,A=E?l.hoverOverlay:l.bubbleOverlay;return(0,o.jsx)(i.Tg,{href:x,onBlur:j,onFocus:O,onMouseDown:h,onMouseEnter:O,onMouseLeave:j,onTap:function(){null==y||y(m)},rounding:4,tabIndex:p?-1:void 0,children:(0,o.jsx)(i.zd,{height:f,rounding:4,width:S||"100%",children:null!=d&&d.url?(0,o.jsxs)(i.Ee,{alt:"",color:u,fit:"cover",naturalHeight:null!=(n=d.height)?n:1,naturalWidth:null!=(s=d.width)?s:1,onLoad:function(){null==b||b.stop()},role:"presentation",src:d.url,children:[(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:A},height:"100%",width:"100%"}),"function"==typeof c?c({isHovered:E}):c]}):(0,o.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},813962:function(e,t,n){n.d(t,{Z:function(){return t1}});var r=n(586659),i=n(20256),o=n(35794),a=n(980787),l=n(19585),s=n(341742),u=n(430635),c=n(382718);function d(e){var t=e.showCancel,n=e.viewType,r=(0,l.ZP)(),d=(0,u.Z)().path,p=(0,a.u)().logContextEvent,f=(0,o.m)(),m=f.setImage,g=f.setUpdatedCropArea,y=f.setIsLensModalOpen,h="/lens-search"===d;(0,s.Z)(function(){p({component:43,element:1304,event_type:120,view_type:n})});var v=function(){p({component:43,element:1304,event_type:101}),y(!0)};return(0,c.jsxs)(i.kC,{alignItems:"center",direction:"row",height:"100%",children:[t&&(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderLeft:"2px solid #cdcdcd",borderRadius:24}},"data-test-id":"lens-vertical-line",height:20}),(0,c.jsx)(i.hU,{accessibilityLabel:r._('Lens', 'searchBox.lens.accessibilityLabel', 'Lens'),icon:"search-by-image",iconColor:"gray",onClick:function(){h||(m(void 0),g(void 0)),v()}})]})}var p=n(963489),f=n(116882),m=n(886981),g=n(953939),y=n(271910);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(){var e,t=(0,l.ZP)(),n=(0,o.m)(),s=n.setHistoryData,u=n.setImage,d=n.setIsLensModalOpen,f=(0,p.s0)(),v=(0,a.u)().logContextEvent,_=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,2)||function(e,t){if(e){if("string"==typeof e)return h(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=_[0],x=_[1],S=(0,m.Z)({name:"ApiResource",options:{url:"/v3/visual_search/lens/history/",data:{fields:"id,image_urls,image_sizes"}},noCache:!0}),P=S.data,w=void 0===P?[]:P,I=S.isLoaded&&w&&w.length>0;(0,r.useEffect)(function(){!b&&I&&(v({component:15075,element:14560,event_type:120,view_type:119}),x(!0))},[I,v,x,b]),(0,r.useEffect)(function(){I&&s(w)},[s,w,I]);var O=function(){u(void 0),d(!1),v({component:15075,element:14560,event_type:101,view_type:119}),f("/lens-search/history")};return w&&0!==w.length?(0,c.jsx)(y.q,{children:function(e){var n=e.hovered,r=e.onMouseEnter,o=e.onMouseLeave;return(0,c.jsx)(i.iP,{onTap:O,children:(0,c.jsxs)(i.xu,{alignContent:"between",dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, .1)":void 0}},direction:"row",display:"flex",height:110,onMouseEnter:r,onMouseLeave:o,position:"relative",rounding:4,width:"100%",children:[(0,c.jsx)(i.xu,{marginTop:2,position:"relative",width:112,children:w.slice(0,3).map(function(e,t){return(null==e?void 0:e.id)&&t<3&&(0,c.jsx)(g.Z,{card:{url:e.image_urls["236x236"]},fanOut:!1,index:t,rounding:4,size:"SMALL"},e.id)})}),(0,c.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingX:2,width:"calc(100% - ".concat(112,"px)"),children:[(0,c.jsxs)(i.kC,{alignItems:"stretch",direction:"column",gap:1,justifyContent:"start",children:[(0,c.jsx)(i.X6,{size:"400",children:t._('History', 'lens.history', 'header for the history count')}),(0,c.jsx)(i.xv,{size:"200",children:t._('View previous uploads', 'lens.previous.uploads', 'previously uploaded lens image history ')})]}),(0,c.jsx)(i.JO,{accessibilityLabel:t._('Lens history', 'lens.history.navigation.button', 'Clicking on the button will navigate the user to the Lens History landing page'),color:"default",icon:"arrow-forward"})]})]})})}}):null}var _=n(866189),b=n(382594),x=n(657043),S=n(982166),P=n(302148),w=n(899678),I=n(194737),O=n(594306),j=n(767209),E=n(765908);function A(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function T(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){A(o,r,i,a,l,"next",e)}function l(e){A(o,r,i,a,l,"throw",e)}a(void 0)})}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||C(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return D(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var R={border:"2px dashed #dadada",borderRadius:"16px",pointerEvents:"none"};function L(){var e,t=(0,l.ZP)(),n=(0,p.s0)(),d=(0,o.m)(),m=d.historyData,g=d.image,y=d.setHeroImageUrl,h=d.setImage,A=d.setImageData,L=d.setIsLensModalOpen,M=(0,u.Z)().path,F=(0,a.u)().logContextEvent,N=k((0,r.useState)(347),2),B=N[0],z=N[1],Z=k((0,r.useState)(""),2),U=Z[0],K=Z[1],V=k((0,r.useState)(""),2),H=V[0],G=V[1],W=k((0,r.useState)(null),2),q=W[0],Y=W[1],X=k((0,r.useState)(""),2),$=X[0],Q=X[1],J=(0,r.useRef)(null),ee="/lens-search"===M,et="/lens-search/history"===M;(0,s.Z)(function(){F({component:15075,event_type:120,view_type:119})}),(0,r.useEffect)(function(){""===U?Q(""):G("")},[U]),(0,r.useEffect)(function(){(ee||et)&&q&&!g&&(L(!1),et&&n("/lens-search/"))},[L,n,ee,g,q,et]),(0,r.useEffect)(function(){g&&!ee&&(n("/lens-search/"),L(!1))},[n,ee,g,L]),(0,r.useEffect)(function(){m&&m.length>0&&347===B&&z(B+110+12)},[m,z,B]);var en=function(e){var t=new FormData;t.append("image",e),(0,b.Z)({url:"/upload-image-lens-history/",type:"PUT",data:t})},er=(0,r.useCallback)(T(regeneratorRuntime.mark(function e(){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=14;break}return e.prev=1,e.next=4,(0,_.Z)(q,A);case 4:return n=e.sent,e.next=7,(0,E.Z)({i18n:t,ideaPinRenamingEnabled:!1,file:n,options:{allowVideo:!1}});case 7:"error"===(r=e.sent).type?G(r.message):(G(""),h(n),en(n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),G(null!=(i=(0,x.Z)(e.t0,"message"))?i:"");case 14:case"end":return e.stop()}},e,null,[[1,11]])})),[q,G,h,t,A]),ei=function(e){var n=(0,I.Z)({url:e});F({component:15075,element:14559,event_type:15656,view_type:119}),n?Q(""):Q(t._('Invalid URL. Try using another link', 'lens.url.invalid', 'Error message for invalid URL in Lens Image Search')),h(void 0),T(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.Z)(e);case 2:Y(t.sent);case 4:case"end":return t.stop()}},t)}))(),e&&((0,f.Z)(e),y(e))},eo=function(){h(void 0),y(void 0)};return(0,r.useEffect)(function(){q&&er()},[er,q]),(0,c.jsx)(S.ZP,{accessibilityModalLabel:t._('Lens modal', 'lens.modal.accessibilityLabel', 'Modal for Lens Image Search'),align:"start",heading:(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(i.X6,{accessibilityLevel:1,size:"600",children:t._('Upload an image to search', 'lens.modal.header', 'Header for Lens Image Search modal')}),(0,c.jsx)(i.hU,{accessibilityLabel:t._('Lens icon', 'lens.entrypoint.icon', 'Icon for lens entrypoint'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:function(){return L(!1)},size:"md"})]}),isOpen:!0,onDismiss:function(){return L(!1)},size:"sm",children:(0,c.jsx)(i.xu,{height:B,marginTop:1,paddingX:6,children:(0,c.jsxs)(i.xu,{height:311,position:"relative",children:[(0,c.jsx)(j.Z,{accept:((function(e){if(Array.isArray(e))return D(e)})(e=O.xl)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).join(","),accessibilityLabel:t._('File Upload', 'lens.upload.fileUpload', 'Input where we upload files for Lens image search'),allowMultipleFiles:!1,dropRounding:16,hasError:!!H,id:"lens-photo-upload-input",onChange:function(e){var t,n=null==(t=e.target.files)?void 0:t[0];n&&(F({component:15075,element:14558,event_type:15656,view_type:119}),Y(n)),eo()},onDrop:function(e){var n=e.dataTransfer.files;F({component:15075,event_type:3501,view_type:119}),n.length>1?G(t._('We can\u2019t search multiple images at once', 'lens.error.multipleImages', 'Error message for uploading multiple images in Lens Image Search')):(G(""),Y(e.dataTransfer.files[0])),eo()},children:function(){return(0,c.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:R},direction:"column",display:"flex",height:"100%",children:[(0,c.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:70}},direction:"column",display:"flex",children:[(0,c.jsx)(i.JO,{accessibilityLabel:t._('Upload photo', 'lens.photo.upload.icon', 'Upload indicator for lens image search'),color:H?"error":"dark",icon:H?"alert":"arrow-circle-up",size:24}),(0,c.jsx)(i.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,c.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:4,children:[!!H&&(0,c.jsx)(i.xu,{marginBottom:4,width:320,children:(0,c.jsx)(i.xv,{align:"center",color:"error",children:H})}),(0,c.jsx)(i.xv,{align:"center",inline:!0,children:(0,P.nk)(t._('Drag an image here or {{ chooseFile }}', 'lens.modal.uploadTip.dragImage', 'Upload tip for Lens Image Search. chooseFile: choose a file to upload'),{chooseFile:(0,c.jsx)(i.xv,{inline:!0,underline:!0,children:t._('choose a file', 'lens.modal.uploadTip', 'Upload tip for Lens Image Search')},"lens-choose-file")})})]})})]}),(0,c.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #cdcdcd"}},paddingY:6,position:"absolute",width:"90%",children:(0,c.jsx)(w.Z,{children:(0,c.jsxs)(i.xu,{position:"relative",zIndex:new i.Ry(10),children:[(0,c.jsx)(i.nv,{ref:J,errorMessage:$,hasError:!!$,id:"scrape-view-website-link",label:t._('Upload from URL', 'lens.url.label', 'Label for url input'),onChange:function(e){K(e.value)},placeholder:t._('Paste image link', 'lens.url.textField', 'Placeholder text to enter website url'),size:"lg",type:"url",value:U}),!!U&&(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:30}},paddingX:2,position:"absolute",right:!0,top:!0,children:(0,c.jsx)(i.hU,{accessibilityLabel:t._('Submit', 'lens.url.submitButton', 'Submit button to scrape images from url'),bgColor:"lightGray",icon:"arrow-forward",iconColor:"darkGray",onClick:function(){return ei(U)},size:"sm"})})]})})})]})}}),(0,c.jsx)(i.xu,{marginTop:6,children:(0,c.jsx)(v,{})})]})})})}var M=n(780879),F=n(675973),N=n(658673),B=(0,N.Z)({name:"autocomplete_render",sampleRate:1}),z=B.Provider,Z=B.get,U=(0,N.Z)({name:"search_tab_render",sampleRate:1}),K=U.Provider,V=U.get,H=n(15667),G=n(662641),W=n(509207),q=n(821342),Y=n(369416);function X(e){var t=e.gradientPrimaryColor,n=e.gradientSecondaryColor,r=e.gradientDirection,o=e.position;return(0,c.jsx)(i.xu,{bottom:"bottom"===o,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(".concat(r,", ").concat(t,", ").concat(n,")"),pointerEvents:"none"}},height:16,position:"absolute",rounding:"pill",top:"top"===o,width:"100%",zIndex:new i.Ry(1)})}var $=function(e){var t=e.term;return(0,c.jsx)(i.xv,{color:"subtle",inline:!0,lineClamp:1,children:t})};function Q(e){var t,n,o=e.defaultPlaceholder,a=e.gradientSecondaryColor,s=void 0===a?"#FFF":a,u=e.height,d=e.suggestedSearchTerms,p=(0,l.ZP)(),f=d.length<3,m=(0,r.useRef)(null);return(0,c.jsx)(i.xu,{ref:m,alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"dynamic-search-placeholder",display:"flex",height:void 0===u?48:u,overflow:"hidden",position:"relative",children:f?(0,c.jsx)(i.xv,{color:"subtle",inline:!0,children:o}):(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(X,{gradientDirection:"to top",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:s,position:"top"}),(0,c.jsx)(X,{gradientDirection:"to bottom",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:s,position:"bottom"}),(0,c.jsxs)(i.kC,{alignItems:"stretch",height:18,justifyContent:"start",children:[(0,c.jsx)(i.xv,{color:"subtle",inline:!0,overflow:"noWrap",children:p._('Search for', 'searchBar.placeholder.dynamicText', 'Placeholder in search input. This text is followed by a set of animated search phrases like "Search for aesthetic art"')}),(0,c.jsx)(Y.Z,{unsafeCSS:"\n@keyframes slide-3-terms-loop {\n  0%, 21.74% {\n    transform: translateY(0%);\n  }\n  33.33%, 55.07% {\n      transform: translateY(-25%);\n  }\n  66.66%, 88.4% {\n      transform: translateY(-50%);\n  }\n  100% {\n      transform: translateY(-75%);\n  }\n}\n@keyframes slide-4-terms-loop {\n  0%,16.3% {\n    transform: translateY(0%);\n  }\n  25%,41.3%{\n    transform: translateY(-20%);\n  }\n  50%,66.3%{\n    transform: translateY(-40%);\n  }\n  75%,91.3%{\n    transform: translateY(-60%);\n  }\n  100% {\n    transform: translateY(-80%);\n  }\n}\n@keyframes slide-5-terms-loop {\n  0%, 13.04% {\n    transform: translateY(0%);\n  }\n  20%,33.04%{\n    transform: translateY(-16.66%);\n  }\n  40%,53.04%{\n    transform: translateY(-33.33%);\n  }\n  60%,73.04%{\n    transform: translateY(-49.98%);\n  }\n  80%,93.04%{\n    transform: translateY(-66.64%);\n  }\n  100% {\n    transform: translateY(-83.3%);\n  }\n}\n"}),(0,c.jsx)(i.xu,{children:(0,c.jsxs)(i.xu,{dangerouslySetInlineStyle:(t=d.length,{__style:{animation:"slide-".concat(t,"-terms-loop ").concat(2.3*(t+1),"s ease-out infinite forwards")}}),display:"inlineBlock",marginStart:1,children:[d.map(function(e){return(0,c.jsx)(i.xu,{marginBottom:7,children:(0,c.jsx)($,{term:e})},e)}),(0,c.jsx)(i.xu,{marginBottom:7,children:(0,c.jsx)($,{term:null!=(n=d[0])?n:""})})]})})]})]})})}var J=n(620438);function ee(){var e=(0,J.$)(),t=e.displayedQuery,n=e.inlineACSuggestion,r=e.logInlineSuggestionView;return(0,s.Z)(function(){r()}),(0,c.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,c.jsx)("span",{style:{visibility:"hidden"},children:(0,c.jsx)(i.xv,{color:"disabled",inline:!0,children:t})}),(0,c.jsx)(i.xv,{color:"subtle",inline:!0,children:n.slice(t.length)})]})}var et=n(256310),en=n(950741),er=n(256136),ei=n(879237);function eo(e){var t=e.disabled,n=e.name,o=(0,l.ZP)(),a=(0,r.useRef)(null),u=(0,r.useRef)(void 0),d=(0,q.Z)().isAuth,f=(0,p.TH)(),m=(0,i.JZ)(),g=(0,J.$)(),y=g.delayedSearchBoxOpen,h=g.displayedQuery,v=g.handleInputBlur,_=g.handleInputChange,b=g.handleInputClick,x=g.handleInputFocus,S=g.handleKeyDown,P=g.handleKeyUp,w=g.suggestionsFocusIndex,I=g.suggestionGroups,O=g.inlineACSuggestion,j=g.isInTypeaheadSession,E=g.handleTypedSearchSubmit,A=g.searchBoxPlaceholder,T=g.searchBoxHovered,k=g.setVoiceSearchPlaceholder,C=g.suggestedSearchTerms,D=g.voiceSearchPlaceholder,R=(0,er.zj)({suggestionsFocusIndex:w,suggestionGroups:I}),L=(0,et.b)(f).isEligiblePageTypeForDynamicSearchPlaceholder;(0,r.useEffect)(function(){D&&u.current&&(u.current.pathname!==f.pathname||u.current.search!==f.search)&&k(ei.K.NULL),u.current=f},[f,D,k]),(0,s.Z)(function(){a.current&&E&&a.current.addEventListener("searchTrigger",E)}),(0,r.useEffect)(function(){a.current&&(document.activeElement===a.current!==j?j?a.current.focus():a.current.blur():k(ei.K.NULL))},[j,k]),(0,s.Z)(function(){a.current&&new URLSearchParams(window.location.search).get("search_box_open")&&y()});var M=!m&&!d&&L&&!h,F=A||o._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box');return(0,c.jsxs)(i.xu,{flex:"grow",height:"100%",children:[(0,c.jsx)(Y.Z,{unsafeCSS:"input::placeholder{ color: #6E6E6E".concat(M?"; opacity: 0":"","}")}),(0,c.jsx)("input",{ref:a,"aria-activedescendant":R,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":j,"aria-label":o._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-gestalt-valid-html":"SearchField","data-test-id":"search-box-input",disabled:void 0!==t&&t,name:n,onBlur:v,onChange:_,onClick:b,onFocus:x,onKeyDown:S,onKeyUp:P,placeholder:F,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:W.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:h}),!!O&&(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:13}},position:"absolute",top:!0,width:"85%",children:(0,c.jsx)(ee,{})}),M&&(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,width:"85%",children:(0,c.jsx)(Q,{defaultPlaceholder:F,gradientSecondaryColor:T?en.wU:en.Sx,suggestedSearchTerms:C})}),(0,c.jsx)(i.xu,{display:"none",id:"searchBoxAccessibleText",children:o._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}var ea=n(525663),el=n(940280),es=n(478135),eu=n(25837);function ec(e){var t=e.contentTypes,n=e.contentTypesAnchor,r=e.handleSelectFilter,o=e.onDismiss;return(0,c.jsx)(i.Lt,{anchor:n,disableMobileUI:!0,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:o,zIndex:new i.Ry(eu.fe),children:t.map(function(e,t){return(0,c.jsx)(i.Lt.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:function(){return r(t)},option:{value:e.text,label:e.text},children:(0,c.jsx)(i.xv,{weight:[es.lw.PINS,es.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)})})}var ed=n(712511),ep=n(77836);function ef(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return em(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?em(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eg=function(e){switch(e){case es.lw.PINS:return 220;case es.lw.PINS_MINE:return 223;case es.lw.PINS_VIDEO:return 11399;case es.lw.BOARDS:return 221;case es.lw.USERS:return 222;default:return null}},ey=function(e){var t,n,o=e.currentlySelectedFilter,s=e.currentQuery,u=e.handleContentTypeFilterHover,d=e.handleScopeChange,f=(0,a.u)().logContextEvent,m=(0,l.ZP)(),g=(n=(t=[{scope:es.lw.PINS,text:m._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:es.lw.PINS_MINE,text:m._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(function(e){return e.scope===es.lw.PINS_MINE}),t.push(t.splice(n,1)[0]),t),y=(0,r.useRef)(null),h=(0,p.s0)(),v=(0,ed.Z)().enabled,_=ef((0,r.useState)(o||g[0].scope),2),b=_[0],x=_[1],S=ef((0,r.useState)(!1),2),P=S[0],w=S[1],I=ef((0,r.useState)(!1),2),O=I[0],j=I[1];(0,r.useEffect)(function(){x(o)},[o]);var E=function(){j(!0),u&&u(!0)},A=function(){j(!1),u&&u(!1)},T=(g[b?g.findIndex(function(e){return e.scope===b}):0]||g[0]).text,k=(0,c.jsx)(i.xu,{ref:y,dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:ea.XI}},"data-test-id":"search-filter",overflow:"hidden",children:(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,c.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:T}),(0,c.jsx)(i.xu,{marginStart:2,children:(0,c.jsx)(i.JO,{accessibilityLabel:m._('Dropdown', ' - ', ' -- '),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,c.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:O?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:ea.XI,marginStart:2,position:"relative",rounding:v?ep.Qq:6,children:[(0,c.jsx)(i.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:function(){return E()},onMouseLeave:function(){return A()},onTap:function(e){var t=e.event;t&&(t.preventDefault(),t.stopPropagation()),w(!P),f({event_type:101,component:215,aux_data:{entered_query:s}})},rounding:6,children:k}),P&&(0,c.jsx)(ec,{contentTypes:g,contentTypesAnchor:y.current,handleSelectFilter:function(e){var t=g[e].scope;x(t),w(!1),f({event_type:101,component:215,element:eg(t),aux_data:{entered_query:s}}),d(t),s&&h("/search/".concat(t,"/?q=").concat(encodeURIComponent(s),"&rs=").concat(el.i.FILTER))},onDismiss:function(){return w(!1)}})]})},eh=n(729434),ev=n(791948);function e_(e){return(e_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ex(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=e_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e_(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eS={recentSaves:[],recentViews:[]};function eP(e,t){if(e=e||eS,"FETCH_COMPLETE"!==t.type)return e;var n=t.payload,r=n.options,i=n.resource,o=t.payload.response.resource_response.data;if("ApiResource"===i&&"/v3/users/me/recent/engaged/pin/stories/"===(void 0===r?{}:r).url&&o){var a=o.find(function(e){return"user_recently_viewed_pins"===e.story_type}),l=o.find(function(e){return"user_recently_saved_pins"===e.story_type}),s=(null==a?void 0:a.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_view",url:"/pin/".concat(r)}}))||[],u=(null==l?void 0:l.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_save",url:"/pin/".concat(r)}}))||[];return ex(ex({},e),{},{recentSaves:u,recentViews:s})}return e}function ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eI=(0,eh.Z)("SearchBox"),eO=eI.Provider,ej=eI.get;function eE(e){var t,n=e.children,i=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(eP,eS))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ew(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ew(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i[1],l=(0,r.useCallback)(function(e){a({type:"FETCH_COMPLETE",payload:e})},[]);(0,ev.Z8)("ApiResource",l);var s=(0,r.useMemo)(function(){return{state:o}},[o]);return(0,c.jsx)(eO,{value:s,children:n})}var eA=n(444185),eT=n(647709);function ek(e){var t=e.autocompleteRequestSurface,n=(0,eT.HG)(),r=(0,q.Z)();return(0,eA.Z)(r.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:es.lw.PINS,autocomplete_request_surface:t},noCache:!0}:null),(0,eA.Z)(n?{name:"SearchTabResource"}:null),null}var eC=n(155557),eD=n(124320),eR=n(937392),eL=n(123998),eM=n(355940),eF=n(351607);function eN(e){return(eN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ez(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=eN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eN(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eN(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eZ=function(e){var t=e.children,n=e.impressionTrackerProps;return n?(0,c.jsx)(eF.Fw,ez(ez({},n),{},{children:t})):t({impressionTrackerRef:null})},eU=n(821806),eK=n(47426);function eV(e){var t=e.onLoad,n=e.suggestion,o=(0,eK.Z)({url:n.action_button_uri});return(0,r.useEffect)(function(){t()},[]),(0,c.jsxs)(i.xu,{padding:10,children:[(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"}},marginBottom:6,children:n.description}),(0,c.jsx)(i.Tg,{href:n.action_button_uri,rel:o?"nofollow":"none",rounding:"pill",children:(0,c.jsx)(i.xu,{color:"infoBase",display:"inlineBlock",padding:3,rounding:"pill",children:(0,c.jsx)(i.xv,{color:"inverse",weight:"bold",children:n.action_button_text})})})]})}var eH=n(350514),eG=n(463515),eW=n(78187);function eq(e){return(eq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eY=(0,r.lazy)(function(){return n.e("91111").then(n.bind(n,839803))});function eX(e){var t=e.experiences,n=e.index,o=e.focusedIndex,a=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,s=e.onLoad,u=e.query,d=e.suggestion,p=(0,eG.Z)(d),f=(0,J.$)(),m=f.handleSuggestionSelect,g=f.handleInclusiveProductFilterClick,y=f.getSuggestionImpressionOptions;return(0,r.useEffect)(function(){d.image||s()},[]),(0,c.jsx)(eR.M8,{experiences:t,placementId:1000315,searchTerm:u,suggestions:[d],children:function(e){var t=e.searchDelightConfig;return(0,c.jsx)(eZ,{impressionTrackerProps:y({index:n,groupIndex:n,suggestion:d,loggingId:d.id}),children:function(e){var r,f,y,h,v,_,b=e.impressionTrackerRef;return(0,c.jsxs)(i.xu,{ref:b,marginBottom:1,marginEnd:-3,marginStart:-3,children:[(0,c.jsx)(eH.J,{id:(0,er.Gp)(0,n),isHovered:o===n,onClick:function(){m({suggestion:d,index:n})},onMouseEnter:function(){a(n)},onMouseLeave:function(){l()},url:(0,er.Ek)({suggestion:d,query:u}),children:(0,c.jsx)(i.kC,{alignItems:"center",justifyContent:"start",children:(0,c.jsx)(i.xu,{flex:"grow",children:(0,c.jsx)(eH.q,{highlightMatch:!0,imageUrl:d.image,label:d.label,onLoad:s,query:u,rounding:2,searchDelightConfig:t,subLabel:d.subLabel,type:d.type})})})}),!!p&&p!==eW.ti.BODY&&g&&(0,c.jsx)(i.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:(0,c.jsx)(eM.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_InclusiveFilters",children:(0,c.jsx)(eU.Z,{children:(0,c.jsx)(eY,{filters:(f={},y=p,h=null==(v=d.modified_filter_eligibility)||null==(_=v[p])?void 0:_.filter_options,(r=function(e,t){if("object"!=eq(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eq(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(y,"string"),(y="symbol"==eq(r)?r:r+"")in f)?Object.defineProperty(f,y,{value:h,enumerable:!0,configurable:!0,writable:!0}):f[y]=h,f),moduleType:eW.CT.SEARCH_AUTOCOMPLETE,onClickApplyFilters:function(e){return g(d,n,e)},query:u,viewParameter:103,viewType:ea.Ie})})})})]})}})}})}var e$=function(e){var t=e.index,n=e.focusedIndex,r=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.onLoad,l=e.suggestion,s=(0,J.$)(),u=s.handleSuggestionSelect,d=s.getSuggestionImpressionOptions;return(0,c.jsx)(eZ,{impressionTrackerProps:d({index:t,groupIndex:t,suggestion:l,loggingId:l.id}),children:function(e){var s=e.impressionTrackerRef;return(0,c.jsx)(i.xu,{ref:s,marginBottom:1,marginEnd:-3,marginStart:-3,children:(0,c.jsx)(eH.J,{id:(0,er.Gp)(0,t),isHovered:n===t,onClick:function(){u({suggestion:l,index:t})},onMouseEnter:function(){r(t)},onMouseLeave:function(){o()},url:l.url,children:(0,c.jsx)(eH.q,{imageUrl:l.image,isVerifiedMerchant:l.is_verified_merchant,label:l.label,onLoad:a,rounding:"circle",subLabel:l.subLabel,verified:l.verified})})},"".concat(l.type,"-").concat(l.label,"-").concat(l.subLabel||""))}})};function eQ(e){var t=e.experiences,n=e.suggestions,r=e.focusedIndex,i=e.query,o=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,l=Z(),s=function(e){return"image"in e&&e.image},u=n.some(s),d=function(){null==l||l.stop()};return n.map(function(e,n){var l=!u||s(e);switch(e.type){case"autocompleteupsell":return(0,c.jsx)(eV,{onLoad:l?d:function(){},suggestion:e},"search-suggestion-".concat(e.type,"-").concat(e.id));case"query":case"recent_pin_searches":return(0,c.jsx)(eX,{experiences:t,focusedIndex:r,index:n,onLoad:l?d:function(){},onSuggestionMouseEnter:o,onSuggestionMouseLeave:a,query:i,suggestion:e},"search-suggestion-".concat(e.type,"-").concat(e.id));case"user":return(0,c.jsx)(e$,{focusedIndex:r,index:n,onLoad:l?d:function(){},onSuggestionMouseEnter:o,onSuggestionMouseLeave:a,suggestion:e},"search-suggestion-".concat(e.type,"-").concat(e.id));default:return null}})}var eJ=n(144380),e0=n(686319),e1=n(18468),e2=n(93966),e3=n(902293),e6=n(661037),e5=n(484649),e4=n(925463);function e8(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function e7(e){var t,n,r,o=e.contextLogData,a=e.dominantColor,s=e.groupIndex,u=e.height,d=e.icon,p=e.images,f=e.isDarkRep,m=void 0!==f&&f,g=e.isHovered,y=e.title,h=e.onMouseEnter,v=e.onMouseLeave,_=e.onClick,b=e.searchBoxRenderStopwatch,x=e.suggestion,S=e.showRemoveButton,P=void 0!==S&&S,w=e.slotIndex,I=e.url,O=e.width,j=(0,l.ZP)(),E=(0,J.$)(),A=E.autocompleteRequestSurface,T=E.getSuggestionImpressionOptions,k=E.isSyop,C=(0,e5.Z)({isSyop:k}),D=C.group,R=C.anyEnabled,L=(0,e4.Z)(A),M=D.includes("vertical"),F=u||80,N=p&&p[0]&&(null==(r=p[0]["236x"])?void 0:r.url)||"",B=!!d&&(0,e3.Z)(d),z=!!O&&O<160||!!u&&u<60,Z=z&&!R?"200":"300",U=R?void 0:"bold",K=(z||R)&&2||3,V=z&&2||R&&3||4,H=O?O-F:e2.yF-80,G=z?3:4,W=z?2:3,q=function(){null==b||b.stop()},Y=(t=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e0.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 2:L();case 3:case"end":return e.stop()}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(e){e8(o,r,i,a,l,"next",e)}function l(e){e8(o,r,i,a,l,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)});return(0,c.jsx)(eZ,{impressionTrackerProps:T({index:w,additionalAuxData:o,groupIndex:s,suggestion:x,loggingId:x.id}),children:function(e){var t=e.impressionTrackerRef;return(0,c.jsx)(i.xu,{ref:t,"data-test-id":P?"recent-query":void 0,height:F,width:O||"100%",children:(0,c.jsx)(i.zd,{rounding:G,wash:!m&&!M,children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:R?void 0:{__style:m&&{backgroundColor:g?e1.t07:e1.d9H}||g&&e6.A.lightHoverOverlay||{}},children:(0,c.jsx)(eH.J,{isHovered:g,onBlur:function(){},onClick:_,onFocus:h,onMouseEnter:h,onMouseLeave:v,rounding:G,url:I,children:(0,c.jsxs)(i.kC,{direction:"row",children:[(0,c.jsx)(i.xu,{"data-test-id":"search-suggestion-image-container",flex:"none",height:F,padding:R?1:void 0,width:F,children:(0,c.jsx)(i.zd,{height:"100%",rounding:R?W:void 0,wash:!0,width:"100%",children:(0,c.jsx)(i.Ee,{alt:"",color:a,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:q,role:"presentation",src:N})})}),(0,c.jsxs)(i.xu,{alignItems:"center",display:"flex",flex:"grow",maxHeight:F,maxWidth:R?void 0:H,padding:V,children:[B&&(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",flex:"none",marginEnd:2,children:(0,c.jsx)(i.JO,{accessibilityLabel:"",icon:B,inline:!0,size:14})}),(0,c.jsx)(i.xv,{color:m?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:K,size:Z,weight:U,children:y})]}),P&&(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{visibility:g?"visible":"hidden"}},"data-test-id":"clear-recent-queries",display:"flex",flex:"none",marginEnd:2,marginStart:-1,children:(0,c.jsx)(i.hU,{accessibilityLabel:j._('Remove recent search', 'Remove recent search icon in search autocomplete', 'Remove recent search icon'),bgColor:"white",focusColor:"darkBackground",icon:"cancel",iconColor:"darkGray",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),Y(y)},padding:2,size:"sm"})})]})})})})})}})}var e9=n(140725),te=n(744862),tt=n(473728),tn=n(547585);function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ti=["board","height","isHovered","searchBoxRenderStopwatch","slotIndex","storyId","storyType","viewParameter","viewType","width"];function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ta(e){var t=e.board,n=e.height,r=e.isHovered,i=e.searchBoxRenderStopwatch,o=e.slotIndex,a=e.storyId,l=e.storyType,s=e.viewParameter,u=e.viewType,d=e.width,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,ti),f=t.id,m=t.name,g=t.image_cover_hd_url,y=t.owner,h=t.url,v=(0,tt.Z)(m||"",{});return m&&f&&h?(0,c.jsx)(tn.u,{auxData:{grid_index:o.toString(),board_id:f,story_type:l,story_id:a},loggingId:f,objectIdStr:f,slotIndex:o,viewParameter:s||3467,viewType:u,children:function(e){var t=e.impressionTrackerRef;return(0,c.jsx)(tg,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=tr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tr(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tr(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({coverImage:{url:g},creator:y,formattedTitle:v,height:n,id:f,impressionTrackerRef:t,inheritedIsHovered:r,searchBoxRenderStopwatch:i,url:h,width:d},p))}}):null}var tl=n(797471);function ts(e){return(ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var tu=["component","height","isHovered","searchBoxRenderStopwatch","slotIndex","storyId","storyType","todayArticle","viewParameter","viewType","width"];function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function td(e){var t=e.component,n=e.height,r=e.isHovered,i=e.searchBoxRenderStopwatch,o=e.slotIndex,a=e.storyId,l=e.storyType,s=e.todayArticle,u=e.viewParameter,d=e.viewType,p=e.width,f=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tu),m=s.id,g=s.title,y=s.image_urls,h=s.article_creator_user,v=s.feed_source,_=s.is_product_pin_feed,b=y&&y.length>0?{url:y[0]}:void 0,x=(0,tt.Z)(g||"",{});if(!g||!m)return null;var S=(0,tl.T7)(null!=v?v:0,null!=_&&_,g,m);return(0,c.jsx)(tn.Y4,{auxData:{grid_index:o.toString(),today_article_id:m,story_type:l,story_id:a},component:t,loggingId:m,objectIdStr:m,slotIndex:o,viewParameter:u||3467,viewType:d,children:function(e){var t=e.impressionTrackerRef;return(0,c.jsx)(tg,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=ts(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ts(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ts(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({coverImage:b,creator:h,formattedTitle:x,height:n,id:m,impressionTrackerRef:t,inheritedIsHovered:r,searchBoxRenderStopwatch:i,url:S,width:p},f))}})}function tp(e){return(tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=tp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tp(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tp(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tg=function(e){var t=e.coverImage,n=e.creator,r=e.formattedTitle,o=e.height,a=e.id,l=e.impressionTrackerRef,s=e.inheritedIsHovered,u=e.onClick,d=e.onMouseDown,p=e.onMouseEnter,f=e.onMouseLeave,m=e.searchBoxRenderStopwatch,g=e.url,y=e.width,h=null==n?void 0:n.avatar_color_index;return(0,c.jsx)(e6.Z,{ref:l,backgroundColor:"gray",coverImage:t,disableTabIndex:!0,height:o,id:a,isHovered:s,onClick:u,onMouseDown:d,onMouseEnter:p,onMouseLeave:f,searchBoxRenderStopwatch:m,url:g,width:y,children:(0,c.jsx)(i.xu,{ref:l,alignItems:"end",display:"flex",height:o,justifyContent:"center",padding:3,position:"absolute",top:!0,width:y||"100%",children:(0,c.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[o>200?(0,c.jsx)(i.X6,{align:"center",color:"light","data-test-id":"sp-bubble-title",size:"600",children:r}):(0,c.jsx)(i.xv,{align:"center",color:"light","data-test-id":"sp-bubble-subtitle",weight:"bold",children:r}),n&&n.image_small_url&&n.full_name&&(0,c.jsxs)(i.xu,{alignItems:"center","data-test-id":"sp-bubble-creator",display:"flex",justifyContent:"center",marginTop:4,children:[(0,c.jsx)(i.xu,{marginEnd:2,children:(0,c.jsx)(te.qE,{color:h,name:n.full_name,outline:!0,size:"xs",src:n.image_small_url})}),(0,c.jsx)(i.xv,{color:"light",size:"100",children:n.full_name})]})]})})})};function ty(e){var t=e.bubble;return"board"===t.type?(0,c.jsx)(ta,tm(tm({},e),{},{board:t})):(0,c.jsx)(td,tm(tm({},e),{},{todayArticle:t}))}function th(e){return(th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=th(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=th(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==th(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tx(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function tS(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){tx(o,r,i,a,l,"next",e)}function l(e){tx(o,r,i,a,l,"throw",e)}a(void 0)})}}function tP(e){var t=e.title,n=e.action,r=e.prototypeSLP;return(0,c.jsxs)(i.xu,{alignItems:"center","data-test-id":"suggestion-group-heading",display:"flex",justifyContent:"between",marginEnd:2,children:[r?(0,c.jsx)(i.xu,{marginEnd:1,paddingX:1,children:(0,c.jsx)(i.X6,{lineClamp:1,size:"400",children:t})}):(0,c.jsx)(i.X6,{lineClamp:1,size:"300",children:t}),r&&n&&(0,c.jsx)(i.kC.Item,{flexBasis:"shrink",children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{top:2}},position:"relative",children:(0,c.jsx)(i.st,{onMouseEnter:n.onFocus,onMouseLeave:n.onBlur,children:(0,c.jsx)(i.iP,{onBlur:n.onBlur,onFocus:n.onFocus,onTap:n.onClick,children:(0,c.jsx)(i.xv,{color:"subtle",children:(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{lineHeight:1}},children:n.text})})})})})})]})}var tw=function(e){var t=e.handleRemove,n=e.id,r=e.isHovered,o=e.label,a=e.onClick,l=e.onMouseEnter,s=e.onMouseLeave,u=e.removeA11yText,d=e.url;return(0,c.jsx)(i.xu,{"aria-selected":r?"true":"false","data-test-id":"search-suggestion",id:n,marginBottom:2,marginEnd:2,role:"option",children:(0,c.jsx)(i.Tg,{accessibilityLabel:o,href:d,onMouseEnter:l,onMouseLeave:s,onTap:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.metaKey||t.ctrlKey||(n(),t.preventDefault(),a())},rounding:"pill",children:(0,c.jsxs)(i.xu,{alignItems:"center",color:r?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,c.jsx)(i.xv,{align:"center",children:o}),(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,c.jsx)(i.hU,{accessibilityLabel:null!=u?u:"",icon:"cancel",iconColor:"darkGray",onClick:function(e){var n=e.event;n.stopPropagation(),n.preventDefault(),null==t||t(o)},size:"xs"})})]})})})},tI=function(e){var t,n,o,a,s,u=e.id,d=e.isHovered,p=e.onClick,f=e.onMouseEnter,m=e.onMouseLeave,g=e.showSeeMoreOverlay,y=e.suggestion,h=e.trackClick,v=e.url,_=(0,l.ZP)();return(0,c.jsx)(i.xu,{"aria-selected":d?"true":"false","data-test-id":"search-suggestion",id:u,marginBottom:2,paddingX:1,role:"option",children:(0,c.jsx)(i.Tg,{href:v||y.url,onMouseEnter:f,onMouseLeave:m,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),h(),t.metaKey||t.ctrlKey||v||(t.preventDefault(),p())},rounding:3,tabIndex:-1,children:(0,c.jsxs)(i.zd,{height:ea.YO,rounding:3,wash:d,width:ea.Gh,children:[(null==(t=y.images["236x"])?void 0:t.url)&&(0,c.jsx)(i.Ee,{alt:y.label,fit:"cover",naturalHeight:null!=(n=null==(o=y.images["236x"])?void 0:o.height)?n:1,naturalWidth:null!=(a=null==(s=y.images["236x"])?void 0:s.width)?a:1,src:y.images["236x"].url}),g&&(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:ea.H2,height:ea.YO,left:!0,position:"absolute",top:!0,width:ea.Gh}),(0,c.jsx)(i.xu,{alignItems:"center",display:"flex",height:ea.YO,justifyContent:"center",padding:3,position:"absolute",top:!0,width:ea.Gh,children:(0,c.jsx)(i.xv,{align:"center",color:"inverse",dataTestId:"see-more-suggestions-overlay",weight:"bold",children:_._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},tO=function(e){var t=e.componentType,n=e.focusedIndex,r=e.groupIndex,o=e.keyPrefix,l=e.onSuggestionMouseEnter,s=e.onSuggestionMouseLeave,u=e.seeMoreUrl,d=e.suggestions,p=e.title,f=(0,a.u)().logContextEvent,m=(0,J.$)().handleSuggestionSelect;return(0,c.jsxs)(i.kC,{dataTestId:"".concat(o,"_section"),direction:"column",gap:ea.Lo,children:[(0,c.jsx)(i.kC,{width:"100%",children:(0,c.jsx)(tP,{title:p})}),(0,c.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",width:"100%",wrap:!0,children:d.map(function(e,i){var a=i===ea.TD-1&&d.length===ea.TD;return(0,c.jsx)(tI,{id:(0,er.Gp)(r,i),isHovered:n===i,onClick:function(){m({suggestion:e,index:i})},onMouseEnter:function(){l(i)},onMouseLeave:function(){s()},showSeeMoreOverlay:a,suggestion:e,trackClick:function(){f({event_type:101,component:t,element:a?179:12374,view_type:ea.Ie,view_parameter:103})},url:a?u:e.url},"".concat(o,"-").concat(i))})})]})};function tj(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,o=e.suggestions,a=(0,l.ZP)();return(0,e9.Q)({component:13844,view_parameter:103,view_type:ea.Ie}),(0,c.jsx)(tO,{componentType:13844,focusedIndex:t,groupIndex:n,keyPrefix:"recent_save",onSuggestionMouseEnter:r,onSuggestionMouseLeave:i,seeMoreUrl:"/me/pins/",suggestions:o,title:a._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function tE(e){var t,n=e.suggestion,r=e.groupIndex,o=e.index,a=e.focusedIndex,s=e.onSuggestionMouseEnter,u=e.onSuggestionMouseLeave,d=(0,J.$)(),p=d.handleSuggestionSelect,f=d.getSuggestionImpressionOptions,m=d.autocompleteRequestSurface,g=(0,e4.Z)(m),y=(0,l.ZP)(),h=(t=tS(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e0.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 2:g();case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),v=y._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion');return(0,c.jsx)(eZ,{impressionTrackerProps:f({index:o,groupIndex:r,suggestion:n,loggingId:n.id}),children:function(e){var t=e.impressionTrackerRef;return(0,c.jsx)(i.xu,{ref:t,"data-test-id":"recent-query",children:(0,c.jsx)(tw,{handleRemove:h,id:(0,er.Gp)(r,o),isHovered:a===o,label:n.label,onClick:function(){p({suggestion:n,index:o})},onMouseEnter:function(){s(o)},onMouseLeave:function(){u()},removeA11yText:v,url:(0,er.Ek)({suggestion:n,query:""})})},"".concat(n.type,"-").concat(n.label))}})}function tA(e){var t=e.containerWidth,n=e.focusedIndex,r=e.groupIndex,o=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,s=e.searchBoxRenderStopwatch,u=e.suggestions,d=(0,l.ZP)(),p=(0,J.$)().isSyop,f=(0,e5.Z)({isSyop:p}).anyEnabled,m=(0,J.$)().handleSuggestionSelect,g=(0,er.vS)({containerWidth:t,prototypeSLP:f,repType:"recentSearch"}),y=g.height,h=g.width,v=(0,er.YO)({pillLabels:u.map(function(e){return e.label}),maxWidth:t});return(0,c.jsxs)(i.kC,{direction:"column",gap:ea.Lo,children:[(0,c.jsx)(tP,{prototypeSLP:f,title:d._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),f?(0,c.jsx)(i.kC,{alignItems:"stretch",direction:"row",gap:2,justifyContent:"start",wrap:!0,children:u.map(function(e,t){var i;return(0,c.jsx)(e7,{groupIndex:r,height:y,images:null==(i=e.image_preview_pins)?void 0:i.map(function(e){return{"236x":tb(tb({},e.image_medium_size_pixels),{},{url:e.image_medium_url})}}),isHovered:n===t,onClick:function(){m({suggestion:e,index:t})},onMouseEnter:function(){o(t)},onMouseLeave:function(){a()},searchBoxRenderStopwatch:s,showRemoveButton:!0,slotIndex:t,suggestion:e,title:e.label,url:(0,er.Ek)({suggestion:e,query:""}),width:h},e.label)})}):(0,c.jsx)(i.xu,{display:"flex",overflow:"hidden",position:"relative",children:u.slice(0,v).map(function(e,t){return(0,c.jsx)(tE,{focusedIndex:n,groupIndex:r,index:t,onSuggestionMouseEnter:o,onSuggestionMouseLeave:a,suggestion:e},e.label)})})]})}function tT(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,o=e.suggestions,a=(0,l.ZP)();return(0,e9.Q)({component:13843,view_parameter:103,view_type:ea.Ie}),(0,c.jsx)(tO,{componentType:13843,focusedIndex:t,groupIndex:n,keyPrefix:"recent_view",onSuggestionMouseEnter:r,onSuggestionMouseLeave:i,seeMoreUrl:"/recently-viewed/",suggestions:o,title:a._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function tk(e){var t=e.groupIndex,n=e.focusedIndex,r=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,a=e.searchBoxRenderStopwatch,l=e.suggestions,s=ea.Ie,u=l.id,d=l.items,p=l.story_type,f=l.title.format,m=(0,J.$)(),g=m.handleSuggestionSelect,y=m.getSuggestionImpressionOptions,h=d.map(function(e){return e.type+":"+e.id}).join("|");return(0,c.jsxs)(i.kC,{direction:"column",gap:ea.Lo,children:[(0,c.jsx)(tP,{title:f}),(0,c.jsx)(eZ,{impressionTrackerProps:y({additionalAuxData:{content_ids:h,story_id:u,story_type:p},suggestion:d[0],index:t,groupIndex:t,loggingId:u}),children:function(e){var l=e.impressionTrackerRef;return(0,c.jsx)(i.xu,{ref:l,display:"flex",marginBottom:5,wrap:!0,children:d.map(function(e,l){var d=n===l;return(0,c.jsx)(i.xu,{"aria-selected":d?"true":"false","data-test-id":"search-suggestion-today-bubble",id:(0,er.Gp)(t,l),marginBottom:2,paddingX:1,role:"option",children:(0,c.jsx)(ty,{bubble:e,component:13525,height:ea.Ny,isHovered:d,onClick:function(){g({suggestion:e,index:l})},onMouseEnter:function(){r(l)},onMouseLeave:function(){o()},searchBoxRenderStopwatch:a,slotIndex:l,storyId:u,storyType:p,viewParameter:3467,viewType:s,width:ea.Ny})},"story".concat("--",t,"-").concat(l))})})}})]})}function tC(e){var t,n,o=e.containerWidth,l=e.focusedIndex,s=e.groupIndex,u=e.index,d=e.onSuggestionMouseEnter,p=e.onSuggestionMouseLeave,f=e.searchBoxRenderStopwatch,m=e.suggestions,g=(0,a.u)().logContextEvent,y=(0,J.$)().isSyop,h=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tv(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tv(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),v=h[0],_=h[1],b=m.action,x=m.id,S=m.items,P=m.story_type,w=m.title.format,I=S[0]&&"explorearticle"===S[0].type&&S[0].story_category,O=(0,e5.Z)({isSyop:y}).anyEnabled,j="shopping_spotlight"===P,E=(0,er.vS)({repType:2===I?"trending":"default",prototypeSLP:O,containerWidth:o}),A=E.width,T=E.height,k=(0,J.$)(),C=k.handleSuggestionSelect,D=k.getSuggestionImpressionOptions,R=S.map(function(e){return e.type+":"+e.id}).join("|"),L=(0,e4.Z)(0),M=(n=tS(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,e0.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),F=b&&b.text?{text:b.text,onClick:function(){var e,t;null==(e=m.custom_properties)||null==(t=e.recent_searches)||t.forEach(function(e){return M(e)}),L()},onFocus:function(){_(!0)},onBlur:function(){_(!1)}}:void 0;return(0,c.jsxs)(i.kC,{dataTestId:"search-story-suggestions-container",direction:"column",gap:ea.Lo,children:[(0,c.jsx)(tP,{action:F,prototypeSLP:O,title:w}),(0,c.jsx)(eZ,{impressionTrackerProps:D({additionalAuxData:{content_ids:R,story_id:x,story_type:P},suggestion:S[0],index:s,groupIndex:s,loggingId:x}),children:function(e){var t=e.impressionTrackerRef;return(0,c.jsx)(i.xu,{ref:t,children:(0,c.jsx)(i.kC,{alignItems:"stretch",direction:"row",gap:2,justifyContent:"start",wrap:!0,children:S.map(function(e,t){var n=u+t;if(j){var r=e.id;return(0,c.jsx)(ty,{bubble:e,height:ea.Ny,onClick:function(){g({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:r,autocomplete_type:"recommended_article",story_type:P}})},onMouseDown:function(e){return e.event.preventDefault()},slotIndex:n,viewParameter:3467,viewType:2,width:ea.Ny},"ss-bubble-".concat(r))}var o,a=v||l===n,m=e.cover_images,y=e.dominant_colors,h=e.id,_=e.story_category,b=e.title.format,S=e.subtitle,w=e.identifier_icon_type,I=(0,er.Ek)({suggestion:e,query:"",suggestionStoryId:x});return(0,c.jsx)(i.xu,{"aria-selected":a?"true":"false","data-test-id":"search-suggestion",id:(0,er.Gp)(s,t),role:"option",children:(0,c.jsx)(e7,{contextLogData:{story_type:P,content_ids:R,grid_index:t,story_id:x},dominantColor:null!=(o=null==y?void 0:y[0])?o:"",groupIndex:s,height:T,icon:w,images:m,isHovered:a,onClick:function(){C({suggestion:e,index:n,suggestionStoryId:x})},onMouseEnter:function(){d(n)},onMouseLeave:function(){p()},searchBoxRenderStopwatch:f,slotIndex:n,subtitle:null==S?void 0:S.format,suggestion:e,title:b,url:I,width:A})},"story-".concat(null!=_?_:"","-").concat(s,"-").concat(h))})})})}})]})}var tD=n(681777),tR=n(244529),tL=n(403252);function tM(e){return(tM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tB(e){var t,n=e.query,o=e.searchBoxHeight,a=e.searchBoxRenderStopwatch,s=e.showSyopHeading,u=e.suggestionGroups,d=e.width,p=(0,r.useRef)(null),f=(0,l.ZP)(),m=(0,eR.Ow)(1000315).experiencesMulti,g=(0,tR.Z)().enabled,y=(0,tL.Z)().enabled,h=g||y,v=(0,H.B)(),_=v.country,b=v.isAuthenticated,x=(0,J.$)(),S=x.suggestionsFocusIndex,w=x.suggestionsMaxHeight,I=x.setSuggestionsHovered,O=x.setSuggestionsFocusIndex,j=x.handleFeaturedBoardSubmit,E=x.isSyop,A=(0,e5.Z)({isSyop:E}).anyEnabled,T=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{for(o=(n=n.call(e)).next;!(s=(r=o.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tN(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tN(e,2):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=T[0],C=T[1],D=(0,eD.Z)(C,400),R=(0,tD.Cm)(b,_),L=(0,H.B)().isRTL;function M(){O(void 0)}(0,r.useLayoutEffect)(function(){if(!p.current)return function(){};C(p.current.getBoundingClientRect().width);var e=new ResizeObserver(function(){D(function(e){var t;return(null==(t=p.current)?void 0:t.getBoundingClientRect().width)||e})});return e.observe(p.current),function(){e.disconnect()}},[D]);var F=h?"0 0 ".concat(ep.kl,"px ").concat(ep.kl,"px"):"0 0 16px 16px";return(0,c.jsx)(eL.Z,{view:ea.Ie,viewParameter:103,children:u.length>0?(0,c.jsx)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=tM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tM(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tM(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({borderRadius:F,top:o},h?g?L?{right:"-16px",left:"-24px"}:{left:"-16px",right:"-24px"}:{left:"-24px",right:"-12px"}:{})},id:"SuggestionsMenu",left:!0,overflow:"hidden",position:"absolute",role:"listbox",width:h?void 0:d||"100%",children:(0,c.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:function(){return I(!0)},onMouseLeave:function(){return I(!1)},style:{maxHeight:w,boxSizing:"content-box",overflowY:"auto"},children:(0,c.jsxs)(i.xu,{ref:p,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:F,paddingBottom:"4px",paddingTop:A?"28px":"32px"}},direction:"column",display:"flex",overflow:"hidden",width:"100%",children:[s&&(0,c.jsx)(i.xu,{marginBottom:4,marginStart:8,marginTop:4,children:(0,c.jsx)(i.X6,{size:"600",children:n.length>0?(0,P.nk)(f._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:n}):f._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),u.map(function(e,t){var r,o;return e.items.length?(0,c.jsx)(i.xu,{marginBottom:A?9:4,paddingX:ea.r5,children:function(e,t,r){var i=(0,er.cW)(u),o=null==S?void 0:S-i[t],l=function(e){O((0,er.cW)(u)[t]+e)};if("story"===e.type&&"shopping_spotlight"===e.story_type&&R)return(0,c.jsx)(eJ.Z,{handleFeaturedBoardSubmit:j});switch(e.type){case"recent_query":return(0,c.jsx)(tA,{containerWidth:r,focusedIndex:o,groupIndex:t,onSuggestionMouseEnter:l,onSuggestionMouseLeave:M,searchBoxRenderStopwatch:a,suggestions:e.items});case"recent_save":return(0,c.jsx)(tj,{focusedIndex:o,groupIndex:t,onSuggestionMouseEnter:l,onSuggestionMouseLeave:M,suggestions:e.items});case"recent_view":return(0,c.jsx)(tT,{focusedIndex:o,groupIndex:t,onSuggestionMouseEnter:l,onSuggestionMouseLeave:M,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,c.jsx)(tk,{containerWidth:r,focusedIndex:o,groupIndex:t,index:0,onSuggestionMouseEnter:l,onSuggestionMouseLeave:M,searchBoxRenderStopwatch:a,suggestions:e}):(0,c.jsx)(tC,{containerWidth:r,focusedIndex:o,groupIndex:t,index:0,onSuggestionMouseEnter:l,onSuggestionMouseLeave:M,searchBoxRenderStopwatch:a,suggestions:e});case"blended_autocomplete":return(0,c.jsx)(eQ,{experiences:m,focusedIndex:o,onSuggestionMouseEnter:l,onSuggestionMouseLeave:M,query:n,suggestions:e.items})}return null}(e,t,k)},"".concat(n,"-").concat(e.type,"-").concat(null!=(r=null==(o=e.title)?void 0:o.format)?r:"")):null})]})})}):(0,c.jsx)(i.xu,{})})}function tz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tZ(e){var t=e.searchBoxHeight,n=e.suggestionGroups,i=e.width,o=V(),a=Z(),l=(0,H.B)().isBot,s=(0,q.Z)(),u=(0,J.$)(),d=u.autocompleteRequestSurface,p=u.enteredScope,f=u.enteredQuery,g=u.updateSuggestionGroups,y=u.isInTypeaheadSession,h=u.isSyop;(0,r.useEffect)(function(){y&&!h&&(f?(null!=a&&a.isTiming&&(null==a||a.abort("pivoted")),null==a||a.start()):null!=o&&o.isTiming||null==o||o.start())},[y,h,f]);var v=(0,m.Z)(l?null:{name:"SearchTabResource"}).data,_=ej().state,b=_.recentSaves,x=_.recentViews,S=(0,eC.X)({autocompleteRequestSurface:d}),P=(0,eC.c)({query:f,scope:p,autocompleteRequestSurface:d});return(0,r.useEffect)(function(){var e,t=v||[],n=s.isAuth?t.filter(function(e){return"shopping_spotlight"!==e.story_type}):t;g(h?[{items:S,type:"recent_query"},{items:x,type:"recent_view"},{items:b,type:"recent_save"}]:f.length?P:[{items:S,type:"recent_query"}].concat(function(e){if(Array.isArray(e))return tz(e)}(e=n||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tz(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tz(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))},[P,h,g,f,v,S,b,x,p,s]),y&&n.length>0&&(0,c.jsx)(tB,{query:f,searchBoxHeight:t,searchBoxRenderStopwatch:o,showSyopHeading:h,suggestionGroups:n,width:i})}var tU=n(288910),tK=n(947050),tV={v:"4.8.0",meta:{g:"LottieFiles AE 3.6.0",a:"",k:"",d:"",tc:""},fr:25,ip:0,op:75,w:24,h:24,nm:"lottie_loop_3_sec",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22.062,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:5,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:12,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:25,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.704],[-10.125,5.714]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:32,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3.25],[-10.125,3.194]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.544],[-10.125,4.522]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:45,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:52,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.451],[-10.125,5.474]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[17.047,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:18,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:27,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:38,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-4.346],[-10.154,4.304]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:53,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.151,-4.706],[-10.151,4.668]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:63,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12.031,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:13,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.145,-5.963],[-10.145,5.901]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:24,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:42,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.156,-7.75],[-10.156,7.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.15,-4.91],[-10.15,4.872]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[7.016,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-7.688],[-10.109,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:29,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-4.734],[-10.117,4.456]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:56,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-5.148],[-10.121,5.07]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:65,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-1.818],[-10.137,1.802]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[2,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:17,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:26,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.438],[-10.125,5.413]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-1.062],[-10.125,1]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:40,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-6.851],[-10.125,6.734]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:70,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0}],markers:[{tm:75,cm:"",dr:0}]};function tH(){var e=(0,l.ZP)(),t=(0,tK.Z)({animationData:tV,loop:!0,autoplay:!0}).animationContainerRef;return t?(0,c.jsx)(i.xu,{marginEnd:2,children:(0,c.jsx)(i.zd,{height:24,width:24,children:(0,c.jsx)(i.xu,{ref:t})})}):(0,c.jsx)(i.xu,{paddingX:4,children:(0,c.jsx)(i.JO,{accessibilityLabel:e._('Listening...', 'searchBox.voiceSearch.accessibilityLabel', 'Icon indicating that the microphone is listening'),color:"default",icon:"audio-bars",size:24})})}var tG=n(452094);function tW(e){var t=e.onCloseClick,n=(0,l.ZP)(),r=(0,a.u)().logContextEvent;(0,s.Z)(function(){r({event_type:13,view_type:ea.Ie,component:15282})});var o=function(){r({event_type:101,view_type:ea.Ie,component:15282,element:75}),t()};return(0,c.jsx)(S.ZP,{accessibilityModalLabel:n._('Voice search permissions modal', 'voiceSearch.accessibilityLabel', 'Modal for Voice Search permissions'),align:"start",heading:(0,c.jsx)(i.X6,{accessibilityLevel:1,size:"600",children:n._('Want to use voice search?', 'voiceSearch.modal.header', 'Header for Voice Search microphone permissions')}),isOpen:!0,onDismiss:o,size:"sm",children:(0,c.jsxs)(i.xu,{direction:"column",display:"flex",paddingX:7,children:[(0,c.jsx)(i.xv,{children:n._('Go to your browser settings to let Pinterest access the microphone', 'voiceSearch.modal.message', 'Voice Search microphone permissions message')}),(0,c.jsx)(i.xu,{display:"flex",justifyContent:"end",marginBottom:6,marginTop:7,children:(0,c.jsx)(i.zx,{accessibilityLabel:n._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal'),color:"red",onClick:o,size:"md",text:n._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal')})})]})})}function tq(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function tY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tX(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tX(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t$(){var e,t,n=(0,l.ZP)(),o=(0,a.u)().logContextEvent,u=(0,J.$)(),d=u.handleTextChange,p=u.handleVoiceSearchSubmit,f=u.voiceSearchPlaceholder,m=u.setVoiceSearchPlaceholder,g=tY((0,r.useState)(!1),2),y=g[0],h=g[1],v=tY((0,r.useState)(!1),2),_=v[0],b=v[1],S=(0,r.useRef)(null);(0,r.useEffect)(function(){b((0,tG.Z)())},[]),(0,s.Z)(function(){o({event_type:120,view_type:ea.Ie,component:43,element:15977})});var P=(0,r.useCallback)(function(){S.current&&(S.current.stop(),m(ei.K.NULL))},[m]);if((0,r.useEffect)(function(){f===ei.K.CANCEL&&(o({event_type:101,view_type:ea.Ie,component:43,element:73,aux_data:{is_voice_search:!0}}),P(),m(ei.K.NULL))},[f,P,m,o]),!_)return null;var w=(e=regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o({event_type:101,view_type:ea.Ie,component:43,element:15977}),e.prev=1,e.next=4,navigator.permissions.query({name:"microphone"});case 4:if("denied"!==(t=e.sent).state){e.next=9;break}return m(ei.K.NULL),h(!0),e.abrupt("return");case 9:S.current=n=new(window.webkitSpeechRecognition||window.SpeechRecognition),n.lang="en-US",n.interimResults=!1,r=void 0,d(""),m(ei.K.NULL),n.onstart=function(){m(ei.K.LISTENING)},n.onresult=function(e){var t,n,i,o=null==(t=e.results)||null==(n=t[0])||null==(i=n[0])?void 0:i.transcript;o&&(r=o)},n.onerror=function(e){m(null),"permission-denied"===e.error&&h(!0)},n.onend=function(){r&&f!==ei.K.CANCEL?(p(r),m(null)):"prompt"===t.state?m(null):(o({event_type:16683,view_type:ea.Ie,component:43,aux_data:{reason:"voice search miss"}}),m(ei.K.DEFAULT)),r=void 0},n.start(),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(1),i=(0,x.Z)(e.t0,"message"),o({event_type:16683,view_type:ea.Ie,component:43,aux_data:{error_message:i}});case 28:case"end":return e.stop()}},e,null,[[1,24]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){tq(o,r,i,a,l,"next",e)}function l(e){tq(o,r,i,a,l,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});return(0,c.jsxs)(i.kC,{alignItems:"center",direction:"row",height:"100%",children:[f===ei.K.LISTENING?(0,c.jsx)(tH,{}):(0,c.jsx)(i.hU,{accessibilityLabel:n._('Voice search', 'searchBox.voiceSearch.accessibilityLabel', 'Icon button that initiates a voice search'),icon:"microphone",iconColor:"darkGray",onClick:w}),y&&(0,c.jsx)(tW,{onCloseClick:function(){return h(!1)}})]})}function tQ(e){return(tQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t0(e){var t=e.isPartner,n=void 0!==t&&t,o=e.widthType,a=void 0===o?"md":o,s=(0,l.ZP)(),u=(0,H.B)().isRTL,p=(0,ed.Z)().enabled,f=(0,tR.Z)().enabled,m=(0,J.$)(),g=m.allowLens,y=m.allowVoiceSearch,h=m.appliedQuery,v=m.displayedQuery,_=m.endPadding,b=m.enteredQuery,x=m.enteredScope,S=m.handleClearSearch,P=m.handleScopeChange,w=m.handleSearchIconButtonClick,I=m.inputFocused,O=m.isContentTypeFilterHovered,j=m.isInTypeaheadSession,E=m.isLensModalOpen,A=m.searchBoxHovered,T=m.setContentTypeFilterHovered,k=m.setSearchBoxHovered,C=m.showContentTypeFilter,D=m.showIconOnly,R=m.suggestionGroups,M=m.voiceSearchPlaceholder,N=(0,F.Z)().checkExperiment,B=(0,G.Z)()();if(D&&!I&&!h&&!j)return(0,c.jsxs)(i.xu,{"data-test-id":"search-box-container",id:ea.v6,children:[(0,c.jsx)(i.hU,{accessibilityLabel:s._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"search",iconColor:"gray",onClick:w,size:"lg"}),B&&(0,c.jsx)(ek,{})]});var Z="shrink"===a?"".concat(80,"vw"):void 0,U=a&&Object.keys(ea.ht).includes(a)&&"shrink"!==a?ea.ht[a]:"auto",V=N("dweb_search_clear_search").anyEnabled?v.length>0||M===ei.K.LISTENING:!!v||n&&C||j||M===ei.K.LISTENING;return(0,c.jsx)(i.xu,{"data-test-id":"search-box-container",flex:"grow",id:ea.v6,marginEnd:2*!!f,minWidth:U,paddingX:2*!f,children:(0,c.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:A?en.wU:en.Sx}},display:"flex",height:ea.XI,rounding:p?ep.Qq:6,children:[(0,c.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tJ(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=tQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tQ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tQ(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({padding:u?"0 16px 0 ".concat(_):"0 ".concat(_," 0 16px")},j?{borderRadius:p?"".concat(ep.GC,"px"):"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{})},display:"flex",flex:"grow",height:"100%",onMouseEnter:function(){k(!0)},onMouseLeave:function(){k(!1)},position:"relative",children:[!(v||I)&&(0,c.jsx)(i.xu,{flex:"none",marginEnd:2,children:(0,c.jsx)(i.JO,{accessibilityLabel:s._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),icon:"search",size:16})}),(0,c.jsx)(eo,{name:"searchBoxInput"}),V&&(0,c.jsx)(i.xu,{flex:"none",marginStart:3,children:(0,c.jsx)(i.xu,{"data-test-id":"search-cancel",children:(0,c.jsx)(i.hU,{accessibilityLabel:s._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:h?"cancel":"clear",iconColor:"darkGray",onClick:S,size:h?"sm":"lg"})})}),(0,c.jsx)(K,{children:(0,c.jsx)(z,{children:(0,c.jsx)(tZ,{searchBoxHeight:ea.XI+4,suggestionGroups:R,width:Z})})}),B&&(0,c.jsx)(ek,{}),g&&!b&&(0,c.jsx)(d,{showCancel:V,viewType:ea.Ie}),y&&(0,c.jsx)(t$,{})]}),C?(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,c.jsx)(ey,{currentlySelectedFilter:x,currentQuery:h,handleContentTypeFilterHover:function(){n&&T(O)},handleScopeChange:P})]}):null,E&&(0,c.jsx)(L,{})]})})}function t1(e){var t=e.handleIconOnlyChange,n=e.iconOnly,r=void 0!==n&&n,i=e.isPartner,o=void 0!==i&&i,a=e.widthType,l=void 0===a?"md":a;return(0,c.jsx)(tU.v,{children:(0,c.jsx)(M.f,{children:(0,c.jsx)(eE,{children:(0,c.jsx)(J.w,{handleIconOnlyChange:t,iconOnly:r,isPartner:o,widthType:l,children:(0,c.jsx)(t0,{handleIconOnlyChange:t,iconOnly:r,isPartner:o,widthType:l})})})})})}},620438:function(e,t,n){n.d(t,{w:function(){return N},$:function(){return F}});var r=n(729434),i=n(586659),o=n(963489),a=n(660341),l=n(35794),s=n(980787),u=n(821342),c=n(816358),d=n(765533),p=n(506662),f=n(675973),m=n(15667),g=n(490186),y=n(970979),h=n(732753),v=n(940280),_=n(478135),b=n(378888),x=n(104659),S=n(525663),P=n(256136),w=n(925463),I=n(452094),O=n(879237),j=n(374874),E=n(77155),A=n(430635);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var R=n(382718),L=(0,r.Z)("SearchBoxHandlers"),M=L.Provider,F=L.get;function N(e){var t=e.children,n=function(e){var t,n=e.handleIconOnlyChange,r=e.iconOnly,D=void 0!==r&&r,R=e.isPartner,L=void 0!==R&&R,M=e.widthType,F=void 0===M?"md":M,N=(0,s.u)().logContextEvent,B=(0,m.B)(),z=B.country,Z=B.language,U=B.isRTL,K=(0,u.Z)(),V=(0,o.s0)(),H=(0,o.TH)(),G=(0,A.Z)().path,W=(0,f.Z)().checkExperiment,q=C((0,i.useTransition)(),2)[1],Y=(0,l.m)().isLensModalOpen,X=K.isAuth&&W("web_lens").anyEnabled,$=(0,E.Z)({skipResourceCall:!(0,p.En)(H)}).auxData,Q=null==$||null==(t=$.metadata)?void 0:t.unity_search_query,J=(0,y.Z)(H),ee=J.query,et=J.scope,en=J.rs,er=W("web_search_sticky_guides_iterated_entered_query",{dangerouslySkipActivation:!0}).anyEnabled&&Q||(0,b.mB)(H.search).entered_query,ei=a.t.includes(en)?"":er||ee,eo=null!=ei?ei:"",ea=C((0,i.useState)(eo),2),el=ea[0],es=ea[1],eu=C((0,i.useState)(),2),ec=eu[0],ed=eu[1],ep=ec?(0,P.Lq)(ec):el,ef=(0,P.WY)(),em=null!=et?et:_.lw.PINS;ef&&(em=_.lw.PINS_MINE),em===_.lw.PINS_BUYABLE&&(em=_.lw.PINS);var eg=C((0,i.useState)(em),2),ey=eg[0],eh=eg[1],ev=K.isAuth&&ey===_.lw.PINS_MINE,e_=+!!ev;(0,P.hb)(e_);var eb=C((0,i.useState)([]),2),ex=eb[0],eS=eb[1],eP=C((0,i.useState)(),2),ew=eP[0],eI=eP[1],eO=C((0,i.useState)(!1),2),ej=eO[0],eE=eO[1],eA=C((0,i.useState)(!1),2),eT=eA[0],ek=eA[1],eC=C((0,i.useState)(!1),2),eD=eC[0],eR=eC[1],eL=C((0,i.useState)(!1),2),eM=eL[0],eF=eL[1],eN=eT||eM,eB=C((0,i.useState)(!1),2),ez=eB[0],eZ=eB[1],eU=C((0,i.useState)(0),2),eK=eU[0],eV=eU[1],eH=C((0,i.useState)(""),2),eG=eH[0],eW=eH[1],eq=C((0,i.useState)(0),2),eY=eq[0],eX=eq[1],e$=C((0,i.useState)(""),2),eQ=e$[0],eJ=e$[1],e0=C((0,i.useState)(""),2),e1=e0[0],e2=e0[1];(0,i.useEffect)(function(){if(eN&&el.trim().length>0&&eY===el.length){if(eG&&eG.startsWith(el)){var e=(0,P.Cx)(ex,ew),t=e&&["recent_pin_searches","query"].includes(e.type)&&e.query;if(!eM||!e||t===eG)return}else if(ex&&ex.length>0&&!eQ){var n,r=null==(n=ex[0])?void 0:n.items.find(function(e){return["recent_pin_searches","query"].includes(e.type)});if(r&&r.query.startsWith(el)&&W("dweb_search_autocomplete_inline_suggestions").anyEnabled&&r.show_inline_query&&el.endsWith(" ")&&el.split(" ").filter(function(e){return!!e}).length>=1){eW(r.query),eJ(r.query);return}}}eW("")},[el,ex,W,eN,eY,eG,eM,eQ,ew]);var e3=(0,I.Z)()&&"US"===z&&Z.startsWith("en")&&(K.isAuth?W("web_voice_search").anyEnabled:W("web_voice_search_unauth").anyEnabled),e6=C((0,i.useState)(O.K.NULL),2),e5=e6[0],e4=e6[1];function e8(){eI(void 0),ed(void 0)}var e7=(0,x.G)(),e9=e7.setAppFocusState,te=e7.toggleTypeaheadOverlay,tt=(0,w.Z)(e_),tn=(0,j.Z)(),tr=C((0,i.useState)(D),2),ti=tr[0],to=tr[1];(0,i.useEffect)(function(){to(D)},[D]);var ta=C((0,i.useState)(!1),2),tl=ta[0],ts=ta[1],tu=C((0,i.useState)(),2),tc=tu[0],td=tu[1];(0,P.sy)({setShouldHideGhostText:ts,setSuggestionsMaxHeight:td,isSyop:ev});var tp=K.isAuth&&"shrink"!==F&&(eo||ef),tf=["shrink","auto"].includes(F)?"8px":0;tp&&(tf="4px");var tm=C((0,P.PN)({shouldHideGhostText:tl,isSyop:ev,inputFocused:eT,voiceSearchPlaceholder:e5}),3),tg=tm[0],ty=tm[1],th=tm[2],tv=(0,i.useRef)(void 0);function t_(){eV(Date.now()),ek(!0)}function tb(e){es(e),e8()}function tx(){N({event_type:8721,view_type:S.Ie,view_parameter:103,component:15487,aux_data:{entered_query:el,inline_suggestion:eG}}),es(eG),e2(eG),eW("")}function tS(e){var t=e.index,n=e.isKeyDown,r=e.suggestion,i=e.suggestionStoryId,o=n?97:101,a=(0,P.yQ)({index:t,suggestion:r,enteredQuery:el,additionalAuxData:{user_id:"user"===r.type?r.id:void 0}});switch(r.type){case"recent_pin_searches":case"recent_query":case"query":if(r.query===eo)break;N({event_type:o,view_type:S.Ie,view_parameter:"recent_query"===r.type?3467:103,component:35,element:["recent_query","recent_pin_searches"].includes(r.type)?253:104,aux_data:a,object_id_str:r.id});var l=(0,P.Ek)({suggestion:r,query:el,lastFocusTime:eK,inlineSuggestion:e1});ev&&"recent_query"===r.type&&(l=l.replace("pins","my_pins")),tn(l),V(l);break;case"recent_save":V(r.url);break;case"explorearticle":var s=26===r.story_category?13865:200;N({event_type:101,view_type:S.Ie,view_parameter:3467,component:s,aux_data:a});var u=(0,P.Ek)({suggestion:r,query:"",suggestionStoryId:i});tn(u),V(u);break;case"todayarticle":N({event_type:101,view_type:S.Ie,view_parameter:3467,component:200,aux_data:a}),V((0,P.Ek)({suggestion:r,query:""}));break;case"board":case"user":N({event_type:o,view_type:S.Ie,view_parameter:103,component:35,element:104,aux_data:a,object_id_str:r.id}),tn(r.url),V(r.url)}e8(),ek(!1),eF(!1)}(0,i.useEffect)(function(){tv.current!==eN&&q(function(){eN?c.Z.pause():c.Z.resume(),e9(!eN),eN||(e8(),es(eo)),te(eN),tv.current=eN})},[eo,eN,e9,te]),(0,i.useEffect)(function(){es(eo),eh(em),eo||tt(),ek(!1),eF(!1)},[eo,em,tt]),(0,i.useEffect)(function(){el||tt()},[el,tt]);var tP=function(e,t){var n=(0,g.Z)({query:e,rs:t,scope:ey});tn(n),ek(!1),eF(!1),V(n)},tw=function(){if(ep!==eo||ey!==em){var e,t=(0,h.Z)(ep);if(t.length){var n=(0,g.Z)({query:t,rs:null!=(e=v.i.TYPED)?e:"",scope:ey,inlineSuggestion:e1});tn(n),ek(!1),eF(!1),V(n)}}};return{allowLens:X,allowVoiceSearch:e3,appliedQuery:eo,autocompleteRequestSurface:e_,delayedSearchBoxOpen:function(){setTimeout(t_,500)},displayedQuery:ep,endPadding:tf,enteredQuery:el,enteredScope:ey,getSuggestionImpressionOptions:function(e){var t=e.additionalAuxData,n=e.index,r=e.groupIndex,i=e.suggestion,o=e.loggingId,a=S.Ie,l=(0,P.yQ)({index:n,suggestion:i,enteredQuery:el,additionalAuxData:t});switch(i.type){case"query":case"user":return{viewType:a,componentType:35,elementType:104,viewParameter:103,loggingId:o,objectIdStr:o,contextLogData:l,impressionType:"Search",slotIndex:r};case"recent_pin_searches":return{viewType:a,componentType:35,elementType:253,viewParameter:103,loggingId:o,objectIdStr:o,contextLogData:l,impressionType:"Search",slotIndex:r};case"recent_query":return{viewType:a,componentType:35,elementType:253,viewParameter:3467,loggingId:o,objectIdStr:o,contextLogData:l,impressionType:"Search",slotIndex:r};case"explorearticle":case"todayarticle":return{contextLogData:l,impressionType:"Article",loggingId:o,objectIdStr:o,slotIndex:n,viewParameter:3467,viewType:a};case"story":return{componentType:200,contextLogData:l,impressionType:"Story",loggingId:o,objectIdStr:o,slotIndex:r,viewParameter:3467,viewType:a};default:return null}},handleClearSearch:function(){if(W("dweb_search_clear_search").anyEnabled){es(""),e8(),t_(),e5===O.K.LISTENING&&e4(O.K.CANCEL);return}es(""),eh(_.lw.PINS),e8(),e4(O.K.CANCEL),K.isAuth&&eo?V("/"):L&&n&&n(!0)},handleInclusiveProductFilterClick:function(e,t,n){var r={};el&&(r.entered_query=el),N({event_type:101,view_type:S.Ie,view_parameter:103,component:35,element:104,aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({autocomplete_type:"query",result_index:t},r)});var i=(0,P.Ek)({suggestion:e,query:el,lastFocusTime:eK,filterSelectedTerm:n});tn(i),eF(!1),V(i)},handleInputBlur:function(e){var t=e.currentTarget;setTimeout(function(){t.contains(document.activeElement)||(ek(!1),eJ(""))},0)},handleInputChange:function(e){var t;eX((null==(t=e.currentTarget)?void 0:t.selectionStart)||0),tb(e.target.value)},handleInputClick:function(e){var t;N({event_type:101,component:43,element:227}),eX((null==(t=e.currentTarget)?void 0:t.selectionStart)||0)},handleInputFocus:function(e){var t;eX((null==(t=e.currentTarget)?void 0:t.selectionStart)||0),t_()},handleKeyDown:function(e){switch(e.keyCode){case d.Z.ENTER:var t=(0,P.Cx)(ex,ew);eN&&t&&e.preventDefault(),t&&ej?(tS({index:t.resultIndex||0,isKeyDown:!0,suggestion:t}),eE(!1)):tw();break;case d.Z.ESCAPE:eN&&e.preventDefault(),e.stopPropagation(),ek(!1),eF(!1);break;case d.Z.UP:eN&&e.preventDefault();var n=C((0,P.VE)(ex,ew),2),r=n[0],i=n[1];eI(r),eE(!0),ed(i);break;case d.Z.DOWN:eN&&e.preventDefault();var o=C((0,P.VE)(ex,ew,!0),2),a=o[0],l=o[1];eI(a),eE(!0),ed(l);break;case d.Z.RIGHT:!U&&eG&&(e.preventDefault(),e.stopPropagation(),tx());break;case d.Z.LEFT:U&&eG&&(e.preventDefault(),e.stopPropagation(),tx());break;case d.Z.TAB:ty&&!el&&eN?(e.preventDefault(),e.stopPropagation(),es(ty)):eG&&(e.preventDefault(),e.stopPropagation(),tx());break;case d.Z.BACKSPACE:eG&&eW("")}},handleKeyUp:function(e){var t;eX((null==(t=e.currentTarget)?void 0:t.selectionStart)||0)},handleScopeChange:function(e){eh(e),ek(L&&!el),e8()},handleSearchIconButtonClick:function(){ek(!0),L&&N({event_type:101,element:11809})},handleSuggestionSelect:tS,handleSyopCtaClick:function(){var e=(0,h.Z)(el);if(e.length){var t=(0,g.Z)({query:e,rs:v.i.AC,scope:_.lw.PINS_MINE});tn(t),V(t)}},handleTextChange:tb,handleTypedSearchSubmit:tw,handleVoiceSearchSubmit:function(e){return tP(e,v.i.VOICE_SEARCH)},handleFeaturedBoardSubmit:function(){e8(),ek(!1),eF(!1)},inlineACSuggestion:eG,inputFocused:eT,isContentTypeFilterHovered:ez,isCurrentlyOnLensPage:"/lens-search"===G,isInTypeaheadSession:eN,isLensModalOpen:Y,isSyop:ev,logInlineSuggestionView:function(){N({event_type:13,view_type:S.Ie,view_parameter:103,component:15487,aux_data:{entered_query:el,inline_suggestion:eG}})},searchBoxHovered:eD,searchBoxPlaceholder:tg,setContentTypeFilterHovered:eZ,setSearchBoxHovered:eR,setVoiceSearchPlaceholder:e4,setSuggestionsFocusIndex:eI,setSuggestionsHovered:eF,showContentTypeFilter:tp,showIconOnly:ti,voiceSearchPlaceholder:e5,suggestedSearchTerms:th,suggestionGroups:ex,suggestionsFocusIndex:ew,suggestionsMaxHeight:tc,updateSuggestionGroups:eS}}({handleIconOnlyChange:e.handleIconOnlyChange,iconOnly:e.iconOnly,widthType:e.widthType,isPartner:e.isPartner});return(0,R.jsx)(M,{value:n,children:t})}},144380:function(e,t,n){n.d(t,{Z:function(){return E}});var r,i=n(586659),o=n(492996),a=n(20256),l=n(19585),s=n(15667),u=n(647709),c=n(222401),d=n(300685),p=n(458684),f=n(828942),m=n(712172),g=n(681777),y=n(301856),h=n(382718);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,l=[],s=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=(void 0!==r||(r=n(173248)).hash&&"3ca45565a804bd5428a8509aa83434c3"!==r.hash&&console.error("The definition of 'SearchLandingPageFeaturedBoardsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),w=function(e){var t=e.board,n=e.isLastBoard,r=e.handleFeaturedBoardSubmit,i=(0,u.HG)();return t?(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{flex:"none",paddingRight:n?i?"36px":"16px":void 0}},marginBottom:2,paddingX:+!i,role:"option",width:n?i?268:216:i?236:200,children:(0,h.jsx)(a.iP,{onTap:function(){return r?r():void 0},children:(0,h.jsx)(c.default,{boardKey:"__fragments"in t?t:{type:"Legacy",data:t},display:"responsive",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,isUsingMask:!0,noPaddings:!0,showFollowButton:!1,trackInteractionObjectProp:{action:"click",item:"slp-featuredboards-board",within:"slp-featuredboards-section"},type:"grid",viewParameter:3070,viewType:2})})}):null},I={backgroundColor:"default",borderStyle:"shadow",hoverColor:"default",iconColor:"default",showFab:!0,size:"sm",opacity:1},O=function(e){var t,n,r=e.handleFeaturedBoardSubmit,o=(0,l.ZP)(),s=(0,u.HG)(),c=(0,u.ml)(),v=(0,g.Sm)(),_=(0,i.useRef)(null),S=(0,i.useRef)(null),P=x((0,i.useState)(0),2),O=P[0],j=P[1],E=x((0,i.useState)("0px"),2),A=E[0],T=E[1],k=x((0,i.useState)([]),2),C=k[0],D=k[1],R=null!=(t=null==_||null==(n=_.current)?void 0:n.clientWidth)?t:0;(0,i.useEffect)(function(){v.data&&v.data.filter(function(e){return"board"===e.type}).length<g.yN&&v.fetchMore()},[v]),(0,i.useEffect)(function(){v.data&&D(v.data.filter(function(e){return"board"===e.type}).slice(0,g.yN))},[v]);var L=(0,g.eK)(o);if((0,i.useEffect)(function(){C&&O===C.length-1?T("-80px"):T("0px")},[O,C]),!v.data||v.error)return null;var M=(0,m.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:R,gap:16,numberOfSlides:C.length,index:O});return(0,h.jsxs)(a.kC,{direction:"column",children:[(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",marginStart:4*!s,children:(0,h.jsx)(y.Z,{headerMarginTopOverride:c?6:3,sectionHeader:L,smallHeader:!0})}),(0,h.jsx)(a.xu,{children:s?(0,h.jsxs)(a.xu,{ref:_,display:"flex",marginBottom:s?4:6,paddingX:3*!!c,position:"relative",children:[(0,h.jsx)(p.default,{backNode:(0,h.jsx)(f.Z,b(b({},I),{},{iconType:"back"})),carouselData:{index:O,entityId:"",carouselSlots:C.map(function(e){return{id:e.entityId,title:null}})},carouselIndex:O,forwardNode:(0,h.jsx)(f.Z,b(b({},I),{},{iconType:"forward"})),handleCarouselSwipe:function(e){j(e),S.current&&(0,m.c3)(S,!0,e,O,236,16)},isShowingLastSlide:M,itemsPerPage:s?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:A,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,h.jsx)(d.Z,{containerRef:_.current,gap:6,id:"featured-boards",index:O,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:j,showCarouselOverflow:!0,sliderRef:S,slideWidth:236,children:C.map(function(e,t){return(0,h.jsx)(w,{board:e,handleFeaturedBoardSubmit:r},"board--".concat(t))})})})]}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:s?3:6,paddingX:3*!s,children:v.data.filter(function(e){return"board"===e.type}).slice(0,g.yN).map(function(e,t){return e&&(0,h.jsx)(w,{board:e,isLastBoard:t===g.yN-1},"board--".concat(t))})})})]})},j=function(e){var t,n,r,s,c,v=e.handleFeaturedBoardSubmit,_=(0,l.ZP)(),S=(0,u.HG)(),O=(0,u.ml)(),j=(0,i.useRef)(null),E=(0,i.useRef)(null),A=x((0,i.useState)(0),2),T=A[0],k=A[1],C=x((0,i.useState)("0px"),2),D=C[0],R=C[1],L=null!=(t=null==j||null==(n=j.current)?void 0:n.clientWidth)?t:0,M=(0,o.useLazyLoadQuery)(P,{}),F=(null==(r=M.v3RootPageFeaturedBoardsQuery)?void 0:r.__typename)==="V3RootPageFeaturedBoards"?M.v3RootPageFeaturedBoardsQuery.data:void 0;if((0,i.useEffect)(function(){F&&T===F.length-1?R("-80px"):R("0px")},[T,F]),null!=(s=M.v3RootPageFeaturedBoardsQuery)&&null!=(c=s.error)&&c.message||!F)return null;var N=(0,g.eK)(_),B=(0,m.tD)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:L,gap:16,numberOfSlides:F.length,index:T});return(0,h.jsxs)(a.kC,{direction:"column",children:[(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",marginStart:4*!S,children:(0,h.jsx)(y.Z,{headerMarginTopOverride:O?6:3,sectionHeader:N,smallHeader:!0})}),(0,h.jsx)(a.xu,{children:S?(0,h.jsxs)(a.xu,{ref:j,display:"flex",marginBottom:S?4:6,paddingX:3*!!O,position:"relative",children:[(0,h.jsx)(p.default,{backNode:(0,h.jsx)(f.Z,b(b({},I),{},{iconType:"back"})),carouselData:{index:T,entityId:"",carouselSlots:F.map(function(e){return{id:e.entityId,title:null}})},carouselIndex:T,forwardNode:(0,h.jsx)(f.Z,b(b({},I),{},{iconType:"forward"})),handleCarouselSwipe:function(e){k(e),E.current&&(0,m.c3)(E,!0,e,T,236,16)},isShowingLastSlide:B,itemsPerPage:S?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:D,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,h.jsx)(d.Z,{containerRef:j.current,gap:6,id:"featured-boards",index:T,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:k,showCarouselOverflow:!0,sliderRef:E,slideWidth:236,children:F.map(function(e,t){return(0,h.jsx)(w,{board:e,handleFeaturedBoardSubmit:v},"board--".concat(t))})})})]}):(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:S?3:6,paddingX:3*!S,children:F.slice(0,g.yN).map(function(e,t){return e&&(0,h.jsx)(w,{board:e,isLastBoard:t===g.yN-1},"board--".concat(t))})})})]})};function E(e){var t=e.handleFeaturedBoardSubmit,n=(0,s.B)().country;return(0,g.CE)(n)?(0,h.jsx)(j,{handleFeaturedBoardSubmit:t}):(0,h.jsx)(O,{handleFeaturedBoardSubmit:t})}},350514:function(e,t,n){n.d(t,{J:function(){return c},q:function(){return d}});var r=n(20256),i=n(19585),o=n(302148),a=n(410690),l=n(280670),s=n(382718),u=Math.floor(3.5);function c(e){var t=e.id,n=e.children,i=e.isHovered,o=e.url,a=e.onClick,l=e.onMouseEnter,u=e.onMouseLeave,c=e.onFocus,d=e.onBlur,p=e.rounding;return(0,s.jsx)(r.xu,{"aria-selected":i?"true":"false","data-test-id":"search-suggestion",id:t,role:"option",children:(0,s.jsx)(r.st,{active:i,children:(0,s.jsx)(r.Tg,{href:o,onBlur:d,onFocus:c,onMouseDown:function(e){return e.event.preventDefault()},onMouseEnter:l,onMouseLeave:u,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),t.metaKey||t.ctrlKey||(t.preventDefault(),a())},rounding:p,children:n})})})}function d(e){var t=e.highlightMatch,n=e.iconName,c=e.imageUrl,d=e.isVerifiedMerchant,p=void 0!==d&&d,f=e.label,m=e.onLoad,g=e.query,y=e.rounding,h=e.searchDelightConfig,v=e.subLabel,_=e.type,b=e.verified,x=void 0!==b&&b,S=(0,i.ZP)(),P="recent_pin_searches"===_?"rs-search-suggestion":c||n?"enriched-search-suggestion":"regular-search-suggestion";return(0,s.jsx)(r.xu,{"data-test-id":P,display:"flex",paddingY:+!!c,width:"100%",children:(0,s.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},children:[c?(0,s.jsx)(r.xu,{"data-test-id":"enriched-autocomplete-image",height:40,marginStart:u,overflow:"hidden",rounding:y&&2===y?2:"circle",width:40,children:(0,s.jsx)(r.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:40,naturalWidth:40,onLoad:m,role:"presentation",src:c})}):(0,s.jsx)(r.kC,{alignItems:"center",height:40,justifyContent:"center",width:40,children:(0,s.jsx)(r.JO,{accessibilityLabel:n?(0,o.nk)(S._('{{ icon}} icon', 'SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon', 'contextual icon in typeahead (eg shopping tag icon to take users to product search)'),{icon:n}).join():"",color:"default",icon:n||"search",size:12})}),(0,s.jsxs)(r.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},justifyContent:"center",children:[(0,s.jsxs)(r.kC,{alignItems:"center",children:[void 0!==t&&t&&g?(0,s.jsx)(a.Z,{query:g,searchDelightConfig:h,text:f||g}):(0,s.jsx)(r.xv,{weight:"bold",children:f}),(x||p)&&(0,s.jsx)(r.xu,{marginStart:1,children:(0,s.jsx)(l.Z,{iconOnly:!0,isVerifiedIdentity:x,isVerifiedMerchant:p,size:"xs",surface:"SuggestionReps"})})]}),v&&(0,s.jsx)(r.xv,{size:"100",children:v})]})]})})}},525663:function(e,t,n){n.d(t,{Ag:function(){return w},Fb:function(){return s},Fj:function(){return b},Gh:function(){return T},H2:function(){return A},Ie:function(){return k},Ip:function(){return m},Lo:function(){return a},Ny:function(){return O},P$:function(){return x},R1:function(){return c},TD:function(){return j},UE:function(){return S},Ub:function(){return I},Vv:function(){return l},XG:function(){return p},XI:function(){return i},Xh:function(){return d},YO:function(){return E},a3:function(){return v},e:function(){return u},ht:function(){return y},ji:function(){return f},le:function(){return _},r5:function(){return o},sA:function(){return h},v6:function(){return g},yY:function(){return P}});var r=n(93966),i=48,o=8,a=4,l=3.9,s=2.6,u=36,c=60,d=.75*r.yF,p=1.5*r.yF,f=1.5*r.yF,m=2*r.yF,g="searchBoxContainer",y={md:407,sm:332,auto:"auto"},h=7,v=["pin.description","pin.id","pin.images[236x]"],_=360,b=76,x=5,S=10,P=7.5,w=40,I=24,O=192,j=7,E=116,A={__style:{backgroundColor:"rgba(0,0,0, .4)"}},T=90,k=2},256136:function(e,t,n){n.d(t,{Cx:function(){return T},Ek:function(){return w},Gp:function(){return E},Lq:function(){return j},PN:function(){return R},VE:function(){return k},WY:function(){return C},YO:function(){return F},cW:function(){return A},hb:function(){return M},kj:function(){return I},sy:function(){return D},vS:function(){return N},yQ:function(){return O},zj:function(){return L}});var r=n(963489),i=n(512712),o=n(821342),a=n(93966),l=n(19585),s=n(15667),u=n(662641),c=n(886981),d=n(256310),p=n(390957),f=n(732753),m=n(478135),g=n(669442),y=n(510928),h=n(341742),v=n(525663),_=n(484649),b=n(879237);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e){var t=e.suggestion,n=e.query,r=e.lastFocusTime,o=void 0===r?0:r,a=e.filterSelectedTerm,l=e.suggestionStoryId,s=e.inlineSuggestion;if("explorearticle"===t.type){var u,c,d=t.aux_fields,m=t.id,y=t.query,h=t.story_category;return null!=(u=null==(c=t.action)?void 0:c.url)?u:(0,p.Z)({bubbleId:m,pinId:null==d?void 0:d.image_pin_id,query:y,referringSource:2===h?"trending":"autocomplete_bubble",storyCategory:h,storyId:l})}if("todayarticle"===t.type){var v=t.id,_=t.title;return(0,i.x)({title:_,id:v,articleType:"today"})}var b={eq:(0,f.Z)(n)};return o&&(b.etslf=String(Date.now()-o)),a&&(b.filters=a),s&&(b.inline_suggestion=s),(0,g.Z)("url"in t&&t.url?t.url:"",b)}function I(e){switch(e){case"app_upsell_autocomplete":case"autocompleteupsell":case"unauth_search_header":case"news_hub_search":case"recent_save":case"recent_view":return;case"generic_query":case"personal_query":return"query";case"recent_personal_searches":case"recent_pin_searches":return"recent_query";case"recommended_query":return"recommended";case"explorearticle":case"todayarticle":case"story":return"recommended_article";default:return e}}function O(e){var t=e.enteredQuery,n=e.suggestion,r=e.index,i=e.additionalAuxData,o=P(P({},void 0===i?{}:i),{},{entered_query:t||void 0,selected_query:n.query||n.label||void 0,autocomplete_type:I(n.type)});switch(n.type){case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return P(P({},o),{},{result_index:r,user_id:"user"===n.type?n.id:void 0,ac_suggestion_id:n.id});case"explorearticle":return 26===n.story_category?P(P({},o),{},{article_id:n.id,story_id:n.storyId,story_type:"shopping_spotlight"}):P(P({},o),{},{autocomplete_type:2===n.story_category?"trending":"recommended",result_index:r});case"todayarticle":return P(P({},o),{},{article_id:n.id,story_type:"shopping_spotlight"});default:return{}}}function j(e){switch(e.type){case"explorearticle":case"news_hub_search":return e.title.format;case"todayarticle":return e.title;case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return e.label;default:return""}}function E(e,t){return"SuggestionGroup-Option-".concat(e,"-").concat(t)}var A=function(e){var t=0;return e.map(function(e){var n,r,i=t;return t+=null!=(n=(null!=(r=e.items)?r:[]).length)?n:0,i})},T=function(e,t){if(null!=t){for(var n=A(e),r=0;r<n.length;r+=1)if(e[r].items.length&&t-n[r]<e[r].items.length)return e[r].items[t-n[r]];return null}};function k(e,t,n){var r=e.map(function(e){var t;return null!=(t=e.items.length)?t:0}).reduce(function(e,t){return e+t},0),i=n?null==t?0:t===r-1?void 0:t+1:null==t?r-1:0===t?void 0:t-1,o=T(e,i);return[i,o]}function C(){var e=(0,r.TH)(),t=(0,o.Z)(),n=(0,y.Z)(e.search),i=n.ideas_referrer,a=n.view_parameter_type;i=parseInt(i,10),a=parseInt(a,10);var l=t.isAuth&&e.pathname.startsWith("/".concat(t.username,"/")),s=t.isAuth&&e.pathname.startsWith("/recently-viewed"),u=3173===a&&(1===i||25===i);return(l||s)&&!u}function D(e){var t=e.setShouldHideGhostText,n=e.setSuggestionsMaxHeight,r=e.isSyop,i=(0,_.Z)({isSyop:r}).anyEnabled;function o(){var e,r=(null==(e=document.getElementById(v.v6))?void 0:e.offsetWidth)||0,o=i?window.innerHeight/4:0;t(r<=v.le),n(window.innerHeight-14-v.Fj-o)}(0,h.Z)(function(){return window.addEventListener("resize",o),o(),function(){window.removeEventListener("resize",o)}})}function R(e){var t=e.shouldHideGhostText,n=e.isSyop,r=e.inputFocused,i=e.voiceSearchPlaceholder,a=(0,l.ZP)(),s=(0,o.Z)().isAuth,u=(0,c.Z)(s?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),p=s?a._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):a._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),f="";if(i)p=i===b.K.LISTENING?a._('Listening...', 'searchBox.placeholder.search', 'default placeholder text for search box'):a._('Didn\'t get that! Try again', 'searchBox.placeholder.search', 'default placeholder text for search box');else if(!t&&u.isLoaded&&u.data&&u.data.length>0){var m=u.data[0].text;f=u.data[0].query,p=m}return n&&(p=r?a._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):a._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[p,f,(0,d.Z)()]}function L(e){var t,n,r=e.suggestionsFocusIndex,i=A(e.suggestionGroups);if("number"==typeof r){for(var o=i.length-1;o>=0;o-=1)if(r>=i[o]){t=o,n=r-i[o];break}}return"number"==typeof t&&"number"==typeof n?E(t,n):""}function M(e){var t=(0,o.Z)(),n=(0,s.B)().isBot,r=t.isAuth,i=t.isLimitedLogin,a=(0,u.Z)()();(0,c.Z)(!a&&r?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:m.lw.PINS,autocomplete_request_surface:e},noCache:!0}:null),(0,c.Z)(a||n?null:{name:"SearchTabResource"}),(0,c.Z)(r&&!i?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:v.a3.join(","),pin_preview_count:v.sA}}}:null)}function F(e){var t=e.pillLabels,n=e.maxWidth,r=t.length;if(!n)return r;for(var i=0,o=0;o<t.length;o+=1){var a=t[o];if(a){var l=a.length*v.yY+v.Ag+v.Ub;if(l+i<n)i+=l;else{r=o;break}}}return r}function N(e){var t,n=e.repType,r=e.prototypeSLP,i=e.containerWidth,o=4,l=function(e){return i?(i-(4*v.r5*2+8*(e-1)))/e:a.yF};for(t=l(4);t<(r?v.ji:v.Xh)&&o>1;)o-=1,t=l(o);for(;t>(r?v.Ip:v.XG);)o+=1,t=l(o);var s=r&&v.Vv||v.Fb;r&&"trending"===n&&(s+=.8);var u=Math.max(r&&"recentSearch"===n?v.e:v.R1,t/s);return{width:t,height:u}}},155557:function(e,t,n){n.d(t,{X:function(){return h},c:function(){return y}});var r=n(586659),i=n(821342),o=n(54038),a=n(19585),l=n(302148),s=n(886981),u=n(490193),c=n(478135),d=n(525663),p=n(484649);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e){var t=e.query,n=e.scope,s=e.autocompleteRequestSurface,c=(0,a.ZP)(),d=(0,i.Z)(),p=(0,u.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:n,autocomplete_request_surface:s},value:t});return(0,r.useMemo)(function(){var e=null==p?void 0:p.map(function(e){if("query"===e.type){var t,n=e.modified_filter_eligibility,r=e.query,i=n?(0,l.nk)(null!=n&&null!=(t=n.hair_pattern)&&t.eligible_filters?c._('{{ query }} by hair pattern', 'SearchSuggestion.HairPatternFilterSuggestion', 'Suggested search for a hair pattern filter-eligible query'):c._('{{ query }} by skin tone range', 'SearchSuggestion.SkinToneFilterSuggestion', 'Suggested search for a skin tone filter-eligible query'),{query:r}).join(""):r;return g(g({},e),{},{label:i})}return e});if(d.isAuth)return[{items:e||[],type:"blended_autocomplete"}];var t=(0,o.Z)(e||[],function(e){return e.type});return[{items:["query","user"].flatMap(function(e){return t[e]}).filter(function(e){return!!e}),type:"blended_autocomplete"}]},[p,d,c])}function h(e){var t,n,o=(e||{}).autocompleteRequestSurface,a=(0,p.Z)({isSyop:0!==o}).group,l=(t=(0,i.Z)(),n=(e||{}).autocompleteRequestSurface,(0,s.Z)(t.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:c.lw.PINS,autocomplete_request_surface:n},noCache:!0}:null)),u=l.isLoaded,f=l.data;return(0,r.useMemo)(function(){if(u&&f)return f.items.slice(0,null!=a&&a.includes("recent_search")?d.UE:d.P$).map(function(e,t){return g(g({},e),{},{resultIndex:t})});return[]},[u,f,a])}},484649:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(675973);function i(e){var t=e.isSyop,n=(0,r.Z)().checkExperiment;return t?{anyEnabled:!1,group:""}:n("web_search_autocomplete_empty_state")}},925463:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(586659),i=n(581722),o=n(536652);function a(e){var t=(0,i.I0)();return(0,r.useMemo)(function(){return function(){t((0,o.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins",autocomplete_request_surface:e}}))}},[t,e])}},288910:function(e,t,n){n.d(t,{n:function(){return y},v:function(){return h}});var r=n(586659),i=n(963489),o=n(729434),a=n(478135),l=n(647709),s=n(601811),u=n(438235),c=n(382718);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m=(0,o.Z)("SearchParams"),g=m.Provider,y=m.get,h=function(e){var t,n,o,d,p,m,y=e.children,h=e.value,v=(t=(0,l.HG)(),o=(n=(0,i.TH)()).search,d=n.pathname,m=!(p=(0,u.Z)().scope)&&d.includes("/_tools/shop"),(0,s.Z)({isDesktop:t,scope:m?a.lw.SHOP_TOOL:p,search:o})),_=(0,r.useMemo)(function(){return f(f({},v),h)},[v,h]);return(0,c.jsx)(g,{value:_,children:y})}},463515:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(78187);function i(e){var t=null==e?void 0:e.modified_filter_eligibility;return t?"hair_pattern"in t?r.ti.HAIR:"skin_tone"in t?r.ti.SKIN:null:null}},452094:function(e,t,n){n.d(t,{Z:function(){return r}});function r(){return"undefined"!=typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)}},879237:function(e,t,n){n.d(t,{K:function(){return r}});var r={LISTENING:"listening",DEFAULT:"default",CANCEL:"cancel",NULL:null}},78187:function(e,t,n){n.d(t,{CT:function(){return r},HE:function(){return i},Mq:function(){return o},ti:function(){return a}});var r={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},i={CLOSEUP:"closeup"},o={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},a={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},352908:function(e,t,n){var r=n(19585),i=n(647709),o=n(848387),a=n(732347);t.Z=function(){var e=(0,r.ZP)(),t=(0,i.HG)(),n=(0,o.m)(),l=n.viewer,s=n.loginForMore,u=n.limitedLoginModalSubheader,c=n.limitedLoginModalNextLocation;return"LIMITED_LOGIN"===l.type?function(n){var r=n.modalHeader,i=n.nextLocation;return function(n){var o=null;n&&(n.nativeEvent&&n.nativeEvent instanceof Event?o=n:n.event&&(o=n.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),null==s||s.setVisible(!0),null==u||u.setText(r||(t?(0,a.hr)(e):(0,a.Wh)(e))),i&&(null==c||c.setRoute(i))}}:function(e){return e.fn}}},601811:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(478135),i=n(378888);function o(e){var t=e.isDesktop,n=e.scope,o=e.search,a=(0,i.mB)(o),l=a.auto_correction_disabled,s=a.b_id,u=a.brands,c=a.category,d=a.colors,p=a.commerce_only,f=void 0===p?"":p,m=a.cover_pin_sig,g=a.deb_d,y=a.domains,h=a.filters,v=a.guided_search_query,_=a.inline_suggestion,b=a.interest_id,x=a.journey_depth,S=a.on_sale,P=a.price_max,w=a.price_min,I=a.q,O=a.query_pin_sigs,j=a.request_params,E=a.rs,A=a.selected_one_bar_modules,T=a.source_id,k=a.source_module_id,C=a.tab,D=a.top_pin_ids,R=a.user,L="true"===f.toLowerCase()&&"shop_tool"!==n?r.lw.PINS_BUYABLE:n;return{autoCorrectionDisabled:"true"===(void 0===l?"":l).toLowerCase(),brands:u,bubbleId:s,category:c,colors:d,commerceOnly:"true"===f.toLowerCase(),coverPinSig:m,currentlyAppliedFiltersParamTerm:h,debD:g,domains:y,guidedSearchQuery:v,inlineSuggestion:_,interestId:b,journeyDepth:x?parseInt(x,10):void 0,onSale:S,personalizationPinSig:O,placementId:(0,r.Hd)(L,t),priceMax:P,priceMin:w,query:I,requestParams:j,rs:E,scope:L,selectedOneBarModules:A,sourceId:T,sourceModuleId:k,tab:C||"",topPinIds:D,user:R,viewParameter:(0,r._R)(L),viewType:L===r.lw.SHOP_TOOL?1:2}}},374874:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(586659),i=n(581722),o=n(440568),a=n(536652),l=n(477588),s=n(601811);function u(){var e=(0,i.I0)(),t=(0,r.useRef)(void 0);return function(n){n&&function(e){var t=e.appliedUnifiedFilters,n=e.dispatch,r=e.optionsKeyRef,i=e.isAuthenticated,u=e.isDesktop,c=void 0===u||u,d=e.url,p=new URL(d.startsWith("http")?d:"".concat(window.location.origin).concat(d)),f=p.pathname.split("/");if(4===f.length&&"search"===f[1]){var m=p.search,g=f[2],y=(0,s.Z)({isDesktop:c,scope:g,search:m}),h=(0,l.vW)({searchParams:y,appliedUnifiedFilters:t,isAuthenticated:void 0===i||i,isDesktop:c,sourceUrl:d}),v=(0,o.Z)(h);r.current!==v&&(r.current=v,n((0,a.U)(h.name,{options:h.options},null)))}}({dispatch:e,optionsKeyRef:t,url:n})}}},77155:function(e,t,n){n.d(t,{X:function(){return f},Z:function(){return p}});var r=n(963489),i=n(239988),o=n(675973),a=n(15667),l=n(886981),s=n(477588),u=n(478135),c=n(647709),d=n(288910);function p(e){return f(e).resource}function f(e){var t=(e||{}).skipResourceCall,n=(0,o.Z)().checkExperiment,p=(0,a.B)().isAuthenticated,f=(0,r.TH)(),m=f.pathname,g=f.search,y=(0,c.HG)(),h=!p||!y,v=(0,d.n)(),_=(0,i.Z)(),b=(0,s.vW)({searchParams:v,sourceUrl:m+g,isDesktop:y,isAuthenticated:p,appliedUnifiedFilters:_}),x=h;h&&(x=!!p&&!n("unify_search_resource_auth_mweb").anyEnabled);var S=t||v.scope===u.lw.USERS&&!h||x;return{resource:(0,l.Z)(S?null:b),options:b.options}}},830176:function(e,t,n){n.d(t,{GB:function(){return m},ZP:function(){return f},q0:function(){return p}});var r=n(20256),i=n(302148),o=n(526435),a=n(473728),l=n(694955),s=n(96101),u=n(815507),c=n(47676),d=n(382718),p=function(e){return e._('Not a valid URL.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid URL was entered to create a Pin')};function f(e){var t=e.dispatchId,n=e.errorId,s=e.i18n,f=e.ideaPinRenamingEnabled,m=e.options,g=(0,u.Z)(n,s,t,m);if("GENERAL_ERROR"!==g.id)return g;switch(n){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This description is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when description is greater than maximum character count.')};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:t,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:s._('Ooops! Too many user mentions. Try keeping it to 5 max.', 'pinBuilder.errorMessaging.descriptionMentionLimit', 'Error message when description contains more user mentions than maximum allowed count.')};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This title is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when title is greater than maximum character count.')};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:t,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:s._('This image does not have the recommended aspect ratio.', 'storyPinBuilder.errorMessaging.message', 'Signal message when uploading an image that does not have the recommended aspect ratio.')};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:t,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:s._('You can\'t tag from the same page twice.', 'storyPinBuilder.errorMessaging.message', 'Error message for using the same product link twice on a Pin tag'),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:t,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:s._('You\'ve reached the maximum number of products for a tag.', 'storyPinBuilder.errorMessaging.message', 'Error message when user attempts to add more than 8 products to a tag'),blocking:!0};case"BOARD_MISSING":return{dispatchId:t,id:"BOARD_MISSING",type:"error",message:s._('A board is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a board is required to create a Pin'),blocking:!0};case"DATE_IN_PAST":return{dispatchId:t,id:"DATE_IN_PAST",type:"error",message:s._('A future date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the date is in the past for a scheduled Pin.'),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:t,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:s._('Make sure you schedule a Pin less than 30 days in the future.', 'storyPinBuilder.errorMessaging.30DayMessage', 'Error message indicating the date is too far in the future for a scheduled Pin.'),blocking:!0};case"DATE_MISSING":return{dispatchId:t,id:"DATE_MISSING",type:"error",message:s._('A date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a date is required to schedule a Pin.'),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:t,id:"DESCRIPTION_INVALID",type:"error",message:s._('The description is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid description was entered to create a Pin'),blocking:!0};case"MEDIA_MISSING":return{dispatchId:t,id:"MEDIA_MISSING",type:"error",message:s._('An image is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an image, video, or website is required to create a Pin.'),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:t,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:s._('Showcase ads don\u2019t currently support video. To continue, please upload an image.', 'showcasePinBuilder.errorMessaging.message', 'Error message for uploading the wrong format for showcase ads.'),blocking:!0};case"TAG_INVALID":return{dispatchId:t,id:"TAG_INVALID",type:"error",message:s._('You can only tag images linking to your claimed website.', 'storyPinBuilder.errorMessaging.message', 'Error message for entering a link you have not claimed.'),blocking:!0};case"TAG_EMPTY":return{dispatchId:t,id:"TAG_EMPTY",type:"error",message:s._('You must tag at least one feature Pin to continue.', 'storyPinBuilder.errorMessaging.message', 'Error message for not tagging at least one product on a showcase ad.'),blocking:!0};case"TIME_MISSING":return{dispatchId:t,id:"TIME_MISSING",type:"error",message:s._('A time is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a time is required to schedule a Pin.'),blocking:!0};case"TITLE_INVALID":return{dispatchId:t,id:"TITLE_INVALID",type:"error",message:s._('The title is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid title was entered to create a Pin'),blocking:!0};case"URL_INVALID":return{dispatchId:t,id:"URL_INVALID",type:"error",message:p(s),blocking:!0};case"URL_MISSING":return{dispatchId:t,id:"URL_MISSING",type:"error",message:s._('URL is required.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL is required to create a Pin'),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:t,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,i.nk)(s._('Some nudity is okay for Pinterest, some isn\'t. Make sure you understand {{ policy_link }}', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL entered is a porn domain.'),{policy_link:(0,d.jsx)(r.rU,{display:"inlineBlock",href:l.MsG,target:"blank",underline:"hover",children:(0,d.jsx)(r.xv,{color:"error",inline:!0,size:"100",weight:"bold",children:s._('our policies', 'Link to policy page', 'Link to policy page')})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:t,id:"URL_IS_TOO_LONG",type:"error",message:(0,a.Z)(s._('Please shorten the link to {{ maxLength }} characters or fewer.', 'pinbuilder.urlIsTooLong.errorMessage', 'Error message indicating a URL is too long to create a Pin. maxLength: max number of chars in the link'),{maxLength:o.cH}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:t,id:"URL_IS_BLOCKED",type:"error",message:s._('This link is blocked because it may not meet our content policies.', 'pinbuilder.blockedUrl.errorMessage', 'Error message indicating a URL is blocked because it may not meet our content policies'),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:t,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:s._('Carousel images must have the same height and width', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a carousel with different sizes'),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:t,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:s._('Carousels can only contain images', 'storyPinBuilder.errorMessaging.message', 'Error message when attempting to add a non-image file type to a carousel'),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:t,id:"URL_IS_REDIRECT",type:"error",message:s._('URL is a redirect.  Please enter a URL without a redirect.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL with a redirect was entered'),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:t,id:"URL_UNREACHABLE",type:"error",message:s._('URL is unreachable.  Please check that it is correct.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL specified is unreachable.'),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:s._('Edit the image on the cover page to have a 9:16 ratio', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio.'),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:f?s._('Please provide an image for the cover page of your Pin', 'storyPinBuilder.errorMessaging.storypinCoverPageImageMissing', 'Error message indicating that the cover page of a Pin is missing an image'):s._('Please provide an image for the cover page of your Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page of a Idea Pin is missing an image')};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:t,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:f?s._('Cannot save Pin without signature set on cover', 'storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing', 'Error message indicating that the cover page is missing the signature'):s._('Cannot save Idea Pin without signature set on cover', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page is missing the signature')};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:t,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:f?s._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing', 'Error message indicating the cover page of a Pin is missing a title.'):s._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:t,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:f?s._('Cannot save Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing', 'Error message indicating that signatures are missing on media blocks/items'):s._('Cannot save Idea Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that signatures are missing on media blocks/items')};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:t,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:f?s._('Create at least 2 pages to publish a Pin', 'storyPinBuilder.errorMessaging.storyPinNotEnoughPages', 'Error message indicating the Pin is too short.'):s._('Create at least 2 pages to publish an Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is too short.'),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,i.nk)(s._('You have reached the limit of {{draftMaxCount}} drafts.', 'storyboard.errorMessaging.message.draftLimitError', 'Upload attempt error message when users reached max number of drafts allowed. draftMaxCount: max number of drafts'),{draftMaxCount:c.in}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:t,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,i.nk)(s._('You can only upload {{multiUploadMaxCount}} drafts at once.', 'storyboard.errorMessaging.message.multiUploadMaxError', 'Error message when users multi upload more than the max allowed. multiUploadMaxCount: max number of multi uploaded'),{multiUploadMaxCount:c.Af}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:t,id:"STORY_PIN_TITLE_MISSING",type:"error",message:f?s._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinTitleMissing', 'Error message indicating the Pin is missing a title.'):s._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var y=Math.floor(o.W_);return{dispatchId:t,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.nk)(s.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', y, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file that is longer than the allowed duration'),{minVideoLengthSeconds:y}).join(""),blocking:!0};case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:t,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:s._('The cover page cannot contain a video', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Story Pin contains a video.'),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var h=o.Lr/1024/1024;return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.nk)(s.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', h, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file larger than required megabytes.'),{maxVideoFileSize:h}).join(""),blocking:!0};case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:t,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:s._('Ooops! This alt text is getting long. Try trimming it down.', 'pinBuilder.errorMessaging.message', 'Error message when alt text is greater than maximum character count.')};default:return{dispatchId:t,id:"GENERAL_ERROR",type:"error",message:s._('Hmm, something went wrong. Please try again.', 'storyPinBuilder.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}function m(e,t,n){n({event_type:7564,view_type:212,component:(0,s.Z)().includes("create")?13762:13308,aux_data:{error_message:t,error_id:e}})}},33618:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:r,filter_types:i}}},214239:function(e,t,n){n.d(t,{O:function(){return u},Q:function(){return c}});var r=n(72918),i=n(356299),o=n(189976);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],u={name:"BoardsResource",key:"boardsResource",options:function(e,t){var n=e.boardOrder,r=e.filterStories,i=e.mixPublicSecret,o=e.username,s=e.privacyFilter,u=e.filterAllPins,c=e.includeArchived;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({privacy_filter:void 0===s?"all":s,sort:n||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:r,username:o,page_size:25,group_by:i?"mix_public_private":"visibility",include_archived:void 0===c||c,redux_normalize_feed:!0,filter_all_pins:void 0!==u&&u},t?{orbac_subject_id:t}:Object.freeze({}))}},c=function(e){return s.reduce(function(t,n){var a=[(0,o.N8)("profileBoards",(0,i.Z)(e,n))];return[!0,!1].forEach(function(t){[!0,!1].forEach(function(i){a.push((0,r.jB)(u.name,u.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))})}),t.concat(a)},[])}},548286:function(e,t,n){n.d(t,{Br:function(){return g},Cr:function(){return S},K8:function(){return _},L1:function(){return E},YQ:function(){return j},ZP:function(){return P},aX:function(){return w},eo:function(){return h},md:function(){return y},oG:function(){return v},oL:function(){return I},of:function(){return b},xQ:function(){return x},xR:function(){return O},yT:function(){return m}});var r=n(575108),i=n(918920),o=n(536652),a=n(72918),l=n(33618),s=n(214239);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,l,"next",e)}function l(e){c(o,r,i,a,l,"throw",e)}a(void 0)})}}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function g(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function y(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function h(e){return{type:"BOARD_DELETE",payload:{viewingUserId:e.viewingUserId,viewingUsername:e.viewingUsername,boardId:e.boardId,boardPinCount:e.boardPinCount}}}var v=function(e,t){return function(n){return n((0,o.U)("BoardResource",{options:{board_id:e,field_set_key:t}}))}};function _(e){return function(t){e&&(0,s.Q)(e).forEach(function(e){t(e)})}}var b=function(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}},x=function(e){return v(e,"pin_count")},S=function(e,t){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}},P=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}};function w(e,t,n){var o=f({name:e,privacy:i.ZP.BoardPrivacy.PUBLIC,username:t},n?{orbac_subject_id:n}:Object.freeze({}));return function(e){return r.Z.create("BoardResource",o).callCreate().then(function(n){var r=n.resource_response.data;return e(t&&(0,a.jB)("BoardsResource",(0,l.Z)(t,!1))),r})}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}var O=function(e,t,n){var i;return i=d(regeneratorRuntime.mark(function i(o){var a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}),i.next=3,r.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();case 3:return(a=i.sent).resource_response.error||n({event_type:29,object_id_str:e}),i.abrupt("return",a);case 6:case"end":return i.stop()}},i)})),function(e){return i.apply(this,arguments)}},j=function(e,t,n,i,o,a){var l;return l=d(regeneratorRuntime.mark(function l(s){var u,c,d;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return c="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",s({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:null!=(u=null==i?void 0:i.id)?u:"",viewingUser:n}}),l.prev=2,l.next=5,r.Z.create(c,f({board_id:e,field_set_key:"boardEdit",invited_user_id:null!=(d=null==i?void 0:i.id)?d:""},a?{orbac_subject_id:a}:{})).callDelete();case 5:l.sent.resource_response.error||o({event_type:"accepted"===t?25:29,object_id_str:e}),l.next=12;break;case 9:l.prev=9,l.t0=l.catch(2),s({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:n,status:t,collaboratingUsers:[i]}});case 12:case"end":return l.stop()}},l,null,[[2,9]])})),function(e){return l.apply(this,arguments)}},E=function(e,t,n,i){return function(o){var a=r.Z.create("BoardResource",{board_id:n}).callDelete();return o(h({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i})),a}}},207691:function(e,t,n){n.d(t,{Z:function(){return l},f:function(){return s}});var r=n(686319),i=n(548286);function o(e,t,n,r,i,o,a){try{var l=e[o](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function l(e){o(a,r,i,l,s,"next",e)}function s(e){o(a,r,i,l,s,"throw",e)}l(void 0)})}}function l(e,t){var n;return n=a(regeneratorRuntime.mark(function n(o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o((0,i.md)(e,!0)),n.prev=1,n.next=4,(0,r.Z)({url:"/v3/boards/".concat(e,"/follow/"),method:"PUT"});case 4:t({event_type:26,object_id_str:e}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),o((0,i.md)(e,!1));case 10:case"end":return n.stop()}},n,null,[[1,7]])})),function(e){return n.apply(this,arguments)}}function s(e,t){var n;return n=a(regeneratorRuntime.mark(function n(o){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o((0,i.md)(e,!1)),n.prev=1,n.next=4,(0,r.Z)({url:"/v3/boards/".concat(e,"/follow/"),method:"DELETE"});case 4:t({event_type:27,object_id_str:e}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(1),o((0,i.md)(e,!0));case 10:case"end":return n.stop()}},n,null,[[1,7]])})),function(e){return n.apply(this,arguments)}}},189976:function(e,t,n){function r(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:function(){return a},N8:function(){return i},Qv:function(){return o},_f:function(){return r},vX:function(){return l}});var o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}}};function a(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function l(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},206459:function(e,t,n){function r(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function i(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function o(e){return{type:"PIN_SAVE",payload:e}}function a(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function s(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function u(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,nodeId:e.nodeId}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!0,nodeId:e.nodeId}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function p(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function f(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}n.d(t,{Gb:function(){return a},I1:function(){return s},Ib:function(){return c},JU:function(){return p},Ur:function(){return o},Vw:function(){return l},au:function(){return f},i0:function(){return d},mO:function(){return i},q1:function(){return u},yR:function(){return r}})},702226:function(e,t,n){t.Z=(0,n(209257).createSelector)(function(e){return e.boards},function(e){return Object.keys(e).reduce(function(t,n){var r,i,o=e[n];t[null!=(r=o.url)?r:""]=o;var a=null==(i=o.url)?void 0:i.toLocaleLowerCase();a&&o.url!==a&&(t[a]=o);var l="oldSlugUrl"in o?o.oldSlugUrl:null;return l&&(t[l]=o),t},{})})},47676:function(e,t,n){n.d(t,{Af:function(){return c},Ei:function(){return s},II:function(){return _},Lh:function(){return g},U:function(){return f},Zy:function(){return l},dD:function(){return o},er:function(){return m},hb:function(){return h},in:function(){return u},j7:function(){return y},kX:function(){return d},mx:function(){return v},n5:function(){return a},q8:function(){return p},xH:function(){return i}});var r=n(123317),i=1048576,o=3,a=20,l=3,s=10,u=50,c=10,d=1200,p=375,f=375/r.ap,m=4096,g="#FFFFFF",y={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},h=420,v=325,_=768},400741:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(20256),i=n(475498),o=n(19585),a=n(886981),l=n(647709),s=n(382718);function u(e){var t=e.ideaPinImages,n=t.map(function(e,t){var n,i;return(0,s.jsx)(r.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:(null==e?void 0:e.url)&&(0,s.jsx)(r.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:null!=(n=null==e?void 0:e.height)?n:1,naturalWidth:null!=(i=null==e?void 0:e.width)?i:1,src:e.url})},t)});return(0,s.jsx)(r.kC,{justifyContent:"center",children:(0,s.jsx)(r.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[t.length],children:n})})}function c(e){var t=e.handleHide,n=e.text,c=e.userId,d=e.href,p=e.imageUrl,f=(0,o.ZP)(),m=(0,l.HG)(),g=(0,a.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:c}}),y=Array.isArray(n)?n.join(" "):n;if(0===(g.data||[]).length)return(0,s.jsx)(i.Z,{duration:5e3,href:d,onHide:t,text:y,thumbnail:p?{image:(0,s.jsx)(r.Ee,{alt:f._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:p})}:void 0});var h=(g.data||[]).slice(0,3).map(function(e){var t;return null==(t=e.images)?void 0:t[m?"236x":"170x"]}),v=(0,s.jsx)(u,{ideaPinImages:h});return(0,s.jsx)(i.Z,{_dangerouslySetThumbnail:v,duration:5e3,href:d,onHide:t,text:y})}},681777:function(e,t,n){n.d(t,{CE:function(){return p},Cm:function(){return f},Sm:function(){return y},eK:function(){return m},fA:function(){return c},yN:function(){return l}});var r=n(586659),i=n(506662),o=n(15667),a=n(886981),l=10,s=window.location.host.startsWith("testing"),u=function(e){var t=new Date(e.getFullYear(),7,20),n=new Date(e.getFullYear(),8,24);return e>=t&&e<=n},c=["US","CA","GB","AU","DE","FR"],d=["US","CA","GB","FR","BR"],p=function(e){if(s)return!1;var t=new Date;return!!u(t)&&!!u(t)&&d.includes(e)},f=function(e,t,n){return(!e||n&&(0,i.gT)(n))&&c.includes(t)},m=function(e){return e._('Explore featured boards', 'featured_boards.header', 'Explore featured boards header')},g=function(e){var t=e.username,n=e.sort;return{field_set_key:"profile_grid_item",filter_stories:!1,sort:void 0===n?"last_pinned_to":n,username:t}},y=function(){var e=(0,o.B)().country,t=(0,r.useMemo)(function(){var t;return"DE"===(t=e)?"pinterestde":"FR"===t?"pinterestfr":"AU"===t?"pinterestaustralia":"CA"===t?"pinterest_canada":"GB"===t?"pinterestuk":"pinterest"},[e]);return(0,a.Z)({name:"BoardsFeedResource",options:g({username:t})})}},301856:function(e,t,n){var r=n(20256),i=n(19585),o=n(647709),a=n(382718);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=function(e){var t=e.isPhone,n=e.url,o=e.handleClick,l=(0,i.ZP)(),s=l._('See more arrow', 'unauth_section_header.see_more_a11y', 'See more link button accessibility label');return t?(0,a.jsx)(r.I_,{accessibilityLabel:s,bgColor:"transparent",href:n,icon:"arrow-forward",iconColor:"darkGray",onClick:o,padding:1,size:"xs"}):(0,a.jsx)(r.ZP,{accessibilityLabel:s,color:"transparent",href:n,iconEnd:"arrow-forward",onClick:o,size:"md",text:l._('See more', 'unauth_section_header.see_more', 'See more link button for unauth section header')})},d=function(e){var t=e.children,n=e.linkProps;return n?(0,a.jsx)(r.Tg,{fullWidth:!1,href:n.url,mouseCursor:"pointer",onTap:n.handleClickHeader||n.handleClick,children:t}):(0,a.jsx)(r.xu,{children:t})};t.Z=function(e){var t=e.sectionHeader,n=e.sectionHeaderA11yLevel,i=e.pretext,l=e.pretextA11yLevel,s=e.linkProps,p=e.headerMarginTopOverride,f=e.smallHeader,m=void 0!==f&&f,g=(0,o.ml)(),y=null!=p?p:g?12:16,h=m||g?"100":"300",v=m||g?"300":"600";return(0,a.jsxs)(r.xu,{alignItems:"end",direction:"row",display:"flex",justifyContent:"between",marginBottom:4,marginTop:y,width:"100%",children:[(0,a.jsxs)(d,{linkProps:s,children:[!!i&&(0,a.jsx)(r.xu,{marginBottom:1,children:l?(0,a.jsx)(r.X6,{accessibilityLevel:l,size:h,children:(0,a.jsx)(r.xv,{size:h,children:i})}):(0,a.jsx)(r.xv,{lineClamp:2,size:h,children:i})}),(0,a.jsx)(r.X6,{accessibilityLevel:n||2,size:v,children:t})]}),!!s&&(0,a.jsx)(c,u(u({},s),{},{isPhone:g}))]})}}}]);
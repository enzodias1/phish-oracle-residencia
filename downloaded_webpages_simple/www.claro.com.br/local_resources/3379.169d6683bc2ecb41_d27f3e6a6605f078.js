(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3379],{13379:function(n,i,e){"use strict";e.r(i),e.d(i,{Card360:function(){return j},default:function(){return k}});var t=e(26042),d=e(69396),o=e(99534),l=e(29815),a=e(85893),r=e(67294),u=e(40309),c=e(59482),s=e(93293),m=e(61919),v=e(66176),f=e(51588),p=e(59075),h=e(86190),g=e.n(h),x=e(81134),C=function(n){var i=n.prefix;return(0,a.jsx)(p.KR.Swiper,{children:[1,2,3,4,5].map((function(n){return(0,a.jsx)(p.KR.SkeletonContainer,{children:(0,a.jsxs)("div",{className:"mdn-Card mdn-Card--default",children:[(0,a.jsx)("div",{className:"mdn-Card-top mdn-Card-top--public",children:(0,a.jsx)(p.KR.SkeletonText,{})}),(0,a.jsxs)("div",{className:"mdn-Card-middle",children:[(0,a.jsxs)("li",{className:"mdn-Card-middle-list-item",children:[(0,a.jsx)(p.KR.SkeletonText,{lines:1,length:10}),(0,a.jsx)("div",{className:"mdn-Card-middle-list-item-value",children:(0,a.jsx)(p.KR.SkeletonText,{lines:1,length:20})})]}),(0,a.jsxs)("li",{className:"mdn-Card-middle-list-item",children:[(0,a.jsx)(p.KR.SkeletonText,{lines:1,length:10}),(0,a.jsx)("div",{className:"mdn-Card-middle-list-item-value",children:(0,a.jsx)(p.KR.SkeletonIcon,{size:"sm",icons:4})})]})]}),(0,a.jsxs)("div",{className:"mdn-Card-bottom",children:[(0,a.jsx)(p.KR.SkeletonText,{}),(0,a.jsx)(p.KR.SkeletonTitle,{size:"sm"}),(0,a.jsx)(p.KR.SkeletonText,{}),"\xa0",(0,a.jsxs)("div",{className:"mdn-Card-bottom-actions",children:[(0,a.jsx)(p.KR.SkeletonButton,{}),(0,a.jsx)(p.KR.SkeletonText,{length:10})]})]})]})},"".concat(i,"-").concat(n))}))})},j=function(n){var i=(0,r.useContext)(c._W),e=(0,r.useState)([]),h=e[0],j=e[1],k=(0,u.qD)(),Z=k.editMode,b=k.datetime,R=void 0===b?null:b,S=n.data,T=n.actionGTM,K=n.segments,N=n.labelGTM,y=n.countdownBlock,_=(0,c.Vc)(K,i.cookieValue,Z),B=(0,f.A)(_?n:null,"card_360"),L=B.dataCatalog,G=B.isLoading,w=(null===L||void 0===L?void 0:L.data)||S,I=!1===Z?(0,m.Hr)(w,null===R||void 0===R?void 0:R.datetime):w;if(!(null===I||void 0===I?void 0:I.length))return null;var E=Z?I:null===I||void 0===I?void 0:I.filter((function(n){return!h.includes(null===n||void 0===n?void 0:n._uid)}));if(G)return(0,a.jsx)(p.KR.Container,(0,d.Z)((0,t.Z)({autoLayout:!0,className:"".concat(g()["cms-Card360"]),dataComponentId:"card360"},n),{children:(0,a.jsx)(C,{prefix:"card-360"})}));var M=function(n){return(null===n||void 0===n?void 0:n.label)&&(null===n||void 0===n?void 0:n.url)?{children:(0,a.jsx)(p.KR.Link,(0,d.Z)((0,t.Z)({},n),{children:n.label}))}:null},D=function(n){var i=n||{},e=i.prefix,l=(0,o.Z)(i,["prefix"]);return(0,d.Z)((0,t.Z)({},l),{prefix:(0,x.Z)(e)})},F=function(i,e,o){return(null===i||void 0===i?void 0:i.length)?i.map((function(i,l){var a,r=i.link,u=i.button,c=i.condition,m=i.radioValue,v=i.price,f=s.ZP.slugString("radio-".concat(n.positionComponent,"-").concat(o,"-").concat(m,"-").concat(e,"-").concat(l,"-").concat((null===v||void 0===v||null===(a=v.price)||void 0===a?void 0:a.replace("R$",""))+c)),p=(0,d.Z)((0,t.Z)({},null===u||void 0===u?void 0:u[0]),{isButton:!0,className:"mdn-Button--block"}),h=(0,d.Z)((0,t.Z)({},null===r||void 0===r?void 0:r[0]),{isBasic:!0,className:"mdn-Link mdn-is-initialized ".concat((null===r||void 0===r?void 0:r[0].isModal)?"cms-Link-inline--underline":"")});return(0,t.Z)({condition:c,price:D(v),radio:{id:f,name:f,value:f,children:m}},(null===u||void 0===u?void 0:u.length)&&{button:M(p)},(null===r||void 0===r?void 0:r.length)&&{link:M(h)})})):null};return function(n,i,e){if(n){if(n=n.filter((function(n){return Object.keys(n).some((function(i){return n[i]}))})),!e&&n.length===i.length)return!1;if(n.length>0)return!0}return!1}(I,h,Z)&&_&&(0,a.jsx)(p.KR.Container,(0,d.Z)((0,t.Z)({autoLayout:!0,className:"cms-Card360",dataComponentId:"card360"},n),{children:(0,a.jsx)(p.KR.Swiper,{gtmAction:T,gtmLabel:N,className:"mdn-CardGroup",children:E.map((function(n,i){var e,u=n||{},c=u.martechId,s=u.image,f=u.chips,h=u.actions,g=u.scheduling,x=(u.catalog,u.environment,u.countdown),C=(0,o.Z)(u,["martechId","image","chips","actions","scheduling","catalog","environment","countdown"]),k=s||{},b=k.image,R=k.alt,S=void 0===R?"":R,T=b?(0,d.Z)((0,t.Z)({},b),{alt:(null===b||void 0===b?void 0:b.alt)||S,title:(null===b||void 0===b?void 0:b.alt)||S}):null,K=(0,d.Z)((0,t.Z)({},C,c&&{id:c}),{actions:F(h,i,null===n||void 0===n||null===(e=n.heading)||void 0===e?void 0:e.children),image:T||null,tag:f});return(0,a.jsxs)(a.Fragment,{children:[(null===g||void 0===g?void 0:g.datetimeEnd)&&x&&!y&&(0,a.jsx)(p.KR.Countdown,{startDate:(0,v.ZP)().datetime,endDate:(0,m.tr)(null===g||void 0===g?void 0:g.datetimeEnd),size:x.size,title:x.title,subtitle:x.subtitle,tag:x.tag,onEndHandler:Z?null:function(){j((function(n){return(0,l.Z)(n).concat([null===C||void 0===C?void 0:C._uid])}))}}),(0,r.createElement)(p.TY.Card,(0,d.Z)((0,t.Z)({},K),{key:null===C||void 0===C?void 0:C._uid}))]})}))})}))};var k=(0,r.memo)(j)},81134:function(n,i,e){"use strict";e.d(i,{W:function(){return d}});var t=e(85893),d=(e(67294),function(n){return(null===n||void 0===n?void 0:n.match(/(~.*~)/g))?(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:null===n||void 0===n?void 0:n.replace(/(~.*~)/g,"<s>$1</s>").replace(/~/g,"")}}):n});i.Z=d},51588:function(n,i,e){"use strict";e.d(i,{A:function(){return s}});var t=e(9669),d=e.n(t),o=e(82656),l=e(67294),a=e(49770),r=e(7634),u=e(65433),c=e(48764).Buffer,s=function(n,i){var e,t=n||{},s=t.hasCatalog,m=t.environment,v=t.mind,f=t.catalogConfig,p=(0,l.useContext)(o._W),h=(0,u.mA)(p.cookieValue.name).replace(/-/g,"_"),g=p.cookieValue.uf,x=(0,o.qD)().editMode,C=function(){if(!h)return{params:null,method:null};if(null===v||void 0===v?void 0:v.parameters){var e=v.parameters||{},t=e.fixedCity,d=e.fixedUf,o=e.type,l=void 0===o?"todos":o,a=e.environment,u=void 0===a?"person":a,p=e.internetIds,C=void 0===p?"":p,j=e.comboType;return{params:["/api/mind",{city:t||h,uf:d||g,type:l,environment:u,internetIds:C,comboType:void 0===j?"combinacao":j,genericFields:(null===v||void 0===v?void 0:v.genericFields)?c.from(JSON.stringify(null===v||void 0===v?void 0:v.genericFields)).toString("base64"):null}],method:"post"}}if(s){var k,Z=h,b=g;if(x){var R=(0,r.Fn)();Z=R.city,b=R.state}if(f)Z=f.fixedCity,b=f.fixedUf;var S=null===n||void 0===n||null===(k=n.data)||void 0===k?void 0:k.map((function(n){return n._uid})).join(",");return{params:["/api/catalog",{params:{state:b,city:Z,environment:m,component:i,uuids:S,editMode:x}}],method:"get"}}return{params:null,method:null}},j=C(),k=j.params,Z=j.method,b=(0,a.Z)(k,(function(n,i,e){var t;return null===d()||void 0===d()||null===(t=d()[Z])||void 0===t?void 0:t.call(d(),n,i,e).then((function(n){return n.data})).catch((function(n){var i;return(null===n||void 0===n||null===(i=n.response)||void 0===i?void 0:i.data)||{data:[]}}))}),{shouldRetryOnError:!1}),R=b.data;(null===R||void 0===R?void 0:R.data)&&!x&&(R.data=null===R||void 0===R||null===(e=R.data)||void 0===e?void 0:e.filter((function(n){return!n.hasCatalog||n.hasCatalog&&!n.catalog.notFound})));return{dataCatalog:R,isLoading:!(R||!C().params)}}},86190:function(n){n.exports={"cms-Card360":"cms-Card360","mdn-Card":"mdn-Card","mdn-Card-top-main-title-info":"mdn-Card-top-main-title-info","mdn-Tooltip":"mdn-Tooltip","mdn-BrandGroup-item":"mdn-BrandGroup-item","cms-Link-inline--underline":"cms-Link-inline--underline","mdn-BrandGroup":"mdn-BrandGroup","mdn-BrandGroup--overlaid":"mdn-BrandGroup--overlaid","mdn-TopicDetails--brand":"mdn-TopicDetails--brand"}}}]);
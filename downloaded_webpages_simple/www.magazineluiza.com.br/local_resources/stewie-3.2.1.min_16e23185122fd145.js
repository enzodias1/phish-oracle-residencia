/*!
 * stewie js client v3.2.1
 *
 * Copyright 2025 luizalabs.com 
 */
(function(){var s=window.stewie={},a={action:"a",channel:"c",productId:"p",productPrice:"pp",productCashPrice:"cpp",shippingPrice:"sp",orderId:"o",payments:"pys",productIds:"ps",facebookId:"fd",facebookToken:"fn",uuid:"u",latitude:"lt",longitude:"lg",searchContent:"s",results:"rs",keyword:"q",clickedId:"ci",timeToWait:"ttw",zipCode:"zc",estimateDelivery:"ed",sellerId:"slrid",searchId:"sid",userInformation:"uri",userName:"nm",origin:"or",shippingMethod:"sm",departmentId:"dp",cartId:"cti",cartTotalAmount:"cta",cartTotalPrice:"ctp",cartTotalFreight:"ctf",context:"ctx"};s.getPixelUrl=function(t=window.location.hostname){var o="https://roger.magazineluiza.com.br/register/";return t!=="localhost"&&(o=`https://roger.${t.split(".").slice(1).join(".")}/register/`),o},s.utils={serialize:function(t){var o=[],u=null;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(u=n in a?a[n]:n,t[n]!==void 0&&o.push(encodeURIComponent(u)+"="+encodeURIComponent(t[n])));return o.join("&")}},s.pixel={urlsForTransactions:function(t,o,u){var n,l=s.getPixelUrl(),d=[];if(o.length>0)for(n=0;n<o.length;n++)t&&(o[n].uuid=t),u&&(o[n].channel=u),d.push(l+"?"+s.utils.serialize(o[n]));else if(t){var h={uuid:t};u&&(h.channel=u),d.push(l+"?"+s.utils.serialize(h))}return d},push:function(t){fetch(t,{credentials:"include",mode:"no-cors"})}},s.api=function(){var t=null,o=[],u=null,n=function(e){t=e},l=function(e){u=e},d=function(){o.push({action:"ping"})},h=function(e){var r={action:"s",keyword:e.keyword};e.results?r.results=e.results:r.results=0;var i=e.productIds,p=null;i&&(p=i.join(","),r.productIds=p),e.clickedId&&(r.clickedId=e.clickedId),o.push(r)},P=function(e){var r={action:"cos",keyword:e.keyword,productId:e.productId,departmentId:e.departmentId};o.push(r)},C=function(e){var r={action:"v",productId:e.productId},i=e.productPrice;i!==null&&typeof i!="undefined"&&(r.productPrice=i),e.productCashPrice&&(r.productCashPrice=e.productCashPrice),o.push(r)},k=function(e){if(e.productId&&e.productPrice){var r={action:"awl",productId:e.productId,productPrice:e.productPrice};e.productCashPrice&&(r.productCashPrice=e.productCashPrice),o.push(r)}},T=function(e){e.productId&&o.push({action:"rwl",productId:e.productId})},w=function(e){var r={action:"v",productId:e.productId,latitude:e.latitude,longitude:e.longitude,productPrice:e.price};e.productCashPrice&&(r.productCashPrice=e.productCashPrice),o.push(r)},y=function(e){var r={action:"sc",productId:e.productId,shippingPrice:e.shippingPrice};e.productCashPrice&&(r.productCashPrice=e.productCashPrice),e.estimateDelivery&&(r.estimateDelivery=e.estimateDelivery),e.zipCode&&(r.zipCode=e.zipCode),o.push(r)},m=function(e){for(var r=0;r<e.length;r++){var i={action:"c",productId:e[r].productId,sellerId:e[r].sellerId,productPrice:e[r].price};e[r].productCashPrice&&(i.productCashPrice=e[r].productCashPrice),e[r].context&&(i.context=e[r].context),o.push(i)}},x=function(e){var r={action:"bc",zipCode:e.zipCode,cartId:e.cartId,cartTotalAmount:e.cartTotalAmount,cartTotalPrice:e.cartTotalPrice,cartTotalFreight:e.cartTotalFreight};e.context&&(r.context=e.context),o.push(r)},z=function(e){for(var r=[],i=[],p=[],c=0;c<e.products.length;c++)r.push(e.products[c].productId+"-"+e.products[c].qty),e.products[c].shippingMethod&&i.push(e.products[c].productId+"-"+e.products[c].shippingMethod),e.products[c].sellerId&&p.push(e.products[c].productId+"-"+e.products[c].sellerId);var g=[];for(c=0;c<e.payments.length;c++)g.push(e.payments[c].paymentMethod+"-"+e.payments[c].value+"-"+e.payments[c].paymentInstallments);var f={action:"on",orderId:e.orderId,productIds:r.join(","),payments:g.join(",")};i.length&&(f.shippingMethod=i.join(",")),p.length&&(f.sellerIds=p.join(",")),o.push(f)},b=function(e){o.push({action:"li",productId:e.productId})},W=function(e){var r={action:"dl",productId:e.productId},i=e.timeToWait;i!==null&&typeof i!="undefined"&&i>0&&(r.timeToWait=i),o.push(r)},U=function(e){o.push({action:"ft",facebookId:e.facebookId,facebookToken:e.facebookToken})},F=function(e){var r={action:"ui",userInformation:e.userInformation,userName:e.userName,origin:e.origin};o.push(r)},M=function(e,r){o.push({action:e,productId:r})},j=function(){return o},D=function(){for(var e=s.pixel.urlsForTransactions(t,o,u),r=0;r<e.length;r++)s.pixel.push(e[r]);o=[]},O=function(){t=null,o=[]};return{addTransaction:M,dispatch:D,channel:l,getTransactions:j,uid:n,addedToCart:m,beginCheckout:x,cart:m,view:C,likes:b,addedToWishlist:k,removedFromWishlist:T,dislikes:W,shipping:y,ping:d,facebook:U,viewWithGeolocation:w,order:z,searched:h,sendUserInformation:F,clickedOnSearch:P,reset:O}}();var I=window._stw||{};for(var v in I)s.api[v](I[v]);s.api.dispatch()})();

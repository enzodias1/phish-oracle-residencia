"use strict";(self.webpackChunkliftoff_theme=self.webpackChunkliftoff_theme||[]).push([[887],{857:function(t,l,e){var o=e(669);function r(t,l){for(var e=0;e<l.length;e++){var o=l[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(l){var e=this;!function(t,l){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}(this,t),(o.h||l&&!l.dataset.isInit)&&(l.dataset.isInit=!0,this.el=l,this.currentElm=0,this.carousel=this.el.querySelector(".lf-block--callout-carousel__wrapper"),this.callouts=this.el.querySelectorAll(".lf-block--callout"),this.controlEls=l.querySelector(".lf-block--callout-carousel__controls"),this.calloutsCount=this.callouts.length,this.addEventListeners(),window.acf.addAction("render_block_preview/type=liftoff/callout",(function(){return e.initIndicator()})),o.h||this.buildInfiniteCarousel())}var l,e;return l=t,(e=[{key:"buildInfiniteCarousel",value:function(){if(this.callouts.length){this.calloutsCount=this.callouts.length;var t=this.callouts[this.callouts.length-1].cloneNode(!0);t.classList.add("lf-latest-placeholder");var l=this.callouts[0].cloneNode(!0);l.classList.add("lf-first-placeholder"),this.carousel.append(l),this.carousel.prepend(t),this.scrollToElm(0),this.callouts=this.el.querySelectorAll(".lf-block--callout")}}},{key:"addEventListeners",value:function(){var t=this;this.initIndicator(),this.carousel.addEventListener("scroll",(function(){t.updateIndicators()})),this.controlEls.querySelector(".lf-arrow-left").addEventListener("click",(function(l){var e;0===t.currentElm&&t.scrollToElm(t.callouts.length-1),e=o.h?0===t.currentElm?t.callouts.length-1:t.currentElm-1:0===t.currentElm?t.calloutsCount:t.currentElm,t.scrollToElm(e,"smooth")})),this.controlEls.querySelector(".lf-arrow-right").addEventListener("click",(function(){var l;t.currentElm===t.calloutsCount-1&&t.scrollToElm(0),l=o.h?t.currentElm===t.callouts.length-1?0:t.currentElm+1:t.currentElm===t.calloutsCount-1?1:t.currentElm+2,t.scrollToElm(l,"smooth")}))}},{key:"scrollToElm",value:function(t,l){var e,r,c=this.callouts[t].offsetLeft;o.h&&null!==(e=this.callouts[t])&&void 0!==e&&null!==(r=e.parentNode)&&void 0!==r&&r.classList.contains("wp-block-liftoff-callout")&&(c=this.callouts[t].parentNode.offsetLeft),this.carousel.scrollTo({left:c,behavior:l})}},{key:"initIndicator",value:function(){this.callouts=this.el.querySelectorAll(".lf-block--callout"),this.controlEls.querySelector(".lf-indicators__total").innerHTML=this.callouts.length}},{key:"updateIndicators",value:function(){var t=(this.carousel.scrollWidth-this.carousel.clientWidth)/(this.callouts.length-1),l=this.carousel.scrollLeft/t,e=this.controlEls.querySelector(".lf-indicators__current");if(o.h)this.currentElm=Math.round(l);else{var r=Math.round(l)-1;r>this.calloutsCount-1?this.currentElm=0:this.currentElm=r<0?this.calloutsCount-1:r}e.innerHTML=this.currentElm+1}}])&&r(l.prototype,e),Object.defineProperty(l,"prototype",{writable:!1}),t}();document.addEventListener("DOMContentLoaded",(function(t){window.getBlockEl=o.T,document.querySelectorAll(".lf-block--callout-carousel").forEach((function(t){return new c(t)}))})),o.h&&window.acf.addAction("render_block_preview/type=liftoff/callout-carousel",(function(t){return new c((0,o.T)(t))}))}},function(t){t(t.s=857)}]);
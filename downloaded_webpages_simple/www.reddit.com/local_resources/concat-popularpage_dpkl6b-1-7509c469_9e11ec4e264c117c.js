SML.dm("Cjj0UdGq",["DN8NCGGW","DVMhF-xZ"],(async(e,a)=>{let t=class extends(a.e(e.s)){constructor(){super(...arguments),this.showErrorMessage=!1,this.handleFaceplateError=e=>{const t=function(e){return"faceplate-error"===e.type}(e)?e.detail.message:"page load returned no data";this.trackEvent(a.b({source:"feed",action:"failed",noun:"page_load"},{action_info:{reason:t,page_type:this.pageType}})),this.showErrorMessage=!0},this.handleFaceplateLoadStart=e=>{this.showErrorMessage=!1},this.handleRetry=()=>{this.showErrorMessage=!1,this.faceplatePartial?.load()}}get faceplatePartial(){return this.closest("faceplate-partial")}connectedCallback(){super.connectedCallback(),this.faceplatePartial?.addEventListener("faceplate-error",this.handleFaceplateError),this.faceplatePartial?.addEventListener("faceplate-load",this.handleFaceplateError),this.faceplatePartial?.addEventListener("faceplate-load-start",this.handleFaceplateLoadStart)}disconnectedCallback(){super.disconnectedCallback(),this.faceplatePartial?.removeEventListener("faceplate-error",this.handleFaceplateError),this.faceplatePartial?.removeEventListener("faceplate-load",this.handleFaceplateError),this.faceplatePartial?.removeEventListener("faceplate-load-start",this.handleFaceplateLoadStart)}render(){return e.x` ${this.showErrorMessage?this.renderErrorState():this.renderLoadingState()} `}renderLoadingState(){return e.x`<shreddit-loading></shreddit-loading>`}renderErrorState(){return e.x` <div class="flex flex-col items-center justify-center h-[192px] text-center m-md"> <div class="mb-md text-14 font-semibold"> ${"There was an error loading the next page, please try again."} </div> ${a.n({appearance:"primary",size:a.$.Large,children:"Retry",attributes:{onclick:this.handleRetry}})} </div> `;}};t.styles=[a.t],e._([e.n({type:String,attribute:"page-type"})],t.prototype,"pageType",void 0),e._([e.b()],t.prototype,"showErrorMessage",void 0),t=e._([e.c("shreddit-feed-page-loading")],t)}));
SML.dm("CElIDZoh",["DVMhF-xZ","DN8NCGGW"],(async(e,t)=>{const n=(e,t)=>{if(!e||!t)return!1;if(e===t)return!0;if(0===e.childElementCount&&!(e instanceof HTMLSlotElement))return!1;if(e.contains(t))return!0;if(e instanceof HTMLSlotElement&&e.assignedElements().some((e=>n(e,t))))return!0;if(e instanceof Element&&e.shadowRoot&&n(e.shadowRoot,t))return!0;for(const a of e.querySelectorAll("slot"))if(a.assignedElements().some((e=>n(e,t))))return!0;return!1};const a=new WeakMap;function i(e,t=document){let n=a.get(t);n||(n=new Map,a.set(t,n));let i=n.get(e);return i||(i={key:e},n.set(e,i)),i}const r=Symbol("mixins/pagination"),o=function(t){const n=new WeakMap,a=e.gu();return{getContextKey:(e,t)=>i(e,t),appointLeader(e,i){if(n.has(i)){if(n.get(i).isConnected)throw new Error(`Cannot appoint leader for key "${i.key}" in the same context twice.`)}n.set(i,e);const r=a.getRegisteredElements(i);if(r)for(const n of r)t(e,n)},dismissLeader(e,t){const a=n.get(t);a&&a===e&&n.delete(t)},getLeader:e=>n.get(e),registerFollower(e,i){a.register(i,e);const r=n.get(i);r&&t(r,e)},unregisterFollower(e,t){a.unregister(t,e)},getFollowers:e=>a.getRegisteredElements(e)}}(((e,t)=>{t.syncPagination(e)}));const s=new WeakMap;const l={xs:12,sm:16,md:20,lg:24,xl:32,"2xl":48},c=({path:e,iconName:n,defaultSvgFill:a="currentColor",defaultPathFill:i})=>({className:r,size:o="md",svgFill:s=a,pathFill:c=i}={size:"md",pathFill:i})=>t.x`<svg rpl class="${t.l(r)}" fill="${s}" height="${l[o]}" width="${l[o]}" icon-name="${n}" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> ${e({pathFill:c})} </svg>`,u=c({iconName:"caret-right-outline",defaultSvgFill:"currentColor",defaultPathFill:void 0,path:({pathFill:e})=>t.ee`<path d="m7.942 15.442-.884-.884L11.616 10 7.058 5.442l.884-.884 5 5a.624.624 0 0 1 0 .884l-5 5Z" fill="${t.l(e)}"></path>`}),d=c({iconName:"caret-left-outline",defaultSvgFill:"currentColor",defaultPathFill:void 0,path:e=>t.ee`<path d="m12.058 15.442-5-5a.624.624 0 0 1 0-.884l5-5 .884.884L8.384 10l4.558 4.558-.884.884Z" fill="${t.l(e.pathFill)}"></path>`}),m=c({iconName:"checkmark-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.ee`<path d="M7.5 15.958a1.102 1.102 0 0 1-.778-.322l-5.429-5.429 1.414-1.414L7.5 13.586 17.793 3.293l1.414 1.414L8.278 15.636a1.101 1.101 0 0 1-.778.322Z" fill="${t.l(e.pathFill)}"></path>`}),h=c({iconName:"checkbox-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.ee`<path d="M16.375 2H3.625C3.19419 2.00053 2.78117 2.1719 2.47654 2.47654C2.1719 2.78117 2.00053 3.19419 2 3.625V16.375C2.00053 16.8058 2.1719 17.2188 2.47654 17.5235C2.78117 17.8281 3.19419 17.9995 3.625 18H16.375C16.8058 17.9995 17.2188 17.8281 17.5235 17.5235C17.8281 17.2188 17.9995 16.8058 18 16.375V3.625C17.9995 3.19419 17.8281 2.78117 17.5235 2.47654C17.2188 2.1719 16.8058 2.00053 16.375 2ZM9.03 13.03C8.9605 13.0998 8.87791 13.1552 8.78696 13.1929C8.696 13.2307 8.59849 13.2502 8.5 13.2502C8.40151 13.2502 8.304 13.2307 8.21304 13.1929C8.12209 13.1552 8.0395 13.0998 7.97 13.03L5.97 11.03L7.03 9.97L8.5 11.439L12.97 6.97L14.03 8.03L9.03 13.03Z" fill="${t.l(e.pathFill)}"></path>`}),p=c({iconName:"checkbox-outline",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.ee`<path d="M16.375 18H3.625C3.19419 17.9995 2.78117 17.8281 2.47654 17.5235C2.1719 17.2188 2.00053 16.8058 2 16.375V3.625C2.00053 3.19419 2.1719 2.78117 2.47654 2.47654C2.78117 2.1719 3.19419 2.00053 3.625 2H16.375C16.8058 2.00053 17.2188 2.1719 17.5235 2.47654C17.8281 2.78117 17.9995 3.19419 18 3.625V16.375C17.9995 16.8058 17.8281 17.2188 17.5235 17.5235C17.2188 17.8281 16.8058 17.9995 16.375 18ZM3.625 3.25C3.52554 3.25 3.43016 3.28951 3.35983 3.35983C3.28951 3.43016 3.25 3.52554 3.25 3.625V16.375C3.25 16.4745 3.28951 16.5698 3.35983 16.6402C3.43016 16.7105 3.52554 16.75 3.625 16.75H16.375C16.4745 16.75 16.5698 16.7105 16.6402 16.6402C16.7105 16.5698 16.75 16.4745 16.75 16.375V3.625C16.75 3.52554 16.7105 3.43016 16.6402 3.35983C16.5698 3.28951 16.4745 3.25 16.375 3.25H3.625Z" fill="${t.l(e.pathFill)}"></path>`}),g=c({iconName:"radio-button-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.ee`<path d="M10 19C7.92015 18.998 5.90531 18.2749 4.29873 16.954C2.69215 15.6331 1.59322 13.796 1.18915 11.7558C0.785071 9.7155 1.10085 7.59826 2.08268 5.76471C3.06451 3.93115 4.65166 2.49471 6.57376 1.70008C8.49586 0.905442 10.634 0.801774 12.624 1.40673C14.6139 2.01169 16.3326 3.28785 17.4872 5.01782C18.6418 6.74779 19.1609 8.82455 18.9561 10.8943C18.7513 12.9641 17.8353 14.8989 16.364 16.369C15.5287 17.205 14.5366 17.8677 13.4444 18.3192C12.3523 18.7707 11.1818 19.0021 10 19ZM10 2.254C8.72575 2.25395 7.47113 2.56819 6.34732 3.16888C5.22351 3.76957 4.2652 4.63817 3.55729 5.69773C2.84939 6.75729 2.41374 7.97509 2.28895 9.24324C2.16416 10.5114 2.35408 11.7908 2.84188 12.968C3.32968 14.1452 4.1003 15.1839 5.08547 15.9921C6.07064 16.8004 7.23995 17.3531 8.4898 17.6015C9.73965 17.8498 11.0315 17.786 12.2508 17.4158C13.4701 17.0456 14.5793 16.3803 15.48 15.479C16.5641 14.3956 17.3024 13.015 17.6016 11.5119C17.9007 10.0088 17.7472 8.45067 17.1605 7.0348C16.5738 5.61893 15.5803 4.40892 14.3057 3.55791C13.0311 2.70689 11.5326 2.25311 10 2.254ZM13.536 6.464C12.8367 5.76487 11.9458 5.2888 10.9759 5.09598C10.0061 4.90316 9.0008 5.00225 8.08724 5.38073C7.17369 5.75921 6.39288 6.40007 5.84353 7.22229C5.29418 8.04451 5.00097 9.01115 5.00097 10C5.00097 10.9889 5.29418 11.9555 5.84353 12.7777C6.39288 13.5999 7.17369 14.2408 8.08724 14.6193C9.0008 14.9978 10.0061 15.0968 10.9759 14.904C11.9458 14.7112 12.8367 14.2351 13.536 13.536C14.4725 12.5975 14.9985 11.3258 14.9985 10C14.9985 8.67418 14.4725 7.4025 13.536 6.464Z" fill="${t.l(e.pathFill)}">`}),f=c({iconName:"radio-button-fill",defaultSvgFill:"none",defaultPathFill:"currentColor",path:e=>t.ee`<path d="M10 19C7.92015 18.998 5.90531 18.2749 4.29873 16.954C2.69215 15.6331 1.59322 13.796 1.18915 11.7558C0.785071 9.7155 1.10085 7.59826 2.08268 5.76471C3.06451 3.93115 4.65166 2.49471 6.57376 1.70008C8.49586 0.905442 10.634 0.801774 12.624 1.40673C14.6139 2.01169 16.3326 3.28785 17.4872 5.01782C18.6418 6.74779 19.1609 8.82455 18.9561 10.8943C18.7513 12.9641 17.8353 14.8989 16.364 16.369C15.5287 17.205 14.5366 17.8677 13.4444 18.3192C12.3523 18.7707 11.1818 19.0021 10 19ZM10 2.254C8.72575 2.25395 7.47113 2.56819 6.34732 3.16888C5.22351 3.76957 4.2652 4.63817 3.55729 5.69773C2.84939 6.75729 2.41374 7.97509 2.28895 9.24324C2.16416 10.5114 2.35408 11.7908 2.84188 12.968C3.32968 14.1452 4.1003 15.1839 5.08547 15.9921C6.07064 16.8004 7.23995 17.3531 8.4898 17.6015C9.73965 17.8498 11.0315 17.786 12.2508 17.4158C13.4701 17.0456 14.5793 16.3803 15.48 15.479C16.5641 14.3956 17.3024 13.015 17.6016 11.5119C17.9007 10.0088 17.7472 8.45067 17.1605 7.0348C16.5738 5.61893 15.5803 4.40892 14.3057 3.55791C13.0311 2.70689 11.5326 2.25311 10 2.254Z" fill="${t.l(e.pathFill)}">`}),b=({selected:n,selectedIcon:a,size:i=e.$.Medium,unselectedIcon:r,...o})=>{const{html:s}=t.g();return e.gc({...o,attributes:{...o.attributes},size:i,selected:n,leadingIcon:n?a:r,trailingIcon:s`<span class="inline-flex dropdown-icon ${o.children&&"ml-2xs"}"> ${t.K({size:i===e.$.Small?t.I.Small:t.I.Medium})} </span>`,dropdown:!0})};function v(e){const t={};return(n,a)=>{const i=((e,t)=>t?e+JSON.stringify(t):e)(n,a);return Object.prototype.hasOwnProperty.call(t,i)?t[i]:t[i]=new e(n,a)}}const N=v(Intl.NumberFormat),k=v(Intl.RelativeTimeFormat),I=v(Intl.DateTimeFormat);let C="RelativeTimeFormat"in Intl;const T=6e4;function y(e){const t=Math.abs(e.diff);switch(e.unit){case"minutes":return`${t} min. ago`;case"hours":return`${t} hr. ago`;case"days":return t>1?`${t} days ago`:`${t} day ago`;case"months":return`${t} mo. ago`;case"years":return`${t} yr. ago`;default:!function(e){throw new Error("Unexpected object: "+e)}(e.unit)}}const R=()=>e.j.get(e.jY),S=()=>e.j.get(e.j_),_="combined";function w(e){return e.assignedNodes({flatten:!0}).filter((e=>!!(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)))).length>0;}function E(e){return void 0===e?e:e.startsWith("selector(")?e.replace(/^selector\(/,"").replace(/\)$/,""):e;}function O(e){return{...e,trigger:"object"==typeof e.trigger?P(e.trigger):e.trigger,target:E(e.target),template:E(e.template),triggerElem:E(e.triggerElem)}}function P(e){if("event"in e)return e.filters?`event(${e.event}(${JSON.stringify(e.filters)}))`:`event(${e.event})`;if("topic"in e)return e.filters?`subscribe(${e.topic}(${JSON.stringify(e.filters)}))`:`subscribe(${e.topic})`;if("intersection"in e){if("enter"===e.intersection)return e.observerArgs?`view(args(${JSON.stringify(e.observerArgs)}))`:"view";if("leave"===e.intersection)return e.observerArgs?`leave(${e.observerArgs})`:"leave"}return""}function x(e){return n=>e(t.x,t.l,n)}const A=x((function(e,t,n){return e`<ac-activate ?once="${(n=O(n)).once}" ?scoped="${n.scoped}" args="${t(n.args?JSON.stringify(n.args):void 0)}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" name="${n.name.toString()}" query-params="${t(n.queryParams?JSON.stringify(n.queryParams):void 0)}" render-mode="${t(n.renderMode)}" route-params="${t(n.routeParams?JSON.stringify(n.routeParams):void 0)}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-activate>`})),D=x((function(e,t,n){return e`<ac-dispatch ?once="${(n=O(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" detail="${t(n.detail?JSON.stringify(n.detail):void 0)}" event-name="${n.eventName}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-dispatch>`})),L=x((function(e,t,n){return e`<ac-gql-mutate ?once="${(n=O(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" id="${t(n.id)}" operation="${n.operation}" throttle="${t(n.throttle)}" target="${t(n.target)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}" variables="${t(n.variables?JSON.stringify(n.variables):void 0)}"></ac-gql-mutate>`})),M=x((function(e,t,n){return e`<ac-track ?once="${(n=O(n)).once}" data-faceplate-tracking-context="${t(n.faceplateTrackingContext?JSON.stringify(n.faceplateTrackingContext):void 0)}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" san="${n.san}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-track>`}));const z={get:()=>{if(!e.l.isAvailable())return;const t=e.l.getItem(e.L.I18nPostTranslationBanner);return t?JSON.parse(t):void 0},set:t=>{e.l.isAvailable()&&e.l.setItem(e.L.I18nPostTranslationBanner,JSON.stringify(t))},update:e=>{const t=z.get()||{};z.set({...t,...e})}},$="shreddit_mt_immersive_en",F=new Set,U=t=>{if(F.has(t))return;F.add(t);const n=e.d4(t);return e.fa({experimentName:t,variant:n??"",experimentVersion:""})},H={post:e=>{U($)},comment:e=>{U($)}};const j={plain:"plain",plainInverted:"plainInverted",error:"destructive",brand:"brand",caution:"plain",success:"success"};function B(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var a=e[n];if("*"!==a&&"+"!==a&&"?"!==a)if("\\"!==a)if("{"!==a)if("}"!==a)if(":"!==a)if("("!==a)t.push({type:"CHAR",index:n,value:e[n++]});else{var i=1,r="";if("?"===e[s=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--i){s++;break}}else if("("===e[s]&&(i++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));r+=e[s++]}else r+=e[s++]+e[s++];if(i)throw new TypeError("Unbalanced pattern at ".concat(n));if(!r)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:r}),n=s}else{for(var o="",s=n+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;o+=e[s++]}if(!o)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:o}),n=s}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),a=t.prefixes,i=void 0===a?"./":a,r=t.delimiter,o=void 0===r?"/#?":r,s=[],l=0,c=0,u="",d=function(e){if(c<n.length&&n[c].type===e)return n[c++].value},m=function(e){var t=d(e);if(void 0!==t)return t;var a=n[c],i=a.type,r=a.index;throw new TypeError("Unexpected ".concat(i," at ").concat(r,", expected ").concat(e))},h=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t},p=function(e){var t=s[s.length-1],n=e||(t&&"string"==typeof t?t:"");if(t&&!n)throw new TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!n||function(e){for(var t=0,n=o;t<n.length;t++){var a=n[t];if(e.indexOf(a)>-1)return!0}return!1}(n)?"[^".concat(K(o),"]+?"):"(?:(?!".concat(K(n),")[^").concat(K(o),"])+?")};c<n.length;){var g=d("CHAR"),f=d("NAME"),b=d("PATTERN");if(f||b){var v=g||"";-1===i.indexOf(v)&&(u+=v,v=""),u&&(s.push(u),u=""),s.push({name:f||l++,prefix:v,suffix:"",pattern:b||p(v),modifier:d("MODIFIER")||""})}else{var N=g||d("ESCAPED_CHAR");if(N)u+=N;else if(u&&(s.push(u),u=""),d("OPEN")){v=h();var k=d("NAME")||"",I=d("PATTERN")||"",C=h();m("CLOSE"),s.push({name:k||(I?l++:""),pattern:k&&!I?p(v):I,prefix:v,suffix:C,modifier:d("MODIFIER")||""})}else m("END")}}return s}function K(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");}const V=e=>!e.hasAttribute("disabled"),Z=e=>e.tabIndex=0,G=e=>e.tabIndex=-1,J=e=>0===e.tabIndex&&V(e),W=e=>(Z(e),e.focus(),e),q=e=>(G(e),e),Y=e=>{for(let t=0;t<e.length;t++){const n=e[t];if(J(n))return[n,t]}return null},X=e=>{for(const t of e)if(V(t))return t;return null},Q=e=>{const t=X(e);return t?W(t):null},ee=e=>{const t=(e=>{for(let t=0;t<e.length;t++){const n=e[e.length-1-t];if(V(n))return n}return null})(e);return t?W(t):null},te=Symbol.for("rpl-menu-item");const ne=function(e){return e},ae=new Map([["image/png",e.k3.Png],["image/x-png",e.k3.Png],["image/gif",e.k3.Gif],["image/jpeg",e.k3.Jpeg],["image/webp",e.k3.Webp],["video/mp4",e.k3.Mp4],["video/quicktime",e.k3.Quicktime]]);let ie={uploadErrorMessage:()=>"There was an error uploading the file.",uploadToS3ErrorMessage:()=>"Failed to upload file to S3.",genericErrorMessage:()=>"Something went wrong",unsupportedMimetype:e=>`${e} files are not supported.`};function re(e,t){const n=new FormData;return t?.forEach((({header:e,value:t})=>{t&&n.append(e,t)})),n.append("file",e),n}function oe(e){return(new DOMParser).parseFromString(e,"text/xml")}function se(e){window.Sentry?.captureMessage?.(e)}const le={"3xs":"w-[1rem] h-[1rem]","2xs":"w-[1rem] h-[1rem]",xs:"w-[1.5rem] h-[1.5rem]",sm:"w-[2rem] h-[2rem]",md:"w-[2.5rem] h-[2.5rem]",lg:"w-[3rem] h-[3rem]",xl:"w-[3.5rem] h-[3.5rem]","2xl":"w-[4rem] h-[4rem]","3xl":"w-[5.5rem] h-[5.5rem]"},ce={"3xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]","2xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]",xs:"w-[1.5rem] h-[1.5rem] min-w-[1.5rem] min-h-[1.5rem]",sm:"w-[2rem] h-[2rem] min-w-[2rem] min-h-[2rem]",md:"w-[2.5rem] h-[2.5rem] min-w-[2.5rem] min-h-[2.5rem]",lg:"w-[3rem] h-[3rem] min-w-[3rem] min-h-[3rem]",xl:"w-[2.875rem] h-[2.875rem] min-w-[2.875rem] min-h-[2.875rem]","2xl":"w-[3.25rem] h-[3.25rem] min-w-[3.25rem] min-h-[3.25rem]","3xl":"w-[4.5rem] h-[4.5rem] min-w-[4.5rem] min-h-[4.5rem]"},ue={"3xs":"outline-offset-[0.125rem]","2xs":"outline-offset-[0.125rem]",xs:"outline-offset-[0.125rem]",sm:"outline-offset-[0.125rem]",md:"outline-offset-[0.125rem]",lg:"outline-offset-[0.1875rem]",xl:"outline-offset-[0.1875rem]","2xl":"outline-offset-[0.1875rem]","3xl":"outline-offset-[.25rem]"},de={"3xs":"border","2xs":"border",xs:"border",sm:"border",md:"border-md",lg:"border-md",xl:"border-md","2xl":"border-lg","3xl":"border-lg"},me={"3xs":"outline-1","2xs":"outline-1",xs:"outline-1",sm:"outline-1",md:"outline-2",lg:"outline-2",xl:"outline-2","2xl":"outline-4","3xl":"outline-4"},he={"3xs":2,"2xs":2,xs:2,sm:4,md:4,lg:4,xl:6,"2xl":6,"3xl":6},pe={"3xs":-5.4,"2xs":-5.4,xs:-5.4,sm:-7,md:-7,lg:-7,xl:-8.3,"2xl":-8.3,"3xl":-8.3},ge={"3xs":"-end-[0.0625rem]","2xs":"end-0",xs:"end-[0.05rem]",sm:"end-[0.10rem]",md:"-end-[0.0825rem]",lg:"-end-[0.125rem]",xl:"-end-[0.125rem]","2xl":"-end-[.65rem]","3xl":"-end-[.75rem]"},fe={"3xs":"w-[.25rem] h-[.25rem] border","2xs":"w-[.25rem] h-[.25rem] border",xs:"w-[.25rem] h-[.25rem] border",sm:"w-[.375rem] h-[.375rem] border-2",md:"w-[.375rem] h-[.375rem] border-2",lg:"w-[.625rem] h-[.625rem] border-2",xl:"w-[.625rem] h-[.625rem] border-2","2xl":"w-[1rem] h-[1rem] border-2","3xl":"w-[1.25rem] h-[1.25rem] border-2"},be={"3xs":"rounded-1","2xs":"rounded-1",xs:"rounded-1",sm:"rounded-2",md:"rounded-2",lg:"rounded-2",xl:"rounded-[.75rem]","2xl":"rounded-[.75rem]","3xl":"rounded-4"},ve=({ringColorClassName:e,size:t})=>e?`${e} outline ${me[t]} ${ue[t]}`:"",Ne=({...e})=>{const{html:n,ifDefined:a}=t.g(),{attributes:i,children:r,position:o="relative",size:s,status:l}=e;return n`<span class="inline-flex snoovatar ${o} ${a(i?.className)}">${r}${Ce({status:l,size:s})} </span>`},ke=({children:e,snoovatarSrc:n,avatarBgClassName:a,appearance:i})=>{const{html:r}=t.g();return r` <span style="${a||!n?"":`background: ${"media"===i?"var(--color-avatar-media-gradient)":"var(--color-avatar-gradient)"}`}" class="rounded-full absolute h-full w-full inline-flex justify-center ${a||""}"> ${e??t.A} </span>`},Ie=e=>{const{appearance:n}=e;return"collectible"===n?(({snoovatarSrc:e,snoovatarAlt:n,size:a,attributes:i,status:r,flip:o,lazy:s})=>{const{html:l}=t.g();return Ne({flip:o,size:a,status:r,children:l`${Re()} ${ye({size:a})}${Te({snoovatarSrc:e,snoovatarAlt:n,size:a,lazy:s})}`,attributes:{...i,className:`${ce[a]}`}})})(e):(({attributes:e,ringLayer:n,children:a,snoovatarAlt:i,snoovatarSrc:r,avatarBgClassName:o,size:s,ringColorClassName:l,status:c,appearance:u,flip:d,lazy:m})=>{const{html:h}=t.g(),p="default"===u?"box-border [&>:first-child]:rounded-[inherit] overflow-hidden":"",g=h`<span class="absolute rounded-full inset-0 border border-solid border-neutral-border-weak bg-transparent"></span>`;return Ne({flip:d,size:s,status:c,position:n?"absolute":"relative",attributes:{...e,className:`${ve({ringColorClassName:l,size:s})} fp-avatar-container rounded-full ${ce[s]} isolate box-content`},children:h` ${r?t.A:ke({snoovatarSrc:r,appearance:u,avatarBgClassName:o,children:h`<span class="relative rounded-full overflow-hidden ${n?"border border-solid border-neutral-background":""} inline-flex w-full h-full ${p}">${a} ${"default"===u&&n?g:t.A} </span>`})} ${r?Se({snoovatarSrc:r,snoovatarAlt:i,size:s,ringColorClassName:l,avatarBgClassName:o,appearance:u,lazy:m}):t.A}`})})(e)},Ce=({status:e,size:n})=>{const{html:a}=t.g();return e?a` <span class="${"online"===e?"bg-online":""} flex absolute bottom-0 rounded-full border-solid border-neutral-background bg-neutral-background ${ge[n]} ${de[n]} ${fe[n]}"> ${"online"===e?"":e} </span> `:""},Te=({size:e,snoovatarAlt:n,snoovatarSrc:a,lazy:i})=>{const{html:r,svg:o}=t.g(),s=Math.random().toString(16).slice(2);return r`<div class="absolute h-full w-full" style="transform:translateY(${pe[e]}%)"> <svg width="100%" height="100%" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden"> <defs> <clipPath id="${s}"> <path d="M120 0H0V96H22.0602C22.5169 98.2109 23.896 100.155 25.8949 101.309L56          118.691C58.4752 120.12 61.5248 120.12 64 118.691L94.1051 101.309C96.104 100.155 97.4831          98.2109 97.9398 96H120V0Z"/> </clipPath> </defs> ${i?o`<foreignObject clip-path="url(#${s})" width="100%" height="100%"> <img src="${a}" alt="${n}" loading="lazy"> </foreignObject>`:o`<image href="${a}" alt="${n}" clip-path="url(#${s})" height="100%" width="100%">`} </svg> </div>`},ye=({size:e})=>{const{html:n}=t.g();return n`<span class="absolute h-full w-full start-0"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 72 72" fill="none"> <path d="M34 3.4641C35.2376 2.74957 36.7624 2.74957 38 3.4641L63.1769 18C64.4145 18.7145 65.1769 20.035 65.1769 21.4641V50.5359C65.1769 51.965 64.4145 53.2855 63.1769 54L38 68.5359C36.7624 69.2504 35.2376 69.2504 34 68.5359L8.82309 54C7.58548 53.2855 6.82309 51.965 6.82309 50.5359V21.4641C6.82309 20.035 7.58548 18.7145 8.82309 18L34 3.4641Z" stroke="url(#paint0_diamond_26526_186798)" stroke-width="${he[e]}" stroke-linejoin="round"/> <defs> <radialGradient id="paint0_diamond_26526_186798" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-7.4247 26.0998) rotate(15.9097) scale(50.0682 24082.5)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> </defs> </svg> </span>`},Re=()=>{const{html:e}=t.g();return e`<div class="absolute h-full w-full" style="transform:scale(${.95})"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 64 64" fill="none"> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint0_diamond_26026_173944)"/> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint1_linear_26026_173944)"/> <defs> <radialGradient id="paint0_diamond_26026_173944" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-6.59974 23.1999) rotate(15.9097) scale(44.5051 21406.7)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> <linearGradient id="paint1_linear_26026_173944" x1="23.5687" y1="22.7061" x2="44.1183" y2="53.4817" gradientUnits="userSpaceOnUse"> <stop stop-color="#004E5F"/> <stop offset="1" stop-color="#727CD8" stop-opacity="0.81"/> </linearGradient> </defs> </svg> </div>`},Se=({size:e,snoovatarAlt:n,snoovatarSrc:a,attributes:i,avatarBgClassName:r,appearance:o,lazy:s})=>{const{html:l,svg:c,createElement:u}=t.g(),d=Math.random().toString(16).slice(2);return u("span",{...i,className:"absolute start-0 end-0 bottom-0 mx-auto inline-flex shrink-0 justify-center box-border h-full w-full"},l`${ke({snoovatarSrc:a,avatarBgClassName:r,appearance:o})} <svg viewBox="0 0 121 122" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden absolute bottom-0 ${le[e]}"> <defs> <clipPath id="${d}"> <path d="M0 0V79L28.1628 105.5C35.013 115.465 46.4934 122 59.5 122C72.5066 122 83.987 115.465 90.8372 105.5L120.5 79V0H0Z"/> </clipPath> </defs> ${s?c`<foreignObject clip-path="url(#${d})" width="100%" height="100%"> <img src="${a}" alt="${n}" loading="lazy"> </foreignObject>`:c`<image href="${a}" alt="${n}" clip-path="url(#${d})" height="100%" width="100%">`} </svg>`)},_e=({size:e="sm",appearance:n="default",snoovatarAlt:a="User Avatar",ringLayer:i,attributes:r,...o})=>{const{html:s,ifDefined:l}=t.g(),c="icon"===n||"subreddit"===n;return s`<span class="inline-flex items-center justify-center ${le[e]} ${r?.className}" rpl avatar ?flip="${o.flip}" id="${l(r?.id)}" slot="${l(r?.slot)}"> ${i&&!c?i:""} ${c?(({attributes:e,children:n,size:a,appearance:i,status:r,ringColorClassName:o})=>{const s="icon"===i?"rounded-full":be[a],{html:l,ifDefined:c}=t.g();return l`<span rpl id="${c(e?.id)}" slot="${c(e?.slot)}" class="inline-block ${s} ${ve({ringColorClassName:o,size:a})} relative [&>:first-child]:h-full [&>:first-child]:w-full [&>:first-child]:mb-0 [&>:first-child]:rounded-[inherit] h-full w-full [&>:first-child]:overflow-hidden [&>:first-child]:max-h-full"> ${n}${Ce({status:r,size:a})} </span>`})({size:e,attributes:r,appearance:n,...o}):Ie({attributes:r,snoovatarAlt:a,appearance:n,ringLayer:i,size:e,...o})}</span>`},we=Symbol.for("lit-nothing");function Ee(){return "Something went wrong";}let Oe=e.r;let Pe=e.r;const xe="highlight_card_";const Ae=t.e(class extends t.a{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(e,[n]){if(t.el(this.et)&&(!t.el(n)||this.et.strings!==n.strings)){const n=t.em(e).pop();let a=this.tt.get(this.et.strings);if(void 0===a){const e=document.createDocumentFragment();a=t.B(t.A,e),a.setConnected(!1),this.tt.set(this.et.strings,a)}t.bf(a,[n]),t.en(a,void 0,n)}if(t.el(n)){if(!t.el(this.et)||this.et.strings!==n.strings){const a=this.tt.get(n.strings);if(void 0!==a){const n=t.em(a).pop();t.eo(e),t.en(e,void 0,n),t.bf(e,[n])}}this.et=n}else this.et=void 0;return this.render(n)}}),De={rootMargin:"0px",threshold:[1]};class Le extends e.bb{constructor(t,n){super(t),this._isInViewport=!1,this._hasBeenImpressed=!1,this._hasBeenConsumed=!1,this._hasPageUnloaded=!1,this.onVisible=e=>{this._isInViewport&&e&&(this._hasPageUnloaded=!1,this._becameVisibleOnScreenTimestamp=Date.now())},this.onHidden=e=>{this._isInViewport&&(e||this._hasPageUnloaded||this.handlePotentialConsume())},this.onBeforeUnloadCallback=()=>{this._hasPageUnloaded=!0,this._isInViewport&&this.handlePotentialConsume()},this.onEnter=()=>{this._isInViewport||(this._isInViewport=!0,this._becameVisibleOnScreenTimestamp=Date.now(),this.handlePotentialImpression())},this.onLeave=()=>{this._isInViewport&&(this.handlePotentialConsume(),this._isInViewport=!1)},t.addController(this),this._config={...n,observerConfig:n.observerConfig??De},this._observerController=new e.aj(this,t,this._config.observerConfig);const a=new e.E(this,(()=>t));a.define("faceplate-enter",this.onEnter),a.define("faceplate-leave",this.onLeave)}hostConnected(){super.hostConnected(),e.ap(this.onVisible,{immediate:!0}),e.ap(this.onHidden,{immediate:!0,shouldBeCalledFirst:!0}),e.ao.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0})}hostDisconnected(){super.hostDisconnected(),e.aq(this.onHidden),e.aq(this.onVisible),e.ao.unsubscribe(this.onBeforeUnloadCallback)}handlePotentialImpression(){this._hasBeenImpressed||(this._hasBeenImpressed=!0,this._config.onView?.())}handlePotentialConsume(){!this._hasBeenConsumed&&this._becameVisibleOnScreenTimestamp&&Date.now()-this._becameVisibleOnScreenTimestamp>this._config.consumeThreshold&&(this._hasBeenConsumed=!0,this._observerController.hostDisconnected(),this._config.onConsume?.())}}const Me="component-reload";const ze=new Set,$e=t=>{if(!e.l.isAvailable())return;const n=e.l.getItem(t);if(n)try{return JSON.parse(n)}catch{return}},Fe=(t,n)=>{e.l.isAvailable()&&e.l.setItem(t,JSON.stringify(n))},Ue=new Set(["reddit","config","special"]),He=new Set(["edit","revisions","settings","discussions","pages","create"]),je=new Set(["config/description","config/sidebar","config/stylesheet","config/submit_text"]);function Be(e,t){const n=$e(e);return n?n.slice(0,t):[]}const Ke=Object.entries({16:"icon32",24:"icon48",32:"icon64",40:"icon96",48:"icon96",56:"icon96",88:"icon96"});const Ve=1e3,Ze=1e6,Ge=1e9,Je=({num:e,divider:t,defaultFixed:n=0,maxDigits:a,removeZeroDecimal:i})=>{const r=e/t;if(!a){const e=r.toFixed(n);return i&&Number(e)%1==0?Math.floor(r).toString():r.toFixed(Math.floor(n))}return r.toString().slice(0,a+1)};const We=(e,t,n=1)=>{const a=Math.pow(10,n);return(Math.floor(e/(t/a))/a).toFixed(n)};const qe=/(?:\/|-)nftv2_([a-z0-9%]+)_([a-z]+)_([a-z0-9-]{36})(?:-headshot)?\.(?:png|svg)/i;const Ye="moderator";function Xe(t){return t===e.dB.Post}const Qe=(e,t)=>{"complete"!==document.readyState?window.addEventListener("load",e,t):e()},et="preview";return {$:t=>e.b({source:"onboarding",action:"submit",noun:"topic_search"},{action_info:{page_type:e.ab.OnboardingTopicSearch,success:t.success},topic_ids:t.topicIds,client_timestamp:Date.now()}),A:class{constructor(t,n){this._batchTimer=0,this._batchDisplay=()=>{if(this._batchTimer=0,!this._batchQueue||!this._batchQueue.length)return;const t=e.k0(this._batchQueue);for(const e of t)this.options.onAlert(e);this._batchQueue.length=0},t.addController(this),this.host=t,this.options=n,n.batchWindow&&n.batchWindow>0&&(this._batchQueue=[])}hostConnected(){e.k1(this.host).then((t=>{t&&(this._reporter=t,e.k2.register(t,this))}))}hostDisconnected(){this._reporter&&(e.k2.unregister(this._reporter,this),this._reporter=void 0),this._batchTimer&&window.clearTimeout(this._batchTimer),this._batchQueue&&(this._batchQueue.length=0)}shouldDisplayAlert(e){if(!this.options.isOnline()&&!e.showWhenOffline)return!1;const t=this.options;if("number"==typeof e.level){if(t.max&&e.level>t.max)return!1;if(t.min&&e.level<t.min)return!1}else if(void 0!==t.min||void 0!==t.max)return!1;return!t.name||t.name===e.name}displayAlert(e){if(this._batchQueue){if(this._batchQueue.push(e),this._batchTimer)return;this._batchTimer=window.setTimeout(this._batchDisplay,this.options.batchWindow)}else this.options.onAlert(e)}},B:"back",C:"click",D:"dismiss",E:function(e,t){return null!==e.querySelector(`:scope > [slot="${t}"]`)},F:function(){return window.matchMedia("(pointer: coarse)").matches},G:"onboarding",H:e=>{window.location.href=e||window.location.href},I:class{constructor(e,t){this.observedElements=[],this.handleSlotChange=e=>{this.observer.disconnect();const t=e.target;t instanceof HTMLSlotElement&&(this.observedElements=t.assignedElements(),this.observedElements.forEach((e=>this.observer.observe(e))))},this.observer=new IntersectionObserver(this.handleIntersection.bind(this),t),(this.host=e).addController(this)}hostConnected(){this.observedElements.forEach((e=>this.observer.observe(e)))}hostDisconnected(){this.observer.disconnect()}isLoadableFaceplatePartial(t){return t instanceof e.bI&&t.loading===e.s.Programmatic&&!t.isLoading}async handleIntersection(e){e.forEach((e=>{e.isIntersecting&&this.isLoadableFaceplatePartial(e.target)&&e.target.load()}))}},J:()=>e.b({source:"comment",action:"click",noun:"share"}),K:()=>e.b({source:"comment",action:"click",noun:"share_copy"}),L:Fe,M:$e,N:"gen_guides",O:"observe-gallery-item-impression",P:_e,Q:()=>"ADMIN",R:"https://www.google.com/recaptcha/enterprise.js",S:"subreddit-posting-eligibility-modal",T:()=>"MOD",U:(t,{communityId:n,communityName:a})=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"communities_menu",subreddit:{name:a,id:n}})),V:Le,W:function(e){if(r in e)return e;class t extends e{constructor(){super(...arguments),this.pages=1,this._pageIndex=1,this._pageNames=void 0}get pageIndex(){return this._pageIndex}set pageIndex(e){if(e===this._pageIndex)return;const t=this._pageIndex;this._pageIndex=e,this.pageIndexChangedCallback(t)}get pageNames(){return this._pageNames}set pageNames(e){e&&(this.pages=e.length),this._pageNames=e}syncLinkedPageables(){if(this._paginationLeaderContext){const e=o.getFollowers(this._paginationLeaderContext);if(!e||!e.size)return;for(const t of e)t.syncPagination(this)}if(this._paginationFollowerContext){const e=o.getLeader(this._paginationFollowerContext);e&&(e.pageIndex=this._pageIndex)}}syncPagination(e){this.pageIndex=e.pageIndex,this.pages=e.pages,this.pageNames=e.pageNames}getPaginationContext(){const e=this.getRootNode();if(e!==this&&(e instanceof Document||e instanceof ShadowRoot))return e}connectedCallback(){super.connectedCallback&&super.connectedCallback();const e=this.getPaginationContext();if(!e)return;const t=this.getAttribute("for");t&&(this._paginationFollowerContext=o.getContextKey(t,e),o.registerFollower(this,this._paginationFollowerContext)),this.id&&!t&&(this._paginationLeaderContext=o.getContextKey(this.id,e),o.appointLeader(this,this._paginationLeaderContext))}disconnectedCallback(){super.connectedCallback&&super.connectedCallback(),this._paginationLeaderContext&&(o.dismissLeader(this,this._paginationLeaderContext),this._paginationLeaderContext=void 0),this._paginationFollowerContext&&(o.unregisterFollower(this,this._paginationFollowerContext),this._paginationFollowerContext=void 0)}nextPage(){this.pageIndex=Math.min(this.pages,this.pageIndex+1)}previousPage(){this.pageIndex=Math.max(1,this.pageIndex-1)}pageIndexChangedCallback(e){this.syncLinkedPageables()}}return t[r]=!0,t},X:t=>{const{error:n,metadata:a,element:i,componentName:r}=t,o=i.translationContextValue?.isTranslationActive;let s;try{a&&(s=JSON.stringify({isTranslationActive:o,...a}))}catch(e){}const l="string"==typeof n?n:void 0;let c=`[${r}] ${n.message??n?.msg??l??"unknown error"}`;s&&(c+=` ${s}`),function(t,n){const a=e.b({source:"translate_button",action:"error",noun:"app"},{action_info:{reason:n}});e.a(t,a)}(i,c),function(e){try{const t="Sentry"in window?window.Sentry:void 0;t?.captureException&&t.captureException(e)}catch(e){}}(c)},Y:function*(e,t){if(void 0!==e){let n=0;for(const a of e)yield t(a,n++)}},Z:function({readMoreExperimentName:t,readMoreExperimentVariant:n,readMoreExperimentVersion:a}={}){return!n||(e.fa({experimentName:t??"",variant:n,experimentVersion:a??""}).catch((()=>{})),"none"!==n)},_:t=>e.b({source:"onboarding",action:"submit",noun:"question"},{action_info:{page_type:e.ab.OnboardingTopicSearch,success:t.success},search_query:t.query,client_timestamp:Date.now()}),a:()=>e.b({source:"onboarding",action:"select",noun:"gender"}),a$:g,a0:{STREAK_EXTENDED:"streak_progressed",TROPHY_UNLOCKED:"achievement_unlocked",TROPHY_PROGRESSED:"achievement_progress"},a1:function(e){return{source:"feed_experience",action:e?"unsubscribe":"subscribe",noun:"subreddit"}},a2:function(){return{source:"feed_experience_overflow",noun:"hide",action:"click"}},a3:function(){return{source:"feed_experience",action:"impression",noun:"feed_experience"}},a4:t=>e.b({source:"onboarding",action:t.selected?"select":"deselect",noun:"category"},{onboarding:{category_id:t.id,category_name:t.categoryName,category_position:t.categoryPosition,category_section_name:t.sectionName,category_section_id:t.sectionId,category_section_position:t.sectionPosition,category_type:t.categoryType},action_info:{reason:t.schemaName,type:t.type,page_type:t.pageType}}),a5:t=>e.b({source:"onboarding",action:"click",noun:"continue"},{action_info:{page_type:t.pageType,success:t.success}}),a6:()=>"Comment deleted by user",a7:()=>e.b({source:"onboarding",action:"select",noun:"age"},{action_info:{page_type:e.ab.OnboardingAgeCollection}}),a8:({conversationId:e,position:t,searchQuery:n})=>{const a={conversation_id:e};return t&&(a.query_id=`${t}`),n&&(a.query=n),{search:a}},a9:function(e){return e.replace(xe,"")},aA:function(){const e=window.location?.search??"";return new URLSearchParams(e).has("tl")},aB:z,aC:we,aD:({attributes:n,children:a,selected:i,leadingIcon:r,ariaControls:o,screenReaderContent:s,deleteButtonConfig:l})=>{const{html:c,ifDefined:u}=t.g();return c` <span class="inline-flex relative max-w-full" slot="${u(n?.slot)}"> ${e.gc({hideChildrenOverflow:!0,ariaControls:o,attributes:n,selected:i,size:e.$.Small,leadingIcon:r&&_e({children:r,appearance:"icon",size:"2xs"}),children:c`<span class="${i?"inline-block me-[calc(var(--size-button-sm-h)-var(--rem10)-var(--button-border-width-default))]":""} overflow-hidden text-ellipsis">${a}</span>`,screenReaderContent:s})} ${i?c` <span style="${"transform: translateY(-50%);\nposition: absolute;\nright: 0;\ntop: 50%;\ntransform: translateY(-50%);\ndisplay: inline-flex;\n"}"> ${e.n({...l,appearance:"plain",size:e.$.Small,leadingIcon:t.G({size:t.I.Small})})} </span>`:void 0} </span> `},aE:2e3,aF:"saved-responses__reorder",aG:()=>"[deleted]",aH:t=>e.b({source:"onboarding",action:"click",noun:"show_more"},{action_info:{page_type:t.pageType}}),aI:t=>e.b({source:"onboarding",action:"request",noun:"topics"},{action_info:{page_type:e.ab.OnboardingInterestTopicsLLM,success:t.success,reason:t.reason}}),aJ:t=>e.b({source:"onboarding",action:t.selected?"select":"deselect",noun:"category"},{action_info:{page_type:e.ab.OnboardingInterestTopicsLLM,reason:"scheme",type:"topic_pill"},onboarding:{category:{id:t.topicId,name:t.topicName,type:t.topicType,position:t.position}},client_timestamp:Date.now()}),aK:function(n,a){return e.n({attributes:a,appearance:j[n],leadingIcon:t.m()})},aL:d,aM:u,aN:Me,aO:class{constructor(t,n){this.isLoading=!1,this.hasReloadError=!1,this.handleReload=async e=>{if(this.reloadUrl){this.isLoading=!0,this.hasReloadError=!1,this.host.requestUpdate();try{await this.getAndReplacePartial(e.detail?.queryParameters)}catch(e){this.hasReloadError=!0}this.isLoading=!1,this.host.requestUpdate()}};const{reloadUrl:a,containerSelector:i,mode:r=e.g.Contents}=n||{};(this.host=t).addController(this),this._partialRequest=new e.al(this.host),this._reloadUrl=a,this.containerSelector=i||this.host.tagName.toLowerCase(),this._mode=r}get reloadUrl(){return this._reloadUrl}set reloadUrl(e){this._reloadUrl=e}get mode(){return this._mode}set mode(e){this._mode=e}hostConnected(){this.host.addEventListener(Me,this.handleReload)}hostDisconnected(){this.host.removeEventListener(Me,this.handleReload)}async getAndReplacePartial(t={}){const n=this.reloadUrl&&Array.from(Object.entries(t)).reduce(((t,[n,a])=>e.c7(t,n,a)),this.reloadUrl),a=await this._partialRequest.request(n),i=await(a?.text());if(!i)throw new Error("Unable to reload content");const r=(new DOMParser).parseFromString(i,"text/html").querySelector(this.containerSelector);if(!r)throw new Error(`Element ${this.containerSelector} not found in reload response`);if(this.mode!==e.g.Contents)e.am(r.outerHTML,this.host,this.mode);else{if(!r?.innerHTML)throw new Error("No content to reload");e.am(r.innerHTML,this.host,this.mode)}}},aP:"https://chat.reddit.com/",aQ:class{get active(){return this.duration>0}get timeRemaining(){return`${Math.floor(this.duration/6e4)}:${Math.ceil(this.duration%6e4/1e3).toString().padStart(2,"0")}`}get secondsRemaining(){return Math.ceil(this.duration/1e3).toString()}constructor(e){this.duration=0,this.interval=0,this.update=()=>{this.duration=this.duration-this.interval,this.duration<=0&&this.reset(),this.host.requestUpdate()},this.host=e,this.host.addController(this)}hostDisconnected(){this.reset()}reset(){clearInterval(this.timeout),this.duration=0,this.interval=0}start(e,t=1e3){this.reset(),this.duration=e,this.interval=t,this.timeout=setInterval(this.update,this.interval),this.host.requestUpdate()}},aR:5,aS:()=>"CO-HOST",aT:()=>"OP",aU:(e,t)=>new CustomEvent("rpl:menu-clicked-item",{bubbles:!0,composed:!0,cancelable:!0,detail:{type:e,item:t}}),aV:({item:e,reason:t})=>new CustomEvent("rpl:menu-close",{bubbles:!0,composed:!0,detail:{item:e,reason:t,itemPath:[e]}}),aW:t=>Object.values(e.d7).includes(t),aX:t=>Object.values(e.d8).includes(t),aY:te,aZ:h,a_:p,aa:e=>{try{return new URL(e).hostname.endsWith("reddit.com")}catch(e){return!1}},ab:e=>e.startsWith("https://alb.reddit.com/cr"),ac:function(){return"button_appearance"===e.d4(e.j$)||e.d4(e.j$)===_},ad:function(e){return e?"Settings saved.":"Failed to save settings. Please try again.";},ae:"clear-search-input",af:J,ag:Z,ah:G,ai:X,aj:t=>Object.values(e.c1).includes(t),ak:Y,al:q,am:V,an:W,ao:Q,ap:e=>{const t=Y(e);return t?(q(t[0]),t):null},aq:ee,ar:(e,t,n)=>{if(!t)return ee(e);const a=((e,t,n)=>{for(let a=1;a<e.length;a++){const i=(t-a+e.length)%e.length,r=e[i];if(i>t&&!n)return null;if(V(r))return r}return V(e[t])?e[t]:null})(e,t[1],n);return a?W(a):null},as:(e,t,n)=>{if(!t)return Q(e);const a=((e,t,n)=>{for(let a=1;a<e.length;a++){const i=(t+a)%e.length,r=e[i];if(i<t&&!n)return null;if(V(r))return r}return V(e[t])?e[t]:null})(e,t[1],n);return a?W(a):null},at:e=>te in e,au:{MenuItem:"menuitem",Button:"button",Link:"link",Checkbox:"menuitemcheckbox",Radio:"menuitemradio"},av:w,aw:()=>e.b({source:"onboarding",action:"submit",noun:"onboarding_interest"}),ax:"pdp-ama-comment-tab-wrapper",ay:class{hostConnected(){}constructor(e,t){this.host=e,this.config=t,this.mouseIsDown=!1,this._interactionTrigger=null,this.eventUsedMap=new WeakMap,this.handleBlur=e=>{if(this.hasTrigger("focus")||this.hasTrigger("focus-visible")){const t=()=>this.host.finishInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayEnd(this.host)):t()}},this.handleClick=e=>{this.eventUsedMap.has(e)||(this.eventUsedMap.set(e,!0),this.hasTrigger("click")&&(this.config.isInteractedWith(this.host)?this.host.finishInteraction(e,"click"):this.host.startInteraction(e,"click")))},this.handleFocus=e=>{const t=this.hasTrigger("focus"),n=this.hasTrigger("focus-visible");if((!(!t&&n&&e.target instanceof HTMLElement)||e.target.matches(":focus-visible"))&&(t||n)&&!this.mouseIsDown){const t=()=>this.host.startInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayStart(this.host)):t()}},this.handleMouseEnter=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.startInteraction(e,"hover")),this.config.hoverDelayStart(this.host))},this.handleMouseLeave=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.finishInteraction(e,"hover")),this.config.hoverDelayEnd(this.host))},this.handleMouseDown=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!0)},this.handleMouseUp=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!1)},this.host.addController(this)}set interactionTrigger(e){this._interactionTrigger=e,this.host.requestUpdate()}get interactionTrigger(){return this._interactionTrigger}delayInteraction(e,t){clearTimeout(this.delayTimeout),this.delayTimeout=window.setTimeout(e,t)}hasTrigger(e){return this.host.trigger.split(" ").includes(e)}},az:n,b:(e,t)=>{const n=e.composedPath(),a=Array.isArray(t)?t.map((e=>e.toUpperCase())):[t.toUpperCase()];for(const e of n)if(a.includes(e.tagName))return!0;return!1},b$:()=>e.b({source:"post_detail",action:"click",noun:"load_more_comments"}),b0:f,b1:m,b2:"request",b3:()=>e.b({source:"community_nav",action:"click",noun:"community_recent"}),b4:Be,b5:(e,t,n)=>{const a=Be(t,n),i=new Map,r=[e,...a];for(;r.length&&i.size<n;){const e=r.shift();i.has(e.uuid)||i.set(e.uuid,e)}const o=Array.from(i.values());o.length===a.length&&o.every(((e,t)=>e.uuid===a[t].uuid))||Fe(t,o)},b6:"login",b7:qe,b8:He,b9:Ue,bA:"saved-responses__delete",bB:"saved-responses__update-item",bC:"saved-responses__submit",bD:"saved-responses__open-reorder-modal",bE:"saved_responses__cancel_update",bF:"saved-responses-table__partial_id",bG:"saved_responses__response_delete_modal_id",bH:"emote|",bI:function(e){return`add-ama-collaborators-modal-${e}`},bJ:t=>e.b({source:"achievements",action:"click",noun:"card_icon"},{action_info:{page_type:t}}),bK:t=>e.b({source:"achievements",action:"click",noun:"profile_showcase"},{action_info:{page_type:t}}),bL:async function(t){const n={input:t},{data:a,errors:i}=await Oe({operation:e.O.RemoveHighlightedPost,variables:n});if(i?.length)throw new Error(Ee());const{removeHighlightedPost:r}=a;if(!r?.ok)throw new Error(Ee())},bM:function(e){return!!e},bN:function(){return"vote_component"===e.d4(e.j$)||e.d4(e.j$)===_},bO:"wiki-banned-users__unban",bP:"wiki-banned-users__ban",bQ:"wiki-banned-users__edit",bR:"wiki-banned-contributors-confirmation-modal",bS:"wiki-banned-contributors-ban-modal",bT:function(e,{displayFull:t,roundDown:n,maxDigits:a,removeZeroDecimal:i}={}){return t?(e=>{const t=e.split(".");return [t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")].concat(t.slice(1)).join(".");})(e.toString()):e>=99999999949?`${Je({num:e,divider:Ge,maxDigits:a,removeZeroDecimal:i})}b`:e>=999999949&&e<99999999949?`${Je({num:e,divider:Ge,defaultFixed:1,maxDigits:a,removeZeroDecimal:i})}b`:e>=99999949&&e<999999949?`${Je({num:e,divider:Ze,maxDigits:a,removeZeroDecimal:i})}m`:e>=999949&&e<99999949?`${Je({num:e,divider:Ze,defaultFixed:1,maxDigits:a,removeZeroDecimal:i})}m`:e>=99949&&e<999949?`${Je({num:e,divider:Ve,maxDigits:a,removeZeroDecimal:i})}k`:e>=Ve&&e<99949?n?`${We(e,Ve)}k`:`${Je({num:e,divider:Ve,defaultFixed:1,maxDigits:a,removeZeroDecimal:i})}k`:String(e);},bU:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),bV:async function({responseId:t,subredditId:n,contentId:a,modmailVariables:i}){const{data:r,errors:o}=await Pe({operation:e.O.RenderSavedResponseTemplateBySubredditId,variables:{responseId:t,subredditId:n,...(a ? {removalVariables:{contentId:a}} : {}),...(i ? {variables:{modmailVariables:i}} : {})}});if(o?.length||"Subreddit"!==r.subredditInfoById?.__typename||!r.subredditInfoById?.moderation?.renderSavedResponseTemplate?.templateValidation?.ok)throw new Error(Ee());return r.subredditInfoById.moderation.renderSavedResponseTemplate.response.markdown},bW:{saveAvatar:"avatar-action-bar:save-avatar"},bX:function(n,a){if(!n)return;const{html:i}=t.g();return i` <span class="flex items-center justify-center">${Array.isArray(n)?i`${n.map((t=>e.n({...t,appearance:j[a]})))}`:e.n(n)}</span>`},bY:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),bZ:function(e){return!!e&&qe.test(e)},b_:function(e=!1){return e?"Saved":"Save changes";},ba:"config/automoderator",bb:"config/post_removal_message",bc:je,bd:50,be:100,bf:"achievement-progress-toast",bg:"saved-responses__saved",bh:({attributes:n,title:a,titleDataTestId:i,description:r,buttonProps:o,creative:s,creativeSafe:l=!0})=>{const{html:c,createElement:u}=t.g();return u("div",{...n,className:"flex flex-col items-center w-full",rpl:!0,"rpl-empty-state":!0},c`<div class="w-full flex flex-col items-center overflow-hidden box-border ${!l&&"p-md"}"> ${s} </div> <div class="flex flex-col w-full items-center box-border px-md gap-md ${a||r?"pb-md":""}"> ${a||r?c` <div class="max-w-[480px] flex flex-col items-center text-center"> <div class="text-24 font-bold text-neutral-content-strong" data-testid="${t.l(i)}"> ${a} </div> <div class="text-16 text-neutral-content-weak">${r}</div> </div> `:""} ${o?c`<div>${e.n(o)}</div>`:""} </div>`)},bi:Ee,bj:3,bk:"reddit-search:open",bl:L,bm:function(e){return null!=e},bn:t=>e.b({source:Ye,action:"click",noun:Xe(t)?"reorder_post_flair_confirm":"reorder_flair_confirm"}),bo:"flair-settings__table-feature-id",bp:t=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"all_communities"})),bq:t=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"favorites"})),br:t=>t.trackEvent(e.b({source:"community_search",action:"view",noun:"search_bar"})),bs:t=>t.trackEvent(e.b({source:"community_search",action:"view",noun:"query_prompt"})),bt:t=>t.trackEvent(e.b({source:"community_search",action:"click",noun:"search_bar"})),bu:function(e){return`${xe}${e}`},bv:function(e,t,n){return e?t():null==n?void 0:n()},bw:function(t){return t===e.a4.ModQueueCompactView},bx:(e,t)=>{const n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return Math.floor(n.top)>=Math.floor(a.top)&&Math.ceil(n.bottom)<=Math.ceil(a.bottom)&&Math.ceil(n.right)<=Math.ceil(a.right)&&Math.floor(n.left)>=Math.floor(a.left)},by:"saved-responses__create",bz:"saved-responses__exit-create-view",c:(n,a)=>a?e.n({shape:"pill",appearance:"plain",size:e.$.Small,attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",slot:"trigger",...n},hideChildrenOverflow:!0,children:t.x`<slot name="trigger-content"></slot>`,trailingIcon:t.M({size:t.I.Small,attributes:{"aria-hidden":"true",className:"px-[2px]"}})}):b({appearance:"plain",attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",...n},children:t.x`<slot name="trigger-content"></slot>`,size:e.$.Small}),c$:e=>!e||e.includes("avatar_default_"),c0:async function(e,t){const n=await window.fetch(t.uploadLeaseUrl,{method:"POST",body:re(e,t.uploadLeaseHeaders)});if(n.ok){const e=function(e){const t=oe(e);return t.querySelector("Location")?.textContent?.trim()}(await n.text());return e||se("Unable to retrieve S3 url for uploaded resource."),e}throw (se(`Failed to upload file to S3 with error code: ${function(e){const t=oe(e);return t.querySelector("Code")?.textContent?.trim()}(await n.text())}`), new Error(ie.uploadToS3ErrorMessage()))},c1:ae,c2:H,c3:()=>e.b({source:"comment",action:"click",noun:"load_more_comments"}),c4:()=>e.b({source:"post_detail",action:"click",noun:"comment_image"}),c5:"comment-composer-cancel-draft",c6:"comment-edit-success",c7:"reloadPollingDurationMs",c8:()=>e.b({source:"post_detail",action:"click",noun:"collapse_comment"}),c9:()=>e.b({source:"post_detail",action:"click",noun:"expand_comment"}),cA:t=>e.b({source:Ye,action:"click",noun:Xe(t)?"reorder_post_flair_dialog":"reorder_flair_dialog"}),cB:e=>e.startsWith("a2_")?e.replace("a2_",""):e.startsWith("t2_")?e.replace("t2_",""):e,cC:"onboarded-ad-account",cD:"ad-account-creation-cancel",cE:"skip",cF:class{get matches(){return this.mediaQuery.matches}constructor(e,t){this.host=e,this.query=t,this.rafId=null,this.handleMediaChange=()=>{this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame((()=>{this.rafId=null,this.host.requestUpdate("matches",!this.matches)}))},e.addController(this),this.mediaQuery=window.matchMedia(t),this.mediaQuery.addEventListener("change",this.handleMediaChange)}async hostConnected(){}async hostDisconnected(){}},cG:{Total:"#D2DADD",Posts:"#0E8A00",Negative:"#372F8C",Positive:"#008675",Neutral:"#629FFF",Score:"#D93A00",Performance:"#6A5CFF",Comments:"#D93900",Upvotes:"#6A5CFF","Post Upvotes":"#DE019F","Comment Upvotes":"#5BA200","Total Upvotes":"#97AFBC","Total Mentions":"#6A5CFF"},get cH(){return ie},cI:e=>e??we,cJ:t=>e.b({source:Ye,action:"click",noun:Xe(t)?"post_flair_edit_save":"flair_edit_save"}),cK:t=>e.b({source:Ye,action:"click",noun:Xe(t)?"create_post_flair_confirm":"create_flair_confirm"}),cL:"flair-settings__flair-copy",cM:"flair-settings__flair-delete",cN:"flair-settings__flair-delete-modal",cO:t=>e.b({source:Ye,action:"click",noun:Xe(t)?"remove_post_flair_confirm":"remove_flair_confirm"}),cP:A,cQ:function({fieldErrors:e,defaultMessage:t}){return e?.[0]?.message??t},cR:({productName:e,productPrice:t,productId:n,retailerId:a,retailerName:i,retailerPrice:r,retailerLink:o})=>{const s={product_name:e,display_price:t};return n&&(s.product_id=n),a&&(s.retailer_id=a),i&&(s.retailer_name=i),r&&(s.retailer_price=r),o&&(s.retailer_link=o),s},cS:M,cT:R,cU:(t,n,a)=>{e.cL({name:e.jY}),e.J({name:e.jY,country:n,value:`${t}`,options:{...e.K,domain:a}})},cV:S,cW:(t,n,a)=>{e.cL({name:e.j_}),e.J({name:e.j_,country:n,value:`${t}`,options:{...e.K,domain:a}})},cX:()=>e.j.get(e.jZ),cY:(t,n,a)=>{e.cL({name:e.jZ}),e.J({name:e.jZ,country:n,value:`${t}`,options:{...e.K,domain:a}})},cZ:"giphy|",c_:function(t){return t===e.a4.CardView},ca:"/svc/shreddit/edit-comment",cb:Ae,cc:(e,t,n)=>{for(const n of t)if(n[0]===e)return(0,n[1])();return null==n?void 0:n()},cd:{afterClose:"view-avatar-outfit-modal:after-close"},ce:function(){return document&&document.documentElement.lang?document.documentElement.lang:navigator&&navigator.language?navigator.language:"en-US"},cf:function(e){return new Date(e.replace("+0000","+00:00"))},cg:"wiki-page-settings-done-button",ch:"wiki-page-settings-close-button",ci:"wiki-page-setting-modal-dialog",cj:I,ck:function(e,t,n){var a;const i=function(e,t){const n=t.getTime()-e.getTime(),a=Math.round(n/31104e6),i=Math.round(n/2592e6),r=Math.round(n/864e5),o=Math.round(n/36e5),s=n/T;let l="minutes",c=0;return Math.abs(Math.round(s))<60?c=s>-1&&s<1?Math.sign(s)*Math.ceil(Math.abs(s)):Math.round(s):Math.abs(o)<24?(l="hours",c=o):Math.abs(r)<29?(l="days",c=r):Math.abs(i)<11?(l="months",c=i):(l="years",c=a),{unit:l,diff:c}}(new Date,e);try{if(C){return function(e,t,n){return k(t,{localeMatcher:"lookup",numeric:"always",style:n}).format(e.diff,e.unit)}(i,t,null!==(a=null==n?void 0:n.format)&&void 0!==a?a:(null==n?void 0:n.short)?"short":"long")}}catch(e){}return ((null==n?void 0:n.short)||"short"===(null==n?void 0:n.format))&&i.diff<0&&t.match(/en.*/)?y(i):I(t,{dateStyle:"short",timeStyle:"short"}).format(e);},cl:function(t){return t===e.a4.CompactView},cm:"subreddit_about",cn:"comment-post",co:"list-reply-comment",cp:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"downvote_comment"},{action_info:{trigger_type:n}}),cq:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"upvote_comment"},{action_info:{trigger_type:n}}),cr:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"clearvote_comment"},{action_info:{trigger_type:n}}),cs:"view",ct:"auth_modal",cu:"send",cv:"https://www.reddit.com/redditchat/",cw:"chat-mobile-xpromo",cx:ne,cy:(t,n)=>e.b({source:Ye,action:"click",noun:Xe(t)?"enable_post_flair":"enable_user_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),cz:(t,n)=>e.b({source:Ye,action:"click",noun:Xe(t)?"let_users_assign_post_flair":"let_users_assign_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),d:class{constructor(e){this.host=e,this.slotsCache=new Map,this.hasContentsCache=new Map,this.slotTextCache=new Map,this.handleSlotChange=e=>{if(!(e.target instanceof HTMLSlotElement))return;const t=e.target,n=t.hasAttribute("name")?t.name:"default",a=this.hasContentsCache.get(n),i=w(t);this.slotsCache.set(n,t),this.hasContentsCache.set(n,w(t)),this.slotTextCache.delete(n),a!==i&&this.host.requestUpdate()},e.addController(this)}hostConnected(){}getSlot(e){const t=this.slotsCache.get(e);if(void 0!==t)return t;const n=this.host.shadowRoot?.querySelector("default"===e?"slot:not([name])":`slot[name="${e}"]`);return n instanceof HTMLSlotElement?(this.slotsCache.set(e,n),n):null}hasSlotContent(e){return this.hasContentsCache.get(e)??!1}getSlotText(e){const t=this.slotTextCache.get(e);if(void 0!==t)return t;if(!(this.hasContentsCache.get(e)??!1))return this.slotTextCache.set(e,null),null;const n=this.getSlot(e);if(!n)return null;const a=(e=>{const t=e.assignedNodes({flatten:!0}),n=[];for(const e of t)e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim()),e.nodeType===Node.ELEMENT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim());return n.length>0?n.join(" "):null})(n);return this.slotTextCache.set(e,a),a}},d0:function(t){const n={[e.gL.Female]:"Woman",[e.gL.Male]:"Man",[e.gL.NonBinary]:"Non-binary",[e.gL.OptOut]:"I prefer not to say",[e.gL.UserDefined]:"I refer to myself as..."};return t?n[t]:n},d1:2e3,d2:"hidePostSubmitLink",d3:function({type:n,iconProps:a}){switch(n){case e.fy.Public:return {label:"Public",description:"Anyone can view, post, and comment to this community",icon:t.cE(a),iconSelected:t.cF(a)};case e.fy.Restricted:return {label:"Restricted",description:"Anyone can view, but only approved users can contribute",icon:t.cc(a),iconSelected:t.cb(a)};case e.fy.Private:return {label:"Private",description:"Only approved users can view and contribute",icon:t.bD(a),iconSelected:t.aS(a)};case e.fy.EmployeesOnly:return {label:"Employee-only",description:"Only employees can view and contribute",icon:t.d4(a),iconSelected:t.d5(a)};default:return null}},d4:D,d5:"wiki-revision-note-modal-dialog",d6:"wiki-page-tabs",d7:"isTranslatable",d8:"targetLanguage",d9:({adjacentElement:t})=>{if(!e.jQ(e.jR()))return()=>{};const n=document.createElement("input");return n.setAttribute("type","text"),n.style.position="absolute",n.style.opacity="0",n.style.height="0",n.style.fontSize="16px",t.insertAdjacentElement("afterend",n),n.focus(),()=>n.remove()},da:"comment-deletion-modal",db:t=>e.b({source:t,action:"click",noun:"follow"}),dc:t=>e.b({source:t,action:"undo",noun:"follow"}),dd:"list-reply-comment-button",de:t=>e.b({source:t,action:"click",noun:"save"}),df:t=>e.b({source:t,action:"click",noun:"unsave"}),e:i,f:function(e){return Array.from(function*(e){for(let t=1;t<=e;t++)yield t}(e))},g:function(e,t){const n=e.composedPath();for(const e of n){const n=e.dataset,a=n&&n[t];if(null!=a)return a}return null},h:N,i:({listId:e,seeButtonId:t})=>{const n=document.querySelector(`#${e}`),a=n?.querySelectorAll(".hidden"),i=n?.querySelector(`#${t}`),r=i?.getAttribute("data-see-less-label"),o=i?.getAttribute("data-see-more-label");if((!i||!ze.has(i))&&n&&i&&a&&r&&o){let e=!0;i.addEventListener("click",(()=>{Array.from(a).forEach((t=>{e?t.classList.remove("hidden"):t.classList.add("hidden")})),i.textContent=e?r:o,e=!e})),ze.add(i)}},j:function(e,t){return function(e,t){void 0===t&&(t={});var n=function(e){return e&&e.sensitive?"":"i"}(t),a=t.encode,i=void 0===a?function(e){return e}:a,r=t.validate,o=void 0===r||r,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),n)}));return function(t){for(var n="",a=0;a<e.length;a++){var r=e[a];if("string"!=typeof r){var l=t?t[r.name]:void 0,c="?"===r.modifier||"*"===r.modifier,u="*"===r.modifier||"+"===r.modifier;if(Array.isArray(l)){if(!u)throw new TypeError('Expected "'.concat(r.name,'" to not repeat, but got an array'));if(0===l.length){if(c)continue;throw new TypeError('Expected "'.concat(r.name,'" to not be empty'))}for(var d=0;d<l.length;d++){var m=i(l[d],r);if(o&&!s[a].test(m))throw new TypeError('Expected all "'.concat(r.name,'" to match "').concat(r.pattern,'", but got "').concat(m,'"'));n+=r.prefix+m+r.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var h=u?"an array":"a string";throw new TypeError('Expected "'.concat(r.name,'" to be ').concat(h))}}else{m=i(String(l),r);if(o&&!s[a].test(m))throw new TypeError('Expected "'.concat(r.name,'" to match "').concat(r.pattern,'", but got "').concat(m,'"'));n+=r.prefix+m+r.suffix}}else n+=r}return n}}(B(e,t),t)},k:(...e)=>e.filter(Boolean).join(" "),l:()=>{const e=S(),t=R();return"true"===e||void 0===e&&void 0===t?window.matchMedia("(prefers-reduced-motion: reduce)")?.matches:"false"!==t},m:function(e="#preview"){Qe((function(){const t=document.querySelector(e);t?.classList.contains(et)||t?.classList.add(et)}))},n:"templateSelector",o:function(e=!1){return e?"Saved":"Save";},p:{closeButtonClick:"product-detail-card-view:close-btn-click",backButtonClick:"product-detail-card-view:back-btn-click",buyNowClick:"product-detail-card-view:buy-now-click",equipAvatar:"product-detail-card-view:equip-avatar"},q:function(e){const t=document.querySelector(e);if(!t)return Promise.reject(`lazy script "${e}" cannot be found`);const n=s.get(t);if(n)return n;if(!t.nonce)return Promise.reject('loadLazyScriptWithNonce should only be used to load scripts with "nonce"s');const a=t?.getAttribute("data-src");if(!a)return Promise.reject('loadLazyScriptWithNonce expects a script tag with a "data-src" attribute');const i=document.querySelector(`script[src="${a}"]`);if(i)return Promise.resolve(i);const r=new Promise(((e,n)=>{const i=document.createElement("script");i.nonce=t.nonce,i.onload=function(){e(i)},i.onerror=function(e){n(e?.toString())},i.src=a,i.dataset.lazy="true",document.body.appendChild(i)}));return s.set(t,r),r},r:function(){return{source:"feed_experience",action:"consume",noun:"subreddit"}},s:Qe,t:function(){return{source:"feed_experience",action:"impression",noun:"subreddit"}},u:()=>e.b({source:"global",action:"view",noun:"screen"},{action_info:{page_type:e.ab.AchievementDetail}}),v:(e,t=e.tagName.toLowerCase())=>{const n=e=>(""===e&&(e="generic"),t+":"+e);return{dispatch:(t,a={bubbles:!0,cancelable:!0,composed:!0})=>e.dispatchEvent(new CustomEvent(n(t),a)),eventId:n}},w:b,x:function(e,t=0,n=!1){let a=!1,i=null;const r=function(...o){a?n&&(i=[this,o]):(e.apply(this,o),a=!0,setTimeout((()=>{a=!1,i&&(r.apply(i[0],i[1]),i=null)}),t))};return r},y:function(e,t){if(!e)return{color:"",icon:"",backgroundColor:""};const n=function(e){const t=e?.primaryColor,n=e?.mobileKeyColor,a=e?.legacyPrimaryColor;return t||n||a||null}(e)||"",a=function(e,t){if(!t)return e?.icon??null;for(const[n,a]of Ke){const i=e?.[a];if(i&&t<=parseInt(n,10))return i}return e?.icon??null}(e,t),i=e?.legacyIcon?.url;return{color:n,icon:a||i||"",backgroundColor:e?.backgroundColor||""}},z:function(e,t){if(!e?.includes("r/"))return"/";let n=[e,t].filter(Boolean).join("/");return n.startsWith("/")||(n=`/${n}`),n.endsWith("/")||(n=`${n}/`),n}};}));
SML.dm("1Du_uHMj",["DVMhF-xZ"],(async t=>{const a={[t.af.Card]:{get description(){return "Card";}},[t.af.Compact]:{get description(){return "Compact";}},[t.af.Classic]:{get description(){return "Compact";}}};var o;return function(t){t.MANUAL="manual",t.AUTOMATIC="automatic"}(o||(o={})),{get B(){return o},C:"/svc/shreddit/:subredditName/community-highlights",F:a,P:"post-deletion-modal",S:"subreddit-mute-modal",a:"subreddit-right-rail__partial"}}));
SML.dm("clCAey41",["DVMhF-xZ"],(async t=>{const e={next:"nextElementSibling",prev:"previousElementSibling"};var r,s;!function(t){t.FEED="feed",t.COMMENTS_PAGE="comments_page"}(r||(r={})),function(t){t.NEXT="next",t.PREV="prev"}(s||(s={}));return{get P(){return s},a:class{constructor(s,n){this.cache={},this.isPostOrComment=t=>["shreddit-comment","shreddit-post","shreddit-ad-post","shreddit-profile-comment"].includes(t?.tagName.toLowerCase()??""),this.traverse=t=>{const e=this.current;this._current?this.findPostOrComment(t):this._current=this.options.getFirstElement(),this.focusElement(e)},this.focusElement=e=>{if(!this.current||e===this.current)return;const s=document.activeElement;this.current?.onHotkeysFocus?this.current.onHotkeysFocus?.({preventScroll:!0}):this.current.hotkeyController?.onFocus?.({preventScroll:!0}),s===document.activeElement&&t.aN(this.current)?.focus(),this.current.style.scrollMarginTop="var(--shreddit-header-height)";const n=this.isCurrentComment?"start":this.options.type===r.COMMENTS_PAGE?"end":"center";this.current.scrollIntoView({behavior:"instant",block:n})},this.findPostOrComment=t=>{let r=this._current;for(let s=0;r&&s<this.options.maxTraversalCount;s++){const s=r,n=this.options.customTraversal?.(t,r);if(r=n??r?.[e[t]]??s.parentElement?.[e[t]],this.options?.customPostOrCommentDetection?.(r)||this.isPostOrComment(r)){this._current=r;break}}},this.host=s,this.host.addController(this),this.options={maxTraversalCount:10,...n}}hostConnected(){}hostDisconnected(){}get current(){return this._current!==this.cache?.rawElement&&(this.cache={rawElement:this._current,postOrComment:this.options?.customPostOrCommentDetection?.(this._current)??this._current}),this.cache?.postOrComment}get isCurrentPost(){return["shreddit-post","shreddit-ad-post"].includes(this.current?.tagName.toLowerCase()??"")}get isCurrentComment(){return"shreddit-comment"===(this.current?.tagName.toLowerCase()??"")}get isCurrentProfileComment(){return"shreddit-profile-comment"===(this.current?.tagName.toLowerCase()??"")}},get b(){return r}}}));
SML.dm("CU4mObWU",[],(async()=>{class t{constructor(e,o){this.element=e,this.touch1=null,this.touch2=null,this.touchStartX=null,this.touchStartY=null,this.touchEndX=null,this.touchEndY=null,this.touchMove1=null,this.touchMove2=null,this.touchMoveX=null,this.touchMoveY=null,this.velocityX=null,this.velocityY=null,this.longPressTimer=null,this.doubleTapTimer=null,this.doubleTapWaiting=!1,this.thresholdX=0,this.thresholdY=0,this.disregardVelocityThresholdX=0,this.disregardVelocityThresholdY=0,this.swipingHorizontal=!1,this.swipingVertical=!1,this.swipingDirection=null,this.swipedHorizontal=!1,this.swipedVertical=!1,this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null,this.handlers={panstart:[],panmove:[],panend:[],swipeleft:[],swiperight:[],swipeup:[],swipedown:[],tap:[],doubletap:[],longpress:[],pinch:[],pinchend:[],rotate:[],rotateend:[]},this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.opts=Object.assign({},t.defaults,o),this.element.addEventListener("touchstart",this._onTouchStart,i),this.element.addEventListener("touchmove",this._onTouchMove,i),this.element.addEventListener("touchend",this._onTouchEnd,i),this.opts.mouseSupport&&!("ontouchstart"in window)&&(this.element.addEventListener("mousedown",this._onTouchStart,i),document.addEventListener("mousemove",this._onTouchMove,i),document.addEventListener("mouseup",this._onTouchEnd,i))}destroy(){var t,i;this.element.removeEventListener("touchstart",this._onTouchStart),this.element.removeEventListener("touchmove",this._onTouchMove),this.element.removeEventListener("touchend",this._onTouchEnd),this.element.removeEventListener("mousedown",this._onTouchStart),document.removeEventListener("mousemove",this._onTouchMove),document.removeEventListener("mouseup",this._onTouchEnd),clearTimeout(null!==(t=this.longPressTimer)&&void 0!==t?t:void 0),clearTimeout(null!==(i=this.doubleTapTimer)&&void 0!==i?i:void 0)}on(t,i){if(this.handlers[t])return this.handlers[t].push(i),{type:t,fn:i,cancel:()=>this.off(t,i)}}off(t,i){if(this.handlers[t]){const e=this.handlers[t].indexOf(i);-1!==e&&this.handlers[t].splice(e,1)}}fire(t,i){for(let e=0;e<this.handlers[t].length;e++)this.handlers[t][e](i)}onTouchStart(t){var i,e,o,s,h,n,l,u,r,d,c,a,v,p,m,T,g,M,w,f,y,X,Y,E,b,S;let V=!1;if("mousedown"!==t.type){if(this.touch1||(this.touch1=t.changedTouches[0],V=!0),(V&&t.changedTouches.length>1||!V)&&!this.touch2)return this.touch2=[...t.changedTouches].find((t=>{var i;return t.identifier!==(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||null,this.originalDistance=Math.sqrt(Math.pow((null!==(e=null===(i=this.touch2)||void 0===i?void 0:i.screenX)&&void 0!==e?e:0)-(null!==(n=null!==(s=null===(o=this.touchMove1)||void 0===o?void 0:o.screenX)&&void 0!==s?s:null===(h=this.touch1)||void 0===h?void 0:h.screenX)&&void 0!==n?n:0),2)+Math.pow((null!==(u=null===(l=this.touch2)||void 0===l?void 0:l.screenY)&&void 0!==u?u:0)-(null!==(a=null!==(d=null===(r=this.touchMove1)||void 0===r?void 0:r.screenY)&&void 0!==d?d:null===(c=this.touch1)||void 0===c?void 0:c.screenY)&&void 0!==a?a:0),2)),void(this.originalAngle=Math.atan2((null!==(p=null===(v=this.touch2)||void 0===v?void 0:v.screenY)&&void 0!==p?p:0)-(null!==(M=null!==(T=null===(m=this.touchMove1)||void 0===m?void 0:m.screenY)&&void 0!==T?T:null===(g=this.touch1)||void 0===g?void 0:g.screenY)&&void 0!==M?M:0),(null!==(f=null===(w=this.touch2)||void 0===w?void 0:w.screenX)&&void 0!==f?f:0)-(null!==(E=null!==(X=null===(y=this.touchMove1)||void 0===y?void 0:y.screenX)&&void 0!==X?X:null===(Y=this.touch1)||void 0===Y?void 0:Y.screenX)&&void 0!==E?E:0))/(Math.PI/180));if(!V)return}(V||"mousedown"===t.type)&&(this.thresholdX=this.opts.threshold("x",this),this.thresholdY=this.opts.threshold("y",this),this.disregardVelocityThresholdX=this.opts.disregardVelocityThreshold("x",this),this.disregardVelocityThresholdY=this.opts.disregardVelocityThreshold("y",this),this.touchStartX="mousedown"===t.type?t.screenX:(null===(b=this.touch1)||void 0===b?void 0:b.screenX)||0,this.touchStartY="mousedown"===t.type?t.screenY:(null===(S=this.touch1)||void 0===S?void 0:S.screenY)||0,this.touchMoveX=null,this.touchMoveY=null,this.touchEndX=null,this.touchEndY=null,this.swipingDirection=null,this.longPressTimer=setTimeout((()=>this.fire("longpress",t)),this.opts.longPressTime),this.scale=1,this.rotation=0,this.fire("panstart",t))}onTouchMove(t){var i,e,o,s,h,n,l,u,r,d,c,a,v;if("mousemove"===t.type&&(!this.touchStartX||null!==this.touchEndX))return;let p,m;if("mousemove"!==t.type&&(p=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),this.touchMove1=p||this.touchMove1,m=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)})),this.touchMove2=m||this.touchMove2),"mousemove"===t.type||p){const u=("mousemove"===t.type?t.screenX:null!==(i=null==p?void 0:p.screenX)&&void 0!==i?i:0)-(null!==(e=this.touchStartX)&&void 0!==e?e:0);this.velocityX=u-(null!==(o=this.touchMoveX)&&void 0!==o?o:0),this.touchMoveX=u;const r=("mousemove"===t.type?t.screenY:null!==(s=null==p?void 0:p.screenY)&&void 0!==s?s:0)-(null!==(h=this.touchStartY)&&void 0!==h?h:0);this.velocityY=r-(null!==(n=this.touchMoveY)&&void 0!==n?n:0),this.touchMoveY=r;const d=Math.abs(this.touchMoveX),c=Math.abs(this.touchMoveY);this.swipingHorizontal=d>this.thresholdX,this.swipingVertical=c>this.thresholdY,this.swipingDirection=d>c?this.swipingHorizontal?"horizontal":"pre-horizontal":this.swipingVertical?"vertical":"pre-vertical",Math.max(d,c)>this.opts.pressThreshold&&clearTimeout(null!==(l=this.longPressTimer)&&void 0!==l?l:void 0),this.fire("panmove",t)}"mousemove"!==t.type&&null!=this.touchMove1&&null!=this.touchMove2&&(this.newDistance=Math.sqrt(Math.pow(this.touchMove2.screenX-this.touchMove1.screenX,2)+Math.pow(this.touchMove2.screenY-this.touchMove1.screenY,2)),this.scale=this.newDistance/(null!==(u=this.originalDistance)&&void 0!==u?u:0),this.fire("pinch",t),this.newAngle=Math.atan2((null!==(r=this.touchMove2.screenY)&&void 0!==r?r:0)-(null!==(d=this.touchMove1.screenY)&&void 0!==d?d:0),(null!==(c=this.touchMove2.screenX)&&void 0!==c?c:0)-(null!==(a=this.touchMove1.screenX)&&void 0!==a?a:0))/(Math.PI/180),this.rotation=this.newAngle-(null!==(v=this.originalAngle)&&void 0!==v?v:0),this.fire("rotate",t))}onTouchEnd(t){var i,e,o,s,h,n,l,u,r,d;let c;if("mouseup"!==t.type&&(c=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||(this.touch1=null,this.touchMove1=null),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)}))||(this.touch2=null,this.touchMove2=null)),"mouseup"!==t.type||this.touchStartX&&null===this.touchEndX){if("mouseup"===t.type||c){this.touchEndX="mouseup"===t.type?t.screenX:null!==(i=null==c?void 0:c.screenX)&&void 0!==i?i:0,this.touchEndY="mouseup"===t.type?t.screenY:null!==(e=null==c?void 0:c.screenY)&&void 0!==e?e:0,this.fire("panend",t),clearTimeout(null!==(o=this.longPressTimer)&&void 0!==o?o:void 0);const a=this.touchEndX-(null!==(s=this.touchStartX)&&void 0!==s?s:0),v=Math.abs(a),p=this.touchEndY-(null!==(h=this.touchStartY)&&void 0!==h?h:0),m=Math.abs(p),T=Math.sqrt(Math.pow(a,2)+Math.pow(p,2)),g=Math.abs(T),M=m/v;v>this.thresholdX||m>this.thresholdY||this.opts.diagonalSwipes&&(g>this.thresholdX||g>this.thresholdY)?(this.swipedHorizontal=v>this.thresholdX||this.opts.diagonalSwipes&&g>this.thresholdX,this.swipedVertical=m>this.thresholdY||this.opts.diagonalSwipes&&g>this.thresholdY,(!this.opts.diagonalSwipes||M<Math.tan((45-this.opts.diagonalLimit)*Math.PI/180)||M>Math.tan((45+this.opts.diagonalLimit)*Math.PI/180))&&(v>=m&&(this.swipedVertical=!1),m>v&&(this.swipedHorizontal=!1)),this.swipedHorizontal&&(a<0?((null!==(n=this.velocityX)&&void 0!==n?n:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdX)&&this.fire("swipeleft",t):((null!==(l=this.velocityX)&&void 0!==l?l:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdX)&&this.fire("swiperight",t)),this.swipedVertical&&(p<0?((null!==(u=this.velocityY)&&void 0!==u?u:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdY)&&this.fire("swipeup",t):((null!==(r=this.velocityY)&&void 0!==r?r:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdY)&&this.fire("swipedown",t))):v<this.opts.pressThreshold&&m<this.opts.pressThreshold&&(this.doubleTapWaiting?(this.doubleTapWaiting=!1,clearTimeout(null!==(d=this.doubleTapTimer)&&void 0!==d?d:void 0),this.fire("doubletap",t)):(this.doubleTapWaiting=!0,this.doubleTapTimer=setTimeout((()=>this.doubleTapWaiting=!1),this.opts.doubleTapTime),this.fire("tap",t)))}this.touch1||this.touch2||(this.fire("pinchend",t),this.fire("rotateend",t),this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null)}}}t.defaults={threshold:(t,i)=>Math.max(25,Math.floor(.15*("x"===t?window.innerWidth||document.body.clientWidth:window.innerHeight||document.body.clientHeight))),velocityThreshold:10,disregardVelocityThreshold:(t,i)=>Math.floor(.5*("x"===t?i.element.clientWidth:i.element.clientHeight)),pressThreshold:8,diagonalSwipes:!1,diagonalLimit:15,longPressTime:500,doubleTapTime:300,mouseSupport:!0};let i=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){i={passive:!0}}}))}catch(t){}return{T:t}}));
SML.dm("Di11LdlH",["DVMhF-xZ","DN8NCGGW","CU4mObWU","CElIDZoh"],(async(e,t,i,o)=>{const s=(e,t,{parentBoundary:i=document.documentElement,root:a=document,cache:n=new Set})=>{const r=a.elementsFromPoint(e,t),h=[];for(const e of r)if(!n.has(e)){if(!o.az(i,e))break;h.push(e),n.add(e)}const l=[];for(const i of h)i.shadowRoot&&l.push(...s(e,t,{parentBoundary:i,root:i.shadowRoot,cache:n}));return[...h,...l]};class a{get inSwipe(){return this._inSwipe}set inSwipe(e){this._inSwipe!==e&&(this._inSwipe=e,this.host.requestUpdate("inSwipe",!this._inSwipe))}constructor(e,{recognitionThreshold:t=10,mouseSupport:i=!1}={recognitionThreshold:10,mouseSupport:!1}){this.host=e,this.mouseSupport=!1,this.rafId=null,this._inSwipe=!1,this.protectScrollInterference=!0,this.recognitionThreshold=t,this.mouseSupport=i}clearRaf(){this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null)}addListeners(e){this.gesture=new i.T(e,{mouseSupport:this.mouseSupport}),this.gesture.on("panstart",this.handleTouchStart.bind(this)),this.gesture.on("panmove",this.handleTouchMove.bind(this)),this.gesture.on("panend",this.handleTouchEnd.bind(this))}removeListeners(){this.gesture?.destroy()}reset(){const e=this.gesture?.element;e&&(this.removeListeners(),this.addListeners(e))}handleTouchStart(e){this.clearRaf(),this.gesture&&this.host.handleSwipeMayStart?.(this.gesture)}handleTouchMove(t){if(this.clearRaf(),!this.gesture)return;const i=(this.gesture.touchMoveY??0)<=0;if(!this.inSwipe&&Math.abs((this.gesture.touchStartY??0)-(this.gesture.touchEndY??0))>this.recognitionThreshold){if(this.protectScrollInterference){const[o,a]=n(t),r=s(o,a,{parentBoundary:this.gesture.element}).filter((t=>t instanceof HTMLElement&&e.gC(t)));if(i&&r.some((t=>!e.gD(t)))||!i&&r.some((t=>!e.gE(t))))return this.reset()}!1!==this.host.handleSwipeWillStart?.({...this.gesture,swipeDirection:i?"up":"down"})?(this.inSwipe=!0,this.host.handleSwipeProgress?.({...this.gesture,swipeDirection:i?"up":"down"})):this.reset()}this.inSwipe&&this.gesture&&(this.rafId=requestAnimationFrame((()=>{this.host.handleSwipeProgress?.({...this.gesture,swipeDirection:i?"up":"down"})})))}handleTouchEnd(e){this.gesture&&(this.clearRaf(),this.inSwipe=!1,this.host.handleSwipeEnd?.(this.gesture))}disableScrollInterferenceProtection(){this.protectScrollInterference=!1}enableScrollInterferenceProtection(){this.protectScrollInterference=!0}}const n=e=>e instanceof MouseEvent?[e.clientX,e.clientY]:[e.touches[0].clientX,e.touches[0].clientY],r="expanded",h="normal",l="docked";var d=t.i`${e.z}:host{--transition-duration:250ms;display:contents}.dialog{--bottom-sheet-docked-height:'auto';--bottom-sheet-normal-height:'auto';--bottom-sheet-height:var(--bottom-sheet-normal-height)}.dialog{--bottom-sheet-expanded-height:85vh}@supports (height:95dvh){.dialog{--bottom-sheet-expanded-height:95dvh}}.dialog.state-normal{--bottom-sheet-height:1fr}.dialog.state-docked{--bottom-sheet-height:var(--bottom-sheet-docked-height)}.dialog.state-expanded{--bottom-sheet-height:var(--bottom-sheet-expanded-height)}.dialog{display:flex;align-items:center;justify-content:center;position:fixed;inset:0;z-index:var(--z-index-dialog,1000);user-select:none;pointer-events:none;width:100vw}.dialog-panel{display:grid;grid-template-rows:auto var(--bottom-sheet-height);grid-auto-flow:column;position:fixed;z-index:2;bottom:0;right:0;touch-action:none;transform:translateY(100%);max-height:var(--bottom-sheet-expanded-height);width:100%;background-color:var(--color-ui-modalbackground);border-start-start-radius:var(--radius-md);border-start-end-radius:var(--radius-md);box-shadow:var(--boxshadow-modal);transition:--bottom-sheet-height var(--transition-duration) ease,grid-template-rows var(--transition-duration) ease,transform var(--transition-duration) ease}.dialog.reflect-gesture .dialog-panel{grid-template-rows:auto var(--bottom-sheet-forced-height);transition:none}.dialog-variant-plain .dialog-panel{max-width:100%;max-height:100%;background-color:transparent;border-radius:initial;box-shadow:initial}.dialog-panel:focus{outline:0}.dialog-open{user-select:auto}.dialog-open .dialog-overlay,.dialog-open .dialog-panel{pointer-events:auto}.dialog-open .dialog-panel{opacity:1;transform:translateY(0)}.dialog-overlay{position:fixed;inset:0;background-color:rgba(0,0,0,.5)}.dialog-overlay-blur{backdrop-filter:blur(var(--dialog-backdrop-blur, 4px))}.dialog-overlay-no-modal{display:none}.handle-container{display:flex;justify-content:center;align-items:flex-end;width:100%}.handle-container-inside{--handle-color:var(--color-neutral-border);padding-top:var(--rem8);padding-bottom:var(--rem4)}.handle-container-outside{--handle-color:var(--color-global-white);padding-bottom:var(--rem8);padding-top:var(--rem4);position:relative;top:-16px}.handle{display:block;background:var(--handle-color);width:var(--rem48);height:var(--rem4);border-radius:10000rem}`;let c=class extends e.gF{constructor(){super(...arguments),this.resizeController=new e.gG(this,{callback:()=>this.updateDimensions,elements:{slottedElement:()=>this.slottedElement,styledDialogChildWithHeader:()=>this.styledDialogChildWithHeader,panel:()=>this.panelRef.value}}),this.gestureController=new a(this,{recognitionThreshold:10}),this.slottedElement=null,this.styledDialogChildWithHeader=null,this.handleContainer=e.aF(),this.animationNames={show:"bottomSheet.show",hide:"bottomSheet.hide",denyClose:"bottomSheet.denyClose",denyExpand:"bottomSheet.denyExpand",overlayShow:"bottomSheet.overlay.show",overlayHide:"bottomSheet.overlay.hide"},this.openState=h,this.dockable=!1,this.expandable=!1,this.handleDockButtonClicked=e=>{e.stopPropagation(),this.open&&(this.isDocked?this.undock():this.dock())},this.updateDimensions=async e=>{const t=this.slottedElement;t&&e.some((e=>e.target===t))&&this.slottedElement&&this.styledDialogChildWithHeader&&this.updateDockedHeight(),this.requestUpdate(),this.emitter.dispatch("resize")}}get isDocked(){return this.openState===l}get isExpanded(){return this.openState===r}get isNormal(){return this.openState===h}addOpenListeners(){super.addOpenListeners(),this.resizeController.observeAllElements(),this.portalContainer.addEventListener("rpl-modal-card:dock-button-clicked",this.handleDockButtonClicked),this.panelRef.value&&this.gestureController.addListeners(this.panelRef.value)}removeOpenListeners(){super.removeOpenListeners(),this.resizeController.unobserveAllElements(),this.gestureController.removeListeners(),this.portalContainer.removeEventListener("rpl-modal-card:dock-button-clicked",this.handleDockButtonClicked)}willUpdate(e){return e.has("dockable")&&!this.dockable&&this.isDocked&&(this.dockable=!0),e.has("expandable")&&!this.expandable&&this.isExpanded&&(this.expandable=!0),e.has("openState")&&this.isExpanded&&!this.expandable&&(this.openState=e.get("openState")??h),e.has("openState")&&this.isDocked&&!this.dockable&&(this.openState=e.get("openState")??h),(e.get("openState")||e.get("dockable"))&&this.styledDialogChildren.size>0&&this.styledDialogChildren.forEach((e=>{e.dockable=this.dockable,e.docked=this.isDocked})),e.has("openState")&&(this.isDocked?this.gestureController.disableScrollInterferenceProtection():this.gestureController.enableScrollInterferenceProtection()),super.willUpdate(e)}getCachedHeightContainer(e){return["forced","forcedInitial"].includes(e)?this.panelRef.value:this.dialogRef.value}setCachedHeight(e,t){this.getCachedHeightContainer(e)?.style.setProperty(p[e],t)}getCachedHeight(e){const t=this.getCachedHeightContainer(e);return t?getComputedStyle(t).getPropertyValue(p[e])??"auto":"auto"}async updateDockedHeight(){if(!this.styledDialogChildWithHeader)return;await e.gH(this.styledDialogChildWithHeader);const t=this.styledDialogChildWithHeader.headerHeight,i=this.handleContainer.value?.clientHeight??16;t&&this.setCachedHeight("docked",`${t+i}px`)}async expand(){if(!this.open||!this.expandable||this.isExpanded||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:r}})||(this.openState=r)}async collapse(){if(!this.open||!this.isExpanded||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:h}})||(this.openState=h)}async dock(){if(!this.open||!this.dockable||this.isDocked||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:l}})||(this.openState=l)}async undock(){if(!this.open||!this.isDocked||!this.panelRef.value)return;!this.emitter.dispatch("open-state-changed",{cancelable:!0,detail:{openState:h}})||(this.openState=h)}handleSwipeMayStart(){this.setCachedHeight("forcedInitial",`${this.panelRef?.value?.clientHeight}px`),this.setCachedHeight("forced",`var(${p.forcedInitial})`)}handleSwipeWillStart({swipeDirection:e}){return!("down"===e&&this.blocking&&!this.isExpanded||"up"===e&&!this.expandable)}handleSwipeProgress({swipeDirection:e,touchMoveY:t}){null===t||this.isExpanded&&"up"===e||this.setCachedHeight("forced",`calc(var(${p.forcedInitial}) - ${t??0}px)`)}handleSwipeEnd({touchMoveY:t,thresholdY:i}){if(!this.open||null==t)return;const o=t>=i,s=t<=-i;if(o&&this.isExpanded)this.collapse();else if(o&&this.isNormal)this.requestClose("gesture");else if(s&&this.isDocked)this.undock();else if(s&&this.isNormal&&this.expandable)this.expand();else if(s&&!this.isExpanded&&!this.expandable&&this.panelRef.value){const{keyframes:t,options:i}=e.cc(this,this.animationNames.denyExpand);e.cd(this.panelRef.value,t,i)}}handleSlotChange(e){this.styledDialogChildWithHeader=null,this.slottedElement=this.portalContainer.firstElementChild,this.slottedElement&&this.resizeController.replaceObservedElement("slottedElement")}handleDialogChildConnected(t){t.appearance="bottom-sheet",t.dockable=this.dockable,t.docked="docked"===this.openState,e.gI(t)&&"headerHeight"in t&&(this.styledDialogChildWithHeader=t,this.resizeController.replaceObservedElement("styledDialogChildWithHeader"),this.updateDockedHeight())}handleDialogChildDisconnected(e){}renderDialogBaseClasses(){return{"reflect-gesture":this.gestureController.inSwipe,[`state-${this.openState}`]:!0}}renderTopOfDialog(){return t.x`<div class="${e.y({"handle-container":!0,["handle-container-"+(this.open&&this.modal.disableFocusTrap?"inside":"outside")]:!0})}" part="handle-container" ${e.at(this.handleContainer)}> <div class="handle"></div> </div>`}};c.styles=d,t._([t.n({type:String,reflect:!0,attribute:"open-state"})],c.prototype,"openState",void 0),t._([t.n({type:Boolean,reflect:!0})],c.prototype,"dockable",void 0),t._([t.n({type:Boolean,reflect:!0})],c.prototype,"expandable",void 0),c=t._([t.c("rpl-bottom-sheet")],c);const p={forced:"--bottom-sheet-forced-height",forcedInitial:"--bottom-sheet-forced-initial-height",currentHeight:"--bottom-sheet-current-height",[l]:"--bottom-sheet-docked-height"},u=250;return e.c9("bottomSheet.show",{keyframes:[{opacity:0,transform:"translateY(100%)"},{opacity:1,transform:"translateY(0%)"}],options:{duration:u,easing:"ease"}}),e.c9("bottomSheet.hide",{keyframes:[{opacity:1,transform:"translateY(0%)",maxHeight:"var(--bottom-sheet-forced-height)"},{opacity:0,transform:"translateY(100%)",maxHeight:"var(--bottom-sheet-forced-height)"}],options:{duration:u,easing:"ease"}}),e.c9("bottomSheet.denyClose",{keyframes:[{transform:"translateY(0%)"},{transform:"translateY(4%)"},{transform:"translateY(0%)"}],options:{duration:u,easing:"ease-in"}}),e.c9("bottomSheet.denyExpand",{keyframes:[{height:"var(--bottom-sheet-forced-height)"},{height:"var(--bottom-sheet-height)",transform:"translateY(0%)",offset:.2},{height:"var(--bottom-sheet-height)",transform:"translateY(4%)",offset:.5},{height:"var(--bottom-sheet-height)",transform:"translateY(0%)"}],options:{duration:375,easing:"ease-in"}}),e.c9("bottomSheet.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:u}}),e.c9("bottomSheet.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:u}}),{get R(){return c}}}));
SML.dm("BjHRrNrW",["DVMhF-xZ","DN8NCGGW","CElIDZoh","Di11LdlH","CU4mObWU"],(async(e,t,a,i)=>{var n=t.i`${e.z}:host{display:contents}`;let l=class extends e.x{constructor(){super(...arguments),this.nonSyncedPropNames=["variant","litTemplateChildren","overlayBlur","dialogId","dialogClassName","blocking","disableCacheContents","noAnimate"],this.isTouchOnly=new a.cF(this,"(pointer: coarse)"),this.isLargeWidth=new a.cF(this,"(width >= 640px)"),this.dialogRef=e.aF(),this.panelRef=e.aF(),this.overlayRef=e.aF(),this.open=!1,this.overlayBlur=!0,this.dialogId="",this.dialogClassName="",this.label="",this.blocking=!1,this.noAnimate=!1,this.disableCacheContents=!1,this.openState="normal",this.dataPersistent=!1,this.expandable=!1,this.redispatchableEventNames=[]}setElementRef(t){(t instanceof e.hf||t instanceof i.R)&&(this.elementRef&&this.elementRef.removeEventListener(`${this.tagName.toLowerCase()}:internal-update`,this.handleInternalSync),this.elementRef=t,this.elementRef.addEventListener(`${this.tagName.toLowerCase()}:internal-update`,this.handleInternalSync))}get rplBottomSheet(){return this.elementRef instanceof i.R?this.elementRef:void 0}get rplDialog(){return this.elementRef instanceof e.hf?this.elementRef:void 0}get portalContainer(){if(!this.elementRef)throw new Error("[RPLDialogSheet]: The .portalContainer is not available until after the component has rendered.");return this.elementRef.portalContainer}get portalShadowRoot(){if(!this.elementRef)throw new Error("[RPLDialogSheet]: The .portalShadowRoot is not available until after the component has rendered.");return this.elementRef.portalShadowRoot}set litTemplateChildren(e){this._litTemplateChildren=e,this.elementRef&&e&&(this.elementRef.litTemplateChildren=e)}get litTemplateChildren(){return this._litTemplateChildren}async expand(){return this.rplBottomSheet?.expand()}async collapse(){return this.rplBottomSheet?.collapse()}async showModal(){return this.elementRef?.showModal()}checkFocus(){return this.elementRef?.checkFocus()}async show(){return this.elementRef?.show()}async hide(){return this.elementRef?.hide()}get currentVariant(){if(this.forceVariant)return this.forceVariant;const{isTouchOnly:e,isLargeWidth:t}=this;return e.matches&&!t.matches?"bottom-sheet":"dialog"}handleInternalSync(e){const t=e;t.stopImmediatePropagation();for(const e of t.detail)!this.nonSyncedPropNames.includes(e.key)&&e.key in this&&e.newValue!==this[e.key]&&(this[e.key]=e.newValue)}renderDialog(){return t.x`<rpl-dialog .eventNamespaceOverride="${this.tagName.toLowerCase()}" .dialogRef="${this.dialogRef}" .panelRef="${this.panelRef}" .overlayRef="${this.overlayRef}" .litTemplateChildren="${this.litTemplateChildren}" .open="${this.open}" .overlayBlur="${this.overlayBlur}" .dialogId="${this.dialogId}" .dialogClassName="${this.dialogClassName}" .label="${this.label}" .blocking="${this.blocking}" .disableCacheContents="${this.disableCacheContents}" .noAnimate="${this.noAnimate}" .dataPersistent="${this.dataPersistent}" .redispatchableEventNames="${this.redispatchableEventNames}" @rpl-dialog-sheet:internal-sync="${this.handleInternalSync}" ${e.at(this.setElementRef)}> <slot></slot> </rpl-dialog>`}renderBottomSheet(){return t.x`<rpl-bottom-sheet .eventNamespaceOverride="${this.tagName.toLowerCase()}" .dialogRef="${this.dialogRef}" .panelRef="${this.panelRef}" .overlayRef="${this.overlayRef}" .litTemplateChildren="${this.litTemplateChildren}" .open="${this.open}" .overlayBlur="${this.overlayBlur}" .dialogId="${this.dialogId}" .dialogClassName="${this.dialogClassName}" .label="${this.label}" .blocking="${this.blocking}" .disableCacheContents="${this.disableCacheContents}" .noAnimate="${this.noAnimate}" .openState="${this.openState}" .dockable="${!1}" .expandable="${this.expandable}" .dataPersistent="${this.dataPersistent}" .redispatchableEventNames="${this.redispatchableEventNames}" @rpl-dialog-sheet:internal-sync="${this.handleInternalSync}" ${e.at(this.setElementRef)}> <slot></slot> </rpl-bottom-sheet>`}render(){return"dialog"===this.currentVariant?this.renderDialog():this.renderBottomSheet()}};l.styles=n,t._([t.n({type:String,reflect:!0,attribute:"force-variant"})],l.prototype,"forceVariant",void 0),t._([t.n({type:Boolean,reflect:!0})],l.prototype,"open",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"overlay-blur"})],l.prototype,"overlayBlur",void 0),t._([t.n({reflect:!0,attribute:"dialog-id"})],l.prototype,"dialogId",void 0),t._([t.n({reflect:!0,attribute:"dialog-classname"})],l.prototype,"dialogClassName",void 0),t._([t.n({reflect:!0})],l.prototype,"label",void 0),t._([t.n({type:Boolean})],l.prototype,"blocking",void 0),t._([t.n({type:Boolean,attribute:"no-animate"})],l.prototype,"noAnimate",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"disable-cache-contents"})],l.prototype,"disableCacheContents",void 0),t._([t.n({type:String,reflect:!0,attribute:"open-state"})],l.prototype,"openState",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"data-persistent"})],l.prototype,"dataPersistent",void 0),t._([t.n({type:Boolean,reflect:!0})],l.prototype,"expandable",void 0),t._([t.n({attribute:"redispatchable-event-names",type:Array})],l.prototype,"redispatchableEventNames",void 0),t._([t.b()],l.prototype,"litTemplateChildren",null),l=t._([t.c("rpl-dialog-sheet")],l)}));
SML.dm("Ctv-Q76p",["DN8NCGGW","DVMhF-xZ","CElIDZoh"],(async(e,a,t)=>{let p=class extends(t.W(e.s)){constructor(){super(...arguments),this.pages=0,this.for=void 0}get pageIndex(){return super.pageIndex}set pageIndex(e){super.pageIndex=e}get pageNames(){return super.pageNames}set pageNames(e){super.pageNames=e}static get styles(){return e.i`:host{display:block}.page{display:none}.active{display:block}`}render(){if(this.pages<1)return;const{pageNames:p}=this;return e.x` <div aria-roledescription="carousel"> ${t.f(this.pages).map((t=>e.x` <div role="tabpanel" class="${a.y({page:!0,active:t===this.pageIndex})}"> <slot name="${p?p[t-1]:`page-${t}`}"></slot> </div> `))} </div> `}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e),this.requestUpdate("pageIndex",e)}};return e._([e.n({type:Number})],p.prototype,"pages",void 0),e._([e.n({type:Number,attribute:"pageindex"})],p.prototype,"pageIndex",null),e._([e.n({converter:a.G,attribute:"pagenames"})],p.prototype,"pageNames",null),e._([e.n({type:String})],p.prototype,"for",void 0),p=e._([e.c("faceplate-tabpanel")],p),{get F(){return p}}}));
SML.dm("CHAmJBNV",["DN8NCGGW","DVMhF-xZ","CElIDZoh"],(async(e,t,a)=>{let s=class extends(a.W(t.aC)){constructor(){super(...arguments),this.pages=0,this.for=void 0,this._events=new t.E(this),this._windowEvents=new t.E(this,(()=>window)),this._locationHashMap=new Map,this._selectedElements=new Set,this._activeSlotRef=t.aF(),this._handleHashChange=this._windowEvents.define("hashchange",(()=>{const e=this._locationHashMap.get(window.location.hash);e&&(this.pageIndex=e)})),this._handleClick=this._events.define("click",(e=>{let t=null;e.target instanceof HTMLAnchorElement&&(t=e.target.getAttribute("href"),t&&"#"!==t[0]&&(t=null)),null!==t&&(e.preventDefault(),e.stopPropagation());const a=e.composedPath();for(let e=0;e<a.length;e++){const s=a[e];if(s instanceof HTMLSpanElement){const e=this.getPageIndexFromSpanWrapper(s);if(t){const e=new URL(window.location.href);e.hash=t,window.history.pushState(null,"",e.href)}if(0!==e){this.pageIndex=e;break}}}})),this._handleKeydown=this._events.define("keydown",(e=>{if("ArrowLeft"===e.key)this.previousPage();else{if("ArrowRight"!==e.key)return;this.nextPage()}e.preventDefault(),e.stopPropagation()}))}get pageIndex(){return super.pageIndex}set pageIndex(e){super.pageIndex=e}get pageNames(){return super.pageNames}set pageNames(e){super.pageNames=e}render(){if(this.pages<1)return e.x``;const{pageNames:s}=this;return e.x` <div class="tablist" role="tablist"> ${a.f(this.pages).map((a=>e.x` <span data-i="${a}" role="tab" aria-selected="${a===this.pageIndex?"true":"false"}"> <slot @slotchange="${this.handleSlotChange}" name="${s?s[a-1]:`page-${a}`}" ${a===this.pageIndex?t.at(this._activeSlotRef):""}></slot> </span> `))} </div> `}updated(e){if(e.has("pageIndex")){this._clearSelectedAttributes();const e=this._activeSlotRef.value;if(!e)return;for(const t of e.assignedElements())this._setSelectedAttribute(t),t.focus()}}_clearSelectedAttributes(){if(this._selectedElements.size){for(const e of this._selectedElements)e.removeAttribute("faceplate-tab-selected");this._selectedElements.clear()}}_setSelectedAttribute(e){this._selectedElements.add(e),e.setAttribute("faceplate-tab-selected","")}handleSlotChange(e){const{hash:t}=window.location,a=e.target;if(!(a.parentElement instanceof HTMLSpanElement))return;const s=a.assignedElements(),n=this.getPageIndexFromSpanWrapper(a.parentElement),i=n===this.pageIndex;if(i&&this._clearSelectedAttributes(),s.length)for(const e of s){if(i&&this._setSelectedAttribute(e),!(e instanceof HTMLAnchorElement))continue;const a=e.getAttribute("href");a&&(this._locationHashMap.set(a,n),a===t&&(this.pageIndex=n))}}getPageIndexFromSpanWrapper(e){return e.dataset.i?parseInt(e.dataset.i,10):0}pageIndexChangedCallback(e){super.pageIndexChangedCallback(e),this.requestUpdate("pageIndex",e)}};return e._([e.n({type:Number})],s.prototype,"pages",void 0),e._([e.n({type:Number,attribute:"pageindex"})],s.prototype,"pageIndex",null),e._([e.n({type:String})],s.prototype,"for",void 0),e._([e.n({converter:t.G,attribute:"pagenames"})],s.prototype,"pageNames",null),e._([e.w(".tablist")],s.prototype,"tabList",void 0),s=e._([e.c("faceplate-tablist")],s),{get F(){return s}}}));
SML.dm("C4UOze37",["DN8NCGGW","CHAmJBNV","CElIDZoh","DVMhF-xZ"],(async(t,e,i,n)=>{var a;let s=a=class extends e.F{constructor(){super(...arguments),this._setup=!1,this._bbwidth=0,this._fbwidth=0,this._forwardButtonVisible=!0,this._backButtonVisible=!1,this.selectedClasses=["bg-secondary-background-selected","!text-neutral-content-strong","tab-selected"],this.appearance="fill",this.insetHug=!1,this.underline=!1,this._mutationCallback=t=>{for(const e of t)if("attributes"===e.type&&"faceplate-tab-selected"===e.attributeName&&e.target.nodeType===Node.ELEMENT_NODE){e.target.hasAttribute("faceplate-tab-selected")?this._handleTabSelected(e.target):this._handleTabDeselected(e.target)}},this._setupButtons=()=>{this._setup&&(this.backButtonElements[0]?.removeEventListener("click",this._handleBackButtonClick),this.style.removeProperty("--back-button-width"),this.forwardButtonElements[0]?.removeEventListener("click",this._handleForwardButtonClick),this.style.removeProperty("--forward-button-width")),this.backButtonElements[0]instanceof HTMLElement&&(this._backButtonVisible||this.backButton?.removeAttribute("hidden"),this._bbwidth=this.backButton.clientWidth,this._backButtonVisible||this.backButton?.setAttribute("hidden",""),this.style.setProperty("--back-button-width",`${this._bbwidth}px`),this.backButtonElements[0].addEventListener("click",this._handleBackButtonClick)),this.forwardButtonElements[0]instanceof HTMLElement&&(this._forwardButtonVisible||this.forwardButton?.removeAttribute("hidden"),this._fbwidth=this.forwardButton.clientWidth,this._forwardButtonVisible||this.backButton?.setAttribute("hidden",""),this.style.setProperty("--forward-button-width",`${this._fbwidth}px`),this.forwardButtonElements[0].addEventListener("click",this._handleForwardButtonClick))},this._handleContainerScroll=()=>{this._backButtonVisible=0!==Math.floor(this._containerLeft),this._forwardButtonVisible=Math.round(this._containerBaseRight)!==Math.round(this.container?.scrollWidth??0)},this._handleBackButtonClick=t=>{t.preventDefault(),t.stopPropagation();const e=this._tabs,i=this._leftmostVisibleTab,n=e[i];if(null==n)return;let s=n.right-(this.container?.clientWidth??0);i!==e.length-1&&(s+=(this._fbwidth??0)-a.tabSpacing.raw),this.container?.scroll({behavior:"smooth",left:s})},this._handleForwardButtonClick=t=>{t.preventDefault(),t.stopPropagation();const e=this._tabs,i=this._rightmostVisibleTab,n=e[i];if(null==n)return;let s=n.left;0!==i&&(s-=(this._bbwidth??0)+a.tabSpacing.raw),this.container?.scroll({behavior:"smooth",left:s})},this._scrollToSelected=()=>{const t=this._tabs,e=t.findIndex((t=>"true"===t.el.getAttribute("aria-selected"))),i=t[e];if(null==i)return;const n=i.right-i.left,a=(this.container?.clientWidth??0)-(this._bbwidth+this._fbwidth),s=i.left-this._bbwidth-a/2+n/2;this.container?.scroll({behavior:"smooth",left:s})}}connectedCallback(){super.connectedCallback(),this._mutationObserver=new MutationObserver(this._mutationCallback),this._mutationObserver.observe(this,a.mutationObserverOptions)}disconnectedCallback(){super.disconnectedCallback(),this._mutationObserver.disconnect()}firstUpdated(t){super.firstUpdated(t),this._setupAll()}_setupAll(){this._setup&&this.container&&(this.container.removeEventListener("scroll",this._handleContainerScroll),this._resizeObserver?.unobserve(this.container)),this.container?.addEventListener("scroll",this._handleContainerScroll),this.container?.removeEventListener("resize",this._setupAll),this._setupButtons(),this._resizeObserver||(this._resizeObserver=new ResizeObserver(this._handleContainerScroll)),this.container&&this._resizeObserver?.observe(this.container),this._setup||(this.style.setProperty("--anim-duration","0ms"),this._handleContainerScroll(),requestAnimationFrame((()=>{this.style.removeProperty("--anim-duration")}))),this._setup=!0}_handleTabSelected(t){let e=this.selectedClasses;t.classList.contains("tab-bottom-border")&&t.hasAttribute("rpl")&&(e=e?.filter((t=>"bg-secondary-background-selected"!==t))),t.classList.add(...e??[]),t.tabIndex=0,this._scrollToSelected()}_handleTabDeselected(t){t.tabIndex=-1,t.classList.remove(...this.selectedClasses??[])}get _containerBaseWidth(){return this.container?.clientWidth??0}get _containerBaseLeft(){return this.container?.scrollLeft??0}get _containerLeft(){return 0===this._containerBaseLeft?this._containerBaseLeft:this._containerBaseLeft+(this.backButton?.clientWidth??0)+a.tabSpacing.raw}get _containerBaseRight(){return this._containerBaseLeft+this._containerBaseWidth}get _containerRight(){return this._containerBaseRight===this.container?.scrollWidth?this._containerBaseRight:this._containerBaseRight-((this.forwardButton?.clientWidth??0)+a.tabSpacing.raw)}get _rightmostVisibleTab(){const t=this._tabs;let e=0,i=0;for(let i=t.length-1;i>=0;i--)if(t[i]?.isVisible){e=i;break}if(0===e)for(let i=t.length-1;i>=0;i--)if(t[i]?.partiallyVisible){e=i;break}for(const[e,n]of t.entries()){const a=t[i];n.partiallyVisible&&a&&n.right>a.right&&(i=e)}return i<=e&&e<t.length-1?e+1:t[i]?.isVisible&&i!==t.length-1?i+1:i}get _leftmostVisibleTab(){const t=this._tabs;let e=t.length-1,i=t.length-1;for(let i=0;i<t.length;i++)if(t[i]?.isVisible){e=i;break}if(e===t.length-1)for(let i=0;i<t.length;i++)if(t[i]?.partiallyVisible){e=i;break}for(const[e,n]of t.entries()){const a=t[i];n.partiallyVisible&&a&&n.left<a.left&&(i=e)}return i>=e&&e>0?e-1:t[i]?.isVisible&&0!==i?i-1:i}get _tabs(){const{pageNames:t}=this,e=[];for(const n of i.f(this.pages)){const i=t?t[n-1]:`page-${n}`,a=this.shadowRoot.querySelector(`slot[name="${i}"]`).parentElement,s=a.offsetLeft,r=a.offsetLeft+a.offsetWidth,o=s>this._containerLeft&&s<this._containerRight||r<this._containerRight&&r>this._containerLeft,l=s>this._containerLeft&&r<this._containerRight||s<this._containerLeft&&r>this._containerRight;e.push({el:a,left:s,right:r,isVisible:l,partiallyVisible:o})}return e}render(){const e=super.render();return t.x`<div class="container"> ${e} <div class="${n.y({internalButton:!0,internalForwardButton:!0,hideable:!0,hidden:!this._forwardButtonVisible})}" @resize="${this._setupButtons}"> <slot name="forward-button" @slotchange="${this._setupButtons}"></slot> </div> <div class="${n.y({internalButton:!0,internalBackButton:!0,hideable:!0,hidden:!this._backButtonVisible})}" @resize="${this._setupButtons}"> <slot name="back-button" @slotchange="${this._setupButtons}"></slot> </div> </div>`}};return s.mutationObserverOptions={childList:!0,subtree:!0,attributes:!0,attributeFilter:["faceplate-tab-selected"]},s.tabSpacing={raw:8},s.backButton=()=>n.n({appearance:"plain",attributes:{type:"button",tabindex:"-1",slot:"back-button"},shape:"pill",size:n.$.Small,leadingIcon:t.aJ({size:t.I.Small}),screenReaderContent:"back"}),s.forwardButton=()=>n.n({appearance:"plain",attributes:{type:"button",tabindex:"-1",slot:"forward-button"},shape:"pill",size:n.$.Small,leadingIcon:t.aK({size:t.I.Small}),screenReaderContent:"forward"}),s.styles=t.i`:host{--plain-background:rgba(255, 255, 255, 0);--anim-duration:300ms;--button-gap:var(--spacer-xs, 8);display:flex;width:fit-content;max-width:100%}@media (prefers-color-scheme:dark){:host{--plain-background:rgba(0, 0, 0, 0)}}@media (prefers-reduced-motion){:host{--anim-duration:0ms}}.hideable{transition:opacity var(--anim-duration,300ms) ease;visibility:visible;opacity:1}.hidden{animation-name:hide-button;animation-duration:var(--anim-duration,300ms);animation-fill-mode:forwards;opacity:0}@keyframes hide-button{from{visiblity:visible}to{visiblity:hidden;z-index:-1}}.container{width:fit-content;max-width:100%;overflow:hidden;display:flex;justify-content:center;align-items:center;flex-direction:row;flex-wrap:nowrap;position:relative}.tablist{display:flex;overflow:auto;align-items:center;flex-flow:row nowrap;gap:var(--button-gap);scroll-behavior:smooth;scrollbar-width:none}.tablist::-webkit-scrollbar{display:none}.tablist:focus-visible{outline:0}[role=tab]{display:flex;flex-shrink:0}.internalButton{position:absolute;top:0;bottom:0;display:flex;align-items:center}.internalForwardButton{inset-inline-end:0;padding-inline-start:var(--button-gap);background-image:linear-gradient(to right,var(--plain-background) 0,var(--color-neutral-background) 30%);cursor:pointer}.internalBackButton{inset-inline-start:0;padding-inline-end:var(--button-gap);background-image:linear-gradient(to left,var(--plain-background) 0,var(--color-neutral-background) 30%);cursor:pointer}:host([inset]) .container{margin:0 var(--spacer-md)}:host([appearance=fill]){--button-gap:0;width:100%}:host([appearance=fill]) .container,:host([appearance=fill]) .tablist{width:inherit}:host([appearance=fill]) [role=tab]{flex-grow:1}:host([underline]) .container::after{position:absolute;display:block;content:'';border-bottom:solid var(--rem1) var(--color-neutral-border-weak);inset-inline:0;bottom:0}`,t._([t.w(".internalForwardButton")],s.prototype,"forwardButton",void 0),t._([t.w(".internalBackButton")],s.prototype,"backButton",void 0),t._([t.w(".tablist")],s.prototype,"container",void 0),t._([t.k({slot:"forward-button"})],s.prototype,"forwardButtonElements",void 0),t._([t.k({slot:"back-button"})],s.prototype,"backButtonElements",void 0),t._([t.b()],s.prototype,"_forwardButtonVisible",void 0),t._([t.b()],s.prototype,"_backButtonVisible",void 0),t._([t.n({attribute:!1})],s.prototype,"selectedClasses",void 0),t._([t.n({attribute:!0})],s.prototype,"appearance",void 0),t._([t.n({attribute:!0,type:Boolean})],s.prototype,"insetHug",void 0),t._([t.n({attribute:!0,type:Boolean})],s.prototype,"underline",void 0),s=a=t._([t.c("faceplate-tabgroup")],s),{get F(){return s}}}));
SML.dm("DiQwYZkp",["DVMhF-xZ"],(async e=>{const t=e.gu(),n=function(){const e=new WeakMap;let t=!1;return{get isDirty(){return t},getRegistration:(e,t,n)=>({target:e,key:t,value:n}),register({target:n,key:r,value:i}){const s=e.get(n);if(s&&!s.has(r))s.set(r,i);else{if(s)throw new Error(`Cannot register value for key ${r}; something is already registered!`);e.set(n,new Map([[r,i]]))}t=!0},unregister({target:n,key:r,value:i}){const s=e.get(n);s&&s.get(r)===i&&(s.delete(r),t=!0)},getRegisteredElements(n){const r=e.get(n);return t=!1,r},unregisterAll(n){e.delete(n),t=!0}}}(),r=e.gt("FaceplateForm"),i=r.registerAncestorClass,s=r.connectToAncestor,o=Symbol.for("mixins/form-association");function a(e){return!!e&&o in e.constructor}function l(e){return!!e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||o in e.constructor)}const u=new Set(["checkbox","radio"]);function c(e){return l(e)&&u.has(e.type)||a(e)&&"checked"in e}const p=new Set(["radio"]);const d="siteRule.value",f="categoryOrRule.value";return{C:"community-picker-default",F:o,R:class{constructor(e){this.bottomScrollIntoViewIfNeeded=e=>{const t=e?.parentElement;if(t&&e){t.clientHeight-(e.offsetTop+e.clientHeight)<0&&e.scrollIntoView()}},this.getHiddenInputValue=e=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.getAttribute("value")??"",this.setHiddenInputValue=(e,t)=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.setAttribute("value",t)??"",this.getAllHiddenInputValues=()=>Array.from(this.reportFormEl.querySelectorAll("form input[type=hidden]")).reduce(((e,t)=>{const n=t.getAttribute("name");return n?{...e,[n]:t.getAttribute("value")??""}:e}),{}),this.getComputedValueByRef=e=>{if(e===d){const t=this.getHiddenInputValue(f);return this.getHiddenInputValue(e).includes(t)?this.getHiddenInputValue(e):""}return this.getHiddenInputValue(e)},this.checkCondition=e=>{if("object"==typeof e){const{args:t,$type:n}=e;if("computed"===n&&Array.isArray(t)){const n=t.map((e=>"object"==typeof e&&"ref"===e.$type?this.getComputedValueByRef(e.ref):e));return"neq"===e.function?String(n[0])!==String(n[1]):String(n[0])===String(n[1])}if("ref"===n&&e.ref)return this.getHiddenInputValue(e.ref)}return!1},this.getComputedProp=e=>{if("computed"===e.$type&&"conditionalSelect"===e.function&&e.conditions&&e.values){const t=e.conditions;for(const[n,r]of t.entries())if(!0===r||"boolean"!=typeof r&&this.checkCondition(r))return e.values[n]}return e},this.getText=e=>{if(this.isString(e))return e;const t=this.getComputedProp(e);return this.isString(t)?t:""},this.getAction=e=>this.getComputedProp(e),this.getDisabledCondition=e=>!!this.checkCondition(this.getComputedProp(e)),this.getTextDataRef=e=>{const t=e.conditions?.[0];if(t&&"boolean"!=typeof t){const e=t.args;if(Array.isArray(e)&&!this.isString(e[0]))return e[0].ref}return""},this.getDisabledRef=e=>{const t=e.args;if(t&&Array.isArray(t)&&!this.isString(t[0]))return[t[0].ref];const n=e.values;return n?n.map((e=>e.args[0].ref)):void 0},this.isString=e=>"string"==typeof e,this.performAction=e=>{switch(e.actionType){case"formSubmit":return{formSubmit:!0,data:e.args};case"formClose":return{formClose:!0};case"flow":return"SELF_HARM"===this.getHiddenInputValue(e.args[0].ref)?{openCtlFlow:!0}:void 0;case"openTemplatedUrl":const t=e.args,{urlTemplate:n,placeholders:r}=t;if(t&&n&&r){let e="";return r.forEach((r=>{const i=t[r],s=this.getHiddenInputValue(i.ref);s&&(e=n.replaceAll(`%(${r})s`,s))})),{href:e,formClose:!0}}return{formClose:!0};default:const{value:i,key:s}=e.args;return"ref"===i.$type?(this.setHiddenInputValue(s,this.getHiddenInputValue(i.ref)),{key:s,value:this.getHiddenInputValue(i.ref)}):void 0}},this.reportFormEl=e}},S:d,a:"community-picker-your-communities",b:"community-picker-others",c:s,d:c,e:a,f:function(e){return!!e&&(e instanceof HTMLSelectElement||o in e.constructor&&"options"in e)},g:l,h:function(e){return c(e)&&p.has(e.type)},i:function(e,t,{className:n,size:r="small",label:i,description:s,leadingContent:o,trailingContent:a,truncateTrailingContent:l,disabled:u=!1,id:c,testId:p}){return e`<div class="flex justify-between gap-[0.5rem] text-secondary py-xs ${u?"opacity-60 pointer-events-none":""} ${n??""}" id="${t(c)}" data-testid="${t(p)}"> <span class="flex items-center gap-xs min-w-0 ${l?"shrink-0 grow":"shrink"}"> ${o?e`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${o}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="${"small"===r?"text-14":"text-16"} break-normal">${i}</span> <span class="text-12 text-secondary-weak break-normal">${s}</span> </span> </span> <span class="flex items-center ${l?"shrink pl-[8px] min-w-0":"shrink-0"}"> <span class="flex items-center justify-center h-lg ${l?"min-w-0":""}">${a}</span> </span> </div>`},j:n,k:t,l:f,m:"community-picker-your-profile",r:i}}));
SML.dm("L-pRUMpq",["DN8NCGGW","DiQwYZkp","DVMhF-xZ"],(async(t,e,i)=>{class s{constructor(t,e,i,s,a,n,r,l,o,d){this.valueMissing=t,this.typeMismatch=e,this.patternMismatch=i,this.tooLong=s,this.tooShort=a,this.rangeUnderflow=n,this.rangeOverflow=r,this.stepMismatch=l,this.badInput=o,this.customError=d}}class a{constructor(t){this.submissionValue=null,this.constraintsSuffered={},this.customValidityMessage="",this.validityMessage="",this.validationAnchor=null,this.target=t,this.input=document.createElement("input"),this.input.className="faceplate-internal-input",this.input.tabIndex=-1,this.input.style.opacity="0",this.input.style.width="1px",this.input.style.height="100%",this.input.style.padding="0",this.input.style.border="0",this.input.style.pointerEvents="none",this.input.hidden=!0}_connect(t){t?(this._form=t,e.k.register(t,this.target)):this._form=void 0}_disconnect(){this._form&&(e.k.unregister(this._form,this.target),this._form=void 0)}getFormValue(){return this.submissionValue}setFormValue(t){this.submissionValue=t}get form(){return this._form}isSufferingFromItsConstraints(){for(const t in this.constraintsSuffered)if(this.constraintsSuffered[t])return!0;return!1}setValidity(t,e,i=null){if(t){const e=this.convertFlagsToValidityState(t);for(const i in t)this.constraintsSuffered[i]=e[i]}else this.constraintsSuffered={};const s=!!e&&this.isSufferingFromItsConstraints();if(t&&Object.prototype.hasOwnProperty.call(t,"customError")){const t=this.constraintsSuffered.customError&&e?e:"";this.customValidityMessage=t}else this.validationAnchor=i,this.validityMessage=s&&e?e:"";(this.validationAnchor||this.input).setCustomValidity(this.validationMessage),this.target.setAttribute("faceplate-validity",s?"invalid":"valid")}get willValidate(){return!(this.target.disabled||null===this.submissionValue)}convertFlagsToValidityState(t){return new s(!!t.valueMissing,!!t.typeMismatch,!!t.patternMismatch,!!t.tooLong,!!t.tooShort,!!t.rangeUnderflow,!!t.rangeOverflow,!!t.stepMismatch,!!t.badInput,!!t.customError)}get validity(){const t=this.constraintsSuffered;return this.convertFlagsToValidityState(t)}get validationMessage(){return this.customValidityMessage||this.validityMessage}dispatchInvalidEvent(){const t=new Event("invalid",{bubbles:!0,cancelable:!0});return this.target.dispatchEvent(t),t}checkValidity(){return!this.isSufferingFromItsConstraints()||(this.dispatchInvalidEvent(),!1)}reportValidity(){if(this.isSufferingFromItsConstraints()){if(!this.dispatchInvalidEvent().defaultPrevented){(this.validationAnchor||this.input).reportValidity()}return!1}return!0}}const n=i.gu(),r=new MutationObserver((t=>{for(const e of t){if("attributes"!==e.type||"disabled"!==e.attributeName||!(e.target instanceof HTMLFieldSetElement))continue;const t=n.getRegisteredElements(e.target);if(t)for(const i of t)i.formDisabledCallback&&i.formDisabledCallback(i.disabled||e.target.disabled)}}));function l(t){if(e.F in t)return t;class i extends t{constructor(){super(...arguments),this._internals=new a(this)}connectedCallback(){super.connectedCallback&&super.connectedCallback(),e.c(this).then((t=>{if(!t||!this.isConnected)return;this._internals._connect(t),this.formAssociatedCallback&&this.formAssociatedCallback(t);let e=this;for(;e.parentElement&&(e=e.parentElement,e!==t)&&!(e instanceof HTMLLegendElement);)if(e instanceof HTMLFieldSetElement){this._fieldSet=e;n.getRegisteredElements(e)||r.observe(e,{attributes:!0}),n.register(e,this);break}this.formDisabledCallback&&this.formDisabledCallback(this.disabled)}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this._internals._disconnect(),this.formAssociatedCallback&&this.formAssociatedCallback(null),this._fieldSet&&(n.unregister(this._fieldSet,this),this._fieldSet=void 0)}get value(){return this._internals.getFormValue()}set value(t){this._internals.setFormValue(t),this.syncInputValidity(!1)}get form(){return this._internals.form}get name(){return this.getAttribute("name")||""}get disabled(){return this.hasAttribute("disabled")||!(!this._fieldSet||!this._fieldSet.disabled)}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.formDisabledCallback&&this.formDisabledCallback(t||!(!this._fieldSet||!this._fieldSet.disabled))}get type(){return this.localName}get validity(){return this._internals.validity}get validationMessage(){return this._internals.validationMessage}get willValidate(){return this._internals.willValidate}checkValidity(){return this._internals.checkValidity()}reportValidity(){return this._internals.reportValidity()}setCustomValidity(t){this._internals.setValidity({customError:!!t},t)}syncInputValidity(t=!0){var e;const i=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("input:not(.faceplate-internal-input),textarea");if(!i)return;t&&this.setAttribute("faceplate-dirty","");let s={};if(this._internals.validity.customError){for(const t in i.validity)s[t]=i.validity[t];s.customError=!0}else s=i.validity;this._internals.setValidity(s,i.validationMessage||this._internals.validationMessage)}}return i[e.F]=!0,i}class o extends(l(t.s)){static get styles(){return t.i`:host{display:inline-block;position:relative}:host([aria-disabled=true]){cursor:not-allowed;opacity:.5}:host([faceplate-validity=invalid]){border-color:var(--color-danger-content)}.faceplate-internal-input{position:absolute;left:50%;bottom:0}`}get disabled(){return super.disabled}set disabled(t){super.disabled=t}constructor(){super(),this.ariaDisabled="false",this.addEventListener("focus",this.dispatchFocusin)}dispatchFocusin(){const t=new FocusEvent("focusin",{bubbles:!0});this.dispatchEvent(t)}render(){return t.x` ${this._internals.input} `}formDisabledCallback(t){this.ariaDisabled=t?"true":"false"}formResetCallback(){this.value=this.getAttribute("value"),this.removeAttribute("faceplate-dirty")}}t._([t.n({type:Boolean,reflect:!0})],o.prototype,"disabled",null),t._([t.n({type:String,attribute:"aria-disabled",reflect:!0})],o.prototype,"ariaDisabled",void 0);function d(t){return t<10?`0${t}`:t}return{F:class extends o{async firstUpdated(){const t=await e.c(this);t&&this.isConnected&&t.register(this)}},I:o,M:999,T:function(){return o},W:l,a:function(t){const[e,i,s]=t.split("-").map(Number);return new Date(e,i-1,s)},g:function(t){const[e,i,s]=Array.from(t).map((t=>parseInt(t?.value??"",10)));if(!s||!i||!e)return null;const a=new Date(e,i,0).getDate(),n=(new Date).getFullYear();return s<0||s>a||i<1||i>12||e<n-120||e>n-5?null:`${e}-${d(i)}-${d(s)}`}}}));
SML.dm("BxuDB69O",["DN8NCGGW","DVMhF-xZ","L-pRUMpq"],(async(e,t,i)=>{const a={checkbox:()=>"This checkbox must be on",radio:()=>"This radio must have a selected option"};class n extends i.F{constructor(){super(...arguments),this.required=!1,this.name="",this.initialized=!1,this._events=new t.E(this),this.ariaRole="checkbox",this._checked=!1,this.ellipsis=!1,this._handleClick=this._events.define("click",(e=>{this.disabled||e.defaultPrevented||this.handleInteraction()})),this._handleKeydown=this._events.define("keydown",(e=>{this.disabled||e.defaultPrevented||"Space"===e.code&&(e.stopPropagation(),e.preventDefault(),this.handleInteraction())}))}get checked(){return this._checked}set checked(e){const t=this._checked;e!==t&&(this._internals.setFormValue(e?this.getAttribute("value")||"on":null),this._checked=e,e?this.setAttribute("aria-checked","true"):this.removeAttribute("aria-checked"),this.hasAttribute("required")&&!this.checked?this._internals.setValidity({valueMissing:!0},a[this.ariaRole]()):this._internals.setValidity(),this.requestUpdate("checked",t))}static get styles(){return[super.styles,e.i`:host(:not(faceplate-switch-input)){min-height:var(--size-md)}:host{display:flex;align-items:center;cursor:pointer}label{font:var(--font-14-20-regular);color:var(--color-neutral-content-strong);margin-left:var(--spacer-2xs);cursor:pointer}.icon{border:var(--line-md) solid transparent;height:var(--size-md);font-size:var(--size-md);flex-shrink:0}:host([checked]) .icon,:host([indeterminate]) .icon{display:inline-block;color:var(--color-primary-background)}:host(:hover) .icon{color:var(--color-primary-background-hover)}:host([faceplate-validity=invalid]) .icon{color:var(--color-danger-content);pointer-events:none}:host([aria-disabled=true]) .icon{color:var(--color-neutral-content-disabled);pointer-events:none}:host([ellipsis]) label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host([required]) label::after{position:absolute;color:var(--color-danger-content);content:'*'}:host(:focus) .icon{border-color:var(--color-global-focus,transparent);outline:0}:host(:focus){outline:0}:host(:focus:not(:focus-visible)) .icon{border-color:transparent}`]}connectedCallback(){super.connectedCallback(),this.initialized||(this.initialized=!0,this.setAttribute("role",this.ariaRole),this.setAttribute("tabindex","0"))}formDisabledCallback(e){super.formDisabledCallback(e),e?this.removeAttribute("tabindex"):this.setAttribute("tabindex","0")}render(){return e.x` ${super.render()} <label> <slot></slot> </label> `}handleInteraction(){const e=new InputEvent("input",{bubbles:!0});this.dispatchEvent(e)}}return e._([e.n({type:Boolean})],n.prototype,"required",void 0),e._([e.n({type:String})],n.prototype,"name",void 0),e._([e.n({type:Boolean,reflect:!0})],n.prototype,"checked",null),e._([e.n({type:Boolean})],n.prototype,"ellipsis",void 0),{C:n}}));
SML.dm("C4DAbJqz",["DN8NCGGW","BxuDB69O","DVMhF-xZ"],(async(a,r,e)=>{var t;!function(a){a.PRIMARY="primary",a.BRAND="brand"}(t||(t={}));const o={[t.PRIMARY]:"switch-input-primary",[t.BRAND]:"switch-input-brand"};var c;!function(a){a.ON="faceplate-switch-input:on",a.OFF="faceplate-switch-input:off"}(c||(c={}));let i=class extends r.C{constructor(){super(...arguments),this.appearance=t.PRIMARY}static get styles(){return[super.styles,a.i`.switch-input-primary{--checked-color-background-default:var(--color-switch-input-background-checked);--checked-color-background-hover:var(--color-switch-input-background-checked-hover)}.switch-input-brand{--checked-color-background-default:var(--color-brand-background);--checked-color-background-hover:var(--color-brand-background-hover)}.outer{background:var(--color-switch-input-background-default);border-radius:var(--radius-full);box-shadow:var(--elevation-switch-input-default-inset);height:var(--size-switch-input-h);vertical-align:middle;width:var(--size-switch-input-w);padding:var(--line-md);box-sizing:border-box;position:relative;display:flex;align-items:center;flex-shrink:0;transition:background-color .3s;contain:strict}.knob{--knob-size:calc(var(--size-switch-input-h) - (var(--line-md) * 2));--knob-size-active:calc((36 / 28) * var(--knob-size));--translate-checked:calc(
            var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2)
          );background:var(--color-global-white);border-radius:var(--radius-full);filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .15));display:flex;align-items:center;justify-content:center;height:var(--knob-size);position:absolute;transform:translateX(0);transition-duration:.3s;transition-property:transform,width;width:var(--knob-size)}.knob:dir(rtl){--translate-checked:calc(
            -1 * (var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2))
          )}:host(:active:not([aria-disabled=true])) .knob{width:var(--knob-size-active)}:host([checked]) .knob{transform:translateX(var(--translate-checked))}:host([checked]:active:not([aria-disabled=true])) .knob{transform:translateX(calc(var(--translate-checked) - (var(--knob-size-active) - var(--knob-size))))}:host([checked]:active:not([aria-disabled=true])) .knob:dir(rtl){transform:translateX(calc(var(--translate-checked) + (var(--knob-size-active) - var(--knob-size))))}label{margin-inline-start:var(--spacer-xs)}:host([checked]) .outer{background:var(--checked-color-background-default)}:host([faceplate-validity=invalid]) .outer{background:var(--color-danger-content)}:host(:focus-visible) .outer{outline:1px auto var(--color-global-focus)}:host(:hover) .outer{background:var(--color-switch-input-background-default-hover)}:host([checked]:hover) .outer{background:var(--checked-color-background-hover)}:host([aria-disabled=true]){opacity:1}:host([aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-disabled);box-shadow:none}:host([checked][aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true][checked]:active) .outer{background:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true]) .knob{background-color:var(--color-switch-input-background-handle-disabled);box-shadow:none}:host([aria-disabled=true]) label{opacity:.5}svg{opacity:0;color:var(--color-global-black);transition:opacity .3s}:host([checked]) svg{opacity:1}`]}render(){return a.x` <span class="${o[this.appearance||t.PRIMARY]} outer"> <span class="knob"> ${a.Q({attributes:{"aria-hidden":"true"},size:a.I.ExtraSmall})} </span> </span> ${super.render()} `}toggle(){this.checked=!this.checked,this.dispatchEvent(e.c(this.checked?c.ON:c.OFF)),super.handleInteraction()}handleInteraction(){this.toggle()}};return a._([a.n({type:String})],i.prototype,"appearance",void 0),i=a._([a.c("faceplate-switch-input")],i),{get F(){return i},get S(){return t}}}));
SML.dm("y7f18YYf",["DVMhF-xZ","DN8NCGGW"],(async(e,t)=>{var n;!function(e){e.Small="sm",e.Medium="md"}(n||(n={}));const a=e=>{let t;return"boolean"==typeof e&&(t=e?"true":"false"),t},s=e=>{const{attributes:n,trailingSlot:a,selected:s,liRole:i}=e,{html:o,createElement:c}=t.g(),{role:d,tabindex:p,"aria-disabled":u,"aria-selected":m,...g}=n||{},x=o`${r(e)} ${l(a)}`;return c("li",{...g,className:`relative list-none mt-0 ${n?.className||""}`,rpl:!0,rplSelected:s,role:i||"presentation"},x)},r=e=>{const{anchorAttributes:s,appearance:r,description:l,disabled:c,href:d,innerClassName_DO_NOT_USE:p,label:u,leadingAvatar:m,leadingIcon:g,noXPadding:x=!1,onClick:b,selected:f,size:$=n.Medium,trailingSlot:h,attributes:y,suppressHoverStyles:v=!1}=e,_=!f&&e.hasTransparentBackground,{html:k,createElement:E,ifDefined:S}=t.g(),{role:w,tabindex:j}=y??{},T=Boolean(j??y?.onclick??e.onClick),N=T?parseInt(j??"0"):void 0,I=!v&&(null!=d||T),O=e=>{return t=e,I?t:"";var t},D=["flex justify-between relative",(x?"px-xs -mx-xs":"px-md")+" gap-[0.5rem]","danger"===r?f?"text-danger-content":`text-danger-content ${O("hover:text-danger-content-hover")}`:f?"text-secondary-onBackground":`text-secondary ${O("hover:text-secondary-hover")}`,`${_?"":f?`bg-neutral-background-selected ${O("hover:bg-neutral-background-selected")}`:`${O("active:bg-interactive-pressed")}`} ${O("hover:bg-neutral-background-hover")}`,`${O("hover:no-underline")}`,`${O("cursor-pointer")}`,c?"opacity-60 pointer-events-none":"",$===n.Medium?"py-xs":"py-2xs"," -outline-offset-1",p].join(" "),L=k` <span class="flex items-center gap-xs min-w-0 shrink"> ${g?k` <span class="flex shrink-0 items-center justify-center h-xl w-xl text-20 leading-4"> ${g} </span>`:void 0} ${m?k`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${m}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="text-14">${u}</span> <span class="text-12 text-secondary-weak">${l}</span> </span> </span> ${o(h)} `;return d?E("a",{...s,role:w,href:d,tabindex:N,onclick:b,className:`${D} ${s?.className?s.className:""} no-underline`,style:`padding-inline-end: ${i(e)}`},L):k`<div aria-disabled="${S(a(c)||y?.["aria-disabled"])}" aria-selected="${S(a(f)||y?.["aria-selected"])}" role="${S(w)}" tabindex="${S(N)}" class="${D}" @click="${b}" @keydown="${e=>{"Enter"!==e.code&&"Space"!==e.code||!b||b(e)}}" style="padding-inline-end:${i(e)}"> ${L} </div>`};function i({trailingSlot:e}){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"58px";case"switchInput":return"80px";default:return"16px"}}const l=e=>{if("object"!=typeof e||!("type"in e))return null;const{html:n}=t.g();return n`<div class="absolute top-1/2" style="inset-inline-end:${function(e){if("object"!=typeof e||!("type"in e))return"16px";switch(e.type){case"iconButton":return"10px";case"switchInput":return"8px";default:return"16px"}}(e)};transform:translateY(-50%)"> ${e.content} </div>`},o=e=>{if("object"==typeof e&&"type"in e)return null;const{html:n}=t.g();return n`<span class="flex items-center shrink-0"> <span class="flex items-center justify-center h-lg">${e}</span> </span>`},c=(t,n,a)=>e.b({source:"custom_feeds",...t},{customFeed:{id:n},...a?{subreddit:{id:a}}:{}}),d={"list-item":"","group-label":"text-12 text-secondary-weak tracking-widest",title:"text-16 text-neutral-content-strong"};return{D:1,get L(){return n},T:"table-pagination__paginate-previous",a:({appearance:e="list-item",attributes:a,innerClassName_DO_NOT_USE:r,label:i,leadingIcon:l,noXPadding:o})=>{const{html:c}=t.g();return s({attributes:{...a,tabindex:"-1"},hasTransparentBackground:!0,innerClassName_DO_NOT_USE:r,label:c`<span class="${d[e]}">${i}</span>`,leadingIcon:l,size:n.Small,trailingSlot:t.K(),noXPadding:o})},b:(e,t)=>c({action:"add",noun:"subreddit"},e,t),c:25,d:"table-pagination__paginate-next",e:({attributes:e,contentId:n,content:a,header:s,hasLeadingBorder:r,isInitiallyOpen:i=!0})=>{const{html:l,createElement:o}=t.g();return o("faceplate-expandable-section-helper",{...e,booleanOpen:i,rpl:!0},l`<details ?open="${i}" class="p-0 m-0 bg-transparent border-none rounded-none"> <summary aria-controls="${n}" aria-expanded="${i}" class="font-normal"> ${s} </summary> <faceplate-auto-height-animator class="block" ?open="${i}"> <div faceplate-auto-height-animator-content id="${n}" style="${r?"border-left: 1px solid var(--color-neutral-border-weak); margin-left: 28px;":""}"> ${a} </div> </faceplate-auto-height-animator> </details>`)},f:"table-pagination__page-size-updated",g:({attributes:e,children:n,trailingSlot:a})=>{const{html:s,createElement:r}=t.g();return r("li",{...e,booleanListItemHeader:!0,className:"flex items-center m-0 pe-md h-2xl min-w-0 text-secondary font-semibold text-12",rpl:!0},s`<span class="grow min-w-0 px-sm truncate">${n}</span> ${a?s`<span class="flex items-center">${a}</span> `:void 0}`)},h:e=>c({action:"delete",noun:"custom_feed"},e),i:e=>c({action:"duplicate",noun:"custom_feed"},e),j:e=>c({action:"create",noun:"custom_feed"},e),k:({attributes:e,children:n})=>{const{html:a,createElement:s}=t.g();return s("li",{...e,booleanListItemGroup:!0,className:"list-none",rpl:!0},a`<ul class="p-0"> ${n} </ul>`)},l:s,r:(e,t)=>c({action:"remove",noun:"subreddit"},e,t)}}));
SML.dm("ClGeIyf9",["DN8NCGGW"],(async t=>{var e;!function(t){t.NEUTRAL="NEUTRAL",t.SUCCESS="SUCCESS",t.WARNING="WARNING",t.ALERT="ALERT",t.PLAIN="PLAIN",t.DISABLED="DISABLED",t.DANGER="DANGER",t.INVERTED="INVERTED",t.SECONDARY="SECONDARY",t.MEDIA="MEDIA",t.BRAND="BRAND"}(e||(e={}));const n="bg-brand-background text-brand-onBackground",r="bg-secondary-background text-secondary-onBackground",o={[e.WARNING]:"bg-warning-background text-neutral-background",[e.SUCCESS]:"bg-success-background text-primary-onBackground",[e.NEUTRAL]:"bg-neutral-content text-neutral-background",[e.PLAIN]:r,[e.ALERT]:n,[e.BRAND]:n,[e.DANGER]:"bg-danger-background text-primary-onBackground",[e.DISABLED]:"bg-interactive-content-disabled text-neutral-background",[e.INVERTED]:"bg-inverted-neutral-background text-neutral-background",[e.SECONDARY]:r,[e.MEDIA]:"bg-media-background text-media-onBackground"};const a=(()=>{let t=0;return()=>(t+=1,`u${`0000${(Math.random()*36**4|0).toString(36)}`.slice(-4)}${t}`)})();function i(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function c(t,e){const n=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function s(t,e={}){return{width:e.width||function(t){const e=c(t,"border-left-width"),n=c(t,"border-right-width");return t.clientWidth+e+n}(t),height:e.height||function(t){const e=c(t,"border-top-width"),n=c(t,"border-bottom-width");return t.clientHeight+e+n}(t)}}const l=16384;function u(t){return new Promise(((e,n)=>{const r=new Image;r.decode=()=>e(r),r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t}))}async function d(t,e,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${e}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),o.appendChild(a),a.appendChild(t),async function(t){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(t))).then(encodeURIComponent).then((t=>`data:image/svg+xml;charset=utf-8,${t}`))}(o)}const h=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return null!==n&&(n.constructor.name===e.name||h(n,e))};function f(t,e,n){const r=`.${t}:${e}`,o=n.cssText?function(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}(n):function(t){return i(t).map((e=>`${e}: ${t.getPropertyValue(e)}${t.getPropertyPriority(e)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${r}{${o}}`)}function g(t,e,n){const r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""===o||"none"===o)return;const i=a();try{e.className=`${e.className} ${i}`}catch(t){return}const c=document.createElement("style");c.appendChild(f(i,n,r)),e.appendChild(c)}const m="application/font-woff",p="image/jpeg",w={woff:m,woff2:m,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:p,jpeg:p,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function y(t){const e=function(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return w[e]||""}function b(t){return-1!==t.search(/^(data:)/)}async function E(t,e,n){const r=await fetch(t,e);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((t,e)=>{const a=new FileReader;a.onerror=e,a.onloadend=()=>{try{t(n({res:r,result:a.result}))}catch(t){e(t)}},a.readAsDataURL(o)}))}const S={};async function x(t,e,n){const r=function(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}(t,e,n.includeQueryParams);if(null!=S[r])return S[r];let o;n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());try{const r=await E(t,n.fetchRequestInit,(({res:t,result:n})=>(e||(e=t.headers.get("Content-Type")||""),function(t){return t.split(/,/)[1]}(n))));o=function(t,e){return`data:${e};base64,${t}`}(r,e)}catch(e){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${t}`;e&&(r="string"==typeof e?e:e.message),r&&console.warn(r)}return S[r]=o,o}async function R(t,e){return h(t,HTMLCanvasElement)?async function(t){const e=t.toDataURL();return"data:,"===e?t.cloneNode(!1):u(e)}(t):h(t,HTMLVideoElement)?async function(t,e){if(t.currentSrc){const e=document.createElement("canvas"),n=e.getContext("2d");return e.width=t.clientWidth,e.height=t.clientHeight,null==n||n.drawImage(t,0,0,e.width,e.height),u(e.toDataURL())}const n=t.poster,r=y(n);return u(await x(n,r,e))}(t,e):h(t,HTMLIFrameElement)?async function(t){var e;try{if(null===(e=null==t?void 0:t.contentDocument)||void 0===e?void 0:e.body)return await C(t.contentDocument.body,{},!0)}catch(t){}return t.cloneNode(!1)}(t):t.cloneNode(!1)}const A=t=>null!=t.tagName&&"SLOT"===t.tagName.toUpperCase();function N(t,e){return h(e,Element)&&(function(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):i(r).forEach((o=>{let a=r.getPropertyValue(o);if("font-size"===o&&a.endsWith("px")){const t=Math.floor(parseFloat(a.substring(0,a.length-2)))-.1;a=`${t}px`}h(t,HTMLIFrameElement)&&"display"===o&&"inline"===a&&(a="block"),"d"===o&&e.getAttribute("d")&&(a=`path(${e.getAttribute("d")})`),n.setProperty(o,a,r.getPropertyPriority(o))}))}(t,e),function(t,e){g(t,e,":before"),g(t,e,":after")}(t,e),function(t,e){h(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),h(t,HTMLInputElement)&&e.setAttribute("value",t.value)}(t,e),function(t,e){if(h(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find((e=>t.value===e.getAttribute("value")));r&&r.setAttribute("selected","")}}(t,e)),e}async function C(t,e,n){return n||!e.filter||e.filter(t)?Promise.resolve(t).then((t=>R(t,e))).then((n=>async function(t,e,n){var r,o;let a=[];return a=A(t)&&t.assignedNodes?i(t.assignedNodes()):h(t,HTMLIFrameElement)&&(null===(r=t.contentDocument)||void 0===r?void 0:r.body)?i(t.contentDocument.body.childNodes):i((null!==(o=t.shadowRoot)&&void 0!==o?o:t).childNodes),0===a.length||h(t,HTMLVideoElement)||await a.reduce(((t,r)=>t.then((()=>C(r,n))).then((t=>{t&&e.appendChild(t)}))),Promise.resolve()),e}(t,n,e))).then((e=>N(t,e))).then((t=>async function(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(0===n.length)return t;const r={};for(let o=0;o<n.length;o++){const a=n[o].getAttribute("xlink:href");if(a){const n=t.querySelector(a),o=document.querySelector(a);n||!o||r[a]||(r[a]=await C(o,e,!0))}}const o=Object.values(r);if(o.length){const e="http://www.w3.org/1999/xhtml",n=document.createElementNS(e,"svg");n.setAttribute("xmlns",e),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(e,"defs");n.appendChild(r);for(let t=0;t<o.length;t++)r.appendChild(o[t]);t.appendChild(n)}return t}(t,e))):null}const v=/url\((['"]?)([^'"]+?)\1\)/g,$=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,T=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function D(t,e,n,r,o){try{const a=n?function(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),e&&(r.href=e),o.href=t,o.href}(e,n):e,i=y(e);let c;return o||(c=await x(a,i,r)),t.replace(function(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}(e),`$1${c}$3`)}catch(t){}return t}function P(t){return-1!==t.search(v)}async function L(t,e,n){if(!P(t))return t;const r=function(t,{preferredFontFormat:e}){return e?t.replace(T,(t=>{for(;;){const[n,,r]=$.exec(t)||[];if(!r)return"";if(r===e)return`src: ${n};`}})):t}(t,n),o=function(t){const e=[];return t.replace(v,((t,n,r)=>(e.push(r),t))),e.filter((t=>!b(t)))}(r);return o.reduce(((t,r)=>t.then((t=>D(t,r,e,n)))),Promise.resolve(r))}async function I(t,e,n){var r;const o=null===(r=e.style)||void 0===r?void 0:r.getPropertyValue(t);if(o){const r=await L(o,null,n);return e.style.setProperty(t,r,e.style.getPropertyPriority(t)),!0}return!1}async function k(t,e){h(t,Element)&&(await async function(t,e){await I("background",t,e)||await I("background-image",t,e),await I("mask",t,e)||await I("mask-image",t,e)}(t,e),await async function(t,e){const n=h(t,HTMLImageElement);if((!n||b(t.src))&&(!h(t,SVGImageElement)||b(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,o=await x(r,y(r),e);await new Promise(((e,r)=>{t.onload=e,t.onerror=r;const a=t;a.decode&&(a.decode=e),"lazy"===a.loading&&(a.loading="eager"),n?(t.srcset="",t.src=o):t.href.baseVal=o}))}(t,e),await async function(t,e){const n=i(t.childNodes).map((t=>k(t,e)));await Promise.all(n).then((()=>t))}(t,e))}const M={};async function U(t){let e=M[t];if(null!=e)return e;const n=await fetch(t);return e={url:t,cssText:await n.text()},M[t]=e,e}async function B(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let a=o.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,t.url).href),E(a,e.fetchRequestInit,(({result:t})=>(n=n.replace(o,`url(${t})`),[o,t])))}));return Promise.all(o).then((()=>n))}function O(t){if(null==t)return[];const e=[];let n=t.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const t=r.exec(n);if(null===t)break;e.push(t[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let t=o.exec(n);if(null===t){if(t=a.exec(n),null===t)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;e.push(t[0])}return e}async function H(t,e){if(null==t.ownerDocument)throw new Error("Provided element is not within a Document");const n=i(t.ownerDocument.styleSheets),r=await async function(t,e){const n=[],r=[];return t.forEach((n=>{if("cssRules"in n)try{i(n.cssRules||[]).forEach(((t,o)=>{if(t.type===CSSRule.IMPORT_RULE){let a=o+1;const i=U(t.href).then((t=>B(t,e))).then((t=>O(t).forEach((t=>{try{n.insertRule(t,t.startsWith("@import")?a+=1:n.cssRules.length)}catch(e){console.error("Error inserting rule from remote css",{rule:t,error:e})}})))).catch((t=>{console.error("Error loading remote css",t.toString())}));r.push(i)}}))}catch(o){const a=t.find((t=>null==t.href))||document.styleSheets[0];null!=n.href&&r.push(U(n.href).then((t=>B(t,e))).then((t=>O(t).forEach((t=>{a.insertRule(t,n.cssRules.length)})))).catch((t=>{console.error("Error loading remote stylesheet",t)}))),console.error("Error inlining remote css file",o)}})),Promise.all(r).then((()=>(t.forEach((t=>{if("cssRules"in t)try{i(t.cssRules||[]).forEach((t=>{n.push(t)}))}catch(e){console.error(`Error while reading CSS rules from ${t.href}`,e)}})),n)))}(n,e);return function(t){return t.filter((t=>t.type===CSSRule.FONT_FACE_RULE)).filter((t=>P(t.style.getPropertyValue("src"))))}(r)}async function V(t,e){const n=await H(t,e);return(await Promise.all(n.map((t=>{const n=t.parentStyleSheet?t.parentStyleSheet.href:null;return L(t.cssText,n,e)})))).join("\n")}async function j(t,e={}){const{width:n,height:r}=s(t,e),o=await C(t,e,!0);await async function(t,e){const n=null!=e.fontEmbedCSS?e.fontEmbedCSS:e.skipFonts?null:await V(t,e);if(n){const e=document.createElement("style"),r=document.createTextNode(n);e.appendChild(r),t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}}(o,e),await k(o,e),function(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;null!=r&&Object.keys(r).forEach((t=>{n[t]=r[t]}))}(o,e);return await d(o,n,r)}async function F(t,e={}){const{width:n,height:r}=s(t,e),o=await j(t,e),a=await u(o),i=document.createElement("canvas"),c=i.getContext("2d"),d=e.pixelRatio||function(){let t,e;try{e=process}catch(t){}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}(),h=e.canvasWidth||n,f=e.canvasHeight||r;return i.width=h*d,i.height=f*d,e.skipAutoScale||function(t){(t.width>l||t.height>l)&&(t.width>l&&t.height>l?t.width>t.height?(t.height*=l/t.width,t.width=l):(t.width*=l/t.height,t.height=l):t.width>l?(t.height*=l/t.width,t.width=l):(t.width*=l/t.height,t.height=l))}(i),i.style.width=`${h}`,i.style.height=`${f}`,e.backgroundColor&&(c.fillStyle=e.backgroundColor,c.fillRect(0,0,i.width,i.height)),c.drawImage(a,0,0,i.width,i.height),i}var q=Object.freeze({__proto__:null,getFontEmbedCSS:async function(t,e={}){return V(t,e)},toBlob:async function(t,e={}){const n=await F(t,e);return await function(t,e={}){return t.toBlob?new Promise((n=>{t.toBlob(n,e.type?e.type:"image/png",e.quality?e.quality:1)})):new Promise((n=>{const r=window.atob(t.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),o=r.length,a=new Uint8Array(o);for(let t=0;t<o;t+=1)a[t]=r.charCodeAt(t);n(new Blob([a],{type:e.type?e.type:"image/png"}))}))}(n)},toCanvas:F,toJpeg:async function(t,e={}){return(await F(t,e)).toDataURL("image/jpeg",e.quality||1)},toPixelData:async function(t,e={}){const{width:n,height:r}=s(t,e);return(await F(t,e)).getContext("2d").getImageData(0,0,n,r).data},toPng:async function(t,e={}){return(await F(t,e)).toDataURL()},toSvg:j});return{get B(){return e},b:({attributes:n,appearance:r=e.NEUTRAL,content:a,outline:i=!1})=>{const{html:c,createElement:s}=t.g(),l=c`<span class="font-semibold inline-block text-10 text-center ${a&&"min-h-[1rem] min-w-[0.5rem]"} px-2xs">${a}</span>`;let u="rounded-full inline-flex";return a||(u+=" h-xs w-xs"),i&&(u+=" border-md border-solid border-neutral-background"),s("span",{...n,className:`${[o[r]]} ${u} ${n?.className}`,rpl:!0},l)},get i(){return q}}}));
SML.dm("BhGFLJy3",["DN8NCGGW","DVMhF-xZ","ClGeIyf9","CElIDZoh"],(async(e,a,r,t)=>{var l,n,o;!function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(l||(l={})),function(e){e.Pill="pill",e.Square="square"}(n||(n={})),function(e){e.Pill="default",e.BottomBorder="bottom-border",e.Hug="hug",e.Fill="fill"}(o||(o={}));const s={sm:"py-[var(--rem6)] leading-5 text-14",md:"py-[var(--rem10)] leading-5 text-14",lg:"py-[var(--rem14)] leading-5 text-14"},d={sm:" ps-[var(--rem12)]",md:" ps-[var(--rem14)]",lg:" ps-[var(--rem14)]"},c={sm:" pe-[var(--rem12)]",md:" pe-[var(--rem12)]",lg:" pe-[var(--rem16)]"},i={sm:" pe-[var(--rem8)]",md:" pe-[var(--rem12)]",lg:" pe-[var(--rem16)]"},p={sm:" ps-[var(--rem12)]",md:" ps-[var(--rem16)]",lg:" ps-[var(--rem16)]"},m={sm:" pe-[var(--rem12)]",md:" pe-[var(--rem16)]",lg:" pe-[var(--rem16)]"},u=({leadingIcon:e,size:a,hasBadge:r,dropdown:t,appearance:l})=>{if(l===o.Fill||l===o.Hug)return;let n=" ";return n+=e?d[a]:p[a],n+=t?i[a]:r?c[a]:m[a],n},b="inline-flex flex-col text-secondary-plain-weak font-semibold relative";return{get T(){return o},a:({attributes:a,label:t,size:n=l.Medium,leadingIcon:d,hasBadge:c,badgeCount:i,dropdown:p,role:m="tab",selected:g,selectedTabBorderColor:v="bg-secondary-plain",hoverTabBorderColorClass:x="group-hover:block group-hover:bg-secondary-plain-weak",disabled:f,appearance:h=o.BottomBorder})=>{const{html:E,createElement:T}=e.g(),S={classes:"tab-bottom-border group",selected:"!text-neutral-content-strong tab-selected",badge:r.b({appearance:r.B.NEUTRAL,content:i})},$={[o.Pill]:{classes:"rounded-full",selected:"bg-secondary-background-selected !text-neutral-content-strong",badge:r.b({appearance:r.B.ALERT,content:i}),disabled:"text-neutral-content-disabled",interactive:"hover:no-underline hover:bg-secondary-background-hover hover:text-secondary-content active:bg-secondary-background"}},y=$[h]??S,I=null==a?.href?"button":"a",M=[b,y.classes,g?y.selected:null,f?"text-interactive-content-disabled":"hover:no-underline hover:text-secondary-plain",u({hasBadge:c,leadingIcon:d,dropdown:p,size:n,appearance:h}),h===o.Fill?"items-center grow":h===o.Hug?"grow-0":null,null==a?.href?"rounded-none bg-transparent p-0 border-none h-auto":null,h===o.Pill?f?$.disabled:y.interactive:null].filter((e=>null!==e)).join(" "),B=`${v} ${f?"":x}`,D=E` <span class="inline-flex"> <span class="inline-flex flex-row items-center gap-xs ${n===l.Small&&h===o.Fill?s[l.Medium]:s[n]}"> ${[d??"",t?E`<span>${t}</span>`:""]} </span> <span class="inline-flex flex-row items-center gap-xs"> ${[c?E`<span class="self-start mt-[-0.25rem]${i?"":" ms-[-.25rem]"}"> ${y.badge} </span>`:"",p?e.K({size:n===l.Small?e.I.Small:e.I.Medium}):""]} </span> </span> <span class="hidden group-[.tab-bottom-border.tab-selected]:block bottom-border-selected flex-grow h-[2px] -mt-[2px] pointer-events-none ${B} rounded-full absolute bottom-0 left-0 right-0"></span> `,L="boolean"==typeof g?`${g}`:void 0;let _;_="boolean"==typeof a?.["aria-selected"]?`${a["aria-selected"]}`:"true"===a?.["aria-selected"]||"false"===a?.["aria-selected"]?a["aria-selected"]:void 0;const R=a&&"role"in a,w=R&&void 0!==a.role||!R?L??_:void 0;return f?T("span",{...a,"aria-selected":w,className:M,rpl:!0},D):T(I,{...a,"aria-selected":w,className:M,role:R?a.role:m,rpl:!0,rplSelected:g},D)},get b(){return l},t:({attributes:l,appearance:n=o.Pill,label:s,size:d=a.$.Medium,selectedIcon:c,unselectedIcon:i,hasBadge:p,badgeCount:m,tabPanelID:u,dropdown:b,selected:g,role:v="tab"})=>{const{html:x}=e.g();let f="mt-[-0.125rem]";m||(f+=" ms-[-.25rem]");const h=[b||g||!i?"":i,!b&&g&&c?c:"",s?x`<span>${s}</span>`:"",p?x`<span class="${f}"> ${r.b({appearance:r.B.ALERT,content:m})} </span>`:""],E=b?h:x`<span class="inline-flex flex-col"> <span class="inline-flex flex-row items-center gap-xs"> ${h} </span> ${g&&n===o.BottomBorder?x` <span class="flex-grow ${d===a.$.Small||d===a.$.ExtraSmall?"h-[2px] -mt-[2px]":"h-2xs -mt-2xs"} pointer-events-none bg-primary rounded-full"></span>`:""} </span>`,T=[l?.className??"",n===o.BottomBorder?"rounded-none bg-transparent hover:bg-secondary-background-hover hover:text-secondary-content active:bg-secondary-background":""].join(" "),S={attributes:{"aria-selected":g?"true":"false","aria-controls":u,...l,className:T},children:E,size:d,appearance:"bottom-border"===n?"tab":void 0,shape:"bottom-border"===n?void 0:"pill",role:v};return x` ${b?t.w({...S,selectedIcon:c,unselectedIcon:i,selected:g}):a.gc({...S})} `}}}));
SML.dm("aDUjri7t",["DN8NCGGW","DVMhF-xZ","y7f18YYf","BhGFLJy3","CElIDZoh","BjHRrNrW","Ctv-Q76p","C4UOze37","C4DAbJqz","Di11LdlH","CU4mObWU","CHAmJBNV","BxuDB69O","L-pRUMpq","DiQwYZkp","ClGeIyf9"],(async(e,a,t,i,s)=>{const o={shift:"⇧",ctrl:"^",alt:"⌥",arrowup:"↑",arrowdown:"↓",arrowleft:"←",arrowright:"→",enter:"↵ Enter",meta:"⌘"," ":"Space"},r=[a.fM.NAVIGATION,a.fM.ACTION,a.fM.MEDIA];var n;!function(e){e.TOGGLE="shreddit-hotkeys-modal:toggle",e.OPENED="shreddit-hotkeys-modal:show"}(n||(n={}));let l=class extends e.s{constructor(){super(...arguments),this.activeTabIndex=1,this.registry=a.fD,this.disableShortcuts=!1,this.open=!1,this.modalRef=a.aF(),this.hotkeysMap={},this.hotkeysController=new a.d2(this),this.toggleDialog=()=>{this.dialog&&(this.dialog?.open?this.dialog.hide():this.dialog?.showModal())},this.transformNonModifierKey=e=>{const a=e.toLowerCase(),t=a in o?o[a]:e.toUpperCase();return this.getKeyMarkup(t)},this.getKeyMarkup=a=>e.x`${s.cb(e.x`<span class="bg-neutral-background-weak-hover px-2xs rounded-[0.125rem]">${a}</span>`)}`,this.useModifierBasedOnOS=()=>navigator.userAgent.includes("Mac")?o.meta:o.ctrl,this.transformModifierKey=a=>{const t=[],i=this.getKeyMarkup(a.key.toUpperCase());return a.ctrl&&t.push(o.ctrl),a.alt&&t.push(o.alt),a.shift&&t.push(o.shift),a.meta&&t.push(this.useModifierBasedOnOS()),t?e.x`${this.getKeyMarkup(t.join(" + "))} + ${i}`:i},this.transformKey=e=>"string"==typeof e?this.transformNonModifierKey(e):this.transformModifierKey(e),this.renderHotkey=a=>{const t=[];for(let i=0;i<a.length;i++)i>0&&t.push(e.x`<span>${"OR"}</span>`),t.push(this.transformKey(a[i]));return e.x`<span class="flex gap-2xs">${t}</span>`},this.createKeyMap=()=>{if(this.registry){this.hotkeysMap={};for(const[e,a]of Object.entries(this.registry)){const{type:t}=a,i={...a,icon:this.renderHotkey(a.keys),id:e};this.hotkeysMap[t]?this.hotkeysMap[t].push(i):this.hotkeysMap[t]=[i]}}},this.createHotkeyCategoryTab=e=>{const t=e===a.fM.NAVIGATION?"page-1":e===a.fM.ACTION?"page-2":"page-3";return i.a({label:a.fN[e](),size:i.b.Medium,attributes:{slot:t,onclick:()=>{this.activeTabIndex=parseInt(t.replace(/[a-zA-Z-]/g,""))},"data-test-id":e}});},this.createHotKeyListItem=e=>t.l({label:e.label(),trailingSlot:e.icon,disabled:this.disableShortcuts,attributes:{"data-test-id":e.id},innerClassName_DO_NOT_USE:"!px-0"}),this.dispatchHotkeyToggle=e=>{const t=e.target,{checked:i}=t;this.dispatchEvent(new CustomEvent(n.TOGGLE,{composed:!0,bubbles:!0,detail:{checked:i,target:t}})),a.a(this,a.b({source:"settings",action:"save",noun:"hotkey"},{setting:{old_value:this.convertToOnOff(!t.checked),value:this.convertToOnOff(t.checked)}})),this.disableShortcuts=!i},this.convertToOnOff=e=>e?"on":"off"}get dialog(){return this.shadowRoot?.querySelector('[dialog-id="hotkeys-dialog"]')}connectedCallback(){super.connectedCallback(),this.createKeyMap(),this.hotkeysController.subscribe(a.d5.SHOW_SHORTCUTS,this.toggleDialog)}disconnectedCallback(){super.disconnectedCallback(),this.hotkeysController.unsubscribe(a.d5.SHOW_SHORTCUTS,this.toggleDialog)}willUpdate(e){e.has("registry")&&this.createKeyMap()}render(){const i=!this.disableShortcuts,s=e.x` <ac-track trigger="view" san="settings|click|hotkey_help"></ac-track> <rpl-modal-card auto-close class="min-w-[288px] max-w-[640px]"> <h2 slot="title"> ${"Keyboard shortcuts"} </h2> ${a.n({appearance:"secondary",attributes:{slot:"close-button","aria-label":"Close dialog"},leadingIcon:e.m({size:e.I.Small}),size:a.$.Small})} <div> <div> <p> ${"Boost your efficiency with keyboard shortcuts! Get into the conversation faster without reaching for your mouse. Below is a complete list of available shortcuts, organized by category."} </p> <faceplate-tabgroup pages="${Object.keys(a.fM).length}"> ${[this.createHotkeyCategoryTab(a.fM.NAVIGATION),this.createHotkeyCategoryTab(a.fM.ACTION),this.createHotkeyCategoryTab(a.fM.MEDIA)]} </faceplate-tabgroup> <faceplate-tabpanel pages="${Object.keys(a.fM).length}" pageindex="${this.activeTabIndex}" style="opacity:${this.disableShortcuts?".60":"1"}"> ${r.map(((a,t)=>e.x`<ul slot="page-${t+1}" class="p-0 m-0"> ${this.hotkeysMap[a]?.map((e=>this.createHotKeyListItem(e)))} </ul>`))} </faceplate-tabpanel> </div> <hr> ${t.l({label:"Enable shortcuts",innerClassName_DO_NOT_USE:"!px-0",attributes:{"data-test-id":"toggles",id:"enable-shortcuts-item"},trailingSlot:e.x`<faceplate-switch-input ?checked="${i}" @input="${this.dispatchHotkeyToggle}" aria-labelledby="enable-shortcuts-item"> </faceplate-switch-input>`})} </div> <ac-track trigger="view" san="settings|click|hotkey_help"></ac-track> </rpl-modal-card>`;return e.x`<rpl-dialog-sheet ${a.at(this.modalRef)} dialog-id="hotkeys-dialog" ?open="${this.open}" .litTemplateChildren="${s}"></rpl-dialog-sheet>`}};return l.styles=[a.t],e._([e.b()],l.prototype,"activeTabIndex",void 0),e._([e.n({type:Object})],l.prototype,"registry",void 0),e._([e.n({type:Boolean,attribute:"disable-shortcuts"})],l.prototype,"disableShortcuts",void 0),e._([e.n({type:Boolean})],l.prototype,"open",void 0),e._([e.n({type:Object})],l.prototype,"modalRef",void 0),l=e._([e.c("shreddit-hotkeys-modal")],l),{get S(){return n}}}));
SML.dm("CkGR6Qqc",["DN8NCGGW","DVMhF-xZ","aDUjri7t","BjHRrNrW","CElIDZoh","Di11LdlH","CU4mObWU","Ctv-Q76p","C4UOze37","CHAmJBNV","C4DAbJqz","BxuDB69O","L-pRUMpq","DiQwYZkp","y7f18YYf","BhGFLJy3","ClGeIyf9"],(async(e,a,t)=>{let i=a.r,s=a.f,r=class extends e.s{constructor(){super(...arguments),this.registry=a.fD,this.pubsub=new a.P(this),this.compareModifiers=(e,a)=>!!e==!!a,this.hasMatchingModifiers=(e,a)=>{if(!a)return!1;const{metaKey:t,altKey:i,shiftKey:s,ctrlKey:r}=e,{meta:n,alt:o,ctrl:l,shift:E}=a,m=!(navigator.userAgent.includes("Mac")||!n||l||!r);return(this.compareModifiers(t,n)||m)&&(this.compareModifiers(r,l)||m)&&this.compareModifiers(s,E)&&this.compareModifiers(i,o)},this.getContextualSubscriber=(e,t,i)=>{const s=e.composedPath();return Array.from(i).find((i=>this.hasMatchingModifiers(e,a.fE.keys[t]?.[i])&&void 0===a.fF[i]&&s?.find((e=>a.fG.has(e)))))},this.getGlobalSubscriber=(e,t,i)=>Array.from(i).find((i=>this.hasMatchingModifiers(e,a.fE.keys[t]?.[i]))),this.publishHotkeyEvent=async e=>{const t=e.key.toLowerCase(),i=a.fE.keys[t],r=this.getContextualSubscriber(e,t,a.fH),n=this.getGlobalSubscriber(e,t,a.fI),o=r??n;if(i&&(this.enabled||"?"===t)&&(o&&i[o].allowFromInput||!e.composedPath().find((e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement||e instanceof HTMLElement&&e.hasAttribute("contenteditable"))))){if(i[a.d5.SHOW_SHORTCUTS]&&(await s({name:a.fJ,bodyParams:{enabled:encodeURIComponent(!!this.enabled),open:"true"}})),r)return this.pubsub.publish(a.T.Hotkeys,{id:r}),void this.cancelEvent(e);n&&(this.pubsub.publish(a.T.Hotkeys,{id:n}),this.cancelEvent(e))}},this.cancelEvent=e=>{e.preventDefault(),e.stopImmediatePropagation()},this.onHotkeysToggle=async e=>{const{detail:{checked:t,target:s}}=e;try{const e=await i({operation:a.O.UpdateAccountPreferences,variables:{input:{isHotkeysEnabled:t}}});if(this.enabled=t,e.errors.length>0)throw new Error("Could not save setting")}catch{s.checked=!t;const e=a.c("faceplate-alert",{level:a.a5.error,cause:"uncategorized",message:"We had some issues saving your changes. Please try again."});this.dispatchEvent(e)}}}connectedCallback(){super.connectedCallback(),document.addEventListener("keydown",this.publishHotkeyEvent),document.addEventListener(t.S.TOGGLE,this.onHotkeysToggle)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("keydown",this.publishHotkeyEvent),document.removeEventListener(t.S.TOGGLE,this.onHotkeysToggle)}willUpdate(e){e.has("enabled")&&this.enabled&&!Object.keys(a.fE.keys).length?a.fK(this.registry):e.has("registry")&&(a.fL(),a.fK(this.registry))}};e._([e.n({type:Object})],r.prototype,"registry",void 0),e._([e.n({type:Boolean})],r.prototype,"enabled",void 0),r=e._([e.c("shreddit-hotkeys-controller")],r)}));
SML.dm("C2LoZSmI",["DN8NCGGW","CElIDZoh","DVMhF-xZ","1Du_uHMj","clCAey41","Cjj0UdGq","CkGR6Qqc","aDUjri7t","BjHRrNrW","Di11LdlH","CU4mObWU","Ctv-Q76p","C4UOze37","CHAmJBNV","C4DAbJqz","BxuDB69O","L-pRUMpq","DiQwYZkp","y7f18YYf","BhGFLJy3","ClGeIyf9"],(async(e,t,s,o,r)=>{const i="virtualized-placeholder";class l{constructor(e){this.topPadding=0,this.topStack=[],this.updatesSinceConnect=0,(this.host=e).addController(this)}hostConnected(){this.updatesSinceConnect=0}hostDisconnected(){}async update(){if(await this.host.updateComplete,this.updatesSinceConnect++,this.updatesSinceConnect<3)return;const{top:e}=this.host.getBoundingClientRect(),t=-1*(e+this.topPadding+window.innerHeight);this._virtualizeTop(t)}virtualizeTopElements(e){let t=e;const s=[];let o=this.host.querySelector(`:not(.${i})`);for(;o;){const{height:e}=o.getBoundingClientRect();if(t-=e,t<0)break;const r=n(e);s.push({node:o,placeholder:r,height:e}),o=o.nextElementSibling}s.forEach((e=>{const{node:t,placeholder:s,height:o}=e;this.topPadding+=o,this.host.replaceChild(s,t),this.topStack.push(e)}))}devirtualizeTopElements(e){let t=e,s=0;const o=[];for(;t<0&&this.topStack.length>0;){const e=this.topStack.pop();if(!e)break;const{height:r}=e;t+=r,s-=r,o.push(e)}this.topPadding+=s,o.forEach((e=>{const{node:t,placeholder:s}=e;this.host.replaceChild(t,s)}))}_virtualizeTop(e){e>1e3?this.virtualizeTopElements(e):e<0&&this.devirtualizeTopElements(e)}}function n(e){const t=document.createElement("div");return t.classList.add(i),t.style.height=`${e}px`,t}class a{constructor(e){this.initializeHotkeys=()=>{"enabled"===s.d4("shreddit_hotkeys_m1")&&(this.subscriberController?.subscribe(s.d5.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.subscribe(s.d5.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.subscribe(s.d5.UPVOTE,this.upvote),this.subscriberController?.subscribe(s.d5.DOWNVOTE,this.downvote),this.subscriberController?.subscribe(s.d5.TOGGLE_EXPANDO,this.toggleExpando),this.subscriberController?.subscribe(s.d5.COPY_POST_OR_COMMENT_LINK,this.copyPostLink),this.subscriberController?.subscribe(s.d5.HIDE_POST,this.hidePost),this.subscriberController?.subscribe(s.d5.TOGGLE_SAVE,this.toggleSave))},this.cleanupHotkeys=()=>{"enabled"===s.d4("shreddit_hotkeys_m1")&&(this.subscriberController?.unsubscribe(s.d5.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.unsubscribe(s.d5.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.unsubscribe(s.d5.UPVOTE,this.upvote),this.subscriberController?.unsubscribe(s.d5.DOWNVOTE,this.downvote),this.subscriberController?.unsubscribe(s.d5.TOGGLE_EXPANDO,this.toggleExpando),this.subscriberController?.unsubscribe(s.d5.COPY_POST_OR_COMMENT_LINK,this.copyPostLink),this.subscriberController?.unsubscribe(s.d5.HIDE_POST,this.hidePost),this.subscriberController?.unsubscribe(s.d5.TOGGLE_SAVE,this.toggleSave))},this.findShredditPost=e=>["shreddit-post","shreddit-ad-post","shreddit-profile-comment"].includes(e?.tagName.toLowerCase()??"")?e:e?.querySelector("shreddit-post, shreddit-ad-post, shreddit-profile-comment"),this.customHotkeyPostTraversal=(e,t)=>{if(!t)return;const s="faceplate-batch"===t.nextElementSibling?.tagName.toLowerCase(),o="faceplate-batch"===t.previousElementSibling?.tagName.toLowerCase();if(s||o)return e===r.P.NEXT?t.nextElementSibling?.firstElementChild:t.previousElementSibling?.lastElementChild;if("faceplate-batch"===t.parentElement?.tagName.toLowerCase()){if(e===r.P.NEXT&&!t.nextElementSibling)return t.parentElement.nextElementSibling;if(e===r.P.PREV&&!t.previousElementSibling)return t.parentElement.previousElementSibling}},this.nextPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(r.P.NEXT),this.host.trackEvent(s.b({source:"post",action:"next",noun:"post"}))},this.prevPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(r.P.PREV),this.host.trackEvent(s.b({source:"post",action:"previous",noun:"post"}))},this.upvote=()=>{this.useVotingMethodsFromChildren("upvote")},this.downvote=()=>{this.useVotingMethodsFromChildren("downvote")},this.toggleExpando=()=>{this.postOrCommentTraversalController?.isCurrentPost&&this.postOrCommentTraversalController.current?.hotkeyController?.onToggleExpando()},this.copyPostLink=()=>{this.postOrCommentTraversalController?.isCurrentPost&&this.postOrCommentTraversalController?.current?.hotkeyController?.onCopyLink()},this.hidePost=()=>{this.postOrCommentTraversalController?.isCurrentPost&&this.postOrCommentTraversalController?.current?.hotkeyController?.onToggleHide()},this.toggleSave=()=>{if(this.postOrCommentTraversalController?.isCurrentPost)this.postOrCommentTraversalController?.current?.hotkeyController?.onToggleSave();else{const e=this.postOrCommentTraversalController?.current?.overlowMenuItemProps?.find((e=>"save"===e.id));e?.onClick?.()}},this.useVotingMethodsFromChildren=async e=>{const t=void 0;let s;s=this.postOrCommentTraversalController?.isCurrentPost?this.postOrCommentTraversalController?.current:this.postOrCommentTraversalController?.current?.querySelector("shreddit-comment-action-row"),s&&(s.interactionFromHotkey=!0,"upvote"===e?await s.handleUpvote(t):await s.handleDownvote(t),s.interactionFromHotkey=!1)},this.host=e,e.addController(this)}hostConnected(){this.subscriberController=new s.d2(this.host),this.postOrCommentTraversalController=new r.a(this.host,{type:r.b.FEED,customPostOrCommentDetection:this.findShredditPost,getFirstElement:()=>this.host.firstElementChild,customTraversal:this.customHotkeyPostTraversal}),this.initializeHotkeys()}hostDisconnected(){this.cleanupHotkeys()}}const h=s.e(e.s);let d=class extends h{static get styles(){return[s.t,e.i`:host{display:flex;flex-direction:column}`]}get loadAfterController(){return this._loadAfterController}constructor(){super(),this.navigationSessionId="",this.loadBeforeController=new t.I(this),this._loadAfterController=null,this.isFeedTranslatable=!1,this.isTranslationsEligible=!1,this.omitLoadAfter=!1,this.refreshPillDismissThreshold=1200,this.showRefreshPill=!1,this.refreshPillRef=s.aF(),this.virtualization=new l(this),this.handleVirtualization=t.x((()=>{this.virtualization?.update()}),200,!0),this.onDocumentScroll=()=>{this.handleVirtualization(),this.updateRefreshPillStyle()},this.updateRefreshPillStyle=()=>{const e=this.refreshPillRef.value;e&&this.refreshPillDismissThreshold&&!isNaN(this.scrollPositionAtRefreshShow??NaN)&&window.scrollY-this.scrollPositionAtRefreshShow>this.refreshPillDismissThreshold&&(e.classList.add("opacity-0"),e.classList.remove("opacity-100"),setTimeout((()=>{this.showRefreshPill=!1,this.scrollPositionAtRefreshShow=void 0}),1e3))},this.reloadFeed=(e={})=>{window.scrollBy({top:this.getBoundingClientRect().top-56,behavior:"instant"}),this.dispatchEvent(new CustomEvent(t.aN,{detail:{queryParameters:e}}))},this.trackRefresh=(e,t)=>{this.trackEvent(s.b({source:"feed",action:"refresh",noun:"feed"},{timer:{millis:1e3*e,type:s.cw.Background},action_info:{type:t}}))},this.handleVisibilityChange=e=>{e?this.backgroundedAtTime&&(this.backgroundTimeElapsedInSeconds=(Date.now()-this.backgroundedAtTime)/1e3,this.backgroundedAtTime=void 0,this.backgroundAutoRefreshTimeThreshold&&!isNaN(this.backgroundAutoRefreshTimeThreshold)&&this.backgroundTimeElapsedInSeconds>=this.backgroundAutoRefreshTimeThreshold?(this.reloadFeed({refresh:o.B.AUTOMATIC}),this.showRefreshPill=!1,this.trackRefresh(this.backgroundTimeElapsedInSeconds,"automatic_refresh")):this.backgroundManualRefreshTimeThreshold&&!isNaN(this.backgroundManualRefreshTimeThreshold)&&this.backgroundTimeElapsedInSeconds>=this.backgroundManualRefreshTimeThreshold&&(this.showRefreshPill=!0,this.scrollPositionAtRefreshShow=window.scrollY)):(this.backgroundedAtTime=Date.now(),this.backgroundTimeElapsedInSeconds=void 0)},this.reloadController=new t.aO(this,{mode:s.g.Contents,containerSelector:"body"}),"enabled"===s.d4("shreddit_hotkeys_m1")&&(this.hotkeyController=new a(this))}async connectedCallback(){super.connectedCallback(),this.omitLoadAfter||(this._loadAfterController=new t.I(this,{rootMargin:2*window.innerHeight+"px"})),document.addEventListener("scroll",this.onDocumentScroll),this.reloadUrl&&(this.reloadController.reloadUrl=this.reloadUrl),"scrollRestoration"in history&&(history.scrollRestoration="manual"),s.ap(this.handleVisibilityChange)}updated(e){this.hasUpdated&&e.has("reloadUrl")&&this.reloadUrl&&(this.reloadController.reloadUrl=this.reloadUrl)}handleAfterSlotChange(e){this.loadAfterController?.handleSlotChange(e)}async disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("scroll",this.onDocumentScroll),s.aq(this.handleVisibilityChange)}render(){return this.reloadController.isLoading?e.x`<shreddit-loading></shreddit-loading>`:e.x`<faceplate-screen-reader-content> <h1>${"Feed"}</h1> </faceplate-screen-reader-content> ${this.showRefreshPill?e.x`<div ${s.at(this.refreshPillRef)} class="sticky h-0 top-[56px] self-center z-10 transition-opacity ease-in-out opacity-100 duration-1000"> ${s.n({appearance:"primary",size:s.$.Small,children:e.x`✨ ${"New Posts"}`,trailingIcon:e.ct({size:e.I.ExtraSmall,attributes:{className:"ml-xs"}}),attributes:{className:"!px-md mt-xs xs:mt-md shadow-sm",onclick:()=>{this.reloadFeed({refresh:o.B.MANUAL}),this.showRefreshPill=!1,this.trackRefresh(this.backgroundTimeElapsedInSeconds??0,"refresh_pill")}}})} </div>`:e.A} <slot @slotchange="${this.loadBeforeController?.handleSlotChange}" name="load-before"></slot> <slot></slot> <slot @slotchange="${this.handleAfterSlotChange}" name="load-after"></slot>`;}};e._([e.n({type:String,attribute:"navigation-session-id"})],d.prototype,"navigationSessionId",void 0),e._([e.n({type:Boolean,attribute:"is-feed-translatable"})],d.prototype,"isFeedTranslatable",void 0),e._([e.n({type:Boolean,attribute:"is-translations-eligible"})],d.prototype,"isTranslationsEligible",void 0),e._([e.n({type:String,attribute:"reload-url"})],d.prototype,"reloadUrl",void 0),e._([e.n({type:Boolean,attribute:"omit-load-after"})],d.prototype,"omitLoadAfter",void 0),e._([e.n({type:Number,attribute:"bg-auto-refresh-time-threshold"})],d.prototype,"backgroundAutoRefreshTimeThreshold",void 0),e._([e.n({type:Number,attribute:"bg-manual-refresh-time-threshold"})],d.prototype,"backgroundManualRefreshTimeThreshold",void 0),e._([e.n({type:Number,attribute:"refresh-pill-dismiss-threshold"})],d.prototype,"refreshPillDismissThreshold",void 0),e._([e.b()],d.prototype,"showRefreshPill",void 0),d=e._([e.c("shreddit-feed")],d)}));
SML.dm("ClAm2h_T",["DN8NCGGW","DVMhF-xZ","CElIDZoh"],(async(t,e,o)=>{let i=class extends t.s{constructor(){super(...arguments),this.country="",this.cookieDomain="",this._events=new e.E(this),this._onLayoutViewChange=this._events.define("layout-view-change",(t=>{const{selected:i}=t.detail;e.J({country:this.country,name:e.fY,value:o.cl(i)?"true":"false",options:{...e.K,domain:this.cookieDomain||void 0}})}))}static get styles(){return t.i`:host{display:flex;align-items:center}`}render(){return t.x` <slot></slot>`}};t._([t.n({type:String})],i.prototype,"country",void 0),t._([t.n({type:String,attribute:"cookie-domain"})],i.prototype,"cookieDomain",void 0),i=t._([t.c("shreddit-layout-event-setter")],i)}));

SML.dm("DwsEu536",["DVMhF-xZ"],(async o=>{var n;!function(o){o.Comment="t1",o.Profile="t2",o.Post="t3",o.Message="t4",o.Subreddit="t5",o.Trophy="t6"}(n||(n={}));const e=o=>{const e=o.split("_").shift();return Object.values(n).includes(e)?e:void 0},r=o=>e(o)===n.Comment,t=o=>e(o)===n.Post,i="new_awards";function a({thingId:o,awardId:n,groupId:e,subredditId:i,postId:a,pageType:c,paneName:s,position:d,recipientId:u,isAnonymous:_,hasMessage:m,awardPrice:p,topAwardIconUrl:l,animatedAwardIconUrls:w,reason:b,correlationId:f,postType:g,postScore:I,score:h,numberComments:v,referrerCorrelationId:y}){const k={new_award:{}};return n&&(k.new_award.id=n),e&&(k.new_award.group_id=e),u&&(k.new_award.recipient_id=u),null!=_&&(k.new_award.is_anonymous=_),null!=m&&(k.new_award.has_message=m),void 0!==p&&(k.new_award.listing_price=p),l&&(k.new_award.top_award_icon_url=l),w&&(k.new_award.animated_awards_ids=w),i&&(k.subreddit={id:i}),o&&(t(o)?k.post={id:o,type:g,score:h,number_comments:v}:r(o)&&(k.comment={id:o,score:h},a&&(k.post={id:a,type:g,score:I,number_comments:v}))),(c||s||d||b)&&(k.action_info={...c&&{page_type:c},...s&&{pane_name:s},...d&&{position:d},...b&&{reason:b}}),f&&(k.correlation_id=f),y&&(k.feed={referrer_correlation_id:y}),k}return{N:i,get T(){return n},a:r,b:o=>/^award_.+\|t\d_.+$/.test(o),c:function(n){return o.b({source:i,action:"view",noun:"leaderboard_tile"},a(n))},d:function(n){return o.b({source:i,action:"view",noun:"award_info"},a(n))},e:function(n){return o.b({source:i,action:"click",noun:"overflow_menu"},a(n))},f:function(n){return o.b({source:i,action:"view",noun:"leaderboard"},a(n))},g:function(n){return o.b({source:i,action:"view",noun:"gold_info"},a(n))},h:function(n){return o.b({source:i,action:"filter",noun:"leaderboard"},a(n))},i:t,j:a,k:(n,e)=>o.b({source:"moderator",action:"highlight",noun:"post"},{post:{id:n},...e?{action_info:{page_type:e}}:{}}),l:function(n,e){return o.b({source:i,action:"click",noun:`leaderboard_${e}`},a(n))},m:function(n){return o.b({source:i,action:o.ae.Click,noun:"confirm_award_option"},a(n))},n:function(n){return o.b({source:i,action:o.ae.View,noun:"award_options_sheet"},a(n))},o:function(n){const e=o.hh();return o.b({source:i,action:"click",noun:"entry_point"},a({...n,pageType:o.B(),...e&&{referrerCorrelationId:e}}))},p:e,q:(n,e,r)=>o.b({source:"removal_reasons",action:"click",noun:"submit"},{mod_action:{removalreason:n},action_info:{reason:e},subreddit:{id:r?.subredditId},post:{id:r?.postId??""},comment:{id:r?.commentId}}),r:n=>{const{authorId:e,subredditId:i,postId:a,commentId:c,subredditName:s,thingId:d,action:u,noun:_="removal_reasons_flow",type:m,reason:p,isLocked:l,sendAs:w,notificationMethod:b}=n;return o.b({source:"moderator",action:u,noun:_},{user:{id:e},subreddit:{id:i,name:s},post:{id:a??""},comment:{id:c},action_info:{source_name:"removal_reasons",type:m,reason:p},mod_action:{removalreason:{is_locked:l,send_as:w,notify:b}},...d&&t(d)&&{post:{id:d}},...d&&r(d)&&{comment:{id:d}}})},s:function(n){return o.b({source:i,action:o.ae.Click,noun:"award_option"},a(n))},t:()=>o.b({source:"removal_reasons",action:"click",noun:"cancel"}),u:(n,e)=>o.b({source:"moderator",action:"unhighlight",noun:"post"},{post:{id:n},...e?{action_info:{page_type:e}}:{}}),v:function(n,{isSuccessful:e}){const r=e?"completed_fe":"failed_fe";return o.b({source:i,action:"award_given",noun:r},a(n))},w:()=>o.b({source:"post",action:"click",noun:"ignore_reports"}),x:()=>o.b({source:"post",action:"click",noun:"restore_reports"}),y:()=>o.b({source:"comment",action:"click",noun:"ignore_reports"}),z:()=>o.b({source:"comment",action:"click",noun:"restore_reports"})}}));
SML.dm("ChYc5yrF",["DN8NCGGW"],(async e=>{const t=["input","a","faceplate-checkbox-input","faceplate-radio-input","faceplate-switch-input "],s=({collection:e,activeIndex:s})=>{let o=0;for(const i of e){i.tabIndex=o===s?0:-1;for(const e of Array.from(i.children)){const i=e.querySelector(t.join(","));i&&i instanceof HTMLElement&&(i.tabIndex=o===s?0:-1)}o++}};let o=class extends e.s{constructor(){super(...arguments),this.disableAutoFocus=!1,this.ariarole="menu",this.activeIndex=0,this.firstUpdated=()=>{this.prevFocusedElement=document.activeElement,this.hasAttribute("hidden")?this.toggleItemsTabbable(!1):this.openMenu()},this.toggleItemsTabbable=(e=!0,{overrideActiveIndex:t}={})=>{s({collection:this.getFocusableListItems(),activeIndex:t??(e?0:-1)})},this.openMenu=async()=>{const e=this.getFocusableListItems().findIndex((e=>"true"===e.getAttribute("aria-selected")));this.toggleItemsTabbable(!0,{overrideActiveIndex:-1===e?void 0:e}),this.disableAutoFocus||(e>=0&&e!==this.activeIndex&&(this.activeIndex=e),this.getFocusableListItems()[this.activeIndex]?.focus())},this.closeMenu=()=>{this.toggleItemsTabbable(!1)},this.setFocus=e=>{this.getFocusableListItems()[e]?.focus(),this.activeIndex=e},this.onFocusNext=()=>{const e=this.activeIndex===this.getFocusableListItems().length-1?0:this.activeIndex+1;s({collection:this.getFocusableListItems(),activeIndex:e}),this.setFocus(e)},this.onFocusPrev=()=>{const e=0===this.activeIndex?this.getFocusableListItems().length-1:this.activeIndex-1;s({collection:this.getFocusableListItems(),activeIndex:e}),this.setFocus(e)},this.onKeyDown=e=>{switch(e.key){case"Escape":this.prevFocusedElement.focus(),this.onclose&&this.onclose(e);break;case"ArrowDown":case"ArrowRight":this.onFocusNext(),e.preventDefault();break;case"ArrowUp":case"ArrowLeft":this.onFocusPrev(),e.preventDefault()}}}static get styles(){return e.i`:host{background-color:var(--color-neutral-background-strong)}ul{padding:var(--spacing-sm) 0;margin:0}`}getFocusableListItems(){const e="li:not([list-item-group]):not([list-item-header])",t=this.shadowRoot.querySelector("slot"),s=[];for(const o of t.assignedElements({flatten:!0}))o?.matches(e)&&s.push(o),s.push(...Array.from(o.querySelectorAll(e)));return s.map((e=>e.firstElementChild))}render(){return e.x` <ul role="${this.ariarole}" @keydown="${this.onKeyDown}"> <slot></slot> </ul> `}};e._([e.n({type:Boolean,attribute:"disable-auto-focus"})],o.prototype,"disableAutoFocus",void 0),e._([e.n({type:String})],o.prototype,"ariarole",void 0),e._([e.b()],o.prototype,"activeIndex",void 0),o=e._([e.c("faceplate-menu")],o);const i=e.e(class extends e.a{constructor(){super(...arguments),this.key=e.A}render(e,t){return this.key=e,t}update(t,[s,o]){return s!==this.key&&(e.bf(t),this.key=s),o}});return{get F(){return o},i}}));
SML.dm("CYBj3-X8",["DN8NCGGW","DVMhF-xZ","DiQwYZkp"],(async(t,e,i)=>{function n(t){if(i.d(t)&&(t.checked=t.hasAttribute("checked")),i.e(t))t.formResetCallback&&t.formResetCallback();else if(t instanceof HTMLInputElement)t.value=t.getAttribute("value")||"";else if(t instanceof HTMLTextAreaElement)t.value=t.textContent||"";else if(i.f(t))for(const e of t.options)e.selected=e.hasAttribute("selected");else t instanceof HTMLOutputElement&&(t.value=t.defaultValue)}function s(t){const i={};for(const n of t){const[t,s]=n;if(s instanceof File)throw e.dR(t);Object.prototype.hasOwnProperty.call(i,t)?Array.isArray(i[t])?i[t].push(s):i[t]=[i[t],s]:i[t]=s}return i}const a=(t,e=0)=>{if(6!==e)return t instanceof HTMLInputElement||t instanceof HTMLButtonElement?t:t?a(t.parentElement,e+1):void 0};function o(t){let i;document.activeElement&&document.activeElement!==document.body&&(i=e.dS(document.activeElement)),!i&&t&&t.target instanceof Element&&(i=function(t){var e;for(const i of null!==(e=t.composedPath())&&void 0!==e?e:[])if((i instanceof HTMLInputElement||i instanceof HTMLButtonElement)&&"submit"===i.type)return i}(t));const n=i instanceof HTMLButtonElement||i instanceof HTMLInputElement;if(i&&t&&!n&&(i=a(i.parentElement)),i)return(i instanceof HTMLInputElement||i instanceof HTMLButtonElement)&&"submit"===i.type?i:void 0}function r(t){return t instanceof HTMLElement&&Object.prototype.hasOwnProperty.call(t.dataset,"faceplateConstraint")}function l(t,i,n){return e.c("faceplate-alert",{level:e.a5.error,message:e.dW("Form submission failed"),meta:null==t?void 0:t.toString(),sourceElement:i,cause:n})}const c={[e.bA.UrlEncoded]:e.dT,[e.bA.JSON]:function(t){return JSON.stringify(s(t))},[e.bA.FormData]:t=>t};let d=class extends t.s{constructor(){super(...arguments),this.accept="text/vnd.reddit.partial+html, application/json",this.enctype=e.bA.UrlEncoded,this.action="",this.disabled=!1,this.method=e.b2.Post,this.target="",this.partialMode=e.g.Append,this.novalidate=!1,this.validationTrigger="focusout",this._events=new e.E(this),this.formSubmissionInProgress=!1,this.rulesDidChange=!1,this.focusedInputForValiditySinceLastSubmit=!1,this._shouldRebuildElements=!0,this._elements={},this._validationObserverCount=0,this._asyncInputOperations=0,this.requester=e.dU,this.encoders=c,this._handleInput=this._events.define("input",(()=>{this._shouldRebuildElements=!0})),this._handleFormSubmit=this._events.define("submit",(t=>{const e=t.target;if(!(e&&e instanceof HTMLFormElement))return;t.preventDefault();const i=o(t);this.submit(e.action,void 0,i)})),this._handleClick=this._events.define("click",(t=>{const e=o(t);e&&(t.preventDefault(),this.submit(this.action,void 0,e))})),this._handleFocusIn=this._events.define("focusin",(t=>{if(i.g(t.target)&&r(t.target))if(this.formSubmissionInProgress){const e=this;t.target.addEventListener("input",(function t(i){var n;e.validateElementAgainstRules(i.target)&&(null===(n=i.target)||void 0===n||n.removeEventListener("input",t))}))}else t.target.setCustomValidity("")})),this.configureValidation=()=>this.addEventListener(this.validationTrigger,(t=>{i.g(t.target)&&(r(t.target)&&this.validateElementAgainstRules(t.target),i.F in t.target.constructor&&t.target.syncInputValidity(),this.notifyObservers(t.target))})),this._handleFaceplateAlert=this._events.define("faceplate-alert",(t=>{const{level:i,name:n,message:s}=t.detail;i===e.a5.error&&n&&s&&this.invalidateFieldWithMessage(n,s)&&(t.target.remove(),t.stopPropagation())})),this.register=t=>{this.dispatchEvent(new CustomEvent("_faceplate-register-input",{detail:{target:t}}))},this._handleRegister=this._events.define("_faceplate-register-input",(t=>{var e;t.stopImmediatePropagation(),t.detail.register&&(null===(e=t.detail)||void 0===e||e.register(this)),this._shouldRebuildElements=!0;const{target:i}=t.detail;i.syncInputValidity(!1),this.notifyObservers(i)}))}updated(t){t.has("validationTrigger")&&(t.get("validationTrigger")&&this.removeEventListener(t.get("validationTrigger"),this.configureValidation),this.configureValidation())}get canSubmit(){return!(this.disabled||this.formSubmissionInProgress||this._asyncInputOperations>0)}get elements(){if(this._shouldRebuildElements){this._elements={};for(const t of this.recognizedInputs()){const{name:e}=t;if(e)if(e in this._elements){const n=this._elements[e];let s;Array.isArray(n)?(s=n,n.push(t)):(s=[n,t],s.value=i.h(n)&&n.checked?n.value:"",this._elements[e]=s),i.h(t)&&t.checked&&(s.value=t.value)}else this._elements[t.name]=t}this._shouldRebuildElements=!1}return this._elements}static get styles(){return t.i`:host{display:block;margin-bottom:1rem}`}render(){return t.x` <slot></slot> `}addEventListener(t,e,i){super.addEventListener(t,e,i),"_faceplate-validation-change"===t&&(this._validationObserverCount+=1)}removeEventListener(t,e,i){super.removeEventListener(t,e,i),"_faceplate-validation-change"===t&&(this._validationObserverCount-=1)}async disableUntil(t){this._asyncInputOperations+=1;try{await t}finally{this._asyncInputOperations-=1}}notifyObservers(t){if(this._validationObserverCount){const i=e.dV("_faceplate-validation-change",{bubbles:!0,cancelable:!1,composed:!1,detail:{input:t,message:t.validationMessage,name:t.name}});this.dispatchEvent(i)}}invalidateFieldWithMessage(t,e){const n=this.querySelector(`[name="${t}"]`);return!!i.g(n)&&(n.setCustomValidity(e),n.setAttribute("faceplate-dirty",""),this.notifyObservers(n),e&&n.addEventListener("input",(function t(){n.setCustomValidity(""),n.removeEventListener("input",t)})),e&&!this.focusedInputForValiditySinceLastSubmit&&(this.focusedInputForValiditySinceLastSubmit=!0,this.reportFieldValidity(n)),!0)}reportFieldValidity(t){const i=t.reportValidity();if(!i&&null===t.offsetParent){const i=e.c("faceplate-alert",{level:e.a5.error,message:e.dW("Validation error on hidden input"),meta:`"${t.name}": ${t.validationMessage}`,sourceElement:this.tagName,cause:"faceplate-form-input-validation-failure"});this.dispatchEvent(i)}return i}get targetElement(){return this.target&&document.querySelector(this.target)||this}get isValid(){let t=!0;const e=o(),n=!(this.novalidate||e&&e.hasAttribute("formnovalidate"));for(const e of this.recognizedInputs())if(i.g(e)){if(e.disabled)continue;if(e.matches(":disabled"))continue;if(n&&(this.validateElementAgainstRules(e),!e.checkValidity())){t=!1;break}}return t}async submit(i=this.action,n,s){var a,o,r,c;if(!this.canSubmit)return;this.formSubmissionInProgress=!0,this.focusedInputForValiditySinceLastSubmit=!1;try{const f=e.c("faceplate-submit");if(this.dispatchEvent(f),f.defaultPrevented)return;const p=this.buildRequest(n,s);if(!p)return;if("dialog"===p.method){const t=this.closest("faceplate-dialog");if(!t)throw new Error("Unable to find parent faceplate-dialog element to close with form submission");return t.close(p.body)}let m=this.enctype;if(s&&s.hasAttribute("formenctype")&&(m=s.getAttribute("formenctype")),"log"===p.method){const t=this.encoders[m];return console.log(t?t(p.body):p.body)}s&&s.hasAttribute("formaction")&&(i=s.getAttribute("formaction"));const g={enctype:m,encoders:this.encoders,credentials:this.credentials};try{for(var d,u=!0,h=t.h(this.requester(i,p,g));!(a=(d=await h.next()).done);){c=d.value,u=!1;try{const t=c;if("faceplate-error"===t.type){const e=l(t.detail,this.tagName,"faceplate-form-fetch-failure");this.dispatchEvent(e);break}if(this.dispatchEvent(t),"faceplate-response"===t.type){await this.handleResponse(t.detail.response);break}}finally{u=!0}}}catch(t){o={error:t}}finally{try{u||a||!(r=h.return)||await r.call(h)}finally{if(o)throw o.error}}}catch(t){const e=l(t,this.tagName,"faceplate-form-submission-uncaught-error");this.dispatchEvent(e)}finally{return void(this.formSubmissionInProgress=!1)}}validateElementAgainstRules(t){var n;if(!r(t))return!0;if(this.rulesDidChange){const t=e.c("faceplate-form-constraints-changed");this.dispatchEvent(t),this.rulesDidChange=!1}t.setCustomValidity("");const s=i.j.getRegisteredElements(this);if(!s)return!0;const a=null===(n=t.dataset.faceplateConstraint)||void 0===n?void 0:n.split(" ");if(!a||!a.length)return!0;for(const e of a){const i=s.get(e);if(!i){console.warn(`Skipping validation against unknown rule "${e}"`);continue}const n=t.value;if(null!==n&&!i.validate(n))return t.setCustomValidity(i.message),!1}return!0}*elementsIterator(){yield*this.recognizedInputs()}recognizedInputs(){let t=new Set;for(const e of[...this.querySelectorAll("*")].filter(i.g))t.add(e);const e=this.querySelectorAll("output");for(let i=0;i<e.length;i++)t.add(e[i]);const n=i.k.getRegisteredElements(this);return n&&(t=new Set([...t,...n])),t}reset(){for(const t of this.recognizedInputs())n(t)}buildRequest(t,n){const s=new FormData;!n&&arguments.length<3&&(n=o());const a=!(this.novalidate||n&&n.hasAttribute("formnovalidate"));for(const t of this.recognizedInputs())if(i.g(t)){if(t.disabled)continue;if(t.matches(":disabled"))continue;if(a&&(this.validateElementAgainstRules(t),!this.reportFieldValidity(t)))return null;if(i.d(t)&&!t.checked)continue;const{name:e,value:n}=t;if(null===n)continue;if(n instanceof FormData){for(const t of n)s.append(t[0],t[1]);continue}if(!e)continue;if(i.f(t)&&t.multiple)for(const i of t.options)i.selected&&s.append(e,i.value);else if(t instanceof HTMLInputElement&&"file"===t.type){const i=t.files;if(i)for(const t of i)s.append(e,t)}else s.append(e,n)}if(t)for(const e of t)s.append(e.name,e.value);let r=this.method;return n&&(n.name&&n.value&&s.append(n.name,n.value),n.hasAttribute("formmethod")&&(r=e.dX(n.getAttribute("formmethod")))),{body:s,method:r.toLowerCase(),headers:{Accept:this.accept}}}async handleResponse(t){const i=e.da(t);if("text/vnd.reddit.partial+html"===i){const i=await t.text(),n=this.targetElement;e.am(i,n,this.partialMode)}else if("application/json"===i&&t.status>=400){const i=await t.json();if("object"==typeof(n=i)&&n&&Object.prototype.hasOwnProperty.call(n,"title")&&Object.prototype.hasOwnProperty.call(n,"message")){const n=e.c("faceplate-alert",{level:e.a5.error,name:i.title,message:e.dW("Form responded with error"),meta:i.message,sourceElement:this.tagName,cause:`faceplate-form-response-error-${t.status}`});this.dispatchEvent(n)}}else"text/html"===i&&t.redirected&&(window.location.href=t.url);var n}};return t._([t.n({type:String})],d.prototype,"accept",void 0),t._([t.n({type:String})],d.prototype,"enctype",void 0),t._([t.n({type:String})],d.prototype,"action",void 0),t._([t.n({type:Boolean,reflect:!0})],d.prototype,"disabled",void 0),t._([t.n({converter:e.dX,reflect:!0})],d.prototype,"method",void 0),t._([t.n({type:String})],d.prototype,"target",void 0),t._([t.n({type:String,attribute:"partial-mode"})],d.prototype,"partialMode",void 0),t._([t.n({type:String})],d.prototype,"novalidate",void 0),t._([t.n({type:String})],d.prototype,"credentials",void 0),t._([t.n({type:String,attribute:"validation-trigger"})],d.prototype,"validationTrigger",void 0),d=t._([t.c("faceplate-form")],d),i.r(d),{get F(){return d},c:s}}));
SML.dm("Bahzn9My",["DVMhF-xZ"],(async e=>{var o,t,n;!function(e){e.AddRemovalReason="mod-add-removal-reason",e.IgnoreReports="mod-ignore-reports",e.UnignoreReports="mod-unignore-reports",e.Distinguish="mod-distinguish",e.Undistinguish="mod-undistinguish",e.Sticky="mod-sticky",e.Unsticky="mod-unsticky",e.Lock="mod-lock",e.Unlock="mod-unlock",e.ApproveContent="mod-approve-content",e.RemoveContent="mod-remove-content",e.RemoveContentAsSpam="mod-remove-spam-content",e.ConfirmRemoval="mod-confirm-removal",e.RemoveContentMenu="mod-remove-content-menu",e.MarkNsfw="mod-mark-nsfw",e.UnmarkNsfw="mod-unmark-nsfw",e.MarkSpoiler="mod-mark-spoiler",e.UnmarkSpoiler="mod-unmark-spoiler",e.AdjustCrowdControl="mod-adjust-crowd-control",e.OpenEditPostFlairModal="mod-open-edit-post-flair-modal",e.SnoozeReporter="mod-snooze-reporter",e.UnsnoozeReporter="mod-unsnooze-reporter",e.UpdateHighlightedPost="mod-update-highlighted-post",e.RemoveHighlightedPost="mod-remove-highlighted-post",e.ApproveContentOptimistic="mod-approve-content-optimistic",e.RemoveContentOptimistic="mod-remove-content-optimistic",e.ConfirmRemovalOptimistic="mod-confirm-removal-optimistic",e.RemoveContentAsSpamOptimistic="mod-remove-spam-optimistic",e.ShareToModChat="mod-share-to-mod-chat",e.ViewChatThread="view-chat-thread"}(o||(o={})),function(e){e.Distinguish="admin-distinguish",e.Undistinguish="admin-undistinguish"}(t||(t={})),function(e){e.Dismissed="Dismissed",e.Ignored="Ignored",e.Reported="Reported"}(n||(n={}));const r=async(e=document,o=5e3,t=100)=>{const n=Date.now(),r=e=>{const o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let t=o.nextNode();for(;t;){if(t instanceof Element&&t.shadowRoot){const e=m(t.shadowRoot);if(e)return e}t=o.nextNode()}return null},m=e=>{const o=e.querySelector('textarea[name="message"]');return o instanceof HTMLTextAreaElement?o:r(e)};return new Promise((m=>{const i=()=>{const s=(()=>{const o=e.querySelector("rs-message-composer");return o?.input?o.input:r(e)})();s?m(s):Date.now()-n>o?m(null):setTimeout(i,t)};i()}))};return{get A(){return t},get M(){return o},get R(){return n},f:async(e,o=r)=>{const t=await o();t&&(e?(t.value="",t.focus()):setTimeout((()=>{t.focus()}),1e3))},g:t=>{switch(t){case e.fQ.ApproveComment:case e.fQ.ApproveLink:return o.ApproveContent;case e.fQ.RemoveComment:case e.fQ.RemoveLink:return o.RemoveContent;case e.fQ.SpamComment:case e.fQ.SpamLink:return o.RemoveContentAsSpam;case e.fQ.AddRemovalReason:return o.AddRemovalReason;default:return o.ApproveContent}}}}));
SML.dm("CpoKGso5",["Bahzn9My"],(async e=>{var i;!function(e){e.addRemovalReason="add_removal_reason",e.distinguishAsMod="distinguish_as_mod",e.distinguishAsAdmin="distinguish_as_admin",e.sticky="sticky",e.lock="lock",e.approve="approve",e.remove="remove",e.removeAsSpam="remove_as_spam",e.confirmRemoval="confirm_removal",e.approveOptimistic="approve_optimistic",e.removeOptimistic="remove_optimistic",e.removeAsSpamOptimistic="remove_as_spam_optimistic",e.confirmRemovalOptimistic="confirm_removal_optimistic",e.ignoreReports="ignore_reports",e.edit="edit",e.snoozeReporter="snooze_reporter",e.unsnoozeReporter="unsnooze_reporter"}(i||(i={}));const o={[e.M.Distinguish]:i.distinguishAsMod,[e.M.Undistinguish]:i.distinguishAsMod,[e.M.Lock]:i.lock,[e.M.Unlock]:i.lock,[e.M.Sticky]:i.sticky,[e.M.Unsticky]:i.sticky,[e.M.AddRemovalReason]:i.addRemovalReason,[e.M.ApproveContent]:i.approve,[e.M.RemoveContent]:i.remove,[e.M.RemoveContentAsSpam]:i.removeAsSpam,[e.M.ConfirmRemoval]:i.confirmRemoval,[e.M.IgnoreReports]:i.ignoreReports,[e.M.UnignoreReports]:i.ignoreReports,[e.M.SnoozeReporter]:i.snoozeReporter,[e.M.UnsnoozeReporter]:i.unsnoozeReporter,[e.A.Distinguish]:i.distinguishAsAdmin,[e.A.Undistinguish]:i.distinguishAsAdmin,[e.M.ApproveContentOptimistic]:i.approveOptimistic,[e.M.RemoveContentOptimistic]:i.removeOptimistic,[e.M.RemoveContentAsSpamOptimistic]:i.removeAsSpamOptimistic,[e.M.ConfirmRemovalOptimistic]:i.confirmRemovalOptimistic};var t,s;return function(e){e.Preview="preview",e.Pdp="pdp"}(t||(t={})),function(e){e.CommentPreviewUnit="CommentPreviewUnit",e.CommentTree="CommentTree"}(s||(s={})),{get C(){return i},S:o}}));
SML.dm("CdTGYlNw",["Bahzn9My","DVMhF-xZ"],(async(t,e)=>{var o;!function(t){t.follow="follow",t.hide="hide",t.save="save",t.delete="delete",t.markAsSpoiler="mark_as_spoiler",t.markAsNsfw="mark_as_nsfw",t.markAsCommercialCommunication="mark_as_commercial_communication",t.distinguishAsMod="distinguish_as_mod",t.distinguishAsAdmin="distinguish_as_admin",t.updatePostFlair="update_post_flair",t.lock="lock",t.sticky="sticky",t.addRemovalReason="add_removal_reason",t.edit="edit",t.updateContent="update_content",t.updatePostBodyPending="update_post_body_pending",t.approve="approve",t.remove="remove",t.removeAsSpam="remove_as_spam",t.ignoreReports="ignore_reports",t.confirmRemoval="confirm_removal",t.updateSendReplies="update_send_replies",t.snoozeReporter="snooze_reporter",t.unsnoozeReporter="unsnooze_reporter",t.updateHighlightedPost="update_highlighted_post",t.approveOptimistic="approve_optimistic",t.removeOptimistic="remove_optimistic",t.removeAsSpamOptimistic="remove_as_spam_optimistic",t.confirmRemovalOptimistic="confirm_removal_optimistic",t.shareToModChat="share_to_mod_chat"}(o||(o={}));const i={isPostFollowed:o.follow,isPostHidden:o.hide,isPostSaved:o.save,isPostSpoiler:o.markAsSpoiler,isPostNsfw:o.markAsNsfw,isPostCommercialCommunication:o.markAsCommercialCommunication,isPostDistinguishedAsAdmin:o.distinguishAsAdmin,isPostStickied:void 0,isReceivingPostReplies:o.updateSendReplies,[t.M.Distinguish]:o.distinguishAsMod,[t.M.Undistinguish]:o.distinguishAsMod,[t.M.Lock]:o.lock,[t.M.Unlock]:o.lock,[t.M.Sticky]:o.sticky,[t.M.Unsticky]:o.sticky,[t.M.AddRemovalReason]:o.addRemovalReason,[t.M.ApproveContent]:o.approve,[t.M.RemoveContent]:o.remove,[t.M.RemoveContentAsSpam]:o.removeAsSpam,[t.M.ConfirmRemoval]:o.confirmRemoval,[t.M.IgnoreReports]:o.ignoreReports,[t.M.UnignoreReports]:o.ignoreReports,[t.M.SnoozeReporter]:o.snoozeReporter,[t.M.UnsnoozeReporter]:o.unsnoozeReporter,[t.M.RemoveHighlightedPost]:o.updateHighlightedPost,[t.A.Distinguish]:o.distinguishAsAdmin,[t.A.Undistinguish]:o.distinguishAsAdmin,[t.M.ApproveContentOptimistic]:o.approveOptimistic,[t.M.RemoveContentOptimistic]:o.removeOptimistic,[t.M.RemoveContentAsSpamOptimistic]:o.removeAsSpamOptimistic,[t.M.ConfirmRemovalOptimistic]:o.confirmRemovalOptimistic};o.hide,o.markAsSpoiler,o.markAsNsfw,o.markAsCommercialCommunication;var r;!function(t){t[t.Follow=5]="Follow",t[t.Edit=10]="Edit",t[t.Report=20]="Report",t[t.Save=30]="Save",t[t.TranslationSetting=35]="TranslationSetting",t[t.LanguageAndTranslations=40]="LanguageAndTranslations",t[t.Delete=70]="Delete",t[t.AdminDistinguish=80]="AdminDistinguish",t[t.BrandAffiliate=90]="BrandAffiliate",t[t.Notifs=100]="Notifs",t[t.Reply=110]="Reply",t[t.Award=120]="Award",t[t.Insights=130]="Insights",t[t.ShareAsPost=140]="ShareAsPost"}(r||(r={}));const s="429";function a(t){return t?.[0]?.message??"Something went wrong";}return{get C(){return r},E:"edit",P:["isPostFollowed","isPostHidden","isPostSaved","isPostSpoiler","isPostNsfw","isPostCommercialCommunication","isPostDistinguishedAsAdmin","isPostStickied","isReceivingPostReplies"],R:s,S:i,get a(){return o},b:"post__click_unrsvp",c:"post__click_rsvp",d:async function(t){const o={input:t},{data:i,errors:r}=await e.r({operation:e.O.DeletePost,variables:o});if(r?.length)throw new Error(a(r));const{deletePost:s}=i;if(!s?.ok)throw new Error(a(s?.errors))},e:"overflow__click_comments",f:"overflow__click_share",g:async function(t,o){const i={input:{postId:t,saveState:o?e.gq.None:e.gq.Saved}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostSaveState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostSaveState?.ok)return!o;throw new Error(a(r?.updatePostSaveState?.errors))},h:async function(t,o){const i={input:{postId:t,followState:o?e.gs.Unfollowed:e.gs.Followed}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostFollowState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostFollowState?.ok)return!o;throw new Error(a(r?.updatePostFollowState?.errors))},i:async function(t,o){const i={input:{postId:t,distinguishState:o?e.gr.None:e.gr.Distinguished,distinguishType:o?e.go.None:e.go.AdminDistinguished}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostDistinguishedState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostDistinguishState?.ok)return r.updatePostDistinguishState.distinguishType===e.go.AdminDistinguished;throw new Error(a(r?.updatePostDistinguishState?.errors))},j:async function(t,o){const i={input:{postId:t,spoilerState:o?e.gm.None:e.gm.Spoiler}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostSpoilerState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostSpoilerState?.ok)return r.updatePostSpoilerState.spoilerState===e.gm.Spoiler;throw new Error(a(r?.updatePostSpoilerState?.errors))},k:async function(t,o){const i={input:{postId:t,nsfwState:o?e.gn.None:e.gn.Nsfw}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostNsfwState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostNsfwState?.ok)return r.updatePostNsfwState.nsfwState===e.gn.Nsfw;throw new Error(a(r?.updatePostNsfwState?.errors))},l:async function(t,o){const i={input:{thingId:t,commercialCommunicationState:!o}},{data:r,errors:s}=await e.r({operation:e.O.UpdateCommercialCommunicationState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updateCommercialCommunicationState?.ok)return!o;throw new Error(a(r?.updateCommercialCommunicationState?.errors))},m:async function(t,o){const i={postId:t,sendRepliesState:o?e.gp.DoNotSend:e.gp.Send},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostSendRepliesState,variables:{input:i}});if(s?.length)throw new Error(a(s));if(r?.updatePostSendRepliesState?.ok)return r.updatePostSendRepliesState?.sendRepliesState===e.gp.Send;throw new Error(a(r?.updatePostSendRepliesState?.errors))},n:async function(t,o){const i={input:{postId:t,hideState:o?e.gl.None:e.gl.Hidden}},{data:r,errors:s}=await e.r({operation:e.O.UpdatePostHideState,variables:i});if(s?.length)throw new Error(a(s));if(r?.updatePostHideState?.ok)return r.updatePostHideState.hideState===e.gl.Hidden;throw new Error(a(r?.updatePostHideState?.errors))},o:async function(t){const o={input:t},{data:i,errors:r}=await e.r({operation:e.O.UpdatePostStickyState,variables:o});if(r?.length)throw new Error(a(r));if(!i?.updatePostStickyState?.ok)throw new Error(a(i?.updatePostStickyState?.errors))},u:async function(t){const o={input:t},{data:i,errors:r}=await e.r({operation:e.O.UpdateAdHideState,variables:o});if(r?.length)throw new Error(a(r));if(i?.updateAdHideState?.ok)return i.updateAdHideState.hideState===e.gl.Hidden;if(i?.updateAdHideState?.errors&&(i?.updateAdHideState?.errors[0]).code===s)throw new Error(s);throw new Error(a(i?.updateAdHideState?.errors))}}}));
SML.dm("CMS2OfNt",["DVMhF-xZ","CElIDZoh"],(async(e,t)=>{var o,n;!function(e){e.SubredditFeed="SubredditFeed",e.CustomFeed="CustomFeed",e.AggregateFeed="AggregateFeed",e.BestOfRedditPage="BestOfRedditPage",e.CommentsPage="CommentsPage",e.Comment="Comment",e.DynamicFeed="DynamicFeed",e.ListingBelowSubredditPosts="ListingBelowSubredditPosts",e.ListingBelowLinkedPosts="ListingBelowLinkedPosts",e.PopularFeed="PopularFeed",e.PostStatsPage="PostStatsPage",e.ProfileFeed="ProfileFeed",e.ProfileFeed2="ProfileFeed2",e.ProfileTrendingConvos="ProfileTrendingConvos",e.BrandMentionFeed="BrandMentionFeed",e.BrandPostPerformanceFeed="BrandPostPerformanceFeed",e.ArticleFeed="ArticleFeed",e.SearchResultsPage="SearchResultsPage",e.RightRail="RightRail",e.ModChatChannels="ModChatChannels",e.ModQueue="ModQueue",e.ModQueueAll="ModQueueAll",e.ModNotesRail="ModNotesRail",e.ModLog="ModLog",e.UserManagement="UserManagement",e.ModRules="ModRules",e.ModRecruitment="ModRecruitment",e.ModWiki="ModWiki",e.ArticleDetails="ArticleDetails",e.RelatedPosts="RelatedPosts"}(o||(o={})),function(e){e.Scheduled="scheduled",e.Live="live",e.Ended="ended"}(n||(n={}));const i=e=>`${e}`.startsWith("t3_")?`${e}`:`t3_${e}`;function s(e){return e===o.ListingBelowLinkedPosts||e===o.ListingBelowSubredditPosts}const a=/^.*?\/(?:u|user|r)\/(?:[a-zA-Z0-9_-]+)\/comments\/(?<postId>[a-zA-Z0-9]+)(?:(?:\/|\?).*|$)/;const r=t=>c(t,e.dp)?t:void 0,c=(e,t)=>Object.values(t).includes(e),d=(e,t)=>void 0===e?void 0:t(e);function u(e){return e&&s(e)?"post_detail":"post"}function l(e){return u(e.viewContext??null)}const m=({archived:t,authorId:o,createdTimestamp:n,domain:i,id:s,feedIndex:a,nsfw:c,isStickied:u,isHighlighted:l,postTitle:m,postType:p,promoted:_,recommendationSource:f,recommendationSubredditId:b,recommendationSubredditName:g,score:h,spoiler:w,subredditId:v,subredditPrefixedName:P,viewType:k,commentCount:T,permalink:M,awardId:I,interactionFromHotkey:F})=>{const L=d(p,r),S=d(n,e.fw),A={name:P?.toLowerCase(),id:v},C=I?{id:I}:void 0,x=F?e.d3.HOTKEY:void 0;return{...C,post:{archived:t,author_id:o,created_timestamp:S,domain:i,id:s,nsfw:c,pinned:u,highlighted:l,promoted:_,score:h,spoiler:w,subreddit_id:v,subreddit_name:A.name,title:m,type:L,recommendation_source:f?.toLowerCase(),recommendation_source_subreddit_id:b,recommendation_source_subreddit_name:g,number_comments:T,url:M},screen:{view_type:e.gk(k)},subreddit:A,action_info:{position:a,trigger_type:x}}},p=t=>({...m(t),feed:e.gj()}),_=({fields:e,post:t,postIsTranslated:o,reason:n})=>{const{isMTSEOUserPage:i,postLanguage:s,translationLanguage:a}=t;return e={...e,post:{...e.post,language:s,translation_language:o?a:"original",translation_state:o,translation_reason:o?i?"mt_seo":"immersive_auto":"original"},...n&&{action_info:{...e.action_info,reason:n}}}};function f(e,t){return e&&t?{ad_metadata:{impression_id:e,placement:t}}:void 0}function b(e){return{..._({fields:p(e),post:e,postIsTranslated:!!e.isPostTranslated,withTranslationMetrics:!0}),new_award:{id:e.awardId,is_content_eligible:Boolean(e.isAwardable)}}}const g=(t,o,n={})=>e.b({source:l(t),action:"click",noun:o},{...t.viewContext&&s(t.viewContext)?b(t):n,feed:e.gj()}),h=e=>`${e}`.startsWith("t1_")?`${e}`:`t1_${e}`,w=/^.*\/r\/.*\/comments\/(?<postId>[a-zA-Z0-9]+)\/.*\/?$/;const v=/\/r\/([^/]+)\/$/;return{$:function(t){return t===e.ab.Popular},get A(){return n},B:t=>e.b({source:"ad_overflow",action:"hide",noun:"ad"},t),C:"hidden",D:(t,o)=>e.b({source:u(t),action:"click",noun:"overflow_show_less"},o),E:t=>e.b({source:u(t),action:"click",noun:"edit"}),F:t=>e.b({source:u(t),action:"click",noun:"update_post_flair"}),G:t=>e.b({source:u(t),action:"click",noun:"save"}),H:t=>e.b({source:u(t),action:"click",noun:"overflow_rec_context"}),I:(t,o)=>e.b({source:u(t),action:o?"undo":"click",noun:"follow"}),J:t=>e.b({source:u(t),action:"click",noun:"unpin"}),K:t=>e.b({source:u(t),action:"click",noun:"pin"}),L:t=>e.b({source:u(t),action:"click",noun:"delete"}),M:"overflow-hidden h-[60px] embed-xs:h-[80px]",N:({markedAsSpoiler:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"mark_spoiler":"unmark_spoiler"}),O:({markedAsNsfw:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"mark_nsfw":"unmark_nsfw"}),get P(){return o},Q:({markedAsBrandAffiliate:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"mark_brand_affiliate":"unmark_brand_affiliate"}),R:"read-more-click",S:({turnNotificationsOn:t,viewContext:o})=>e.b({source:u(o),action:"click",noun:t?"turn_notifications":"unsend_reply_notifications"}),T:"h-[316px]",U:t=>e.b({source:u(t),action:"click",noun:"hide"}),V:h,W:function(e){const t=e.match(a),o=t?.groups?.postId;if(o)return i(o)},X:(t,o)=>e.b({source:"post"===o?"post":"post_detail",action:t,noun:"post"===o?"post":"comment"},{action_info:{trigger_type:e.d3.HOTKEY}}),Y:t=>e.b({source:"post",action:"leave",noun:"post",visibility:{on_screen_timestamp:t.becameVisibleOnScreenTimestamp,off_screen_timestamp:Date.now()}},p(t)),Z:t=>e.b({source:"post",action:"consume",noun:"post"},{..._({fields:p(t),post:t,postIsTranslated:!!t.isPostTranslated,withTranslationMetrics:!0}),new_award:{id:t.awardId,is_content_eligible:Boolean(t.isAwardable)}}),_:t=>e.b({source:l(t),action:"click",noun:"read_more"},p(t)),a:function(e){switch(e){case o.AggregateFeed:case o.SubredditFeed:case o.CustomFeed:case o.ListingBelowLinkedPosts:case o.ListingBelowSubredditPosts:case o.PopularFeed:case o.ProfileFeed:case o.ProfileFeed2:case o.BrandMentionFeed:case o.BrandPostPerformanceFeed:case o.ArticleDetails:case o.ModQueue:case o.ModQueueAll:case o.ModLog:case o.ModNotesRail:return!0;case o.CommentsPage:default:return!1}},a0:function(t){return t===e.ab.Home},a1:function(e){return e===o.BrandMentionFeed||e===o.ArticleDetails},a2:s,a3:e=>g(e,"share",m(e)),a4:e=>g(e,"share_copy",m(e)),a5:(o,n)=>{switch(t.g(o,"postClickLocation")){case e.a9.SUBREDDIT_LINK:return(e=>g(e,"subreddit",m(e)))(n);case e.a9.JOIN:return(e=>g(e,"subscribe",m(e)))(n);case e.a9.OVERFLOW_BUTTON:case e.a9.COMMENTS_BUTTON:case e.a9.VOTE:case e.a9.SHARE:case e.a9.VIDEO_PLAYER:return null;case e.a9.TEXT_BODY:return(e=>g(e,"text",m(e)))(n);default:return(e=>g(e,"post",m(e)))(n)}},a6:t=>e.b({source:l(t),action:"click",noun:"vote_try"},m(t)),a7:t=>e.b({source:"subreddit_hovercard",action:"view",noun:"hover_subreddit_hovercard"},p(t)),a8:t=>e.b({source:"user_hovercard",action:"view",noun:"hover_user_hovercard"},p(t)),b:"partial-update",c:2e3,d:function(e){return`https://www.redditmedia.com/mediaembed/${e.replace("t3_","")}/`},e:i,f:_,g:m,h:p,i:function(e){return e===o.CommentsPage},j:"flex",k:"max-h-[253px] overflow-hidden s:max-h-[318px] m:max-h-[337px] l:max-h-[352px] xl:max-h-[452px]",l:t=>e.b({source:l(t),action:"view",noun:"post"},b(t)),m:e=>e.startsWith("t3_"),n:e=>g(e,"comments",m(e)),o:function(e){const t=(e?.getAttribute("href")||"").match(w),o=t?.groups?.postId;return o?i(o):""},p:(t,o)=>e.b({source:"translate_button",action:"view",noun:"post"},_({fields:p(t),post:t,postIsTranslated:o,reason:o?"on":"off"})),q:e=>g(e,"view_all_comments",m(e)),r:t=>e.b({source:l(t),action:"click",noun:"clearvote"},p(t)),s:t=>e.b({source:l(t),action:"click",noun:"downvote"},{..._({fields:p(t),post:t,postIsTranslated:!!t.isPostTranslated,withTranslationMetrics:!0})}),t:t=>e.b({source:u(t),action:"click",noun:"post_overflow_menu"}),u:t=>e.b({source:l(t),action:"click",noun:"upvote"},{..._({fields:p(t),post:t,postIsTranslated:!!t.isPostTranslated,withTranslationMetrics:!0})}),v:t=>e.b({source:"event_post",action:"click",noun:"rsvp"},{...m(t),...f(t.impressionId,t.placement)}),w:t=>e.b({source:"event_post",action:"click",noun:"un_rsvp"},{...m(t),...f(t.impressionId,t.placement)}),x:function(t){const o=t?e.hg(t.href):null;if(!o)return{postId:"",commentId:""};const n=o?.groups?.postId,s=o?.groups?.commentId;return{postId:n?i(n):"",commentId:s?h(s):""}},y:function(e){const t=(e?.getAttribute("href")||"").match(v);return t?t[1]:""},z:(t,o)=>e.b({source:u(t),action:"click",noun:"report"},o)}}));
SML.dm("B-K8bCNo",["DVMhF-xZ","DN8NCGGW","CElIDZoh"],(async(r,e,o)=>{var l=e.i`${r.z}button{background:0 0;color:inherit;border:none;padding:0;margin:inherit;font:inherit;cursor:pointer;outline:inherit;display:inherit;width:inherit;height:inherit}`;class t extends r.x{constructor(){super(...arguments),this.disabled=!1,this.selected=!1}renderLeadingContent(){return e.x`<slot name="leading"></slot> `}renderTrailingContent(){return e.x`<slot name="trailing"></slot> `}render(){return e.x`<button ?disabled="${this.disabled}" aria-pressed="${this.selected}"> ${this.renderLeadingContent()} <slot></slot> ${this.renderTrailingContent()} </button>`}}t.styles=l,e._([e.n({type:Boolean})],t.prototype,"disabled",void 0),e._([e.n({type:Boolean,reflect:!0})],t.prototype,"selected",void 0);var i=e.i`${r.z}:host{display:inline-flex;border:1px solid transparent;cursor:pointer}.container{display:inherit;align-items:center}slot:not([name]){display:inline-flex;line-height:var(--rem16);font-size:var(--rem12)}`;class a extends t{}a.styles=[t.styles,i];var c=e.i`${r.z}::slotted([slot=leading]),[icon-name=checkmark-fill]{display:inline-flex;margin-inline-end:var(--spacer-xs)}button{padding:calc(var(--spacer-xs) - var(--rem1))}:host([appearance=bordered]){--rpl-filter-chip-border-color:var(--color-neutral-border);--rpl-filter-chip-text-color:var(--color-secondary-plain);--rpl-filter-chip-disabled-background-color:var(--color-interactive-content-disabled);--rpl-filter-chip-disabled-text-color:var(--color-interactive-content-disabled);--rpl-filter-chip-disabled-border-color:var(--color-neutral-border-weak);--rpl-filter-chip-selected-background-color:var(--color-secondary-background-selected);--rpl-filter-chip-selected-border-color:var(--color-neutral-border);--rpl-filter-chip-hover-background-color:var(--color-secondary-background-hover)}:host([appearance=media]){--rpl-filter-chip-border-color:var(--color-media-border-weak);--rpl-filter-chip-background-color:var(--color-media-background);--rpl-filter-chip-text-color:var(--color-media-onbackground);--rpl-filter-chip-disabled-text-color:var(--color-media-onbackground-disabled);--rpl-filter-chip-disabled-background-color:var(--color-media-background);--rpl-filter-chip-disabled-border-color:var(--color-media-border-weak);--rpl-filter-chip-hover-background-color:var(--color-media-background-hover);--rpl-filter-chip-selected-background-color:var(--color-media-background-selected);--rpl-filter-chip-selected-border-color:var(--color-media-border-selected)}:host{border:1px solid var(--rpl-filter-chip-border-color);color:var(--rpl-filter-chip-text-color);background:var(--rpl-filter-chip-background-color);border-radius:var(--rem8);font-weight:600}:host(.hover:not([disabled])),:host(:hover:not([disabled])){background:var(--rpl-filter-chip-hover-background-color)}:host([selected]){--rpl-filter-chip-background-color:var(--rpl-filter-chip-selected-background-color);--rpl-filter-chip-border-color:var(--rpl-filter-chip-selected-border-color)}:host([disabled]){--rpl-filter-chip-background-color:var(--rpl-filter-chip-disabled-background-color);--rpl-filter-chip-border-color:var(--rpl-filter-chip-disabled-border-color);--rpl-filter-chip-text-color:var(--rpl-filter-chip-disabled-text-color)}`;const d="bordered";let n=class extends a{constructor(){super(...arguments),this.appearance=d}static get styles(){return[a.styles,c]}renderLeadingContent(){return this.selected?o.b1({size:"sm"}):super.renderLeadingContent()}};e._([e.n({type:String})],n.prototype,"appearance",void 0),n=e._([e.c("rpl-filter-chip")],n)}));
SML.dm("CWi6z3tG",["DN8NCGGW","DVMhF-xZ"],(async(t,e)=>{const o=Math.min,n=Math.max,i=Math.round,r=Math.floor,a=t=>({x:t,y:t}),s={left:"right",right:"left",bottom:"top",top:"bottom"},l={start:"end",end:"start"};function c(t,e,i){return n(t,o(e,i))}function p(t,e){return"function"==typeof t?t(e):t}function f(t){return t.split("-")[0]}function h(t){return t.split("-")[1]}function u(t){return"x"===t?"y":"x"}function d(t){return"y"===t?"height":"width"}function m(t){return["top","bottom"].includes(f(t))?"y":"x"}function y(t){return u(m(t))}function g(t){return t.replace(/start|end/g,(t=>l[t]))}function v(t){return t.replace(/left|right|bottom|top/g,(t=>s[t]))}function b(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function w(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function x(t,e,o){let{reference:n,floating:i}=t;const r=m(e),a=y(e),s=d(a),l=f(e),c="y"===r,p=n.x+n.width/2-i.width/2,u=n.y+n.height/2-i.height/2,g=n[s]/2-i[s]/2;let v;switch(l){case"top":v={x:p,y:n.y-i.height};break;case"bottom":v={x:p,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:u};break;case"left":v={x:n.x-i.width,y:u};break;default:v={x:n.x,y:n.y}}switch(h(e)){case"start":v[a]-=g*(o&&c?-1:1);break;case"end":v[a]+=g*(o&&c?-1:1)}return v}async function E(t,e){var o;void 0===e&&(e={});const{x:n,y:i,platform:r,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:u=!1,padding:d=0}=p(e,t),m=b(d),y=s[u?"floating"===h?"reference":"floating":h],g=w(await r.getClippingRect({element:null==(o=await(null==r.isElement?void 0:r.isElement(y)))||o?y:y.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:l})),v="floating"===h?{...a.floating,x:n,y:i}:a.reference,x=await(null==r.getOffsetParent?void 0:r.getOffsetParent(s.floating)),E=await(null==r.isElement?void 0:r.isElement(x))&&await(null==r.getScale?void 0:r.getScale(x))||{x:1,y:1},P=w(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:x,strategy:l}):v);return{top:(g.top-P.top+m.top)/E.y,bottom:(P.bottom-g.bottom+m.bottom)/E.y,left:(g.left-P.left+m.left)/E.x,right:(P.right-g.right+m.right)/E.x}}const P=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:P=!0,...R}=p(t,e);if(null!=(o=r.arrow)&&o.alignmentOffset)return{};const S=f(i),T=f(s)===s,z=await(null==l.isRTL?void 0:l.isRTL(c.floating)),L=b||(T||!P?[v(s)]:function(t){const e=v(t);return[g(t),e,g(e)]}(s));b||"none"===x||L.push(...function(t,e,o,n){const i=h(t);let r=function(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:a;default:return[]}}(f(t),"start"===o,n);return i&&(r=r.map((t=>t+"-"+i)),e&&(r=r.concat(r.map(g)))),r}(s,P,x,z));const A=[s,...L],O=await E(e,R),_=[];let k=(null==(n=r.flip)?void 0:n.overflows)||[];if(u&&_.push(O[S]),m){const t=function(t,e,o){void 0===o&&(o=!1);const n=h(t),i=y(t),r=d(i);let a="x"===i?n===(o?"end":"start")?"right":"left":"start"===n?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=v(a)),[a,v(a)]}(i,a,z);_.push(O[t[0]],O[t[1]])}if(k=[...k,{placement:i,overflows:_}],!_.every((t=>t<=0))){var C,D;const t=((null==(C=r.flip)?void 0:C.index)||0)+1,e=A[t];if(e)return{data:{index:t,overflows:k},reset:{placement:e}};let o=null==(D=k.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:D.placement;if(!o)switch(w){case"bestFit":{var B;const t=null==(B=k.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:B[0];t&&(o=t);break}case"initialPlacement":o=s}if(i!==o)return{reset:{placement:o}}}return{}}}};const R=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:a,middlewareData:s}=e,l=await async function(t,e){const{placement:o,platform:n,elements:i}=t,r=await(null==n.isRTL?void 0:n.isRTL(i.floating)),a=f(o),s=h(o),l="y"===m(o),c=["left","top"].includes(a)?-1:1,u=r&&l?-1:1,d=p(e,t);let{mainAxis:y,crossAxis:g,alignmentAxis:v}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof v&&(g="end"===s?-1*v:v),l?{x:g*u,y:y*c}:{x:y*c,y:g*u}}(e,t);return a===(null==(o=s.offset)?void 0:o.placement)&&null!=(n=s.arrow)&&n.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:{...l,placement:a}}}}},S=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:i,rects:r,platform:a,elements:s}=e,{apply:l=()=>{},...c}=p(t,e),u=await E(e,c),d=f(i),y=h(i),g="y"===m(i),{width:v,height:b}=r.floating;let w,x;"top"===d||"bottom"===d?(w=d,x=y===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(x=d,w="end"===y?"top":"bottom");const P=b-u[w],R=v-u[x],S=!e.middlewareData.shift;let T=P,z=R;if(g){const t=v-u.left-u.right;z=y||S?o(R,t):t}else{const t=b-u.top-u.bottom;T=y||S?o(P,t):t}if(S&&!y){const t=n(u.left,0),e=n(u.right,0),o=n(u.top,0),i=n(u.bottom,0);g?z=v-2*(0!==t||0!==e?t+e:n(u.left,u.right)):T=b-2*(0!==o||0!==i?o+i:n(u.top,u.bottom))}await l({...e,availableWidth:z,availableHeight:T});const L=await a.getDimensions(s.floating);return v!==L.width||b!==L.height?{reset:{rects:!0}}:{}}}};function T(t){return A(t)?(t.nodeName||"").toLowerCase():"#document"}function z(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function L(t){var e;return null==(e=(A(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function A(t){return t instanceof Node||t instanceof z(t).Node}function O(t){return t instanceof Element||t instanceof z(t).Element}function _(t){return t instanceof HTMLElement||t instanceof z(t).HTMLElement}function k(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof z(t).ShadowRoot)}function C(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=N(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function D(t){return["table","td","th"].includes(T(t))}function B(t){const e=$(),o=N(t);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!e&&!!o.backdropFilter&&"none"!==o.backdropFilter||!e&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((t=>(o.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(o.contain||"").includes(t)))}function $(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function F(t){return["html","body","#document"].includes(T(t))}function N(t){return z(t).getComputedStyle(t)}function H(t){return O(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function M(t){if("html"===T(t))return t;const e=t.assignedSlot||t.parentNode||k(t)&&t.host||L(t);return k(e)?e.host:e}function W(t){const e=M(t);return F(e)?t.ownerDocument?t.ownerDocument.body:t.body:_(e)&&C(e)?e:W(e)}function j(t,e,o){var n;void 0===e&&(e=[]),void 0===o&&(o=!0);const i=W(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),a=z(i);return r?e.concat(a,a.visualViewport||[],C(i)?i:[],a.frameElement&&o?j(a.frameElement):[]):e.concat(i,j(i,[],o))}function V(t){const e=N(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=_(t),a=r?t.offsetWidth:o,s=r?t.offsetHeight:n,l=i(o)!==a||i(n)!==s;return l&&(o=a,n=s),{width:o,height:n,$:l}}function I(t){return O(t)?t:t.contextElement}function q(t){const e=I(t);if(!_(e))return a(1);const o=e.getBoundingClientRect(),{width:n,height:r,$:s}=V(e);let l=(s?i(o.width):o.width)/n,c=(s?i(o.height):o.height)/r;return l&&Number.isFinite(l)||(l=1),c&&Number.isFinite(c)||(c=1),{x:l,y:c}}const Y=a(0);function U(t){const e=z(t);return $()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:Y}function X(t,e,o,n){void 0===e&&(e=!1),void 0===o&&(o=!1);const i=t.getBoundingClientRect(),r=I(t);let s=a(1);e&&(n?O(n)&&(s=q(n)):s=q(t));const l=function(t,e,o){return void 0===e&&(e=!1),!(!o||e&&o!==z(t))&&e}(r,o,n)?U(r):a(0);let c=(i.left+l.x)/s.x,p=(i.top+l.y)/s.y,f=i.width/s.x,h=i.height/s.y;if(r){const t=z(r),e=n&&O(n)?z(n):n;let o=t.frameElement;for(;o&&n&&e!==t;){const t=q(o),e=o.getBoundingClientRect(),n=N(o),i=e.left+(o.clientLeft+parseFloat(n.paddingLeft))*t.x,r=e.top+(o.clientTop+parseFloat(n.paddingTop))*t.y;c*=t.x,p*=t.y,f*=t.x,h*=t.y,c+=i,p+=r,o=z(o).frameElement}}return w({width:f,height:h,x:c,y:p})}function G(t){return X(L(t)).left+H(t).scrollLeft}function J(t,e,o){let i;if("viewport"===e)i=function(t,e){const o=z(t),n=L(t),i=o.visualViewport;let r=n.clientWidth,a=n.clientHeight,s=0,l=0;if(i){r=i.width,a=i.height;const t=$();(!t||t&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:r,height:a,x:s,y:l}}(t,o);else if("document"===e)i=function(t){const e=L(t),o=H(t),i=t.ownerDocument.body,r=n(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=n(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-o.scrollLeft+G(t);const l=-o.scrollTop;return"rtl"===N(i).direction&&(s+=n(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:s,y:l}}(L(t));else if(O(e))i=function(t,e){const o=X(t,!0,"fixed"===e),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=_(t)?q(t):a(1);return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:i*r.x,y:n*r.y}}(e,o);else{const o=U(t);i={...e,x:e.x-o.x,y:e.y-o.y}}return w(i)}function K(t,e){const o=M(t);return!(o===e||!O(o)||F(o))&&("fixed"===N(o).position||K(o,e))}function Q(t,e,o){const n=_(e),i=L(e),r="fixed"===o,s=X(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const c=a(0);if(n||!n&&!r)if(("body"!==T(e)||C(i))&&(l=H(e)),n){const t=X(e,!0,r,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else i&&(c.x=G(i));return{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function Z(t,e){return _(t)&&"fixed"!==N(t).position?e?e(t):t.offsetParent:null}function tt(t,e){const o=z(t);if(!_(t))return o;let n=Z(t,e);for(;n&&D(n)&&"static"===N(n).position;)n=Z(n,e);return n&&("html"===T(n)||"body"===T(n)&&"static"===N(n).position&&!B(n))?o:n||function(t){let e=M(t);for(;_(e)&&!F(e);){if(B(e))return e;e=M(e)}return null}(t)||o}const et={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t;const i=_(o),r=L(o);if(o===r)return e;let s={scrollLeft:0,scrollTop:0},l=a(1);const c=a(0);if((i||!i&&"fixed"!==n)&&(("body"!==T(o)||C(r))&&(s=H(o)),_(o))){const t=X(o);l=q(o),c.x=t.x+o.clientLeft,c.y=t.y+o.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-s.scrollLeft*l.x+c.x,y:e.y*l.y-s.scrollTop*l.y+c.y}},getDocumentElement:L,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:r,strategy:a}=t;const s=[..."clippingAncestors"===i?function(t,e){const o=e.get(t);if(o)return o;let n=j(t,[],!1).filter((t=>O(t)&&"body"!==T(t))),i=null;const r="fixed"===N(t).position;let a=r?M(t):t;for(;O(a)&&!F(a);){const e=N(a),o=B(a);o||"fixed"!==e.position||(i=null),(r?!o&&!i:!o&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||C(a)&&!o&&K(t,a))?n=n.filter((t=>t!==a)):i=e,a=M(a)}return e.set(t,n),n}(e,this._c):[].concat(i),r],l=s[0],c=s.reduce(((t,i)=>{const r=J(e,i,a);return t.top=n(r.top,t.top),t.right=o(r.right,t.right),t.bottom=o(r.bottom,t.bottom),t.left=n(r.left,t.left),t}),J(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:tt,getElementRects:async function(t){let{reference:e,floating:o,strategy:n}=t;const i=this.getOffsetParent||tt,r=this.getDimensions;return{reference:Q(e,await i(o),n),floating:{x:0,y:0,...await r(o)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return V(t)},getScale:q,isElement:O,isRTL:function(t){return"rtl"===N(t).direction}};function ot(t,e,i,a){void 0===a&&(a={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:p="function"==typeof IntersectionObserver,animationFrame:f=!1}=a,h=I(t),u=s||l?[...h?j(h):[],...j(e)]:[];u.forEach((t=>{s&&t.addEventListener("scroll",i,{passive:!0}),l&&t.addEventListener("resize",i)}));const d=h&&p?function(t,e){let i,a=null;const s=L(t);function l(){clearTimeout(i),a&&a.disconnect(),a=null}return function c(p,f){void 0===p&&(p=!1),void 0===f&&(f=1),l();const{left:h,top:u,width:d,height:m}=t.getBoundingClientRect();if(p||e(),!d||!m)return;const y={rootMargin:-r(u)+"px "+-r(s.clientWidth-(h+d))+"px "+-r(s.clientHeight-(u+m))+"px "+-r(h)+"px",threshold:n(0,o(1,f))||1};let g=!0;function v(t){const e=t[0].intersectionRatio;if(e!==f){if(!g)return c();e?c(!1,e):i=setTimeout((()=>{c(!1,1e-7)}),100)}g=!1}try{a=new IntersectionObserver(v,{...y,root:s.ownerDocument})}catch(t){a=new IntersectionObserver(v,y)}a.observe(t)}(!0),l}(h,i):null;let m,y=-1,g=null;c&&(g=new ResizeObserver((t=>{let[o]=t;o&&o.target===h&&g&&(g.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{g&&g.observe(e)}))),i()})),h&&!f&&g.observe(h),g.observe(e));let v=f?X(t):null;return f&&function e(){const o=X(t);!v||o.x===v.x&&o.y===v.y&&o.width===v.width&&o.height===v.height||i();v=o,m=requestAnimationFrame(e)}(),i(),()=>{u.forEach((t=>{s&&t.removeEventListener("scroll",i),l&&t.removeEventListener("resize",i)})),d&&d(),g&&g.disconnect(),g=null,f&&cancelAnimationFrame(m)}}const nt=(t,e,o)=>{const n=new Map,i={platform:et,...o},r={...i.platform,_c:n};return(async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:a}=o,s=r.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:f}=x(c,n,l),h=n,u={},d=0;for(let o=0;o<s.length;o++){const{name:r,fn:m}=s[o],{x:y,y:g,data:v,reset:b}=await m({x:p,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:u,rects:c,platform:a,elements:{reference:t,floating:e}});p=null!=y?y:p,f=null!=g?g:f,u={...u,[r]:{...u[r],...v}},b&&d<=50&&(d++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:t,floating:e,strategy:i}):b.rects),({x:p,y:f}=x(c,h,l))),o=-1)}return{x:p,y:f,placement:h,strategy:i,middlewareData:u}})(t,e,{...i,platform:r})};function it(t){return function(t){for(let e=t;e;e=rt(e))if(e instanceof Element&&"none"===getComputedStyle(e).display)return null;for(let e=rt(t);e;e=rt(e)){if(!(e instanceof Element))continue;const t=getComputedStyle(e);if("contents"!==t.display){if("static"!==t.position||"none"!==t.filter)return e;if("BODY"===e.tagName)return e}}return null}(t)}function rt(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}var at=t.i`${e.z}:host{--arrow-color:var(--color-neutral-background-strong);--arrow-size:6px;--arrow-size-diagonal:calc(var(--arrow-size) * 0.7071);--arrow-padding-offset:calc(var(--arrow-size-diagonal) - var(--arrow-size));display:contents}.popup{position:absolute;isolation:isolate;max-width:var(--auto-size-available-width,none);max-height:var(--auto-size-available-height,none)}.popup--fixed{position:fixed}.popup:not(.popup--active){display:none}.popup--arrow{position:absolute;width:calc(var(--arrow-size-diagonal) * 2);height:calc(var(--arrow-size-diagonal) * 2);rotate:45deg;background:var(--arrow-color)}.popup-safe-area:not(.popup-safe-area--visible){display:none}.popup-safe-area{position:fixed;z-index:calc(var(--faceplate-tooltip-z-index,1) - 1);inset:0;clip-path:polygon(var(--safe-area-top-left-x,0) var(--safe-area-top-left-y,0),var(--safe-area-top-right-x,0) var(--safe-area-top-right-y,0),var(--safe-area-bottom-right-x,0) var(--safe-area-bottom-right-y,0),var(--safe-area-bottom-left-x,0) var(--safe-area-bottom-left-y,0))}`;const st={Top:"top",TopStart:"top-start",TopEnd:"top-end",Bottom:"bottom",BottomStart:"bottom-start",BottomEnd:"bottom-end",Right:"right",RightStart:"right-start",RightEnd:"right-end",Left:"left",LeftStart:"left-start",LeftEnd:"left-end"},lt="anchor";class ct extends e.x{constructor(){super(...arguments),this.anchorEl=null,this.active=!1,this.placement=st.Top,this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement=lt,this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.safeArea=!1,this.updateSafeArea=()=>{if(!this.safeArea||!this.anchorEl)return;const t=this.anchorEl.getBoundingClientRect(),e=this.popup.getBoundingClientRect();let o=0,n=0,i=0,r=0,a=0,s=0,l=0,c=0;this.placement.includes("top")||this.placement.includes("bottom")?t.top<e.top?(o=t.left,n=t.bottom,i=t.right,r=t.bottom,a=e.left,s=e.top,l=e.right,c=e.top):(o=e.left,n=e.bottom,i=e.right,r=e.bottom,a=t.left,s=t.top,l=t.right,c=t.top):t.left<e.left?(o=t.right,n=t.top,i=e.left,r=e.top,a=t.right,s=t.bottom,l=e.left,c=e.bottom):(o=e.right,n=e.top,i=t.left,r=t.top,a=e.right,s=e.bottom,l=t.left,c=t.bottom),this.style.setProperty("--safe-area-top-left-x",`${o}px`),this.style.setProperty("--safe-area-top-left-y",`${n}px`),this.style.setProperty("--safe-area-top-right-x",`${i}px`),this.style.setProperty("--safe-area-top-right-y",`${r}px`),this.style.setProperty("--safe-area-bottom-left-x",`${a}px`),this.style.setProperty("--safe-area-bottom-left-y",`${s}px`),this.style.setProperty("--safe-area-bottom-right-x",`${l}px`),this.style.setProperty("--safe-area-bottom-right-y",`${c}px`)}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(t){super.updated(t),t.has("active")&&(this.active?this.start():this.stop()),t.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&"string"==typeof this.anchor){const t=this.getRootNode();this.anchorEl=t.getElementById(this.anchor)}else this.anchor instanceof Element||null!==(t=this.anchor)&&"object"==typeof t&&"getBoundingClientRect"in t?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');var t;this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=ot(this.anchorEl,this.popup,(()=>{this.reposition()})))}async stop(){return new Promise((t=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame((()=>t()))):t()}))}reposition(){if(!this.active||!this.anchorEl)return;const t=[R({mainAxis:this.distance,crossAxis:this.skidding})];var e;this.sync?t.push(S({apply:({rects:t})=>{const e="width"===this.sync||"both"===this.sync,o="height"===this.sync||"both"===this.sync;this.popup.style.width=e?`${t.reference.width}px`:"",this.popup.style.height=o?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&t.push(P({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:"best-fit"===this.flipFallbackStrategy?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&t.push((void 0===(e={boundary:this.shiftBoundary,padding:this.shiftPadding})&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:n,placement:i}=t,{mainAxis:r=!0,crossAxis:a=!1,limiter:s={fn:t=>{let{x:e,y:o}=t;return{x:e,y:o}}},...l}=p(e,t),h={x:o,y:n},d=await E(t,l),y=m(f(i)),g=u(y);let v=h[g],b=h[y];if(r){const t="y"===g?"bottom":"right";v=c(v+d["y"===g?"top":"left"],v,v-d[t])}if(a){const t="y"===y?"bottom":"right";b=c(b+d["y"===y?"top":"left"],b,b-d[t])}const w=s.fn({...t,[g]:v,[y]:b});return{...w,data:{x:w.x-o,y:w.y-n}}}})),this.autoSize?t.push(S({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:e})=>{"vertical"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-height",`${e}px`):this.style.removeProperty("--auto-size-available-height"),"horizontal"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&t.push((t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:s,elements:l,middlewareData:f}=e,{element:u,padding:m=0}=p(t,e)||{};if(null==u)return{};const g=b(m),v={x:n,y:i},w=y(r),x=d(w),E=await s.getDimensions(u),P="y"===w,R=P?"top":"left",S=P?"bottom":"right",T=P?"clientHeight":"clientWidth",z=a.reference[x]+a.reference[w]-v[w]-a.floating[x],L=v[w]-a.reference[w],A=await(null==s.getOffsetParent?void 0:s.getOffsetParent(u));let O=A?A[T]:0;O&&await(null==s.isElement?void 0:s.isElement(A))||(O=l.floating[T]||a.floating[x]);const _=z/2-L/2,k=O/2-E[x]/2-1,C=o(g[R],k),D=o(g[S],k),B=C,$=O-E[x]-D,F=O/2-E[x]/2+_,N=c(B,F,$),H=!f.arrow&&null!=h(r)&&F!=N&&a.reference[x]/2-(F<B?C:D)-E[x]/2<0,M=H?F<B?F-B:F-$:0;return{[w]:v[w]+M,data:{[w]:N,centerOffset:F-N-M,...H&&{alignmentOffset:M}},reset:H}}}))({element:this.arrowEl,padding:this.arrowPadding}));const n="absolute"===this.strategy?t=>et.getOffsetParent(t,it):et.getOffsetParent;nt(this.anchorEl,this.popup,{placement:this.placement,middleware:t,strategy:this.strategy,platform:{...et,getOffsetParent:n}}).then((({x:t,y:e,middlewareData:o,placement:n})=>{const i="rtl"===getComputedStyle(this).direction,r={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]];if(this.setAttribute("data-current-placement",n),Object.assign(this.popup.style,{left:`${t}px`,top:`${e}px`}),!this.arrow)return;const a=o.arrow.x,s=o.arrow.y;let l="",c="",p="",f="";if("start"===this.arrowPlacement){const t="number"==typeof a?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";l="number"==typeof s?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",c=i?t:"",f=i?"":t}else if("end"===this.arrowPlacement){const t="number"==typeof a?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";c=i?"":t,f=i?t:"",p="number"==typeof s?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else"center"===this.arrowPlacement?(f="number"==typeof a?"calc(50% - var(--arrow-size-diagonal))":"",l="number"==typeof s?"calc(50% - var(--arrow-size-diagonal))":""):(f="number"==typeof a?`${a}px`:"",l="number"==typeof s?`${s}px`:"");Object.assign(this.arrowEl.style,{top:l,right:c,bottom:p,left:f,[r]:"calc(var(--arrow-size-diagonal) * -1)"})})),requestAnimationFrame((()=>this.updateSafeArea())),this.emitter.dispatch("reposition")}render(){return t.x` <slot name="anchor" @slotchange="${this.handleAnchorChange}"></slot> <span part="safe-area" class="${e.y({"popup-safe-area":!0,"popup-safe-area--visible":this.safeArea&&this.active})}"></span> <div part="popup" class="${e.y({popup:!0,"popup--active":this.active,"popup--fixed":"fixed"===this.strategy,"popup--has-arrow":this.arrow})}"> <slot></slot> ${this.arrow?t.x`<div part="arrow" class="popup--arrow" role="presentation"></div>`:""} </div> `}}ct.styles=at,t._([t.w(".popup")],ct.prototype,"popup",void 0),t._([t.w(".popup--arrow")],ct.prototype,"arrowEl",void 0),t._([t.n()],ct.prototype,"anchor",void 0),t._([t.n({type:Boolean,reflect:!0})],ct.prototype,"active",void 0),t._([t.n({reflect:!0})],ct.prototype,"placement",void 0),t._([t.n({reflect:!0})],ct.prototype,"strategy",void 0),t._([t.n({type:Number})],ct.prototype,"distance",void 0),t._([t.n({type:Number})],ct.prototype,"skidding",void 0),t._([t.n({type:Boolean})],ct.prototype,"arrow",void 0),t._([t.n({attribute:"arrow-placement"})],ct.prototype,"arrowPlacement",void 0),t._([t.n({attribute:"arrow-padding",type:Number})],ct.prototype,"arrowPadding",void 0),t._([t.n({type:Boolean})],ct.prototype,"flip",void 0),t._([t.n({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map((t=>t.trim())).filter((t=>""!==t))}})],ct.prototype,"flipFallbackPlacements",void 0),t._([t.n({attribute:"flip-fallback-strategy"})],ct.prototype,"flipFallbackStrategy",void 0),t._([t.n({type:Object})],ct.prototype,"flipBoundary",void 0),t._([t.n({attribute:"flip-padding",type:Number})],ct.prototype,"flipPadding",void 0),t._([t.n({type:Boolean})],ct.prototype,"shift",void 0),t._([t.n({type:Object})],ct.prototype,"shiftBoundary",void 0),t._([t.n({attribute:"shift-padding",type:Number})],ct.prototype,"shiftPadding",void 0),t._([t.n({attribute:"auto-size"})],ct.prototype,"autoSize",void 0),t._([t.n()],ct.prototype,"sync",void 0),t._([t.n({type:Object})],ct.prototype,"autoSizeBoundary",void 0),t._([t.n({attribute:"auto-size-padding",type:Number})],ct.prototype,"autoSizePadding",void 0),t._([t.n({attribute:"safe-area",type:Boolean})],ct.prototype,"safeArea",void 0);let pt=class extends ct{};return pt=t._([t.c("rpl-popper")],pt),{P:st}}));
SML.dm("C_M_NGfT",["DN8NCGGW","DVMhF-xZ","CElIDZoh","CWi6z3tG"],(async(e,t,i,o)=>{const s={Neutral:"neutral",Inverted:"inverted",Primary:"primary"};class n extends t.x{constructor(){super(...arguments),this.contentSlotRef=t.aF(),this.defaultSlotRef=t.aF(),this.bodyRef=t.aF(),this.popperRef=t.aF(),this.interactionController=new i.ay(this,{isInteractedWith:e=>e.open,hoverDelayStart:e=>t.ca(getComputedStyle(e).getPropertyValue("--show-delay")),hoverDelayEnd:e=>t.ca(getComputedStyle(e).getPropertyValue("--hide-delay"))}),this.appearance=s.Neutral,this.content="",this.placement=o.P.Top,this.disabled=!1,this.distance=4,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.noAnimate=!1,this.eventUsedMap=new WeakMap,this.handleDocumentKeyDown=e=>{"Escape"===e.key&&(e.stopPropagation(),this.hide())},this.handleDocumentClick=e=>{if(!(e.target instanceof HTMLElement)||this.hidden)return;this.eventUsedMap.has(e)||i.az(this,e.target)||this.hide()}}disconnectedCallback(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick)}willUpdate(e){e.has("open")&&this.hasUpdated&&this.handleOpenChange(),e.has("disabled")&&this.handleDisabledChange(),(e.has("content")||e.has("distance")||e.has("hoist")||e.has("placement")||e.has("skidding"))&&this.handleOptionsChange()}firstUpdated(){this.bodyRef.value&&(this.bodyRef.value.hidden=!this.open),this.open&&(document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick),this.popperRef.value&&(this.popperRef.value.active=!0,this.popperRef.value.reposition()))}startInteraction(e){this.eventUsedMap.set(e,!0),this.show()}finishInteraction(e){this.eventUsedMap.set(e,!0),this.hide()}async handleOpenChange(){if(!this.disabled&&this.contentSlotRef.value&&this.bodyRef.value&&this.popperRef.value)if(this.open){this.emitter.dispatch("show"),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick),await t.cb(this.bodyRef.value),this.bodyRef.value.hidden=!1,this.popperRef.value.active=!0;const{keyframes:e,options:i}=t.cc(this,"tooltip.show");await t.cd(this.popperRef.value.popup,e,i),this.popperRef.value.reposition(),this.emitter.dispatch("after-show")}else{this.emitter.dispatch("hide"),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick),await t.cb(this.bodyRef.value);const{keyframes:e,options:i}=t.cc(this,"tooltip.hide");await t.cd(this.popperRef.value.popup,e,i),this.popperRef.value.active=!1,this.bodyRef.value.hidden=!0,this.emitter.dispatch("after-hide")}}async handleOptionsChange(){this.hasUpdated&&this.popperRef.value&&(await this.updateComplete,this.popperRef.value.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,t.ce(this,this.emitter.eventId("after-show"))}async hide(){if(this.open)return this.open=!1,t.ce(this,this.emitter.eventId("after-hide"))}render(){return e.x` <rpl-popper part="popper" exportparts="
          popup:popper--popup,
          arrow:popper--arrow
        " class="${t.y({tooltip:!0,"tooltip--open":this.open})}" placement="${this.placement}" distance="${this.distance}" skidding="${this.skidding}" strategy="${this.hoist?"fixed":"absolute"}" flip shift arrow safe-area @mouseenter="${this.interactionController.handleMouseEnter}" @mouseleave="${this.interactionController.handleMouseLeave}" @mousedown="${this.interactionController.handleMouseDown}" @mouseup="${this.interactionController.handleMouseUp}" @focusin="${this.interactionController.handleFocus}" @focusout="${this.interactionController.handleBlur}" ${t.at(this.popperRef)}> <slot slot="anchor" aria-describedby="tooltip" @click="${this.interactionController.handleClick}" ${t.at(this.defaultSlotRef)}></slot> <div part="body" id="tooltip" class="tooltip-body" role="tooltip" aria-live="${this.open?"polite":"off"}" ${t.at(this.bodyRef)}> <slot name="content" ${t.at(this.contentSlotRef)}>${this.content}</slot> <slot name="shortcut"></slot> </div> </rpl-popper> `}}return e._([e.n({type:String,reflect:!0})],n.prototype,"appearance",void 0),e._([e.n()],n.prototype,"content",void 0),e._([e.n()],n.prototype,"placement",void 0),e._([e.n({type:Boolean,reflect:!0})],n.prototype,"disabled",void 0),e._([e.n({type:Number})],n.prototype,"distance",void 0),e._([e.n({type:Boolean,reflect:!0})],n.prototype,"open",void 0),e._([e.n({type:Number})],n.prototype,"skidding",void 0),e._([e.n()],n.prototype,"trigger",void 0),e._([e.n({type:Boolean})],n.prototype,"hoist",void 0),e._([e.n({type:Boolean,attribute:"no-animate"})],n.prototype,"noAnimate",void 0),t.c9("tooltip.show",{keyframes:[{visibility:"visible",opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}}),t.c9("tooltip.hide",{keyframes:[{scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}}),{T:n,a:s}}));
SML.dm("CnZCQZdH",["DVMhF-xZ","DN8NCGGW","C_M_NGfT","CElIDZoh","CWi6z3tG"],(async(o,r,t)=>{var a=r.i`${o.z}:host{--max-width:20rem;--hide-delay:0ms;--show-delay:750ms;display:contents}:host,:host([appearance=neutral]){--rpl-tooltip-code-background-color:var(--color-neutral-background-hover);--rpl-tooltip-background-color:var(--color-neutral-background);--rpl-tooltip-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-tooltip-code-background-color:var(--color-inverted-neutral-background-hover);--rpl-tooltip-background-color:var(--color-inverted-neutral-background);--rpl-tooltip-color:var(--color-inverted-neutral-content-strong)}:host([appearance=primary]){--rpl-tooltip-background-color:var(--color-tooltip-bg-primary);--rpl-tooltip-color:var(--color-tooltip-text-primary)}.tooltip{--arrow-size:var(--rpl-tooltip-arrow-size, 4px);--arrow-color:var(--rpl-tooltip-background-color)}.tooltip[placement^=top]::part(arrow){box-shadow:1px 1px 2px rgba(0,0,0,.05)}.tooltip[placement^=bottom]::part(arrow){box-shadow:-1px -1px 2px rgba(0,0,0,.05)}.tooltip[placement^=left]::part(arrow){box-shadow:0 -2px 2px rgba(0,0,0,.05)}.tooltip[placement^=right]::part(arrow){box-shadow:-2px 0 2px rgba(0,0,0,.05)}.tooltip::part(popup){z-index:var(--rpl-z-index-tooltip,var(--faceplate-tooltip-z-index,1))}.tooltip[placement^=top]::part(popup){transform-origin:bottom}.tooltip[placement^=bottom]::part(popup){transform-origin:top}.tooltip[placement^=left]::part(popup){transform-origin:right}.tooltip[placement^=right]::part(popup){transform-origin:left}.tooltip-body{display:flex;justify-content:center;align-items:center;width:max-content;max-width:var(--max-width);border-radius:var(--rpl-tooltip-border-radius,.25rem);box-shadow:var(--rpl-tooltip-box-shadow,var(--boxshadow-tooltip));background-color:var(--rpl-tooltip-background-color);font:var(--rpl-tooltip-font,var(--font-12-16-semibold));color:var(--rpl-tooltip-color);padding:var(--rpl-tooltip-padding,.5rem);pointer-events:none;user-select:none;-webkit-user-select:none;gap:var(--rem4)}::slotted([slot=shortcut]),::slotted(code[slot=shortcut]){font:var(--rpl-tooltip-font,var(--font-12-16-semibold))!important;color:var(--rpl-tooltip-color)!important;background-color:var(--rpl-tooltip-code-background-color)!important;border:none!important;border-radius:calc(var(--rpl-tooltip-border-radius,.25rem) - var(--rem2))!important;padding:var(--rem4)!important}`;let p=class extends t.T{};return p.styles=a,p=r._([r.c("rpl-tooltip")],p),{get R(){return p}}}));
SML.dm("BHUYYzrx",["DN8NCGGW","DVMhF-xZ"],(async(t,e)=>{const i={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8,padding:0},n=(t,e,n)=>{const{container:o,margin:s,padding:r,position:l,variantFlipOrder:a,positionFlipOrder:p}={container:document.documentElement.getBoundingClientRect(),...i,...n},{left:c,top:h}=e.style;e.style.left="0",e.style.top="0";const u=t.getBoundingClientRect(),d=e.getBoundingClientRect(),m={t:u.top-d.height-s,b:u.bottom+s,r:u.right+s,l:u.left-d.width-s},f={vs:u.left,vm:u.left+u.width/2+-d.width/2,ve:u.left+u.width-d.width,hs:u.top,hm:u.bottom-u.height/2-d.height/2,he:u.bottom-d.height},[g,E="middle"]=l.split("-"),_=p[g],b=a[E],{top:y,left:v,bottom:w,right:S}=o;for(const t of _){const i="t"===t||"b"===t,n=m[t],[o,s]=i?["top","left"]:["left","top"],[l,a]=i?[d.height,d.width]:[d.width,d.height],[p,c]=i?[w,S]:[S,w],[h,u]=i?[y,v]:[v,y];if(!(n<h||n+l+r>p))for(const l of b){const p=f[(i?"v":"h")+l];if(!(p<u||p+a+r>c))return e.style[s]=p-d[s]+"px",e.style[o]=n-d[o]+"px",t+l}}return e.style.left=c,e.style.top=h,null};function o(t,e=50,i={leading:!0,trailing:!0}){i={leading:!0,trailing:!0,...i};let n,o,s,r=null,l=0;const a=function(){l=i.leading?Date.now():0,r=null,s=t.apply(n,o),r||(n=o=null)};return function(...p){const c=Date.now();l||!1!==i.leading||(l=c);const h=e-(c-l);return n=this,o=p,h<=0||h>e?(r&&(clearTimeout(r),r=null),l=c,s=t.apply(n,p),r||(n=o=null)):r||!1===i.trailing||(r=setTimeout(a,h)),s}}const s=["button","link","menuitem","tab","checkbox","combobox","gridcell","application","treeitem"];class r{set popperTrigger(t){this._popperTrigger=t}get popperTrigger(){if(this._popperTrigger)return this._popperTrigger;let t=this.host.shadowRoot?.querySelector("slot[faceplate-popper-trigger]")?.assignedElements()?.[0]??null;let e=0;const i=t=>t instanceof HTMLButtonElement||t instanceof HTMLAnchorElement||s.includes(t?.getAttribute("role")??"");if(i(t))return t;for(;t&&e<5;){if(t=t?.assignedElements?t?.assignedElements()?.[0]??null:t?.children[0]??null,i(t))return t;e++}return null}get popperContent(){return this.host.shadowRoot?.querySelector("[faceplate-popper-content]")?.querySelector("slot")?.assignedElements()?.[0]??null}constructor(e,{containerElement:i=document.documentElement,scrollContainerElement:n=t.cs().scrollContainerElement(),allowCloseByEvent:s=!0,...r}){this.status="closed",this._containerSize=null,this.containerSizeChanged=t=>{if(!this._containerSize)return!0;const e=this._containerSize;return Object.keys(t).some((i=>e[i]!==t[i]))},this.updateAriaStates=async(t=!1)=>{const e="open"===this.currentState.state,i="tooltip"===this.host.shadowRoot?.querySelector("[faceplate-popper-content]")?.getAttribute("role"),n="dialog"===this.host.shadowRoot?.querySelector("[faceplate-popper-content]")?.getAttribute("role"),o=this.popperTrigger,s=this.popperContent,r=!this._options.manualTriggerFocus&&!t&&!n&&"function"==typeof o?.focus;i||(t&&(o?.setAttribute("aria-haspopup",n?"dialog":"true"),s?.setAttribute("hidden","")),e?(s?.removeAttribute("hidden"),this.currentState.animationFinished&&await this.currentState.animationFinished,s?.openMenu?.()):(s?.setAttribute("hidden",""),s?.closeMenu?.(),r&&o?.focus()),o?.setAttribute("aria-expanded",`${e}`))},this.referenceInViewport=o((()=>{const{reference:t=null,containerElement:e=document.documentElement}=this._options;if("open"!==this.status)return!1;if(!t)return!1;const i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||e.clientHeight)&&i.right<=(window.innerWidth||e.clientWidth)}),80),this.isOffscreenBottom=o((t=>{const e=t.popper?.getBoundingClientRect(),i=this._options.reference?.getBoundingClientRect();return!!e&&window.innerHeight-(i.bottom+e.height)<16}),80),this.getPosition=t=>{const e=t.position??"bottom";return"open"===this.status?e:this.popper&&this.isOffscreenBottom(t)&&e?.includes("bottom")?e.replace("bottom","top"):t.position},this.reposition=()=>{this.referenceInViewport()?this.updatePopper():this.close()},this.open=async()=>{if(this.popper){if("open"===this.status)return Promise.resolve(null)}else this.initialize();this.popperContent?.removeAttribute("hidden"),this.updateOptions({});const t=this.showElement(this._options.popper,!0);return this.setStatus("open",t),t?.finished??Promise.resolve(null)},this.close=async t=>{if(t&&!this._options.allowCloseByEvent)return Promise.resolve(null);if(t&&(t.preventDefault(),t.stopPropagation()),"open"!==this.status)return Promise.resolve(null);const e=this.hideElement(this._options.popper,!0);return this.setStatus("closed",e),e?.finished??Promise.resolve(null)},this.toggle=async t=>"open"!==this.status?this.open():this.close(t),this.updatePopper=t=>{if(!this.popper)return null;const e=this.actualPosition;let i=null;try{i=this.popper.update(t)}catch(t){return null}const n=a(i);return n!==e&&(this.setActualPosition(n),this.host.requestUpdate()),i},this.setStatus=(t,e)=>{this.status=t,this.statusAnimation=e,this.statusAnimation?.finished.then((()=>{this.updateAriaStates()}))},this.setActualPosition=t=>{this.actualPosition=t},this.handleContainerResize=o((()=>{if("open"!==this.status)return;const t=(this._options.containerElement??document.documentElement).getBoundingClientRect();this.containerSizeChanged(t)&&(this._containerSize=t,this.updatePopper({...this._options,container:t}))}),80),this.getKeyframes=(t,e="show",i)=>{try{return new KeyframeEffect(t,[{visibility:"hidden",opacity:"0"},{visibility:"visible",opacity:"1"}],{fill:"both",direction:"show"===e?"normal":"reverse",duration:i,easing:"ease-in-out"})}catch(i){return()=>{"show"===e?(t.style.visibility="visible",t.style.opacity="1"):(t.style.visibility="hidden",t.style.opacity="0")}}},(this.host=e).addController(this),this._options={...r,containerElement:i,scrollContainerElement:n,allowCloseByEvent:s},this.actualPosition=this._options.position||null}async hostConnected(){await this.host.updateComplete,this.updateAriaStates(!0)}initialize(){this._containerSize=(this._options.containerElement??document.documentElement).getBoundingClientRect(),this.popper=((t,e,i)=>{const o="object"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...i}:t;return{update(t=o){const{reference:e,popper:i}=Object.assign(o,t);if(!i||!e)throw new Error("Popper- or reference-element missing.");return n(e,i,o)}}})({...this._options,container:this._containerSize}),this.resizeObserver=new ResizeObserver(this.handleContainerResize),this._options.containerElement&&this.resizeObserver.observe(this._options.containerElement);(this._options.scrollContainerElement??window).addEventListener("scroll",this.reposition),this.replaceElement(void 0,this._options.popper)}hostDisconnected(){this._options.containerElement&&this.resizeObserver?.unobserve(this._options.containerElement);(this._options.scrollContainerElement??window).removeEventListener("scroll",this.reposition)}getOptions(){return this._options}updateOptions({...t}){const e={...this._options,...t},i={...e};this.popper&&(this._containerSize=(e.containerElement??document.documentElement).getBoundingClientRect(),i.container=this._containerSize);const n=i.popperElementKey||"popperElement";!i.popper&&n in this.host&&(i.popper=this.host[n]);const o=i.referenceElementKey||"popperReferenceElement";!i.reference&&o in this.host&&(i.reference=this.host[o]),i.popper!==this._options.popper&&this.replaceElement(this._options.popper,i.popper),i.containerElement!==this._options.containerElement&&(this._options.containerElement&&(this.resizeObserver?.unobserve(this._options.containerElement),this._options.containerElement.removeEventListener("faceplate-close",this.close)),i.containerElement&&(this.resizeObserver?.observe(i.containerElement),i.containerElement.addEventListener("faceplate-close",this.close))),this._options=i,this.updatePopper({...this._options,position:this.getPosition(i)})}get currentState(){return{state:this.status,animationFinished:this.statusAnimation?.finished.then((()=>{}))??Promise.resolve()}}showElement(t,e=!0){if(t)return t.style.display="",this.updatePopper(),l(this.getKeyframes(t,"show",e?150:0))}hideElement(t,e="open"===this.status){if(!t)return;if("closed"===this.status)return void(t.style.display="none");const i=l(this.getKeyframes(t,"hide",e?150:0));return i?.finished.catch((()=>{})).then((()=>{"closed"===this.status&&(t.style.display="none"),i?.cancel()})),i}replaceElement(t,e){t&&(this.hideElement(t,!1),t.removeEventListener("faceplate-close",this.close)),e&&("open"===this.status?this.showElement(e,!1):this.hideElement(e,!1),e.addEventListener("faceplate-close",this.close))}}r.defaultPopperContentStyles=t.i`[faceplate-popper-content]{position:fixed;visibility:hidden;opacity:0}`;const l=t=>{if("function"==typeof t)return t();if(!t.target)return;t.target.getAnimations().forEach((t=>t.cancel()));const e=new Animation(t);return e.play(),e},a=t=>{if(!t)return null;const[e,i]=t,n=e?{t:"top",b:"bottom",l:"left",r:"right"}[e]:null,o=i?{s:"start",m:"middle",e:"end"}[i]:null;return n&&o?`${n}-${o}`:null},p="moderator";return{P:r,Q:"pageNumber",U:"user-flair-assign-modal",a:()=>e.b({source:p,action:"click",noun:"assign_flair_dialog"}),b:()=>e.b({source:p,action:"click",noun:"remove_assigned_userflair_confirm"}),c:()=>e.b({source:p,action:"click",noun:"user_search"}),d:()=>e.b({source:p,action:"click",noun:"assigned_flair_edit_dialog"}),e:"user-flair__user-delete",f:()=>e.b({source:p,action:"click",noun:"table_pagination"}),g:"user-flair__user-edit",h:"user-flair__user-delete-modal",i:"pageSize",j:"before",k:"after",l:"query",m:t=>e.b({source:p,action:"click",noun:"username_input"},{action_info:t}),n:()=>e.b({source:p,action:"click",noun:"assigned_flair_edit_save"}),o:()=>e.b({source:p,action:"click",noun:"assign_flair_confirm"}),r:()=>e.b({source:p,action:"click",noun:"remove_assigned_userflair_dialog"})}}));
SML.dm("YWXw6gDz",["DN8NCGGW","BHUYYzrx","CElIDZoh"],(async(e,t,s)=>{let i=class extends e.s{constructor(){super(...arguments),this.position="bottom-middle",this.triggerEvent="click",this.disabled=!1,this.manualTriggerFocus=!1,this.containerElement=document.documentElement,this.scrollContainerElement=window,this.onopen=null,this.onclose=null,this.emitter=s.v(this),this._popperController=new t.P(this,{position:this.position,referenceElementKey:"referenceElement",popperElementKey:"_menu",containerElement:this.containerElement,scrollContainerElement:this.scrollContainerElement,manualTriggerFocus:this.manualTriggerFocus}),this._eventUsedMap=new WeakMap,this.updated=e=>{e.has("position")&&this._popperController.updateOptions({position:this.position}),e.has("manualTriggerFocus")&&this._popperController.updateOptions({manualTriggerFocus:this.manualTriggerFocus})},this.handleDocumentClick=e=>{if(!(e.target instanceof Element)||this.hidden)return;const t=e.target.closest('[slot="menu"]'),s=this._eventUsedMap.has(e);null!==t||s||this.close()},this.handleEscape=e=>{"Escape"===e.key&&this.close(e)},this.addListenersWhileOpened=()=>{document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleEscape)},this.cleanupListenersWhileOpened=()=>{document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleEscape)},this.show=e=>{this.hidden=!1,this.emitter.dispatch("open"),this._menu.style.pointerEvents="auto",this._popperController.currentState.animationFinished.then((()=>{this.addListenersWhileOpened(),this.emitter.dispatch("opened")})),this.onopen?.(e??new Event("faceplate-dropdown-menu-show"))},this.close=(e,t)=>{!0===t?.disableRestoreFocus&&this._popperController.updateOptions({manualTriggerFocus:!0}),this.cleanupListenersWhileOpened(),this.hidden=!0,this.emitter.dispatch("close"),this._menu.style.pointerEvents="none",this._popperController.currentState.animationFinished.then((()=>{this.emitter.dispatch("closed"),this._popperController.updateOptions({manualTriggerFocus:this.manualTriggerFocus})})),this.onclose?.(e??new Event("faceplate-dropdown-menu-open"))},this.toggle=e=>{this.hidden?this.show(e):this.close(e)},this.handleClick=this.disabledHandler((e=>{this._eventUsedMap.set(e,!0),"click"===this.triggerEvent&&(this.hidden?this.show(e):this.close(e))})),this.handleMouseenter=this.disabledHandler((e=>{"hover"===this.triggerEvent&&this.show(e)})),this.handleMouseleave=this.disabledHandler((e=>{"hover"===this.triggerEvent&&this.close(e)})),this.handleFocusOut=this.disabledHandler((e=>{!this.hidden&&e.relatedTarget instanceof HTMLElement&&!n(this,e.relatedTarget)&&this.close(e,{disableRestoreFocus:!0})}))}get referenceElement(){return this.shadowRoot?.querySelector("#trigger")?.assignedElements()[0]??this}static get styles(){return[e.i`:host{--faceplate-dropdown-menu-z-index:1000;display:flex}#menu{border-radius:var(--rem8);box-shadow:0 4px 8px 0 rgba(0,0,0,.1),0 6px 12px 0 rgba(0,0,0,.25);display:inline-flex;justify-content:center;overflow:hidden;width:max-content;z-index:var(--faceplate-dropdown-menu-z-index);outline-offset:-1px}`,t.P.defaultPopperContentStyles]}get hidden(){return"closed"===this._popperController.currentState.state}set hidden(e){!0===e?this._popperController.close():this._popperController.open()}connectedCallback(){super.connectedCallback(),this.classList.add("connected")}firstUpdated(){this._menu&&(this._menu.style.pointerEvents="none")}disconnectedCallback(){super.disconnectedCallback(),this.cleanupListenersWhileOpened()}disabledHandler(e){return t=>{this.disabled||e(t)}}render(){return e.x` <slot id="trigger" aria-describedby="menu" faceplate-popper-trigger aria-controls="menu" @click="${this.handleClick}" @mouseenter="${this.handleMouseenter}" @mouseleave="${this.handleMouseleave}" @focusin="${this.handleMouseenter}" @focusout="${this.handleMouseleave}"></slot> <article id="menu" faceplate-popper-content @focusout="${this.handleFocusOut}"> <slot name="menu"></slot> </article> `}};e._([e.n({type:String})],i.prototype,"position",void 0),e._([e.n({type:String,attribute:"trigger-event"})],i.prototype,"triggerEvent",void 0),e._([e.n({type:Boolean})],i.prototype,"disabled",void 0),e._([e.n({type:Boolean,attribute:"manual-trigger-focus"})],i.prototype,"manualTriggerFocus",void 0),e._([e.w("#menu")],i.prototype,"_menu",void 0),e._([e.w("#trigger")],i.prototype,"_trigger",void 0),i=e._([e.c("faceplate-dropdown-menu")],i);const n=(e,t)=>{if(!e||!t)return!1;if(e===t)return!0;if(0===e.childElementCount&&!(e instanceof HTMLSlotElement))return!1;if(e.contains(t))return!0;if(e instanceof HTMLSlotElement&&e.assignedElements().some((e=>n(e,t))))return!0;if(e instanceof Element&&e.shadowRoot&&n(e.shadowRoot,t))return!0;for(const s of e.querySelectorAll("slot"))if(s.assignedElements().some((e=>n(e,t))))return!0;return!1};return{get F(){return i},S:class{constructor(e){this.previousChar="",this.focusedIndex=-1,this.cancelUpdate=!1,this.hasOptionVisualFocus=!1,this.hasSelection=!1,this.searchString="",this.searchTimeoutId=null,this.initializeSelections=()=>{this.options.forEach((e=>{this.makeSelection({selected:e.selected,option:e})}))},this.dispatchChangeEvent=()=>{this.hasSelection=!0,this.host.dispatchEvent(new CustomEvent(`${this.host.nodeName.toLowerCase()}:change`,{composed:!0,bubbles:!0,detail:{target:this.host}}))},this.onBlur=e=>{this.options.includes(e.relatedTarget)||(this.closeDropdownMenu(),this.host.blur())},this.onClick=()=>{(this.host.multiple&&!this.hasOptionVisualFocus||!this.host.multiple)&&this.host.dropdownMenu?.toggle()},this.shouldSelectFocusedOption=()=>{const e=this.host.hasAttribute("autocomplete"),t=!!this.host.readonly;return(e||t)&&!this.hasSelection&&this.hasOptionVisualFocus},this.onMenuClose=()=>{if(this.cancelUpdate||this.shouldSelectFocusedOption()&&this.selectFocusedOption(),this.selectedIndex>=0)this.focusedIndex=this.selectedIndex;else{if(this.host.readonly&&this.cancelUpdate)return;this.visibleOptions[this.focusedIndex]?.visualFocus(!1)}this.hasOptionVisualFocus=!1},this.onMenuOpen=()=>{this.focusedIndex=this.selectedIndex>=0?this.selectedIndex:-1,this.host.readonly&&this.focusedIndex<0&&(this.focusedIndex=0),this.focusedIndex>=0&&this.visuallyFocusOption(this.focusedIndex),this.hasSelection=!1,this.cancelUpdate=!1},this.onFaceplateOptionSelect=e=>{if(e.stopImmediatePropagation(),e.defaultPrevented)return;const t=e,{option:s,selected:i,allowSingleDeselection:n}=t?.detail||{};s&&this.makeSelection({option:s,selected:i,allowSingleDeselection:n})},this.makeSelection=async({selected:e,option:t,allowSingleDeselection:s})=>{this.host.multiple?(t?.dispatchEvent(this.createUpdateEvent(e)),await(t?.updateComplete)):(!s&&e||s)&&(e&&this.singleSelectionCache!==t&&this.singleSelectionCache?.dispatchEvent(this.createUpdateEvent(!1)),t?.selected!==e&&(t?.dispatchEvent(this.createUpdateEvent(e)),await(t?.updateComplete)),e&&(this.singleSelectionCache=t),setTimeout(this.closeDropdownMenu)),this.dispatchChangeEvent(),this.cancelUpdate=!1,this.host.requestUpdate()},this.visuallyFocusNextOption=()=>{this.focusedIndex===this.visibleOptions.length-1&&(this.focusedIndex=-1),this.visuallyFocusOption(++this.focusedIndex),this.hasOptionVisualFocus=!0},this.visuallyFocusPrevOption=()=>{this.focusedIndex<=0&&(this.focusedIndex=this.visibleOptions.length),this.visuallyFocusOption(--this.focusedIndex),this.hasOptionVisualFocus=!0},this.focusNextMatchedOption=e=>{if("number"==typeof this.searchTimeoutId&&window.clearTimeout(this.searchTimeoutId),this.searchTimeoutId=setTimeout((()=>{this.previousChar=this.searchString,this.searchString=""}),500),this.searchString+=e,this.searchString===this.previousChar){let e=this.focusedIndex+1;for(let t=0;t<this.visibleOptions.length;t++){if(e>this.visibleOptions.length-1&&(e=0),this.visibleOptions[e]?.displayText?.toLowerCase().startsWith(this.searchString)){this.visuallyFocusOption(e),this.focusedIndex=e;break}e++}}else{const e=this.visibleOptions.findIndex(((e,t)=>t!==this.focusedIndex&&e.displayText?.toLowerCase().startsWith(this.searchString)));-1!==e&&(this.focusedIndex=e,this.visuallyFocusOption(this.focusedIndex))}this.previousChar=this.searchString},this.selectFocusedOption=()=>{if(this.focusedIndex<0)return;const e=this.visibleOptions[this.focusedIndex];this.makeSelection({selected:!e.selected,option:e})},this.visuallyFocusOption=e=>{this.currentFocusedOption&&this.currentFocusedOption?.visualFocus(!1),this.currentFocusedOption=this.visibleOptions[e],this.currentFocusedOption?.visualFocus(!0),this.currentFocusedOption?.scrollIntoView()},this.openDropdownMenu=()=>{!this.host.disabled&&this.host.dropdownMenu?.hidden&&this.host.dropdownMenu?.show()},this.closeDropdownMenu=()=>{this.host.dropdownMenu?.hidden||this.host.dropdownMenu?.close()},this.handleKeyBindings=e=>{switch(e.key){case"ArrowDown":if(this.host.dropdownMenu?.hidden)return void this.openDropdownMenu();e.altKey||this.visuallyFocusNextOption();break;case"ArrowUp":this.openDropdownMenu(),this.visuallyFocusPrevOption();break;case"Escape":this.cancelUpdate=!0,this.closeDropdownMenu(),e.stopPropagation();break;case"Enter":case"Tab":this.host.dropdownMenu?.hidden||this.selectFocusedOption();break;default:e.key.match("^\\w$")&&(this.openDropdownMenu(),(this.host.multiple||this.host.readonly||this.host.referenceElement instanceof HTMLButtonElement)&&this.focusNextMatchedOption(e.key))}},(this.host=e).addController(this)}async hostConnected(){await this.host.updateComplete,this.resizeObserver=new ResizeObserver((()=>{this.host.style.setProperty("--select-width",`${this.host.getBoundingClientRect().width}px`)})),this.resizeObserver?.observe(this.host),this.host.addEventListener("faceplate-option:select",this.onFaceplateOptionSelect),this.host.addEventListener("keydown",this.handleKeyBindings),this.host.addEventListener("faceplate-dropdown-menu:open",this.onMenuOpen),this.host.addEventListener("faceplate-dropdown-menu:closed",this.onMenuClose),this.host.addEventListener("click",this.onClick),this.host.addEventListener("blur",this.onBlur),this.initializeSelections(),this.host.dropdownMenu&&(this.host.dropdownMenu.triggerEvent=void 0)}hostDisconnected(){this.resizeObserver?.disconnect(),this.host.removeEventListener("keydown",this.handleKeyBindings),this.host.removeEventListener("faceplate-option:select",this.onFaceplateOptionSelect),this.host.removeEventListener("faceplate-dropdown-menu:open",this.onMenuOpen),this.host.removeEventListener("faceplate-dropdown-menu:closed",this.onMenuClose),this.host.removeEventListener("click",this.onClick),this.host.removeEventListener("blur",this.onBlur)}get selectedOptions(){return this.options.filter((e=>e.selected))}get options(){return this.host.options??[]}get selectedIndex(){return this.options.findIndex((e=>e.selected))}get visibleOptions(){return(this.host.options??[]).filter((e=>!e.hasAttribute("hidden")))}get value(){return this.selectedOptions[0]?.value||""}set value(e){if(e===this.value)return;const t=this.options.findIndex((t=>t.value===e));if(-1===t)this.singleSelectionCache?.dispatchEvent(this.createUpdateEvent(!1)),this.singleSelectionCache=null;else{const e=this.options[t];this.makeSelection({selected:t>=0,option:e})}}createUpdateEvent(e){return new CustomEvent("faceplate-option:update",{composed:!0,detail:{selected:e}})}getSelectedOptionsAsStr(){return this.selectedOptions.map((e=>e.displayText)).join(", ").trim()}}}}));
SML.dm("D-XYEw65",["DN8NCGGW","DiQwYZkp","DVMhF-xZ","L-pRUMpq"],(async(t,e,i,a)=>{const r=t.e(class extends t.a{constructor(e){if(super(e),e.type!==t.t.PROPERTY&&e.type!==t.t.ATTRIBUTE&&e.type!==t.t.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!t.j(e))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(e,[i]){if(i===t.T||i===t.A)return i;const a=e.element,r=e.name;if(e.type===t.t.PROPERTY){if(i===a[r])return t.T}else if(e.type===t.t.BOOLEAN_ATTRIBUTE){if(!!i===a.hasAttribute(r))return t.T}else if(e.type===t.t.ATTRIBUTE&&a.getAttribute(r)===i+"")return t.T;return t.bf(e),i}});class n{constructor(t,e){this._observedNames=new Set,this._previousStates=new Map,this._records=new Map,this._eventListener=t=>{this._processRecord(t.detail)},this._callCallback=()=>{this._records.size&&this._callback(this.takeRecords(),this)},this._callback=t,this.form=e.form}_processRecord(t){const e=!this._records.size,{input:i,message:a,name:r}=t;if(!this._observedNames.has(r))return;this._previousStates.get(r)!==a&&(this._records.set(r,{target:i,message:a,name:r}),this._previousStates.set(r,a),this._records.size&&e&&queueMicrotask(this._callCallback))}observe(t){if(this._observedNames.has(t))return;this._observedNames.add(t),1===this._observedNames.size&&this.form.addEventListener("_faceplate-validation-change",this._eventListener);const e=this.form.elements[t];!e||e instanceof HTMLOutputElement||Array.isArray(e)||this._processRecord({input:e,name:t,message:e.validationMessage})}disconnect(){this._observedNames.size&&(this._observedNames.clear(),this._previousStates.clear(),this._records.clear(),this.form.removeEventListener("_faceplate-validation-change",this._eventListener))}takeRecords(){const t=Array.from(this._records.values());return this._records=new Map,t}unobserve(t){this._observedNames.has(t)&&(this._observedNames.delete(t),this._previousStates.delete(t),this._records.delete(t),this._observedNames.size||this.disconnect())}}let s=class extends t.s{constructor(){super(...arguments),this.name="",this.level=null,this.placeholder="",this.ariaLive=null,this.message="",this.characterCount=Number.NEGATIVE_INFINITY,this.characterCountAriaLabel="",this.visuallyHiddenText="",this.isInputDirty=!0,this._message="",this.setIsDirtyByAttribute=t=>{this.isInputDirty=t.hasAttribute("faceplate-dirty")},this.onFormConnect=t=>{t?.addEventListener("faceplate-submit",(()=>{this.isInputDirty=!0})),t&&this.isConnected&&(this._observer=new n((t=>{for(const e of t)if(e.name===this.name){if(e.target instanceof a.F){this.setIsDirtyByAttribute(e.target);new MutationObserver((t=>{for(const e of t)"faceplate-dirty"===e.attributeName&&this.setIsDirtyByAttribute(e.target),"faceplate-validity"===e.attributeName&&this.toggleSuccessStyling(e.target)})).observe(e.target,{attributes:!0})}else this.isInputDirty=!0;this.setMessage(this.message||e.message,"valid"===e.target.getAttribute("faceplate-validity")?i.a5.success:i.a5.error)}}),{form:t}),this._observer.observe(this.name),this._observer.form.addEventListener("faceplate-alert",this._handleAlert))},this.associateForm=t=>{this.onFormConnect(t)},this._handleAlert=t=>{this.isInputDirty=!0;const{name:e,level:a,message:r}=t.detail;e===this.name&&a!==i.a5.error&&this.setMessage(r,a)},this.toggleSuccessStyling=t=>{this.isInputDirty&&("valid"===t.getAttribute("faceplate-validity")?this.shadowRoot?.getElementById("helper-text")?.classList.add("success"):this.shadowRoot?.getElementById("helper-text")?.classList.remove("success"))}}connectedCallback(){super.connectedCallback(),e.c(this).then(this.onFormConnect)}disconnectedCallback(){super.disconnectedCallback(),this._observer&&(this._observer.disconnect(),this._observer.form.removeEventListener("faceplate-alert",this._handleAlert))}setMessage(t,e){t&&void 0!==e?this.level=i.a5[e]:this.removeAttribute("level"),this._message=t||""}get textContent(){return this.shadowRoot?.firstElementChild?.textContent||""}get innerText(){return this.shadowRoot?.firstElementChild?.innerText||""}static get styles(){return t.i`:host{display:block;font-size:var(--font-small);color:var(--color-input-helper-text);line-height:var(--size-md);font-size:var(--font-small);box-sizing:border-box}.container{display:flex;justify-content:space-between;padding-top:var(--spacer-input-padding-top);line-height:var(--size-md);font-size:var(--font-small)}.success,:host([level=success]){color:var(--color-success-content)}.overflow-char-limit,:host([level=alert]),:host([level=critical]),:host([level=emergency]),:host([level=error]){color:var(--color-danger-content)}:host([level=warning]){color:var(--color-alert-caution)}:host([level=notice]){color:var(--color-success-content)}.pristine{color:var(--color-input-helper-text)}:host([character-count]) .character-count{margin-inline-start:var(--spacer-xs);flex-shrink:0}.empty{padding:0}`}render(){const e=this.characterCount>Number.NEGATIVE_INFINITY;return this.placeholder||this._message||e?t.x`<span aria-live="${t.l(this.ariaLive??void 0)}" class="${i.y({container:!0,pristine:!this.isInputDirty})}"> <span id="helper-text">${this.isInputDirty&&this._message?this._message:this.placeholder}</span> ${e?t.x`<span class="character-count ${this.characterCount<0?"overflow-char-limit":""}" aria-label="${t.l(this.characterCountAriaLabel)}">${this.characterCount}</span>`:void 0} </span> <faceplate-screen-reader-content aria-live="assertive">${this.visuallyHiddenText}</faceplate-screen-reader-content>`:t.x`<faceplate-screen-reader-content aria-live="polite">${this.visuallyHiddenText}</faceplate-screen-reader-content>`}};t._([t.n({type:String,reflect:!0})],s.prototype,"name",void 0),t._([t.n({type:String,reflect:!0})],s.prototype,"level",void 0),t._([t.n({type:String})],s.prototype,"placeholder",void 0),t._([t.n({type:String,reflect:!0,attribute:"aria-live"})],s.prototype,"ariaLive",void 0),t._([t.n({type:String,attribute:"message"})],s.prototype,"message",void 0),t._([t.n({type:Number,attribute:"character-count"})],s.prototype,"characterCount",void 0),t._([t.n({type:String,attribute:"character-count-aria-label"})],s.prototype,"characterCountAriaLabel",void 0),t._([t.n({type:String,attribute:"visually-hidden-text"})],s.prototype,"visuallyHiddenText",void 0),t._([t.b()],s.prototype,"isInputDirty",void 0),t._([t.b()],s.prototype,"_message",void 0),s=t._([t.c("faceplate-form-helper-text")],s);class l extends a.F{constructor(){super(...arguments),this.suffix="",this.value="",this.name="",this.placeholder="",this.required=!1,this.screenReaderContent="",this.novalidate=!1,this.helperTextLevel=null,this.helperTextPlaceholder="",this.helperTextAriaLive="polite",this.helperTextMessage="",this.hasLabel=!1,this.hasTrailingButton=!1,this.statefulInput=!1,this.reportedDirty=!1,this.hasValidationHelpers=!1,this.suppressInternalClicks=!1,this.validationMsg="",this.allowMaxLengthOverflow=!1,this.setFormValidationHelpers=t=>{t&&(t.addEventListener("faceplate-submit",this.setDirtyAttribute),this.helperText?.associateForm(t),this.hasValidationHelpers=!0)},this.setStatefulInputByValue=()=>{this.statefulInput=!this.isEmpty},this.inputContainer=e=>t.x` <span class="${i.y({"input-container":!0})}"> ${e} </span> `,this.labelTextWrapper=()=>{const e=t=>t&&t[0]?.textContent;return t.x` <span class="label-text inner-label" id="fp-input-label"><slot name="label" @slotchange="${t=>this.onSlotChange({event:t,property:"hasLabel",name:"label",hasChanged:e})}"></slot>${this.required?t.x`<span class="required-asterisk" aria-hidden="true">*</span>`:null}</span> `},this.setDirtyAttribute=()=>{this.setAttribute("faceplate-dirty","")},this.onSlotChange=({event:t,property:e,name:i,hasChanged:a})=>{t.target?.name===i&&(this[e]=a?a(t.target?.assignedElements()):t.target?.assignedNodes().length>0)}}async connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("blur",this.onBlur.bind(this));const t=await e.c(this);this.setFormValidationHelpers(t)}disconnectedCallback(){super.disconnectedCallback(),this?.removeEventListener("focus",this.onFocus),this?.removeEventListener("blur",this.onBlur),this.form?.removeEventListener("faceplate-submit",this.setDirtyAttribute)}async firstUpdated(){super.firstUpdated(),this.calculateLabelPosition(),this.validateMaxLength()}updated(t){if(t.get("prefix")&&this.calculateLabelPosition(),void 0!==t.get("statefulInput")){const t=this.shadowRoot?.querySelector(".input-container")?.classList;this.statefulInput?t.add("stateful-input"):t.remove("stateful-input")}t.has("value")&&(super.value=this.value,this.setStatefulInputByValue())}get delegatedFocusElements(){return[this.innerInput]}static get styles(){return[super.styles,t.i`label{display:flex;position:relative}:host{outline:0;font-family:var(--font-sans);cursor:text}:host input,:host textarea{font:inherit;color:var(--color-neutral-content-strong);padding:0}.label-container{display:inline-flex;position:relative;height:var(--rem40);align-items:center;box-sizing:border-box}:host([appearance=bordered]) .label-container{background:var(--color-input-bordered);color:var(--color-input-bordered-text)}:host([appearance=secondary]) .label-container{background:var(--color-input-secondary);border-radius:var(--radius-md);outline:0;color:var(--color-input-secondary-text)}:host([appearance=secondary]) .label-container:hover{background:var(--color-input-secondary-hover)}:host([appearance=bordered]) .label-container:hover{background:var(--color-input-bordered-hover)}:host(:focus-within) .label-container{outline:1px auto var(--color-global-focus)}:host([faceplate-validity=invalid][faceplate-dirty]) .label-container{border-color:transparent;box-shadow:0 0 0 var(--rem2) var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .label-container{border-color:transparent;box-shadow:none}:host .label-container,:host faceplate-form-helper-text{padding-inline-start:var(--spacer-md)}:host .label-container,:host faceplate-form-helper-text:not(.helper-text-without-label-with-trailing){padding-inline-end:var(--spacer-md)}:host([appearance=secondary]) .label-container{align-items:center}:host .label-container.with-trailing-button{padding-inline-end:var(--spacer-xs)}.label-container.interior-label{height:var(--rem56)}.input-container{font:var(--font-16-20-regular)}::slotted([slot=leadingIcon]),::slotted([slot=trailingIconButton]){color:var(--color-neutral-content-weak);display:inline-flex;align-items:center}:host([faceplate-validity=valid][faceplate-dirty]) .trailing-icon.valid{color:var(--color-success-background)}.required-asterisk,:host([faceplate-validity=invalid][faceplate-dirty]) .trailing-icon.invalid{color:var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .trailing-icon.valid{display:none}.trailing-icon,::slotted([slot=trailingIcon]){margin-inline-start:var(--spacer-xs);flex-shrink:0}:host([disabled]){color:var(--color-neutral-content-disabled)}:host([faceplate-validity=invalid][faceplate-dirty]) .invalid,:host([faceplate-validity=valid][faceplate-dirty]) .valid{display:inline-block}.trailing-icon{display:none}:host .label-container.without-label faceplate-form-helper-text,:host([appearance=secondary]) .label-container.without-label{padding-top:var(--rem10);padding-bottom:var(--rem10)}:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label),:host([faceplate-validity=valid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label){color:var(--color-label-default)}.label-text{position:absolute;pointer-events:none}:host([disabled]) .label-text:not(.inner-label){color:var(--color-neutral-content-disabled)}.stateful-input .label-text:not(.inner-label){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.stateful-input .label-text.inner-label{transform:translate(calc(-1 * var(--left-label-position)),calc(-1 * (var(--rem16))));font-size:var(--size-sm);line-height:var(--rem16);white-space:nowrap}.label-container:not(.without-label) .input-container:not(.stateful-input) input::placeholder,.label-container:not(.without-label) .input-container:not(.stateful-input) textarea::placeholder{opacity:0}.label-container:not(.without-label) .input-container.stateful-input{transform:translateY(var(--spacer-xs))}.activated,.activated .label-text.inner-label{transition:all 150ms ease-out}.inner-label{inset-inline-start:var(--left-label-position)}.input-container:not(.stateful-input) .inner-label{transform:translateY(0);transition:transform 150ms ease}.hidden{display:none}.label-text:not(.inner-label){color:var(--color-label-default)}slot[name=clearButton]:not(.has-value){display:none}.input-boundary-box{display:flex;align-items:center}.input-boundary-box,.label-container{flex:1}.label-container:not(.without-label) .input-boundary-box{padding:var(--spacer-xs) 0}#trailing-icons-container{display:flex;align-items:center;gap:var(--spacer-xs);justify-content:flex-end}:host([persistent-trailing-icon]) #trailing-icons-general{flex-direction:row-reverse}.input-prefix,.input-suffix,.label-text{color:var(--color-label-default)}:host .without-label.with-trailing-button{padding-inline-end:var(--spacer-2xs)}.input-container{position:relative;transform:translateY(0);display:flex;align-items:center;width:100%;line-height:var(--rem20)}:host([faceplate-validity=invalid]:not([persistent-trailing-icon])[faceplate-dirty]) ::slotted([slot=trailingIconButton]){display:none}#trailing-icons-general{display:flex;align-items:center}#trailing-icons-validation{display:flex}:host(:not([faceplate-dirty])) #trailing-icons-validation{display:none}`]}get isEmpty(){return!(!this.innerInput?.value&&this.innerInput?.validity.badInput)&&!(this.innerInput?.value??this.value)}onFocus(){this.hasAttribute("faceplate-dirty")&&!this.reportedDirty&&(this.reportedDirty=!0),this.removeAttribute("faceplate-dirty"),this.shadowRoot?.querySelector(".input-container")?.classList.add("activated"),this.isEmpty&&(this.statefulInput=!0)}onBlur(){this.isEmpty&&(this.statefulInput=!1),this.reportedDirty&&this.setAttribute("faceplate-dirty","")}focus(){this.innerInput?.focus()}blur(){this.innerInput?.blur()}onChange(t){const e=t?.target;this.value=e?.value||"",this.dispatchEvent(new InputEvent("change",{bubbles:!0}))}onInput(t){const e=t?.target;this.value=e?.value||"",this.handleCharLimit?.(),this.validateMaxLength(),this.setStatefulInputByValue()}validateMaxLength(){if(this.allowMaxLengthOverflow&&this.maxLength){const t=this._internals.validationMessage===this.validationMsg,e=this.value.length>this.maxLength;!t&&e?this.setCustomValidity(this.validationMsg):t&&!e&&this.setCustomValidity("")}}handleCharLimit(){const t=this.maxLength&&this.value.length>=this.maxLength;this.helperText&&this.helperTextScreenReaderMsg&&(t?this.helperText.visuallyHiddenText=this.helperTextScreenReaderMsg:!t&&this.helperText.visuallyHiddenText&&(this.helperText.visuallyHiddenText=""))}async calculateLabelPosition(t=0){let e=0,i=0;const a=this.shadowRoot?.querySelector(".input-prefix");if(a){!getComputedStyle(this.shadowRoot?.host).getPropertyValue("--font-16-20-regular").trim().length&&t<5&&setTimeout((()=>{this.calculateLabelPosition(t+1)}),50),i=a.getBoundingClientRect().width;const r=getComputedStyle(this.shadowRoot?.querySelector(".input-prefix")).getPropertyValue("margin-inline-end");e+=i+parseFloat(r)}(this.shadowRoot?.querySelector("label")).style.setProperty("--left-label-position",`${e}px`)}onLabelClick(t){this.suppressInternalClicks&&"input"!==t.target.nodeName.toLowerCase()&&t.stopPropagation()}renderInput(e){let a;return this.characterCount&&(a=this.maxLength?this.maxLength-this.value.length:this.value.length),t.x`<label @click="${this.onLabelClick}"> <div class="${i.y({"label-container":!0,"interior-label":!0,"without-label":!this.hasLabel,"with-trailing-button":this.hasTrailingButton})}"> <span class="input-boundary-box"> <slot name="leadingIcon"></slot> ${this.inputContainer(t.x` ${this.prefix?t.x`<span class="input-prefix">${this.prefix}</span>`:void 0} ${this.labelTextWrapper()} ${e} ${this.suffix?t.x`<span class="input-suffix">${this.suffix}</span>`:void 0} `)} <span id="trailing-icons-container"> <span id="trailing-icons-validation"> ${t.aL({attributes:{className:"trailing-icon invalid"},size:t.I.Medium})} ${t.C({attributes:{className:"trailing-icon valid"},size:t.I.Medium})} </span> <span id="trailing-icons-general"> <slot name="trailingIconButton" @slotchange="${t=>this.onSlotChange({event:t,property:"hasTrailingButton",name:"trailingIconButton"})}"> </slot> <slot name="clearButton" class="${i.y({"has-value":!!this.value.length})}"></slot> </span> </span> </span> </div> </label> <faceplate-form-helper-text class="${i.y({"no-label":!this.hasLabel,"helper-text-without-label-with-trailing":!this.hasLabel&&this.hasTrailingButton})}" character-count="${t.l(a)}" name="${this.name}" aria-live="${t.l(this.helperTextAriaLive??void 0)}" message="${t.l(this.helperTextMessage)}" level="${t.l(this.helperTextLevel??void 0)}" placeholder="${this.helperTextPlaceholder}" character-count-aria-label="${t.l(this.characterCountAriaLabel)}"> </faceplate-form-helper-text>`}}return l.clearButton=(e={})=>i.n({attributes:{...e,type:"button"},appearance:"plain",size:i.$.Small,leadingIcon:t.ae({attributes:{className:"trailing-icon"},size:t.I.Medium})}),t._([t.n({type:String})],l.prototype,"suffix",void 0),t._([t.n({type:String})],l.prototype,"value",void 0),t._([t.n({type:String})],l.prototype,"name",void 0),t._([t.n({type:String})],l.prototype,"placeholder",void 0),t._([t.n({type:Boolean})],l.prototype,"required",void 0),t._([t.n({type:String})],l.prototype,"screenReaderContent",void 0),t._([t.n({type:String})],l.prototype,"autocomplete",void 0),t._([t.n({type:String})],l.prototype,"inputmode",void 0),t._([t.n({type:Boolean})],l.prototype,"novalidate",void 0),t._([t.n({type:Number,attribute:"maxlength"})],l.prototype,"maxLength",void 0),t._([t.n({type:Number,attribute:"minlength"})],l.prototype,"minLength",void 0),t._([t.w("input,textarea")],l.prototype,"innerInput",void 0),t._([t.w("faceplate-form-helper-text")],l.prototype,"helperText",void 0),t._([t.n({type:String,reflect:!0,attribute:"helper-text-level"})],l.prototype,"helperTextLevel",void 0),t._([t.n({type:String,attribute:"helper-text-placeholder"})],l.prototype,"helperTextPlaceholder",void 0),t._([t.n({type:String,reflect:!0,attribute:"helper-text-aria-live"})],l.prototype,"helperTextAriaLive",void 0),t._([t.n({type:String,attribute:"helper-text-message"})],l.prototype,"helperTextMessage",void 0),t._([t.n({type:Boolean,attribute:"character-count"})],l.prototype,"characterCount",void 0),t._([t.n({type:String,attribute:"helper-text-screen-reader-msg"})],l.prototype,"helperTextScreenReaderMsg",void 0),t._([t.n({type:String,attribute:"character-count-aria-label"})],l.prototype,"characterCountAriaLabel",void 0),t._([t.b()],l.prototype,"hasLabel",void 0),t._([t.b()],l.prototype,"hasTrailingButton",void 0),t._([t.k({slot:"label"})],l.prototype,"labelSlot",void 0),t._([t.k({slot:"trailingIconButton"})],l.prototype,"trailingIconButtonSlot",void 0),t._([t.b()],l.prototype,"statefulInput",void 0),t._([t.n({type:Boolean,attribute:"suppress-internal-clicks"})],l.prototype,"suppressInternalClicks",void 0),t._([t.n({type:Boolean})],l.prototype,"readonly",void 0),t._([t.n({type:String,attribute:"validation-message"})],l.prototype,"validationMsg",void 0),t._([t.n({type:Boolean,attribute:"allow-max-length-overflow"})],l.prototype,"allowMaxLengthOverflow",void 0),{T:l,l:r}}));
SML.dm("Chf2nmby",["DN8NCGGW","D-XYEw65","DVMhF-xZ","CElIDZoh"],(async(e,i,a,n)=>{var o;!function(e){e.BORDERED="bordered",e.SECONDARY="secondary"}(o||(o={}));let r=class extends i.T{constructor(){super(...arguments),this.prefix="",this.type="text",this.appearance=o.SECONDARY,this.persistentTrailingIcon=!1,this.withSelect=!1}static get styles(){return[super.styles,e.i`input{outline:0;background:0 0;border:none;width:100%}:host([appearance=bordered]) .label-container:not(.without-label) .input-container.stateful-input{transform:translateY(0)}::slotted([slot=leadingIcon]){margin-inline-end:var(--spacer-xs);display:flex}.input-prefix{margin-inline-end:var(--spacer-4xs)}.input-suffix{margin-inline-start:var(--spacer-4xs)}.input-prefix,.input-suffix{flex-shrink:0}:host([appearance=bordered]) .label-container{border-radius:20px 20px 0 0;align-items:flex-end;padding-bottom:var(--spacer-2xs)}:host([appearance=bordered]) .input-boundary-box{margin-bottom:var(--rem6);align-items:center;padding:0}:host .label-container.without-label{height:var(--rem40)}:host(:focus-within) .label-container:not(.with-trailing-button) ::slotted([slot=clearButton].has-value),:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) ::slotted([slot=clearButton].has-value){display:inline-block}`]}dispatchFocusin(){}render(){return super.renderInput(e.x`<input aria-labelledby="fp-input-label" ?readonly="${this.readonly}" type="${this.type}" pattern="${e.l(this.pattern)}" @input="${this.onInput}" @change="${this.onChange}" @mouseover="${e=>e.stopPropagation()}" .value="${i.l(this.value)}" name="${e.l(this.withSelect?void 0:this.name)}" minlength="${e.l(this.minLength)}" maxlength="${e.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" min="${e.l(this.min)}" max="${e.l(this.max)}" placeholder="${e.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${e.l(this.autocomplete)}" inputmode="${e.l(this.inputmode)}" step="${e.l(this.step)}">`)}};e._([e.n({type:String})],r.prototype,"prefix",void 0),e._([e.n({type:String})],r.prototype,"type",void 0),e._([e.n({type:String})],r.prototype,"pattern",void 0),e._([e.n({converter:e=>"string"==typeof e&&"any"===e.toLowerCase()?"any":isNaN(e)?void 0:Number(e)})],r.prototype,"step",void 0),e._([e.n({type:Number})],r.prototype,"min",void 0),e._([e.n({type:Number})],r.prototype,"max",void 0),e._([e.n({type:String,reflect:!0})],r.prototype,"appearance",void 0),e._([e.n({type:Boolean,attribute:"persistent-trailing-icon"})],r.prototype,"persistentTrailingIcon",void 0),e._([e.n({type:Boolean,attribute:"with-select"})],r.prototype,"withSelect",void 0),r=e._([e.c("faceplate-text-input")],r);let t=n.cx({videoMinDimensionError:(e,i)=>`Videos must be at least ${e}x${i}`,videoMinRateError:e=>`Videos must have a bitrate of at least ${Math.floor(e)}KB/s`,videoCodecError:()=>"Unsupported video codec",videoIsTooShortError:e=>a.c8({one:`Videos must be at least ${e} second`,other:`Videos must be at least ${e} seconds`,count:e}),videoIsTooLongError:e=>a.c8({one:`Videos must be shorter than ${e} minute`,other:`Videos must be shorter than ${e} minutes`,count:e}),videoMaxSizeError:e=>`Videos must be ${e}GB or smaller`,videoMimetypeError:()=>"Upload an MP4 or MOV",imageMaxSizeError:e=>`Upload an image less than ${e}MB`,imageMaxSizeErrorKB:e=>`Upload an image less than ${e}KB`,gifMaxSizeError:e=>`Upload a GIF less than ${e}MB`,gifMaxSizeErrorKB:e=>`Upload a GIF less than${e}KB`,imageMaxDimensionError:(e,i)=>`Upload an image smaller than ${e}x${i}`,imageMinDimensionError:(e,i)=>`Upload an image at least ${e}x${i}`,imageOnlyGifsError:()=>"Upload a GIF",imageOnlyStaticImagesError:()=>"Upload a PNG, JPG, WEBP",imageStaticOrGifError:()=>"Upload a PNG, JPG, WEBP, or GIF",or:()=>"or ",imageTypeJoin:e=>`${d(e).reduce(((e,i,a,n)=>`${e}${s(a,n)}${$(a,n)}${i}`),"")}`,imageInvalidTypeErrorGeneric:()=>"Upload an image",imageInvalidTypeErrorSpecified:e=>`Upload a ${e}`});const d=e=>e.reduce(((e,i)=>{const a=n.c1.get(i)||i;return e.includes(a)?e:[...e,a]}),[]),s=(e,i)=>e>0?i.length>2?", ":" ":"",$=(e,i)=>i.length>1&&e===i.length-1?t.or():"",l=["image/jpeg","image/png","image/webp"],u=["image/gif"],m=[...l,...u],c=1024,h=1048576,I=20971520,p=104857600,N=e=>e.split(",").map((e=>e.trim())),P=e=>{const i="accept"in e?e.accept:void 0,{allowStaticImages:a=!1,allowAnimatedImages:n=!1}="allowStaticImages"in e?e:{};return{accept:i,allowStaticImages:a,allowAnimatedImages:n}};function G(e){const{accept:i,allowStaticImages:a,allowAnimatedImages:n}=P(e);if(i&&i?.includes("image/*"))return t.imageInvalidTypeErrorGeneric();if(i){const e=N(i);return t.imageInvalidTypeErrorSpecified(t.imageTypeJoin(e))}return n&&!a?t.imageOnlyGifsError():a&&!n?t.imageOnlyStaticImagesError():t.imageStaticOrGifError(i)}function k(e){const i=[],{accept:a,allowStaticImages:n,allowAnimatedImages:o}=P(e);return a?N(a):(n&&i.push(...l),o&&i.push(...u),i)}return{get F(){return r},S:m,get T(){return o},a:k,g:async function(e){const i=URL.createObjectURL(e),{width:a,height:n}=await function(e){return new Promise(((i,a)=>{const n=new Image;n.onload=()=>{i({width:n.width,height:n.height})},n.onerror=e=>{a(e)},n.src=e}))}(i);return{src:i,type:e.type,size:e.size,width:a,height:n}},get u(){return t},v:function(e,i){const{width:a,height:n,type:o,size:r}=e,{minImageDimension:d,maxImageDimension:s,maxImageFileSize:$=I,maxGifFileSize:l=p}=i,{accept:u,allowStaticImages:m,allowAnimatedImages:N}=P(i),g=k(i);if(!(g.includes(o)||g.includes("image/*")&&o.startsWith("image/")))return{valid:!1,error:G(u?{accept:u}:{allowStaticImages:m,allowAnimatedImages:N}),reason:"INVALID_IMAGE_TYPE_ERROR"};if(d&&(a<d||n<d))return{valid:!1,error:t.imageMinDimensionError(d,d),reason:"IMAGE_MIN_DIMENSION_ERROR"};if(s&&(a>s||n>s))return{valid:!1,error:t.imageMaxDimensionError(s,s),reason:"IMAGE_MAX_DIMENSION_ERROR"};if("image/gif"===o&&r>l){return{valid:!1,error:Math.floor(l/h)<1?t.gifMaxSizeErrorKB(Math.floor(l/c)):t.gifMaxSizeError(Math.floor(l/h)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}if(o.startsWith("image/")&&"image/gif"!==o&&r>$){return{valid:!1,error:Math.floor($/h)<1?t.imageMaxSizeErrorKB(Math.floor($/c)):t.imageMaxSizeError(Math.floor($/h)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}return{valid:!0,error:null}}}}));
SML.dm("3bEj5-ZB",["DN8NCGGW","DiQwYZkp","DVMhF-xZ","YWXw6gDz","L-pRUMpq","Chf2nmby","ChYc5yrF"],(async(e,t,i,a,l,r)=>{let s=class extends l.F{constructor(){super(...arguments),this.appearance=r.T.SECONDARY,this.label="",this.clearable=!1,this.multiple=!1,this.required=!1,this.helperTextLevel=null,this.helperTextPlaceholder="",this.helperTextAriaLive="polite",this.helperTextMessage="",this.readonly=!1,this.inputRef=i.aF(),this._selectController=new a.S(this),this.focus=()=>{this.inputRef.value?.focus()},this.syncInputValidation=(e=!1)=>{const t=this.options.map((e=>e.value)),i=this.inputRef?.value?.value,a=this.value||this.arbitrary&&i||!this.arbitrary&&t.includes(i);if(this.required&&!a){const t=this.inputRef?.value?._internals.validationMessage;this.dropdownMenu?.hidden&&t&&(e?this.form?.invalidateFieldWithMessage(this.name,t):this.setCustomValidity(t))}else this.form?.invalidateFieldWithMessage(this.name,"")},this.resetFaceplateDirty=()=>{this.removeAttribute("faceplate-dirty")},this.matchOptionsToInput=e=>{if(this.autocomplete&&!this.multiple){const t=e.currentTarget?.value;this.options.forEach((e=>{const i=e.displayText?.toLowerCase().trim();if(this.onFilterOption?this.onFilterOption?.(t,e):i?.startsWith(t.toLowerCase())){if(!t)return e.removeAttribute("hidden"),void(e.matchedText="");e.hasAttribute("hidden")&&e.removeAttribute("hidden"),e.matchedText=e.displayText?.slice(0,t.length)}else e.setAttribute("hidden","")})),this._selectController.focusedIndex=0}},this.clear=e=>{e.preventDefault(),e.stopPropagation(),this._selectController.selectedOptions.forEach((e=>{e.resetSelection()})),this.inputRef.value&&(this.inputRef.value.value="")},this.handleKeyBindings=e=>{this.readonly||this.multiple?e.preventDefault():"Backspace"!==e.key||this.multiple||(this._selectController.value="")},this.getTextField=()=>e.x`<faceplate-text-input ?disabled="${this.disabled}" novalidate ${i.at(this.inputRef)} appearance="${this.appearance}" role="combobox" aria-controls="menu" aria-expanded="${!this.hidden}" id="trigger" faceplate-popper-trigger aria-label="${this.label}" value="${this._selectController.getSelectedOptionsAsStr()}" ?required="${this.required}" @input="${this.matchOptionsToInput}" suppress-internal-clicks persistent-trailing-icon with-select helper-text-aria-live="${e.l(this.helperTextAriaLive??void 0)}" helper-text-message="${e.l(this.helperTextMessage)}" helper-text-level="${e.l(this.helperTextLevel??void 0)}" helper-text-placeholder="${e.l(this.helperTextPlaceholder)}" helper-text-screen-reader-msg="${e.l(this.helperTextScreenReaderMsg)}" aria-autocomplete="list" name="${this.name}"> <span slot="label">${this.label}</span> <slot name="clearButton" slot="clearButton" @click="${this.clear}"></slot> <span slot="trailingIconButton">${e.M({attributes:{"aria-hidden":"true"}})}</span> </faceplate-text-input>`}get referenceElement(){return this.inputRef.value}get selectedOptions(){return this._selectController.selectedOptions}get selectedIndex(){return this._selectController.selectedIndex}get value(){return this._selectController.value}set value(e){e!==this.value&&(this._selectController.value=e)}connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.resetFaceplateDirty),this.addEventListener("keydown",this.handleKeyBindings)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focus",this.resetFaceplateDirty),this.removeEventListener("keydown",this.handleKeyBindings)}async firstUpdated(){super.firstUpdated(),this.setupValidationSync()}async setupValidationSync(){const e=await t.c(this);e&&this.isConnected&&(this.inputRef.value?.hasValidationHelpers||this.inputRef.value?.setFormValidationHelpers(e),this.syncInputValidation(),this.addEventListener(e.validationTrigger,(()=>this.syncInputValidation(!0))),e.addEventListener("faceplate-submit",(()=>this.syncInputValidation(!0))))}static get styles(){return e.i`:host{display:inline-block}:host([disabled]){cursor:not-allowed}faceplate-text-input{flex:1}:host([readonly]){caret-color:transparent}faceplate-menu{height:var(--faceplate-select-menu-height,auto);width:var(--faceplate-select-menu-width,auto);max-height:var(--faceplate-select-menu-max-height,auto);max-width:var(--faceplate-select-menu-max-width,auto);overflow:auto}`}render(){return e.x` <faceplate-dropdown-menu ?disabled="${this.disabled}" position="bottom-start" manual-trigger-focus> ${this.getTextField()} <faceplate-menu part="menu" slot="menu" id="menu" ariarole="listbox" faceplate-popper-content disable-auto-focus> <slot></slot> </faceplate-menu> </faceplate-dropdown-menu> `}};e._([e.n({type:String})],s.prototype,"appearance",void 0),e._([e.n({type:String})],s.prototype,"label",void 0),e._([e.n({type:Boolean})],s.prototype,"clearable",void 0),e._([e.n({type:Boolean})],s.prototype,"multiple",void 0),e._([e.n({type:Boolean})],s.prototype,"required",void 0),e._([e.n({type:String})],s.prototype,"autocomplete",void 0),e._([e.n({type:Boolean})],s.prototype,"arbitrary",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-level"})],s.prototype,"helperTextLevel",void 0),e._([e.n({type:String,attribute:"helper-text-placeholder"})],s.prototype,"helperTextPlaceholder",void 0),e._([e.n({type:String,reflect:!0,attribute:"helper-text-aria-live"})],s.prototype,"helperTextAriaLive",void 0),e._([e.n({type:String,attribute:"helper-text-message"})],s.prototype,"helperTextMessage",void 0),e._([e.n({type:String,attribute:"helper-text-screen-reader-msg"})],s.prototype,"helperTextScreenReaderMsg",void 0),e._([e.n()],s.prototype,"onFilterOption",void 0),e._([e.n({type:Boolean})],s.prototype,"readonly",void 0),e._([e.k()],s.prototype,"options",void 0),e._([e.k({selector:"faceplate-option:not([hidden])"})],s.prototype,"visibleOptions",void 0),e._([e.k()],s.prototype,"triggerSlot",void 0),e._([e.w("faceplate-dropdown-menu")],s.prototype,"dropdownMenu",void 0),s=e._([e.c("faceplate-select-text-input")],s)}));
SML.dm("CEf0pl28",["DN8NCGGW","CElIDZoh"],(async(e,t)=>{class s extends(function(e){var t;return(t=class extends e{}).VERSION="unreleased",t}(e.s)){}let i=class extends s{constructor(){super(...arguments),this.selected=!1,this.disabled=!1,this.current=!1,this.emitter=t.v(this),this.trustedUpdate=!1,this.handleSelection=e=>{e.stopPropagation(),this.disabled||this.dispatchSelectRequest(!this.selected)},this.onClick=e=>{this.handleSelection(e)},this.dispatchSelectRequest=(e=this.selected,t)=>{this.emitter.dispatch("select",{bubbles:!0,composed:!0,detail:{option:this,selected:e,allowSingleDeselection:t}})},this.resetSelection=()=>{this.matchedText="",this.removeAttribute("hidden"),this.selected=!1,this.dispatchSelectRequest()},this.visualFocus=e=>{this.current=e}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick),this.addEventListener(this.emitter.eventId("update"),this.onUpdateFromSelect),this.setAttribute("role","option")}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onClick),this.removeEventListener(this.emitter.eventId("update"),this.onUpdateFromSelect)}updated(e){e.has("selected")&&this.setAttribute("aria-selected",`${this.selected}`),e.has("disabled")&&this.setAttribute("tabindex",this.disabled?"-1":"0"),this.trustedUpdate&&(this.trustedUpdate=!1)}willUpdate(e){e.has("selected")&&!this.trustedUpdate&&this.dispatchSelectRequest(this.selected,!0)}onUpdateFromSelect(e){const{selected:t}=e.detail??{};t!==this.selected&&(this.selected=t,this.trustedUpdate=!0)}static get styles(){return e.i`:host{color:var(--color-secondary-plain);cursor:pointer;display:flex;align-items:center;gap:var(--spacer-xs);padding:var(--spacer-xs);min-width:var(--select-width, 'auto');box-sizing:border-box;outline-offset:-1px}:host([hidden]){display:none}:host(:hover){background:var(--color-neutral-background-strong-hover)}:host([selected]){background:var(--color-neutral-background-selected)}:host([current]){outline:1px auto var(--color-global-focus)}:host([disabled]){color:var(--color-interactive-content-disabled);pointer-events:none}slot[name=leading]{width:var(--size-xl);height:var(--size-xl);align-items:center}::slotted([slot=leading]){display:inline-flex}slot:not([name]){display:inline-block;width:100%;line-height:var(--rem20)}.matched-text{font-weight:700}`}render(){const t=this.matchedText?.length||0;return e.x`<slot name="leading"></slot> <slot> <span class="matched-text">${this.matchedText}</span><span>${this.displayText?.slice(t)}</span> </slot> <span>${this.selected?e.C():e.A}</span>`}};e._([e.n({type:Boolean})],i.prototype,"selected",void 0),e._([e.n({type:Boolean})],i.prototype,"disabled",void 0),e._([e.n({type:String})],i.prototype,"value",void 0),e._([e.n({type:String,attribute:"matched-text",reflect:!0})],i.prototype,"matchedText",void 0),e._([e.n({type:String,attribute:"display-text"})],i.prototype,"displayText",void 0),e._([e.n({type:Boolean,reflect:!0})],i.prototype,"current",void 0),e._([e.u({flatten:!0})],i.prototype,"defaultSlot",void 0),i=e._([e.c("faceplate-option")],i)}));
SML.dm("BsQJl0hY",["DN8NCGGW","DVMhF-xZ","C_M_NGfT","CWi6z3tG","CElIDZoh"],(async(r,o,t,a)=>{class e extends t.T{constructor(){super(...arguments),this.variant="plain",this.placement=a.P.Bottom,this.disabled=!1,this.label="",this.distance=8,this.animationNames={show:"coachmark.show",hide:"coachmark.hide",denyClose:"coachmark.denyClose",overlayShow:"coachmark.overlay.show",overlayHide:"coachmark.overlay.hide"}}connectedCallback(){super.connectedCallback(),this.addEventListener("rpl-coachmark-card:close-button-clicked",this.hide)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("rpl-coachmark-card:close-button-clicked",this.hide)}render(){return r.x` <rpl-popper ?active="${this.open}" strategy="${this.hoist?"fixed":"absolute"}" .anchor="${this.anchor}" flip shift arrow safe-area distance="${this.distance}" skidding="${this.skidding}" placement="${r.l(this.placement)}" exportparts="
          popup:popper--popup,
          arrow:popper--arrow
        " class="${o.y({coachmark:!0,"coachmark--open":this.open})}" ${o.at(this.popperRef)}> <slot slot="anchor" ${o.at(this.defaultSlotRef)}></slot> <slot name="content" ${o.at(this.bodyRef)} ${o.at(this.contentSlotRef)}></slot> </rpl-popper> `}}r._([r.n({type:String,reflect:!0})],e.prototype,"variant",void 0),r._([r.n({type:String,reflect:!0})],e.prototype,"placement",void 0),r._([r.n({type:Boolean,reflect:!0})],e.prototype,"disabled",void 0),r._([r.n({type:String,reflect:!0})],e.prototype,"label",void 0),r._([r.n()],e.prototype,"anchor",void 0);var p=r.i`${o.z}:host{--transition-duration:250ms;display:contents}:host,:host([appearance=neutral]){--rpl-coachmark-background-color:var(--color-neutral-background);--rpl-coachmark-color:var(--color-neutral-content-strong)}:host([appearance=inverted]){--rpl-coachmark-background-color:var(--color-inverted-neutral-background);--rpl-coachmark-color:var(--color-inverted-neutral-content-strong)}.coachmark{--arrow-size:var(--rpl-coachmark-arrow-size, 4px);--arrow-color:var(--rpl-coachmark-background-color)}rpl-popper{--arrow-size:8px}rpl-popper[placement^=top]::part(arrow){box-shadow:1px 1px 2px rgba(0,0,0,.05)}rpl-popper[placement^=bottom]::part(arrow){box-shadow:-1px -1px 2px rgba(0,0,0,.05)}rpl-popper[placement^=left]::part(arrow){box-shadow:0 -2px 2px rgba(0,0,0,.05)}rpl-popper[placement^=right]::part(arrow){box-shadow:-2px 0 2px rgba(0,0,0,.05)}rpl-popper::part(popup){z-index:var(--rpl-z-index-tooltip,var(--faceplate-tooltip-z-index,1))}rpl-popper[placement^=top]::part(popup){transform-origin:bottom}rpl-popper[placement^=bottom]::part(popup){transform-origin:top}rpl-popper[placement^=left]::part(popup){transform-origin:right}rpl-popper[placement^=right]::part(popup){transform-origin:left}`;let c=class extends e{};return c.styles=p,c=r._([r.c("rpl-coachmark")],c),{get RPLCoachmark(){return c}}}));
SML.dm("21VIldix",["DN8NCGGW","CElIDZoh","DVMhF-xZ"],(async(t,e,o)=>{const s="title-icon",l="close-button",a="primary-button",n="secondary-button",r="tertiary-button";class i extends o.x{constructor(){super(...arguments),this.appearance="neutral",this.autoClose=!1,this.emitCloseButtonClickEvent=()=>{this.emitter.dispatch("close-button-clicked",{bubbles:!0,composed:!0})},this.handleCloseButtonClick=t=>{t.stopPropagation(),this.autoClose&&this.emitCloseButtonClickEvent()},this.handleCloseButtonKeydown=t=>{this.autoClose&&"Enter"===t.key&&this.emitCloseButtonClickEvent()}}render(){const o=e.E(this,s),i=e.E(this,l),d=e.E(this,a),c=e.E(this,n),m=e.E(this,r),p=d||c||m;return t.x`<div> <slot name="${"title-graphic"}"></slot> <div class="main"> <div class="content"> <div class="title-row"> <slot name="${s}" class="${o?"has-slotted":""}"></slot> <slot name="${"title"}"></slot> <slot name="${l}" part="close-button" class="${i?"has-slotted":""}" @click="${this.handleCloseButtonClick}" @keydown="${this.handleCloseButtonKeydown}"></slot> </div> <div class="body"><slot></slot></div> </div> <div class="footer ${p?"has-slotted":""}"> <slot name="${r}" class="${m?"has-slotted":""}"></slot> <div class="footer-right"> <slot name="${n}"></slot> <slot name="${a}"></slot> </div> </div> </div> </div>`}}t._([t.n({type:String,reflect:!0})],i.prototype,"appearance",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"auto-close"})],i.prototype,"autoClose",void 0);var d=t.i`${o.z}:host{display:flex;flex-direction:column;border-radius:var(--rem16);overflow:hidden;box-shadow:var(--boxshadow-modal);gap:var(--rem8);background-color:var(--color-neutral-background);color:var(--color-neutral-content-strong)}:host([appearance=inverted]){background-color:var(--color-inverted-neutral-background);color:var(--color-inverted-neutral-content-strong)}.main{display:flex;flex-direction:column;padding:var(--rem8) var(--rem8) var(--rem8) var(--rem16)}slot[name=title-graphic]{display:flex}.title-row{display:flex}.body{padding-inline-end:var(--rem8)}slot[name=title-icon].has-slotted{display:flex;padding-top:var(--rem8);padding-inline-end:var(--rem12)}slot[name=title]{display:flex;align-items:center;flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-size:var(--rem14);font-weight:700}slot:not([name]){white-space:wrap}slot[name=close-button].has-slotted{display:flex;padding-inline-start:var(--rem4)}slot[name=primary-button]{display:flex;padding-inline-end:var(--rem8)}slot[name=tertiary-button].has-slotted{font-size:var(--rem12);flex-shrink:1;min-width:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-inline-end:var(--rem8)}.footer{display:flex;align-items:center;justify-content:end;padding-inline-end:var(--rem8)}.footer.has-slotted{padding-top:var(--rem8)}.footer:has(slot[name=tertiary-button].has-slotted){justify-content:space-between}.footer-right{display:flex}`;let c=class extends i{};return c.styles=d,c=t._([t.c("rpl-coachmark-card")],c),{get RPLCoachmarkCard(){return c}}}));
SML.dm("Ch8njlGJ",["DVMhF-xZ","DN8NCGGW","CElIDZoh"],(async(e,a,t)=>{let r=class extends e.gA{constructor(){super(...arguments),this._fullscreenBlurEl=document.createElement("div"),this._appliedBlurFilter=null,this._blurElement=null,this.shouldContentScroll=!1,this.isFooterEmpty=!0,this.render=()=>{const t=a.x`<slot name="closeButton" class="${e.y({floating:this.shouldContentScroll})}"></slot>`,r=a.x`<div id="header" class="${e.y({"with-icon":this._titleGraphic.length>0})}"> <slot name="titleGraphic"></slot> <slot name="title"></slot> </div>`,n=a.x`<slot name="primaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="secondaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="tertiaryButton" @slotchange="${this.calcFooterChildren}"></slot>`;return a.x` ${e.cx(this.modal?"\n  <style>\n    :host {\n      top: 50%;\n      transform: translateY(-50%);\n      position: fixed;\n    }\n  </style>\n":"\n  <style>\n    :host {\n      position: absolute;\n    }\n  </style>\n")} <div id="wrapper" role="${a.l(this.open?"dialog":void 0)}" aria-label="${a.l(this.ariaLabel??void 0)}" aria-labelledby="${a.l(null!=this.ariaLabel?void 0:"header-container")}" aria-modal="${a.l(this.open&&this.modal?"true":void 0)}"> <div id="content"> ${t} <div id="header-container"> ${r} </div> <slot></slot> </div> <div id="footer" class="${e.y({"sticky-footer":this.shouldContentScroll,empty:this.isFooterEmpty})}"> ${n} <slot name="footer" @slotchange="${this.calcFooterChildren}"></slot> </div> </div> `}}static get styles(){return a.i`${e.gA.styles}:host{--content-padding:var(--spacer-md);box-sizing:border-box;max-width:none;border-radius:var(--rem16);padding:0;overflow:hidden}#wrapper{display:flex;flex-direction:column;align-items:center;height:100%;position:relative;font-size:16px;box-sizing:border-box;max-height:inherit;min-height:inherit;overflow:hidden}slot[name=closeButton]{display:inline-flex;position:absolute;position:absolute;top:0;inset-inline-end:0;margin:var(--content-padding)}#header{display:flex;flex-direction:column;gap:var(--spacer-sm);align-items:center;text-align:start;width:100%;box-sizing:border-box}#header.with-icon{text-align:center;padding:0 var(--rem40)}slot[name=title]{font-size:var(--rem18);font-weight:700}slot:not([name]){display:flex;flex-grow:1;width:100%;padding:var(--spacer-xs) 0;font-size:var(--rem14)}#footer{display:flex;flex-direction:column;gap:var(--spacer-sm);width:100%;background:var(--color-ui-modalbackground);padding:var(--spacer-md);box-sizing:border-box}slot[name=tertiaryButton]{display:inline-flex;justify-content:center;font-size:14px}#footer.empty{display:none}@media (min-width:640px){#content{padding:var(--content-padding)}#header,#header.with-icon{flex-direction:row;padding-inline:0 var(--spacer-2xl)}#footer{flex-direction:row-reverse;align-items:center;justify-content:end}slot[name=tertiaryButton]{margin-inline-end:auto}slot[name=title]{text-align:start}}#content{height:100%;max-height:100%;width:100%;overflow:auto;position:relative;--content-padding:var(--spacer-md);padding:var(--content-padding);box-sizing:border-box;flex:1}.overflowing-content{max-height:100%;overflow-y:auto}.sticky-footer{box-shadow:var(--elevation-md)}slot[name=closeButton].floating{box-shadow:var(--elevation-sm);border-radius:999px}`}connectedCallback(){super.connectedCallback(),Object.assign(this._fullscreenBlurEl.style,{position:"fixed",top:"0",bottom:"0",right:"0",left:"0",backdropFilter:n(4)})}disconnectedCallback(){this._fullscreenBlurEl.remove(),e.gz.remove(this),this.resizeObserver?.disconnect()}firstUpdated(){this.resizeObserver=new ResizeObserver((()=>{this.measureShouldContentScroll()})),this.resizeObserver.observe(this.content)}calcFooterChildren(){this.isFooterEmpty=!(this._footerSlot?.length||this._primaryButtonSlot?.length||this._secondaryButtonSlot?.length||this._tertiaryButtonSlot?.length)}measureShouldContentScroll(){this.shouldContentScroll=Boolean(this.content?.scrollHeight&&this.content?.scrollHeight>this.content.offsetHeight)}showModal(a){if(e.gz.add(this),super.showModal(),null!=a?.blur){const e=!0===a.blur?4:Number(a.blur);this._appliedBlurFilter=n(e),a?.blurElement?(this._blurElement=a.blurElement,t=this._blurElement,r=this._appliedBlurFilter,t.style.filter=t.style.filter+" "+r):(Object.assign(this._fullscreenBlurEl.style,{backdropFilter:this._appliedBlurFilter}),document.body.append(this._fullscreenBlurEl))}var t,r}close(){this.open&&(super.close(),e.gz.remove(this),null!=this._blurElement&&null!=this._appliedBlurFilter?(!function(e,a){const t=e.style.filter.split(" ").filter(Boolean).reverse(),r=t.indexOf(a);if(-1===r)return;t.splice(r,1),e.style.filter=t.reverse().join(" ")}(this._blurElement,this._appliedBlurFilter),this._appliedBlurFilter=null,this._blurElement=null):this._fullscreenBlurEl.remove())}};function n(e){return`blur(${e}px)`}a._([a.b()],r.prototype,"shouldContentScroll",void 0),a._([a.k({slot:"titleGraphic"})],r.prototype,"_titleGraphic",void 0),a._([a.w("#content")],r.prototype,"content",void 0),a._([a.w("#footer")],r.prototype,"footer",void 0),a._([a.b()],r.prototype,"isFooterEmpty",void 0),a._([a.u({slot:"footer",flatten:!0})],r.prototype,"_footerSlot",void 0),a._([a.u({slot:"primaryButton",flatten:!0})],r.prototype,"_primaryButtonSlot",void 0),a._([a.u({slot:"secondaryButton",flatten:!0})],r.prototype,"_secondaryButtonSlot",void 0),a._([a.u({slot:"tertiaryButton",flatten:!0})],r.prototype,"_tertiaryButtonSlot",void 0),r=a._([a.c("faceplate-modal")],r);function i(e){return e?.[0]?.message??"Something went wrong";}const o=e=>({error:e||"There was an error uploading the file."});async function l(a,r){const n=t.c1.get(a.type);if(!n)throw new Error(`${a.type} files are not supported.`);try{const l=await async function(a){const t=await e.r({operation:e.O.CreateSubredditStructuredStylesUploadLease,variables:{input:a}});if(t.errors?.length)throw new Error(i(t.errors));const r=t.data.createSubredditStructuredStylesUploadLease;if(r?.ok&&r.uploadLease)return{uploadLeaseUrl:r.uploadLease.uploadLeaseUrl,uploadLeaseHeaders:r.uploadLease.uploadLeaseHeaders};throw new Error(i(r?.errors))}({...r,filepath:a.name,mimetype:n}),s=await t.c0(a,l);return s?{url:s}:o()}catch(e){return l=e.message,window.Sentry?.captureMessage?.(`Media file upload failed with error: ${l}`),o(e.message)}var l}return {C:class{async makeGQLRequest(...a){return e.r(...a)}async uploadMedia(...e){return l(...e)}async saveImage({subredditId:e,url:a,fileContent:t,uploadType:r,gqlOperation:n}){if(t)try{const n=await this.uploadMedia(t,{subredditId:e,imagetype:r});if(a=n.url?decodeURIComponent(n.url):a,n.error)return this.handleError(r)}catch(e){return this.handleError(r)}try{await this.makeGQLRequest({operation:n,variables:{input:{subredditId:e,[this.getOperationArg(r)]:a??""}}})}catch(e){return this.handleError(r)}return null}async saveCommunityIcon(a,t,r){return this.saveImage({subredditId:a,url:t,fileContent:r,uploadType:e.gB.CommunityIcon,gqlOperation:e.O.UpdateSubredditIcon})}async saveBanner(a,t,r){return this.saveImage({subredditId:a,url:t,fileContent:r,uploadType:e.gB.BannerBackgroundImage,gqlOperation:e.O.UpdateSubredditBanner})}async saveMobileBanner(a,t,r){return this.saveImage({subredditId:a,url:t,fileContent:r,uploadType:e.gB.MobileBannerImage,gqlOperation:e.O.UpdateSubredditBanner})}handleError(a){switch(a){case e.gB.BannerBackgroundImage:return "Something went wrong while saving the banner.";case e.gB.MobileBannerImage:return "Something went wrong while saving the mobile banner.";case e.gB.CommunityIcon:default:return "Something went wrong saving the avatar.";}}getOperationArg(a){switch(a){case e.gB.BannerBackgroundImage:return"bannerBackgroundImage";case e.gB.MobileBannerImage:return"mobileBannerImage";case e.gB.CommunityIcon:default:return"communityIcon"}}},get F(){return r},O:"mod-show-post-level-crowd-control-modal",u:l};}));
SML.dm("DEZJErJv",["DN8NCGGW"],(async t=>{var e;!function(t){t.Error="error",t.Success="success",t.Incomplete="incomplete"}(e||(e={}));const s=o(16);function r(t,e){return t-e/100*t}function o(t){return 2*Math.PI*t}let a=class extends t.s{constructor(){super(...arguments),this.value=0,this.status=e.Incomplete}static get styles(){return t.i`:host{--loader-size-base:var(--rem40);display:inline-block;position:relative}:host([status=incomplete]){color:var(--color-neutral-content,var(--color-tone-1))}:host([status=success]){color:var(--color-success-content,var(--color-alert-positive))}:host([status=error]){color:var(--color-danger-content,var(--color-alert-negative))}svg{height:var(--loader-size,var(--loader-size-base));width:var(--loader-size,var(--loader-size-base));fill:none;stroke-width:8;display:block}.bg{stroke:var(--color-neutral-content-disabled,var(--color-tone-3))}.track{stroke:currentColor;transition:.35s stroke-dashoffset;transform:rotate(-90deg);transform-origin:50% 50%}.icon{position:absolute;inset-inline-start:50%;top:50%;transform:translate(-50%,-50%)}::slotted([slot=error]),::slotted([slot=success]){display:flex}`}render(){const o=this.status===e.Success;return t.x` <svg viewBox="0 0 40 40" class="loader" xmlns="http://www.w3.org/2000/svg"> <circle class="bg" cx="20" cy="20" r="${16}"></circle> <circle class="track ${this.status}" cx="20" cy="20" r="${16}" stroke-dasharray="${s} ${s}" stroke-dashoffset="${r(s,o?100:this.value)}"></circle> </svg> <div class="icon"> <slot name="${this.status}"></slot> </div> `}};return t._([t.n({type:Number})],a.prototype,"value",void 0),t._([t.n({type:String,reflect:!0})],a.prototype,"status",void 0),a=t._([t.c("faceplate-progress")],a),{get FaceplateProgress(){return a},get ProgressState(){return e},calcCircumference:o,calcStokeDashOffset:r}}));
SML.dm("2tacFyfC",["DN8NCGGW","DVMhF-xZ","D-XYEw65"],(async(e,t,r)=>{var i,a;!function(e){e.BORDERED="bordered",e.SECONDARY="secondary",e.PLAIN="plain"}(i||(i={})),function(e){e.COLLAPSED="collapsed",e.EXPANDED="expanded"}(a||(a={}));let n=class extends r.T{constructor(){super(...arguments),this.appearance=i.SECONDARY,this.size=a.COLLAPSED,this._textAreaContainerRef=t.aF()}static get styles(){return[super.styles,e.i`:host(){--trailing-icons-container:var(--rem32)}:host([resize]) .label-container{overflow:auto}.label-container:not(.without-label){padding-top:var(--spacer-xs);padding-bottom:var(--spacer-xs)}:host([resize]) textarea{height:100%;width:100%}:host([resize=both]) .label-container{resize:both}:host([resize=horizontal]) .label-container{resize:horizontal}:host([resize=vertical]) .label-container{resize:vertical}textarea{background:0 0;border:none;outline:0;overflow-y:auto;resize:none}:host([size=expanded]:not([rows])) .label-container{height:fit-content;min-height:var(--rem90)}:host(:not([rows])) textarea{min-height:var(--rem20,1.25rem);height:var(--rem20,1.25rem)}:host(:not([cols])) textarea{width:100%}.label-text{top:0}:host([appearance=bordered]) .label-container{border:1px solid var(--color-neutral-border)}:host([appearance=bordered]) .label-container:hover{border-color:var(--color-neutral-border-medium)}:host([appearance=bordered]) .label-container:hover,:host([appearance=plain]) .label-container:hover{background:var(--color-neutral-background-hover);border-radius:none}:host([appearance=plain]) .label-container{border-radius:0}.input-boundary-box,.input-container,:host .label-container,label{height:100%;width:100%;box-sizing:border-box}:host([size=expanded]) .input-container{height:calc(100% - var(--trailing-icon-container,0px))}.input-container{align-items:flex-start}:host .label-container{border-radius:var(--radius-md)}.input-boundary-box{flex-direction:column}:host(:not([size])) .input-boundary-box,:host([size=collapsed]) .input-boundary-box{flex-direction:row;min-height:var(--rem40);padding:var(--spacer-2xs) 0}:host([size=expanded]) #trailing-icons-container{width:100%;justify-content:flex-end}#trailing-icons-container{height:(--trailing-icons-container)}.text-area-wrapper{height:inherit;width:100%;min-height:var(--textarea-minheight,var(--rem20));display:flex}`]}updated(e){e.has("value")&&this.handleDynamicResize(),super.updated(e)}async handleDynamicResize(){if(!this.rows&&!this.cols){const{width:e}=this.innerTextArea.getBoundingClientRect();this.innerTextArea.style.overflow="hidden",this.innerTextArea.style.height="0",this.innerTextArea.style.width=`${e}px`;const t=`${this.innerTextArea?.scrollHeight}px`;this.innerTextArea.style.height=t,this.innerTextArea.style.removeProperty("overflow"),this.innerTextArea.style.removeProperty("width"),this._textAreaContainerRef?.value&&this._textAreaContainerRef.value.style.setProperty("--textarea-minheight",t)}}onInput(e){this.handleDynamicResize(),super.onInput(e)}render(){return super.renderInput(e.x` <div class="text-area-wrapper" ${t.at(this._textAreaContainerRef)}> <textarea aria-labelledby="fp-input-label" style="${e.l(this.fontFamily?`font-family: ${this.fontFamily}`:void 0)}" class="${t.y({"no-label":!this.hasLabel})}" ?readonly="${this.readonly}" id="innerTextArea" rows="${e.l(this.rows)}" cols="${e.l(this.cols)}" @input="${this.onInput}" @change="${this.onChange}" .value="${r.l(this.value)}" name="${e.l(this.name)}" minlength="${e.l(this.minLength)}" maxlength="${e.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" placeholder="${e.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${e.l(this.autocomplete)}" inputmode="${e.l(this.inputmode)}"></textarea> </div>`)}};return e._([e.n({type:Number})],n.prototype,"rows",void 0),e._([e.n({type:Number})],n.prototype,"cols",void 0),e._([e.n({type:String})],n.prototype,"resize",void 0),e._([e.w("#innerTextArea")],n.prototype,"innerTextArea",void 0),e._([e.n({type:String,reflect:!0})],n.prototype,"appearance",void 0),e._([e.n({type:String})],n.prototype,"size",void 0),e._([e.n({type:String,attribute:"font-family"})],n.prototype,"fontFamily",void 0),n=e._([e.c("faceplate-textarea-input")],n),{get F(){return n},get T(){return a},get a(){return i}}}));
SML.dm("DdIwQUSk",[],(async()=>{var e,n;return function(e){e.READY="ready",e.EMPTY="empty"}(e||(e={})),function(e){e.SUCCESS="success"}(n||(n={})),{get R(){return n},get S(){return e}}}));
SML.dm("BIdLZLCw",["DN8NCGGW","DVMhF-xZ","CElIDZoh","DwsEu536","ChYc5yrF","CYBj3-X8","DiQwYZkp","CpoKGso5","CdTGYlNw","CMS2OfNt","CnZCQZdH","CWi6z3tG","C_M_NGfT","L-pRUMpq","DdIwQUSk","B-K8bCNo","3bEj5-ZB","CEf0pl28","BsQJl0hY","21VIldix","Ch8njlGJ","DEZJErJv","2tacFyfC","Bahzn9My","YWXw6gDz","BHUYYzrx","Chf2nmby","D-XYEw65"],(async(e,a,t,i,n,o,s,r,l,d,m,u,c,p,h)=>{const g="dont-notify-tooltip-close",v="removal-reason-input-changed",{svg:N}=e.g();var I=e.v(N`<path d="M17.153 6.75H15.9A2.753 2.753 0 0 0 13.153 4V2.75A2.753 2.753 0 0 0 15.9 0h1.25a2.752 2.752 0 0 0 2.75 2.75V4a2.752 2.752 0 0 0-2.747 2.75ZM15.3 3.375c.494.316.914.735 1.23 1.23a4.02 4.02 0 0 1 1.23-1.23 4.02 4.02 0 0 1-1.23-1.23 4.033 4.033 0 0 1-1.23 1.23ZM9.216 20h-1.33l-.085-.526c-.725-4.557-2.684-6.521-7.224-7.248l-.526-.084v-1.284l.527-.084c4.54-.727 6.5-2.691 7.224-7.248L7.886 3h1.33l.084.526c.725 4.557 2.684 6.521 7.225 7.248l.526.084v1.284l-.526.084c-4.541.727-6.5 2.691-7.225 7.248L9.216 20Zm-6.234-8.5a7.858 7.858 0 0 1 5.569 5.634 7.858 7.858 0 0 1 5.57-5.634 7.859 7.859 0 0 1-5.57-5.634A7.858 7.858 0 0 1 2.98 11.5Z"></path>`,"0 0 20 20","ai-outline");class R extends CustomEvent{constructor(e){super(R.eventName,{detail:e,bubbles:!0,composed:!0})}}R.eventName="select-suggested-removal-reason";let b=class extends e.s{constructor(){super(...arguments),this.reasons=[],this.suggestions=[],this.eventContext={}}getReasonNumber(e){const a=this.reasons.findIndex((a=>a.id===e));return a>=0?a+1:0}getSelectedChip(){return this.shadowRoot?.querySelector('rpl-filter-chip[name="removal-reason-suggestion"][selected]')??null}render(){return e.x` <div class="my-xs w-fit"> ${I({size:e.I.ExtraSmall})} ${"Suggested"} <rpl-tooltip appearance="inverted" trigger="hover focus" placement="right" @click="${e=>e.preventDefault()}"> ${e.am({size:e.I.ExtraSmall})} <span slot="content" class="pointer-events-auto"> ${"Suggestions based on the content, your rules, and your removal reasons."} <a href="https://support.reddithelp.com/hc/articles/15484471320980-Saved-Responses" target="_blank" class="text-inverted-neutral-content-strong" @click="${e=>e.stopPropagation()}"> ${"Learn more"} </a> </span> </rpl-tooltip> <div class="flex flex-col gap-xs mt-xs"> ${this.suggestions.map((a=>{const t=this.getReasonNumber(a.id);return e.x` <faceplate-tracker source="moderator" action="click" noun="removal_reason_recommendation" data-faceplate-tracking-context="${JSON.stringify({action_info:{reason:a.id},subreddit:{id:this.eventContext.subredditId},post:{id:this.eventContext.postId},comment:{id:this.eventContext.commentId}})}" @click="${e=>{e.preventDefault(),e.stopPropagation()}}"> <rpl-filter-chip name="removal-reason-suggestion" class="max-w-fit" appearance="bordered" data-removal-reason-id="${a.id}" ?selected="${this.value===a.id}" @click="${()=>{this.dispatchEvent(new R({reasonId:a.id}))}}">${t?`${t}. `:""}${a.title}</rpl-filter-chip> </faceplate-tracker> `}))} </div> </div> `;}};b.styles=[a.t],e._([e.n({type:Array})],b.prototype,"reasons",void 0),e._([e.n({type:Array})],b.prototype,"suggestions",void 0),e._([e.n({type:Object,attribute:"event-context"})],b.prototype,"eventContext",void 0),e._([e.n()],b.prototype,"value",void 0),b=e._([e.c("removal-reason-suggestions")],b);let k=class extends e.s{constructor(){super(...arguments),this._showCoachmark=!localStorage.getItem(this.getLocalStorageKey()),this.closeCoachmark=e=>{e.stopPropagation(),this._showCoachmark=!1},this.handleLearnMore=e=>{e.stopPropagation(),window.open("https://support.reddithelp.com/hc/articles/15484471320980-Saved-Responses","_blank")}}getLocalStorageKey(){return a.L.RemovalReasonSuggestionsCoachmarkSeen}connectedCallback(){super.connectedCallback();localStorage.getItem(this.getLocalStorageKey())?this._showCoachmark=!1:(localStorage.setItem(this.getLocalStorageKey(),"true"),this._showCoachmark=!0)}disconnectedCallback(){super.disconnectedCallback()}render(){return e.x`<rpl-coachmark placement="${u.P.Bottom}" appearance="${c.a.Inverted}" ?open="${this._showCoachmark}" class="w-[270px]"> <slot></slot> <rpl-coachmark-card slot="content" aria-live="polite" appearance="${c.a.Inverted}" class="w-[270px]"> <div slot="title" class="pt-xs pb-2xs"> <div> ${"Save time with suggested removal reasons"} </div> </div> ${a.n({attributes:{className:"close-btn",slot:"close-button",onclick:e=>{e.stopPropagation(),this.closeCoachmark(e)}},appearance:"plainInverted",size:a.$.Small,leadingIcon:e.m({size:e.I.Small})})} <div class="text-12 mb-sm"> ${"Based on the content, your rules, and your removal reasons, we’ll suggest the most likely removal reasons."} </div> ${a.n({attributes:{slot:"secondary-button",onclick:this.handleLearnMore},children:"Learn More",appearance:"plainInverted",size:a.$.Small})} ${a.n({attributes:{slot:"primary-button",onclick:this.closeCoachmark},children:"Got It",appearance:"plainInverted",size:a.$.Small})} </rpl-coachmark-card> </rpl-coachmark>`;}};k.styles=[a.t],e._([e.b()],k.prototype,"_showCoachmark",void 0),k=e._([e.c("removal-reason-suggestions-coachmark")],k);class f extends p.F{constructor(){super(...arguments),this.isInputDirty=!1,this.required=!1,this.handleSubmit=()=>{this.isInputDirty=!0},this.handleInvalid=e=>{e.preventDefault()}}get value(){const e=this._internals.getFormValue();return e?e.toString():null}set value(e){e!==this.value&&(this._internals.setFormValue(e),this.updateValidity(),this.dispatchEvent(new CustomEvent(v,{detail:{value:e},bubbles:!0})))}connectedCallback(){super.connectedCallback(),s.c(this).then((e=>{e?.addEventListener("faceplate-submit",this.handleSubmit)})),this.addEventListener("invalid",this.handleInvalid),this.updateValidity()}disconnectedCallback(){super.disconnectedCallback(),this.form?.removeEventListener("faceplate-submit",this.handleSubmit),this.removeEventListener("invalid",this.handleInvalid)}updateValidity(){this.required&&!this.value?this._internals.setValidity({valueMissing:!0},this.getValueMissingValidationMessage()):this._internals.setValidity(),this.requestUpdate()}getValueMissingValidationMessage(){return""}renderValidationState(){return this.isInputDirty&&this.validationMessage?e.x`<span class="text-12 text-danger-content px-md">${this.validationMessage}</span>`:null}}e._([e.b()],f.prototype,"isInputDirty",void 0),e._([e.n({type:Boolean})],f.prototype,"required",void 0);class T extends CustomEvent{constructor(e){super(T.eventName,{detail:e,bubbles:!0,composed:!0})}}T.eventName="select-removal-reason";let E=class extends f{constructor(){super(...arguments),this.isSitewide=!1,this.selectedRemovalReason=this.value,this.handleSelectSuggestedRemovalReason=e=>{this.selectReasonById(e.detail.reasonId,!1)},this.handleSelect=e=>{const a=e.target;this.selectReasonById(a.value)}}get displayText(){return this.reasons?.find((e=>e.id===this.value))?.title||""}static get styles(){return[a.t,e.i`:host{display:flex;flex-direction:column}`]}getValueMissingValidationMessage(){return "Removal reason is required.";}getPlatformRuleOption(){return {id:"default-removal-reason",title:"Breaking platform rules",message:""};}selectReasonById(e,a=!0){const t=(this.includePlatformRuleOption?[...(this.reasons || []),this.getPlatformRuleOption()]:this.reasons||[]).find((a=>a.id===e));t&&this.selectedRemovalReason!==t.id&&(this.selectedRemovalReason=t.id,this.value=t.id,this.dispatchEvent(new T({...t,isSitewide:this.isSitewide,trackEvent:a})))}getDropdownPlaceholder(){return this.isSitewide?"Select a platform rule":"Select a removal reason";}connectedCallback(){super.connectedCallback(),this.addEventListener(R.eventName,this.handleSelectSuggestedRemovalReason)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(R.eventName,this.handleSelectSuggestedRemovalReason)}render(){return e.x` <label class="text-16 text-neutral-content-strong"> ${super.render()} </label> <faceplate-select-text-input label="${this.getDropdownPlaceholder()}" value="${this.selectedRemovalReason}" readonly="readonly" style="--faceplate-select-menu-max-height:350px;-faceplate-select-menu-max-width:80vw" @faceplate-select-text-input:change="${this.handleSelect}"> ${this.reasons?.map(((a,t)=>e.x`<faceplate-option value="${a.id}" display-text="${a.title}" ?selected="${a.id===this.selectedRemovalReason}"><span slot="leading" class="whitespace-nowrap text-16">${t+1}</span></faceplate-option>`))} ${this.includePlatformRuleOption&&e.x`<faceplate-option value="default-removal-reason" display-text="${this.getPlatformRuleOption().title}"></faceplate-option>`} ${this.includeAddRemovalReasonOption&&e.x`<faceplate-option value="add-removal-reason"> <slot name="link"></slot> </faceplate-option>`} </faceplate-select-text-input> ${this.renderValidationState()} ${this.removalReasonSuggestionsContext?.predictedRemovalSavedResponses&&this.removalReasonSuggestionsContext?.predictedRemovalSavedResponses.length>0?e.x` <removal-reason-suggestions-coachmark> <removal-reason-suggestions class="block w-fit" reasons="${JSON.stringify(this.reasons)}" suggestions="${JSON.stringify(this.removalReasonSuggestionsContext.predictedRemovalSavedResponses)}" event-context="${JSON.stringify(this.removalReasonSuggestionsContext.eventContext)}" value="${this.selectedRemovalReason}"></removal-reason-suggestions> </removal-reason-suggestions-coachmark> `:""} `}};e._([e.n({type:Array})],E.prototype,"reasons",void 0),e._([e.n({type:Boolean,attribute:"is-sitewide"})],E.prototype,"isSitewide",void 0),e._([e.n({type:Boolean,attribute:"include-platform-rule-option"})],E.prototype,"includePlatformRuleOption",void 0),e._([e.n({type:Boolean,attribute:"include-add-removal-reason-option"})],E.prototype,"includeAddRemovalReasonOption",void 0),e._([e.n({type:Object,attribute:"removal-reason-suggestions-context"})],E.prototype,"removalReasonSuggestionsContext",void 0),e._([e.b()],E.prototype,"selectedRemovalReason",void 0),E=e._([e.c("removal-reason-input")],E);const{svg:S}=e.g();var y=e.v(S`<path d="m16.784 9.5 2.558 2.558-.884.884-2.558-2.558-2.558 2.558-.884-.884L15.016 9.5l-2.558-2.558.884-.884L15.9 8.616l2.558-2.558.884.884L16.784 9.5Zm-6.427 10.248A1.128 1.128 0 0 0 11 18.715V1.286a1.131 1.131 0 0 0-.643-1.034A1.091 1.091 0 0 0 9.19.405L3.815 5.056H2.108A1.124 1.124 0 0 0 1 6.194v7.613a1.124 1.124 0 0 0 1.108 1.138h1.707L9.2 19.608a1.084 1.084 0 0 0 1.157.14ZM2.25 6.306h2.031l5.47-4.733v16.855L4.28 13.7h-2.03V6.306Z"></path>`,"0 0 20 20","mute-outline");let L=class extends m.R{constructor(){super(),this.tooltipVisible=!1,this.trigger="manual",this.placement="top",this.appearance="neutral"}connectedCallback(){super.connectedCallback(),this.initializeTooltip(),this.addEventListener(g,this.hideTooltip)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener(g,this.hideTooltip)}async initializeTooltip(){a.l.getItem(a.L.RemovalReasonDontNotifyDismissed)||setTimeout((()=>this.showTooltip()),750)}showTooltip(){this.show()}hideTooltip(e){e.stopPropagation(),a.l.setItem(a.L.RemovalReasonDontNotifyDismissed,"true"),this.hide()}};e._([e.b()],L.prototype,"tooltipVisible",void 0),L=e._([e.c("dont-notify-tooltip")],L);let z=class extends e.s{constructor(){super(...arguments),this.isAIModEnabledForSubreddit=!1}handleClose(){this.dispatchEvent(new CustomEvent(g,{bubbles:!0}))}render(){return e.x` <div class="pointer-events-auto py-xs pl-xs w-[200px]"> <div class="flex flex-row"> <div> <div class="text-14 font-bold text-neutral-content-strong"> ${"Don't want to notify?"} </div> <div class="text-12 font-normal text-neutral-content-strong"> ${this.isAIModEnabledForSubreddit?"Use removal reasons to train automations and track mod actions without notifying users.":"Use removal reasons to track mod actions without notifying users."} </div> </div> ${a.n({appearance:"secondary",leadingIcon:e.m({size:e.I.Small}),size:a.$.Small,screenReaderContent:"Close tooltip",attributes:{type:"button",className:"flex-shrink-0 -mt-xs",onclick:this.handleClose}})} </div> <div class="flex justify-end mt-md"> ${a.n({appearance:"plain",size:a.$.Small,children:"Okay",attributes:{type:"button",onclick:this.handleClose}})} </div> </div> `;}};var M;z.styles=[a.t],e._([e.n({type:Boolean,attribute:"is-ai-mod-enabled-for-subreddit"})],z.prototype,"isAIModEnabledForSubreddit",void 0),z=e._([e.c("dont-notify-tooltip-content")],z),function(e){e.Comment="Comment",e.Modmail="Modmail",e.DontNotify="DontNotify"}(M||(M={}));let O=class extends f{constructor(){super(...arguments),this.isModmailAllowed=!1,this.isAIModEnabledForSubreddit=!1}static get styles(){return[a.t,e.i`:host{display:flex;flex-direction:column;gap:var(--spacer-xs)}`]}connectedCallback(){super.connectedCallback(),this.value=M.Comment}getValueMissingValidationMessage(){return "Please select the notification method.";}render(){return e.x` <label class="text-16 text-neutral-content-strong"> ${this._internals.input} ${"Notify user via"} </label> <div class="flex flex-row gap-xs"> ${a.n({appearance:"bordered",children:"Comment",leadingIcon:e.a_({size:e.I.Small}),selected:this.value===M.Comment,attributes:{type:"button",onclick:()=>{this.value=M.Comment,this.requestUpdate()}}})} ${this.isModmailAllowed?a.n({appearance:"bordered",children:"Mod Mail",leadingIcon:e.aO({size:e.I.Small}),selected:this.value===M.Modmail,attributes:{type:"button",onclick:()=>{this.value=M.Modmail,this.requestUpdate()}}}):e.A} <dont-notify-tooltip> ${a.n({appearance:"bordered",children:"Don't Notify",leadingIcon:y({size:e.I.Small}),selected:this.value===M.DontNotify,attributes:{type:"button",onclick:()=>{this.value=M.DontNotify,this.requestUpdate()}}})} <dont-notify-tooltip-content ?is-ai-mod-enabled-for-subreddit="${this.isAIModEnabledForSubreddit}" slot="content"></dont-notify-tooltip-content> </dont-notify-tooltip> </div> ${this.renderValidationState()} `;}};var C;e._([e.n({type:Boolean,attribute:"is-mod-mail-allowed"})],O.prototype,"isModmailAllowed",void 0),e._([e.n({type:Boolean,attribute:"is-ai-mod-enabled-for-subreddit"})],O.prototype,"isAIModEnabledForSubreddit",void 0),O=e._([e.c("removal-reason-notification-method")],O),function(e){e.User="User",e.Mod="Mod"}(C||(C={}));let D=class extends f{static get styles(){return[a.t,e.i`:host{display:flex;flex-direction:column;gap:var(--spacer-xs)}`]}connectedCallback(){super.connectedCallback(),this.value=C.Mod}getValueMissingValidationMessage(){return "Please select the notification sender.";}render(){return e.x` <label class="text-16 text-neutral-content-strong"> ${this._internals.input} ${"Send message as"} </label> <div class="flex flex-row gap-xs"> ${a.n({appearance:"bordered",children:"Mod Team",leadingIcon:e.x`<slot name="mod-icon"></slot>`,selected:this.value===C.Mod&&!this.disabled,attributes:{type:"button",disabled:this.disabled,onclick:()=>{this.value=C.Mod,this.requestUpdate()}}})} ${a.n({appearance:"bordered",children:this.user,leadingIcon:e.x`<slot name="user-icon"></slot>`,selected:this.value===C.User&&!this.disabled,attributes:{type:"button",disabled:this.disabled,onclick:()=>{this.value=C.User,this.requestUpdate()}}})} </div> ${this.renderValidationState()} `;}};e._([e.n()],D.prototype,"user",void 0),D=e._([e.c("removal-reason-notification-sender")],D);class A extends CustomEvent{constructor(e){super(A.eventName,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}}A.eventName="mod-removal-reason-added";class P extends CustomEvent{constructor(e){super(P.eventName,{bubbles:!0,composed:!0,cancelable:!0,detail:e})}}P.eventName="removal-reason-form-element-clicked";let _=class extends o.F{constructor(){super(),this._eventController=new a.E(this),this.handleFormElementClicked=e=>{e.target?.name&&this.dispatchEvent(new P({formElement:e.target.name}))},this.handleRemovalReasonInputChanged=e=>{if(e.target instanceof O){const a=e.target.value!==M.DontNotify;this.toggleNotificationSender(a),this.toggleMessageInput(a)}e.target instanceof E&&"removal-reason"===e.target.name&&this.toggleDefaultPolicyInput("default-removal-reason"===e.target.value)},this.convertFormDataToGql=e=>{const a=e.get("notification-method"),t=e.get("notification-sender"),i={reasonId:this.getRemovalReasonId(e),type:this.parseRemovalReasonMessageType(a,t),message:a===M.DontNotify?null:e.get("message"),isLockComment:e.has("lock")},n=e.get("modNote")||void 0,o={itemId:e.get("thing")?.toString()||"",removalReason:i,modNote:n};return this.lastSubmittedData=o,JSON.stringify({...o,csrf_token:e.get("csrf_token")})},this.encoders={...this.encoders,"application/json":this.convertFormDataToGql}}connectedCallback(){super.connectedCallback(),this._eventController.define(v,this.handleRemovalReasonInputChanged),this._eventController.define("click",this.handleFormElementClicked)}toggleNotificationSender(e){const a=this.elements["notification-sender"];a&&(e?a.removeAttribute("disabled"):a.setAttribute("disabled",""))}toggleField(e,a){e&&(a?(e.classList.remove("hidden"),e.setAttribute("required","")):(e.classList.add("hidden"),e.removeAttribute("required")))}toggleMessageInput(e){const a=this.elements.message;a&&this.toggleField(a,e)}toggleDefaultPolicyInput(e){const a=this.elements["default-removal-reason"];a&&this.toggleField(a,e)}showError(){const e={level:a.a5.error,message:"Something went wrong",cause:a.ah.QueryBadResponse};this.dispatchEvent(a.c("faceplate-alert",e))}async handleResponse(e){if(!e.ok)return this.dispatchEvent(a.c(U.eventName)),this.showError();try{const t=await e.text(),i={level:a.a5.success,message:"Removal reason added"},n=this.lastSubmittedData?.itemId||"";if(d.m(n)){const e={postId:n,action:l.a.addRemovalReason,value:!0};a.p(a.T.PostUpdated,e)}else{const e={commentId:n,action:r.C.addRemovalReason,value:!0};a.p(a.T.CommentUpdated,e)}if(t){const e={parentThingId:n,body:t};a.p(a.T.CommentCreated,e)}this.dispatchEvent(a.c(U.eventName)),this.dispatchEvent(a.c("faceplate-alert",i)),this.lastSubmittedData&&this.dispatchEvent(new A(this.lastSubmittedData))}catch{this.showError()}}parseRemovalReasonMessageType(e,t){return e===M.Comment?t===C.Mod?a.fR.CommentAsSubreddit:a.fR.CommentAsMod:e===M.Modmail?t===C.Mod?a.fR.MessageAsSubreddit:a.fR.MessageAsMod:null}getRemovalReasonId(e){const a=e.get("removal-reason");return"default-removal-reason"===a?e.get("default-removal-reason"):a}};_=e._([e.c("removal-reason-form")],_),s.r(_);const j={"removal-reason":"subreddit_removal_reason","default-removal-reason":"default_removal_reason",message:"message_to_user","notification-method":"notification_method","notification-sender":"notification_sender",modNote:"mod_note"};class H extends CustomEvent{constructor(e){super(H.eventName,{detail:e,bubbles:!0,composed:!0})}}H.eventName="mod-add-removal-reason-show-modal";class U extends CustomEvent{constructor(){super(U.eventName)}}U.eventName="mod-add-removal-reason-toggle-loading";let x=class extends e.s{constructor(){super(...arguments),this.pubsub=new a.P(this),this.getInputValue=e=>this.removalReasonForm?.querySelector(`input[name="${e}"]`)?.value,this.buildAndTrackEvent=e=>{const t={action:"click",...e,authorId:this.getInputValue("authorId"),subredditId:this.getInputValue("subredditId"),subredditName:this.subredditName,thingId:this.thingId};a.a(this,i.r(t))},this.firstUpdated=()=>{this.isSmartEscalationsCommunityRulesEnabled&&this.updateComplete.then((()=>{this.primaryButton?.addEventListener("click",(()=>{this.removalReasonForm?.isValid&&(this.toggleButtonLoadingIndicator(),this.initSmartEscalations())}))}))},this.handleAddRemovalReasonEvent=({detail:e})=>{""!==e?this.show(e):this.thingId=void 0},this.handleFormElementClicked=e=>{const a={type:j[e.detail.formElement]||e.detail.formElement},t=this.removalReasonForm?.elements[e.detail.formElement]?.value||this.getInputValue(e.detail.formElement);if("lock"===e.detail.formElement&&(a.isLocked="on"===t),"notification-method"===e.detail.formElement){if(!t)return;a.notificationMethod=t}if("notification-sender"===e.detail.formElement){if(!t)return;a.sendAs=t}this.buildAndTrackEvent(a)},this.handleSelectRemovalReason=async e=>{const a=this.removalReasonInput?.removalReasonSuggestionsContext;e.detail.trackEvent&&this.buildAndTrackEvent({type:e.detail.isSitewide?"default_removal_reason":"subreddit_removal_reason",reason:e.detail.id,noun:"removal_reason_select",subredditId:a?.eventContext?.subredditId,postId:a?.eventContext?.postId,commentId:a?.eventContext?.commentId});const t=this.removalReasonForm,i=this.shadowRoot?.querySelector("faceplate-textarea-input");i&&e.detail.message&&(i.value=await this.renderRemovalReasonMessage(e.detail.id,e.detail.message),await i.updateComplete,i.syncInputValidity(),t?.notifyObservers(i))},this.renderRemovalReasonMessage=async(e,a)=>{try{return await this.renderRemovalReasonAsSavedResponseTemplate(e)}catch{return a}},this.renderSavedResponseTemplateBySubredditId=t.bV,this.renderRemovalReasonAsSavedResponseTemplate=e=>this.renderSavedResponseTemplateBySubredditId({responseId:e,subredditId:this.getInputValue("subredditId")||"",contentId:this.thingId}),this.handleAddedRemovalReason=e=>{let t=function(e){let t;t=e.type===a.fR.CommentAsMod||e.type===a.fR.CommentAsSubreddit?"comment":e.type===a.fR.MessageAsMod||e.type===a.fR.MessageAsSubreddit?"modmail":"no message";const i=e.type===a.fR.CommentAsSubreddit||e.type===a.fR.MessageAsSubreddit?"subreddit":"self";return{is_locked:e.isLockComment,notify:t,send_as:i}}(e.detail.removalReason);const n=this.removalReasonInput?.removalReasonSuggestionsContext?.predictedRemovalSavedResponses?.map((e=>e.id));n&&(t={...t,suggestion_list:n}),a.a(this,i.q(t,this.removalReasonInput?.value??void 0,this.removalReasonInput?.removalReasonSuggestionsContext?.eventContext)),this.isSmartEscalationsCommunityRulesEnabled&&!this.isExpandSuggestedActionsEnabled?(this.buildAndTrackEvent({type:"submit_button",reason:"default-removal-reason"===this.removalReasonInput?.value?this.defaultRemovalReasonInput?.value??void 0:this.removalReasonInput?.value??void 0,notificationMethod:this.removalReasonForm?.elements["notification-method"]?.value,sendAs:this.removalReasonForm?.elements["notification-sender"]?.value,isLocked:"on"===this.getInputValue("lock"),modNote:this.getInputValue("modNote"),message:this.getInputValue("message")}),this.pubsub.publish(a.T.RemovalReasonStatus,{status:h.R.SUCCESS})):this.close()},this.handleCancel=e=>{e.stopImmediatePropagation(),this.buildAndTrackEvent({type:"close_button"}),a.a(this,i.t()),this.close()},this.toggleButtonLoadingIndicator=()=>{this.primaryButton?.querySelector("faceplate-progress")?.classList.toggle("hidden"),this.primaryButton?.querySelector("span.submit-button-content")?.classList.toggle("opacity-0")},this.showHideSubmitButton=()=>{this.removalReasonInput?this.primaryButton?.classList.remove("hidden"):this.primaryButton?.classList.add("hidden")},this.close=()=>{this.modal?.open&&(this.modal?.close(),document.body.style.overflow="auto",document.body.style.pointerEvents="auto")},this.initSmartEscalations=()=>{const e=this.getInputValue("authorId"),t=this.getInputValue("subredditId"),i=e&&t&&this.thingId;i&&this.pubsub.publish(a.T.SmartEscalationsInit,{thingId:this.thingId,authorId:e,subredditId:t,removalReasonId:(this.defaultRemovalReasonInput?.value||this.removalReasonInput?.value)??"",removalReasonDisplayText:(this.defaultRemovalReasonInput?.displayText||this.removalReasonInput?.displayText)??""}),!i&&this.close()}}get removalReasonInput(){return this.shadowRoot?.querySelector('[name="removal-reason"]')}get defaultRemovalReasonInput(){return this.shadowRoot?.querySelector('[name="default-removal-reason"]')}get removalReasonForm(){return this.shadowRoot?.querySelector("removal-reason-form")}get primaryButton(){return this.shadowRoot?.querySelector('faceplate-modal [slot=primaryButton] button[type="submit"]')}get selectedSuggestionValue(){const e=this.removalReasonInput?.shadowRoot?.querySelector("removal-reason-suggestions"),a=e?.getSelectedChip();return a?.dataset.removalReasonId}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(a.T.AddRemovalReasonClose,this.close,!1),this.addEventListener(T.eventName,this.handleSelectRemovalReason),this.addEventListener(A.eventName,this.handleAddedRemovalReason),this.addEventListener(U.eventName,this.toggleButtonLoadingIndicator),this.addEventListener(P.eventName,this.handleFormElementClicked),window.addEventListener(H.eventName,this.handleAddRemovalReasonEvent)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener(H.eventName,this.handleAddRemovalReasonEvent),this.removeEventListener(T.eventName,this.handleSelectRemovalReason),this.removeEventListener(A.eventName,this.handleAddedRemovalReason),this.removeEventListener(U.eventName,this.toggleButtonLoadingIndicator),this.addEventListener(P.eventName,this.handleFormElementClicked)}async show(e){e&&(this.thingId=e,await this.updateComplete),this.modal?.showModal(),await(this.partial?.load()),this.buildAndTrackEvent({action:"view"}),this.primaryButton?.querySelector("faceplate-progress")?.classList.add("hidden"),this.primaryButton?.querySelector("span.submit-button-content")?.classList.remove("opacity-0"),this.showHideSubmitButton()}render(){return e.x` <removal-reason-form class="mb-0" enctype="application/json" method="POST" action="/svc/shreddit/mod/removal-reason"> <faceplate-modal class="max-w-[540px] w-[90v w] z-30"> <div slot="closeButton"> ${a.n({appearance:"secondary",leadingIcon:e.m({size:e.I.Small}),size:a.$.Small,attributes:{type:"button",onclick:this.handleCancel}})} </div> <input type="hidden" name="thing" value="${this.thingId}"> ${n.i(this.thingId,e.x` <faceplate-partial class="w-100" src="/svc/shreddit/removal-reason-form/${this.thingId}" loading="${a.s.Programmatic}"> <div class="w-100 h-4xl flex items-center justify-center"> <faceplate-progress value="20" class="animate-spin"></faceplate-progress> </div> </faceplate-partial> `)} <div slot="primaryButton"> ${a.n({children:e.x`<faceplate-progress value="20" class="animate-spin loading-icon hidden absolute left-0 right-0 m-auto w-[16px]" style="--loader-size:1rem"></faceplate-progress> <span class="submit-button-content"> ${"Submit"}</span>`,appearance:"primary",attributes:{type:"submit",className:"w-100 relative"}})} </div> <div slot="secondaryButton"> ${a.n({children:"Cancel",appearance:"plain",attributes:{className:"w-100",type:"button",onclick:this.handleCancel}})} </div> </faceplate-modal> </removal-reason-form> `;}};return x.styles=[a.t],e._([e.n({type:Boolean,attribute:"is-smart-escalations-community-rules-enabled"})],x.prototype,"isSmartEscalationsCommunityRulesEnabled",void 0),e._([e.n({type:Boolean,attribute:"is-expand-suggested-actions-enabled"})],x.prototype,"isExpandSuggestedActionsEnabled",void 0),e._([e.n({type:String})],x.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"subreddit-name"})],x.prototype,"subredditName",void 0),e._([e.w("faceplate-modal")],x.prototype,"modal",void 0),e._([e.w("faceplate-partial")],x.prototype,"partial",void 0),x=e._([e.c("add-removal-reason-modal")],x),{A:H}}));
SML.dm("DczBT2kf",["DN8NCGGW","CElIDZoh","DVMhF-xZ"],(async(t,e)=>{function o(t,e,o){return!0===(null==o?void 0:o.short)?t.toLocaleDateString(e,{month:"short",day:"numeric"}):t.toLocaleString(e,null==o?void 0:o.options)}const r={options:{dateStyle:"full",timeStyle:"long"}};let i=class extends t.s{constructor(){super(...arguments),this.ts="",this.date=new Date,this.short=!1,this.locale=""}getLocale(){return this.locale||e.ce()}createRenderRoot(){return this}render(){const e=this.getLocale(),i=o(this.date,e,r),s=this.formatOptions?{options:this.formatOptions}:{short:this.short},n=o(this.date,e,s);return t.x`<time datetime="${this.date.toISOString()}" title="${i}">${n}</time>`}};return t._([t.n({type:String})],i.prototype,"ts",void 0),t._([t.n({attribute:"ts",converter:t=>e.cf(t||"")})],i.prototype,"date",void 0),t._([t.n({type:Boolean})],i.prototype,"short",void 0),t._([t.n({type:String})],i.prototype,"locale",void 0),t._([t.n({type:Object})],i.prototype,"formatOptions",void 0),i=t._([t.c("faceplate-date")],i),{f:o}}));
SML.dm("DGY0b97R",["DN8NCGGW","CElIDZoh","DVMhF-xZ"],(async(t,e)=>{let o=class extends t.s{constructor(){super(),this.ts="",this.short=!1,this.format="",this.locale="",this.date=new Date(this.ts)}getLocale(){return this.locale.length?this.locale:e.ce()}createRenderRoot(){return this}render(){const o=e.cj(this.getLocale(),{dateStyle:"full",timeStyle:"long"}).format(this.date),r={short:this.short,format:this.format.length?this.format:void 0},i=e.ck(this.date,this.getLocale(),r);return t.x` <time datetime="${this.date.toISOString()}" title="${o}">${i}</time> `}};t._([t.n({type:String})],o.prototype,"ts",void 0),t._([t.n({attribute:"ts",converter:t=>e.cf(t||"")})],o.prototype,"date",void 0),t._([t.n({type:Boolean})],o.prototype,"short",void 0),t._([t.n({type:String})],o.prototype,"format",void 0),t._([t.n({type:String})],o.prototype,"locale",void 0),o=t._([t.c("faceplate-timeago")],o)}));
SML.dm("DQaRMILU",["DN8NCGGW"],(async e=>{var r;!function(e){e.CIRCLE="circle",e.RECTANGLE="rectangle",e.PILL="pill"}(r||(r={}));const t=2500;let i=0,s=null,a=class extends e.s{constructor(){super(...arguments),this.shape=r.RECTANGLE,this.calcDelay=e=>{if(0===e)return 0;let r=0;const i=s?.getAnimations()[0];return i&&(r=i.effect?.getComputedTiming().progress*t),(r+200*e)%t}}static get styles(){return e.i`:host{display:inline-flex}:host([shape=pill]) #loader{border-radius:var(--rem8)}:host([shape=circle]) #loader{border-radius:50%}#loader{background:var(--color-shimmer-background);height:100%;width:100%;position:relative;overflow-x:hidden}#shimmer-object{background:var(--color-shimmer-gradient-overlay);border-radius:.5rem;height:100%;width:200%;position:absolute;top:0;inset-inline-start:0;transform:translateX(-100%)}`}firstUpdated(){this.shimmer(i++)}async shimmer(e){await new Promise((e=>requestAnimationFrame(e)));s||(s=this.shimmerObject);const r={duration:t,delay:-1*this.calcDelay(e),iterations:1/0};this.shimmerObject?.animate([{transform:"translateX(50%)"}],r)}render(){return e.x`<div id="loader"> <span id="shimmer-object"></span> </div> `}};return e._([e.n({type:String})],a.prototype,"shape",void 0),e._([e.w("#shimmer-object")],a.prototype,"shimmerObject",void 0),a=e._([e.c("faceplate-shimmer")],a),{get L(){return r}}}));
SML.dm("CGYl-sUB",["DN8NCGGW","BHUYYzrx","CElIDZoh","DVMhF-xZ"],(async(t,e,o)=>{let i=class extends t.s{constructor(){super(...arguments),this.position="bottom",this.mouseEnterDelay=750,this.triggerEvent="hover",this.appearance="neutral",this.emitter=o.v(this),this._timeoutID=null,this._popperController=new e.P(this,{position:this.position,variantFlipOrder:{start:"s",middle:"m",end:"e"},referenceElementKey:"referenceElement",popperElementKey:"_tooltip"}),this._eventUsedMap=new WeakMap,this.updated=t=>{t.has("position")&&this._popperController.updateOptions({position:this.position})},this.handleDocumentClick=t=>{if(!(t.target instanceof HTMLElement)||this.hidden)return;if(t.target.closest(this.tagName.toLowerCase())===this)return;this._eventUsedMap.has(t)||this.close()},this.handleEscape=t=>{"Escape"===t.key&&this.close()},this.addListenersWhileOpened=()=>{document.addEventListener("click",this.handleDocumentClick),document.addEventListener("keydown",this.handleEscape)},this.cleanupListenersWhileOpened=()=>{document.removeEventListener("click",this.handleDocumentClick),document.removeEventListener("keydown",this.handleEscape)}}get referenceElement(){return this.triggers[0]??this}static get styles(){return[t.i`:host{display:inline-block;position:relative;color:var(--tooltip-content)}:host([appearance=neutral]){--tooltip-background:var(--color-tooltip-bg-neutral);--tooltip-content:var(--color-tooltip-text-neutral)}:host([appearance=inverted]){--tooltip-background:var(--color-tooltip-bg-inverted);--tooltip-content:var(--color-tooltip-text-inverted)}:host([appearance=primary]){--tooltip-background:var(--color-tooltip-bg-primary);--tooltip-content:var(--color-tooltip-text-primary)}#faceplate-tooltip{font:var(--font-12-16-semibold);background-color:var(--tooltip-background);color:var(--tooltip-content);border-radius:.25rem;box-shadow:var(--boxshadow-tooltip);justify-content:center;align-items:center;padding:.5rem;display:inline-flex;width:max-content;isolation:isolate;z-index:var(--faceplate-tooltip-z-index,1)}article{display:flex;gap:.375rem}#faceplate-tooltip::after{display:block;content:'';width:8px;height:8px;position:absolute;background-color:var(--tooltip-background)}#faceplate-tooltip[position=bottom-end]::after,#faceplate-tooltip[position=bottom-start]::after,#faceplate-tooltip[position=top-end]::after,#faceplate-tooltip[position=top-start]::after{--max-arrow-x-travel-tooltip:calc(var(--tooltip-width, 2rem) - 1rem);--max-arrow-x-travel-target:calc(var(--target-width, 1rem) / 2);--max-arrow-x-distance:max(
            min(var(--max-arrow-x-travel-target), var(--max-arrow-x-travel-tooltip)),
            0.5rem
          )}#faceplate-tooltip[position=bottom-start]::after,#faceplate-tooltip[position=top-start]::after{inset-inline-start:var(--max-arrow-x-distance)}#faceplate-tooltip[position=bottom-end]::after,#faceplate-tooltip[position=top-end]::after{inset-inline-end:var(--max-arrow-x-distance)}#faceplate-tooltip[position=left-end]::after,#faceplate-tooltip[position=left-start]::after,#faceplate-tooltip[position=right-end]::after,#faceplate-tooltip[position=right-start]::after{--max-arrow-y-travel-tooltip:calc(var(--tooltip-height, 2rem) - 1rem);--max-arrow-y-travel-target:calc(var(--target-height, 2rem) / 2);--max-arrow-y-distance:max(
            min(var(--max-arrow-y-travel-target), var(--max-arrow-y-travel-tooltip)),
            0.5rem
          )}#faceplate-tooltip[position=left-start]::after,#faceplate-tooltip[position=right-start]::after{top:var(--max-arrow-y-distance)}#faceplate-tooltip[position=left-end]::after,#faceplate-tooltip[position=right-end]::after{bottom:var(--max-arrow-y-distance)}#faceplate-tooltip[position|=bottom]::after{top:0;transform:translateY(-50%) rotate(45deg);box-shadow:-1px -1px 2px rgba(0,0,0,.05)}#faceplate-tooltip[position|=top]::after{bottom:0;transform:translateY(50%) rotate(45deg);box-shadow:1px 1px 2px rgba(0,0,0,.05)}#faceplate-tooltip[position|=right]::after{inset-inline-start:0;transform:translateX(-38%) rotate(45deg);box-shadow:-2px 0 2px rgba(0,0,0,.05)}#faceplate-tooltip[position|=left]::after{inset-inline-end:0;transform:translateX(38%) rotate(45deg);box-shadow:0 -2px 2px rgba(0,0,0,.05)}#faceplate-tooltip[position^=auto]::after{display:none}`,e.P.defaultPopperContentStyles]}get hidden(){return"closed"===this._popperController.currentState.state}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupListenersWhileOpened()}updateCustomProperties(){if("faceplate-tooltip"!==this.tagName.toLocaleLowerCase())return;const{clientHeight:t=null,clientWidth:e=null}=this.referenceElement,{clientHeight:o=null,clientWidth:i=null}=this._tooltip;t&&e&&o&&i&&(this.style.setProperty("--target-width",`${Math.round(e)}px`),this.style.setProperty("--target-height",`${Math.round(t)}px`),this.style.setProperty("--tooltip-width",`${Math.round(i)}px`),this.style.setProperty("--tooltip-height",`${Math.round(o)}px`))}show(){this.emitter.dispatch("open"),this.updateCustomProperties(),this._popperController.open().then((()=>{this.hidden||(this.addListenersWhileOpened(),this.emitter.dispatch("opened"))}))}close(){return this.cleanupListenersWhileOpened(),this.emitter.dispatch("close"),this._popperController.close().then((()=>{this.hidden&&this.emitter.dispatch("closed")}))}handleClick(t){this._eventUsedMap.set(t,!0),"click"===this.triggerEvent&&(this.hidden?this.show():this.close())}handleMouseenter(){"hover"===this.triggerEvent&&(this.cleanupTooltips(),this._timeoutID=window.setTimeout((()=>{this.querySelector(":focus, :hover")&&this.show()}),this.mouseEnterDelay))}handleMouseleave(){this.close(),this.cleanupTooltips()}cleanupTooltips(){this._timeoutID&&(window.clearTimeout(this._timeoutID),this._timeoutID=null)}render(){const e=this._popperController.actualPosition||this.position;return t.x` <slot name="trigger" aria-describedby="faceplate-tooltip" faceplate-popper-trigger @click="${this.handleClick}" @mouseenter="${this.handleMouseenter}" @mouseleave="${this.handleMouseleave}" @focusin="${this.handleMouseenter}" @focusout="${this.handleMouseleave}"></slot> <article id="faceplate-tooltip" role="tooltip" position="${e}" faceplate-popper-content> <slot class="icon" name="icon"></slot> <span> <slot></slot> </span> </article> `}};return t._([t.n({type:String})],i.prototype,"position",void 0),t._([t.n({type:Number,attribute:"enter-delay"})],i.prototype,"mouseEnterDelay",void 0),t._([t.n({type:String,attribute:"trigger-event"})],i.prototype,"triggerEvent",void 0),t._([t.n({type:String,reflect:!0})],i.prototype,"appearance",void 0),t._([t.u({slot:"trigger",flatten:!0})],i.prototype,"triggers",void 0),t._([t.u({slot:"icon",flatten:!0})],i.prototype,"icons",void 0),t._([t.w("#faceplate-tooltip")],i.prototype,"_tooltip",void 0),i=t._([t.c("faceplate-tooltip")],i),{get FaceplateTooltip(){return i}}}));
SML.dm("DDco8exZ",["DN8NCGGW","DVMhF-xZ"],(async(e,t)=>{const a="plain",n="plain-weak",s="secondary",r="bordered",l="media",m="plain",o={[t.$.ExtraSmall]:e.I.ExtraSmall,[t.$.Small]:e.I.Small,[t.$.Medium]:e.I.Medium,[t.$.Large]:e.I.Medium},d={xs:"px-sm",sm:"px-sm",md:"px-sm",lg:"px-xs"},i={xs:"text-12",sm:"text-12",md:"text-12",lg:"text-14"},c={xs:"var(--size-button-sm-h)",sm:"var(--size-button-sm-h)",md:"var(--size-button-md-h)",lg:"var(--size-button-md-h)"},u={xs:"var(--font-button-sm)",sm:"var(--font-button-sm)",md:"var(--font-button-sm)",lg:"var(--font-button-md)"},b={[a]:"button-plain",[n]:"button-plain-weak",[s]:"button-secondary",[r]:"button-bordered-cab",[l]:"button-media-cab"},p=e=>{const{attributes:t,size:a,appearance:n,selected:s}=e;return[t?.className||"",a?`${i[a]}`:"",b[n??m],s?"button-activated":"","inline-flex items-center"].join(" ")};return{A:b,B:c,I:o,c:({attributes:a,children:n,size:s=t.$.Medium,selected:r,appearance:l=m,leadingIcon:o,screenReaderContent:i,role:b})=>{let $=`flex ${t.aa[s]}`;n&&o&&($+=" me-[var(--rem6)]");const{html:x,createElement:E}=e.g(),f=x`<span class="flex items-center"> ${o?x`<span class="${$}">${o}</span>`:void 0} ${n?x`<span> ${n} </span>`:void 0} </span> ${i?x`<faceplate-screen-reader-content> ${i} </faceplate-screen-reader-content>`:""}`,v=a?.href,M="bordered"===l?"border-sm":"border-md";return E(null!=v?"a":"button",{...a,role:b??a?.role,style:`height: ${c[s]}; font: ${u[s]}`,className:`button ${M} ${p({appearance:l,size:s,attributes:a,selected:r})}\n       ${d[s]}\n      `,rpl:!0},f)},g:p}}));
SML.dm("DX9Mw4w_",["Bahzn9My","DVMhF-xZ"],(async(a,o)=>{var r;!function(a){a.approve="approve",a.remove="remove",a.confirmRemoval="confirm_removal"}(r||(r={}));const t={[a.M.ApproveContent]:r.approve,[a.M.ConfirmRemoval]:r.confirmRemoval,[a.M.RemoveContent]:r.remove};let e=o.r;return{get A(){return r},M:class{async modBulkApprove(a){const{data:r}=await e({operation:o.O.ModBulkApprove,variables:{input:{ids:a}}});return r.modApproveBulk}async modBulkRemove(a,r=!1){const{data:t}=await e({operation:o.O.ModBulkRemove,variables:{input:{ids:a,isSpam:r}}});return t.modRemoveBulk}async modBulkRemoveAsSpam(a){const{data:r}=await e({operation:o.O.ModBulkRemove,variables:{input:{ids:a,isSpam:!0}}});return r.modRemoveBulk}async modBulkIgnore(a){const{data:r}=await e({operation:o.O.ModBulkIgnore,variables:{input:{ids:a}}});return r.modIgnoreBulk}async modBulkLock(a){const{data:r}=await e({operation:o.O.ModBulkLock,variables:{input:{ids:a}}});return r.modLockBulk}async modBulkMarkNSFW(a){const{data:r}=await e({operation:o.O.ModBulkMarkNSFW,variables:{input:{ids:a}}});return r.modMarkNsfwBulk}async modBulkMarkSpoiler(a){const{data:r}=await e({operation:o.O.ModBulkMarkSpoiler,variables:{input:{ids:a}}});return r.modMarkSpoilerBulk}async modBulkUnignore(a){const{data:r}=await e({operation:o.O.ModBulkUnignore,variables:{input:{ids:a}}});return r.modUnignoreBulk}async modBulkUnlock(a){const{data:r}=await e({operation:o.O.ModBulkUnlock,variables:{input:{ids:a}}});return r.modUnlockBulk}async modBulkUnmarkNSFW(a){const{data:r}=await e({operation:o.O.ModBulkUnmarkNSFW,variables:{input:{ids:a}}});return r.modUnmarkNsfwBulk}async modBulkUnmarkSpoiler(a){const{data:r}=await e({operation:o.O.ModBulkUnmarkSpoiler,variables:{input:{ids:a}}});return r.modUnmarkSpoilerBulk}async modBulkUpdatePostFlair(a,r,t,n){const{data:i}=await e({operation:o.O.ModBulkUpdatePostFlair,variables:{input:{postIds:a,cssClassId:r,flairTemplateId:t,text:n}}});return i.modUpdatePostFlairBulk}},S:t}}));
SML.dm("qCJremDI",["DVMhF-xZ","DwsEu536","DX9Mw4w_","CpoKGso5","CdTGYlNw"],(async(t,e,a,n,E)=>{function r(a){switch(!0){case e.b(a):return t.M.Award;case e.a(a):return t.M.Comment;case e.i(a):return t.M.Post;default:return null}}return{g:function(t){return t.closest("[mod-tools-host]")},i:r,p:function(e,T,o){switch(r(e)){case t.M.Award:T in a.S&&t.p(t.T.AwardOnContentUpdated,{awardOnContentId:e,action:a.S[T],value:o});break;case t.M.Comment:T in n.S&&t.p(t.T.CommentUpdated,{commentId:e,action:n.S[T],value:o});break;case t.M.Post:(E.P.includes(T)||T in E.S)&&t.p(t.T.PostUpdated,{postId:e,action:E.S[T],value:o});break}}}}));
SML.dm("BZ-chNG6",["CMS2OfNt"],(async e=>({H:new Set([e.P.SubredditFeed,e.P.CommentsPage,e.P.ModQueue,e.P.ModQueueAll,e.P.ModLog])})));
SML.dm("m_62dcKy",["DVMhF-xZ","CMS2OfNt"],(async(E,R)=>{const D=R=>R===E.a3.ModApproved,e=R=>R===E.a3.AdminApproved,o=R=>R===E.a3.ModRemoved||R===E.a3.ModSpammed,M=R=>R===E.a3.AdminRemoved||R===E.a3.AdminSpammed;var P;!function(E){E.UNMODERATED="UNMODERATED",E.APPROVED="APPROVED",E.REMOVED="REMOVED",E.SPAM="SPAM",E.REPORTED="REPORTED",E.FILTERED="FILTERED"}(P||(P={}));const d=(E,R)=>(E===P.FILTERED||R)&&E!==P.APPROVED&&E!==P.REMOVED;return{get M(){return P},a:(D,e)=>(D===R.P.ModQueue||D===R.P.ModQueueAll)&&e===E.a4.ModQueueCompactView,b:E=>[P.REPORTED,P.FILTERED,P.UNMODERATED,P.REMOVED,P.SPAM].includes(E),c:E=>[P.APPROVED,P.UNMODERATED,P.REPORTED].includes(E),d:({moderationState:E,isSpamFilteredPost:R,isRemoved:D,isPromotedPost:e})=>(d(E,R)||!D)&&!e,e:({isPromotedPost:E})=>!E,f:(E,R,D,e)=>E===P.REMOVED&&!e&&!R&&!d(E,D),h:E=>D(E)||e(E)||o(E)||M(E),i:E=>D(E)||e(E),s:d}}));
SML.dm("yHFcPWkl",["DN8NCGGW"],(async e=>{var n,t;!function(e){e.Regular="regular",e.Semibold="semibold"}(n||(n={})),function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(t||(t={})),t.Small,e.I.ExtraSmall,t.Medium,e.I.Small,t.Large,e.I.Medium;const i={sm:"text-12",md:"text-14",lg:"text-16"},r={always:"underline",hover:"hover:underline",none:"no-underline hover:no-underline"},a={primary:"",secondary:"text-secondary-plain hover:text-secondary-plain-hover no-visited visited:text-secondary-plain","plain-weak":"text-secondary-plain-weak hover:text-secondary-plain-hover no-visited visited:text-secondary-plain-weak",media:"text-media-onbackground no-visited visited:text-media-onbackground",inverted:"text-inverted-secondary-plain hover:text-inverted-secondary-plain-hover no-visited visited:text-neutral-background-weak"};return{get A(){return t},a:({attributes:n,children:t,fontWeight:d="regular",size:s,suppressVisitedStyle:l=!1,underline:o="hover",visited:m,appearance:c="primary",trailingIcon:u})=>{const{html:v,createElement:p}=e.g(),g=v`${t}${u?v`<span class="ms-2xs align-middle">${u}</span>`:""}`,x=`${n?.className||""} a cursor-pointer\n  ${c?a[c]:""}\n  ${s?i[s]:""}\n  ${"semibold"===d?"font-semibold":""}\n  ${l?"no-visited":""}\n  ${o?r[o]:""}\n  ${m?"visited":""}`;return p("a",{...n,rpl:!0,className:x},g)},get b(){return n}}}));
SML.dm("CGzEIBwW",[],(async()=>{const t=t=>{let r=t.title??"";return t.text&&(r.length&&(r+="\n\n"),r+=t.text),t.url&&(r.length&&(r+="\n\n"),r+=t.url),r};var r;!function(t){t[t.NativeShare=0]="NativeShare",t[t.Clipboard=1]="Clipboard"}(r||(r={}));var a=async(a,e=!0,n=t)=>{if("function"==typeof window.navigator.share&&!e){try{await window.navigator.share(a)}catch(t){}return r.NativeShare}try{await navigator.clipboard.writeText(n(a))}catch(t){}return r.Clipboard};return{get S(){return r},get s(){return a}}}));
SML.dm("zIj5u43D",["DVMhF-xZ"],(async e=>{const t=new Set([e.ab.BrandMention,e.ab.ProfileAccountStats,e.ab.ProfileComments,e.ab.ProfileDashboard,e.ab.ProfileDownvoted,e.ab.ProfileHidden,e.ab.ProfileOverview,e.ab.ProfilePerformance,e.ab.ProfilePerformanceComments,e.ab.ProfilePosts,e.ab.ProfileRelatedKeywords,e.ab.ProfileSaved,e.ab.ProfileSubmitted,e.ab.ProfileTrendingConvoDetails,e.ab.ProfileCommunityFinder,e.ab.ProfileTrendingConvos,e.ab.ProfileUpvoted,e.ab.ProfileTrendMonitoring,e.ab.ProductCommunitiesPage,e.ab.ProductInsights,e.ab.ProductInsightDetailsPage,e.ab.ProductMentionsFeedPage,e.ab.ArticleDetails,e.ab.ArticleFeed,e.ab.ArticleInsights,e.ab.PublisherCommunities]),o=[e.ab.ProfileOverview,e.ab.ProfilePosts,e.ab.ProfileSaved,e.ab.ProfileUpvoted,e.ab.ProfileDownvoted,e.ab.ProfileHidden];var a;Array.from(t),function(e){e[e.Hour=0]="Hour",e[e.Day=1]="Day",e[e.Month=2]="Month",e[e.Year=3]="Year"}(a||(a={}));const n=e=>({unit:a.Day,value:-e}),r=e=>({unit:a.Month,value:-e});var s,i;!function(e){e[e.Yesterday=0]="Yesterday",e[e.LastWeek=1]="LastWeek",e[e.LastMonth=2]="LastMonth",e[e.Last3Months=3]="Last3Months",e[e.Last6Months=4]="Last6Months",e[e.LastYear=5]="LastYear"}(s||(s={})),function(e){e.Yesterday="day",e.LastWeek="week",e.LastMonth="month",e.Last3Months="last-3-months",e.Last6Months="last-6-months",e.LastYear="year"}(i||(i={})),new Set([i.LastWeek,i.LastMonth,i.Last3Months]),a.Day;const d={[s.LastWeek]:i.LastWeek,[s.LastMonth]:i.LastMonth,[s.Last3Months]:i.Last3Months,[s.Last6Months]:i.Last6Months},l=[{type:s.LastWeek,value:d[s.LastWeek],offset:n(7)},{type:s.LastMonth,value:d[s.LastMonth],offset:n(30)},{type:s.Last3Months,value:d[s.Last3Months],offset:r(3)},{type:s.Last6Months,value:d[s.Last6Months],offset:r(6)}],f=new Map(l.map((({value:e,offset:t})=>[e,t]))),h=i.LastMonth;var b;f.get(h),i.LastWeek,e.ga.Week,i.LastMonth,e.ga.Month,i.Last3Months,e.ga.Months_3,i.Last6Months,e.ga.Months_6,i.LastYear,e.ga.Month,i.Yesterday,e.ga.Month,i.Yesterday,e.gb.Day,i.LastWeek,e.gb.Week,i.LastMonth,e.gb.Month,i.Last3Months,e.gb.Months_3,i.Last6Months,e.gb.Months_3,i.LastYear,e.gb.Months_3,function(e){e.ProfileCreation="profile_creation_step",e.OnboardingComplete="profile_creation_onboarding_complete"}(b||(b={}));return{A:"reddit-pro-account-stats-content-id",D:"profile-dashboard-performance-overview-content",O:"overview-box-value",P:"profile-active-subreddits-modal",get R(){return i},S:"REDDIT_PRO_SHARE_BUTTON_COACHMARK",T:"trend-monitoring-add-keyword-modal",a:"profile-contributions-modal",b:h,c:"t",d:"reddit_pro_recommended_keywords",e:"reddit-pro-recommended-keywords",get f(){return a},g:"/profiles",h:"trend-monitoring-manage-keywords-modal",i:e=>t.has(e),j:"delete-keyword-confirmation-modal",k:o,l:"reddit_pro_onboarding",m:"profile-creation-add-description-event",n:"skip-profile-creation",o:"submit-profile-creation",p:"profile-creation-submit-event",get q(){return b},r:"profile-followers-modal",s:l,t:"REDDIT_PRO_PROFILE_PIN_POST_COACHMARK"}}));
SML.dm("DD7scjFQ",["DN8NCGGW","DVMhF-xZ","yHFcPWkl","DDco8exZ","y7f18YYf","CGzEIBwW","zIj5u43D","CElIDZoh","CWi6z3tG","DwsEu536","CnZCQZdH","BsQJl0hY","21VIldix","C_M_NGfT","YWXw6gDz"],(async(e,t,i,a,o,r,n,s,l,c)=>{let p=t.f;const h=async e=>{try{return await p({name:t.dN,renderMode:t.g.Contents,queryParams:{postId:e}}),!0}catch{return!1}},u="share-menu-template",d="share-menu-copy-link-option",m="share-menu-crosspost-option",k="share-menu-embed-option",T="share-dropdown-menu",E=e=>({target:t,placement:i})=>N({...e,target:t,placement:i??e.placement}),S=({content:i,experienceName:a,source:o})=>e.x`<rpl-coachmark-card auto-close appearance="inverted" slot="content" class="${"whitespace-nowrap"}"> ${(({experienceName:i,source:a})=>{const o='closest([slot="close-button"])';return e.x` ${t.n({attributes:{type:"button","aria-label":"Close",slot:"close-button"},appearance:"plainInverted",leadingIcon:e.m({size:e.I.Small}),size:t.$.Small})} <ac-track san="${a}|click|close_button" trigger-elem="${o}"> </ac-track> ${I({action:t.Z.Dismiss,experienceName:i,triggerElem:o})} `})({experienceName:a,source:o})} <span slot="title" class="font-[500]">${i}</span> <ac-track trigger="view" san="${o}|view|card"></ac-track> ${I({action:t.Z.View,experienceName:a,trigger:"view"})} </rpl-coachmark-card> `,I=({action:e,experienceName:i,trigger:a,triggerElem:o})=>s.bl({operation:t.O.StoreUxtargetingAction,trigger:a,triggerElem:o,variables:{input:{action:e,eligibleExperience:{experienceName:i,experience:t.Y.StringIdExperience}}}}),N=({content:i,experienceName:a,placement:o,source:r,target:n})=>e.x` <rpl-coachmark open no-animate trigger="manual" appearance="inverted" placement="${e.l(o)}" id="reddit-pro-coachmark" label="${i}"> ${(({experienceName:i,target:a,source:o})=>e.x` <span> ${a} <ac-call target="closest(#reddit-pro-coachmark)" method="hide()"> </ac-call> <ac-track san="${o}|click|target"></ac-track> ${I({action:t.Z.Click,experienceName:i})} </span> `)({experienceName:a,source:r,target:n})} ${S({content:i,experienceName:a,source:r})} </rpl-coachmark> `,b=E({experienceName:n.S,content:"Share your favorite content to your profile",source:"reddit_pro_share_menu_coachmark",placement:l.P.Top}),f=({source:e,noun:i})=>t.b({source:e||"share",action:"click",noun:i}),_=({source:e}={})=>f({source:e,noun:"share_crosspost"}),C=({source:e}={})=>f({source:e,noun:"share_profile_crosspost"}),D=()=>t.b({source:"comment",action:"click",noun:"share_as_post"},{action_info:{reason:"share_sheet"}}),L=Symbol("mixins/with-share");const g=(e,t,i)=>{const a=["click","keydown"],o=e.querySelector(`.${t}`);for(const e of a)o?.addEventListener(e,i)};return {C:"comment-share-menu-template",E:k,S:u,W:function(n){if(t.dE(n,L))return n;const s=n;class l extends s{constructor(){super(...arguments),this.permalink="",this.sourceId="",this.source=void 0,this.isCrosspostable=!1,this.isEmbeddable=!1,this.disabled=!1,this.isDesktopViewport=!1,this.hideButtonText=!1,this.hideButtonIcon=!1,this.shouldAllowPropagation=!1,this.shareMenuFeatureName=t.ay,this.shareMenuTemplateId=u,this.translationLanguage="",this.showShareMenuProfileCoachmark=!1,this.isShareMenuInitiated=!1,this.showPostAssignModal=h,this.isShareDropdownOpened=!1,this.activateShareMenuFeature=()=>{const e={};return this.isCrosspostable&&(e.isCrosspostable=!0,this.sourceId&&(e.postId=this.sourceId)),this.isEmbeddable&&(e.isEmbeddable=!0),t.f({name:this.shareMenuFeatureName,queryParams:e,renderMode:t.g.Contents})},this.isAllowedEvent=e=>!e||(e instanceof PointerEvent||e instanceof MouseEvent||["Enter"," "].includes(e.key)),this.handleMobileShareClick=async e=>{this.isAllowedEvent(e)&&(await this._copyLink())},this.handleDesktopShareClick=async e=>{if(!this.isAllowedEvent(e))return;if(this.isShareMenuInitiated)return;let t=!1;try{t=Boolean(await this.activateShareMenuFeature())}catch(t){return void this.handleCopyLinkClick(e)}const i=document.querySelector(`#${this.shareMenuTemplateId}`)?.content;if(!i)return void this.handleCopyLinkClick(e);const a=this.getShareDropdownMenus();a?.length&&(a.forEach((e=>{if(e.querySelector("faceplate-menu"))return;const a=i.cloneNode(!0);e.appendChild(a),g(e,d,this.handleCopyLinkClick),g(e,m,this.handleCrosspostClick),g(e,k,this.handleEmbedClick),g(e,"klp-copy-link",this.handleKlpCopyLinkClick),g(e,"share-menu-profile-crosspost-option",this.handleProfileCrosspostClick),t&&e.show?.()})),t&&this.handleShareDropdownOpen(),this.isShareMenuInitiated=!0)},this.handleShareDropdownOpen=()=>{this.isShareDropdownOpened||(this.isShareDropdownOpened=!0,t.a(this,(({source:e}={})=>t.b({source:e||"share",action:"view",noun:"custom_share_sheet"}))({source:this.source})))},this.handleShareDropdownClose=()=>{this.isShareDropdownOpened=!1,t.a(this,(({source:e}={})=>t.b({source:e||"share",action:"dismiss",noun:"custom_share_sheet"}))({source:this.source}))},this.getShareDropdownMenus=()=>{const e=this.shadowRoot?.querySelectorAll(`.${T}`);if(e?.length)return e;const t=this.querySelectorAll(`faceplate-dropdown-menu.${T}`);if(t?.length)return t;const i=this.querySelectorAll("slot");for(const e of i){const t=e.assignedElements?.();if(t?.length){const e=Array.from(t).find((e=>e.classList?.contains(T)||e.querySelector(`.${T}`)));if(e)return[e.classList?.contains(T)?e:e.querySelector(`.${T}`)]}}},this.closeShareMenu=()=>{this.getShareDropdownMenus()?.forEach((e=>e.close?.()))},this.handleCopyLinkClick=async e=>{this.shouldAllowPropagation||e?.stopPropagation(),this.isAllowedEvent(e)&&(t.a(this,(({source:e}={})=>f({source:e,noun:"copy_link"}))({source:this.source})),this.closeShareMenu(),await this._copyLink())},this.handleKlpCopyLinkClick=async e=>{this.isAllowedEvent(e)&&(this.closeShareMenu(),await this._copyLink())},this.handleKlpNotUsefulClick=e=>{this.isAllowedEvent(e)&&this._notUseful()},this.handleKlpUsefulClick=e=>{this.isAllowedEvent(e)&&this._useful()},this.handleCrosspostClick=e=>{const i=c.a(this.sourceId)?D:_;this._handlePostComposerClick(e,`${t.dO.CrosspostSourceId}=${this.sourceId}`,i)},this.handleProfileCrosspostClick=async e=>{(await this.showPostAssignModal(this.sourceId))||this._handlePostComposerClick(e,`${t.dO.CrosspostSourceId}=${this.sourceId}&${t.dO.CrosspostTarget}=profile`,C)},this.handleEmbedClick=e=>{e.stopPropagation(),this.isAllowedEvent(e)&&(t.a(this,(({source:e}={})=>f({source:e,noun:"embed"}))({source:this.source})),this.closeShareMenu(),window.open(`https://publish.reddit.com/embed?url=https://www.reddit.com${this.permalink}`,"RedditEmbed"))},this._handlePostComposerClick=(e,i,a)=>{e.stopPropagation(),this.isAllowedEvent(e)&&(t.a(this,a({source:this.source})),this.closeShareMenu(),window.open(`/submit?${i}`,"_blank"))},this._copyLink=async()=>{if(!this.permalink||!location.origin)return;const e={url:this._buildShareUrl(location.origin,this.permalink)};if(r.S.Clipboard===(await r.s(e,this.isDesktopViewport))){const e=t.c("faceplate-alert",{level:t.a5.success,message:"Link copied"});this.dispatchEvent(e)}},this._notUseful=()=>{const e=t.c("faceplate-alert",{level:t.a5.notice,message:"Thanks for letting us know"});this.dispatchEvent(e)},this._useful=()=>{const e=t.c("faceplate-alert",{level:t.a5.notice,message:"Thanks for letting us know"});this.dispatchEvent(e)},this._buildShareUrl=(e,t)=>{const i=t.includes("?"),a=t.includes("tl=");return e+t+this._getShareQueryParams({source:this.source,term:"1",permalinkHasQuery:i,permalinkHasTlQuery:a})},this._getShareQueryParams=({permalinkHasQuery:e=!1,permalinkHasTlQuery:t=!1,source:i="share",term:a})=>{const o=this._getShareUTMParams({source:i,term:a}),r=t?"":this._getShareTranslationLanguageQueryParams();return e?`&${o}${r}`:`?${o}${r}`},this._getShareTranslationLanguageQueryParams=()=>this.translationLanguage?`&share_tl=${this.translationLanguage}`:"",this._getShareUTMParams=({source:e="share",term:i})=>{const a=t.b5();return`utm_source=${e}&utm_medium=${a}&utm_name=${a}css&utm_term=${i}&utm_content=share_button`},this.renderShareDropdown=({handleShareClick:o,size:r=t.$.Small,appearance:n="plain",attributes:s={},shareButtonText:l})=>{const c=l||"Share",p="link"===n,h=e.x` <faceplate-dropdown-menu class="${T} relative ${p?"inline":""}" position="bottom-start" .onopen="${this.isDesktopViewport?this.handleShareDropdownOpen:void 0}" .onclose="${this.isDesktopViewport?this.handleShareDropdownClose:void 0}"> ${p?i.a({attributes:{onclick:o,onkeydown:o,...s},children:this.hideButtonText?void 0:c,suppressVisitedStyle:!0}):a.c({size:r,appearance:n,attributes:{type:"button",onclick:o,onkeydown:o,...s},leadingIcon:this.hideButtonIcon?void 0:e.b3({size:a.I[r],attributes:{className:"icon-share","aria-hidden":"true"}}),screenReaderContent:this.hideButtonText?c:void 0,children:this.hideButtonText?void 0:c})} </faceplate-dropdown-menu>`;return this.showShareMenuProfileCoachmark?b({target:h}):h},this.renderOnlyShareButton=({handleShareClick:i,size:o=t.$.Small,appearance:r="plain",attributes:n={},showFullButtons:s=!1})=>{const l="Copy link",c="link"===r;return e.x` ${c?e.A:a.c({size:o,appearance:r,attributes:{type:"button",onclick:i,onkeydown:i,...n,className:`${n.className} relative`,"aria-label":l},children:e.x` <span class="justify-center ${s?"flex s:hidden":"flex"}">${e.ac({size:e.I.Small})}</span> <span class="${s?"hidden s:flex":"hidden"}"> ${l} </span> `})}`},this.renderOnlyShareMenuItem=({handleShareClick:t,menuSize:i=o.L.Medium})=>{const a="Copy link";return o.l({leadingIcon:e.ac(),label:a,size:i,onClick:t})}}}return l[L]=!0,e._([e.n({type:String})],l.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"source-id"})],l.prototype,"sourceId",void 0),e._([e.n({type:String,attribute:"source"})],l.prototype,"source",void 0),e._([e.n({type:Boolean,attribute:"is-crosspostable"})],l.prototype,"isCrosspostable",void 0),e._([e.n({type:Boolean,attribute:"is-embeddable"})],l.prototype,"isEmbeddable",void 0),e._([e.n({type:Boolean})],l.prototype,"disabled",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],l.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"hide-button-text"})],l.prototype,"hideButtonText",void 0),e._([e.n({type:Boolean,attribute:"hide-button-icon"})],l.prototype,"hideButtonIcon",void 0),e._([e.n({type:Boolean,attribute:"should-allow-propagation"})],l.prototype,"shouldAllowPropagation",void 0),e._([e.n({type:String,attribute:"share-menu-feature-name"})],l.prototype,"shareMenuFeatureName",void 0),e._([e.n({type:String,attribute:"share-menu-template-id"})],l.prototype,"shareMenuTemplateId",void 0),e._([e.n({type:String,attribute:"translation-language"})],l.prototype,"translationLanguage",void 0),e._([e.n({type:Boolean,attribute:"show-share-menu-profile-coachmark"})],l.prototype,"showShareMenuProfileCoachmark",void 0),l},a:T,b:d,c:m,d:E};}));
SML.dm("ZbquE2XF",["DN8NCGGW","DVMhF-xZ","y7f18YYf","DD7scjFQ","CElIDZoh"],(async(t,e,s,i,n)=>{const o=i.W(t.s);let a=class extends o{constructor(){super(...arguments),this.permalink="",this.disabled=!1,this.isDesktopViewport=!1,this.isListItem=!1,this.ssr=!1,this.shareMenuFeatureName=e.aZ,this.shareMenuTemplateId=i.C,this.useButton=!1,this.useMenu=!1,this.showFullButtons=!1,this.menuSize=s.L.Medium}static get styles(){return[e.t,e.m("/*\n * :host and button.share-button-list-item is necessary to increase specificity to override the default styles of the button\n */\n:host button.share-button-list-item {\n  padding: 0;\n  height: 2rem !important;\n  border: none;\n  border-radius: 0;\n  color: var(--color-secondary);\n  background-color: transparent;\n  /*\n   * This CSS was added to fix the flex gap spacing when re-styling the share button component as a list item in the comment action overflow menu.\n   * It needs to be added here as we cannot otherwise directly target the span's styling.\n   */\n}\n:host button.share-button-list-item > span.flex {\n  font-weight: normal;\n}\n:host button.share-button-list-item > span.flex > span:first-child {\n  width: 2rem;\n  display: flex;\n  justify-content: center;\n  margin-right: 0.5rem;\n}\n")]}handleCommentShareClick(t){this.isAllowedEvent(t)&&(!this.isListItem&&this.isDesktopViewport?this.handleCommentDesktopShareClick(t):this.handleCommentMobileShareClick(t),this.ssr&&(this.isShareDropdownOpened?this.handleShareDropdownClose():this.handleShareDropdownOpen()))}handleCommentDesktopShareClick(t){e.a(this,n.J()),this.handleDesktopShareClick(t)}handleCommentMobileShareClick(t){e.a(this,n.K()),this.handleMobileShareClick(t)}render(){return this.ssr?t.x`<slot name="ssr-share-button" @click="${this.handleCommentShareClick}" @keydown="${this.handleCommentShareClick}"></slot>`:this.useMenu?this.renderOnlyShareMenuItem({handleShareClick:this.handleCommentShareClick,menuSize:this.menuSize}):this.useButton?this.renderOnlyShareButton({handleShareClick:this.handleCommentShareClick,attributes:{disabled:this.disabled,className:"font-semibold"},showFullButtons:this.showFullButtons}):this.renderShareDropdown({handleShareClick:this.handleCommentShareClick,size:this.isListItem?e.$.Large:e.$.Small,appearance:this.isListItem?"plain":"plain-weak",attributes:{disabled:this.disabled,className:this.isListItem?"share-button-list-item w-full":"font-semibold"}})}};t._([t.n({type:String})],a.prototype,"permalink",void 0),t._([t.n({type:Boolean})],a.prototype,"disabled",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],a.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-list-item"})],a.prototype,"isListItem",void 0),t._([t.n({type:Boolean,attribute:"ssr"})],a.prototype,"ssr",void 0),t._([t.n({type:String,attribute:"share-menu-feature-name"})],a.prototype,"shareMenuFeatureName",void 0),t._([t.n({type:String,attribute:"share-menu-template-id"})],a.prototype,"shareMenuTemplateId",void 0),t._([t.n({type:Boolean,attribute:"use-button"})],a.prototype,"useButton",void 0),t._([t.n({type:Boolean,attribute:"use-menu"})],a.prototype,"useMenu",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],a.prototype,"showFullButtons",void 0),t._([t.n({type:String})],a.prototype,"menuSize",void 0),a=t._([t.c("shreddit-comment-share-button")],a)}));
SML.dm("BrB3BiJ_",["DN8NCGGW","DVMhF-xZ","y7f18YYf","DD7scjFQ"],(async(t,e,s,i)=>{const o=i.W(t.s);let r=class extends o{constructor(){super(...arguments),this.shareButtonText="",this.permalink="",this.size=e.$.Medium,this.menuSize=s.L.Medium,this.buttonClass="",this.isDesktopViewport=!1,this.ssr=!1,this.appearance="secondary",this.shareMenuFeatureName=e.ay,this.shareMenuTemplateId=i.S,this.useButton=!1,this.useMenu=!1,this.showFullButtons=!1,this.translationLanguage=""}static get styles(){return[e.t]}handlePostShareClick(t){this.isAllowedEvent(t)&&(this.isDesktopViewport?this.handleDesktopShareClick(t):this.handleMobileShareClick(t),this.ssr&&(this.isShareDropdownOpened?this.handleShareDropdownClose():this.handleShareDropdownOpen()))}render(){return this.ssr?t.x`<slot name="ssr-share-button" @click="${this.handlePostShareClick}" @keydown="${this.handlePostShareClick}"></slot>`:this.useMenu?this.renderOnlyShareMenuItem({handleShareClick:this.handlePostShareClick,menuSize:this.menuSize,attributes:{className:this.buttonClass}}):this.useButton?this.renderOnlyShareButton({handleShareClick:this.handlePostShareClick,size:this.size,attributes:{className:this.buttonClass},showFullButtons:this.showFullButtons}):this.renderShareDropdown({handleShareClick:this.handlePostShareClick,appearance:this.appearance,size:this.size,shareButtonText:this.shareButtonText,attributes:{className:this.buttonClass}})}};t._([t.n({type:String,attribute:"share-button-text"})],r.prototype,"shareButtonText",void 0),t._([t.n({type:String})],r.prototype,"permalink",void 0),t._([t.n({type:String})],r.prototype,"size",void 0),t._([t.n({type:String})],r.prototype,"menuSize",void 0),t._([t.n({type:String,attribute:"button-class"})],r.prototype,"buttonClass",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],r.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"ssr"})],r.prototype,"ssr",void 0),t._([t.n({type:String})],r.prototype,"appearance",void 0),t._([t.n({type:String,attribute:"share-menu-feature-name"})],r.prototype,"shareMenuFeatureName",void 0),t._([t.n({type:String,attribute:"share-menu-template-id"})],r.prototype,"shareMenuTemplateId",void 0),t._([t.n({type:Boolean,attribute:"use-button"})],r.prototype,"useButton",void 0),t._([t.n({type:Boolean,attribute:"use-menu"})],r.prototype,"useMenu",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],r.prototype,"showFullButtons",void 0),t._([t.n({type:String})],r.prototype,"translationLanguage",void 0),r=t._([t.c("shreddit-post-share-button")],r)}));
SML.dm("CAtfi8BE",["DVMhF-xZ","CElIDZoh","DN8NCGGW"],(async(e,t)=>{class i extends HTMLElement{constructor(){super(),this.childAnchor=null,this.chatUrl=null,this.mobilePermalink=null,this.handleAnchorClick=async e=>{if(!this.chatUrl)return;if(e.preventDefault(),this.mobilePermalink){const e=new URL(this.mobilePermalink,window.location.href).searchParams.get("r"),i=document.querySelector(`faceplate-modal[name="${t.cw}"]`),r=i?.querySelector("a.app-link");if(r?.href){const t=new URL(r.href);e&&t.searchParams.set("r",e),t.searchParams.set("$android_deeplink_path",`reddit${this.mobilePermalink}`),t.searchParams.set("$deeplink_path",this.mobilePermalink),t.searchParams.set("$og_redirect",`${CLIENT_CONFIG.ORIGIN}${this.mobilePermalink}`),t.searchParams.set("base_url",this.mobilePermalink),r.setAttribute("href",t.toString())}return void this.dispatchEvent(new CustomEvent(t.cw,{bubbles:!0}))}let i=document.querySelector("reddit-chat-host");i||(await this.activateFeature(),i=document.querySelector("reddit-chat-host")),i.openChatUrl(this.chatUrl)}}async activateFeature(){try{await e.f({name:e.dx})}catch(t){if(!t.message?.endsWith(`${e.dx} not found`))throw t}}connectedCallback(){const e=this.querySelector(":scope > a, :scope > li > a"),i=e?.href;this.mobilePermalink=this.getAttribute("permalink");((e,i=!1)=>!!e&&(e.startsWith(t.aP)||e.startsWith(t.cv)||i&&e.startsWith("/c/")))(i||this.mobilePermalink||void 0,!!this.mobilePermalink)&&(this.childAnchor=e,!i&&this.mobilePermalink?this.chatUrl=this.mobilePermalink:i&&i.startsWith(t.aP)?this.chatUrl="/"+i.replace(t.aP,""):i&&(this.chatUrl="/"+i.replace(t.cv,"")),this.childAnchor?.addEventListener("click",this.handleAnchorClick))}disconnectedCallback(){this.childAnchor?.removeEventListener("click",this.handleAnchorClick)}}return customElements.define("reddit-chat-anchor",i),{a:e=>`${t.aP}room/${e}`,g:(e,i)=>`${t.aP}room/${e}/event/${i}`}}));
SML.dm("zrykt2nd",["DN8NCGGW","DVMhF-xZ"],(async(r,a)=>{const n={Neutral:"neutral",Success:"success",Warning:"warning",Danger:"danger",Alert:"alert",Plain:"plain",Disabled:"disabled"};class o extends a.x{constructor(){super(...arguments),this.appearance=n.Neutral,this.outline=!1,this._hasContent=!1}render(){return r.x`<span class="container"> <slot class="${a.y({"with-content":this._hasContent,"without-content":!this._hasContent})}" @slotchange="${r=>{this._hasContent=!!r.target.assignedNodes().length}}"></slot> </span>`}}r._([r.n({type:String,reflect:!0})],o.prototype,"appearance",void 0),r._([r.n({type:Boolean})],o.prototype,"outline",void 0),r._([r.b()],o.prototype,"_hasContent",void 0);var e=r.i`${a.z}:host{border-radius:var(--radius-full);display:inline-flex}.with-content{min-width:inherit;min-height:var(--size-md);display:inline-block}.without-content{width:inherit;height:var(--size-xs)}.container{font-weight:600;display:inline-block;font-size:var(--rem10);text-align:center;padding:0 var(--spacer-2xs);line-height:var(--rem16);min-width:var(--size-xs);min-height:var(--size-xs)}:host([outline]){border:solid var(--line-md) var(--color-neutral-background)}:host([appearance=warning]){background:var(--color-warning-background);color:var(--color-neutral-background)}:host([appearance=alert]){background:var(--color-global-orangered);color:var(--color-primary-onBackground)}:host([appearance=danger]){background:var(--color-danger-background);color:var(--color-primary-onBackground)}:host([appearance=success]){background:var(--color-success-background);color:var(--color-primary-onBackground)}:host([appearance=neutral]){background:var(--color-neutral-content);color:var(--color-neutral-background)}:host([appearance=plain]){background:var(--color-neutral-background);color:var(--color-neutral-content)}:host([appearance=disabled]){background:var(--color-interactive-content-disabled);color:var(--color-neutral-background)}`;let t=class extends o{};return t.styles=e,t=r._([r.c("rpl-badge")],t),{R:n}}));
SML.dm("QAQY90ii",["DVMhF-xZ","Ch8njlGJ","BIdLZLCw","CElIDZoh","qCJremDI","DwsEu536","Bahzn9My","DkvSmkm1","DX9Mw4w_","dbEOUwpN","DN8NCGGW","ChYc5yrF","CYBj3-X8","DiQwYZkp","CpoKGso5","CdTGYlNw","CMS2OfNt","B-K8bCNo","CnZCQZdH","C_M_NGfT","CWi6z3tG","3bEj5-ZB","YWXw6gDz","BHUYYzrx","L-pRUMpq","Chf2nmby","D-XYEw65","CEf0pl28","BsQJl0hY","21VIldix","DEZJErJv","2tacFyfC","DdIwQUSk","y7f18YYf"],(async(e,a,r,n,t,o,i,s,l)=>{const m=(a,r,n)=>{const t=n===e.M.Post;switch(a){case i.M.MarkSpoiler:return r?t?"Post has been marked spoiler.":"Comment has been marked spoiler.":t?"There was an error marking the post spoiler. Please try again.":"There was an error marking the comment spoiler. Please try again.";case i.M.UnmarkSpoiler:return r?t?"Post has been unmarked spoiler.":"Comment has been unmarked spoiler.":"There was an error unmarking the post spoiler. Please try again.";case i.M.MarkNsfw:return r?t?"Post has been marked nsfw.":"Comment has been marked nsfw.":t?"There was an error marking the post nsfw. Please try again.":"There was an error marking the comment nsfw. Please try again.";case i.M.UnmarkNsfw:return r?t?"Post has been unmarked nsfw.":"Comment has been unmarked nsfw.":"There was an error unmarking the post nsfw. Please try again.";case i.M.IgnoreReports:return r?t?"Reports ignored and post approved.":"Reports ignored and comment approved.":t?"There was an error ignoring the post's reports. Please try again.":"There was an error ignoring the comment's reports. Please try again.";case i.M.UnignoreReports:return r?t?"Reports unignored.":"Reports successfully restored.":t?"There was an error unignoring the post's reports. Please try again.":"There was an error unignoring the comment's reports. Please try again.";case i.M.Distinguish:return r?t?"Post is marked as distinguished.":"Comment is marked as distinguished.":t?"There was an error distinguishing the post. Please try again.":"There was an error distinguishing the comment. Please try again.";case i.M.Undistinguish:return r?t?"Post is marked as undistinguished.":"Comment is marked as undistinguished.":t?"There was an error undistinguishing the post. Please try again.":"There was an error undistinguishing the comment. Please try again.";case i.M.Sticky:return r?t?"Post has been stickied.":"Comment has been stickied.":t?"There was an error stickying the post. Please try again.":"There was an error stickying the comment. Please try again.";case i.M.Unsticky:return r?t?"Post has been unstickied.":"Comment has been unstickied.":t?"There was an error unstickying the post. Please try again.":"There was an error unstickying the comment. Please try again.";case i.M.Lock:return r?t?"Post has been locked.":"Comment has been locked.":t?"There was an error locking the post. Please try again.":"There was an error locking the comment. Please try again.";case i.M.Unlock:return r?t?"Post has been unlocked.":"Comment has been unlocked.":t?"There was an error unlocking the post. Please try again.":"There was an error unlocking the comment. Please try again.";case i.M.ApproveContent:if(r)switch(n){case e.M.Award:return "Award approved.";case e.M.Comment:return "Comment approved.";case e.M.Post:return "Post approved.";default:return""}switch(n){case e.M.Award:return "There was an error approving the award. Please try again.";case e.M.Comment:return "There was an error approving the comment. Please try again.";case e.M.Post:return "There was an error approving the post. Please try again.";default:return""}case i.M.ConfirmRemoval:case i.M.RemoveContent:if(r)switch(n){case e.M.Award:return "Award removed.";case e.M.Comment:return "Comment removed.";case e.M.Post:return "Post removed.";default:return""}switch(n){case e.M.Award:return "There was an error removing the award. Please try again.";case e.M.Comment:return "There was an error removing the comment. Please try again.";case e.M.Post:return "There was an error removing the post. Please try again.";default:return""}case i.A.Distinguish:return r?t?"Post is marked as distinguished as admin.":"Comment is marked as distinguished as admin.":t?"There was an error distinguishing the post as admin. Please try again.":"There was an error distinguishing the comment as admin. Please try again.";case i.A.Undistinguish:return r?t?"Post is marked as undistinguished as admin.":"Comment is marked as undistinguished as admin.":t?"There was an error undistinguishing the post as admin. Please try again.":"There was an error undistinguishing the comment as admin. Please try again.";case i.M.RemoveHighlightedPost:return r?"Highlight removed":"There was an error removing the post from community highlights. Please try again.";default:return""}};return {ModActionsController:class{constructor(n,{getThingIdFn:m,focusChatTextareaFn:u}){this.publishEvent=(e,a)=>{t.p(this._getThingId(),e,a)},this.modActionMenuClickEvent=a=>{let r="",n="";switch(this.itemType){case e.M.Award:r="awardOnContentId",n="award";break;case e.M.Comment:r="commentId",n="comment";break;case e.M.Post:default:r="postId",n="post"}return e.b({source:"moderator",action:"click",noun:a},{[r]:this._getThingId(),[n]:{id:this._getThingId()},action_info:{reason:this.modPartialPath}})},this._getHandleReportToggle=a=>async()=>{const r=a===i.M.IgnoreReports,n=r?o.w:o.x,t=r?o.y:o.z;e.a(this._host,this.isPost?n():t());try{const e=[this._getThingId()],n=await(r?this.modBulkActions.modBulkIgnore(e):this.modBulkActions.modBulkUnignore(e));if(!n?.ok)throw new Error("Operation failed");return this.publishEvent(a,r),this.showSuccessToast(a),r}catch{return this.showErrorToast(a),!r}},this._getHandleDistinguishToggle=a=>async()=>{const r=a===i.M.Distinguish,n=r?"distinguish_as_mod":"undistinguish_as_mod";e.a(this._host,this.modActionMenuClickEvent(n));let t=!0;this.publishEvent(a,r);try{const n=await this.updateDistinguishState(r?e.go.ModDistinguished:e.go.None);if(!n?.ok)throw new Error("Operation failed");this.showSuccessToast(a)}catch{this.publishEvent(a,!r),this.showErrorToast(a),t=!1}return this._host.requestUpdate(),t?r:!r},this._getHandleStickyToggle=a=>async()=>{const r=a===i.M.Sticky,n=r?"sticky":"unsticky";e.a(this._host,this.modActionMenuClickEvent(n));let t=!0;this.publishEvent(a,r);try{const e=await this.updateStickyState(r);if(!e?.ok)throw new Error("Operation failed");this.showSuccessToast(a)}catch{this.publishEvent(a,!r),this.showErrorToast(a),t=!1}return this._host.requestUpdate(),t?r:!r},this._getHandleLockedToggle=a=>async()=>{const r=a===i.M.Lock,n=r?"lock":"unlock";e.a(this._host,this.modActionMenuClickEvent(n));let t=!0;this.publishEvent(a,r);try{let n;if(this.isPost){const e=[this._getThingId()];n=await(r?this.modBulkActions.modBulkLock(e):this.modBulkActions.modBulkUnlock(e))}else n=await this.updateLockedState(r?e.i3.Locked:e.i3.None);if(!n?.ok)throw new Error("Operation failed");this.showSuccessToast(a)}catch{this.publishEvent(a,!r),this.showErrorToast(a),t=!1}return this._host.requestUpdate(),t?r:!r},this._getHandleMarkNsfwToggle=a=>async()=>{let r=!0;const n=a===i.M.MarkNsfw;if(!this.isPost)return!n;const t=n?"mark_nsfw":"unmark_nsfw";e.a(this._host,this.modActionMenuClickEvent(t));const o=[this._getThingId()],s=await(n?this.modBulkActions.modBulkMarkNSFW(o):this.modBulkActions.modBulkUnmarkNSFW(o));return s?.ok?(this.showSuccessToast(a),this.publishEvent("isPostNsfw",n)):(this.showErrorToast(a),r=!1),this._host.requestUpdate(),r?n:!n},this._getHandleMarkSpoilerToggle=a=>async()=>{let r=!0;const n=a===i.M.MarkSpoiler;if(!this.isPost)return!n;const t=n?"mark_spoiler":"unmark_spoiler";e.a(this._host,this.modActionMenuClickEvent(t));const o=[this._getThingId()],s=await(n?this.modBulkActions.modBulkMarkSpoiler(o):this.modBulkActions.modBulkUnmarkSpoiler(o));return s?.ok?(this.showSuccessToast(a),this.publishEvent("isPostSpoiler",n)):(this.showErrorToast(a),r=!1),this._host.requestUpdate(),r?n:!n},this.handleApproveContentOptimistic=()=>{this.publishEvent(i.M.ApproveContentOptimistic,!0)},this._getHandleModApproval=a=>async()=>{this.handleApproveContentOptimistic(),e.a(this._host,this.modActionMenuClickEvent("approve"));try{const e=await this.modBulkActions.modBulkApprove([this._getThingId()]);return e?.ok?(this.publishEvent(a,!0),this._resetAddRemovalReasonForm(),!0):(this.showErrorToast(a),!1)}catch{return this.showErrorToast(a),!1}},this._getShareToModChat=e=>async e=>(await this._focusChatTextarea(),!0),this._getViewChatThread=e=>async e=>(await this._focusChatTextarea(!0),!0),this.handleRemoveContentOptimistic=()=>{this.publishEvent(i.M.RemoveContentOptimistic,!0)},this.handleRemoveContentAsSpamOptimistic=()=>{this.publishEvent(i.M.RemoveContentAsSpamOptimistic,!0)},this.handleConfirmRemovalOptimistic=()=>{this.publishEvent(i.M.ConfirmRemovalOptimistic,!0)},this._getHandleModRemoval=a=>async()=>{switch(a){case i.M.RemoveContent:this.handleRemoveContentOptimistic();break;case i.M.RemoveContentAsSpam:this.handleRemoveContentAsSpamOptimistic();break;case i.M.ConfirmRemoval:this.handleConfirmRemovalOptimistic()}const r=a===i.M.RemoveContentAsSpam;let n=a===i.M.ConfirmRemoval?"confirm_removal":"remove";a===i.M.RemoveContentAsSpam&&(n="spam"),e.a(this._host,this.modActionMenuClickEvent(n));try{const e=await this.modBulkActions.modBulkRemove([this._getThingId()],r);return e?.ok?(this.publishEvent(a,!0),this.dispatchRequestReload(),!0):(this.showErrorToast(a),!1)}catch{return this.showErrorToast(a),!1}},this._getHandleOpenEditPostFlairModal=()=>async()=>{const a=this._getThingId();if(a){e.a(this._host,this.modActionMenuClickEvent("flair")),await this._activateFeature({name:e.i4,queryParams:{isLoggedin:!0,selectedIds:a},renderMode:e.g.Contents});const r=document.getElementById(s.g(a));r?.showModal()}},this._getHandleAddToHighlights=()=>async()=>{const a=this._getThingId();a&&(await this._activateFeature({name:e.ea,routeParams:{postId:a},renderMode:e.g.Contents}))},this._getHandleRemoveFromHighlights=()=>async()=>{const a=this._getThingId();if(a){this.publishEvent(i.M.RemoveHighlightedPost,!1);try{await this.removeHighlightedPost(a),this.showSuccessToast(i.M.RemoveHighlightedPost),e.a(this._host,o.u(a,e.B())),e.p(e.T.ReloadHighlights)}catch(e){this.showErrorToast(i.M.RemoveHighlightedPost),this.publishEvent(i.M.RemoveHighlightedPost,!0)}}},this._resetAddRemovalReasonForm=()=>{this._host.dispatchEvent(new r.A(""))},this.handleIgnoreReports=this._getHandleReportToggle(i.M.IgnoreReports),this.handleUnignoreReports=this._getHandleReportToggle(i.M.UnignoreReports),this.handleDistinguish=this._getHandleDistinguishToggle(i.M.Distinguish),this.handleUndistinguish=this._getHandleDistinguishToggle(i.M.Undistinguish),this.handleSticky=this._getHandleStickyToggle(i.M.Sticky),this.handleUnsticky=this._getHandleStickyToggle(i.M.Unsticky),this.handleUpdateHighlightedPost=this._getHandleAddToHighlights(),this.handleRemoveHighlightedPost=this._getHandleRemoveFromHighlights(),this.handleLock=this._getHandleLockedToggle(i.M.Lock),this.handleUnlock=this._getHandleLockedToggle(i.M.Unlock),this.handleMarkNsfw=this._getHandleMarkNsfwToggle(i.M.MarkNsfw),this.handleUnmarkNsfw=this._getHandleMarkNsfwToggle(i.M.UnmarkNsfw),this.handleMarkSpoiler=this._getHandleMarkSpoilerToggle(i.M.MarkSpoiler),this.handleUnmarkSpoiler=this._getHandleMarkSpoilerToggle(i.M.UnmarkSpoiler),this.handleConfirmRemoval=this._getHandleModRemoval(i.M.ConfirmRemoval),this.handleRemoveContent=this._getHandleModRemoval(i.M.RemoveContent),this.handleRemoveContentAsSpam=this._getHandleModRemoval(i.M.RemoveContentAsSpam),this.handleApproveContent=this._getHandleModApproval(i.M.ApproveContent),this.handleShareToModChat=this._getShareToModChat(i.M.ShareToModChat),this.handleViewChatThread=this._getViewChatThread(i.M.ViewChatThread),this.handleOpenEditPostFlairModal=this._getHandleOpenEditPostFlairModal(),this.handleSnoozeReporter=()=>{},this.handleUnsnoozeReporter=()=>{},this.handleAddRemovalReason=()=>{this._host.dispatchEvent(new r.A(this._getThingId())),e.a(this._host,this.modActionMenuClickEvent("add_removal_reason"))},this.handleAdjustCrowdControl=()=>{this._host.dispatchEvent(e.c(a.O,{postId:this._getThingId()}))},this.handleRemoveContentMenu=()=>this._getHandleModRemoval(i.M.RemoveContent)(),this._activateFeature=async a=>e.f(a),this._getThingId=m,this._host=n,this._focusChatTextarea=u??i.f,this.modBulkActions=new l.M,this._host?.addController(this)}get isPost(){return this.itemType===e.M.Post}get itemType(){return t.i(this._getThingId())}get modPartialPath(){switch(this.itemType){case e.M.Award:case e.M.Comment:case e.M.Post:return this.itemType.toLowerCase();default:return""}}hostConnected(){Object.keys(i.M).forEach((e=>{this._host.addEventListener(i.M[e],this[`handle${e}`])}))}hostDisconnected(){Object.keys(i.M).forEach((e=>{this._host.removeEventListener(i.M[e],this[`handle${e}`])}))}dispatchFaceplateAlertEvent(a,r,n=""){const t=e.c("faceplate-alert",{level:a,message:r,sourceElement:`modqueue-${this.itemType?.toLowerCase()}`,cause:n});this._host.dispatchEvent(t)}showSuccessToast(a){this.itemType&&this.dispatchFaceplateAlertEvent(e.a5.success,m(a,!0,this.itemType),`success-${a}`)}showErrorToast(a){this.itemType&&this.dispatchFaceplateAlertEvent(e.a5.error,m(a,!1,this.itemType),`failed-${a}`)}dispatchRequestReload(){this.itemType===e.M.Comment&&this._host.dispatchEvent(new CustomEvent("reload-shreddit-comment",{bubbles:!0,composed:!0}))}async updateDistinguishState(a){if(this.isPost){const r={input:{postId:this._getThingId(),distinguishType:a,distinguishState:a===e.go.None?e.gr.None:e.gr.Distinguished}},{data:n}=await e.r({operation:e.O.UpdatePostDistinguishedState,variables:r});return n?.updatePostDistinguishState}{const r={input:{commentId:this._getThingId(),distinguishType:a,distinguishState:a===e.go.None?e.i5.None:e.i5.Distinguished}},{data:n}=await e.r({operation:e.O.UpdateCommentDistinguishedState,variables:r});return n?.updateCommentDistinguishState}}async updateStickyState(a){if(this.isPost){const r={input:{postId:this._getThingId(),sticky:a,toProfile:!1}},{data:n}=await e.r({operation:e.O.UpdatePostStickyState,variables:r});return n?.updatePostStickyState}{const r={input:{commentId:this._getThingId(),sticky:a}},{data:n}=await e.r({operation:e.O.UpdateCommentStickyState,variables:r});return n?.updateCommentStickyState}}async updateLockedState(a){if(this.isPost){const r={input:{postId:this._getThingId(),lockedState:a}},{data:n}=await e.r({operation:e.O.UpdatePostLockedState,variables:r});return n?.updatePostLockedState}{const r={input:{commentId:this._getThingId(),lockedState:a}},{data:n}=await e.r({operation:e.O.UpdateCommentLockedState,variables:r});return n?.updateCommentLockedState}}async removeHighlightedPost(e){return n.bL({postId:e})}}};}));
SML.dm("D-ZUgI2b",["DVMhF-xZ","DN8NCGGW","CU4mObWU"],(async(t,e,i)=>{const s="var(--bottom-sheet-max-height)";let o=class extends e.s{constructor(){super(...arguments),this.open=!1,this.blocking=!1,this.docked=!1,this.focusManager=new t.au(this,this),this.inFocusTrap=!1,this._isModal=!1,this._isExpanded=!1,this._isExpandable=!1,this._isDockable=!1,this._gesture=new i.T(this,{mouseSupport:!1}),this._cachedHeight="auto",this._dockedHeight="auto",this._cachedHeightAtTouchStartPx=0,this._rafID=null,this._mutationObserver=void 0,this.show=t=>{this._isModal=!1,this._isExpanded=(t&&"expanded"in t&&t.expanded)??!1,this._isExpandable=t?.expandable??!1,this._isDockable=t?.dockable??!1,this.open=!0,this._isExpandable&&(this._gesture.on("panstart",this._onTouchStart),this._gesture.on("panmove",this._onTouchMove),this._gesture.on("panend",this._onTouchEnd)),this._isExpanded?this._content.style.height=s:""!==this._content.style.height&&"auto"!==this._content.style.height||(this._cachedHeight=this._content.clientHeight+"px",this._content.style.height=this._cachedHeight),this._dockedHeight=this._headerElements[0]?this._headerElements[0].clientHeight-1+"px":"auto",this._mutationObserver||this._connectMutationObserver()},this.showModal=e=>{if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');t.gz.add(this),this.show(e),this._isModal=!0,t.gy.add(this)},this.close=()=>{const e=t.c("faceplate-close");this.dispatchEvent(e),e.defaultPrevented||(this.open=!1,this._isExpanded=!1,this.inFocusTrap&&(t.gy.remove(this),t.gz.remove(this)),this._isExpandable&&(this._gesture.off("panstart",this._onTouchStart),this._gesture.off("panmove",this._onTouchMove),this._gesture.off("panend",this._onTouchEnd)),this._content.style.height=this._cachedHeight)},this.expand=()=>{if(this.open&&this._isExpandable&&!this._isExpanded){const e=t.c("faceplate-expand");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=s,this.docked=!1,this._isExpanded=!0}},this.collapse=()=>{if(this.open&&this._isExpandable&&this._isExpanded){const e=t.c("faceplate-collapse");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=this._cachedHeight,this.docked=!1,this._isExpanded=!1}},this.dock=()=>{if(!this.open||!this._isDockable||this.docked)return;const e=t.c("faceplate-dock");this.dispatchEvent(e),e.defaultPrevented||(this._cancelRAF(),this._content.style.height=this._dockedHeight,this.docked=!0)},this.undock=()=>{if(!this.open||!this._isDockable||!this.docked)return;const e=this._isExpandable&&this._isExpanded?s:this._cachedHeight,i=t.c("faceplate-undock");this.dispatchEvent(i),i.defaultPrevented||(this._cancelRAF(),this._content.style.height=e,this.docked=!1)},this.recalculateCachedHeight=()=>{const e=this._cachedHeight;this._content.style.height="auto";const i=this._content.clientHeight+"px";this._cachedHeight=i,this._isDockable&&this.docked?this._content.style.height=this._dockedHeight:this._isExpandable&&this._isExpanded?this._content.style.height=s:(this._content.style.height=e,window.requestAnimationFrame((()=>{this._content.style.height=i,this._cancelRAF()})));const o=t.c("__TEST-ONLY_bottom-sheet-recalculation",{cachedHeight:this._cachedHeight,dockedHeight:this._dockedHeight,expandedHeight:s});this.dispatchEvent(o)},this._onTouchStart=()=>{this._cancelRAF(),this._content.style.transitionDuration="0ms",this._cachedHeightAtTouchStartPx=this._content.clientHeight},this._onTouchMove=()=>{this._cancelRAF(),this._isExpanded&&(this._gesture.touchMoveY??0)<=0||(this._rafID=window.requestAnimationFrame((()=>{null!=this._gesture.touchMoveY&&(this._content.style.height=this._cachedHeightAtTouchStartPx-this._gesture.touchMoveY+"px")})))},this._onTouchEnd=()=>{if(this._cancelRAF(),this._content.style.transitionDuration="300ms",!this.open||null==this._gesture.touchMoveY)return;const t=this._gesture.touchMoveY>=this._gesture.thresholdY,e=this._gesture.touchMoveY<=-this._gesture.thresholdY;t?this._isExpanded?this.collapse():this._closeIfNotBlocked():e?this._isExpanded||this.expand():this._isExpanded?this._content.style.height=s:this._content.style.height=this._cachedHeight},this._cancelRAF=()=>{this._rafID&&(window.cancelAnimationFrame(this._rafID),this._rafID=null)},this._renderHandle=()=>this._isExpandable?e.x`<div id="handle" class="${this._isModal?"out":"in"}"></div>`:null,this._handleBackDropKeyUp=t=>{"Enter"===t.key&&this._closeIfNotBlocked()},this._closeIfNotBlocked=()=>{this.blocking||this.close()},this.render=()=>e.x` <div id="backdrop" part="backdrop" class="${this._isModal&&this.open?"blocker":""}" @click="${this._closeIfNotBlocked}" @keyup="${this._handleBackDropKeyUp}"></div> <div id="content" part="content" role="${e.l(this.open?"dialog":void 0)}" aria-label="${e.l(this.label??void 0)}" aria-modal="${e.l(this.open&&this._isModal?"true":void 0)}"> ${this._renderHandle()} <slot name="header"></slot> <slot></slot> </div> `}static get styles(){return e.i`:host{--bottom-sheet-max-height:85vh}@supports (height:95dvh){:host{--bottom-sheet-max-height:95dvh}}:host{position:fixed;bottom:0;inset-inline-start:0;opacity:0;transition-duration:.3s;transition-property:visibility,opacity;transition-timing-function:ease;visibility:hidden;pointer-events:none}:host([open]){opacity:1;z-index:2;visibility:visible}:host([open])>#content{pointer-events:auto;transform:translateY(0)}:host>#backdrop{position:fixed;--backdrop-position-value:-100%;inset-inline:var(--backdrop-position-value) var(--backdrop-position-value);top:var(--backdrop-position-value);bottom:var(--backdrop-position-value)}:host>#backdrop.blocker{background:var(--color-scrim);pointer-events:auto}:host>#content{align-items:center;background:var(--color-ui-modalbackground);bottom:0;border-start-start-radius:var(--rem12);border-start-end-radius:var(--rem12);box-shadow:var(--boxshadow-modal);box-sizing:border-box;display:flex;flex-direction:column;inset-inline-start:0;position:fixed;touch-action:none;transform:translateY(100%);transition-duration:.3s;transition-property:height,transform;transition-timing-function:ease;width:100vw;max-height:var(--bottom-sheet-max-height)}:host>slot:not([name]){align-items:center;display:flex;flex-direction:column;gap:var(--spacer-sm)}#handle{position:absolute;top:0;inset-inline-start:50%;transform:translateX(-50%);height:var(--rem4);width:var(--rem48);border-radius:var(--rem4)}#handle.in{top:var(--spacer-xs);background-color:var(--color-neutral-border)}#handle.out{top:calc(-1 * var(--spacer-xs));background-color:var(--color-global-white)}`}disconnectedCallback(){super.disconnectedCallback(),this._gesture.destroy(),t.gy.remove(this),t.gz.remove(this),this._mutationObserver?.disconnect()}_connectMutationObserver(){this._mutationObserver=new MutationObserver((()=>{window.requestAnimationFrame(this.recalculateCachedHeight)})),this._mutationObserver.observe(this,{characterData:!0,childList:!0,attributes:!1,subtree:!0})}};e._([e.n({type:Boolean,reflect:!0})],o.prototype,"open",void 0),e._([e.n({type:Boolean})],o.prototype,"blocking",void 0),e._([e.n({type:Boolean,reflect:!0})],o.prototype,"docked",void 0),e._([e.n({type:String,attribute:"ariaLabel"})],o.prototype,"label",void 0),e._([e.w("#content")],o.prototype,"_content",void 0),e._([e.k({slot:"header"})],o.prototype,"_headerElements",void 0),o=e._([e.c("faceplate-bottom-sheet")],o)}));
SML.dm("BBx1IrLH",["DN8NCGGW"],(async e=>{let t=class extends e.s{constructor(){super(...arguments),this.hasDivider=!1,this.render=()=>e.x` <slot name="leading"></slot> <slot></slot> <slot name="trailing"></slot> `}static get styles(){return e.i`:host{align-items:center;box-sizing:border-box;display:flex;font-weight:700;height:var(--rem64);min-height:var(--rem64);padding:0 var(--spacer-md);position:relative;width:100%}:host([has-divider])::after{border-bottom:1px solid var(--color-neutral-border);bottom:0;content:'';position:absolute;inset-inline-end:var(--spacer-md);inset-inline-start:var(--spacer-md)}:host>slot:not([name]){display:flex;flex-grow:1;padding:0 var(--spacer-sm);font-size:1rem}`}};e._([e.n({type:Boolean,reflect:!0,attribute:"has-divider"})],t.prototype,"hasDivider",void 0),t=e._([e.c("faceplate-bottom-sheet-header")],t)}));
SML.dm("Dr7QH1e7",["DN8NCGGW"],(async e=>{let l=class extends e.s{constructor(){super(...arguments),this.handleScroll=()=>{this.dropdownMenu?.[0]?.close()}}connectedCallback(){super.connectedCallback(),document.querySelector('[slot="pdp-panel"]')?.addEventListener("scroll",this.handleScroll),document.querySelector('[slot="mod-queue-feed"]')?.addEventListener("scroll",this.handleScroll)}disconnectedCallback(){super.disconnectedCallback(),document.querySelector('[slot="pdp-panel"]')?.removeEventListener("scroll",this.handleScroll),document.querySelector('[slot="mod-queue-feed"]')?.removeEventListener("scroll",this.handleScroll)}render(){return e.x`<slot></slot>`}};e._([e.k({slot:"",selector:"faceplate-dropdown-menu"})],l.prototype,"dropdownMenu",void 0),l=e._([e.c("mod-dropdown-closer")],l)}));
SML.dm("C-fouDgF",["DN8NCGGW","DVMhF-xZ","y7f18YYf","DDco8exZ","BZ-chNG6","zrykt2nd","CMS2OfNt","m_62dcKy","QAQY90ii","CAtfi8BE","CWi6z3tG","C_M_NGfT","Bahzn9My","YWXw6gDz","ChYc5yrF","D-ZUgI2b","BBx1IrLH","Dr7QH1e7","ZbquE2XF","BrB3BiJ_","CnZCQZdH","21VIldix","BsQJl0hY"],(async(e,t,i,a,o,n,r,s,d,l,h,m,c)=>{const u="modQueue",p="modQueueChat",I="overflow",g="inline";let N=class extends e.s{constructor(){super(...arguments),this.location=g,this.viewContext=void 0,this.COACHMARK_LABELS={[u]:"NEW! Chat about items in the queue",[p]:"Jump back in",[I]:"NEW! Chat about content",[g]:"Jump back in"},this.COACHMARK_BODY={[u]:"Share content in the queue directly with your mod team",[p]:"Get back to chat threads from the queue",[I]:"Share content directly with your mod team",[g]:"Get back to chat threads from the content"},this.COACHMARK_POSITION={[u]:h.P.Top,[p]:h.P.Top,[I]:h.P.Left,[g]:h.P.Left},this.LOCAL_STORAGE_KEYS={[u]:t.L.ShareToModChatCoachMarkMQSeen,[p]:t.L.ShareToModChatCoachMarkMQChatSeen,[I]:t.L.ShareToModChatCoachMarkOverflowSeen,[g]:t.L.ShareToModChatCoachMarkInlineSeen},this._showShareToModChatBanner=!t.l.getItem(this.getLocalStorageKey()),this.closeCoachmark=()=>{this._showShareToModChatBanner=!1}}getLocalStorageKey(){return this.LOCAL_STORAGE_KEYS[this.location]}connectedCallback(){super.connectedCallback();const e=t.l.getItem(this.getLocalStorageKey());this.location===I&&this.viewContext&&[r.P.ModQueue,r.P.ModQueueAll].includes(this.viewContext)||e?this._showShareToModChatBanner=!1:(t.l.setItem(this.getLocalStorageKey(),"true"),this._showShareToModChatBanner=!0)}disconnectedCallback(){super.disconnectedCallback()}render(){return e.x`<rpl-coachmark placement="${this.COACHMARK_POSITION[this.location]}" appearance="${m.a.Inverted}" ?open="${this._showShareToModChatBanner}"> <slot></slot> <rpl-coachmark-card slot="content" aria-live="polite" appearance="${m.a.Inverted}" class="w-[220px]"> <div slot="title" class="pt-xs pb-2xs"> <div>${this.COACHMARK_LABELS[this.location]}</div> </div> ${t.n({attributes:{className:"close-btn",slot:"close-button",onclick:e=>{e.stopPropagation(),this.closeCoachmark()}},appearance:"plainInverted",size:t.$.Small,leadingIcon:e.m({size:e.I.Small})})} <div class="text-12 w-[170px] mb-sm">${this.COACHMARK_BODY[this.location]}</div> </rpl-coachmark-card> </rpl-coachmark>`}};N.styles=[t.t],e._([e.n({type:String,attribute:"location"})],N.prototype,"location",void 0),e._([e.n({type:String,attribute:"view-context"})],N.prototype,"viewContext",void 0),e._([e.b()],N.prototype,"_showShareToModChatBanner",void 0),N=e._([e.c("share-to-mod-chat-coachmark")],N);const k=e.s;class R extends k{constructor(){super(...arguments),this.size=i.L.Medium,this.appearance="content-action",this.viewContext=r.P.CommentsPage,this.feedViewType=t.a4.ModQueueCompactView,this.itemState=s.M.UNMODERATED,this.verdict=void 0,this.isCurrentUserAuthor=!1,this.isDeleted=!1,this.isRemoved=!1,this.isModModeEnabled=!1,this.isAdmin=!1,this.isLocked=!1,this.isStickied=!1,this.isHighlighted=!1,this.isReportingIgnored=!1,this.areHighlightsEnabled=!1,this.hasReports=!1,this.hasRemovalReason=!1,this.isProfilePost=!1,this.isPromotedPost=!1,this.isSpamFilteredPost=!1,this.isDesktop=!1,this.permalink="",this.isContentLevelModsCommsEnabled=!1,this.modContentDiscussionContext=void 0,this.isFeedNoApproveEnabled=!1,this.focusChatTextareaFn=c.f,this.pubsub=new t.P(this),this.modActionsController=new d.ModActionsController(this,{getThingIdFn:()=>this.thingId||""}),this.getListItemClickHandler=e=>()=>(this.dropdownMenu?.close(),e())}get isPost(){return r.m(this.thingId||"")}get shouldAlwaysShowAction(){return!this.isModModeEnabled&&!this.isOnModqueuePage}shouldAlwaysShowApproveAction(){return this.shouldAlwaysShowAction||this.isModVerdictVisible&&this.itemState!==s.M.APPROVED&&this.shouldShowActionInMenu}shouldAlwaysShowRemoveAction(){return this.shouldAlwaysShowAction||this.isModVerdictVisible&&this.itemState!==s.M.REMOVED&&this.shouldShowActionInMenu}get isOnModqueuePage(){return this.viewContext===r.P.ModQueue||this.viewContext===r.P.ModQueueAll}get isApproved(){return this.itemState===s.M.APPROVED}get shouldShowConfirmRemoval(){return s.s(this.itemState,this.isSpamFilteredPost)}get shouldShowActionInMenu(){return!s.a(this.viewContext,this.feedViewType)||"hover-menu"===this.appearance}get isDistinguishable(){return this.isCurrentUserAuthor&&!this.isDeleted}get isStickyable(){return!(this.viewContext===r.P.ProfileFeed||this.viewContext===r.P.ProfileFeed2||this.isDeleted)}get isModVerdictVisible(){return s.h(this.verdict??null)&&!this.hasReports&&this.itemState!==s.M.FILTERED}renderApproveAction(){return this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.itemState===s.M.UNMODERATED||this.shouldAlwaysShowApproveAction()&&s.b(this.itemState)?i.l({leadingIcon:e.Q(),label:"Approve",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleApproveContent)}):null;}renderRemoveAction(){return this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.itemState===s.M.UNMODERATED||this.shouldAlwaysShowRemoveAction()&&s.c(this.itemState)?i.l({leadingIcon:e.m(),label:"Remove",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveContent)}):null;}renderConfirmRemovalAction(){return this.shouldAlwaysShowRemoveAction()&&this.shouldShowConfirmRemoval?i.l({leadingIcon:e.by(),label:"Confirm Removal",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleConfirmRemoval)}):null;}renderSpamAction(){return s.d({moderationState:this.itemState,isSpamFilteredPost:this.isSpamFilteredPost,isRemoved:this.isRemoved,isPromotedPost:this.isPromotedPost})&&this.shouldShowActionInMenu?i.l({leadingIcon:e.bG(),label:"Mark as Spam",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveContentAsSpam)}):null;}renderShareToModChatAction(t){if(!s.e({isPromotedPost:this.isPromotedPost})||!this.shouldShowActionInMenu||!t?.modChatChannel||t?.modContentDiscussion)return null;const a=t?.modContentDiscussion?`${l.g(t.modContentDiscussion.chatChannel?.roomId,t.modContentDiscussion.chatMessage?.id)}/thread`:l.a(t?.modChatChannel?.roomId);return e.x` <faceplate-tracker source="moderator" action="click" noun="${t?.eventContext?.noun}" data-faceplate-tracking-context="${JSON.stringify({subreddit:{id:t?.eventContext?.subredditId,name:t?.eventContext?.subredditName},action_info:{setting_value:t?.eventContext?.roomId},post:{id:t?.eventContext?.postId},...(t?.eventContext?.commentId && {comment:{id:t?.eventContext?.commentId}})})}"> <reddit-chat-anchor> <a href="${a}?draft=${encodeURIComponent("https://www.reddit.com"+this.permalink)}" class="no-underline"> ${i.l({leadingIcon:e.aD(),trailingSlot:e.x` <rpl-badge appearance="${n.R.Alert}">NEW</rpl-badge>`,label:"Share to mod chat",size:this.size,onClick:async()=>{t.modContentDiscussion||(await this.focusChatTextareaFn())}})} </a> </reddit-chat-anchor> </faceplate-tracker>`;}renderIgnoreReportsAction(){return this.isReportingIgnored||!this.hasReports?null:i.l({leadingIcon:e.bH(),label:"Ignore reports and approve",size:this.size,onClick:this.getListItemClickHandler((()=>{this.modActionsController.handleIgnoreReports(),this.modActionsController.handleApproveContent()}))});}renderUnignoreReportsAction(){return this.isReportingIgnored?i.l({leadingIcon:e.bI(),label:"Unignore reports",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnignoreReports)}):null;}renderAddRemovalReasonAction(){return s.f(this.itemState,this.hasRemovalReason,this.isSpamFilteredPost,this.isProfilePost)&&this.shouldShowActionInMenu?i.l({leadingIcon:e.D(),label:"Add Removal Reason",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAddRemovalReason)}):null;}renderDistinguishAction(){return this.isDistinguishable&&this.distinguishedAs!==t.bc.Moderator?i.l({leadingIcon:e.bJ(),label:"Show mod label",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleDistinguish)}):null;}renderUndistinguishAction(){return this.isDistinguishable&&this.distinguishedAs===t.bc.Moderator?i.l({leadingIcon:e.bK(),label:"Hide mod label",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUndistinguish)}):null;}renderStickyAction(t){return!this.isStickyable||this.isStickied||!this.shouldShowActionInMenu||this.areHighlightsEnabled||this.isPromotedPost?null:i.l({leadingIcon:e.bL(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleSticky)})}renderUnstickyAction(t){return this.isStickyable&&this.isStickied&&this.shouldShowActionInMenu&&!this.areHighlightsEnabled&&!this.isPromotedPost?i.l({leadingIcon:e.aT(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnsticky)}):null}renderAddToHighlightsAction(){return this.isStickyable&&this.shouldShowActionInMenu&&this.areHighlightsEnabled&&o.H.has(this.viewContext)&&!this.isHighlighted?i.l({leadingIcon:e.bL(),label:"Add to highlights",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUpdateHighlightedPost)}):null;}renderRemoveFromHighlightsAction(){return this.isStickyable&&this.shouldShowActionInMenu&&this.areHighlightsEnabled&&o.H.has(this.viewContext)&&this.isHighlighted?i.l({leadingIcon:e.aT(),label:"Remove from highlights",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleRemoveHighlightedPost)}):null;}renderLockAction(t){return this.isLocked||!this.shouldShowActionInMenu?null:i.l({leadingIcon:e.bD(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleLock)})}renderUnlockAction(t){return this.isLocked&&this.shouldShowActionInMenu?i.l({leadingIcon:e.aS(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnlock)}):null}renderEditPostFlairAction(t){return!this.shouldShowActionInMenu||this.isPromotedPost||this.isDeleted?null:i.l({leadingIcon:e.b2(),label:t,size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleOpenEditPostFlairModal)})}renderCopyLinkAction(){return"hover-menu"!==this.appearance?null:this.isPost?e.x`<shreddit-post-share-button use-menu ?is-desktop-viewport="${this.isDesktop}" permalink="${this.permalink}"></shreddit-post-share-button>`:e.x`<shreddit-comment-share-button use-menu ?is-desktop-viewport="${this.isDesktop}" permalink="${this.permalink}"></shreddit-comment-share-button>`}closeModal(){this.bottomSheetMenu?.close()}openModal(){this.bottomSheetMenu?.showModal()}renderMenuTrigger(){const i={leadingIcon:e.bv({size:e.I.Small}),screenReaderContent:"Moderation actions menu",appearance:"secondary",attributes:{type:"button",onclick:()=>{this.openModal()},slot:"trigger"},size:t.$.Small};return e.x` <faceplate-tracker source="moderator" action="click" noun="mod_shield_menu"> ${"hover-menu"===this.appearance?t.n({...i,appearance:"secondary"}):a.c({...i,appearance:"plain"})} </faceplate-tracker> `}renderMobileActionsMenu(i){return e.x` ${this.renderMenuTrigger()} <faceplate-bottom-sheet> <faceplate-bottom-sheet-header slot="header" has-divider> <span slot="trailing" @click="${this.closeModal}"> ${t.n({attributes:{"aria-label":"Close"},appearance:"secondary",leadingIcon:e.m({size:e.I.Small}),size:t.$.Small})}</span> <span>${"Mod actions"}</span> </faceplate-bottom-sheet-header> <faceplate-menu class="w-full nd:hidden" @click="${this.closeModal}"> ${i} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-bottom-sheet> `;}renderActionsMenu(t){return this.isContentLevelModsCommsEnabled&&!this.modContentDiscussionContext?.modContentDiscussion?e.x` <mod-dropdown-closer> <share-to-mod-chat-coachmark location="${I}" view-context="${this.viewContext}"> <faceplate-dropdown-menu position="bottom-end"> ${this.renderMenuTrigger()} <faceplate-menu slot="menu" class="max-w-xs nd:hidden max-h-[432px] overflow-y-auto overflow-x-hidden styled-scrollbars"> ${t} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-dropdown-menu> </share-to-mod-chat-coachmark> </mod-dropdown-closer>`:e.x` <mod-dropdown-closer> <faceplate-dropdown-menu position="bottom-end"> ${this.renderMenuTrigger()} <faceplate-menu slot="menu" class="max-w-xs max-h-[432px] overflow-y-auto overflow-x-hidden styled-scrollbars"> ${t} <slot name="devvit-context-actions"></slot> </faceplate-menu> </faceplate-dropdown-menu> </mod-dropdown-closer>`}render(){if(this.viewContext===r.P.AggregateFeed)return e.A;const t=this.renderActions();return 0===t.length||t.every((e=>null===e))?e.x``:this.isDesktop?this.renderActionsMenu(t):this.renderMobileActionsMenu(t)}}return R.styles=[t.t],e._([e.n({type:String,attribute:"thing-id"})],R.prototype,"thingId",void 0),e._([e.n({type:String,attribute:"user-id"})],R.prototype,"userId",void 0),e._([e.n({type:String})],R.prototype,"size",void 0),e._([e.n({type:String})],R.prototype,"appearance",void 0),e._([e.n({type:String,attribute:"view-context"})],R.prototype,"viewContext",void 0),e._([e.n({type:String,attribute:"feed-view-type"})],R.prototype,"feedViewType",void 0),e._([e.n({type:String,attribute:"item-state",reflect:!0})],R.prototype,"itemState",void 0),e._([e.n({type:String,attribute:"distinguished-as"})],R.prototype,"distinguishedAs",void 0),e._([e.n({type:String,attribute:"verdict"})],R.prototype,"verdict",void 0),e._([e.n({type:String,attribute:"verdict-by"})],R.prototype,"verdictBy",void 0),e._([e.n({type:Boolean,attribute:"current-user-author"})],R.prototype,"isCurrentUserAuthor",void 0),e._([e.n({type:Boolean,attribute:"deleted"})],R.prototype,"isDeleted",void 0),e._([e.n({type:Boolean,attribute:"removed"})],R.prototype,"isRemoved",void 0),e._([e.n({type:Boolean,attribute:"mod-mode"})],R.prototype,"isModModeEnabled",void 0),e._([e.n({type:Boolean,attribute:"is-admin"})],R.prototype,"isAdmin",void 0),e._([e.n({type:Boolean,attribute:"locked"})],R.prototype,"isLocked",void 0),e._([e.n({type:Boolean,attribute:"stickied"})],R.prototype,"isStickied",void 0),e._([e.n({type:Boolean,attribute:"highlighted"})],R.prototype,"isHighlighted",void 0),e._([e.n({type:Boolean,attribute:"reporting-ignored"})],R.prototype,"isReportingIgnored",void 0),e._([e.n({type:Boolean,attribute:"highlights-enabled"})],R.prototype,"areHighlightsEnabled",void 0),e._([e.n({type:Boolean,attribute:"has-reports"})],R.prototype,"hasReports",void 0),e._([e.n({type:Boolean,attribute:"has-removal-reason"})],R.prototype,"hasRemovalReason",void 0),e._([e.n({type:Boolean,attribute:"is-profile-post"})],R.prototype,"isProfilePost",void 0),e._([e.n({type:Boolean,attribute:"is-promoted-post"})],R.prototype,"isPromotedPost",void 0),e._([e.n({type:Boolean,attribute:"is-spam-filtered-post"})],R.prototype,"isSpamFilteredPost",void 0),e._([e.n({type:Boolean,attribute:"is-desktop"})],R.prototype,"isDesktop",void 0),e._([e.n({type:String,attribute:"permalink"})],R.prototype,"permalink",void 0),e._([e.n({type:Boolean,attribute:"is-content-level-mods-comms-enabled"})],R.prototype,"isContentLevelModsCommsEnabled",void 0),e._([e.n({type:Object,attribute:"mod-content-discussion-context"})],R.prototype,"modContentDiscussionContext",void 0),e._([e.n({type:Boolean,attribute:"is-feed-no-approve-enabled"})],R.prototype,"isFeedNoApproveEnabled",void 0),e._([e.n({attribute:!1})],R.prototype,"focusChatTextareaFn",void 0),e._([e.w("faceplate-dropdown-menu")],R.prototype,"dropdownMenu",void 0),e._([e.w("faceplate-bottom-sheet")],R.prototype,"bottomSheetMenu",void 0),{M:R}}));
SML.dm("DkvSmkm1",["DVMhF-xZ"],(async t=>{const e=/(\.|\/\/)(reddit\.com|snoo\.dev|redditstatic\.com|redd\.it|redditmedia\.com)$/;class i extends t.bb{constructor(e,i){super(e),this.events=new t.E(this,(()=>this._host)),this.handleMouseClick=(t,e)=>{if(t.isLinkClickHandled)return;const i=t.composedPath();for(const n of i){if(!(n instanceof HTMLAnchorElement))continue;const i=n.getAttribute("href")||"";if(this.isOutboundUrl(i))return this.trackOutboundLinkClick(i,e),void(t.isLinkClickHandled=!0)}},this.events.define("click",(t=>{this.handleMouseClick(t,i())}))}isOutboundUrl(t){if(t.startsWith("/"))return!1;try{return null==new URL(t).origin.match(e)}catch(t){return!1}}trackOutboundLinkClick(t,e){this._host.trackEvent(this.outboundLinkClickEvent(t,e))}outboundLinkClickEvent(e,i){return t.b({source:"link",action:"click",noun:"outbound_link"},{outbound:{url:e},action_info:{page_type:i.pageType},...i.postId?{post:{id:i.postId}}:{},...i.subredditId?{subreddit:{id:i.subredditId}}:{},...i.commentId?{comment:{id:i.commentId}}:{}})}}var n,r;!function(t){t.FocusSearchBar="focusSearchBar",t.RegisterAuth="registerAuth",t.UpvoteAuth="upvoteAuth"}(n||(n={})),function(t){t.Sort="sort",t.Filter="filter",t.EntityFilterId="entityFilterId",t.InlineRefresh="inline-refresh",t.SctTopLevelComment="sct-top-level-comment",t.ForceLegacySCT="force-legacy-sct"}(r||(r={}));return{get M(){return n},O:i,get P(){return r},R:"remove-flair",S:"#subreddit-right-rail-tabs",a:"right-rail-entity-panel-root",b:"pdp-chained-right-rail-related-posts",g:function(t){return`update-post-flair-modal-${t}`}}}));
SML.dm("dbEOUwpN",["DN8NCGGW","DVMhF-xZ","y7f18YYf","YWXw6gDz","ChYc5yrF","BHUYYzrx","CElIDZoh"],(async(t,a,e)=>{const i=t.s;let n=class extends i{constructor(){super(...arguments),this.hasRemovalReasonAdded=!1,this._feedbackSubmitted=!1,this._trackingContext={}}get reportKey(){return`post-guidance-feedback-${this.reportId}`}getShredditPostData(){const t=this.getRootNode();if(t instanceof ShadowRoot){const a=t.host;if(a&&"SHREDDIT-POST"===a.tagName)return{id:a.id,postTitle:a.getAttribute("post-title"),contentHref:a.getAttribute("content-href"),authorId:a.getAttribute("author-id")}}return null}connectedCallback(){super.connectedCallback(),this._feedbackSubmitted="true"===sessionStorage.getItem(this.reportKey);const t=this.getShredditPostData();t&&(this._trackingContext={action_info:{post_id:t.id,post_title:t.postTitle,post_url:t.contentHref,author_id:t.authorId}})}handleFeedbackSubmit(t){if(t.target&&t.target instanceof HTMLElement){const e=t.target.closest("button"),i="yes"===e?.value,n=a.b({source:"moderator",action:"click",noun:i?"filter_is_correct":"filter_is_incorrect",...this._trackingContext});a.a(this,n),this._feedbackSubmitted=!0,sessionStorage.setItem(this.reportKey,"true")}}handleFeedbackUndo(){this._feedbackSubmitted=!1;const t=a.b({source:"moderator",action:"click",noun:"undo_filter",...this._trackingContext});a.a(this,t),sessionStorage.removeItem(this.reportKey)}renderFeedbackForm(){return t.x`<div class="border border-solid border-neutral-border p-sm flex flex-col gap-xs rounded-2 flex-1"> <div class="text-14 w-full"> ${"Was this automation accurate?"} </div> <div class="flex gap-2xs"> ${a.n({children:"Yes",appearance:"bordered",attributes:{type:"button",onclick:this.handleFeedbackSubmit,value:"yes"}})} ${a.n({children:"No",appearance:"bordered",attributes:{type:"button",onclick:this.handleFeedbackSubmit,value:"no"}})} </div> </div>`;}renderFeedbackSubmitted(){return t.x` <div class="border border-solid border-neutral-border p-sm flex flex-row gap-xs rounded-2 flex-1 items-center"> <div class="text-14 w-full"> ${"Got it. You helped train your automation."} </div> <faceplate-dropdown-menu id="post-guidance-feedback-dropdown-menu"> ${a.n({appearance:"plain",attributes:{type:"button"},leadingIcon:t.aI({size:t.I.ExtraSmall}),screenReaderContent:"More options"})} <faceplate-menu slot="menu" dropdown> ${e.l({label:"Undo",attributes:{role:"option",onclick:this.handleFeedbackUndo}})} </faceplate-menu> </faceplate-dropdown-menu> </div>`;}renderRemovalReasonAdded(){return t.x`<div class="border border-solid border-neutral-border p-sm flex flex-row gap-xs rounded-2 flex-1 items-center"> <div class="text-14 w-full"> ${"Your removal reason helped train your automation."} </div> </div>`;}render(){return this.hasRemovalReasonAdded?this.renderRemovalReasonAdded():this._feedbackSubmitted?this.renderFeedbackSubmitted():this.renderFeedbackForm()}};n.styles=[a.t],t._([t.n({type:String,attribute:"report-id"})],n.prototype,"reportId",void 0),t._([t.n({type:Boolean,attribute:"has-removal-reason-added"})],n.prototype,"hasRemovalReasonAdded",void 0),t._([t.b()],n.prototype,"_feedbackSubmitted",void 0),n=t._([t.c("post-guidance-feedback")],n)}));
SML.dm("DS9wxcla",["DVMhF-xZ","DN8NCGGW","DDco8exZ","CElIDZoh","Bahzn9My","DwsEu536","qCJremDI","BZ-chNG6","DX9Mw4w_","CpoKGso5","CMS2OfNt","CdTGYlNw","m_62dcKy","CAtfi8BE","C-fouDgF","y7f18YYf","DczBT2kf","DGY0b97R","YWXw6gDz","ChYc5yrF","DQaRMILU","CGYl-sUB","ZbquE2XF","BrB3BiJ_","BHUYYzrx","DD7scjFQ","yHFcPWkl","CGzEIBwW","CnZCQZdH","C_M_NGfT","CWi6z3tG","zIj5u43D","BsQJl0hY","21VIldix","zrykt2nd","QAQY90ii","Ch8njlGJ","BIdLZLCw","CYBj3-X8","DiQwYZkp","B-K8bCNo","3bEj5-ZB","L-pRUMpq","Chf2nmby","D-XYEw65","CEf0pl28","DEZJErJv","2tacFyfC","DdIwQUSk","DkvSmkm1","dbEOUwpN","D-ZUgI2b","CU4mObWU","BBx1IrLH","Dr7QH1e7"],(async(e,t,i,a,o,n,s,r,l,d,m,h,c,u,p,R)=>{let T=class extends t.s{constructor(){super(...arguments),this.buttonAppearance="secondary",this.buttonSize=e.$.Small,this.showFullButtons=!1,this.screeenReaderContent="",this.thingId="",this.smartEscalationsTracking=!1,this.isLargerThanSmallWindow=!0,this._handleModActionClick=t=>{this.dataModAction===o.M.AddRemovalReason&&t.stopPropagation(),this.dataModAction&&(this.dispatchEvent(e.c(this.dataModAction)),t.target&&this.noun&&e.a(t.target,e.b({source:"moderator",action:"click",noun:this.noun})))},this.mediaWatcher=null,this.handleMediaChange=e=>{this.isLargerThanSmallWindow=e.matches},this.renderWithTooltip=()=>t.x`<faceplate-tooltip appearance="inverted" position="top"> ${this.renderButton()} <slot name="text"></slot> </faceplate-tooltip>`,this.renderButton=()=>{const o=a.ac()?i.c:e.n,s=this.smartEscalationsTracking?t.x`<ac-track trigger="click" target="prev" san="moderator|click|remove" data-faceplate-tracking-context="${JSON.stringify({action_info:{source_name:"smart-escalations"},...(this.thingId&&n.i(this.thingId) && {post:{id:this.thingId}}),...(this.thingId&&n.a(this.thingId) && {comment:{id:this.thingId}})})}"></ac-track>`:"";return t.x`${o({appearance:this.buttonAppearance,attributes:{onclick:this._handleModActionClick,className:"relative",slot:"trigger","aria-label":this.screeenReaderContent},size:this.buttonSize,children:this.showFullButtons&&this.isLargerThanSmallWindow?t.x` <span> ${s} <slot name="text"></slot> </span> `:"",leadingIcon:this.showFullButtons&&this.isLargerThanSmallWindow?"":t.x` <span class="flex justify-center items-center"> <slot name="icon"></slot> </span> `})} ${s}`}}connectedCallback(){super.connectedCallback(),this.showFullButtons&&(this.mediaWatcher=window.matchMedia("(min-width: 768px)"),this.mediaWatcher.addEventListener("change",this.handleMediaChange))}disconnectedCallback(){super.disconnectedCallback(),this.mediaWatcher?.removeEventListener("change",this.handleMediaChange)}render(){return this.showFullButtons?this.renderButton():this.renderWithTooltip()}};T.styles=[e.t],t._([t.n({type:String,attribute:"data-mod-action"})],T.prototype,"dataModAction",void 0),t._([t.n({type:String,attribute:"event-noun"})],T.prototype,"noun",void 0),t._([t.n({type:String,attribute:"button-appearance"})],T.prototype,"buttonAppearance",void 0),t._([t.n({type:String,attribute:"button-size"})],T.prototype,"buttonSize",void 0),t._([t.n({type:Boolean,attribute:"show-full-buttons"})],T.prototype,"showFullButtons",void 0),t._([t.n({type:String,attribute:"screen-reader-content"})],T.prototype,"screeenReaderContent",void 0),t._([t.n({type:String,attribute:"thing-id"})],T.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"smart-escalations-tracking"})],T.prototype,"smartEscalationsTracking",void 0),t._([t.b()],T.prototype,"isLargerThanSmallWindow",void 0),T=t._([t.c("mod-action-button")],T);let I=class extends t.s{constructor(){super(...arguments),this.feedViewType=e.a4.ModQueueCompactView,this.viewContext=m.P.CommentsPage,this.itemState=c.M.UNMODERATED,this.hasReports=!1,this.isModMode=!1,this.isRemoved=!1,this.isDeleted=!1,this.isLocked=!1,this.isStickied=!1,this.isHighlighted=!1,this.isCurrentUserAuthor=!1,this.hasParent=!1,this.isIconOnly=!1,this.hasRemovalReason=!1,this.permalink="",this.isDesktopViewport=!1,this.isSpamFilteredPost=!1,this.isProfilePost=!1,this.isPromotedPost=!1,this.hasFlairPermissions=!1,this.areHighlightsEnabled=!1,this.hideInlineActions=!1,this.isSmartEscalations=!1,this.isContentLevelModsCommsEnabled=!1,this.modContentDiscussionContext=void 0,this.isFeedNoApproveEnabled=!1,this.focusChatTextareaFn=o.f,this.moderationState=c.M.UNMODERATED,this.pubsub=new e.P(this),this._handleThingUpdate=e=>{let t="";if("awardOnContentId"in e?t=e.awardOnContentId:"commentId"in e?t=e.commentId:"postId"in e&&(t=e.postId),t!==this.thingId)return;const{value:i}=e;switch(e.action){case h.a.approve:case d.C.approve:case l.A.approve:case d.C.approveOptimistic:this.hasRemovalReason=!1,this.isRemoved=!1,this.moderationState=c.M.APPROVED;break;case h.a.remove:case h.a.removeAsSpam:case h.a.confirmRemoval:case d.C.remove:case d.C.removeAsSpam:case d.C.confirmRemoval:case l.A.remove:case l.A.confirmRemoval:case d.C.removeOptimistic:case d.C.removeAsSpamOptimistic:case d.C.confirmRemovalOptimistic:this.isRemoved=!0,this.moderationState=c.M.REMOVED;break;case h.a.addRemovalReason:case d.C.addRemovalReason:this.hasRemovalReason=!0;break;case h.a.updateHighlightedPost:this.isHighlighted=i;break;case h.a.lock:case d.C.lock:this.isLocked=i;break;case h.a.delete:this.isDeleted=i;break;case h.a.sticky:case d.C.sticky:this.isStickied=i}}}get itemType(){return this.thingId?s.i(this.thingId):null}get isPost(){return this.itemType===e.M.Post}get isCompactView(){return this.feedViewType===e.a4.CompactView}get isOnModqueuePage(){return this.viewContext===m.P.ModQueue||this.viewContext===m.P.ModQueueAll}get isApproved(){return this.moderationState===c.M.APPROVED}get shouldShowConfirmRemoval(){return c.s(this.moderationState,this.isSpamFilteredPost)}get shouldShowActionInline(){return c.a(this.viewContext,this.feedViewType)&&!this.isIconOnly&&!this.hideInlineActions}get isStickyable(){const e=!(this.viewContext===m.P.ProfileFeed||this.viewContext===m.P.ProfileFeed2),t=this.isCurrentUserAuthor&&!this.hasParent;return this.isPost?e:e&&t}get itemTopic(){switch(this.itemType){case e.M.Award:return e.T.AwardOnContentUpdated;case e.M.Comment:return e.T.CommentUpdated;case e.M.Post:return e.T.PostUpdated;default:return null}}connectedCallback(){super.connectedCallback(),this.moderationState=this.itemState,this.itemTopic&&this.pubsub.subscribe(this.itemTopic,this._handleThingUpdate)}getApproveButtonAppearance(){const e=a.ac()?"bordered":"secondary";return this.isCompactView?e:this.shouldShowConfirmRemoval||this.hasReports?"primary":(this.moderationState,c.M.REMOVED,e)}renderApproveAction(){return (this.isModMode||this.isOnModqueuePage)&&c.b(this.moderationState)?this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.moderationState===c.M.UNMODERATED?null:t.x` <mod-action-button screen-reader-content="${"Approve content"}" data-mod-action="${o.M.ApproveContent}" button-appearance="${this.getApproveButtonAppearance()}" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${t.Q({attributes:{"aria-hidden":"true"},size:t.I.Small})}</span> <span slot="text">${"Approve"}</span> </mod-action-button> `:null;}renderRemoveAction(){return (this.isModMode||this.isOnModqueuePage)&&c.c(this.moderationState)?this.isFeedNoApproveEnabled&&!this.isOnModqueuePage&&this.moderationState===c.M.UNMODERATED?null:t.x` <mod-action-button screen-reader-content="${"Remove content"}" data-mod-action="${o.M.RemoveContent}" button-appearance="${a.ac()?"bordered":"secondary"}" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${t.m({attributes:{"aria-hidden":"true"},size:t.I.Small})}</span> <span slot="text"> ${"Remove"} </span> </mod-action-button> `:null;}renderConfirmRemovalAction(){return (this.isModMode||this.isOnModqueuePage)&&this.shouldShowConfirmRemoval?t.x` <mod-action-button screen-reader-content="${"Confirm Removal"}" data-mod-action="${o.M.ConfirmRemoval}" button-appearance="${a.ac()?"bordered":"secondary"}" ?show-full-buttons="${!this.isIconOnly}" thing-id="${t.l(this.thingId)}" ?smart-escalations-tracking="${this.isSmartEscalations}"> <span slot="icon" class="flex justify-center">${t.m({attributes:{"aria-hidden":"true"},size:t.I.Small})}</span> <span slot="text"> ${"Confirm Removal"} </span> </mod-action-button> `:null;}renderSpamAction(){return c.d({moderationState:this.moderationState,isSpamFilteredPost:this.isSpamFilteredPost,isRemoved:this.isRemoved,isPromotedPost:this.isPromotedPost})&&this.shouldShowActionInline?t.x` <mod-action-button screen-reader-content="${"Remove content as spam"}" data-mod-action="${o.M.RemoveContentAsSpam}" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${t.bG({attributes:{"aria-hidden":"true"},size:t.I.Small})}</span> <span slot="text"> ${"Spam"} </span> </mod-action-button> `:null;}renderShareToModChatAction(){if(!c.e({isPromotedPost:this.isPromotedPost})||!this.isContentLevelModsCommsEnabled||!this.modContentDiscussionContext?.modChatChannel||!this.isOnModqueuePage||this.isOnModqueuePage&&!this.shouldShowActionInline&&!this.modContentDiscussionContext.modContentDiscussion)return null;let e=this.modContentDiscussionContext?.modContentDiscussion?`${u.g(this.modContentDiscussionContext.modContentDiscussion.chatChannel?.roomId,this.modContentDiscussionContext.modContentDiscussion.chatMessage?.id)}/thread`:u.a(this.modContentDiscussionContext?.modChatChannel?.roomId);this.modContentDiscussionContext?.modContentDiscussion||(e+=`?draft=${encodeURIComponent("https://www.reddit.com"+this.permalink)}`);const i=this.modContentDiscussionContext?.modContentDiscussion?o.M.ViewChatThread:o.M.ShareToModChat,a=this.modContentDiscussionContext?.modContentDiscussion?"Open chat thread":"Share to mod chat",n=this.modContentDiscussionContext?.modContentDiscussion?"Open chat thread":"Share to mod chat";return t.x` <faceplate-tracker source="moderator" action="click" noun="${this.modContentDiscussionContext?.eventContext?.noun}" data-faceplate-tracking-context="${JSON.stringify({subreddit:{id:this.modContentDiscussionContext?.eventContext?.subredditId,name:this.modContentDiscussionContext?.eventContext?.subredditName},post:{id:this.modContentDiscussionContext?.eventContext?.postId},...(this.modContentDiscussionContext?.eventContext?.roomId && {chat:{id:this.modContentDiscussionContext?.eventContext?.roomId}}),...(this.modContentDiscussionContext?.eventContext?.commentId && {comment:{id:this.modContentDiscussionContext?.eventContext?.commentId}})})}" slot="mod-share-to-mod-chat"> <share-to-mod-chat-coachmark location="${this.modContentDiscussionContext?.modContentDiscussion?"modQueueChat":"modQueue"}" view-context="${this.viewContext}"> <reddit-chat-anchor> <a href="${e}"> <div class="relative"> <mod-action-button screen-reader-content="${a}" button-appearance="plain" data-mod-action="${i}"> <span slot="icon" class="flex justify-center"> ${t.aD({attributes:{"aria-hidden":"true"},size:t.I.Small})} </span> <span slot="text"> ${n} </span> </mod-action-button> </div> </a> </reddit-chat-anchor> </share-to-mod-chat-coachmark> </faceplate-tracker> `;}renderFlairAction(){return this.isPost&&this.shouldShowActionInline?t.x` <mod-action-button screen-reader-content="${"Open post flair modal"}" data-mod-action="${o.M.OpenEditPostFlairModal}" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center">${t.b2({attributes:{"aria-hidden":"true"},size:t.I.Small})}</span> <span slot="text"> ${"Flair"} </span> </mod-action-button>`:null;}renderAddRemovalReasonAction(){return (this.isModMode||this.isOnModqueuePage)&&this.itemType!==e.M.Award&&c.f(this.moderationState,this.hasRemovalReason,this.isSpamFilteredPost,this.isProfilePost)?t.x` <mod-action-button screen-reader-content="${"Add removal reason"}" data-mod-action="${o.M.AddRemovalReason}" button-appearance="${a.ac()?"bordered":"secondary"}" ?show-full-buttons="${!0}"> <span slot="icon" class="flex justify-center">${t.D({attributes:{"aria-hidden":"true"},size:t.I.Small})}</span> <span slot="text"> ${"Add removal reason"} </span> </mod-action-button> ${this.isIconOnly?t.x`<div class="separator"></div>`:null} `:null;}renderCopyLinkAction(){return this.shouldShowActionInline?this.isPost?t.x`<shreddit-post-share-button ?use-button="${!0}" ?is-desktop-viewport="${this.isDesktopViewport}" permalink="${this.permalink}" size="${e.$.Small}" ?show-full-buttons="${!this.isIconOnly}"></shreddit-post-share-button>`:t.x`<shreddit-comment-share-button slot="comment-share" ?use-button="${!0}" ?is-desktop-viewport="${this.isDesktopViewport}" permalink="${this.permalink}" ?show-full-buttons="${!this.isIconOnly}"></shreddit-comment-share-button>`:null}renderLockAction(){if(!this.shouldShowActionInline||this.isLocked)return null;const e="Lock";return t.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${o.M.Lock}" event-noun="lock" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${t.bD({attributes:{"aria-hidden":"true"},size:t.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderUnlockAction(){if(!this.shouldShowActionInline||!this.isLocked)return null;const e="Unlock";return t.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${o.M.Unlock}" event-noun="unlock" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${t.aS({attributes:{"aria-hidden":"true"},size:t.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderStickyAction(){if(!this.isStickyable||!this.shouldShowActionInline||this.isStickied||this.areHighlightsEnabled)return null;const e="Sticky";return t.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${o.M.Sticky}" event-noun="sticky" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${t.bL({attributes:{"aria-hidden":"true"},size:t.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderUnstickyAction(){if(!this.isStickyable||!this.shouldShowActionInline||!this.isStickied||this.areHighlightsEnabled)return null;const e="Unsticky";return t.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${o.M.Unsticky}" event-noun="unsticky" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${t.aT({attributes:{"aria-hidden":"true"},size:t.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderAddToHighlightsAction(){if(!this.isStickyable||!this.shouldShowActionInline||!this.areHighlightsEnabled||!r.H.has(this.viewContext)||this.isHighlighted)return null;const e="Add to highlights";return t.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${o.M.UpdateHighlightedPost}" event-noun="highlight" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${t.bL({attributes:{"aria-hidden":"true"},size:t.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}renderRemoveFromHighlightsAction(){if(!(this.isStickyable&&this.shouldShowActionInline&&this.areHighlightsEnabled&&r.H.has(this.viewContext)&&this.isHighlighted))return null;const e="Remove from highlights";return t.x` <mod-action-button screen-reader-content="${e}" data-mod-action="${o.M.RemoveHighlightedPost}" event-noun="unhighlight" button-appearance="plain" ?show-full-buttons="${!this.isIconOnly}"> <span slot="icon" class="flex justify-center"> ${t.aT({attributes:{"aria-hidden":"true"},size:t.I.Small})} </span> <span slot="text"> ${e} </span> </mod-action-button>`}render(){return t.x` ${this.renderAddRemovalReasonAction()} ${this.renderApproveAction()} ${this.renderRemoveAction()} ${this.renderConfirmRemovalAction()} ${this.renderShareToModChatAction()} ${this.renderSpamAction()} ${this.renderFlairAction()} ${this.renderLockAction()} ${this.renderUnlockAction()} ${this.renderCopyLinkAction()} ${this.renderStickyAction()} ${this.renderUnstickyAction()} ${this.renderAddToHighlightsAction()} ${this.renderRemoveFromHighlightsAction()} `}};I.styles=[e.t,t.i`:host{display:flex;gap:var(--spacer-xs)}.separator{border-left:1px solid rgb(0,0,0,.1);width:1px;height:32px}`],t._([t.n({type:String,attribute:"thing-id"})],I.prototype,"thingId",void 0),t._([t.n({type:String,attribute:"feed-view-type"})],I.prototype,"feedViewType",void 0),t._([t.n({type:String,attribute:"view-context"})],I.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"item-state"})],I.prototype,"itemState",void 0),t._([t.n({type:Boolean,attribute:"has-reports"})],I.prototype,"hasReports",void 0),t._([t.n({type:Boolean,attribute:"mod-mode"})],I.prototype,"isModMode",void 0),t._([t.n({type:Boolean,attribute:"removed"})],I.prototype,"isRemoved",void 0),t._([t.n({type:Boolean,attribute:"deleted"})],I.prototype,"isDeleted",void 0),t._([t.n({type:Boolean,attribute:"locked"})],I.prototype,"isLocked",void 0),t._([t.n({type:Boolean,attribute:"stickied"})],I.prototype,"isStickied",void 0),t._([t.n({type:Boolean,attribute:"highlighted"})],I.prototype,"isHighlighted",void 0),t._([t.n({type:Boolean,attribute:"current-user-author"})],I.prototype,"isCurrentUserAuthor",void 0),t._([t.n({type:Boolean,attribute:"has-parent"})],I.prototype,"hasParent",void 0),t._([t.n({type:Boolean,attribute:"icon-only"})],I.prototype,"isIconOnly",void 0),t._([t.n({type:Boolean,attribute:"has-removal-reason"})],I.prototype,"hasRemovalReason",void 0),t._([t.n({type:String,attribute:"permalink"})],I.prototype,"permalink",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],I.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-spam-filtered-post"})],I.prototype,"isSpamFilteredPost",void 0),t._([t.n({type:Boolean,attribute:"is-profile-post"})],I.prototype,"isProfilePost",void 0),t._([t.n({type:Boolean,attribute:"is-promoted-post"})],I.prototype,"isPromotedPost",void 0),t._([t.n({type:Boolean,attribute:"has-flair-permissions"})],I.prototype,"hasFlairPermissions",void 0),t._([t.n({type:Boolean,attribute:"highlights-enabled"})],I.prototype,"areHighlightsEnabled",void 0),t._([t.n({type:Boolean,attribute:"hide-inline-actions"})],I.prototype,"hideInlineActions",void 0),t._([t.n({type:Boolean,attribute:"smart-escalations"})],I.prototype,"isSmartEscalations",void 0),t._([t.n({type:Boolean,attribute:"is-content-level-mods-comms-enabled"})],I.prototype,"isContentLevelModsCommsEnabled",void 0),t._([t.n({type:Object,attribute:"mod-content-discussion-context"})],I.prototype,"modContentDiscussionContext",void 0),t._([t.n({type:Boolean,attribute:"is-feed-no-approve-enabled"})],I.prototype,"isFeedNoApproveEnabled",void 0),t._([t.n({attribute:!1})],I.prototype,"focusChatTextareaFn",void 0),t._([t.b()],I.prototype,"moderationState",void 0),I=t._([t.c("shreddit-mod-inline-actions")],I);let N=class extends p.M{constructor(){super(...arguments),this.hasParent=!1,this.pubsub=new e.P(this),this.handleCommentUpdate=({commentId:t,action:i,value:a})=>{if(t===this.thingId)switch(i){case d.C.lock:this.isLocked=Boolean(a);break;case d.C.sticky:this.isStickied=Boolean(a);break;case d.C.distinguishAsMod:this.distinguishedAs=a?e.bc.Moderator:void 0;break;case d.C.distinguishAsAdmin:this.distinguishedAs=a?e.bc.Admin:void 0;break;case d.C.approve:case d.C.approveOptimistic:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=e.a3.ModApproved,this.itemState=c.M.APPROVED,this.hasReports=!1;break;case d.C.remove:case d.C.removeAsSpam:case d.C.confirmRemoval:case d.C.removeOptimistic:case d.C.removeAsSpamOptimistic:case d.C.confirmRemovalOptimistic:this.isRemoved=!0,this.verdict=e.a3.ModRemoved,this.itemState=c.M.REMOVED,this.hasReports=!1;break;case d.C.addRemovalReason:this.hasRemovalReason=Boolean(a);break;case d.C.ignoreReports:this.isReportingIgnored=Boolean(a),a&&(this.isRemoved=!1,this.verdict=e.a3.ModApproved,this.itemState=c.M.APPROVED)}}}get isStickyable(){return super.isStickyable&&this.isCurrentUserAuthor&&!this.hasParent}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(e.T.CommentUpdated,this.handleCommentUpdate)}renderActions(){return [this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.isContentLevelModsCommsEnabled?this.renderShareToModChatAction(this.modContentDiscussionContext):null,this.renderSpamAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky comment"),this.renderUnstickyAction("Unsticky comment"),this.renderLockAction("Lock comment"),this.renderUnlockAction("Unlock comment"),this.renderCopyLinkAction()];}};t._([t.n({type:Boolean,attribute:"has-parent"})],N.prototype,"hasParent",void 0),N=t._([t.c("shreddit-comment-mod-actions-menu")],N);let k=class extends p.M{constructor(){super(...arguments),this.isNsfw=!1,this.isSpoiler=!1,this.pubsub=new e.P(this),this._handlePostUpdate=({postId:t,action:i,value:a})=>{if(t===this.thingId)switch(i){case h.a.lock:this.isLocked=Boolean(a);break;case h.a.sticky:this.isStickied=Boolean(a);break;case h.a.updateHighlightedPost:this.isHighlighted=Boolean(a);break;case h.a.distinguishAsMod:this.distinguishedAs=a?e.bc.Moderator:void 0;break;case h.a.approveOptimistic:case h.a.approve:this.isRemoved=!1,this.hasRemovalReason=!1,this.verdict=e.a3.ModApproved,this.itemState=c.M.APPROVED,this.hasReports=!1,this.requestUpdate();break;case h.a.remove:case h.a.removeAsSpam:case h.a.confirmRemoval:case h.a.removeOptimistic:case h.a.removeAsSpamOptimistic:case h.a.confirmRemovalOptimistic:this.isRemoved=!0,this.verdict=e.a3.ModRemoved,this.itemState=c.M.REMOVED,this.hasReports=!1;break;case h.a.addRemovalReason:this.hasRemovalReason=Boolean(a);break;case h.a.markAsNsfw:this.isNsfw=Boolean(a);break;case h.a.markAsSpoiler:this.isSpoiler=Boolean(a);break;case h.a.ignoreReports:this.isReportingIgnored=Boolean(a),a&&(this.isRemoved=!1,this.verdict=e.a3.ModApproved,this.itemState=c.M.APPROVED)}}}get isStickyable(){return super.isStickyable}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(e.T.PostUpdated,this._handlePostUpdate)}renderMarkAsNsfwAction(){return this.isDeleted||this.isNsfw?null:R.l({leadingIcon:t.c7(),label:"Add NSFW tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkNsfw)});}renderUnmarkAsNsfwAction(){return this.isDeleted||!this.isNsfw?null:R.l({leadingIcon:t.a9(),label:"Remove NSFW tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkNsfw)});}renderMarkAsSpoilerAction(){return this.isDeleted||this.isSpoiler?null:R.l({leadingIcon:t.aN(),label:"Add spoiler tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleMarkSpoiler)});}renderUnmarkAsSpoilerAction(){return this.isDeleted||!this.isSpoiler?null:R.l({leadingIcon:t.H(),label:"Remove spoiler tag",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleUnmarkSpoiler)});}renderAdjustCrowdControlAction(){return this.isPromotedPost?null:R.l({leadingIcon:t.c8(),label:"Adjust crowd control",size:this.size,onClick:this.getListItemClickHandler(this.modActionsController.handleAdjustCrowdControl)});}renderActions(){return [this.renderConfirmRemovalAction(),this.renderApproveAction(),this.renderRemoveAction(),this.isContentLevelModsCommsEnabled?this.renderShareToModChatAction(this.modContentDiscussionContext):null,this.renderSpamAction(),this.renderIgnoreReportsAction(),this.renderUnignoreReportsAction(),this.renderAddRemovalReasonAction(),this.renderDistinguishAction(),this.renderUndistinguishAction(),this.renderStickyAction("Sticky post"),this.renderUnstickyAction("Unsticky post"),this.renderAddToHighlightsAction(),this.renderRemoveFromHighlightsAction(),this.renderLockAction("Lock comments"),this.renderUnlockAction("Unlock comments"),this.renderEditPostFlairAction("Edit post flair"),this.renderMarkAsNsfwAction(),this.renderUnmarkAsNsfwAction(),this.renderMarkAsSpoilerAction(),this.renderUnmarkAsSpoilerAction(),this.renderAdjustCrowdControlAction(),this.renderCopyLinkAction()];}};t._([t.n({type:Boolean,attribute:"nsfw"})],k.prototype,"isNsfw",void 0),t._([t.n({type:Boolean,attribute:"spoiler"})],k.prototype,"isSpoiler",void 0),k=t._([t.c("shreddit-post-mod-actions-menu")],k);let E=class extends t.s{constructor(){super(...arguments),this.isEnoughParentWidth=!1,this.removed=!1,this.thingId="",this.shouldIgnoreParentWidth=!1,this.pubsub=new e.P(this),this.minWidthToShowLabel=460,this.onCommentUpdateAction=e=>{if(e.commentId!==this.thingId)return;const{action:t}=e;switch(t){case d.C.approve:case d.C.approveOptimistic:this.removed=!1;break;case d.C.remove:case d.C.removeAsSpam:case d.C.confirmRemoval:case d.C.removeOptimistic:case d.C.removeAsSpamOptimistic:case d.C.confirmRemovalOptimistic:this.removed=!0}},this.onPostUpdateAction=e=>{if(e.postId!==this.thingId)return;const{action:t}=e;switch(t){case h.a.approve:case h.a.approveOptimistic:this.removed=!1;break;case h.a.remove:case h.a.removeAsSpam:case h.a.confirmRemoval:case h.a.removeOptimistic:case h.a.removeAsSpamOptimistic:case h.a.confirmRemovalOptimistic:this.removed=!0}},this.onAwardOnContentUpdateAction=e=>{if(e.awardOnContentId!==this.thingId)return;const{action:t}=e;switch(t){case l.A.approve:this.removed=!1;break;case l.A.remove:case l.A.confirmRemoval:this.removed=!0}}}connectedCallback(){this.initializeResizeObserver(),this.pubsub.subscribe(e.T.PostUpdated,this.onPostUpdateAction),this.pubsub.subscribe(e.T.CommentUpdated,this.onCommentUpdateAction),this.pubsub.subscribe(e.T.AwardOnContentUpdated,this.onAwardOnContentUpdateAction),super.connectedCallback()}disconnectedCallback(){this.resizeObserver?.disconnect(),super.disconnectedCallback()}initializeResizeObserver(){const e=s.g(this);e&&(this.resizeObserver=new ResizeObserver((e=>{for(const t of e){const e=t.contentRect.width>=this.minWidthToShowLabel;e!==this.isEnoughParentWidth&&(this.isEnoughParentWidth=e)}})),this.resizeObserver.observe(e))}render(){return t.x` <span class="inline-flex items-center gap-xs text-12 text-neutral-content w-full"> <div class="relative"> <slot name="verdict-indicator-avatar"></slot> <div aria-hidden="true" class="absolute bottom-0 -right-px flex justify-center items-center h-md w-md rounded-full border-solid border-md border-neutral-background scale-75 origin-bottom-right translate-y-px ${this.removed?"bg-red-200 text-red-700":"bg-kiwigreen-200 text-kiwigreen-700"}"> ${this.removed?t.ag({size:t.I.ExtraSmall}):t.C({size:t.I.ExtraSmall})} </div> </div> ${this.shouldShowLabel?t.x`<slot name="verdict-indicator-label"></slot>`:""} </span> `}get shouldShowLabel(){return this.shouldIgnoreParentWidth||this.isEnoughParentWidth}};E.styles=[e.t],t._([t.b()],E.prototype,"isEnoughParentWidth",void 0),t._([t.n({type:Boolean,reflect:!0})],E.prototype,"removed",void 0),t._([t.n({type:String,attribute:"thing-id"})],E.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"ignore-parent-width"})],E.prototype,"shouldIgnoreParentWidth",void 0),E=t._([t.c("mod-verdict-indicator-component")],E);let g=class extends t.s{constructor(){super(...arguments),this.iconOnly=!1,this.pubsub=new e.P(this),this.handleCommentUpdate=({commentId:e,action:t,value:i})=>{if(e===this.thingId)switch(t){case d.C.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case d.C.approve:case d.C.approveOptimistic:this.hasRemovalReason=!0,this.isRemoved=!1;break;case d.C.remove:case d.C.removeAsSpam:case d.C.removeOptimistic:case d.C.removeAsSpamOptimistic:case d.C.confirmRemovalOptimistic:this.hasRemovalReason=!1,this.isRemoved=!0}},this.handlePostUpdate=({postId:e,action:t,value:i})=>{if(e===this.thingId)switch(t){case h.a.addRemovalReason:this.hasRemovalReason=Boolean(i);break;case h.a.approve:case h.a.approveOptimistic:this.hasRemovalReason=!0,this.isRemoved=!1;break;case h.a.remove:case h.a.removeAsSpam:case h.a.removeOptimistic:case h.a.removeAsSpamOptimistic:case h.a.confirmRemovalOptimistic:this.isRemoved=!0,this.hasRemovalReason=!1}},this.updateModVerdict=e=>{const t=this.closest('[slot="mod-verdict"]');e&&this.isRemoved?t?.setAttribute("show-removal-reason-cta",""):t?.removeAttribute("show-removal-reason-cta")},this.shouldShowCta=()=>{const e=this.isRemoved?c.M.REMOVED:c.M.UNMODERATED;return c.f(e,!!this.hasRemovalReason,!!this.isContentSpamFilteredPost,this.isProfilePost)}}connectedCallback(){super.connectedCallback();const t=s.g(this);this.resizeObserver=new ResizeObserver((e=>{for(const t of e)t.contentRect.width<500?this.iconOnly=!0:this.iconOnly=!1})),t&&this.resizeObserver.observe(t),this.pubsub.subscribe(e.T.CommentUpdated,this.handleCommentUpdate),this.pubsub.subscribe(e.T.PostUpdated,this.handlePostUpdate),this.updateModVerdict(!this.hasRemovalReason)}disconnectedCallback(){super.disconnectedCallback();const e=s.g(this);e&&this.resizeObserver.unobserve(e),this.resizeObserver.disconnect()}updated(e){super.updated(e),e.has("hasRemovalReason")&&this.updateModVerdict(!this.hasRemovalReason)}render(){return this.hasRemovalReason||!this.shouldShowCta()?t.A:t.x` <mod-action-button screen-reader-content="${"Add removal reason"}" data-mod-action="${o.M.AddRemovalReason}" button-appearance="secondary" ?show-full-buttons="${!0}"> <span slot="icon" class="flex justify-center"> ${t.D({attributes:{"aria-hidden":"true"},size:t.I.Small})} </span> <span slot="text" class="flex"> ${this.iconOnly?t.D({attributes:{"aria-hidden":"true"},size:t.I.Small}):"Add removal reason"} </span> </mod-action-button> `;}};g.styles=[e.t],t._([t.n({type:String,attribute:"thing-id"})],g.prototype,"thingId",void 0),t._([t.n({type:Boolean,attribute:"has-removal-reason"})],g.prototype,"hasRemovalReason",void 0),t._([t.b()],g.prototype,"iconOnly",void 0),t._([t.n({type:Boolean,attribute:"is-removed"})],g.prototype,"isRemoved",void 0),t._([t.n({type:Boolean,attribute:"is-content-spam-filtered-post"})],g.prototype,"isContentSpamFilteredPost",void 0),t._([t.n({type:Boolean,attribute:"is-profile-post"})],g.prototype,"isProfilePost",void 0),g=t._([t.c("responsive-add-removal-reason-cta")],g)}));
SML.dm("BdS4XelL",[],(async()=>{var n;!function(n){n.Collapsed="0",n.Expanded="1"}(n||(n={}));const e={[n.Collapsed]:"flex-nav-collapsed",[n.Expanded]:"flex-nav-expanded"},t=Object.values(n);return{F:{LeftSidebarContainer:"left-sidebar-container",ContainerDiv:"flex-left-nav-container",ContentsDiv:"flex-left-nav-contents",ButtonsContainer:"flex-nav-buttons",ExpandButton:"flex-nav-expand-button",CollapseButton:"flex-nav-collapse-button",SubgridContainer:"subgrid-container"},a:"hui_flex_nav_expanded_state",get b(){return n},c:e,i:n=>!!n&&t.includes(n)}}));
SML.dm("CmDeBj1O",["DN8NCGGW","DVMhF-xZ","CElIDZoh","BdS4XelL"],(async(t,e,n,i)=>{let s=class extends e.x{constructor(){super(...arguments),this.isHovered=!1,this.hoverDelayStart=150,this.hoverDelayEnd=150,this.preventNextAnimations=!1,this.containerElement=null,this.contentsElement=null,this.expandButton=null,this.collapseButton=null,this.gridTransitionPromise=null,this.gridTransitioning=!1,this.trigger="hover",this.interactionController=new n.ay(this,{hoverDelayStart:()=>this.hoverDelayStart,hoverDelayEnd:()=>this.hoverDelayEnd,isInteractedWith:t=>t.isHovered}),this.noAnimate=!1,this.parentGridSelector=".grid-container",this.hotkeysController=new e.d2(this),this.handleSlotChange=t=>{const e=document.getElementById(i.F.ContainerDiv),n=document.getElementById(i.F.ContentsDiv),s=document.getElementById(i.F.ExpandButton),a=document.getElementById(i.F.CollapseButton);n&&this.contentsElement!==n&&(this.contentsElement?.removeEventListener("mouseenter",this.interactionController.handleMouseEnter),n.addEventListener("mouseenter",this.interactionController.handleMouseEnter),this.contentsElement=n,this.isExpanded||(this.contentsVisibility=!1)),e&&this.containerElement!==e&&(this.containerElement=e),a&&a!==this.collapseButton&&(this.collapseButton?.removeEventListener("click",this.toggleState),this.collapseButton=a,a.addEventListener("click",this.toggleState)),s&&s!==this.expandButton&&(this.expandButton?.removeEventListener("click",this.toggleState),this.expandButton?.removeEventListener("keydown",this.handleExpandKeydown),this.expandButton=s,s.addEventListener("click",this.toggleState),s.addEventListener("mouseover",this.handleExpandButtonMouseOver),s.addEventListener("keydown",this.handleExpandKeydown))},this.handleExpandKeydown=async t=>{if("Tab"!==t.key)return;t.preventDefault();const e=document.querySelector("reddit-skip-to-sidebar")?.shadowRoot?.querySelector("a");if(e)return this.emitter.dispatch("focus-delegate",{detail:{el:e}}),e.focus();const n=document.getElementById("shreddit-skip-link");n instanceof HTMLElement&&(this.emitter.dispatch("focus-delegate",{detail:{el:n}}),n.focus())},this.handleExpandButtonMouseOver=t=>{this.isHovered?this.interactionController.handleMouseEnter(t):t.stopImmediatePropagation()},this.toggleStateViaHotkey=()=>{this.toggleState(void 0,{viaHotkey:!0})},this.toggleState=(t,n)=>{const s=document.querySelector(this.parentGridSelector);var a,d;void 0!==this.country&&void 0!==this.expanded&&s&&(this.emitTrackingEvent(this.isExpanded?"collapse":"expand",n),this.expanded=this.isExpanded?i.b.Collapsed:i.b.Expanded,s instanceof HTMLElement&&(this.gridTransitioning=!0,this.gridTransitionPromise=this.preventNextAnimations?r():o(s).then((()=>{this.gridTransitioning=!1})),s.classList.remove(...Object.values(i.c)),s.classList.add(i.c[this.expanded])),a=this.expanded,d=this.country,e.J({name:i.a,value:a,country:d}))}}get isExpanded(){return this.expanded===i.b.Expanded}set contentsVisibility(t){this.contentsElement&&(this.contentsElement.hidden=!t)}emitTrackingEvent(t,n){let i;n?.viaHotkey&&(i={action_info:{trigger_type:e.d3.HOTKEY}});const[s,a,o]={expand:["nav","click","open_community_nav"],collapse:["nav","click","close_community_nav"],hover:["nav","hover","open_community_nav"],unhover:["nav","hover","close_community_nav"]}[t];return e.a(this,{source:s,action:a,noun:o,...i})}async stopAnimations(){const t=[];this.containerElement&&t.push(e.cb(this.containerElement)),this.contentsElement&&t.push(e.cb(this.contentsElement)),await Promise.all(t)}async runAnimations(t,n){if(this.preventNextAnimations)return;const i=[],s=e.cc(this,`flex-left-nav-container.${t}-${n}`),a=e.cc(this,`flex-left-nav-contents.${t}-${n}`);this.containerElement&&i.push(e.cd(this.containerElement,s.keyframes,s.options)),this.contentsElement&&i.push(e.cd(this.contentsElement,a.keyframes,a.options)),await Promise.all(i)}async connectedCallback(){super.connectedCallback(),await this.syncFlexNavStateNoAnimate(),this.isExpanded||this.updateComplete.then((()=>this.contentsVisibility=!1)),this.addEventListener("mouseleave",this.interactionController.handleMouseLeave),"enabled"===e.d4("shreddit_hotkeys_m1")&&this.hotkeysController.subscribe(e.d5.OPEN_NAVIGATION,this.toggleStateViaHotkey)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("mouseleave",this.interactionController.handleMouseLeave),"enabled"===e.d4("shreddit_hotkeys_m1")&&this.hotkeysController.unsubscribe(e.d5.OPEN_NAVIGATION,this.toggleStateViaHotkey)}willUpdate(t){t.has("expanded")&&this.hasUpdated&&this.handleExpandedStateChanged(),super.willUpdate(t)}updated(){}focusContents(){this.isExpanded?this.collapseButton?.focus():this.expandButton?.focus()}async syncFlexNavStateNoAnimate(){const t=(()=>{const t=e.j.get(i.a);return i.i(t)?t:null})();null!==t&&this.expanded!==t&&(this.preventAnimationsForUpdate(),this.toggleState(),await this.updateComplete)}async preventAnimationsForUpdate(){this.preventNextAnimations=!0;const t=document.querySelector(this.parentGridSelector);t instanceof HTMLElement&&(t.style.transition="none"),this.setAttribute("skip-animation",""),await Promise.all([this.updateComplete,r()]),this.removeAttribute("skip-animation"),t instanceof HTMLElement&&(t.style.transition=""),this.preventNextAnimations=!1}async handleExpandedStateChanged(){this.emitter.dispatch(this.isExpanded?"expand":"collapse");const t=this.updateComplete,e=(this.isExpanded?this.collapseButton:this.expandButton)?.parentElement,n=(this.isExpanded?this.expandButton:this.collapseButton)?.parentElement;if(a(e)&&(e.disabled=!0),a(n)&&n.hide?.(),t.then((async()=>{this.focusContents()})),await this.stopAnimations(),this.isExpanded&&(this.contentsVisibility=!0),!this.isHovered&&this.containerElement){const t=this.isExpanded?"show":"hide";await this.runAnimations("expand",t)}else this.gridTransitioning&&this.gridTransitionPromise?.then((()=>{this.emitter.dispatch("after-grid-transition"),this.isHovered=!1,this.classList.remove("hovered")}));this.isExpanded||(this.contentsVisibility=!1),a(e)&&(e.disabled=!1),this.emitter.dispatch(this.isExpanded?"after-expand":"after-collapse")}async startInteraction(){this.isExpanded||this.isHovered||this.gridTransitioning||(this.emitTrackingEvent("hover"),this.emitter.dispatch("hover"),await this.stopAnimations(),this.classList.add("hover-started"),this.contentsVisibility=!0,this.isHovered=!0,await this.runAnimations("hover","show"),this.classList.remove("hover-started"),this.classList.add("hovered"),this.emitter.dispatch("after-hover"))}async finishInteraction(){!this.isExpanded&&this.isHovered&&(this.emitTrackingEvent("unhover"),this.emitter.dispatch("unhover"),await this.stopAnimations(),await this.runAnimations("hover","hide"),this.classList.remove("hovered"),this.isHovered=!1,this.contentsVisibility=!1,this.emitter.dispatch("after-unhover"))}render(){return t.x` <slot @slotchange="${this.handleSlotChange}"></slot> ${this.isExpanded?t.A:t.x`<div class="hoverable-target ${this.isHovered?"hovered":""}" @mouseenter="${this.interactionController.handleMouseEnter}"></div>`} `}};s.styles=t.i`:host(.hover-started),:host(.hovered){z-index:10!important;border-top:1px solid var(--color-neutral-border)!important}.hoverable-target{position:fixed;top:calc(var(--shreddit-header-height) + 72px);width:calc(var(--flex-nav-closed-size) + 16px);bottom:0;z-index:calc(var(--flex-nav-z-index) + 1)}.hoverable-target.hovered{z-index:calc(var(--flex-nav-z-index) - 1);top:var(--shreddit-header-height);width:calc(var(--flex-nav-expanded-size) + 16px)}`,t._([t.b()],s.prototype,"isHovered",void 0),t._([t.n({type:String,reflect:!0})],s.prototype,"expanded",void 0),t._([t.n({type:String})],s.prototype,"country",void 0),t._([t.n({type:Boolean})],s.prototype,"noAnimate",void 0),t._([t.n({type:String})],s.prototype,"parentGridSelector",void 0),s=t._([t.c("flex-left-nav-container")],s);const a=t=>"rpl-tooltip"===t?.tagName.toLowerCase(),o=(t,e=1200)=>{const n=t=>new Promise((n=>{t.addEventListener("transitionend",n),setTimeout(n,e)}));return Array.isArray(t)?Promise.all(t.map(n)):n(t)},r=()=>new Promise((t=>requestAnimationFrame(t)));return e.c9("flex-left-nav-container.expand-show",{keyframes:[{transform:"translateX(var(--closed-floating-translation))"},{transform:"translateX(var(--open-floating-translation))"}],options:{duration:250,easing:"cubic-bezier(0.65, 0, 0.35, 1)"}}),e.c9("flex-left-nav-container.expand-hide",{keyframes:[{transform:"translateX(var(--open-floating-translation))"},{transform:"translateX(var(--closed-floating-translation))"}],options:{duration:300,easing:"cubic-bezier(0.87, 0, 0.13, 1)"}}),e.c9("flex-left-nav-container.hover-show",{keyframes:[{boxShadow:"var(--left-nav-box-shadow-none)",transform:"translateX(var(--closed-floating-translation))"},{boxShadow:"var(--left-nav-box-shadow-hover)",transform:"translateX(var(--open-floating-translation))"}],options:{duration:250,easing:"cubic-bezier(0.65, 0, 0.35, 1)"}}),e.c9("flex-left-nav-container.hover-hide",{keyframes:[{boxShadow:"var(--left-nav-box-shadow-hover)",transform:"translateX(var(--open-floating-translation))"},{boxShadow:"var(--left-nav-box-shadow-none)",transform:"translateX(var(--closed-floating-translation))"}],options:{duration:300,easing:"cubic-bezier(0.87, 0, 0.13, 1)"}}),e.c9("flex-left-nav-contents.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250,easing:"linear"}}),e.c9("flex-left-nav-contents.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:300,easing:"linear"}}),{get F(){return s}}}));

SML.dm("BHkYDd4M",["DN8NCGGW","DVMhF-xZ"],(async N=>{var I;!function(N){N.APP="APP",N.GAME="GAME",N.NSFW="NSFW",N.ORIGINAL="ORIGINAL",N.SPOILER="SPOILER",N.QUARANTINED="QUARANTINED"}(I||(I={}));return {get C(){return I},c:({attributes:A,children:R,appearance:E})=>{const{html:e,createElement:a}=N.g(),P={size:N.I.Small,attributes:{className:"inline-block",style:"vertical-align: text-bottom"}},T={[I.APP]:{className:"text-ai-plain",icon:N.a7(P)},[I.GAME]:{className:"text-ai-plain",icon:N.a8(P)},[I.NSFW]:{className:"text-category-nsfw",icon:N.a9(P)},[I.ORIGINAL]:{className:"text-primary",icon:N.aa(P)},[I.SPOILER]:{className:"text-category-spoiler",icon:N.H(P)},[I.QUARANTINED]:{className:"text-warning-content",icon:N.ab(P)}},O=e`<span class="inline-block" aria-hidden="true">${[T[E].icon]}</span> <span class="font-semibold text-12 uppercase">${R}</span>`;return a("span",{...A,className:`flex items-center gap-2xs ${[T[E].className]}`,rpl:!0},O)},g:()=>({[I.NSFW]:{children:"NSFW",appearance:I.NSFW},[I.APP]:{children:"APP",appearance:I.APP},[I.GAME]:{children:"GAME",appearance:I.GAME},[I.SPOILER]:{children:"SPOILER",appearance:I.SPOILER},[I.QUARANTINED]:{children:"QUARANTINED",appearance:I.QUARANTINED},[I.ORIGINAL]:{children:"ORIGINAL",appearance:I.ORIGINAL}})};}));
SML.dm("yhbIHQLb",["DN8NCGGW","BHkYDd4M","DVMhF-xZ","CdTGYlNw","Bahzn9My"],(async(t,e,s,i)=>{let n=class extends t.s{constructor(){super(),this.postId="",this.spoiler=!1,this.nsfw=!1,this.quarantined=!1,this.game=!1,this.app="",this.onPostUpdateAction=({postId:t,action:e,value:s})=>{if(this.postId===t)switch(e){case i.a.markAsNsfw:this.nsfw=s;break;case i.a.markAsSpoiler:this.spoiler=s}},this.pubsubController=new s.P(this)}connectedCallback(){super.connectedCallback(),this.pubsubController.subscribe(s.T.PostUpdated,this.onPostUpdateAction)}renderContentTag(s){const i=e.c(e.g()[s]);return t.x`<span class="h-lg inline-block">${i}</span>`}render(){return this.nsfw||this.spoiler||this.quarantined||this.app?t.x` <div class="content-tags inline-flex gap-xs"> ${this.nsfw?this.renderContentTag(e.C.NSFW):""} ${this.app?t.x`<a target="_blank" href="https://developers.reddit.com/apps/${this.app}?utm=watermark_v1" @click="${()=>this.dispatchEvent(new CustomEvent("tag-click",{detail:{type:e.C.APP}}))}">${this.renderContentTag(this.game?e.C.GAME:e.C.APP)}</a>`:""} ${this.spoiler?this.renderContentTag(e.C.SPOILER):""} ${this.quarantined?this.renderContentTag(e.C.QUARANTINED):""} </div> `:""}};n.styles=[s.t],t._([t.n({type:String,attribute:"post-id"})],n.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"spoiler",reflect:!0})],n.prototype,"spoiler",void 0),t._([t.n({type:Boolean,attribute:"nsfw",reflect:!0})],n.prototype,"nsfw",void 0),t._([t.n({type:Boolean,attribute:"quarantined",reflect:!0})],n.prototype,"quarantined",void 0),t._([t.n({type:Boolean})],n.prototype,"game",void 0),t._([t.n({type:String})],n.prototype,"app",void 0),n=t._([t.c("shreddit-content-tags")],n)}));
SML.dm("Dy2tIlzM",["DN8NCGGW","DVMhF-xZ"],(async(t,i)=>{i.bS(t.i`#shreddit-media-lightbox .lightboxed-content{display:flex;align-items:center;justify-content:center;width:100%;height:100%}#shreddit-media-lightbox .non-lightboxed-content{display:none}#shreddit-media-lightbox .media-lightbox-img{max-height:none}#shreddit-media-lightbox::part(panel){max-width:100svw;max-height:100svh;width:100svw;height:100svh;border-radius:0}`);let e=class extends t.s{constructor(){super(...arguments),this._isConnected=!1,this._push=i.bT,this._lightboxUrl=void 0,this.pubsub=new i.P(this),this.templateRef=i.aF(),this.contentRef=i.aF(),this._hideCloseButtonOnIdle=!1,this.disableAnimations=!1,this.isIdle=!1,this.lightboxOpenHandler=({element:t,attributes:i={}})=>{const e=i.permalink??window.location.href;try{const s=e.startsWith("http")?e:`${window.location.origin}${e}`;this._lightboxUrl=new URL(`${s}#lightbox`),this._push(this._lightboxUrl.href,{onForwardNav:()=>this.showModal({element:t,attributes:i}),onBackNav:()=>this.dialog?.hide()})}catch(s){this.showModal({element:t,attributes:i}),window.Sentry?.captureException?.(`shreddit-media-lightbox: Error parsing permalink ${e}`,s)}},this.showModal=({element:t,attributes:e={}})=>{if(this.dialog?.open)return;const{hideCloseButtonOnIdle:s,onAfterClose:o}=e;this._hideCloseButtonOnIdle=s??!1,this._onAfterClose=o,this._originalParent=t,this._originalParentHeight=t.offsetHeight||t.parentElement?.offsetHeight,this.dialog?.showModal(),this.pubsub.publish(i.T.LightboxOpened)},this.onAfterShow=()=>{const t=document.createElement("div");t.style.height=`${this._originalParentHeight}px`,this.contentRef?.value?.replaceChildren(...(this._originalParent?.children || [])),this._originalParent?.appendChild(t),this._startIdleTimer(),this.isIdle=!1},this.lightboxCloseHandler=()=>{this.dialog?.open&&this.dialog?.hide()},this.onDialogHide=()=>{this.pubsub.publish(i.T.LightboxClosed),this.contentRef?.value?.children&&this._originalParent&&(this._originalParent.replaceChildren(...this.contentRef.value.children),this.contentRef.value.innerHTML=""),this._originalParent=void 0,this._hideCloseButtonOnIdle=!1,this._idleTimeout=void 0,this.isIdle=!1;const t=window.navigation?.currentEntry?.url!==this._lightboxUrl?.href;window.navigation?.canGoBack&&!t&&(this._lightboxUrl=void 0,window.navigation.back())},this.onAfterHide=()=>{this._onAfterClose&&(this._onAfterClose(),this._onAfterClose=void 0)},this._startIdleTimer=()=>{this._hideCloseButtonOnIdle&&(this._stopIdleTimer(),this._idleTimeout=window.setTimeout((()=>{this.isIdle=!0}),1500))}}static get styles(){return[i.t]}connectedCallback(){super.connectedCallback();Array.from(document.getElementsByTagName("shreddit-media-lightbox")).some((t=>t._isConnected))||(this._isConnected=!0,this.pubsub.subscribe(i.T.LightboxOpen,this.lightboxOpenHandler,!1),this.pubsub.subscribe(i.T.LightboxClose,this.lightboxCloseHandler,!1))}firstUpdated(){this.dialog&&this.disableAnimations&&function(t){const e={keyframes:[],options:{duration:0}};["dialog.show","dialog.hide","dialog.denyClose","dialog.overlay.show","dialog.overlay.hide"].forEach((s=>{i.bU(t,s,e)}))}(this.dialog)}disconnectedCallback(){super.disconnectedCallback(),this._isConnected&&(this.dialog?.open&&this.dialog?.hide(),this._isConnected=!1)}_stopIdleTimer(){window.clearTimeout(this._idleTimeout),this._idleTimeout=void 0,this.isIdle=!1}render(){if(this._isConnected){const e=t.x`<div data-testid="lightbox-template" class="relative h-full w-full" @mousemove="${this._startIdleTimer}" @click="${this._startIdleTimer}" @keydown="${this._startIdleTimer}" ${i.at(this.templateRef)}> <div data-testid="lightbox-template-content" class="h-full w-full max-h-dvh" ${i.at(this.contentRef)}></div> ${i.n({size:i.$.Large,appearance:"media",shape:"pill",attributes:{"data-testid":"close-button",className:"absolute top-sm right-sm z-10 duration-300 "+(this.isIdle?"opacity-0 invisible":"opacity-100"),"aria-label":"Close lightbox",onclick:()=>{this.dialog?.hide()}},children:t.ag({size:t.I.Medium})})} </div>`;return t.x` <rpl-dialog dialog-id="${"shreddit-media-lightbox"}" @rpl-dialog:after-show="${this.onAfterShow}" @rpl-dialog:hide="${this.onDialogHide}" @rpl-dialog:after-hide="${this.onAfterHide}" .litTemplateChildren="${e}"> </rpl-dialog> `}return""}};t._([t.n({type:Boolean,attribute:"disable-animations"})],e.prototype,"disableAnimations",void 0),t._([t.b()],e.prototype,"isIdle",void 0),t._([t.w("rpl-dialog")],e.prototype,"dialog",void 0),e=t._([t.c("shreddit-media-lightbox")],e);let s=class extends t.s{constructor(){super(...arguments),this.pubsub=new i.P(this),this.handleInteraction=t=>{i.d(t)&&this.openLightbox()},this.handleTrigger=({postId:t})=>{t===this.postId&&this.openLightbox()},this.openLightbox=()=>{this.pubsub.publish(i.T.LightboxOpen,{element:this,attributes:{permalink:this.permalink}})}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(i.T.TriggerLightboxOpen,this.handleTrigger,!1)}render(){return t.x`<slot @click="${this.handleInteraction}" @keypress="${this.handleInteraction}"></slot>`}};s.styles=[t.i`:host{cursor:pointer}`,i.t],t._([t.n({type:String,attribute:"post-id"})],s.prototype,"postId",void 0),t._([t.n({type:String,attribute:"permalink"})],s.prototype,"permalink",void 0),s=t._([t.c("shreddit-media-lightbox-listener")],s)}));
SML.dm("Cva-veaO",["DN8NCGGW","DVMhF-xZ"],(async(e,i)=>{let t=class extends e.s{constructor(){super(...arguments),this._imageElem=null,this._traceCompleted=!1,this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0,this._observer=new i.by,this._hasBeenInView=!1,this.placement="image_post",this.onEnter=()=>{this._hasBeenInView=!0,this._imageStartTiming||(this._imageStartTiming=Date.now()),this.applyListeners(),this._timeoutTimer||(this._timeoutTimer=setTimeout((()=>{this._imageElem?.complete&&this._imageElem?.naturalWidth||this.sendImageMetric("download_fail")}),6e4))},this.onLeave=()=>{if(this._traceCompleted||!this._hasBeenInView||!this._imageStartTiming)return;const e=Date.now()-this._imageStartTiming>=150;!this._imageReadyTiming&&e&&this.sendImageMetric("exit_before_visible")},this.onLoad=()=>{this._imageLoadedTiming=Date.now(),this.poll()},this.onError=()=>{this.sendImageMetric("download_fail")},this.checkStatus=e=>{if(e.naturalWidth&&!this._imageReadyTiming)return this._imageLoadedTiming||(this._imageLoadedTiming=Date.now()),this._imageReadyTiming=Date.now(),this.sendImageMetric(),!0;e.complete&&!this._imageLoadedTiming&&(this._imageLoadedTiming=Date.now(),this.poll());const i=Date.now()-this._imageLoadedTiming;return this._pollVisibleInterval&&i>1e4&&this.sendImageMetric("download_fail"),!1}}connectedCallback(){if(super.connectedCallback(),this._traceCompleted)return;if(this._imageElem=this.previousElementSibling,!this._imageElem.tagName.includes("IMG"))throw new Error("<image-observer> must be immediately after the observed <img> in the DOM");this.checkStatus(this._imageElem)||(this._observer.observe(this._imageElem),this._imageElem.addEventListener("faceplate-enter",this.onEnter),this._imageElem.addEventListener("faceplate-leave",this.onLeave))}disconnectedCallback(){super.disconnectedCallback(),this._observer.unobserve(this._imageElem),this._imageElem?.removeEventListener("faceplate-enter",this.onEnter),this._imageElem?.removeEventListener("faceplate-leave",this.onLeave),this.cleanup()}applyListeners(){if(!this._imageElem)return;this.checkStatus(this._imageElem)||(this._imageElem.addEventListener("load",this.onLoad,{once:!0}),this._imageElem.addEventListener("error",this.onError,{once:!0}))}cleanup(){clearInterval(this._pollVisibleInterval),clearTimeout(this._timeoutTimer),this._imageElem?.removeEventListener("load",this.onLoad),this._imageElem?.removeEventListener("error",this.onError),this._imageStartTiming=0,this._imageLoadedTiming=0,this._imageReadyTiming=0}poll(){!this._pollVisibleInterval&&this._hasBeenInView&&(this._pollVisibleInterval=setInterval((()=>{this.checkStatus(this._imageElem)}),25))}sendImageMetric(e=void 0){const t=this._getPostInfo(),s=this._getGalleryInfo();let a,n;t&&({position:n,...a}=t);const m=this._imageStartTiming||this._imageLoadedTiming||this._imageReadyTiming||Date.now(),o=this._imageReadyTiming||Date.now(),r={source:"image",action:"trace",noun:"performance",client_timestamp:Date.now(),image_trace:{get_image_start_timestamp:m,image_ready_timestamp:o,view_visibile_timestamp:m},media:{width:this._imageElem?.naturalWidth,height:this._imageElem?.naturalHeight,url:this._imageElem?.src,placement:this.placement},action_info:{position:n,reason:e,page_type:i.B()}};a&&(r.post=a),s&&(r.gallery=s),this._sendEvent(r),this.cleanup(),"exit_before_visible"!==e&&(this._traceCompleted=!0)}_getPostInfo(){const e=this.closest("shreddit-post, shreddit-ad-post");if(e)return{id:e.id,promoted:e.nodeName.includes("AD"),nsfw:e.nsfw,view_type:e.viewType===i.a4.CompactView?"classic":"card",position:e.feedIndex}}_getGalleryInfo(){if(!this.closest("gallery-carousel"))return;const e=this.closest("li")?.getAttribute("slot");return e?{position:Number(e.split("-")[1])-1}:void 0}_sendEvent(e){i.a(this,e)}createRenderRoot(){return this}};e._([e.n()],t.prototype,"placement",void 0),t=e._([e.c("image-observer")],t)}));
SML.dm("Cg3nU-G5",["CElIDZoh"],(async t=>{let n=function(){try{return"1E4 bits"===new Intl.NumberFormat("en",{style:"unit",unit:"bit",unitDisplay:"long",notation:"scientific"}).format(1e4)}catch(t){return!1}}();const o=1e3,r=1e6,i=1e9,e=t=>t>=99999999949?`${Math.floor(t/i)}b`:t>=999999949&&t<99999999949?`${(t/i).toFixed(1)}b`:t>=99999949&&t<999999949?`${Math.floor(t/r)}m`:t>=999949&&t<99999949?`${(t/r).toFixed(1)}m`:t>=99949&&t<999949?`${Math.floor(t/o)}k`:t>=o&&t<99949?`${(t/o).toFixed(1)}k`:String(t);return{_:e,f:function(o,r,i){if(n){const n=(null==i?void 0:i.options)||{notation:(null==i?void 0:i.short)?"compact":"standard"};return t.h(r,n).format(o)}return e(o)}}}));
SML.dm("alT8rG4e",["DVMhF-xZ","CElIDZoh","DN8NCGGW","Cg3nU-G5"],(async(e,t,o,n)=>{let a=class extends o.s{constructor(){super(...arguments),this.number=0,this.locale="",this.pretty=!1}getLocale(){return this.locale||t.ce()}createRenderRoot(){return this}render(){const e=this.formatOptions?{options:this.formatOptions}:{short:this.pretty};return n.f(this.number,this.getLocale(),e)}};function r(e){const{count:t,none:o,single:n,many:a}=e;return 0===t&&void 0!==o?o:1===t?n:a}return o._([o.n({type:Number})],a.prototype,"number",void 0),o._([o.n({type:String})],a.prototype,"locale",void 0),o._([o.n({type:Object})],a.prototype,"formatOptions",void 0),o._([o.n({type:Boolean})],a.prototype,"pretty",void 0),a=o._([o.c("faceplate-number")],a),{a:function(t,o=!1){return o||0!==t?e.c8({one:`Allows up to ${t} emoji`,other:`Allows up to ${t} emojis`,count:t}):"";},b:r,c:function(t,o=!1){return o||0!==t?e.c8({one:`${t} question left today.`,other:`${t} questions left today.`,count:t}):"";},d:function(t,o=!1){return o||0!==t?e.c8({one:`${t} question left this week.`,other:`${t} questions left this week.`,count:t}):"";},e:function(e,o,n=!1,a=""){return r({count:o,none:n?void 0:"",single:e` <faceplate-number number="${o}" pretty></faceplate-number> <span class="${t.cI(a)}"> ${"member"} </span> `,many:e` <faceplate-number number="${o}" pretty></faceplate-number> <span class="${t.cI(a)}"> ${"members"} </span> `});},p:function(t,o=!1){return o||0!==t?e.c8({one:`Allows text and up to ${t} emoji`,other:`Allows text and up to ${t} emojis`,count:t}):"";}};}));
SML.dm("UKZKgKgp",["DN8NCGGW"],(async t=>{var e,o;class r{static get instance(){return t.cn(e,e,"f",o)||t.co(e,e,new e,"f",o),t.cn(e,e,"f",o)}getCorrelationId(){return this._correlationId}setCorrelationId(){return this._correlationId=crypto.randomUUID(),this._correlationId}getPostType(){return this._postType}setPostType(t){return this._postType=t,this._postType}}e=r,o={value:void 0};return{a:r.instance,s:async function(t){const e=document.querySelector("shreddit-comments-page-tools, comment-body-header"),o=document.querySelector("nav")?.offsetHeight??0,r=document.querySelector("shreddit-comment-tree");if(!e||!r)return;await r.updateComplete;const n=e.offsetTop;await requestAnimationFrame((()=>{window.scrollTo({top:n-o,behavior:t})}))}}}));
SML.dm("HB6ZjwU1",["DVMhF-xZ","UKZKgKgp"],(async(i,e)=>{class t{constructor(e){this.isActivatingExplainer=!1,this.handleExplainerClosed=({explainerId:i,dismissed:e})=>{this.resolver&&this.resolver.explainerId===i&&(this.resolver.resolve({dismissed:e}),this.resolver=void 0)},(this.host=e).addController(this),this.pubsub=new i.P(this.host)}hostConnected(){this.pubsub.subscribe(i.T.ExplainerClosed,this.handleExplainerClosed,!1)}getExplainerDialogByExplainerId(i){return document.querySelector(`[dialog-id=explainer-dialog][data-explainer-id="${i}"]`)}async showExplainer({explainerExperience:e,explainerId:a,explainerVariantId:r,correlationId:n}){if(this.isActivatingExplainer||t.activatedExplainers.has(a))return{dismissed:!1};try{this.isActivatingExplainer=!0,await i.f({name:i.aG,routeParams:{explainerId:a},queryParams:{...null!=e&&{explainerExperience:e},...null!=r&&{explainerVariantId:r},...null!=n&&{correlationId:n}},renderMode:i.g.Contents});if(!this.getExplainerDialogByExplainerId(a))throw new Error(`Explainer dialog for explainer ID \`${a}\` not found after activation`);t.activatedExplainers.add(a)}catch(i){window.Sentry?.captureError?.(i)}finally{this.isActivatingExplainer=!1}return t.activatedExplainers.has(a)?new Promise((i=>this.resolver={explainerId:a,resolve:i})):{dismissed:!1}}}t.activatedExplainers=new Set;return{A:class{constructor(e,a){this.isActivatingDialog=!1,this.handleAwardContent=({thingId:i,award:e})=>{i===this.getThingId()&&this.onAward?.(e)},(this.host=e).addController(this),this.pubsub=new i.P(this.host),this.explainerController=new t(this.host),this.getThingId=a.getThingId,this.getAwardsPromoConfig=a.getAwardsPromoConfig,this.onAward=a.onAward}hostConnected(){this.onAward&&this.pubsub.subscribe(i.T.AwardContent,this.handleAwardContent,!1)}async activateDialog(){if(!this.isActivatingDialog)try{this.isActivatingDialog=!0;const{experience:t,variantId:a,id:r,type:n}=this.getAwardsPromoConfig?.()??{},s=t&&a&&r&&n===i.aH.EducationalModule?await this.explainerController.showExplainer({explainerExperience:t,explainerVariantId:a,explainerId:r,correlationId:e.a.getCorrelationId()}):void 0;s?.dismissed||await i.f({name:i.aI,routeParams:{thingId:this.getThingId()},renderMode:i.g.Contents})}finally{this.isActivatingDialog=!1}}}}}));
SML.dm("Crs-BNcA",[],(async()=>{var e,a,r;return function(e){e.GoldPurchasePaymentForm="award-gold-purchase-payment-form",e.GoldTopupPaymentForm="award-gold-topup-payment-form"}(e||(e={})),function(e){e.SelectionSheet="selection-sheet",e.Leaderboard="leaderboard",e.GoldPurchase="gold-purchase",e.GoldTopUp="gold-top-up"}(a||(a={})),Object.values(a),function(e){e.Limited="award:limited",e.Free="award:free",e.Community="award:community",e.Highlighted="award:highlighted",e.Iconic="award:iconic",e.Branded="award:branded"}(r||(r={})),{get A(){return a},get a(){return r}}}));
SML.dm("Cq3THF8r",["DN8NCGGW","DVMhF-xZ","DDco8exZ","HB6ZjwU1","CElIDZoh","DwsEu536","UKZKgKgp","Crs-BNcA","alT8rG4e"],(async(t,e,n,o,a,r,i,s)=>{var c;!function(t){t.Upvote="upvote",t.Downvote="downvote"}(c||(c={}));const u=({appearance:t,active:e})=>`group button flex justify-center aspect-square p-0 border-0 ${n.A[t]} ${!e&&"disabled:text-interactive-content-disabled"} ${e&&"secondary"===t?"":"button-plain"}  inline-flex items-center`,l=({size:n})=>({size:n===e.$.Small||n===e.$.ExtraSmall?t.I.Small:t.I.Medium}),d=({size:t})=>`flex mx-xs ${e.aa[t]}`,p=t=>{let e="bg-transparent text-global-white hover:text-global-white";switch(t){case c.Downvote:e+=" hover:bg-downvote-background-hover";break;case c.Upvote:e+=" hover:bg-upvote-background-hover"}return e},h=(t,e)=>"secondary"===e?{upvote:"bg-action-upvote text-global-white border-action-upvote ",downvote:"bg-action-downvote text-global-white border-action-downvote "}[t]:"",m={secondary:"bg-interactive-background-disabled text-[color:var(--color-button-secondary-text-disabled)] border-transparent",plain:"bg-[color:var(--color-button-plain-background-disabled)] text-[color:var(--color-button-plain-text-disabled)] border-transparent",bordered:"","plain-weak":"text-interactive-content-disabled"},v=({voteType:t,appearance:e})=>null==t?m[e]:"opacity-40 text-global-white";function b(t,e){return t.tags?.includes(e)}s.a.Limited,s.a.Community,s.a.Free;let g=class extends(e.e(t.s)){constructor(){super(...arguments),this.size=e.$.Medium,this.disabled=!1,this.count=0,this.hasEnteredViewport=!1,this.awardController=new o.A(this,{getThingId:()=>this.thingId,onAward:t=>{this.count++,this.isAwardedByUser=!0,t&&(this.awardId=t.id,this.iconUrl=t.staticIcon.url,this.hasIconicAward||(this.hasIconicAward=function(t){return b(t,s.a.Iconic)}(t)),this.hasBrandedAward||(this.hasBrandedAward=function(t){return b(t,s.a.Branded)}(t)))}}),this.handleEnterViewport=()=>{this.hasEnteredViewport=!0,this.observerController&&(this.observerController=e.v(this,this.observerController))},this.handleClick=()=>{const t=i.a.setCorrelationId(),e=i.a.setPostType(this.postType);this.trackEvent(r.o({awardId:this.awardId,thingId:this.thingId,subredditId:this.subredditId,postId:this.postId,topAwardIconUrl:this.iconUrl,animatedAwardIconUrls:this.iconUrls,correlationId:t,position:this.feedIndex,postType:e,postScore:this.postScore,score:this.score,numberComments:this.commentCount})),this.awardController.activateDialog()}}connectedCallback(){super.connectedCallback(),this.observerController=e.e1(this,this,this.handleEnterViewport,{rootMargin:"0px"})}disconnectedCallback(){super.disconnectedCallback(),this.observerController&&(this.observerController=e.v(this,this.observerController))}renderGlow(){return t.x`<span class="glow" style="${t.l(this.isAwardedByUser?"--fade-out: none":void 0)}"> ${Array.from({length:8}).map(((e,n)=>t.x`<span class="sunbeam" style="${t.r({"--n":n})}"></span>`))} </span>`}renderStream(){if(a.l())return t.A;const{iconUrls:e}=this;if(!e)return t.A;const n=[1,-1,0,-1],o=Number(e[0]===this.iconUrl);return t.x`<span class="stream"> ${Array.from({length:16}).map(((a,r)=>t.x`<img style="${t.r({"--n":r,"--offset":n[r%n.length]})}" src="${e[(r+o)%e.length]}" width="16" height="16" alt="">`))} </span>`}render(){if(!this.thingId)return t.A;const o=n.I[this.size],r=(this.hasIconicAward||this.hasBrandedAward)&&!this.noGoldenBorder;return n.c({appearance:this.appearance,attributes:{type:"button",className:a.k("overflow-visible",r&&"border-sm border-global-gold",this.buttonClass),disabled:this.disabled,onclick:this.handleClick,"aria-label":0===this.count?"Give award":e.c8({one:`Give award, ${this.count} award given`,other:`Give award, ${this.count} awards given`,count:this.count})},size:this.size,leadingIcon:this.iconUrl?t.x`<span class="${a.k("flex relative",this.disabled&&"opacity-25")}" aria-hidden="true"> ${this.hasEnteredViewport?this.renderGlow():t.A} ${this.hasEnteredViewport?this.renderStream():t.A} <img src="${this.iconUrl}" alt="" class="relative" width="${t.bi[o]}" height="${t.bi[o]}"> </span>`:t.bj({attributes:{"aria-hidden":"true"},size:o}),children:this.count?t.x`<faceplate-number number="${this.count}" pretty aria-hidden="true"></faceplate-number>`:this.withInitialStateText?t.x`<span aria-hidden="true">${"Award"}</span>`:void 0});}};g.styles=[e.t,e.m("@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes rotate-clockwise {\n  0% {\n    transform: rotate(45deg);\n  }\n  100% {\n    transform: rotate(135deg);\n  }\n}\n@keyframes sunbeam-even {\n  0% {\n    transform: scaleX(1) scaleY(1);\n  }\n  50% {\n    transform: scaleX(1.2) scaleY(1.3);\n  }\n  100% {\n    transform: scaleX(1) scaleY(1);\n  }\n}\n@keyframes sunbeam-odd {\n  0% {\n    transform: scaleX(1.2) scaleY(1.3);\n  }\n  50% {\n    transform: scaleX(1) scaleY(1);\n  }\n  100% {\n    transform: scaleX(1.2) scaleY(1.3);\n  }\n}\n.glow {\n  display: block;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 0;\n  height: 0;\n  perspective: 5em;\n  animation: 3s ease-out 1.5s both rotate-clockwise, 0.5s ease-in 1.5s backwards fade-in, var(--fade-out, 0.5s ease-out 5s reverse forwards fade-in);\n}\n.glow::before {\n  content: '';\n  display: block;\n  position: absolute;\n  left: -1em;\n  top: -1em;\n  background: radial-gradient(rgba(245, 214, 87, 0.9), rgba(245, 214, 87, 0) 50%);\n  width: 2em;\n  height: 2em;\n}\n.glow > .sunbeam {\n  display: block;\n  transform: rotate(calc(var(--n) * 45deg)) rotateX(-45deg);\n}\n.glow > .sunbeam::before {\n  content: '';\n  display: block;\n  background: no-repeat linear-gradient(rgba(245, 214, 87, 0.9), rgba(245, 214, 87, 0));\n  height: 1em;\n  width: 0.3em;\n  position: absolute;\n  transform: rotate(180deg) translateX(50%);\n  transform-origin: 50% 0px;\n  animation: 1.5s linear 1.5s 2 both sunbeam-even;\n  animation-composition: add;\n}\n.glow > .sunbeam:nth-child(odd)::before {\n  animation-name: sunbeam-odd;\n}\n"),e.m("@keyframes stream {\n  0% {\n    transform: scale(0);\n  }\n  20% {\n    transform: scale(1);\n    opacity: 1;\n  }\n  100% {\n    offset-distance: 100%;\n    opacity: 0;\n  }\n}\n.stream {\n  pointer-events: none;\n  position: absolute;\n  bottom: calc(100px + 50%);\n  left: 50%;\n}\n.stream > img {\n  animation: 2s ease-in both stream;\n  animation-delay: calc(var(--n) * 0.2s);\n  offset-path: path('M2.5,100 q-5,-10,0,-20 t 0-20 0-20 0-20 0-20');\n  offset-rotate: 0deg;\n  position: absolute;\n  translate: calc(var(--offset) * 8px);\n}\n")],t._([t.n({type:String})],g.prototype,"appearance",void 0),t._([t.n({type:String})],g.prototype,"size",void 0),t._([t.n({type:String,attribute:"button-class"})],g.prototype,"buttonClass",void 0),t._([t.n({type:Boolean,reflect:!0})],g.prototype,"disabled",void 0),t._([t.n({type:Boolean,attribute:"no-golden-border"})],g.prototype,"noGoldenBorder",void 0),t._([t.n({type:Boolean,attribute:"with-initial-state-text"})],g.prototype,"withInitialStateText",void 0),t._([t.n({type:Boolean,attribute:"is-logged-in"})],g.prototype,"isLoggedIn",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"is-awarded-by-user"})],g.prototype,"isAwardedByUser",void 0),t._([t.n({type:String,attribute:"thing-id"})],g.prototype,"thingId",void 0),t._([t.n({type:Number,attribute:"feed-index"})],g.prototype,"feedIndex",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],g.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"post-id"})],g.prototype,"postId",void 0),t._([t.n({type:String,attribute:"post-type"})],g.prototype,"postType",void 0),t._([t.n({type:Number,attribute:"post-score"})],g.prototype,"postScore",void 0),t._([t.n({type:Number})],g.prototype,"score",void 0),t._([t.n({type:Number,attribute:"comment-count"})],g.prototype,"commentCount",void 0),t._([t.n({type:Number,reflect:!0})],g.prototype,"count",void 0),t._([t.n({type:String,reflect:!0,attribute:"award-id"})],g.prototype,"awardId",void 0),t._([t.n({type:String,reflect:!0,attribute:"icon-url"})],g.prototype,"iconUrl",void 0),t._([t.n({type:Array,attribute:"icon-urls"})],g.prototype,"iconUrls",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"has-iconic-award"})],g.prototype,"hasIconicAward",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"has-branded-award"})],g.prototype,"hasBrandedAward",void 0),t._([t.b()],g.prototype,"hasEnteredViewport",void 0),g=t._([t.c("award-button")],g);var $;!function(t){t.Upvote="upvote",t.Downvote="downvote"}($||($={}));const N=t=>`group button flex justify-center p-0 border-0 ${n.A[t]} inline-flex items-center`,I=({size:n})=>({attributes:{classname:"rpl-vote-button-icon"},size:n===e.$.Small||n===e.$.ExtraSmall?t.I.Small:t.I.Medium}),w=({size:t})=>`flex mx-xs ${e.aa[t]}`;const f=(t,e)=>{if("post"===e){const e=t;return{ok:e.data?.updatePostVoteState?.ok,errors:e.data?.updatePostVoteState?.errors,voteStateResult:e.data?.updatePostVoteState?.voteState}}const n=t;return{ok:n.data?.updateCommentVoteState?.ok,errors:n.data?.updateCommentVoteState?.errors,voteStateResult:n.data?.updateCommentVoteState?.voteState}},T=(t,n,o)=>"post"===n?{operation:e.O.UpdatePostVoteState,variables:{input:{postId:t,voteState:o}}}:{operation:e.O.UpdateCommentVoteState,variables:{input:{commentId:t,voteState:o}}};return {get V(){return c},a:({attributes:o,voteType:a,upvoteButton:r,downvoteButton:i,size:s=e.$.Medium,appearance:c="plain"})=>{const{html:u,createElement:l}=t.g(),d=u`${r} ${(()=>{if("plain"===c)return"";const t=s===e.$.Small?"h-md":"h-[20px]";return u`<span class="rpl-vote-button-group-divider rounded-1 ms-[-2px] translate-x-px w-px ${t}"></span>`})()} ${i}`;return l("span",{...o,className:`\n      rpl-vote-button-group p-0 button-shell overflow-hidden font-semibold flex items-center cursor-auto\n      ${o?.className||""} \n      ${a??""}\n      ${n.g({size:s,appearance:c})}`,rpl:!0},d)},b:o=>{const{html:a,createElement:r}=t.g(),{appearance:i="plain",attributes:s,initialStateText:c,onClick:u,screenReaderContent:l,size:d=e.$.Medium,voteCount:p,voteType:h}=o,m=d===e.$.Small,v=h===$.Upvote,b=s?.href;return r(null!=b?"a":"button",{rpl:!0,upvote:!0,onclick:u,...s,className:`\n        ${s?.className||""} \n        rounded-none \n        ${m?"rounded-r-[8px]":"rounded-r-[12px]"}\n        ${N(i)}\n      `,style:`height: ${n.B[d]};`,"aria-pressed":v},a` <span class="${m?"ms-sm":"ms-md"} mr-[6px] ${w({size:d})}"> ${(v?t.bm:t.bn)(I({size:d}))} </span> ${l&&a`<faceplate-screen-reader-content> ${l||"Upvote"} </faceplate-screen-reader-content>`} ${null==p?c?a`<span class="rpl-vote-button-group-label ${"plain"===i?"pe-[3px]":"pe-[10px]"}">${c}</span>`:"":a`<span class="rpl-vote-button-group-label ${"plain"===i?"pe-[3px]":"pe-[10px]"}"> <faceplate-number number="${p}" pretty></faceplate-number> </span>`} `);},c:o=>{const{html:a,createElement:r}=t.g(),{appearance:i="plain",attributes:s,size:c=e.$.Medium,screenReaderContent:u,voteType:l,onClick:d}=o,p=c===e.$.Small,h=l===$.Downvote,m=s?.href;return r(null!=m?"a":"button",{rpl:!0,downvote:!0,...s,onclick:d,className:`\n        ${s?.className||""} \n        rounded-none\n        ${p?"rounded-l-[8px]":"rounded-l-[12px]"}\n        ${N(i)} \n      `,style:`height: ${n.B[c]};`,"aria-pressed":h},a`<span class="${p?"me-sm":"me-md"} ${"plain"===i?"ms-[3px]":"ms-xs"} ${w({size:c})}"> ${(h?t.bk:t.bl)(I({size:c}))} </span> ${u&&a`<faceplate-screen-reader-content> ${u||"Downvote"} </faceplate-screen-reader-content>`}`);},d:({attributes:o,size:a=e.$.Medium,appearance:r="plain",screenReaderContent:i,voteType:s,onClick:h})=>{const{html:m,createElement:v}=t.g(),b=null!=s,g=s===c.Downvote,$=u({appearance:r,active:b});return v("button",{rpl:!0,downvote:!0,...o,onclick:h,className:`${o?.className||""} ${$} ${{plain:g?"text-action-downvote":"hover:text-action-downvote focus-visible:text-action-downvote",secondary:b?p(s):"hover:text-action-downvote focus-visible:text-action-downvote",bordered:g?"text-action-downvote":"hover:text-action-downvote focus-visible:text-action-downvote","plain-weak":g?"text-action-downvote":"hover:text-action-downvote focus-visible:text-action-downvote"}[r]}`,style:`height: ${n.B[a]};`,"aria-pressed":g},m`<span class="${d({size:a})}"> ${(g?t.bk:t.bl)(l({size:a}))} </span> ${i&&m`<faceplate-screen-reader-content> ${i||"Downvote"} </faceplate-screen-reader-content>`}`);},g:function(t,e){return!t&&e===c.Upvote||t===c.Downvote&&e===c.Downvote?1:!t&&e===c.Downvote||t===c.Upvote&&e===c.Upvote?-1:t===c.Downvote&&e===c.Upvote?2:t===c.Upvote&&e===c.Downvote?-2:0},o:async function(t,n,o){let a=e.e2.None;o&&(a=o===c.Upvote?e.e2.Up:e.e2.Down);const r=await e.r(T(t,n,a)),{ok:i,errors:s,voteStateResult:u}=f(r,n);if(i){const t=u;if(t===e.e2.None)return;return t===e.e2.Up?c.Upvote:c.Downvote}if(s?.[0]){const t=s[0]?.message??"Something went wrong";throw new Error(t)}return o},u:({attributes:o,size:a=e.$.Medium,appearance:r="plain",screenReaderContent:i,voteType:s,onClick:h})=>{const{html:m,createElement:v}=t.g(),b=null!=s,g=s===c.Upvote,$=u({appearance:r,active:b});return v("button",{rpl:!0,upvote:!0,onclick:h,...o,className:`${o?.className||""} ${$} ${{plain:g?"text-action-upvote":"hover:text-action-upvote focus-visible:text-action-upvote",secondary:b?p(s):"hover:text-action-upvote focus-visible:text-action-upvote",bordered:g?"text-action-upvote":"hover:text-action-upvote focus-visible:text-action-upvote","plain-weak":g?"text-action-upvote":"hover:text-action-upvote focus-visible:text-action-upvote"}[r]}`,style:`height: ${n.B[a]};`,"aria-pressed":g},m`<span class="${d({size:a})}"> ${(g?t.bm:t.bn)(l({size:a}))} </span> ${i&&m`<faceplate-screen-reader-content> ${i||"Upvote"} </faceplate-screen-reader-content>`}`);},v:({attributes:o,voteCount:a,voteType:r,upvoteButton:i,downvoteButton:s,size:c=e.$.Medium,appearance:u="plain",initialStateText:l})=>{const{html:d,createElement:p}=t.g(),m=d`${i} ${null==a?l:d`<span> <faceplate-number number="${a}" pretty></faceplate-number> </span>`} ${s}`;return p("span",{...o,className:`${o?.className||""} ${r?h(r,u):""}\n      p-0 ${n.g({size:c,appearance:u,selected:!0})} button-shell overflow-visible font-semibold flex items-center cursor-auto ${o?.disabled?v({voteType:r,appearance:u}):""}`,rpl:!0},m)}};}));
SML.dm("n7_xJ6Wc",["DVMhF-xZ"],(async a=>{const e=a=>!!a&&!!a.startsWith("r/"),i=(i,n,r,o)=>a.b(i,{...(n ? {post:{id:n.startsWith("t3_")?n:`t3_${n}`,...(e(r) ? {subreddit_name:r} : {})}} : {}),...(e(r) ? {subreddit:{name:r}} : {}),...(o ? {ad_account:{id:o}} : {})});function n(e){const i=new URLSearchParams(a.dl.search),n=new URL(e,a.dl.origin);return i.forEach(((a,e)=>{n.searchParams.has(e)||n.searchParams.set(e,a)})),n.href}const r=()=>[{name:"United States of America",primaryLanguageCode:"en",isoCode:"US"},{name:"Afghanistan",primaryLanguageCode:"ps",isoCode:"AF"},{name:"Albania",primaryLanguageCode:"sq",isoCode:"AL"},{name:"Algeria",primaryLanguageCode:"ar",isoCode:"DZ"},{name:"American Samoa",primaryLanguageCode:"en",isoCode:"AS"},{name:"Andorra",primaryLanguageCode:"ca",isoCode:"AD"},{name:"Angola",primaryLanguageCode:"pt",isoCode:"AO"},{name:"Anguilla",primaryLanguageCode:"en",isoCode:"AI"},{name:"Antigua and Barbuda",primaryLanguageCode:"en",isoCode:"AG"},{name:"Argentina",primaryLanguageCode:"es",isoCode:"AR"},{name:"Armenia",primaryLanguageCode:"hy",isoCode:"AM"},{name:"Aruba",primaryLanguageCode:"nl",isoCode:"AW"},{name:"Australia",primaryLanguageCode:"en",isoCode:"AU"},{name:"Austria",primaryLanguageCode:"de",isoCode:"AT"},{name:"Azerbaijan",primaryLanguageCode:"az",isoCode:"AZ"},{name:"Bahamas",primaryLanguageCode:"en",isoCode:"BS"},{name:"Bahrain",primaryLanguageCode:"ar",isoCode:"BH"},{name:"Bangladesh",primaryLanguageCode:"bn",isoCode:"BD"},{name:"Barbados",primaryLanguageCode:"en",isoCode:"BB"},{name:"Belarus",primaryLanguageCode:"be",isoCode:"BY"},{name:"Belgium",primaryLanguageCode:"nl",isoCode:"BE"},{name:"Belize",primaryLanguageCode:"en",isoCode:"BZ"},{name:"Benin",primaryLanguageCode:"fr",isoCode:"BJ"},{name:"Bermuda",primaryLanguageCode:"en",isoCode:"BM"},{name:"Bhutan",primaryLanguageCode:"dz",isoCode:"BT"},{name:"Bolivia",primaryLanguageCode:"es",isoCode:"BO"},{name:"Bonaire, Sint Eustatius and Saba",primaryLanguageCode:"nl",isoCode:"BQ"},{name:"Bosnia and Herzegovina",primaryLanguageCode:"bs",isoCode:"BA"},{name:"Botswana",primaryLanguageCode:"en",isoCode:"BW"},{name:"Bouvet Island",primaryLanguageCode:"no",isoCode:"BV"},{name:"Brazil",primaryLanguageCode:"pt",isoCode:"BR"},{name:"British Indian Ocean Territory",primaryLanguageCode:"en",isoCode:"IO"},{name:"Brunei Darussalam",primaryLanguageCode:"ms",isoCode:"BN"},{name:"Bulgaria",primaryLanguageCode:"bg",isoCode:"BG"},{name:"Burkina Faso",primaryLanguageCode:"fr",isoCode:"BF"},{name:"Burundi",primaryLanguageCode:"fr",isoCode:"BI"},{name:"Cabo Verde",primaryLanguageCode:"pt",isoCode:"CV"},{name:"Cambodia",primaryLanguageCode:"km",isoCode:"KH"},{name:"Cameroon",primaryLanguageCode:"en",isoCode:"CM"},{name:"Canada",primaryLanguageCode:"en",isoCode:"CA"},{name:"Cayman Islands",primaryLanguageCode:"en",isoCode:"KY"},{name:"Central African Republic",primaryLanguageCode:"fr",isoCode:"CF"},{name:"Chad",primaryLanguageCode:"fr",isoCode:"TD"},{name:"Chile",primaryLanguageCode:"es",isoCode:"CL"},{name:"China",primaryLanguageCode:"zh",isoCode:"CN"},{name:"Christmas Island",primaryLanguageCode:"en",isoCode:"CX"},{name:"Cocos (Keeling) Islands",primaryLanguageCode:"en",isoCode:"CC"},{name:"Colombia",primaryLanguageCode:"es",isoCode:"CO"},{name:"Comoros",primaryLanguageCode:"fr",isoCode:"KM"},{name:"Congo",primaryLanguageCode:"fr",isoCode:"CG"},{name:"Congo (Democratic Republic of the)",primaryLanguageCode:"fr",isoCode:"CD"},{name:"Cook Islands",primaryLanguageCode:"en",isoCode:"CK"},{name:"Costa Rica",primaryLanguageCode:"es",isoCode:"CR"},{name:"Croatia",primaryLanguageCode:"hr",isoCode:"HR"},{name:"Cuba",primaryLanguageCode:"es",isoCode:"CU"},{name:"Curaçao",primaryLanguageCode:"nl",isoCode:"CW"},{name:"Cyprus",primaryLanguageCode:"tr",isoCode:"CY"},{name:"Czech Republic",primaryLanguageCode:"cs",isoCode:"CZ"},{name:"Côte d'Ivoire",primaryLanguageCode:"fr",isoCode:"CI"},{name:"Denmark",primaryLanguageCode:"da",isoCode:"DK"},{name:"Djibouti",primaryLanguageCode:"fr",isoCode:"DJ"},{name:"Dominica",primaryLanguageCode:"en",isoCode:"DM"},{name:"Dominican Republic",primaryLanguageCode:"es",isoCode:"DO"},{name:"Ecuador",primaryLanguageCode:"es",isoCode:"EC"},{name:"Egypt",primaryLanguageCode:"ar",isoCode:"EG"},{name:"El Salvador",primaryLanguageCode:"es",isoCode:"SV"},{name:"Equatorial Guinea",primaryLanguageCode:"es",isoCode:"GQ"},{name:"Eritrea",primaryLanguageCode:"en",isoCode:"ER"},{name:"Estonia",primaryLanguageCode:"et",isoCode:"EE"},{name:"Ethiopia",primaryLanguageCode:"am",isoCode:"ET"},{name:"Falkland Islands (Malvinas)",primaryLanguageCode:"en",isoCode:"FK"},{name:"Faroe Islands",primaryLanguageCode:"fo",isoCode:"FO"},{name:"Fiji",primaryLanguageCode:"en",isoCode:"FJ"},{name:"Finland",primaryLanguageCode:"fi",isoCode:"FI"},{name:"France",primaryLanguageCode:"fr",isoCode:"FR"},{name:"French Guiana",primaryLanguageCode:"fr",isoCode:"GF"},{name:"French Polynesia",primaryLanguageCode:"fr",isoCode:"PF"},{name:"French Southern Territories",primaryLanguageCode:"fr",isoCode:"TF"},{name:"Gabon",primaryLanguageCode:"fr",isoCode:"GA"},{name:"Gambia",primaryLanguageCode:"en",isoCode:"GM"},{name:"Georgia",primaryLanguageCode:"ka",isoCode:"GE"},{name:"Germany",primaryLanguageCode:"de",isoCode:"DE"},{name:"Ghana",primaryLanguageCode:"en",isoCode:"GH"},{name:"Gibraltar",primaryLanguageCode:"en",isoCode:"GI"},{name:"Greece",primaryLanguageCode:"el",isoCode:"GR"},{name:"Greenland",primaryLanguageCode:"kl",isoCode:"GL"},{name:"Grenada",primaryLanguageCode:"en",isoCode:"GD"},{name:"Guadeloupe",primaryLanguageCode:"fr",isoCode:"GP"},{name:"Guam",primaryLanguageCode:"en",isoCode:"GU"},{name:"Guatemala",primaryLanguageCode:"es",isoCode:"GT"},{name:"Guernsey",primaryLanguageCode:"en",isoCode:"GG"},{name:"Guinea",primaryLanguageCode:"fr",isoCode:"GN"},{name:"Guinea-Bissau",primaryLanguageCode:"pt",isoCode:"GW"},{name:"Guyana",primaryLanguageCode:"en",isoCode:"GY"},{name:"Haiti",primaryLanguageCode:"fr",isoCode:"HT"},{name:"Heard Island and McDonald Islands",primaryLanguageCode:"en",isoCode:"HM"},{name:"Holy See",primaryLanguageCode:"fr",isoCode:"VA"},{name:"Honduras",primaryLanguageCode:"es",isoCode:"HN"},{name:"Hong Kong",primaryLanguageCode:"en",isoCode:"HK"},{name:"Hungary",primaryLanguageCode:"hu",isoCode:"HU"},{name:"Iceland",primaryLanguageCode:"is",isoCode:"IS"},{name:"India",primaryLanguageCode:"hi",isoCode:"IN"},{name:"Indonesia",primaryLanguageCode:"id",isoCode:"ID"},{name:"Iran (Islamic Republic of)",primaryLanguageCode:"fa",isoCode:"IR"},{name:"Iraq",primaryLanguageCode:"ar",isoCode:"IQ"},{name:"Ireland",primaryLanguageCode:"ga",isoCode:"IE"},{name:"Isle of Man",primaryLanguageCode:"en",isoCode:"IM"},{name:"Israel",primaryLanguageCode:"he",isoCode:"IL"},{name:"Italy",primaryLanguageCode:"it",isoCode:"IT"},{name:"Jamaica",primaryLanguageCode:"en",isoCode:"JM"},{name:"Japan",primaryLanguageCode:"ja",isoCode:"JP"},{name:"Jersey",primaryLanguageCode:"en",isoCode:"JE"},{name:"Jordan",primaryLanguageCode:"ar",isoCode:"JO"},{name:"Kazakhstan",primaryLanguageCode:"kk",isoCode:"KZ"},{name:"Kenya",primaryLanguageCode:"en",isoCode:"KE"},{name:"Kiribati",primaryLanguageCode:"en",isoCode:"KI"},{name:"Korea (Democratic People's Republic of)",primaryLanguageCode:"ko",isoCode:"KP"},{name:"Korea (Republic of)",primaryLanguageCode:"ko",isoCode:"KR"},{name:"Kuwait",primaryLanguageCode:"ar",isoCode:"KW"},{name:"Kyrgyzstan",primaryLanguageCode:"ky",isoCode:"KG"},{name:"Lao People's Democratic Republic",primaryLanguageCode:"lo",isoCode:"LA"},{name:"Latvia",primaryLanguageCode:"lv",isoCode:"LV"},{name:"Lebanon",primaryLanguageCode:"ar",isoCode:"LB"},{name:"Lesotho",primaryLanguageCode:"en",isoCode:"LS"},{name:"Liberia",primaryLanguageCode:"en",isoCode:"LR"},{name:"Libya",primaryLanguageCode:"ar",isoCode:"LY"},{name:"Liechtenstein",primaryLanguageCode:"de",isoCode:"LI"},{name:"Lithuania",primaryLanguageCode:"lt",isoCode:"LT"},{name:"Luxembourg",primaryLanguageCode:"fr",isoCode:"LU"},{name:"Macao",primaryLanguageCode:"zh",isoCode:"MO"},{name:"Macedonia (the former Yugoslav Republic of)",primaryLanguageCode:"mk",isoCode:"MK"},{name:"Madagascar",primaryLanguageCode:"fr",isoCode:"MG"},{name:"Malawi",primaryLanguageCode:"en",isoCode:"MW"},{name:"Malaysia",primaryLanguageCode:"",isoCode:"MY"},{name:"Maldives",primaryLanguageCode:"dv",isoCode:"MV"},{name:"Mali",primaryLanguageCode:"fr",isoCode:"ML"},{name:"Malta",primaryLanguageCode:"mt",isoCode:"MT"},{name:"Marshall Islands",primaryLanguageCode:"en",isoCode:"MH"},{name:"Martinique",primaryLanguageCode:"fr",isoCode:"MQ"},{name:"Mauritania",primaryLanguageCode:"ar",isoCode:"MR"},{name:"Mauritius",primaryLanguageCode:"en",isoCode:"MU"},{name:"Mayotte",primaryLanguageCode:"fr",isoCode:"YT"},{name:"Mexico",primaryLanguageCode:"es",isoCode:"MX"},{name:"Micronesia (Federated States of)",primaryLanguageCode:"en",isoCode:"FM"},{name:"Moldova (Republic of)",primaryLanguageCode:"ro",isoCode:"MD"},{name:"Monaco",primaryLanguageCode:"fr",isoCode:"MC"},{name:"Mongolia",primaryLanguageCode:"mn",isoCode:"MN"},{name:"Montenegro",primaryLanguageCode:"sr",isoCode:"ME"},{name:"Montserrat",primaryLanguageCode:"en",isoCode:"MS"},{name:"Morocco",primaryLanguageCode:"ar",isoCode:"MA"},{name:"Mozambique",primaryLanguageCode:"pt",isoCode:"MZ"},{name:"Myanmar",primaryLanguageCode:"my",isoCode:"MM"},{name:"Namibia",primaryLanguageCode:"en",isoCode:"NA"},{name:"Nauru",primaryLanguageCode:"en",isoCode:"NR"},{name:"Nepal",primaryLanguageCode:"ne",isoCode:"NP"},{name:"Netherlands",primaryLanguageCode:"nl",isoCode:"NL"},{name:"New Caledonia",primaryLanguageCode:"fr",isoCode:"NC"},{name:"New Zealand",primaryLanguageCode:"en",isoCode:"NZ"},{name:"Nicaragua",primaryLanguageCode:"es",isoCode:"NI"},{name:"Niger",primaryLanguageCode:"fr",isoCode:"NE"},{name:"Nigeria",primaryLanguageCode:"en",isoCode:"NG"},{name:"Niue",primaryLanguageCode:"en",isoCode:"NU"},{name:"Norfolk Island",primaryLanguageCode:"en",isoCode:"NF"},{name:"Northern Mariana Islands",primaryLanguageCode:"en",isoCode:"MP"},{name:"Norway",primaryLanguageCode:"no",isoCode:"NO"},{name:"Oman",primaryLanguageCode:"ar",isoCode:"OM"},{name:"Pakistan",primaryLanguageCode:"en",isoCode:"PK"},{name:"Palau",primaryLanguageCode:"en",isoCode:"PW"},{name:"Palestine, State of",primaryLanguageCode:"ar",isoCode:"PS"},{name:"Panama",primaryLanguageCode:"es",isoCode:"PA"},{name:"Papua New Guinea",primaryLanguageCode:"en",isoCode:"PG"},{name:"Paraguay",primaryLanguageCode:"es",isoCode:"PY"},{name:"Peru",primaryLanguageCode:"es",isoCode:"PE"},{name:"Philippines",primaryLanguageCode:"en",isoCode:"PH"},{name:"Pitcairn",primaryLanguageCode:"en",isoCode:"PN"},{name:"Poland",primaryLanguageCode:"pl",isoCode:"PL"},{name:"Portugal",primaryLanguageCode:"pt",isoCode:"PT"},{name:"Puerto Rico",primaryLanguageCode:"es",isoCode:"PR"},{name:"Qatar",primaryLanguageCode:"ar",isoCode:"QA"},{name:"Republic of Kosovo",primaryLanguageCode:"sq",isoCode:"XK"},{name:"Romania",primaryLanguageCode:"ro",isoCode:"RO"},{name:"Russia",primaryLanguageCode:"ru",isoCode:"RU"},{name:"Rwanda",primaryLanguageCode:"rw",isoCode:"RW"},{name:"Réunion",primaryLanguageCode:"fr",isoCode:"RE"},{name:"Saint Barthélemy",primaryLanguageCode:"fr",isoCode:"BL"},{name:"Saint Helena, Ascension and Tristan da Cunha",primaryLanguageCode:"en",isoCode:"SH"},{name:"Saint Kitts and Nevis",primaryLanguageCode:"en",isoCode:"KN"},{name:"Saint Lucia",primaryLanguageCode:"en",isoCode:"LC"},{name:"Saint Martin (French part)",primaryLanguageCode:"en",isoCode:"MF"},{name:"Saint Pierre and Miquelon",primaryLanguageCode:"fr",isoCode:"PM"},{name:"Saint Vincent and the Grenadines",primaryLanguageCode:"en",isoCode:"VC"},{name:"Samoa",primaryLanguageCode:"sm",isoCode:"WS"},{name:"San Marino",primaryLanguageCode:"it",isoCode:"SM"},{name:"Sao Tome and Principe",primaryLanguageCode:"pt",isoCode:"ST"},{name:"Saudi Arabia",primaryLanguageCode:"ar",isoCode:"SA"},{name:"Senegal",primaryLanguageCode:"fr",isoCode:"SN"},{name:"Serbia",primaryLanguageCode:"sr",isoCode:"RS"},{name:"Seychelles",primaryLanguageCode:"fr",isoCode:"SC"},{name:"Sierra Leone",primaryLanguageCode:"en",isoCode:"SL"},{name:"Singapore",primaryLanguageCode:"en",isoCode:"SG"},{name:"Sint Maarten (Dutch part)",primaryLanguageCode:"nl",isoCode:"SX"},{name:"Slovakia",primaryLanguageCode:"sk",isoCode:"SK"},{name:"Slovenia",primaryLanguageCode:"sl",isoCode:"SI"},{name:"Solomon Islands",primaryLanguageCode:"en",isoCode:"SB"},{name:"Somalia",primaryLanguageCode:"ar",isoCode:"SO"},{name:"South Africa",primaryLanguageCode:"en",isoCode:"ZA"},{name:"South Georgia and the South Sandwich Islands",primaryLanguageCode:"en",isoCode:"GS"},{name:"South Sudan",primaryLanguageCode:"en",isoCode:"SS"},{name:"Spain",primaryLanguageCode:"es",isoCode:"ES"},{name:"Sri Lanka",primaryLanguageCode:"si",isoCode:"LK"},{name:"Sudan",primaryLanguageCode:"ar",isoCode:"SD"},{name:"Suriname",primaryLanguageCode:"nl",isoCode:"SR"},{name:"Svalbard and Jan Mayen",primaryLanguageCode:"no",isoCode:"SJ"},{name:"Swaziland",primaryLanguageCode:"en",isoCode:"SZ"},{name:"Sweden",primaryLanguageCode:"sv",isoCode:"SE"},{name:"Switzerland",primaryLanguageCode:"de",isoCode:"CH"},{name:"Syrian Arab Republic",primaryLanguageCode:"ar",isoCode:"SY"},{name:"Taiwan",primaryLanguageCode:"zh",isoCode:"TW"},{name:"Tajikistan",primaryLanguageCode:"tg",isoCode:"TJ"},{name:"Tanzania, United Republic of",primaryLanguageCode:"en",isoCode:"TZ"},{name:"Thailand",primaryLanguageCode:"th",isoCode:"TH"},{name:"Timor-Leste",primaryLanguageCode:"pt",isoCode:"TL"},{name:"Togo",primaryLanguageCode:"fr",isoCode:"TG"},{name:"Tokelau",primaryLanguageCode:"en",isoCode:"TK"},{name:"Tonga",primaryLanguageCode:"en",isoCode:"TO"},{name:"Trinidad and Tobago",primaryLanguageCode:"en",isoCode:"TT"},{name:"Tunisia",primaryLanguageCode:"ar",isoCode:"TN"},{name:"Turkey",primaryLanguageCode:"tr",isoCode:"TR"},{name:"Turkmenistan",primaryLanguageCode:"tk",isoCode:"TM"},{name:"Turks and Caicos Islands",primaryLanguageCode:"en",isoCode:"TC"},{name:"Tuvalu",primaryLanguageCode:"en",isoCode:"TV"},{name:"Uganda",primaryLanguageCode:"en",isoCode:"UG"},{name:"Ukraine",primaryLanguageCode:"uk",isoCode:"UA"},{name:"United Arab Emirates",primaryLanguageCode:"ar",isoCode:"AE"},{name:"United Kingdom of Great Britain and Northern Ireland",primaryLanguageCode:"en",isoCode:"GB"},{name:"United States Minor Outlying Islands",primaryLanguageCode:"en",isoCode:"UM"},{name:"Uruguay",primaryLanguageCode:"es",isoCode:"UY"},{name:"Uzbekistan",primaryLanguageCode:"uz",isoCode:"UZ"},{name:"Vanuatu",primaryLanguageCode:"en",isoCode:"VU"},{name:"Venezuela (Bolivarian Republic of)",primaryLanguageCode:"es",isoCode:"VE"},{name:"Vietnam",primaryLanguageCode:"vi",isoCode:"VN"},{name:"Virgin Islands (British)",primaryLanguageCode:"en",isoCode:"VG"},{name:"Virgin Islands (U.S.)",primaryLanguageCode:"en",isoCode:"VI"},{name:"Wallis and Futuna",primaryLanguageCode:"fr",isoCode:"WF"},{name:"Western Sahara",primaryLanguageCode:"es",isoCode:"EH"},{name:"Yemen",primaryLanguageCode:"ar",isoCode:"YE"},{name:"Zambia",primaryLanguageCode:"en",isoCode:"ZM"},{name:"Zimbabwe",primaryLanguageCode:"en",isoCode:"ZW"},{name:"Åland Islands",primaryLanguageCode:"sv",isoCode:"AX"}],o=(()=>{const a=r(),e={};return a.forEach((a=>{e[a.isoCode]=a})),e})();var s;!function(a){a.USD="USD",a.GBP="GBP",a.CAD="CAD",a.EUR="EUR",a.AUD="AUD",a.NZD="NZD"}(s||(s={}));const N=()=>[{isoCode:"AL",name:"Alabama"},{isoCode:"AK",name:"Alaska"},{isoCode:"AZ",name:"Arizona"},{isoCode:"AR",name:"Arkansas"},{isoCode:"CA",name:"California"},{isoCode:"CO",name:"Colorado"},{isoCode:"CT",name:"Connecticut"},{isoCode:"DC",name:"District of Columbia"},{isoCode:"DE",name:"Delaware"},{isoCode:"FL",name:"Florida"},{isoCode:"GA",name:"Georgia"},{isoCode:"HI",name:"Hawaii"},{isoCode:"ID",name:"Idaho"},{isoCode:"IL",name:"Illinois"},{isoCode:"IN",name:"Indiana"},{isoCode:"IA",name:"Iowa"},{isoCode:"KS",name:"Kansas"},{isoCode:"KY",name:"Kentucky"},{isoCode:"LA",name:"Louisiana"},{isoCode:"ME",name:"Maine"},{isoCode:"MD",name:"Maryland"},{isoCode:"MA",name:"Massachusetts"},{isoCode:"MI",name:"Michigan"},{isoCode:"MN",name:"Minnesota"},{isoCode:"MS",name:"Mississippi"},{isoCode:"MO",name:"Missouri"},{isoCode:"MT",name:"Montana"},{isoCode:"NE",name:"Nebraska"},{isoCode:"NV",name:"Nevada"},{isoCode:"NH",name:"New Hampshire"},{isoCode:"NJ",name:"New Jersey"},{isoCode:"NM",name:"New Mexico"},{isoCode:"NY",name:"New York"},{isoCode:"NC",name:"North Carolina"},{isoCode:"ND",name:"North Dakota"},{isoCode:"OH",name:"Ohio"},{isoCode:"OK",name:"Oklahoma"},{isoCode:"OR",name:"Oregon"},{isoCode:"PA",name:"Pennsylvania"},{isoCode:"RI",name:"Rhode Island"},{isoCode:"SC",name:"South Carolina"},{isoCode:"SD",name:"South Dakota"},{isoCode:"TN",name:"Tennessee"},{isoCode:"TX",name:"Texas"},{isoCode:"UT",name:"Utah"},{isoCode:"VT",name:"Vermont"},{isoCode:"VA",name:"Virginia"},{isoCode:"WA",name:"Washington"},{isoCode:"WV",name:"West Virginia"},{isoCode:"WI",name:"Wisconsin"},{isoCode:"WY",name:"Wyoming"}],t=(()=>{const a=N(),e={};return a.forEach((a=>{e[a.isoCode]=a})),e})();return {a:(a,e,{postId:n,subredditName:r,adAccountId:o}={})=>i({source:"boost_post_page",action:a,noun:e},n,r,o),b:i,c:r,d:o,e:t,f:()=>[{label:"USD $",value:s.USD},{label:"AUD $",value:s.AUD},{label:"CAD $",value:s.CAD},{label:"EUR €",value:s.EUR},{label:"GBP £",value:s.GBP},{label:"NZD $",value:s.NZD}],g:a=>({[s.USD]:"USD $",[s.AUD]:"AUD $",[s.CAD]:"CAD $",[s.EUR]:"EUR €",[s.GBP]:"GBP £",[s.NZD]:"NZD $"}[a]),p:n,s:N,v:function(e){const i=n(`/boost-post/${e.startsWith("t3_")?e.slice(3):e}`);a.dl.assign(i)}};}));
SML.dm("CVyy3FXR",["DN8NCGGW","DVMhF-xZ","DDco8exZ","n7_xJ6Wc","zIj5u43D"],(async(t,e,o,s,r)=>{let a=class extends t.s{constructor(){super(...arguments),this.postId="",this.subredditName="",this.isLoaded=!1,this._getPageType=e.B,this.handleClick=()=>{s.v(this.postId),e.a(this,s.b({source:"post",action:"click",noun:"promote_button"},this.postId,this.subredditName))}}static get styles(){return[e.t]}async connectedCallback(){super.connectedCallback?.(),e.a(this,s.b({source:"post",action:"view",noun:"promote_button"},this.postId,this.subredditName)),this.isLoaded=!0}createRenderRoot(){return this}render(){let s;const a=this._getPageType();return a&&r.i(a)&&(s="Promote"),t.x`<span class="relative flex justify-end"> ${o.c({appearance:"secondary",leadingIcon:t.E({size:o.I[e.$.Small],attributes:{className:"icon-promote-post","aria-hidden":"true"}}),attributes:{name:"promote-post-button","data-post-click-location":e.a9.PROMOTE_POST_BUTTON,onclick:this.handleClick,className:"me-0 ps-[6px] pe-[6px] ms-[6px] flex-shrink-0",disabled:!this.isLoaded},size:e.$.Small,screenReaderContent:"Promote Post",children:s})} </span>`;}};t._([t.n({attribute:"post-id"})],a.prototype,"postId",void 0),t._([t.n({attribute:"subreddit-name"})],a.prototype,"subredditName",void 0),t._([t.b()],a.prototype,"isLoaded",void 0),a=t._([t.c("promote-post-button")],a)}));
SML.dm("DzVf0Tj3",["zIj5u43D","DVMhF-xZ","CVyy3FXR","DN8NCGGW","n7_xJ6Wc","DDco8exZ"],(async(t,E)=>{var r;!function(t){t[t.ShredditPost=0]="ShredditPost",t[t.PostStats=1]="PostStats",t[t.PostStatsEntryPoint=2]="PostStatsEntryPoint"}(r||(r={}));const o=new Map([[r.PostStats,[E.ab.ProfilePerformance]],[r.PostStatsEntryPoint,t.k]]);let s;const T=()=>{if(!s){const t=new Map;for(const[E,r]of o.entries())for(const o of r)t.set(o,E);s=t}return s};return{get P(){return r},g:t=>{if(t){const E=T().get(t);if(E)return E}return r.ShredditPost}}}));
SML.dm("BUEZgCCR",["DVMhF-xZ"],(async t=>{var o;!function(t){t.MULTILINGUAL_ON="multilingual_on",t.ACCOUNT_AGE="account_age",t.BACKEND="backend",t.DEFAULT_OFF="default_off",t.REGULAR_SEO="regular_seo",t.MT_SEO="mt_seo"}(o||(o={}));const n="on",e="off",s="initiated",a="see_translation",i="see_original",r=t=>!1===t.isEligibleForImmersive?s:t.isImmersiveTranslationsActive?n:e,c=t=>("isPostTranslatedAfterClick"in t?t.isPostTranslatedAfterClick:t.isCommentTranslatedAfterClick)?a:i;return{get T(){return o},a:o=>t.b({source:"translate_button",action:"view",noun:"comment_composer"},{action_info:{reason:"on"},...o?{comment:{id:o}}:{}}),b:o=>{const n=o?{post:{id:o}}:{};return t.b({source:"translate_button",action:"view",noun:"post_composer"},{action_info:{reason:"on"},...n})},c:(o,n)=>t.b({source:"translate_button",action:"click",noun:"comment_composer"},{action_info:{reason:o?"on":"off"},...n?{comment:{id:n}}:{}}),d:(o,n)=>{const e=n?{post:{id:n}}:{};return t.b({source:"translate_button",action:"click",noun:"post_composer"},{action_info:{reason:o?"on":"off"},...e})},e:o=>t.b({source:"translate_button",action:"dismiss",noun:"translation_intervention"},{action_info:{reason:r(o)},comment:{...o.comment},post:o.post}),f:o=>t.b({source:"translate_button",action:"click",noun:"translation_intervention"},{action_info:{reason:r(o),type:o.actionType},comment:{...o.comment},post:o.post}),g:()=>t.b({source:"translate_button",action:"hide",noun:"comment_composer"}),h:()=>t.b({source:"translate_button",action:"hide",noun:"post_composer"}),i:o=>t.b({source:"translate_button",action:"view",noun:"post_banner"},{action_info:{reason:r(o)},post:{...o.post,translation_state:o.isPostTranslated}}),j:o=>t.b({source:"translate_button",action:"click",noun:"post_banner"},{action_info:{reason:r(o),type:c(o)},post:{...o.post,translation_state:o.isPostTranslated}}),k:o=>t.b({source:"translate_button",action:"dismiss",noun:"post_banner"},{action_info:{reason:r(o)},post:{...o.post,translation_state:o.isPostTranslated}}),l:o=>t.b({source:"translate_button",action:"dismiss",noun:"survey"},{post:o?.post,comment:o?.comment}),m:o=>t.b({source:"translate_button",action:"view",noun:"survey"},{post:o?.post,comment:o?.comment}),n:o=>t.b({source:"translate_button",action:"submit",noun:"survey"},{action_info:{reason:o.reason},post:o.post,comment:o.comment,survey:{text:o.survey_text}}),o:(o,n)=>t.b({source:"translate_button",action:"click",noun:"toggle"},{action_info:{reason:o?"off":"on"},translation_metrics:{translation_setting_state:o?"off":"on",target_language:n}}),p:o=>t.b({source:"translate_button",action:"enabled",noun:"status"},{action_info:{reason:o}}),q:o=>t.b({source:"translate_button",action:"disabled",noun:"status"},{action_info:{reason:o}}),r:o=>t.b({source:"overflow_menu",action:"click",noun:"translate_survey"},{post:o?.post,comment:o?.comment}),s:o=>t.b({source:"overflow_menu",action:"click",noun:"translate_post"},{action_info:{reason:r(o),type:c(o)},post:{...o.post,translation_state:o.isPostTranslated}}),t:(o,n)=>t.b({source:"translate_button",action:"submit",noun:"post_composer"},{action_info:{reason:o?"on":"off"},...n?{post:{id:n.id,subreddit_id:n.subredditId,subreddit_name:n.subredditPrefixedName,url:n.permalink}}:{}}),u:o=>t.b({source:"overflow_menu",action:"view",noun:"translate_post"},{action_info:{reason:r(o)},post:{...o.post,translation_state:o.isPostTranslated}}),v:(o,n,e)=>t.b({source:"translate_button",action:"submit",noun:"comment_composer"},{action_info:{reason:o?"on":"off"},...n?{post:{id:n.id,language:n.postLanguage,subreddit_id:n.subredditId,subreddit_name:n.subredditPrefixedName,type:n.postType,url:n.permalink}}:{},...e?{comment:{id:e}}:{}}),w:o=>t.b({source:"overflow_menu",action:"click",noun:"translate_comment"},{action_info:{reason:r(o),type:c(o)},comment:{...o.comment,translation_state:o.isCommentTranslated},post:o.post}),x:o=>t.b({source:"overflow_menu",action:"view",noun:"translate_comment"},{action_info:{reason:r(o)},comment:{...o.comment,translation_state:o.isCommentTranslated},post:o.post})}}));
SML.dm("BISnLNzF",["DN8NCGGW","DVMhF-xZ","BUEZgCCR","Ch8njlGJ","D-ZUgI2b"],(async(t,e,a)=>{const i=t.s,n="translation-intervention-modal",{I18nPostTranslationOverride:s,I18nCommentTranslationOverride:o}=e.T,r=()=>!!e.l.getItem(e.L.I18nTranslationInterventionShown),l=()=>e.l.setItem(e.L.I18nTranslationInterventionShown,"true");let d=class extends i{constructor(){super(...arguments),this.translationContextValue=e.aw,this.open=!1,this.pubsub=new e.P(this),this.handleTranslationOverride=t=>{t.isContextUpdateEvent||r()||this.open||(this.translationOverrideActive=t.isTranslationActive,this.translationSourceId=t.id,this.show())},this.show=()=>{r()||(this.open=!0,this.modal?.showModal(),l())},this.close=()=>{this.translationOverrideActive=void 0,this.translationSourceId=void 0,this.open&&(this.modal?.close(),this.open=!1,this.dispatchEvent(new CustomEvent("translation-intervention-modal:close",{bubbles:!0,composed:!0})))},this.getThingTelemetryMetadata=()=>({post:"post"===this.mode?{id:this.translationSourceId,translation_state:!!this.translationOverrideActive}:"mtseo-post"===this.mode?{id:this.translationSourceId}:void 0,comment:"comment"===this.mode?{id:this.translationSourceId,translation_state:!!this.translationOverrideActive}:void 0}),this.handleDismiss=()=>{e.a(this,a.e({isImmersiveTranslationsActive:!!this.translationContextValue.isTranslationActive,isImmersiveVisit:this.isImmersiveVisit,...this.getThingTelemetryMetadata()})),this.close()},this.handleClick=t=>{e.a(this,a.f({actionType:t,isImmersiveTranslationsActive:"keep"===t?!!this.translationContextValue.isTranslationActive:!this.translationContextValue.isTranslationActive,isImmersiveVisit:this.isImmersiveVisit,...this.getThingTelemetryMetadata()})),"keep"===t?this.close():this.handleSubmit()},this.handleSubmit=()=>{"mtseo-post"===this.mode&&e.l.setItem(e.L.I18nTranslationInterventionShown,"mtseo-disabled");const t=this.translationOverrideActive;this.dispatchContextUpdateEvent(t),this.close()}}connectedCallback(){super.connectedCallback(),r()||("post"===this.mode&&this.pubsub.subscribe(s,this.handleTranslationOverride,!1),"comment"===this.mode&&this.pubsub.subscribe(o,this.handleTranslationOverride,!1))}dispatchContextUpdateEvent(t){const a=new CustomEvent("update-translation-context",{bubbles:!0,composed:!0,detail:{...this.translationContextValue,isTranslationActive:t}});this.dispatchEvent(a),this.pubsub.publish(e.T.I18nPostTranslationOverride,{isTranslationActive:t,id:"",isContextUpdateEvent:!0,pageType:"feed"===this.pageType?"FEED":"PDP"})}render(){const a=this.translationOverrideActive?{body:"It looks like you know another language. Would you like all your content automatically translated?",confirmButton:"Continue Without Translations",cancelButton:"Turn On Translations"}:{body:"It looks like you know another language. Would you like to keep automatic translations turned on?",confirmButton:"Continue With Translations",cancelButton:"Turn off Translations"};return t.x` <faceplate-modal blocking ?open="${this.open}" class="${n} w-[350px] m:w-[320px] h-fit z-10"> <div slot="title" class="w-full m:w-fit"> <h3 class="my-0 font-bold inline-flex text-18" data-testid="i18n-modal-title"> ${"Update translations on Reddit"} </h3> </div> <div slot="closeButton" class="flex items-center"> ${e.n({attributes:{"aria-label":"Close","data-testid":"i18n-modal-close-button",onclick:this.handleDismiss},appearance:"secondary",leadingIcon:t.m({size:t.I.Small}),size:e.$.Small})} </div> <div class="flex flex-col w-full box-border"> <span class="text-16 my-lg text-pretty">${a.body}</span> <div class="flex flex-col w-full items-stretch gap-xs"> ${e.n({appearance:"primary",size:e.$.Large,shape:"pill",attributes:{className:"flex box-border w-full","data-testid":"i18n-modal-confirm-button",onclick:this.handleClick.bind(this,"keep")},children:t.x`<span class="font-semibold text-14">${a.confirmButton}</span>`})} ${e.n({appearance:"secondary",size:e.$.Large,shape:"pill",attributes:{className:"flex box-border w-full","data-testid":"i18n-modal-cancel-button",onclick:this.handleClick.bind(this,"change")},children:t.x`<span class="font-semibold text-14">${a.cancelButton}</span>`})} </div> </div> </faceplate-modal> `;}};d.styles=[e.t],t._([e.av({context:e.ax,subscribe:!0}),t.b()],d.prototype,"translationContextValue",void 0),t._([t.n({type:String,attribute:"mode"})],d.prototype,"mode",void 0),t._([t.n({type:Boolean,attribute:"open"})],d.prototype,"open",void 0),t._([t.n({type:String,attribute:"page-type"})],d.prototype,"pageType",void 0),t._([t.n({type:Boolean,attribute:"is-immersive-visit"})],d.prototype,"isImmersiveVisit",void 0),t._([t.b()],d.prototype,"translationOverrideActive",void 0),t._([t.b()],d.prototype,"translationSourceId",void 0),t._([t.w(`faceplate-modal.${n}`)],d.prototype,"modal",void 0),d=t._([t.c("translation-intervention-modal")],d)}));
SML.dm("DmzQCwyH",["DVMhF-xZ"],(async e=>{const o={source:"post",action:"click",noun:"ad"},n="client_ad",t={[e.bM.IMPRESSION]:{source:n,action:"view",noun:"ad"},[e.bM.CLICK]:{source:n,action:"click",noun:"ad"},[e.bM.VIDEO_VIEWABLE_IMPRESSION]:{source:n,action:"view",noun:"video"},[e.bM.VIDEO_VIEWABLE_WATCHED_6_SECS]:{source:n,action:"view",noun:"video"},[e.bM.VIDEO_VIEWABLE_WATCHED_15_SECS]:{source:n,action:"view",noun:"video"},[e.bM.GROUP_M_VIEWABLE]:{source:n,action:"group_m_viewable",noun:"ad"},[e.bM.COMMENTS_VIEW]:{source:n,action:"view",noun:"comments"},[e.bM.UPVOTE]:{source:n,action:"upvote",noun:"ad"},[e.bM.DOWNVOTE]:{source:n,action:"downvote",noun:"ad"},[e.bM.COMMENT]:{source:n,action:"submit",noun:"comment"},[e.bM.COMMENT_UPVOTE]:{source:n,action:"upvote",noun:"comment"},[e.bM.COMMENT_DOWNVOTE]:{source:n,action:"downvote",noun:"comment"},[e.bM.VIDEO_FULLY_VIEWABLE_IMPRESSION]:{source:n,action:"fully_view",noun:"video"},[e.bM.VIDEO_PLAYED_WITH_SOUND]:{source:n,action:"watch_with_sound",noun:"video"},[e.bM.VIDEO_PLAYED_EXPANDED]:{source:n,action:"watch_expanded",noun:"video"},[e.bM.VIDEO_GROUP_M_VIEWABLE]:{source:n,action:"watch_group_m",noun:"video"},[e.bM.VIDEO_WATCHED_25]:{source:n,action:"watch_percentage",noun:"video"},[e.bM.VIDEO_WATCHED_50]:{source:n,action:"watch_percentage",noun:"video"},[e.bM.VIDEO_WATCHED_75]:{source:n,action:"watch_percentage",noun:"video"},[e.bM.VIDEO_WATCHED_95]:{source:n,action:"watch_percentage",noun:"video"},[e.bM.VIDEO_WATCHED_100]:{source:n,action:"watch_percentage",noun:"video"},[e.bM.VIDEO_STARTED]:{source:n,action:"watch_percentage",noun:"video"},[e.bM.VIDEO_WATCHED_3_SECS]:{source:n,action:"watch_seconds",noun:"video"},[e.bM.VIDEO_WATCHED_5_SECS]:{source:n,action:"watch_seconds",noun:"video"},[e.bM.VIDEO_WATCHED_10_SECS]:{source:n,action:"watch_seconds",noun:"video"},[e.bM.VENDOR_FULLY_IN_VIEW]:{source:n,action:"vendor_fully_in_view",noun:"ad"},[e.bM.VENDOR_FULLY_IN_VIEW_5_SECS]:{source:n,action:"vendor_fully_in_view",noun:"ad"},[e.bM.VENDOR_FULLY_IN_VIEW_15_SECS]:{source:n,action:"vendor_fully_in_view",noun:"ad"},[e.bM.VIEWABLE_IMPRESSION]:{source:n,action:"viewable",noun:"ad"},[e.bM.UNLOAD]:{source:n,action:"unload",noun:"ad"},[e.bM.GALLERY_ITEM_IMPRESSION]:{source:n,action:"view",noun:"gallery_item"},[e.bM.ENGAGED_CLICK]:{source:n,action:"engaged_click",noun:"ad"},[e.bM.PRODUCT_IMPRESSION]:{source:n,action:"view",noun:"product"},[e.bM.PRODUCT_CLICK]:{source:n,action:"click",noun:"product"},[e.bM.LEAD_GENERATION]:{source:n,action:"submit",noun:"lead"}},c=o=>o.placement===e.dn.FEED,i=o=>o.placement===e.dn.COMMENTS_PAGE||o.placement===e.dn.COMMENT_TREES,a=({post:o,placement:n})=>o&&i(o)&&o.isPdpCombined?e.dn.COMMENTS_PAGE:n||o?.placement,d=({postId:n,adMedia:t,impressionId:i,post:d,clickLocation:s=e.A.UNKNOWN,galleryIndex:u,page_request_id:_,placement:r})=>{const E={post:{id:n,subreddit_id:d?.subredditId,author_id:d?.authorId,promoted:!0},ad_click:{location:s},ad_metadata:{impression_id:i,placement:a({post:d,placement:r})},feed:e.gj(),action_info:{page_request_id:_}};return d&&c(d)&&(E.action_info||(E.action_info={}),E.action_info.position=d.feedIndex,E.screen||(E.screen={}),E.screen={},E.screen.view_type=e.gk(d.viewType)),d?.galleryItems&&(E.gallery={position:u,num_items:d.galleryItems.length}),d?.countryCode&&(E.geo={country_code:d.countryCode}),t&&(E.media={height:Math.round(t?.height),width:Math.round(t?.width)}),e.b(o,E)},s=e=>{const o=e.closest("shreddit-ad-post")||e.closest("shreddit-comments-page-ad")||e.closest("ad-event-tracker")||e.closest("shreddit-sidebar-ad");if(o)return o;{const o=e.getRootNode(),n=o instanceof ShadowRoot?o.host:null;return"SHREDDIT-SIDEBAR-AD"===n?.tagName||"SHREDDIT-COMMENTS-PAGE-AD"===n?.tagName?n:null}};return{A:"ad-engaged-click",B:"brand-unsafe-post-view",H:"hide-btf-sidebar-ad",L:"lead-gen-submission",P:t,S:"show-btf-sidebar-ad",a:function({el:o,outboundUrl:n,clickLocation:t,galleryIndex:c}){const i=s(o),a=i?.placement||("placement"in o?o.placement:void 0),d=i?.id||o?.id||("postId"in o?o?.postId:""),u=i?.impressionId||("impressionId"in o?o?.impressionId:""),_=e.c("observe-ad-click",{postId:d,impressionId:u,outboundUrl:n,galleryIndex:c,clickLocation:t});o.dispatchEvent(_),e.l.isAvailable()&&(e.l.setItem(e.L.LastClickedAdId,d),e.l.setItem(e.L.ImpressionId,u),e.l.setItem(e.L.AdPlacement,a||""))},b:a,c:i,d:{source:"post",action:"view",noun:"ad"},g:s,i:c,t:function({el:o,clickLocation:n,galleryIndex:t}){try{const c=s(o),i=c?.placement||("placement"in o?o?.placement:void 0),a=c?.postId||("postId"in o?o?.postId:""),u=c?.impressionId||("impressionId"in o?o?.impressionId:""),_=c?c.querySelector(`[click-location=${e.A.MEDIA}]`):o.querySelector(`[click-location=${e.A.MEDIA}]`);let r;_&&(r=_.getBoundingClientRect());const E=e.ci(),l=e.c("track-event",{details:d({postId:a,impressionId:u,post:c,adMedia:r,clickLocation:n,galleryIndex:t||0,page_request_id:E,placement:i})});o.dispatchEvent(l)}catch(e){const o="Sentry"in window?window.Sentry:void 0;o?.captureException&&(e.message&&(e.message=`post/click/ad exception: ${e.message}`),o.captureException(e))}}}}));
SML.dm("DULVOd5i",["DVMhF-xZ"],(async e=>{const a="devplatform",r=a=>{switch(a){case e.ab.PostDetail:return"pdp";case e.ab.Profile:return"profile";case e.ab.Community:return"subreddit";case e.ab.Embed:return"embed";case e.ab.Home:case e.ab.Popular:case e.ab.All:case e.ab.CustomFeed:case e.ab.GeoCuratedFeed:case e.ab.UserPosts:case e.ab.ModQueue:case e.ab.ModQueueAll:case e.ab.SearchResults:return"feed";default:return""}};var t;!function(e){e.all="all",e.arena="arena",e.conversation="conversation",e.custom="custom",e.embed="embed",e.home="home",e.modQueue="mod_queue",e.modQueueAll="mod_queue_all",e.news="news",e.popular="popular",e.profile="profile",e.promotedSearchTrend="promoted_search_trend",e.read="read",e.search="search",e.subreddit="subreddit",e.user="user",e.watch="watch"}(t||(t={}));const s=a=>{switch(a){case e.ab.All:return t.all;case e.ab.ArenaFeed:return t.arena;case e.ab.Community:return t.subreddit;case e.ab.CustomFeed:case e.ab.GeoCuratedFeed:return t.custom;case e.ab.Embed:return t.embed;case e.ab.Home:return t.home;case e.ab.ModQueue:return t.modQueue;case e.ab.ModQueueAll:return t.modQueueAll;case e.ab.Popular:return t.popular;case e.ab.Profile:return t.profile;case e.ab.SearchResults:return t.search;case e.ab.UserPosts:return t.user;default:return""}};return{D:a,a:(e,a)=>{if(URL.canParse(e)){const r=new URL(e);return r.searchParams.set("entry_point",a),r.toString()}return e},c:e=>({source:a,action:e.action,noun:e.noun,devplatform_custom_post_info:{post_id:e.postId,subreddit_id:e.subredditId,block_type:e.blockType,presentation_context:e.pageType?r(e.pageType):"",feed_type:e.pageType?s(e.pageType):"",watermark:e.watermark,post_chrome:e.post_chrome},devplatform:{runtime:"web",installation_id:e.appInstallationId,app_id:e.appId,app_slug:e.appSlug,app_name:e.appSlug,app_version_number:e.appVersionNumber,public_api_version:e.appPublicApiVersion,internal_entry_point:e.internalEntryPoint||"",app_recommendation_criteria:e.appRecommendationCriteria||""},request:{user_agent:e.userAgent},post:e.post})}}));
SML.dm("Cz9KLIqG",["DN8NCGGW","DVMhF-xZ","CU4mObWU","CElIDZoh","ClGeIyf9"],(async(t,i,e,n,s)=>{var a;!function(t){t.PLAIN="plain",t.MEDIA="media"}(a||(a={}));const o=12;let r=class extends t.s{constructor(){super(...arguments),this.pages=0,this.pageIndex=0,this.appearance=a.PLAIN,this.animationDuration=0,this.containerLabel="",this.numVisible=2,this.centerIndexPosition=3,this.setTransitionDuration=async()=>{this._dotsContainer&&(await this.updateComplete,this._dotsContainer.style.setProperty("--pagination-transition-duration",`${this.animationDuration}ms`))},this.animateInfiniteCurrentPage=t=>{if(this._currentPageIndicator){const i=[{transform:t?`translateX(${o*this.pages}px)`:"translateX(-12px)",opacity:0},{opacity:0,transform:t?"translateX(-12px)":`translateX(${o*this.pages}px)`},{opacity:1,transform:t?"translateX(0px)":`translateX(${o*(this.pages-1)}px)`}],e={duration:this.animationDuration,fill:"forwards",iterations:1};this.setDotsTrackTransform(!t),this._currentPageIndicator.animate(i,e)}},this.animateCurrentPage=async()=>{this.setDotsTrackTransform(),this.animateCurrentPageNumber()},this.animateCurrentPageNumber=()=>{if(this._currentPageIndicator){const t=[{width:"var(--rem6)"},{width:"var(--rem18)",borderRadius:"4px"},{width:"var(--rem6)",transform:`translateX(${o*this.pageIndex}px)`}],i={duration:this.animationDuration,fill:"forwards",iterations:1};this._currentPageIndicator.animate(t,i)}},this.onSelect=t=>{const i=new CustomEvent("pagination-click",{detail:{pageIndex:t},bubbles:!0,composed:!0});this.dispatchEvent(i)},this.isEdgeDot=t=>{if(this.pages>=6){const i=t===this.pageIndex-3,e=t===this.pageIndex+3;return i||e}return!1},this.getDotButton=e=>{const n=Math.abs(e-this.pageIndex),s=t=>t===this.pageIndex?`(${this.currentPageLabel??"Current Page"})`:"",a=this.getPageLabels?`${this.getPageLabels(e)} ${s(e)}`:`Page ${e+1} ${s(e)}`,o=0===n||1===n;return t.x`<button class="${i.y({dot:!0,edge:this.isEdgeDot(e)})}" aria-hidden="${!o}" tabindex="${o?0:-1}" @click="${t=>{0===t.target.tabIndex&&this.onSelect(e)}}" @keydown="${t=>{"Enter"!==t.key&&"Space"!==t.key||this.onSelect(e)}}"> <faceplate-screen-reader-content>${a}</faceplate-screen-reader-content> </button>`},this.render=()=>{if(0!==this.pages)return t.x` <div id="dots-container" dir="ltr"> <div class="dots-track-container"> <div id="dots-track" role="group" aria-label="${this.containerLabel}"> ${this.currentPageIndicator} ${[...Array(this.pages).keys()].map(((t,i)=>this.getDotButton(i)))} </div> </div> </div> `}}static get styles(){return t.i`:host{display:inline-flex;height:var(--rem16,1rem);width:100%;justify-content:center}:host(:dir(rtl)){transform:scaleX(-1)}:host #dots-container{display:inline-flex;position:relative;height:100%;overflow:hidden;align-items:center;border-radius:var(--rem8,.5rem);padding:0 var(--rem2,.125rem);transition:width ease-in-out var(--pagination-transition-duration)}:host .dots-track-container{position:relative;height:100%;width:100%;display:flex;align-items:center}:host #dots-track{display:flex;position:absolute;inset-inline-start:0;height:var(--rem12,.75rem);overflow:hidden;box-sizing:border-box;font-size:var(--rem10,.625rem);align-items:center;transition:transform ease-in-out var(--pagination-transition-duration)}:host([appearance=media]) #dots-container{background-color:var(--color-media-background)}:host([appearance=media]) .dot{background-color:var(--color-media-onbackground-disabled)}:host .dot:focus-visible{outline:solid 1px var(--color-global-focus)}:host([appearance=media]) #current-page-indicator.number{color:var(--color-media-onbackground)}:host([appearance=media]) #current-page-indicator.dot{background-color:var(--color-media-onbackground)}:host #current-page-indicator{z-index:2;position:absolute}:host #current-page-indicator.number{color:var(--color-neutral-content);display:flex;align-items:center;justify-content:center;transition:transform ease-in-out var(--pagination-transition-duration)}:host #current-page-indicator.dot{background-color:var(--color-neutral-content)}:host .dot{height:var(--rem6,.375rem);width:var(--rem6,.375rem);border-radius:50%;box-sizing:content-box;display:inline-block;margin:calc(var(--rem2,.125rem) + var(--rem1,.0625rem));padding:0;border:none}:host #current-page-indicator.number{height:var(--rem15,.9375rem);width:var(--rem16,1rem);margin:0}:host .dot{background-color:var(--color-neutral-border);background-clip:content-box;transition:all ease-in-out var(--pagination-transition-duration)}:host .dot[tabindex='0']{cursor:pointer}:host .dot:focus{transition:none}:host .dot.edge{transform:scale(.5);flex-shrink:0}`}willUpdate(t){t.has("pageIndex")&&(this.pageIndex<0||this.pageIndex>this.pages-1)&&(this.pageIndex=0)}async updated(t){await this.updateComplete,(t.has("pageIndex")||t.has("pages"))&&this.shrinkOrStretch();const i=t.get("pageIndex")===this.pages-1&&0===this.pageIndex,e=0===t.get("pageIndex")&&this.pageIndex===this.pages-1;i||e?this.animateInfiniteCurrentPage(i):t.has("pageIndex")&&await this.animateCurrentPage(),t.has("animationDuration")&&this.setTransitionDuration()}shrinkOrStretch(){this.pages>=6?0===this.pageIndex||this.pageIndex===this.pages-1?this.numVisible=4:1===this.pageIndex||this.pageIndex===this.pages-2?this.numVisible=5:2===this.pageIndex||this.pageIndex===this.pages-3?this.numVisible=6:this.pageIndex>=3&&this.pageIndex<=this.pages-4&&(this.numVisible=7):this.numVisible=this.pages,this._dotsContainer&&(this._dotsContainer.style.width=`calc(var(--rem12, 0.75rem) * ${this.numVisible})`)}setDotsTrackTransform(t){const i=this.pageIndex-this.centerIndexPosition,e=i>0?i:0;if(this._dotsTrack){const i=`translateX(${o*e*-1}px)`;i!==this._dotsTrack.style.transform?this._dotsTrack.style.transform=i:t&&"translateX(0px)"!==this._dotsTrack.style.transform&&(this._dotsTrack.style.transform="translateX(0px)")}}get currentPageIndicator(){return t.x`<span id="current-page-indicator" class="dot" aria-hidden="true"></span>`}};t._([t.n({type:Number})],r.prototype,"pages",void 0),t._([t.n({type:Number,attribute:"page-index"})],r.prototype,"pageIndex",void 0),t._([t.n({type:String})],r.prototype,"appearance",void 0),t._([t.n({type:Number,attribute:"animation-duration"})],r.prototype,"animationDuration",void 0),t._([t.n({type:String,attribute:"current-page-label"})],r.prototype,"currentPageLabel",void 0),t._([t.n()],r.prototype,"getPageLabels",void 0),t._([t.n({type:String,attribute:"container-label"})],r.prototype,"containerLabel",void 0),t._([t.w("#dots-container")],r.prototype,"_dotsContainer",void 0),t._([t.w("#dots-track")],r.prototype,"_dotsTrack",void 0),t._([t.w("#current-page-indicator")],r.prototype,"_currentPageIndicator",void 0),t._([t.V(".dot")],r.prototype,"_dots",void 0),r=t._([t.c("faceplate-pagination-indicator")],r);let l=class extends t.s{constructor(){super(...arguments),this.appearance=a.PLAIN,this.autoplay=0,this.pages=0,this.pageIndex=0,this.isAnimationFinished=!1,this._currentAnimation=null,this.handleAutoplayInterruption=async t=>{this.cancelAnimation(t)},this.cancelAnimation=async t=>{const i=await this._autoplayPillContainer;if(i){const{children:e}=i;if(e[t]?.firstElementChild){const i=e[t]?.firstElementChild?.getAnimations().map((t=>(t.cancel(),t.ready)));i&&await Promise.all(i)}}},this.resetAnimations=async()=>{const t=await this._autoplayPillContainer;if(t){const{children:i}=t;for(let t=0;t<i.length;t++)this.cancelAnimation(t)}},this.animatePill=async()=>{this.isAnimationFinished=!1;try{await this.updateComplete,this._currentAnimation?.cancel();const t=[{backgroundColor:"var(--color-neutral-border-medium)",width:0,height:"var(--rem4)"},{backgroundColor:"var(--color-neutral-border-medium)",width:"100%",height:"var(--rem4)"}],i={duration:this.autoplay,fill:"forwards",iterations:1},{children:e}=await this._autoplayPillContainer,n=e?.[this.pageIndex]?.firstElementChild;this._currentAnimation=n?.animate(t,i),await(this._currentAnimation?.finished),this.isAnimationFinished=!0}catch(t){t instanceof DOMException&&"AbortError"===t.name||console.error(t)}},this.pauseAnimation=()=>{this._currentAnimation?.pause()},this.resumeAnimation=()=>{this._currentAnimation?.play()},this.render=()=>{if(0!==this.pages)return t.x` <div class="pagination-container"> <div class="${i.y({"pagination-controls":!0,plain:this.appearance===a.PLAIN,media:this.appearance===a.MEDIA,autoplay:this.autoplay})}"> <span id="autoplay-pill-container">${[...Array(this.pages).keys()].map(((e,n)=>t.x`<span class="${i.y({track:!0,"in-view":this.pageIndex===n})}"> <span class="${i.y({autoplayPill:!0,"in-view":this.pageIndex===n,viewed:n<this.pageIndex,plain:this.appearance===a.PLAIN,media:this.appearance===a.MEDIA})}"></span> </span>`))}</span> </div> </div> `}}static get styles(){return t.i`:host{display:block;box-sizing:border-box}.pagination-container{display:flex;justify-content:center}.track.in-view{height:var(--rem4,.25rem);border-radius:var(--rem2,.125rem)}.autoplayPill,.track{height:var(--rem2,.125rem);display:inline-block;border-radius:var(--rem2,.0625);width:100%}.autoplayPill{position:absolute}.track{background-color:var(--color-neutral-border);flex:1;margin:0 var(--rem2,.125rem);display:inline-block;position:relative}#autoplay-pill-container{display:flex;width:100%;align-items:center}.autoplayPill.viewed{background-color:var(--color-neutral-border-medium)}.pagination-controls.autoplay{width:90%}.pagination-controls.media.autoplay{position:absolute;bottom:var(--rem12,.75rem);z-index:2}.pagination-controls{display:flex;align-items:center;justify-content:center}.pagination-controls.plain .current-page-indicator{color:var(--color-media-onbackground)}.pagination-controls.media .current-page-indicator{color:var(--color-neutral-content)}`}updated(t){t.has("pageIndex")&&!this.isAnimationFinished&&this.handleAutoplayInterruption(t.get("pageIndex"))}};var h,d,c,p,u;t._([t.n({type:String,attribute:"appearance"})],l.prototype,"appearance",void 0),t._([t.n({type:Number})],l.prototype,"autoplay",void 0),t._([t.n({type:Number})],l.prototype,"pages",void 0),t._([t.n({type:Number,attribute:"page-index"})],l.prototype,"pageIndex",void 0),t._([t.b()],l.prototype,"isAnimationFinished",void 0),t._([t.bY("#autoplay-pill-container")],l.prototype,"_autoplayPillContainer",void 0),l=t._([t.c("faceplate-carousel-pagination")],l),function(t){t.OUTSIDE="outside",t.INSIDE="inside",t.OFF="off"}(h||(h={})),function(t){t.NEXT="next",t.BOTH="both",t.OFF="off"}(d||(d={})),function(t){t.INSIDE="inside",t.OUTSIDE="outside",t.OFF="off"}(c||(c={})),function(t){t.FORWARDS="forwards",t.BACKWARDS="backwards"}(p||(p={})),function(t){t.LEFT="left",t.CENTER="center",t.OFF="off"}(u||(u={}));let g=class extends t.s{constructor(){super(...arguments),this.navPlacement=c.OUTSIDE,this.paginationPlacement=h.OUTSIDE,this.autoplay="default",this.advanceAnimation=!1,this.numVisible=1,this.infinite=!1,this.inset=d.OFF,this.startIndex=0,this._pageIndex=0,this.pageCount=0,this.isCarouselInitialized=!1,this.hasBeenInteractedWith=!1,this._childCount=0,this._autoplayTimeoutId=null,this._isInsetBothAllowed=!1,this._lowerBoundOffset=0,this._upperBoundOffset=0,this._prevButtonHidden=!1,this._isNextButtonHidden=!1,this._gap=0,this._gapTotal=0,this._autoplayPaginationRef=i.aF(),this._carouselListRef=i.aF(),this._gesture=null,this.firstRender=!0,this.autoplayInProgress=!1,this.hidePrevButton=!1,this.hideNextButton=!1,this.emitter=n.v(this),this._animationStartTime=0,this._animationRemainingTime=0,this.generateAriaLiveMsg=({pageIndex:t,numVisible:i,pageCount:e})=>{const n=t*i+1;return i>1?`Items ${n} through ${n+i-1} of ${e}`:`Item ${n} of ${e}`},this.updated=async t=>{(t.has("numVisible")||t.has("infinite")||t.has("inset")||t.has("autoplay")||t.has("navPlacement")||t.has("paginationPlacement")||t.has("pageWidth"))&&((t.has("inset")||t.has("navPlacement"))&&(this.cachedDimensions=null),this.firstRender||this.resetAndInitialize()),(t.has("_pageIndex")||t.has("infinite"))&&this.toggleDisabledProgressButtons()},this.resetAndInitialize=()=>{this.resetCarousel(),this.initializeCarousel()},this.initializeResize=()=>{this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver((async()=>{if(!this.firstRender){this.cachedDimensions=null,await new Promise((t=>requestAnimationFrame(t)));const t=this.getCarouselDimensions();t&&await this.showFirstChild(t.width)}})),this.resizeObserver.observe(this)},this.intersectionCallback=t=>{t.forEach((t=>{t.target.style.visibility=t.isIntersecting?"visible":"hidden"}));const i=new CustomEvent("__TEST-ONLY_carousel-intersection");this.dispatchEvent(i)},this.initializeIntersectionObserver=()=>{if(this._intersectionObserver=new IntersectionObserver(this.intersectionCallback,{root:this._carouselListRef?.value}),this.carouselSlot.children)for(const t of Array.from(this.carouselSlot.children))this._intersectionObserver.observe(t)},this.onPaginationClick=t=>{this.goToPage(t.detail.pageIndex,!0)},this.initializeCarousel=()=>{if(this.isCarouselInitialized)return;const{children:t}=this.carouselSlot;this.setChildAndPageCount(t),this.handleAutoPlay(),this._isInsetBothAllowed=this._childCount>=3&&(this.inset===d.BOTH||this.alignment===u.CENTER),this.infinite&&this.cloneBoundElements({children:t});if(this.navPlacement===c.INSIDE&&this.paginationPlacement===h.INSIDE||!this.firstRender){const t=this.getCarouselDimensions();t&&this.showFirstChild(t.width)}this.firstRender=!1,this.isCarouselInitialized=!0,this.initListMutationObserver(),this.initializeVisibility(),this.initializeIntersectionObserver(),this.toggleDisabledProgressButtons(),this._paginationCounter?.[0]&&(this._paginationCounter[0].style.visibility=this.pageCount<=5?"hidden":"visible");const i=new CustomEvent("__TEST-ONLY_carousel-initialized");this.dispatchEvent(i)},this.showFirstChild=async t=>{!this.hasBeenInteractedWith&&this.startIndex&&(this._pageIndex=this.startIndex),await this.setChildDimensions(t),this.goToPage(this.pageIndex,!1);const i=new CustomEvent("__TEST-ONLY_carousel-children-ready",{bubbles:!0});this.dispatchEvent(i)},this.handleAutoPlay=async()=>{"off"===this.autoplay||isNaN(this._autoplaySpeed)||(this.autoplayInProgress&&this.clearAnimationTimeout(),this.autoplayInProgress=!0,(this.infinite||this._pageIndex<this.pageCount-1)&&(this._animationStartTime=Date.now(),this._autoplayPaginationRef?.value?.animatePill(),this._autoplayTimeoutId=setTimeout((async()=>{await this.slideForwards(),this.handleAutoPlay()}),this._autoplaySpeed)))},this.cachedDimensions=null,this.getCarouselDimensions=()=>{if(this.cachedDimensions)return this.cachedDimensions;const t=this._carouselListRef.value?.getBoundingClientRect();if(t){const{width:i}=t;return this.cachedDimensions={width:i,height:t.height},this.cachedDimensions}},this.calcChildWidth=t=>{if(this.pageWidth)return"string"==typeof this.pageWidth&&this.pageWidth.endsWith("%")?t*(parseInt(this.pageWidth)/100):this.pageWidth;let i=0;this._gapTotal=this._gap*(this.numVisible-1)||0,this.inset!==d.OFF&&(i=48*(this.inset===d.NEXT?1:2),this._gapTotal=this._gap*(this.inset===d.NEXT?this.numVisible:this.numVisible+1));return(t-this._gapTotal-i)/this.numVisible},this.setChildDimensions=async t=>{this._gap=parseInt(getComputedStyle(this.carouselSlot).getPropertyValue("gap"))||0;for(const i of Array.from(this.carouselSlot.children)){const{width:e}=i.getBoundingClientRect(),n=i;if(n.style.boxSizing="border-box",t){const i=this.calcChildWidth(t);i!==e&&(n.style.width="number"==typeof i?`${i}px`:i)}"100%"!==n.style.height&&(n.style.height="100%"),"hidden"!==n.style.overflow&&(n.style.overflow="hidden")}},this.prepareNextSlideVisibility=t=>{const i=this.carouselSlot.children.length;for(let e=t;e<Math.min(t+this.numVisible,i);e++)this.carouselSlot.children[e].style.visibility="visible"},this.handleTranslateXWithOffset=async({element:t,startIndex:i})=>{this.prepareNextSlideVisibility(i);let e="";const n=this.insetWidth(t);if(this._isInsetBothAllowed)switch(i){case 0:e="0px";break;case this.pageCount-1:e=this.isRTL?`calc(-1 * ${t.offsetLeft}px)`:`calc(-1 * (${t.offsetLeft}px - ${2*n}px - ${this._gap*this.numGaps}px))`;break;default:e=`calc(-1 * (${t.offsetLeft}px - ${n}px - ${this._gap}px))`}else{const i=getComputedStyle(this.carouselSlot),n=parseInt(i.paddingLeft||"0"),s=parseInt(i.paddingRight||"0"),a=this.carouselSlot.scrollWidth-(this.carouselSlot.clientWidth-s),o=t.offsetLeft===n?0:t.offsetLeft;e=-Math.min(o,a)+"px"}return this.carouselSlot.style.transform=`translateX(${e})`,await Promise.all(this.carouselSlot.getAnimations().map((t=>t.finished))).catch((t=>{t instanceof DOMException&&"AbortError"===t.name||console.error(t)}))},this.slideCarousel=async({isWithinBounds:t,direction:i,requestedIndex:e,allowAnimations:n,onSuccessfulSlide:s})=>{const{children:a}=this.carouselSlot,o=a.length,r=Math.max(1,Math.min(this.numVisible,o));let l=!1;if(this.firstRender||(this.carouselSlot.style.transitionDuration=`${n?this.animationDuration:0}ms`),t){let t=e*r+this._lowerBoundOffset;if(t+r>o){const i=e-1,n=t+r-o;t=Math.max(0,i*r+(r-n))}await this.handleTranslateXWithOffset({element:a[t],startIndex:t}),l=!0}else this.infinite&&(await this.handleInfiniteSlide({children:a,direction:i}),l=!0);l&&(this.hasBeenInteractedWith||(this.hasBeenInteractedWith=!0),s?.());const h=new CustomEvent("faceplate-carousel:slide",{detail:{prevPositionIndex:this._pageIndex,currPositionIndex:e,direction:i,num_items:this._childCount},bubbles:!0});this.dispatchEvent(h)},this.cloneBoundElements=({children:t})=>{let i=0;const e=this._childCount-1,n=this._isInsetBothAllowed?1:0;for(let i=0;i<this.numVisible+n;i++){const e=t[i]?.cloneNode(!0);e instanceof HTMLElement&&(e.dataset.fpUiCarouselMarker="true",e.id=Math.random().toString(16).slice(2),e.role="presentation",this.carouselSlot.append(e),++this._upperBoundOffset)}const s=this._isInsetBothAllowed?1:0;for(let n=0;n<this.numVisible+s;n++){const s=t[e-n+i++]?.cloneNode(!0);s instanceof HTMLElement&&(s.dataset.fpUiCarouselMarker="true",s.id=Math.random().toString(16).slice(2),s.role="presentation",this.carouselSlot.prepend(s),++this._lowerBoundOffset)}},this.handleInfiniteSlide=async({children:t,direction:i})=>{this.carouselSlot.style.transitionDuration="0s";let e=this._isInsetBothAllowed?1:0;i===p.BACKWARDS&&(e=t.length-this._upperBoundOffset),await this.handleTranslateXWithOffset({element:t[e],startIndex:e}),this.carouselSlot.style.transitionDuration=`${this.animationDuration}ms`;const n=i===p.BACKWARDS?e-this.numVisible:e+this.numVisible;await this.handleTranslateXWithOffset({element:t[n],startIndex:n})},this.setNavButtonVisibility=({type:t,hidden:i})=>{this.navPlacement!==c.OFF&&("next"===t?(this.hideNextButton=i,this._isNextButtonHidden=i):(this.hidePrevButton=i,this._prevButtonHidden=i))},this.toggleDisabledProgressButtons=()=>{if(!this.infinite){const t=0===this.pageIndex,i=this.pageIndex===Math.ceil(this._childCount/this.numVisible)-1,e=0===this._childCount;this.setNavButtonVisibility({type:"previous",hidden:e||t}),this.setNavButtonVisibility({type:"next",hidden:e||i})}},this.resetCarousel=()=>{this.resetChildren(),this.cancelAutoPlay(),this.resetDisabledProgressButtons(),this._pageIndex=0,this.pageCount=0,this.isCarouselInitialized=!1,this._isInsetBothAllowed=!1,this._lowerBoundOffset=0,this._upperBoundOffset=0;const t=new CustomEvent("__TEST-ONLY_carousel-reset");this.dispatchEvent(t)},this.resetChildren=()=>{const{children:t}=this.carouselSlot;let i=0;const e=t.length;for(let n=0;n<e;n++){const e=t[i];e instanceof HTMLElement&&e.dataset.fpUiCarouselMarker?e.remove():i++}},this.clearAnimationTimeout=t=>{"number"==typeof this._autoplayTimeoutId&&(window.clearTimeout(this._autoplayTimeoutId),this.autoplayInProgress=!1,t&&t())},this.cancelAutoPlay=()=>{this.clearAnimationTimeout(this._autoplayPaginationRef?.value?.resetAnimations)},this.onListItemKeydown=t=>{"ArrowLeft"===t.key?this.slideBackwards(t):"ArrowRight"===t.key&&this.slideForwards(t)},this.goToPage=(t,i)=>{if(t<0||t>=this.pageCount)return;let e=p.BACKWARDS;t>this._pageIndex&&(e=p.FORWARDS),this._pageIndex=t,this.slideCarousel({isWithinBounds:!0,direction:e,requestedIndex:t,allowAnimations:i})},this.swipeForwards=t=>{this.slideForwards(t),this.dispatchSwipeEvent(p.FORWARDS)},this.swipeBackwards=t=>{this.slideBackwards(t),this.dispatchSwipeEvent(p.BACKWARDS)},this.onInterruptedAutoplay=async t=>{await t(),this.handleAutoPlay()},this.slideHelper=async({navButtonDisabled:t,slide:i,e})=>{t||(this._autoplayTimeoutId&&e?this.onInterruptedAutoplay(i):await i())},this.slideForwards=async t=>{const i=this._pageIndex+1,e=i<this.pageCount;await this.slideHelper({navButtonDisabled:this._isNextButtonHidden,slide:async()=>{this._pageIndex=e?i:0,this.slideCarousel({isWithinBounds:e,direction:p.FORWARDS,requestedIndex:i,allowAnimations:!0})},e:t})},this.onKeyDown=(t,i)=>{"Enter"!==t.key&&"Space"!==t.key||(t.preventDefault(),i(t))},this.slideBackwards=async t=>{const i=this._pageIndex-1,e=i>=0;await this.slideHelper({navButtonDisabled:this._prevButtonHidden,slide:async()=>{this._pageIndex=e?i:this.pageCount-1,this.slideCarousel({isWithinBounds:e,direction:p.BACKWARDS,requestedIndex:i,allowAnimations:!0})},e:t})},this.onListItemFocusIn=()=>{this.autoplay&&"off"!==this.autoplay&&(this._animationRemainingTime=this._autoplaySpeed-(Date.now()-this._animationStartTime),this.clearAnimationTimeout(),this.autoplayInProgress=!1,this._autoplayPaginationRef?.value?.pauseAnimation())},this.onListItemBlur=()=>{this.autoplay&&"off"!==this.autoplay&&(this._autoplayPaginationRef?.value?.resumeAnimation(),setTimeout((async()=>{await this.slideForwards(),this.handleAutoPlay()}),this._animationRemainingTime))}}static get styles(){return t.i`:host{display:flex;position:relative;width:inherit;isolation:isolate;--carousel-gap:var(--spacer-xs, 0.5rem);--carousel-padding:0;--carousel-margin:0}.carousel-container{display:flex;height:auto;align-items:center;position:relative;width:100%}::slotted(:not([slot])){height:100%;display:grid;grid-auto-flow:column;transition:transform;transition-timing-function:ease-out;margin:var(--carousel-margin)!important;padding:var(--carousel-padding)!important;list-style:none;position:relative;gap:var(--carousel-gap)}::slotted([slot=nextButton]),::slotted([slot=prevButton]){display:inline-block}.content-nav-buttons{display:inline-block;position:relative;z-index:2}.content-nav-buttons.hide{visibility:hidden}.content-nav-buttons.start{position:absolute;inset-inline-start:var(--spacer-sm,.75rem)}.content-nav-buttons.outside.end{padding:0 var(--spacer-sm,.75rem)}.content-nav-buttons.inside{position:absolute;top:50%;transform:translateY(-50%)}.content-nav-buttons.inside.start{inset-inline-start:var(--spacer-xs,.5rem)}.content-nav-buttons.inside.end{inset-inline-end:var(--spacer-xs,.5rem)}#carousel-window{position:relative;overflow:hidden;contain:content;display:flex;flex-direction:column;height:100%;flex:1}#carousel-list{height:100%;overflow:hidden;position:relative}:host([pagination-placement=outside]) #pagination-container{padding-top:var(--spacer-xs,.5rem)}:host(:not([nav-placement])) #carousel-window,:host([nav-placement=outside]) #carousel-window{margin-inline-start:var(--rem56,3.5rem)}:host([pagination-placement=inside]) #pagination-container{position:absolute;bottom:var(--rem16,1rem);inset-inline:0;margin:0 auto;width:fit-content}.carousel-actions{position:absolute;inset-inline-end:var(--rem12,.5rem);display:inline-flex;align-items:center;gap:var(--rem12,.75rem)}.carousel-actions.top{top:var(--rem12,.5rem)}.carousel-actions.bottom{bottom:var(--rem16,.1rem)}.hidden{visibility:hidden}.visible{visibility:visible;transition:visibility ease-in}`}get pageIndex(){return this._pageIndex}get isRTL(){try{return this.matches(":dir(rtl)")}catch{return"rtl"===getComputedStyle(this).direction}}get carouselSlot(){return this._children.reduce(((t,i)=>i.assignedSlot&&"UL"===i.nodeName?i:t),document.createElement("ul"))}connectedCallback(){if(super.connectedCallback(),this._gesture=new e.T(this,{mouseSupport:!1}),this._gesture.on("swipeleft",this.isRTL?this.swipeBackwards:this.swipeForwards),this._gesture.on("swiperight",this.isRTL?this.swipeForwards:this.swipeBackwards),this.initializeResize(),this.isCarouselInitialized){const t=this._pageIndex;this.resetAndInitialize(),this._pageIndex!==t&&this.goToPage(t,!1)}}disconnectedCallback(){super.disconnectedCallback(),this._gesture?.destroy(),this.resizeObserver?.disconnect(),this._listMutationObserver?.disconnect(),this._intersectionObserver?.disconnect()}firstUpdated(){this.initializeCarousel()}async handleChildRemoval(){const{children:t}=this.carouselSlot;this.setChildAndPageCount(t),this._firstViewableIndex>this._childCount-1&&this.slideBackwards(),this._childCount||this.toggleDisabledProgressButtons();const i=new CustomEvent("__TEST-ONLY_carousel-children-reset");this.dispatchEvent(i)}get _firstViewableIndex(){return this.infinite?this.pageIndex*this.numVisible+this._lowerBoundOffset:this.pageIndex*this.numVisible}initListMutationObserver(){this._listMutationObserver&&this._listMutationObserver.disconnect(),this._listMutationObserver=new MutationObserver((t=>{for(const i of t)"childList"===i.type&&this.isCarouselInitialized&&(i.removedNodes.length>0?this.handleChildRemoval():i.addedNodes.length>0&&this.handleChildrenAddition())})),this.carouselSlot&&this._listMutationObserver.observe(this.carouselSlot,{childList:!0})}setChildAndPageCount(t){this._childCount=t.length,this.pageCount=Math.ceil(this._childCount/this.numVisible)}async handleChildrenAddition(){const t=this._childCount,{children:i}=this.carouselSlot;this.setChildAndPageCount(i);const e=this.getCarouselDimensions();e&&await this.setChildDimensions(e.width),this._childCount>t&&this.toggleDisabledProgressButtons()}get _autoplaySpeed(){switch(this.autoplay){case"off":return 0;case"default":return 5e3;default:return parseInt(this.autoplay)}}get animationDuration(){return this.advanceAnimation&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches?250:0}get numInsets(){return this.inset===d.BOTH||this.alignment===u.CENTER?2:this.inset===d.NEXT||this.alignment===u.LEFT?1:0}get numGaps(){return this.numVisible+this.numInsets-1}insetWidth(t){const i=this.getCarouselDimensions();if(i){return(i.width-t.getBoundingClientRect().width*this.numVisible-this._gap*this.numGaps)/this.numInsets}return 0}resetDisabledProgressButtons(){this.setNavButtonVisibility({type:"next",hidden:!1}),this.setNavButtonVisibility({type:"previous",hidden:!1})}initializeVisibility(){for(const t of Array.from(this.carouselSlot.children))t.dataset.fpUiCarouselMarker||(t.style.visibility="hidden")}dispatchSwipeEvent(t){const i=new CustomEvent("faceplate-carousel:swipe",{detail:{currPositionIndex:this._pageIndex,direction:t},bubbles:!0});this.dispatchEvent(i)}render(){return t.x` <div class="carousel-container"> <div id="carousel-window"> <div id="carousel-list" ${i.at(this._carouselListRef)}> <slot @keydown="${this.onListItemKeydown}" @focusin="${this.onListItemFocusIn}" @focusout="${this.onListItemBlur}"></slot> <span class="carousel-actions top"> <slot name="paginationCounter"></slot> <slot name="closeButton"></slot> </span> <span class="carousel-actions bottom"> <slot name="addButton"></slot> </span> </div> <div id="pagination-container" class="${i.y({inside:this.paginationPlacement===h.INSIDE})}"> ${this.paginationPlacement===h.OFF?null:this._autoplaySpeed?t.x`<faceplate-carousel-pagination ${i.at(this._autoplayPaginationRef)} pages="${this.pageCount}" page-index="${this._pageIndex}" autoplay="${this._autoplaySpeed}" appearance="${this.paginationPlacement===h.INSIDE?a.MEDIA:a.PLAIN}"> </faceplate-carousel-pagination>`:t.x`<faceplate-pagination-indicator @pagination-click="${this.onPaginationClick}" .getPageLabels="${this.getPageLabels}" numbered current-page-label="${t.l(this.currentPageLabel)}" appearance="${this.paginationPlacement===h.INSIDE?a.MEDIA:a.PLAIN}" animation-duration="${this.animationDuration}" pages="${this.pageCount}" page-index="${this._pageIndex}" container-label="${t.l(this.paginationContainerLabel)}"></faceplate-pagination-indicator>`} </div> </div> <slot class="content-nav-buttons start ${i.y({hide:this.navPlacement===c.OFF||this.hidePrevButton,outside:this.navPlacement===c.OUTSIDE,inside:this.navPlacement===c.INSIDE})}" style="${this.isRTL?"transform: scaleX(-1)":""}" name="prevButton" @click="${this.slideBackwards}" @keydown="${t=>this.onKeyDown(t,this.slideBackwards)}"> </slot> <slot class="content-nav-buttons end ${i.y({hide:this.navPlacement===c.OFF||this.hideNextButton,outside:this.navPlacement===c.OUTSIDE,inside:this.navPlacement===c.INSIDE})}" style="${this.isRTL?"transform: scaleX(-1)":""}" name="nextButton" @click="${this.slideForwards}" @keydown="${t=>this.onKeyDown(t,this.slideForwards)}"> </slot> </div> <faceplate-screen-reader-content aria-live="polite" aria-atomic="true"> ${this.currentAriaLiveMsg??this.generateAriaLiveMsg({pageIndex:this.pageIndex,pageCount:this.pageCount,numVisible:this.numVisible})} </faceplate-screen-reader-content> `}};return g.navButton=({placement:e,progress:n,ariaLabel:s})=>{const a=n===p.FORWARDS?"Next Page":"Previous Page";return i.n({appearance:e===c.INSIDE?"media":"secondary",size:i.$.Small,leadingIcon:n===p.FORWARDS?t.bZ({size:t.I.Small}):t.b_({size:t.I.Small}),attributes:{"aria-label":s??a}})},g.closeButton=({attributes:e})=>i.n({appearance:"media",size:i.$.Small,leadingIcon:t.ag({size:t.I.Small}),attributes:e}),g.addButton=({children:e,attributes:n})=>i.n({appearance:"media",size:i.$.Small,leadingIcon:t.b$({size:t.I.Small}),attributes:n,children:e}),g.paginationCounter=({attributes:t,pageIndex:i,pageCount:e})=>s.b({appearance:s.B.MEDIA,content:`${i+1} / ${e}`,attributes:t}),t._([t.n({type:String,attribute:"nav-placement",reflect:!0})],g.prototype,"navPlacement",void 0),t._([t.n({type:String,attribute:"pagination-placement",reflect:!0})],g.prototype,"paginationPlacement",void 0),t._([t.n({type:String})],g.prototype,"autoplay",void 0),t._([t.n({type:Boolean,attribute:"advance-animation"})],g.prototype,"advanceAnimation",void 0),t._([t.n({type:Number,attribute:"num-visible"})],g.prototype,"numVisible",void 0),t._([t.n({type:Boolean})],g.prototype,"infinite",void 0),t._([t.n({type:String})],g.prototype,"inset",void 0),t._([t.n({type:String,attribute:"pagination-counter-label"})],g.prototype,"paginationCounterLabel",void 0),t._([t.n({type:Number,attribute:"start-index"})],g.prototype,"startIndex",void 0),t._([t.n()],g.prototype,"getPageLabels",void 0),t._([t.n({type:String,attribute:"current-page-label"})],g.prototype,"currentPageLabel",void 0),t._([t.n({type:String,attribute:"current-aria-live-msg"})],g.prototype,"currentAriaLiveMsg",void 0),t._([t.n({type:String,attribute:"pagination-container-label"})],g.prototype,"paginationContainerLabel",void 0),t._([t.n({type:String,attribute:"page-width"})],g.prototype,"pageWidth",void 0),t._([t.n({type:String})],g.prototype,"alignment",void 0),t._([t.b()],g.prototype,"_pageIndex",void 0),t._([t.b()],g.prototype,"pageCount",void 0),t._([t.b()],g.prototype,"isCarouselInitialized",void 0),t._([t.b()],g.prototype,"hasBeenInteractedWith",void 0),t._([t.u({flatten:!0})],g.prototype,"_children",void 0),t._([t.u({slot:"paginationCounter",flatten:!0})],g.prototype,"_paginationCounter",void 0),t._([t.b()],g.prototype,"firstRender",void 0),t._([t.b()],g.prototype,"autoplayInProgress",void 0),t._([t.b()],g.prototype,"hidePrevButton",void 0),t._([t.b()],g.prototype,"hideNextButton",void 0),g=t._([t.c("faceplate-carousel")],g),{get C(){return p},get F(){return g},get I(){return d},get N(){return c},get P(){return h}}}));
SML.dm("Bcf7phnV",["DVMhF-xZ","CMS2OfNt","Cz9KLIqG"],(async(a,t,i)=>{var r;!function(a){a.Forward="forward",a.Backward="backward"}(r||(r={}));const e=(i,r,e)=>a.b({source:"gallery",action:"view",noun:"media"},{...t.g(i),gallery:{num_items:e,position:r}}),n=(i,r,e,n)=>a.b({source:"gallery",action:"click",noun:r},{...t.g(i),gallery:{num_items:n,position:e}});return{get G(){return r},a:e,g:n,h:(a,t,o)=>{const d=n(a,t.detail.direction===i.C.FORWARDS?r.Forward:r.Backward,t.detail.prevPositionIndex,t.detail.num_items),m=e(a,t.detail.currPositionIndex,t.detail.num_items);o&&(d.ad_metadata={impression_id:o},m.ad_metadata={impression_id:o}),a.trackEvent(d),a.trackEvent(m)}}}));
SML.dm("D-k0IBN0",["DVMhF-xZ"],(async e=>{function t(e){localStorage.removeItem(function(e){return`chat:${e}`}(e))}function o(){(function(){let e=["access-token","matrix-user-id","matrix-access-token"];for(let o of e)t(o)})(),function(){try{window.indexedDB.deleteDatabase("matrix-js-sdk:reddit-chat-sync")}catch{}}()}function n(){e.j.remove(e.ge),e.j.remove(e.ad),e.j.remove(e.dD),e.j.remove(e.gf),e.j.remove(e.gg),o()}const r="comment-draft-items-";var c;!function(e){e[e.Submit=0]="Submit",e[e.Discard=1]="Discard",e[e.Other=2]="Other"}(c||(c={}));let a=window.location;return{C:r,get D(){return c},a:function(e){return new Promise(((t,o)=>{e?window.google?.accounts?.id?window.google.accounts.id.revoke(e,(({successful:e,error:n})=>{e?t():o(n)})):o("Google API is not ready"):o("Google account id is not available")}))},b:(t,o)=>e.b({source:t,action:"view",noun:"banner"},{action_info:{reason:o}}),e:(t,o)=>e.b({source:t,action:"submit",noun:"email"},{action_info:{success:o}}),g:()=>!!document.querySelector("shreddit-app")?.hasAttribute?.("user-logged-in"),l:async function(){await fetch(e.aR.Logout,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({0:"1",csrf_token:e.j.get("csrf_token")})}),window.google?.accounts?.id?.disableAutoSelect?.(),e.j.remove(e.gh),e.j.remove(e.gi),e.l.removeItem(e.L.RecentPages),e.l.removeItem(e.L.RecentCommunities),e.l.removeItem(e.L.RecentSearches),n(),Object.keys(localStorage).filter((e=>e.startsWith(r))).forEach((e=>localStorage.removeItem(e))),localStorage.removeItem(e.L.DraftsCoachMarkSeen),a.reload()},p:function(e){try{return new URL(e,"https://www.reddit.com")}catch(e){return}},r:()=>e.b({source:e.az.ResetPassword,action:"submit",noun:"reset_complete"}),s:()=>{e.l.setItem(e.L.LoginTime,(new Date).toString())}}}));
SML.dm("BV4dawAB",["DVMhF-xZ","DN8NCGGW"],(async(e,t)=>{const i=e=>e instanceof HTMLButtonElement||e instanceof HTMLAnchorElement||["button","link","menuitem","tab","checkbox","combobox","gridcell","application","treeitem"].includes(e?.getAttribute("role")??"");class n extends e.x{constructor(){super(...arguments),this._triggerElement=null,this.keydown=!1,this.dialogId="",this.noModal=!1,this.handleClick=()=>{this.keydown||this.sendActivatedEvent()},this.handleKeydown=e=>{"Enter"===e.key&&(this.keydown=!0)},this.handleKeyup=e=>{"Enter"===e.key&&!0===this.keydown&&(this.keydown=!1,this.sendActivatedEvent())},this.handleBlur=()=>{this.keydown=!1}}set triggerElement(t){const i=this._triggerElement?.getAttribute("aria-expanded")??!1,n=this._triggerElement,r=t;n&&(n?.removeAttribute("aria-haspopup"),n?.removeAttribute("aria-expanded"),n?.removeEventListener("click",this.handleClick),n?.removeEventListener("keydown",this.handleKeydown),n?.removeEventListener("keyup",this.handleKeyup),n?.addEventListener("blur",this.handleBlur)),r&&(this.action!==e.fC.Hide&&(r.setAttribute("aria-haspopup","dialog"),r.setAttribute("aria-expanded",`${i}`)),r.addEventListener("click",this.handleClick),r.addEventListener("keydown",this.handleKeydown),r.addEventListener("keyup",this.handleKeyup),r.addEventListener("blur",this.handleBlur),this._triggerElement=r)}get triggerElement(){return this._triggerElement}attributeChangedCallback(e,t,i){super.attributeChangedCallback(e,t,i),"action"===e&&(this.triggerElement=this._triggerElement)}addOpenAttributes(){this.triggerElement&&this.triggerElement.setAttribute("aria-expanded","true")}removeOpenAttributes(){this.triggerElement&&this.triggerElement.setAttribute("aria-expanded","false")}handleSlotChange(){this.triggerElement=((e,t=5)=>{let n=e??null,r=0;if(i(n))return n;for(;n&&r<t;){if(n=n?.assignedElements?n?.assignedElements()?.[0]??null:n?.children[0]??null,i(n))return n;r++}return null})(this.slottedElements?.[0]??null)}sendActivatedEvent(){if(this.triggerElement?.hasAttribute("disabled"))return;if(!this.dialogId)return void console.warn("No dialogId set on rpl-dialog-trigger, unable to trigger");const e={dialogId:this.dialogId,triggerElement:this,noModal:this.noModal,action:this.action};this.emitter.dispatch("trigger-clicked",{bubbles:!0,composed:!0,detail:e})}render(){return t.x`<slot @slotchange="${this.handleSlotChange}"></slot>`}}t._([t.n({type:String,reflect:!0,attribute:"dialog-id"})],n.prototype,"dialogId",void 0),t._([t.n({type:Boolean,reflect:!0,attribute:"no-modal"})],n.prototype,"noModal",void 0),t._([t.n({type:String,reflect:!0})],n.prototype,"action",void 0),t._([t.k()],n.prototype,"slottedElements",void 0);var r=t.i`:host{display:contents}`;let l=class extends n{};l.styles=r,l=t._([t.c("rpl-dialog-trigger")],l)}));
SML.dm("mlV1StDq",["DN8NCGGW","DVMhF-xZ","Cq3THF8r","CWi6z3tG","C_M_NGfT","BHkYDd4M","DDco8exZ","DkvSmkm1","DzVf0Tj3","DD7scjFQ","CElIDZoh","DmzQCwyH","CdTGYlNw","CMS2OfNt","DULVOd5i","m_62dcKy","Bcf7phnV","D-k0IBN0","clCAey41","UKZKgKgp","DczBT2kf","alT8rG4e","DQaRMILU","CnZCQZdH","BsQJl0hY","21VIldix","yhbIHQLb","BrB3BiJ_","CVyy3FXR","n7_xJ6Wc","BISnLNzF","BV4dawAB","Cg3nU-G5","HB6ZjwU1","DwsEu536","Crs-BNcA","Bahzn9My","y7f18YYf","zIj5u43D","yHFcPWkl","CGzEIBwW","YWXw6gDz","BHUYYzrx","BUEZgCCR","Ch8njlGJ","D-ZUgI2b","CU4mObWU","Cz9KLIqG","ClGeIyf9"],(async(t,e,o,i,s,n,r,a,l,d,p,h,u,c,m,b,v,g,E,T)=>{const C=72e6,S=[C,C,1296e5,216e6,216e6],y=()=>{const t=localStorage.getItem(e.L.CrosspostingUpsellExperiment);if(t)return JSON.parse(t)},P=t=>{localStorage.setItem(e.L.CrosspostingUpsellExperiment,JSON.stringify(t))},I=async t=>{if((()=>{const t=y();if(!t)return!1;const{timer:e,snoozes:o,savedDate:i}=t;return o>=S.length||(new Date).getTime()-i<e})())return;const o=await e.r({operation:e.O.WhereToCrosspostNewModSuggestions,variables:{postId:t}}),i=o.data?.whereToCrosspostSuggestions?.edges;return i&&i?.length>0&&"Subreddit"===i[0]?.node?.subredditInfo.__typename?i[0]?.node?.subredditInfo:void 0};function k(t,e=!0){t=t||"";const[o,i]=t.split("?");let s=`https://www.reddit.com${("/"!==o[0]&&o.length>0?"/":"")+o}`;return e&&!s.endsWith("/")&&(s+="/"),i&&(s+=`?${i}`),s}let _=class extends t.s{constructor(){super(),this.name="",this.prefixedName="",this.subredditId="",this.isNsfw=!1,this.postId="",this.isOpen=!1,this.wasSeen=!1,this.trackExperimentEvent=(t,o,i)=>{e.a(this,e.b({source:t,action:o,noun:i},{subreddit:{id:this.subredditId,name:this.name,nsfw:this.isNsfw},post:{id:this.postId||""}}))},this.onShareClick=()=>{P({timer:18e5,snoozes:1,savedDate:(new Date).getTime()}),this.isOpen=!1,this.wasSeen=!0,this.trackExperimentEvent("crosspost_prompt","share","button")},this.onSkipClick=()=>{this.onMaybeSetCooldown(),this.isOpen=!1},new e.aj(this,this,{threshold:[.5]})}connectedCallback(){e.ao.subscribe(this.onMaybeSetCooldown,{shouldBeCalledFirst:!0}),super.connectedCallback(),this.addEventListener("faceplate-leave",this.onMaybeSetCooldown),this.trackExperimentEvent("crosspost_prompt","view","coachmark"),setTimeout((()=>{this.onMaybeSetCooldown()}),3e5)}disconnectedCallback(){super.disconnectedCallback(),e.ao.unsubscribe(this.onMaybeSetCooldown),this.removeEventListener("faceplate-leave",this.onMaybeSetCooldown)}onMaybeSetCooldown(){this.wasSeen||this.saveNoShareTimer()}saveNoShareTimer(){const t=y(),e=t?.snoozes||0;P({snoozes:e+1,timer:S[e],savedDate:(new Date).getTime()}),this.trackExperimentEvent("crosspost_prompt","hide","button"),this.wasSeen=!0}render(){return t.x`<rpl-coachmark ?open="${this.isOpen}" placement="${i.P.TopEnd}" appearance="${s.a.Inverted}"> <slot></slot> <rpl-coachmark-card slot="content" appearance="${s.a.Inverted}" class="w-[220px]"> <div slot="title" class="pt-xs pb-2xs"> ${"Share with your newly created community"} </div> <div class="text-12"> ${`${this.prefixedName} might enjoy this post, try sharing it in your community.`} </div> ${e.n({attributes:{slot:"primary-button",href:k(`${this.prefixedName}/submit/?source_id=${this.postId}&crosspost_experiment_referral=true`),target:"_blank",rel:"noopener noreferrer",onclick:this.onShareClick},children:"Share",appearance:"plainInverted",size:e.$.Small})} ${e.n({attributes:{slot:"secondary-button",onclick:this.onSkipClick},children:"Skip",appearance:"plainInverted",size:e.$.Small})} </rpl-coachmark-card> </rpl-coachmark>`;}};_.styles=[e.t],t._([t.n({type:String,attribute:"name"})],_.prototype,"name",void 0),t._([t.n({type:String,attribute:"prefixed-name"})],_.prototype,"prefixedName",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],_.prototype,"subredditId",void 0),t._([t.n({type:Boolean,attribute:"nsfw"})],_.prototype,"isNsfw",void 0),t._([t.n({type:String,attribute:"post-id"})],_.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"open",reflect:!0})],_.prototype,"isOpen",void 0),t._([t.b()],_.prototype,"wasSeen",void 0),_=t._([t.c("crosspost-upsell-coachmark")],_);class N{constructor(t){this._getPageType=e.B,this.host=t,this.host.addController(this)}hostConnected(){}hostDisconnected(){}maybeRenderPromotePostButton(){return this.host.isPromoteablePost&&l.g(this._getPageType())===l.P.ShredditPost?t.x`<promote-post-button post-id="${this.host.id}" subreddit-name="${t.l(this.host.subredditPrefixedName)}"></promote-post-button>`:t.x``}}let w=class extends t.s{constructor(){super(...arguments),this.translationContextValue=e.aw,this.postId="",this.href="",this.withIntervention=!1,this.isImmersiveVisit=!1}canShowInterventionModal(){const t=!!e.l.getItem(e.L.I18nTranslationInterventionShown);return!!this.translationContextValue?.isTranslationActive&&this.withIntervention&&!t}onShowOriginalClick(t){t.preventDefault?.(),t.stopPropagation?.(),this.canShowInterventionModal()?this.translationInterventionModal.handleTranslationOverride({isTranslationActive:!1,id:this.postId}):this.navigateToOriginal()}navigateToOriginal(){window.location.href=this.href}render(){const e=t.x`<translation-intervention-modal mode="mtseo-post" page-type="pdp" ?is-immersive-visit="${this.isImmersiveVisit}" @translation-intervention-modal:close="${this.navigateToOriginal}"></translation-intervention-modal>`;return t.x`<a href="${this.href}" class="flex cursor-pointer my-xs pl-md xs:px-0 text-primary text-decoration-none" @click="${this.onShowOriginalClick}"> ${"See original"} </a> ${this.canShowInterventionModal()?e:t.A}`;}};w.styles=[e.t],t._([e.av({context:e.ax,subscribe:!0}),t.b()],w.prototype,"translationContextValue",void 0),t._([t.w("translation-intervention-modal")],w.prototype,"translationInterventionModal",void 0),t._([t.n({type:String,attribute:"post-id"})],w.prototype,"postId",void 0),t._([t.n({type:String,attribute:"href"})],w.prototype,"href",void 0),t._([t.n({type:Boolean,attribute:"with-intervention"})],w.prototype,"withIntervention",void 0),t._([t.n({type:Boolean,attribute:"isImmersiveVisit"})],w.prototype,"isImmersiveVisit",void 0),w=t._([t.c("mtseo-show-original-link")],w);const R="toggle__expando",x="toggle__expando-button",f="thumbnail",O="ssr-share-button",D="share-button",L="mod-content-actions",A="credit-bar",M="text-body",$="post-flair",B="full-post-link",U="mod-content-state-indicators";class H{constructor(t){this.initialized=!1,this.handleToggleEvent=t=>{e.d(t)&&this.toggleExpando()},(this.host=t).addController(this)}get expandoElement(){return this.host.isCompactView?this.host.querySelector(`.${R}`):this.host.shadowRoot?.querySelector('slot[name="expando"]')??null}get hasExpandoContent(){return this.host.isCompactView?!!this.host.querySelector(`.${R}`):!!this.host.shadowRoot?.querySelector('slot[name="expando"]')?.assignedElements().length}get toggleElement(){return(this.host.isCompactView?this.host.querySelector(`button.${x}`)||this.host.shadowRoot?.querySelector(`button.${x}`):this.host.shadowRoot?.querySelector('slot[name="thumbnail"]'))??null}async hostConnected(){await this.host.updateComplete,this.initializeListeners()}hostDisconnected(){this.toggleElement?.removeEventListener("click",this.handleToggleEvent),this.toggleElement?.removeEventListener("keydown",this.handleToggleEvent),this.initialized=!1}async hostUpdated(){await this.host.updateComplete,this.initialized||this.initializeListeners()}initializeListeners(){this.initialized||this.expandoElement&&this.hasExpandoContent&&this.toggleElement&&(this.toggleElement?.addEventListener("click",this.handleToggleEvent),this.toggleElement?.addEventListener("keydown",this.handleToggleEvent),this.initialized=!0)}toggleExpando(){this.expandoElement&&this.hasExpandoContent&&(this.host.showExpando=!this.host.showExpando,this.expandoElement.classList.toggle("hidden",!this.host.showExpando),this.expandoElement.classList.toggle("block",this.host.showExpando))}renderExpandoButton(){const e="Expand content",o={attributes:{className:"icon-expand","aria-hidden":"true"},size:r.I[this.host.defaultActionButtonSize]},i=this.host.showExpando?t.m(o):t.ef(o),s=this.hasExpandoContent?"":"disabled pointer-all";return t.x` ${r.c({appearance:p.ac()?"bordered":"secondary",attributes:{type:"button",className:`${x} ${this.host.defaultActionButtonClassnames} ${s}`,disabled:!this.hasExpandoContent,"aria-expanded":this.host.showExpando?"true":"false","aria-label":"post content","aria-controls":`${this.host.id}-expando-content`},size:this.host.defaultActionButtonSize,leadingIcon:i,screenReaderContent:e})} `;}}class V{constructor(t){this.initializeHotkeys=()=>{"enabled"===e.d4("shreddit_hotkeys_m1")&&this.host.viewContext===c.P.CommentsPage&&(this.subscriberController?.subscribe(e.d5.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.subscribe(e.d5.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.subscribe(e.d5.UPVOTE,this.upvote),this.subscriberController?.subscribe(e.d5.DOWNVOTE,this.downvote),this.subscriberController?.subscribe(e.d5.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.subscribe(e.d5.HIDE_POST,this.onToggleHide),this.subscriberController?.subscribe(e.d5.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.subscribe(e.d5.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.subscribe(e.d5.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.subscribe(e.d5.SUBMIT,this.onSubmitComment))},this.findShredditPost=t=>t instanceof z?t:t?.querySelector("shreddit-post, shreddit-ad-post"),this.cleanupHotkeys=()=>{"enabled"===e.d4("shreddit_hotkeys_m1")&&this.host.viewContext===c.P.CommentsPage&&(this.subscriberController?.unsubscribe(e.d5.NEXT_POST_COMMENT,this.nextPostOrComment),this.subscriberController?.unsubscribe(e.d5.PREVIOUS_POST_COMMENT,this.prevPostOrComment),this.subscriberController?.unsubscribe(e.d5.UPVOTE,this.upvote),this.subscriberController?.unsubscribe(e.d5.DOWNVOTE,this.downvote),this.subscriberController?.unsubscribe(e.d5.REPLY_TO_COMMENT,this.onReplyToComment),this.subscriberController?.unsubscribe(e.d5.HIDE_POST,this.onToggleHide),this.subscriberController?.unsubscribe(e.d5.TOGGLE_SAVE,this.onToggleSave),this.subscriberController?.unsubscribe(e.d5.TOGGLE_COLLAPSE_COMMENT,this.onCommentToggleCollapse),this.subscriberController?.unsubscribe(e.d5.COPY_POST_OR_COMMENT_LINK,this.onCopyLink),this.subscriberController?.unsubscribe(e.d5.SUBMIT,this.onSubmitComment))},this.nextPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(E.P.NEXT);const t=this.postOrCommentTraversalController?.current instanceof z?"post":"comment";this.host.trackEvent(c.X("next",t))},this.prevPostOrComment=()=>{this.postOrCommentTraversalController?.traverse(E.P.PREV);const t=this.postOrCommentTraversalController?.current instanceof z?"post":"comment";this.host.trackEvent(c.X("previous",t))},this.upvote=()=>{this.onVote(o.V.Upvote)},this.downvote=()=>{this.onVote(o.V.Downvote)},this.onFocus=t=>{this.host.viewContext===c.P.CommentsPage?this.host.shadowRoot?.querySelector(".shreddit-post-container")?.focus(t):this?.host.querySelector("[slot=full-post-link]")?.focus(t)},this.onVote=async t=>{let e;if(!this.postOrCommentTraversalController?.current)return;e=this.postOrCommentTraversalController?.isCurrentComment?(this.postOrCommentTraversalController?.current).commentActionRow:this.postOrCommentTraversalController?.current;const i=void 0;e&&(e.interactionFromHotkey=!0,t===o.V.Upvote?await e.handleUpvote(i):await e.handleDownvote(i),e.interactionFromHotkey=!1)},this.customPostTraversal=(t,e)=>{if(t===E.P.NEXT){const t=e?.querySelector("shreddit-comment-tree");if(t||"shreddit-comment-tree"===e?.tagName.toLowerCase())return e?.querySelector("shreddit-comment")}else if(!e?.previousElementSibling&&"shreddit-comment-tree"===e?.parentElement?.tagName.toLowerCase())return document.querySelector("shreddit-post")},this.onReplyToComment=()=>{this.postOrCommentTraversalController?.isCurrentPost?this.host.handleClickCommentsButton():this.postOrCommentTraversalController?.current?.querySelector("shreddit-comment-action-row")?.focusOnCommentComposer()},this.onToggleSave=()=>{if(this.postOrCommentTraversalController?.isCurrentComment){const t=this.postOrCommentTraversalController?.current?.overlowMenuItemProps?.find((t=>"save"===t.id));t?.onClick?.()}else this.postOverflowActions?.find((t=>"save"===t.id))?.onClick()},this.onToggleHide=()=>{(this.postOrCommentTraversalController?.isCurrentPost||this.host.isFeed)&&this.postOverflowActions?.find((t=>"hide"===t.id))?.onClick()},this.onCopyLink=()=>{let t;t=this.postOrCommentTraversalController?.isCurrentComment?this.postOrCommentTraversalController?.current?.shareButton:this.host.shareButtonRef?.value,t?.handleCopyLinkClick()},this.onCommentToggleCollapse=()=>{this.postOrCommentTraversalController?.isCurrentComment&&this.postOrCommentTraversalController.current.handleCollapse?.()},this.onSubmitComment=()=>{this.postOrCommentTraversalController?.isCurrentComment?this.postOrCommentTraversalController.current?.shredditComposer?.form?.submit():document.querySelector("shreddit-composer")?.form?.submit()},this.host=t,t.addController(this)}hostConnected(){this.subscriberController=new e.d2(this.host),this.postOrCommentTraversalController=new E.a(this.host,{type:E.b.COMMENTS_PAGE,getFirstElement:()=>this.host,customPostOrCommentDetection:this.findShredditPost,customTraversal:(t,e)=>this.customPostTraversal(t,e)}),this.initializeHotkeys()}hostDisconnected(){this.cleanupHotkeys()}get postOverflowActions(){return this.host.querySelector("shreddit-post-overflow-menu")?.overflowActions}onToggleExpando(){this.host._expandoController?.toggleExpando()}}const j=d.W(e.W(e.e(t.s)));let z=class extends j{get readMoreButton(){return this.querySelector(`#${this.id}-read-more-button`)??void 0}getCurrentVoteType(){return this.postVoteType}constructor(){super(),this.archived=!1,this.deleted=!1,this.hidden=!1,this.id="",this.game=!1,this.nsfw=!1,this.promoted=!1,this.spoiler=!1,this.subredditId=void 0,this.isSubscribed=!1,this.postLanguage="",this.translationLanguage="",this.isTranslationOn=!1,this.commentCount=0,this.permalink="",this.viewContext=c.P.AggregateFeed,this.viewType=e.a4.CardView,this.isSlimCard=!1,this.isDesktopViewport=!1,this.isReportingEnabled=!1,this.isLinkPost=!1,this.isAma=!1,this.isEmbed=!1,this.isNotBrandSafe=!1,this.isCrosspost=!1,this.isCrosspostable=!1,this.isEmbeddable=!1,this.isUserLoggedIn=!1,this.disabled=!1,this.showFullContent=!1,this.isTranslatable=!1,this.isTranslationFetched=!1,this.isPostTranslated=!1,this.isPostBodyTranslated=!1,this.isMTSEOUserPage=!1,this.hasMTSEOTranslationInterruption=!1,this.morePostsCursor=void 0,this.isPostLeaveEventsEnabled=!1,this.isLocked=!1,this.isBanned=!1,this.isContestMode=!1,this.pdpTarget="_self",this.isPromoteablePost=!1,this.previousActionsFeature=!1,this.updateAnimation=void 0,this.itemState=b.M.UNMODERATED,this.areReportsExpandable=!1,this.isCompactUIExp=!1,this.isPostCommentTapExp=!1,this.isPdpSeekerM1LO=!1,this.shareButtonSSR=!1,this.interactionFromHotkey=!1,this.applyFeedsSimplification=!1,this.showPostRemovalBanner=!0,this.showExpando=!1,this.useShortHiddenPostForm=!1,this.isThumbnailSet=!1,this.isUpdatingPostBody=!1,this.displayPostAnalytics=!1,this.isCrosspostingCoachmarkOpen=!1,this.eligibleCrosspostingSubreddit=void 0,this.hasBeenViewed=!1,this.hasBeenConsumed=!1,this.getScrollContainerSelector=()=>[c.P.ModQueue,c.P.ModQueueAll].includes(this.viewContext)?'[slot="mod-queue-feed"]':this.viewContext===c.P.CommentsPage?'[slot="pdp-panel"]':void 0,this._partialUpdateController=null,this._events=new e.E(this),this._promotePostButtonController=new N(this),this._outboundLinkTrackingController=new a.O(this,(()=>({pageType:e.B(),postId:this.id,subredditId:this.subredditId}))),this._expandoController=new H(this),this.editController=null,this.pubsub=new e.P(this),this.shareButtonRef=e.aF(),this.onSubscriptionChange=async t=>{let o;this.subredditName===t.name&&(o=t.subscribed&&this.isSubscribed!==t.subscribed,this.isSubscribed=t.subscribed),o&&this.isEligibleForRelatedCommunityRecommendations&&(await this._activateFeature({name:e.f$,queryParams:{subredditId:this.subredditId||"",pageType:String(this._getPageType())},root:(this.isHomeFeed||this.isPopularFeed)&&this.parentElement||document,renderMode:this.isHomeFeed||this.isPopularFeed?e.g.Append:void 0}))},this.handleVisibilityChange=t=>{this.isPostInViewport&&t&&(this._hasPageUnloaded=!1,this.isPDP||(this.handleView(c.l(this),!0),this.becameVisibleOnScreenTimestamp=Date.now()))},this.handleCalledFirstVisibilityChange=t=>{this.isPostInViewport&&(t||this._hasPageUnloaded||(this.handleConsume(),this.isPostLeaveEventsEnabled&&this.trackEvent(c.Y(this))))},this.renderTabUpdateActionComponent=e=>this.isPDP?t.x`<ac-set trigger-elem="${t.l(e)}" target="${a.S}" attribute="pageindex" value="1"></ac-set>`:t.A,this._activateFeature=async t=>e.f(t),this._getPageType=e.B,this.showShortHiddenPostForm=()=>this.hidden&&this.useShortHiddenPostForm,this.handleLoadMorePosts=async()=>{const t=document.querySelector(`#partial-more-posts-${this.morePostsCursor}`);t&&"true"!==t?.getAttribute("hasBeenLoaded")&&(t?.setAttribute("hasBeenLoaded","true"),await(t?.load()))},this.trackConsume=()=>{this.trackEvent(c.Z(this))},this.handleRsvpClick=t=>{this.trackEvent(c.v(this))},this.handleUnRsvpClick=t=>{this.trackEvent(c.w(this))},this._getPostScoreDelta=t=>o.g(this.postVoteType,t),this._onUpdatePostVoteType=async()=>await o.o(this.id,"post",this.postVoteType),this.handleClickReadMore=()=>{"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&(this.revealTruncatedContent(),this.trackReadMoreClick())},this.revealTruncatedContent=()=>{if("enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools)return;this.querySelector(`#${this.id}-overflow-cover`)?.classList?.add(c.C),this.readMoreButton?.classList?.remove(c.j),this.readMoreButton?.classList?.add(c.C);const t=this.querySelector(`#${this.id}-post-rtjson-content`);t?.classList?.remove(...c.k.split(" "))},this.trackReadMoreClick=()=>{this.trackEvent(c._(this))},this.onBeforeUnloadCallback=()=>{this.onBeforeUnload()},this.handleCustomPostSnapshotEvent=async()=>{const t=this.querySelector("shreddit-devvit-ui-loader"),o=t?await t.captureSafetyReport():"";this.dispatchEvent(e.c("stage-devplatform-snapshot",{postId:this.id,encodedData:o}))},this.setStateApproved=()=>{this.showPostRemovalBanner=!1,this.itemState=b.M.APPROVED},this.setStateRemoved=()=>{this.showPostRemovalBanner=!0,this.itemState=b.M.REMOVED},this.onPostUpdateAction=({postId:t,action:e,value:o})=>{if(this.id===t)switch(e){case u.a.markAsNsfw:this.nsfw=o;break;case u.a.markAsSpoiler:this.spoiler=o;break;case u.a.delete:this.deleted=o;break;case u.a.hide:this.applyHideChanges(o);break;case u.a.lock:this.isLocked=Boolean(o);break;case u.a.edit:"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&this.editController?.setEditing(o);break;case u.a.approve:case u.a.approveOptimistic:this.setStateApproved();break;case u.a.remove:case u.a.removeAsSpam:case u.a.confirmRemoval:case u.a.addRemovalReason:case u.a.removeOptimistic:case u.a.removeAsSpamOptimistic:case u.a.confirmRemovalOptimistic:this.setStateRemoved();break;case u.a.updatePostBodyPending:"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&(this.isUpdatingPostBody=o);break;case u.a.updateContent:"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&(this.dispatchEvent(new CustomEvent(c.b)),this.editController?.resetEditing())}},this.applyHideChanges=t=>{this.useShortHiddenPostForm=t,this.hidden=t},this.unhidePost=async()=>{try{await u.n(this.id,!0);const t=e.c("faceplate-alert",{level:e.a5.success,message:"Removed from hidden"});this.dispatchEvent(t);const o={postId:this.id,action:u.a.hide,value:!1};this.pubsub.publish(e.T.PostUpdated,o),this.trackEvent(c.U(this.viewContext))}catch(t){const o=e.c("faceplate-alert",{level:e.a5.error,sourceElement:"unhide-post",cause:"uncategorized",message:"Unable to unhide post"});this.dispatchEvent(o)}},this.addEventListener("click",this.handleClickPost),new e.aj(this,this,{threshold:[.5]})}static get styles(){return[e.t,e.m(".rpl-vote-button-group {\n  /* APPEARANCE AGNOSTIC STYLES */\n  /* PLAIN APPEARANCE */\n  /* SECONDARY APPEARANCE */\n  /* BORDERED APPEARANCE */\n  --vote-button-divider-color: var(--color-neutral-border-weak);\n  /* MEDIA APPEARANCE */\n}\n.rpl-vote-button-group:not([disabled]) .rpl-vote-button-group-label {\n  color: var(--vote-button-label-color);\n}\n.rpl-vote-button-group:not([disabled]):hover.rpl-vote-button-group-label {\n  color: var(--vote-button-label-color-hover);\n}\n.rpl-vote-button-group .rpl-vote-button-group-divider {\n  background-color: var(--vote-button-divider-color);\n}\n.rpl-vote-button-group[disabled] button[rpl]:disabled {\n  --button-color-background-disabled: transparent;\n}\n.rpl-vote-button-group.button-plain {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-plain button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-plain.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-plain.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-plain.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n  --vote-button-divider-color: var(--color-neutral-border);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-secondary.upvote,\n.rpl-vote-button-group.button-secondary.upvote button[rpl] {\n  --button-color-text-default: var(--color-upvote-onBackground);\n  --button-color-text-hover: var(--color-upvote-onBackground);\n  --button-color-text-disabled: var(--color-upvote-disabled);\n  --button-color-text-activated: var(--color-upvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.upvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.upvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-upvote-background);\n  --button-color-background-hover: var(--color-upvote-background-hover);\n  --button-color-background-active: var(--color-upvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote,\n.rpl-vote-button-group.button-secondary.downvote button[rpl] {\n  --button-color-text-default: var(--color-downvote-onBackground);\n  --button-color-text-hover: var(--color-downvote-onBackground);\n  --button-color-text-disabled: var(--color-downvote-disabled);\n  --button-color-text-activated: var(--color-downvote-onBackground);\n}\n.rpl-vote-button-group.button-secondary.downvote:not([disabled]),\n.rpl-vote-button-group.button-secondary.downvote button[rpl]:not([disabled]) {\n  --button-color-background-default: var(--color-downvote-background);\n  --button-color-background-hover: var(--color-downvote-background-hover);\n  --button-color-background-active: var(--color-downvote-background-hover);\n  --vote-button-divider-color: var(--color-upvote-onBackground);\n  --vote-button-label-color: var(--color-media-onBackground);\n}\n.rpl-vote-button-group.button-bordered-cab {\n  --vote-button-label-color: var(--color-secondary-plain);\n  --vote-button-label-color-hover: var(--color-secondary-plain);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-plain-weaker);\n  --button-color-text-hover: var(--color-upvote-plain-weaker);\n  --button-color-text-disabled: var(--color-upvote-plain-disabled);\n  --button-color-text-activated: var(--color-upvote-plain-weaker);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-plain);\n}\n.rpl-vote-button-group.button-bordered-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-plain-weaker);\n  --button-color-text-hover: var(--color-downvote-plain-weaker);\n  --button-color-text-disabled: var(--color-downvote-plain-disabled);\n  --button-color-text-activated: var(--color-downvote-plain-weaker);\n}\n.rpl-vote-button-group.button-media-cab {\n  --vote-button-label-color: var(--color-media-onBackground);\n  --vote-button-label-color-hover: var(--color-media-onBackground);\n  --vote-button-divider-color: var(--color-media-border-weak);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:first-child {\n  --button-color-text-hover: var(--color-upvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab button[rpl]:last-child {\n  --button-color-text-hover: var(--color-downvote-onStrongScrim-weaker);\n}\n.rpl-vote-button-group.button-media-cab.upvote {\n  --vote-button-label-color: var(--color-upvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.upvote button[rpl]:first-child {\n  --button-color-text-default: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-upvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-upvote-onStrongScrim-disabled);\n}\n.rpl-vote-button-group.button-media-cab.downvote {\n  --vote-button-label-color: var(--color-downvote-onStrongScrim);\n}\n.rpl-vote-button-group.button-media-cab.downvote button[rpl]:last-child {\n  --button-color-text-default: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-activated: var(--color-downvote-onStrongScrim-weaker);\n  --button-color-text-disabled: var(--color-downvote-onStrongScrim-disabled);\n}\n.pdp-flair-slot::slotted(*) {\n  margin: var(--size-2xs) 0;\n}\n.feed-flair-slot::slotted(*) {\n  margin-bottom: var(--size-xs);\n}\n.text-decoration-none {\n  text-decoration: none;\n}\n:host([item-state~='APPROVED']),\n:host([item-state~='REMOVED']) {\n  background-color: var(--color-neutral-background-weak);\n}\n:host([updateAnimation~='light']) {\n  animation: realtimeFade 3s;\n  animation-timing-function: ease-out;\n}\n:host([updateAnimation~='dark']) {\n  animation: realtimeFadeNight 3s;\n  animation-timing-function: ease-out;\n}\n@keyframes realtimeFade {\n  from {\n    background-color: #fff2bd;\n    border: 1px solid #dbaf00;\n  }\n  to {\n    background-color: #f0f5f9;\n    border: 1px solid transparent;\n  }\n}\n@keyframes realtimeFadeNight {\n  from {\n    background-color: #665505;\n    border: 1px solid #382d03;\n  }\n  to {\n    background-color: #030303;\n    border: 1px solid #343536;\n  }\n}\n.condensed-post-title-heading {\n  margin: 0;\n}\n")]}connectedCallback(){super.connectedCallback(),"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_pdp_no_mod_js_lo?g.g()&&this.initModActionsController():this.initModActionsController(),"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools?this.querySelector("shreddit-post-text-body")?.addEventListener(c.R,this.trackReadMoreClick):this.initEditTools(),this.isObserved||this.enableObserver({rootMargin:"0px"}),this.postVoteType=this.voteType,this.postScore=this.score,this.isPDP&&!this.showFullContent&&this.readMoreButton&&this.readMoreButton.addEventListener("click",this.handleClickReadMore),this.gallery&&this.addEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.addEventListener("faceplate-hovercard:open",this.handleHovercardOpen),this.addEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent),e.ao.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0}),e.ap(this.handleVisibilityChange,{immediate:!0}),e.ap(this.handleCalledFirstVisibilityChange,{immediate:!0,shouldBeCalledFirst:!0}),this.pubsub.subscribe(e.T.PostUpdated,this.onPostUpdateAction),this.addEventListener(u.e,this.handleClickCommentsButton),this.addEventListener(u.f,this.handleShareButtonInteraction),this.addEventListener(u.c,this.handleRsvpClick),this.addEventListener(u.b,this.handleUnRsvpClick),this.pubsub.subscribe(e.T.SubredditSubscriptionChange,this.onSubscriptionChange),"enabled"===e.d4("shreddit_hotkeys_m1")&&(this.hotkeyController=new V(this))}async initModActionsController(){const{ModActionsController:t}=await SML.di("./QAQY90ii.js",import.meta.url,"QAQY90ii");new t(this,{getThingIdFn:()=>this.id})}async initEditTools(){const{EditController:t}=await SML.di("./Be3gwiWq.js",import.meta.url,"Be3gwiWq").then((function(t){return t.e}));this.editController=new t(this,{getPostId:()=>this.id,getViewContext:()=>this.viewContext});const{PartialUpdateController:e}=await SML.di("./cZ_9p4W7.js",import.meta.url,"cZ_9p4W7");this._partialUpdateController=new e(this,{getPostId:()=>this.id,getViewContext:()=>this.viewContext,getViewType:()=>this.viewType,getSubredditPrefixedName:()=>this.subredditPrefixedName}),this.checkPostEditMode()}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.listingBelowConsumeTimer),this.isObserved&&this.disableObserver(),this.hasBeenViewed=!1,this.isPostInViewport=!1,this.readMoreButton&&this.readMoreButton.removeEventListener("click",this.handleClickReadMore),"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&this.querySelector("shreddit-post-text-body")?.removeEventListener(c.R,this.trackReadMoreClick),this.gallery&&this.removeEventListener("faceplate-carousel:slide",this.handleCarouselArrowClick),this.removeEventListener("faceplate-hovercard:open",this.handleHovercardOpen),e.ao.unsubscribe(this.onBeforeUnloadCallback),e.aq(this.handleVisibilityChange),e.aq(this.handleCalledFirstVisibilityChange),this.removeEventListener(u.e,this.handleClickCommentsButton),this.removeEventListener(u.f,this.handleShareButtonInteraction),this.removeEventListener(u.c,this.handleRsvpClick),this.removeEventListener(u.b,this.handleUnRsvpClick),this.removeEventListener("capture-devplatform-snapshot",this.handleCustomPostSnapshotEvent)}get isFeed(){return c.a(this.viewContext)}get isPopularFeed(){return this.isFeed&&c.$(this._getPageType())}get isHomeFeed(){return this.isFeed&&c.a0(this._getPageType())}get isPDP(){return c.i(this.viewContext)}get isBrandConversations(){return c.a1(this.viewContext)}get isCardView(){return p.c_(this.viewType)}get isCompactView(){return p.cl(this.viewType)}get isEligibleForRelatedCommunityRecommendations(){return this.isUserLoggedIn&&!!this.subredditId&&(this.isPDP&&!this.isDesktopViewport||this.isHomeFeed||this.isPopularFeed)}renderThumbnail(){return t.x` <slot name="${f}" @slotchange="${this.handleThumbnailSlotChange}"></slot>`}renderExpando(){return t.x`<slot class="hidden col-span-2 w-full mb-xs xs:my-xs" name="${"expando"}"></slot>`}renderCommentsButton(){const o=this.isFeed?{className:this.defaultActionButtonClassnames,onclick:this.handleClickCommentsButton,name:"comments-action-button","data-post-click-location":e.a9.COMMENTS_BUTTON,href:this.permalink,target:this.pdpTarget}:{type:"button",className:this.defaultActionButtonClassnames,onclick:this.handleClickCommentsButton,name:"comments-action-button","data-post-click-location":e.a9.COMMENTS_BUTTON};return t.x`${r.c({appearance:p.ac()?"bordered":"secondary",attributes:o,size:this.defaultActionButtonSize,children:t.x`${this.renderTabUpdateActionComponent("closest(button)")}<faceplate-number number="${this.commentCount}" pretty></faceplate-number>${!this.isUserLoggedIn&&this.isPostCommentTapExp?p.d4({triggerElem:"closest(button)",target:"closest(button)",eventName:"reply"}):t.A}`,leadingIcon:t.a_({attributes:{className:"icon-comment","aria-hidden":"true"},size:r.I[this.defaultActionButtonSize]}),screenReaderContent:"Go to comments"})}`;}renderAwardButton(){return!this.isAwardable||this.applyFeedsSimplification?t.A:t.x`<award-button appearance="${p.ac()?"bordered":"secondary"}" size="${this.defaultActionButtonSize}" button-class="${this.defaultActionButtonClassnames}" thing-id="${this.id}" count="${t.l(this.awardCount)}" award-id="${t.l(this.awardId)}" icon-url="${t.l(this.hideAwardIcon?void 0:this.awardIconUrl)}" icon-urls="${t.l(this.hideAwardIcon?void 0:JSON.stringify(this.awardIconUrls))}" ?is-awarded-by-user="${this.isAwardedByUser}" ?has-iconic-award="${this.hasIconicAward}" ?has-branded-award="${this.hasBrandedAward}" subreddit-id="${t.l(this.subredditId)}" post-id="${this.id}" feed-index="${t.l(this.feedIndex)}" post-type="${t.l(this.postType)}" score="${t.l(this.postScore)}" comment-count="${this.commentCount}"></award-button>`}get defaultActionButtonSize(){return e.$.Small}get defaultActionButtonClassnames(){return p.k("flex flex-row justify-center items-center","h-xl","font-semibold","relative")}renderVoteButton(){const i=p.bN(),s=i?o.a:o.v,n=i?o.b:o.u,r=i?o.c:o.d,a=this.postScore,l="Vote",d={voteType:this.postVoteType||null,appearance:p.ac()?"bordered":"secondary",size:this.defaultActionButtonSize,attributes:{disabled:this.archived}},h=n({...d,voteCount:a,initialStateText:l,screenReaderContent:"Upvote",onClick:this.handleUpvote}),u=r({...d,screenReaderContent:"Downvote",onClick:this.handleDownvote});return t.x` <span class="relative leading-[0] ${this.disabled?"disabled":""}"> ${this.renderTabUpdateActionComponent()} ${s({attributes:{"data-post-click-location":e.a9.VOTE,className:this.defaultActionButtonClassnames},voteCount:a,voteType:this.postVoteType,upvoteButton:h,downvoteButton:u,appearance:d.appearance,size:d.size,initialStateText:l})} </span> `}renderShareButton(){if(this.applyFeedsSimplification)return t.A;const o=t.x` <shreddit-post-share-button data-post-click-location="${e.a9.SHARE}" permalink="${this.permalink}" source-id="${this.id}" ?is-crosspostable="${this.isCrosspostable}" ?is-embeddable="${this.isEmbeddable}" ?is-desktop-viewport="${this.isDesktopViewport}" ?ssr="${this.shareButtonSSR}" ?hide-button-text="${!this.isDesktopViewport}" ?show-share-menu-profile-coachmark="${this.showShareMenuProfileCoachmark}" size="${this.defaultActionButtonSize}" button-class="${this.defaultActionButtonClassnames}" @click="${this.handleShareButtonInteraction}" @keydown="${this.handleShareButtonInteraction}" appearance="${p.ac()?"bordered":"secondary"}" data-faceplate-tracking-context="${JSON.stringify({post:{id:this.id}})}" ${e.at(this.shareButtonRef)}> ${this.shareButtonSSR?t.x`<slot name="${O}" slot="${O}"></slot>`:t.A} </shreddit-post-share-button> `;return this.isCrosspostingV2Enabled&&this.isCrosspostingCoachmarkOpen&&"Subreddit"===this.eligibleCrosspostingSubreddit?.__typename?t.x`<slot name="${D}"> <crosspost-upsell-coachmark post-id="${this.id}" name="${this.eligibleCrosspostingSubreddit?.name}" prefixed-name="${this.eligibleCrosspostingSubreddit?.prefixedName}" subreddit-id="${this.eligibleCrosspostingSubreddit?.id}" ?open="${this.isCrosspostingCoachmarkOpen}"> ${o} </crosspost-upsell-coachmark> </slot> `:t.x` <slot name="${D}"> ${o} </slot> `}renderExpandoButton(){return this.isDesktopViewport?this._expandoController.renderExpandoButton():""}renderReportButton(){const o="Report";return t.x` ${r.c({appearance:"secondary",attributes:{onclick:()=>{var t,o;this.trackEvent((t="post",e.b({source:t,action:"click",noun:"report"}))),this.dispatchEvent((o=this.id,e.c(e.jD,{thingId:o})))},type:"button",className:this.defaultActionButtonClassnames},size:this.defaultActionButtonSize,children:this.isDesktopViewport?o:"",leadingIcon:t.cg({attributes:{className:"icon-report","aria-hidden":"true"},size:r.I[this.defaultActionButtonSize]}),screenReaderContent:o})} `}renderActionRowWhitespace(){return t.x`<slot name="${"action-row-whitespace"}"></slot>`}renderActionRow(){if(this.isPDP&&this.isPdpSeekerM1LO)return this.renderSeekerPostInfoRow();const o=["shreddit-post-container flex gap-sm flex-row items-center flex-nowrap justify-start"];this.isPDP?this.isCompactUIExp?o.push("py-xs px-md xs:px-0"):o.push("h-2xl mt-md px-md xs:px-0"):this.isCardView&&!this.promoted&&!this.isCrosspost&&this.isEmbed&&o.push("pt-xs");const i="enabled"===e.d4("shreddit_hotkeys_m1");return t.x`<div class="${o.join(" ")}" data-testid="action-row" tabindex="${i?"0":"-1"}" aria-label="${"Actions available for this post"}"> ${this.renderVoteButton()} ${this.renderCommentsButton()} ${this.renderAwardButton()} ${this.renderShareButton()} ${this.isReportingEnabled&&!this.isFeed?this.renderReportButton():""} <div class="ms-auto flex flex-row"> <slot name="${L}"></slot> ${this.isDesktopViewport?this._promotePostButtonController.maybeRenderPromotePostButton():t.A} </div> ${this.renderActionRowWhitespace()} </div>`;}renderSeekerPostInfoRow(){return t.x` <div class="px-md xs:px-0 py-xs truncate text-neutral-content-weak text-12 flex items-center gap-2xs font-semibold" data-testid="seeker-post-info-row"> ${void 0!==this.postScore?t.x` ${t.bn({size:t.I.Small})} <faceplate-number number="${this.postScore}" pretty></faceplate-number> ${t.bl({size:t.I.Small})} `:t.A} ${this.postScore&&this.commentCount?t.x`<span data-testid="seeker-post-info-row-divider">·</span>`:t.A} ${this.commentCount?t.x` ${t.a_({size:t.I.Small})} <faceplate-number number="${this.commentCount}" pretty></faceplate-number> `:t.A} </div> `}renderMessageBanner(){return t.x` ${this.isLocked?t.x`<slot name="${"post-locked-banner"}"></slot>`:null} ${this.isBanned?t.x`<slot name="${"post-banned-banner"}"></slot>`:null} <slot name="${"post-archived-banner"}"></slot> ${this.showPostRemovalBanner?t.x`<slot name="${"post-removed-banner"}"></slot>`:null} ${this.isContestMode?t.x`<slot name="${"post-contest-mode-banner"}"></slot>`:null} `}getMaxTextBodyHeight(t){return this.isPDP?Math.max(t,253):208}trackContentTagClick(t){t.detail.type===n.C.APP&&this.trackWatermarkEvent("v1_badge")}trackWatermarkEvent(t){const o=e.b(m.c({postId:this.id||"",subredditId:this.subredditId||"",blockType:"",pageType:e.B(),action:"click",noun:"watermark",appId:this.appId||"",appInstallationId:this.appInstallationId||"",appVersionNumber:this.appVersionNumber||"",appPublicApiVersion:this.appPublicApiVersion||"",appName:this.appSlug||"",appSlug:this.appSlug||"",userAgent:window.navigator?.userAgent.toLowerCase()||"unknown",watermark:t}));this.trackEvent(o)}hideTextPostContentOverflow(){const t=this.querySelector(`#${this.id}-post-rtjson-content`);if(!t)return;const e=this.querySelector(".post-content")||this.querySelector('div[slot="text-body"]'),o=e?.querySelectorAll("faceplate-img"),i=.2*window.innerHeight,s=(o?.length||0)*i,n=this.getMaxTextBodyHeight(t.clientHeight),r=t.scrollHeight+s>n;if(r&&r){if(!this.shouldContTruncate())return void this.revealTruncatedContent();this.querySelector(`#${this.id}-overflow-cover`)?.classList?.remove(c.C),this.readMoreButton?.classList?.remove(c.C),this.readMoreButton?.classList?.add(c.j)}}shouldContTruncate(){return"enabled"!==window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&p.Z(this.readMoreButton?.dataset)}renderPostHeader(){return t.x` <slot name="${A}"></slot> ${this.isEligibleForRelatedCommunityRecommendations?t.x`<slot name="${"related-community-recommendation"}"></slot>`:t.x``} <div id="content-tag-container" class="flex justify-between gap-xs ${e.y({"px-md":this.isPDP,"xs:px-0":this.isPDP})}"> ${this.renderContentTags()} ${this.renderAppPrivacyButton()} </div> ${this.renderPostLinkForMTSEO()} `}renderAppPrivacyButton(){return this.appName?t.x`<rpl-dialog-trigger dialog-id="${this.appSlug}-privacy-dialog"> ${e.n({appearance:"plain",attributes:{onclick:()=>(this.trackWatermarkEvent("v1_privacy_link"),this._activateFeature({name:e.jE,routeParams:{appSlug:this.appSlug,appName:this.appName,appOwnerId:this.appOwnerId||"null",postId:this.id,subredditId:this.subredditId},renderMode:e.g.Contents})),className:"flex gap-xs"},children:"Privacy",leadingIcon:t.am({size:t.I.ExtraSmall}),size:e.$.ExtraSmall})} </rpl-dialog-trigger>`:t.A;}renderPostLinkForMTSEO(){if(!this.isMTSEOUserPage)return"";const o=new RegExp(/[^?]+/),i=this.permalink?.match(o);if(!i||0===i.length)return"";const s=e.c7(i[0],e.jG,e.jF);return t.x` <mtseo-show-original-link post-id="${this.id}" href="${s}" ?with-intervention="${this.hasMTSEOTranslationInterruption}"></mtseo-show-original-link> `}renderTitle(){const e=t.x`<slot name="${"title"}"></slot>`;return this.showFullContent||this.isPDP?e:t.x`<h2 class="condensed-post-title-heading">${e}</h2>`}renderTextBody(){if("enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools)return t.x`<slot name="${M}"></slot>`;if(this.isUpdatingPostBody)return t.x` <faceplate-shimmer class="h-[200px] w-full px-md xs:px-0" shape="pill"></faceplate-shimmer> `;if(this.editController?.isEditing)return this.editController.renderEditor();const e=M;return t.x`<slot @slotchange="${this.handleTextBodySlotChange}" name="${e}"></slot>`}renderPostMediaContainer(e){return t.x` <slot @slotchange="${this.handleContentSlotChange}" name="${"post-media-container"}" class="${e??""}"></slot> `}renderFeedFlair(){return this.isPDP?"":t.x`<div> <slot name="${$}" class="feed-flair-slot"></slot> </div>`}renderPDPFlair(){const e=this.isCompactUIExp?"leading-none":"xs:px-0";return this.isPDP?t.x`<div class="px-md ${e}"> <slot name="${$}" class="pdp-flair-slot"></slot> </div>`:""}renderDeletedPost(){return t.x` <div class="deleted-post h-3xl flex items-center"> <p class="font-semibold text-neutral-content-strong text-14"> ${"Post deleted"} </p> </div> `;}renderHiddenPost(){return t.x` <div class="hidden-post h-3xl flex items-center justify-between px-md"> <div> <p class="m-0 font-semibold text-neutral-content-strong text-14"> ${"Post hidden"} </p> </div> ${e.n({attributes:{onclick:this.unhidePost},size:e.$.Medium,appearance:"secondary",children:"Undo"})} </div> `;}renderCompactView(){const e="grid grid-cols-[1fr_min-content] grid-rows-[auto_auto_auto_auto_auto] xs:grid-cols-[min-content_1fr] xs:grid-rows-[auto_auto_auto_auto]",o="col-start-1 col-end-3 row-start-1 row-end-2 xs:col-start-1 xs:col-end-3 xs:row-start-1 xs:row-end-2",i="col-start-2 col-end-3 row-start-2 row-end-3 xs:col-start-1 xs:col-end-2 xs:row-start-2 xs:row-end-4",s="col-start-1 col-end-2 row-start-2 row-end-3 xs:col-start-2 xs:col-end-3 xs:row-start-2 xs:row-end-3 overflow-hidden",n="col-start-1 col-end-3 row-start-3 row-end-4 xs:hidden",r="col-start-1 col-end-3 row-start-4 row-end-5 xs:col-start-2 xs:col-end-3 xs:row-start-3 xs:row-end-4",a="col-start-1 col-end-3 row-start-5 row-end-6 xs:col-start-2 xs:col-end-3 xs:row-start-4 xs:row-end-5 overflow-hidden",l="col-start-1 col-end-3 row-start-6 row-end-7 xs:col-start-2 xs:col-end-3 xs:row-start-5 xs:row-end-6";return t.x` <slot name="${B}"></slot> <div class="${p.k("grid",e)}"> <div class="${o}"> <slot name="${"recommendation-bar"}"></slot> </div> <div class="${p.k(i,"mt-2xs ml-xs xs:my-2xs xs:ml-0 xs:mr-md")}"> <slot name="${f}"></slot> </div> <div class="${p.k(s,"mt-2xs")}"> <div class="mb-2xs xs:mb-0"> <slot name="${A}"></slot> </div> <div class="overflow-hidden"> ${this.renderTitle()} <slot name="${"content-tags"}"></slot> <slot name="${"app-privacy"}"></slot> <slot name="${$}"></slot> </div> <div> <slot name="${U}"></slot> <slot name="${L}"></slot> </div> <div> <slot name="${"desktop-cta-row"}"></slot> </div> </div> <div class="${n}"> <slot name="${"mobile-cta-row"}"></slot> </div> <div class="${p.k(r,"flex gap-2xs overflow-hidden items-center mb-2xs mt-xs xs:mt-[2px]")}"> <slot name="${"action-bar-ad-cta"}"></slot> ${this.renderExpandoButton()}${this.renderVoteButton()} <slot name="${"overflow-menu-bar"}" class="grow overflow-hidden block"></slot> </div> <div class="${a}"> <slot name="${"expando-content"}"></slot> </div> <div class="${l}">${this.renderPostStatsEntryPoint()}</div> </div> ${this.renderPostStatsContainer()} `}renderPostStatsContainer(){return t.x`<slot name="${"post-insights-panel"}"></slot>`}renderPostStatsEntryPoint(){return t.x`<slot name="${"post-stats-entry-point"}"></slot>`}renderCardViewPostFooter(){return t.x` ${this.renderMessageBanner()} <slot name="${"post-recovery-section"}"></slot> ${this.renderActionRow()} ${this.renderPostStatsEntryPoint()} ${this.renderPostStatsContainer()} `}renderContentTags(){return t.x`<shreddit-content-tags post-id="${this.id}" ?nsfw="${this.nsfw}" ?spoiler="${this.spoiler}" app="${this.appSlug}" ?game="${this.game}" @tag-click="${t=>this.trackContentTagClick(t)}"></shreddit-content-tags>`}renderSlimCardPost(){return t.x` <slot name="${B}"></slot> <slot></slot> <div class="pt-xs">${this.renderCardViewPostFooter()}</div> `}renderCardView(){const e=this.isThumbnailSet?"ml-xs xs:ml-sm":void 0;return t.x` <slot name="${B}"></slot> ${this.renderPostHeader()} <div class="flex"> <div class="flex flex-col grow max-w-full"> ${this.renderTitle()} ${this.renderPDPFlair()} <slot name="${U}"></slot> ${this.isPDP?null:this.renderTextBody()} ${this.renderFeedFlair()} </div> <div class="${t.l(e)}">${this.renderThumbnail()}</div> </div> ${this.renderPostMediaContainer("xs:pt-md")} ${this.isPDP?this.renderTextBody():null} <slot></slot> ${this.renderCardViewPostFooter()} `}render(){return this.deleted?this.renderDeletedPost():this.showShortHiddenPostForm()?this.renderHiddenPost():this.isCompactView?this.renderCompactView():this.isSlimCard?this.renderSlimCardPost():this.renderCardView()}handleView(t,e,o){!e&&this.isPDP||c.a2(this.viewContext)&&this.hasBeenViewed||this.trackEvent(t),this.gallery&&this.trackEvent(v.a(this,0,o)),this.morePostsCursor&&this.handleLoadMorePosts()}handleConsume(){!this.isPDP&&this.becameVisibleOnScreenTimestamp&&Date.now()-this.becameVisibleOnScreenTimestamp>c.c&&!c.a2(this.viewContext)&&this.trackConsume()}handleClick(t,e){t&&this.trackEvent(t),e&&this.dispatchEvent(e)}handleShareButtonInteraction(){this.isDesktopViewport?this.handleClick(c.a3(this)):this.handleClick(c.a4(this))}_navigateToUrl(t,e){"_self"===e?window.location.href=t:window.open(t,e)}handleClickCommentsButton(t){if(this.trackEvent(c.n(this)),this.isFeed)return;this.isPostCommentTapExp||T.s("smooth");if((t?.currentTarget?.querySelector("faceplate-number")?.number??0)>0&&!this.isPostCommentTapExp){const t=document.querySelector("shreddit-comments-sort-dropdown")?.querySelector("shreddit-sort-dropdown")?.shadowRoot?.querySelector("faceplate-dropdown-menu")?.querySelector("button");t?.focus()}else{if(!this.isUserLoggedIn&&this.isPostCommentTapExp)return;const t=document.querySelector("comment-body-header comment-composer-host");this.isPostCommentTapExp&&t?.scrollIntoView({behavior:"smooth",block:"center"}),t?.focus()}}handleClickPost(t){const e=c.a5(t,this);this.handleClick(e)}handleCarouselArrowClick(t){t.preventDefault();const e=t;v.h(this,e)}async handleUpdatePostVote(t){const i=this.postScore,s=this.postVoteType;if(void 0!==this.postScore){const e=this._getPostScoreDelta(t);this.postScore=this.postScore+e}this.postVoteType=t===this.postVoteType?void 0:t;try{await this._onUpdatePostVoteType(),this.postVoteType&&this.pubsub.publish(this.postVoteType===o.V.Upvote?e.T.PostUpvoted:e.T.PostDownvoted,{postId:this.id})}catch(o){this.postScore=i,this.postVoteType=s,this.dispatchEvent(e.c("faceplate-alert",{level:e.a5.warning,message:o,sourceElement:t,cause:`failed-${t}`}))}}async handleCrosspostingV2Experiment(){const t=await I(this.id);this.eligibleCrosspostingSubreddit=t,this.isCrosspostingCoachmarkOpen=!!t}async handleUpvote(t){const i=this.postVoteType===o.V.Upvote;if(this.isUserLoggedIn)return this.handleClick(i?c.r(this):c.u(this)),await this.handleUpdatePostVote(o.V.Upvote),!i&&this.isCrosspostingV2Enabled&&this.handleCrosspostingV2Experiment(),void(this.isAma&&!i&&this.pubsub.publish(e.T.TriggerAmaRemindMeModal,{postId:this.id}));this.disabled?(this.dispatchEvent(e.c(e.ac.upvoteTry)),this.trackEvent(c.a6(this))):this.handleClick(c.u(this),e.c(e.ac.upvote))}async handleDownvote(t){if(this.isUserLoggedIn)return this.handleClick(this.postVoteType===o.V.Downvote?c.r(this):c.s(this)),void (await this.handleUpdatePostVote(o.V.Downvote));this.disabled?(this.dispatchEvent(e.c(e.ac.downvoteTry)),this.trackEvent(c.a6(this))):this.handleClick(c.s(this),e.c(e.ac.downvote))}onBeforeUnload(){this._hasPageUnloaded=!0,this.isPostInViewport&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&this.trackEvent(c.Y(this)))}handleHovercardOpen(t){if(!(t.target instanceof HTMLElement&&"id"in t.target.dataset))return;const e=t.target.dataset.id;"community-hover-card"===e&&this.trackEvent(c.a7(this)),"user-hover-card"===e&&this.trackEvent(c.a8(this))}handleTextBodySlotChange(t){this.showFullContent||requestAnimationFrame((()=>this.hideTextPostContentOverflow()))}handleContentSlotChange(t){this.showFullContent||requestAnimationFrame((()=>this.hideTextPostContentOverflow()))}handleThumbnailSlotChange(t){const e=t.target?.assignedElements();this.isThumbnailSet=e.length>0}observerIsIntersectingCallback(t){this.isNotBrandSafe&&t.target===this&&window.dispatchEvent(e.c(h.B,{postId:this.id,isInView:!0})),this.isPostInViewport||(this.isPostInViewport=!0,this.becameVisibleOnScreenTimestamp=Date.now(),this.handleView(c.l(this),!this.isPDP),this.isTranslatable&&p.c2.post(this),this.hasBeenViewed=!0,c.a2(this.viewContext)&&(this.listingBelowConsumeTimer=setTimeout(this.trackConsume,c.c)))}observerIsNotIntersectingCallback(t){clearTimeout(this.listingBelowConsumeTimer),this.isNotBrandSafe&&t.target===this&&window.dispatchEvent(e.c(h.B,{postId:this.id,isInView:!1}));const o=this.isPostInViewport;this.isPostInViewport=!1,o&&(this.handleConsume(),this.isPostLeaveEventsEnabled&&this.trackEvent(c.Y(this)))}checkPostEditMode(){const t=new URLSearchParams(window.location.search);if(t.get(u.E)){this.pubsub.publish(e.T.PostUpdated,{postId:this.id,action:u.a.edit,value:!0}),t.delete(u.E);const o=t.toString(),i=window.location.pathname+(o.length?"?":"")+o;window.history.replaceState({},document.title,i)}}};return t._([t.n({type:Boolean})],z.prototype,"archived",void 0),t._([t.n({type:Boolean})],z.prototype,"deleted",void 0),t._([t.n({type:Boolean,reflect:!0})],z.prototype,"hidden",void 0),t._([t.n({type:String,attribute:"author-id"})],z.prototype,"authorId",void 0),t._([t.n({type:String,attribute:"created-timestamp"})],z.prototype,"createdTimestamp",void 0),t._([t.n({type:String})],z.prototype,"domain",void 0),t._([t.n({type:String,attribute:"content-href"})],z.prototype,"contentHref",void 0),t._([t.n({type:String})],z.prototype,"id",void 0),t._([t.n({type:String,attribute:"user-id"})],z.prototype,"userId",void 0),t._([t.n({type:String,attribute:"app-id"})],z.prototype,"appId",void 0),t._([t.n({type:String,attribute:"app-slug"})],z.prototype,"appSlug",void 0),t._([t.n({type:Boolean})],z.prototype,"game",void 0),t._([t.n({type:String,attribute:"app-installation-id"})],z.prototype,"appInstallationId",void 0),t._([t.n({type:String,attribute:"app-name"})],z.prototype,"appName",void 0),t._([t.n({type:String,attribute:"app-owner-id"})],z.prototype,"appOwnerId",void 0),t._([t.n({type:String,attribute:"app-version-number"})],z.prototype,"appVersionNumber",void 0),t._([t.n({type:String,attribute:"app-public-api-version"})],z.prototype,"appPublicApiVersion",void 0),t._([t.n({type:Boolean,reflect:!0})],z.prototype,"nsfw",void 0),t._([t.n({type:Boolean})],z.prototype,"promoted",void 0),t._([t.n({type:Number})],z.prototype,"score",void 0),t._([t.n({type:Boolean,reflect:!0})],z.prototype,"spoiler",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],z.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],z.prototype,"subredditName",void 0),t._([t.n({type:Boolean,attribute:"is-subscribed"})],z.prototype,"isSubscribed",void 0),t._([t.n({type:String,attribute:"subreddit-prefixed-name"})],z.prototype,"subredditPrefixedName",void 0),t._([t.n({type:String,attribute:"post-title"})],z.prototype,"postTitle",void 0),t._([t.n({type:String,attribute:"post-type"})],z.prototype,"postType",void 0),t._([t.n({type:String,attribute:"recommendation-source"})],z.prototype,"recommendationSource",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-id"})],z.prototype,"recommendationSubredditId",void 0),t._([t.n({type:String,attribute:"recommendation-subreddit-name"})],z.prototype,"recommendationSubredditName",void 0),t._([t.n({type:String,attribute:"post-language"})],z.prototype,"postLanguage",void 0),t._([t.n({type:String,attribute:"translation-language"})],z.prototype,"translationLanguage",void 0),t._([t.n({type:Boolean,attribute:"is-translation-on",reflect:!0})],z.prototype,"isTranslationOn",void 0),t._([t.n({type:Number})],z.prototype,"feedIndex",void 0),t._([t.n({type:Boolean,attribute:"stickied"})],z.prototype,"isStickied",void 0),t._([t.n({type:Boolean,attribute:"highlighted"})],z.prototype,"isHighlighted",void 0),t._([t.n({type:Boolean,attribute:"crossposting-v2-enabled"})],z.prototype,"isCrosspostingV2Enabled",void 0),t._([t.n({type:Number,attribute:"comment-count"})],z.prototype,"commentCount",void 0),t._([t.n({type:Boolean,attribute:"is-awardable"})],z.prototype,"isAwardable",void 0),t._([t.n({type:Number,attribute:"award-count"})],z.prototype,"awardCount",void 0),t._([t.n({type:String,attribute:"award-id"})],z.prototype,"awardId",void 0),t._([t.n({type:String,attribute:"award-icon-url"})],z.prototype,"awardIconUrl",void 0),t._([t.n({type:Array,attribute:"award-icon-urls"})],z.prototype,"awardIconUrls",void 0),t._([t.n({type:Boolean,attribute:"hide-award-icon"})],z.prototype,"hideAwardIcon",void 0),t._([t.n({type:Boolean,attribute:"is-awarded-by-user"})],z.prototype,"isAwardedByUser",void 0),t._([t.n({type:Boolean,attribute:"has-iconic-award"})],z.prototype,"hasIconicAward",void 0),t._([t.n({type:Boolean,attribute:"has-branded-award"})],z.prototype,"hasBrandedAward",void 0),t._([t.n({type:String})],z.prototype,"permalink",void 0),t._([t.n({type:Boolean})],z.prototype,"gallery",void 0),t._([t.n({type:String,attribute:"view-context"})],z.prototype,"viewContext",void 0),t._([t.n({type:String,attribute:"view-type"})],z.prototype,"viewType",void 0),t._([t.n({type:Boolean,attribute:"is-slim-card"})],z.prototype,"isSlimCard",void 0),t._([t.n({type:Boolean,attribute:"is-desktop-viewport"})],z.prototype,"isDesktopViewport",void 0),t._([t.n({type:Boolean,attribute:"is-reporting-enabled"})],z.prototype,"isReportingEnabled",void 0),t._([t.n({type:Boolean,attribute:"is-link-post"})],z.prototype,"isLinkPost",void 0),t._([t.n({type:Boolean,attribute:"is-ama"})],z.prototype,"isAma",void 0),t._([t.n({type:Boolean,attribute:"is-embed"})],z.prototype,"isEmbed",void 0),t._([t.n({type:Boolean,attribute:"is-not-brand-safe"})],z.prototype,"isNotBrandSafe",void 0),t._([t.n({type:Boolean,attribute:"is-crosspost"})],z.prototype,"isCrosspost",void 0),t._([t.n({type:Boolean,attribute:"is-crosspostable"})],z.prototype,"isCrosspostable",void 0),t._([t.n({type:Boolean,attribute:"is-embeddable"})],z.prototype,"isEmbeddable",void 0),t._([t.n({type:Boolean,attribute:"user-logged-in"})],z.prototype,"isUserLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"disabled"})],z.prototype,"disabled",void 0),t._([t.n({type:String,attribute:"vote-type"})],z.prototype,"voteType",void 0),t._([t.n({type:Boolean,attribute:"show-full-content"})],z.prototype,"showFullContent",void 0),t._([t.n({type:Boolean,attribute:"is-translatable"})],z.prototype,"isTranslatable",void 0),t._([t.n({type:Boolean,attribute:"is-translation-fetched",reflect:!0})],z.prototype,"isTranslationFetched",void 0),t._([t.n({type:Boolean,attribute:"is-post-translated",reflect:!0})],z.prototype,"isPostTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-post-body-translated",reflect:!0})],z.prototype,"isPostBodyTranslated",void 0),t._([t.n({type:Boolean,attribute:"is-mt-seo-user-page",reflect:!0})],z.prototype,"isMTSEOUserPage",void 0),t._([t.n({type:Boolean,attribute:"has-mt-seo-translation-interruption"})],z.prototype,"hasMTSEOTranslationInterruption",void 0),t._([t.n({type:String,attribute:"more-posts-cursor"})],z.prototype,"morePostsCursor",void 0),t._([t.n({type:Boolean,attribute:"should-track-post-leave-events"})],z.prototype,"isPostLeaveEventsEnabled",void 0),t._([t.n({type:Boolean,attribute:"locked",reflect:!0})],z.prototype,"isLocked",void 0),t._([t.n({type:Boolean,attribute:"banned",reflect:!0})],z.prototype,"isBanned",void 0),t._([t.n({type:Boolean,attribute:"is-contest-mode",reflect:!0})],z.prototype,"isContestMode",void 0),t._([t.n({type:String,attribute:"pdp-target"})],z.prototype,"pdpTarget",void 0),t._([t.n({type:Boolean,attribute:"is-promoteable-post"})],z.prototype,"isPromoteablePost",void 0),t._([t.n({type:String,attribute:"moderation-verdict"})],z.prototype,"moderationVerdict",void 0),t._([t.n({type:Boolean,attribute:"previous-actions-feature"})],z.prototype,"previousActionsFeature",void 0),t._([t.n({type:String,reflect:!0})],z.prototype,"updateAnimation",void 0),t._([t.n({type:String,attribute:"item-state",reflect:!0})],z.prototype,"itemState",void 0),t._([t.n({type:Boolean,attribute:"are-reports-expandable"})],z.prototype,"areReportsExpandable",void 0),t._([t.n({type:Boolean,attribute:"compact-ui-experiment"})],z.prototype,"isCompactUIExp",void 0),t._([t.n({type:Boolean,attribute:"post-comment-tap-exp"})],z.prototype,"isPostCommentTapExp",void 0),t._([t.n({type:Boolean,attribute:"is-pdp-seeker-m1-lo"})],z.prototype,"isPdpSeekerM1LO",void 0),t._([t.n({type:Boolean,attribute:"share-button-ssr"})],z.prototype,"shareButtonSSR",void 0),t._([t.n({type:Boolean,attribute:"interaction-from-hotkey"})],z.prototype,"interactionFromHotkey",void 0),t._([t.n({type:Boolean,attribute:"apply-feeds-simplification"})],z.prototype,"applyFeedsSimplification",void 0),t._([t.b()],z.prototype,"showPostRemovalBanner",void 0),t._([t.b()],z.prototype,"showExpando",void 0),t._([t.b()],z.prototype,"postVoteType",void 0),t._([t.b()],z.prototype,"postScore",void 0),t._([t.b()],z.prototype,"useShortHiddenPostForm",void 0),t._([t.b()],z.prototype,"isThumbnailSet",void 0),t._([t.b()],z.prototype,"isUpdatingPostBody",void 0),t._([t.b()],z.prototype,"displayPostAnalytics",void 0),t._([t.b()],z.prototype,"isCrosspostingCoachmarkOpen",void 0),t._([t.b()],z.prototype,"eligibleCrosspostingSubreddit",void 0),z=t._([t.c("shreddit-post")],z),{get S(){return z}}}));
SML.dm("BJFTbupA",["DN8NCGGW","DVMhF-xZ","CElIDZoh","CnZCQZdH"],(async(t,a,i)=>{const e=new DOMParser;let s=class extends t.s{constructor(){super(...arguments),this.postId="",this.flairClass="",this.pubsub=new a.P(this),this.onPostFlairChange=t=>{t.postId===this.postId&&this.renderUpdatedFlair(t.updatedHtml)}}connectedCallback(){super.connectedCallback(),requestAnimationFrame((()=>{this.pubsub.subscribe(a.T.PostFlairUpdated,this.onPostFlairChange)}))}renderUpdatedFlair(t){const a=this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0];if(!t&&a)return void a.remove();const i=e.parseFromString(t,"text/html").body.firstChild;if(i){if(this.flairClass&&i instanceof HTMLElement){const t=this.flairClass.split(" ").filter((t=>!!t));i.classList.add(...t)}a?a.replaceWith(i):this.appendChild(i)}}render(){return t.x`<slot></slot>`}};s.styles=[a.t],t._([t.n({type:String,attribute:"post-id"})],s.prototype,"postId",void 0),t._([t.n({type:String,attribute:"flair-class"})],s.prototype,"flairClass",void 0),s=t._([t.c("shreddit-post-flair")],s);let r=class extends t.s{constructor(){super(...arguments),this.translationContextValue=a.aw,this.pubsub=new a.P(this),this.getIsTranslationActive=()=>{const t=i.aA();return"boolean"==typeof this.postTranslated?this.postTranslated:t||!!this.translationContextValue?.isTranslationActive},this.onPostTranslationOverride=t=>{(t.id===this.postId||t.isContextUpdateEvent)&&(this.postTranslated=t.isTranslationActive)},this.handleClick=()=>{if(!this.postId)return;const t=a.B()===a.ab.PostDetail;this.pubsub.publish(a.T.I18nPostTranslationOverride,{id:this.postId,isTranslationActive:!this.getIsTranslationActive(),pageType:t?"PDP":"FEED"})}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(a.T.I18nPostTranslationOverride,this.onPostTranslationOverride,!1);const t=i.aB.get();this.isPdpBannerSettingEnabled=t?.isPdpBannerSettingEnabled??!0,this.pageType=a.B()}render(){return this.isPdpBannerSettingEnabled&&this.pageType===a.ab.PostDetail?t.A:t.x` <rpl-tooltip appearance="inverted" placement="top" trigger="hover focus" content="${this.getIsTranslationActive()?"Show original":"Translate"}"> ${a.n({appearance:"plain",attributes:{onclick:this.handleClick,"aria-label":"Toggle post translation"},leadingIcon:this.getIsTranslationActive()?t.ah({size:t.I.ExtraSmall,attributes:{"data-testid":"post-translation-status-icon-translated-icon","aria-label":"Post is translated",className:"text-primary-plain"}}):t.ai({size:t.I.ExtraSmall,attributes:{"data-testid":"post-translation-status-icon-original-icon","aria-label":"Post is in original language",className:"text-primary-plain"}}),size:a.$.ExtraSmall})} </rpl-tooltip> `;}};r.styles=[a.t],t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([a.av({context:a.ax,subscribe:!0}),t.b()],r.prototype,"translationContextValue",void 0),t._([t.b()],r.prototype,"postTranslated",void 0),t._([t.b()],r.prototype,"isPdpBannerSettingEnabled",void 0),t._([t.b()],r.prototype,"pageType",void 0),r=t._([t.c("post-translation-status-icon")],r)}));
SML.dm("Cj0lkmUN",["DN8NCGGW","DVMhF-xZ","CMS2OfNt"],(async(t,e,i)=>{const s=e.e(t.s),o=["allow-forms","allow-orientation-lock","allow-popups","allow-popups-to-escape-sandbox","allow-presentation","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" ");let r=class extends s{constructor(){super(...arguments),this.postId="",this.limitHeight=!1,this.onMessage=t=>{const{data:e}=t;if(!t.source||t.source!==this.iframe?.contentWindow||"tweet-measured"!==e?.action||i.e(e?.id36)!==this.postId)return;this.iframe.height=`${e?.height}px`,this.limitHeight&&e?.height>550?(this.renderRoot?.querySelector(`#${this.postId}-tweet-overflow`)?.classList.remove("hidden"),this?.style.setProperty("height","550px")):this?.style.setProperty("height",`${e?.height+4}px`),this.renderRoot?.querySelector(`#${this.postId}-tweet-loading-placeholder`)?.remove();const s=document.querySelector(`#${this.postId}-post-media-container`),o=s?.querySelector(`#${this.postId}-aspect-ratio`);if(o){const t=this.offsetHeight/this.offsetWidth;o?.style.setProperty("--aspect-ratio",`${t}`);const e=this.offsetHeight-o.offsetHeight;o?.style.setProperty("height",`${e}px`)}}}static get styles(){return[e.t]}connectedCallback(){super.connectedCallback(),window.addEventListener("message",this.onMessage)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("message",this.onMessage)}onIframeLoad(){this.iframe?.contentWindow?.postMessage("twitter-measure-requested","https://www.redditmedia.com")}render(){const e=`${i.d(this.postId)}?responsive=true&is_nightmode=${matchMedia("(prefers-color-scheme: dark)").matches}`;return t.x` <div id="${this.postId}-tweet-loading-placeholder" class="${this.className} bg-neutral-background-weak absolute left-0 right-0 top-0 bottom-0"></div> <div class="overflow-hidden flex justify-center w-100 ${this.limitHeight?"max-h-[550px] ":""}"> <iframe id="${this.postId}-tweet-iframe" scrolling="no" allowfullscreen class="items-center overflow-hidden b-0 border-transparent justify-center bg-neutral-background-weak max-w-[550px] rounded-[14px]" max-width="${"550px"}" width="100%" title="${this.title}" aria-label="Tweet: ${this.title}" src="${e}" sandbox="${o}" @load="${this.onIframeLoad}" allowtransparency="true"></iframe> </div> ${this.limitHeight?t.x`<div id="${this.postId}-tweet-overflow" class="h-[66px] mt-[-66px] w-100 from-[color:var(--color-neutral-background-weak)] bg-gradient-to-t hidden isolate pointer-events-none"></div>`:""} `}};t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"limit-height"})],r.prototype,"limitHeight",void 0),t._([t.w("iframe")],r.prototype,"iframe",void 0),r=t._([t.c("shreddit-tweet-embed")],r)}));
SML.dm("-o-o9pmj",["DN8NCGGW","DVMhF-xZ"],(async(t,e)=>{let s=class extends t.s{constructor(){super(...arguments),this.handleInteraction=t=>{e.d(t)&&this.handleAction()}}static get styles(){return t.i`:host{display:contents}`}handleAction(){this.topic&&e.p(this.topic,this.data)}render(){return t.x`<slot @click="${this.handleInteraction}" @keypress="${this.handleInteraction}"></slot>`}};t._([t.n({type:String})],s.prototype,"topic",void 0),t._([t.n({type:Object})],s.prototype,"data",void 0),s=t._([t.c("shreddit-pubsub-publisher")],s)}));
SML.dm("5XAGySzy",["DN8NCGGW","DVMhF-xZ"],(async(t,o)=>{let e=class extends t.s{constructor(){super(...arguments),this.isDesktop=!1,this.isLoggedIn=!1,this.isFollowed=!1,this.trackingSource="profile",this.toggleLoadingIcon=()=>{const t=this.isFollowed?".unfollow-button":".follow-button",o=this.querySelector(`${t} .loading-icon`),e=this.querySelector(`${t} .button-leading-icon`)?.parentElement;if(o?.classList.toggle("hidden"),e?.classList.toggle("hidden"),!this.isDesktop){const o=this.querySelector(`${t} .button-text`);o?.classList.toggle("hidden")}}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onClick)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onClick)}async onClick(){if(this.redditorId&&this.isLoggedIn){const t={input:{accountId:this.redditorId,state:this.isFollowed?o.a8.None:o.a8.Followed}};this.toggleLoadingIcon();try{const e=await o.r({operation:o.O.UpdateProfileFollowState,variables:t});return this.toggleLoadingIcon(),void(e.data.updateProfileFollowState?.ok&&!e.data.updateProfileFollowState?.errors&&(this.isFollowed=!this.isFollowed))}catch(t){return window.Sentry?.captureError?.(t),void this.toggleLoadingIcon()}}}render(){return t.x`<slot name="button-${this.isFollowed?"unfollow":"follow"}"></slot>`}};e.styles=[o.t],t._([t.n({type:Boolean,attribute:"is-desktop"})],e.prototype,"isDesktop",void 0),t._([t.n({type:Boolean,attribute:"is-logged-in"})],e.prototype,"isLoggedIn",void 0),t._([t.n({type:Boolean,attribute:"is-followed"})],e.prototype,"isFollowed",void 0),t._([t.n({type:String,attribute:"redditor-id"})],e.prototype,"redditorId",void 0),t._([t.n({type:Object,attribute:"tracking-source"})],e.prototype,"trackingSource",void 0),e=t._([t.c("follow-button")],e)}));
SML.dm("CL7z101C",["DN8NCGGW","DVMhF-xZ","DmzQCwyH"],(async(t,c,i)=>{const l=c.e(t.s);let o=class extends l{constructor(){super(...arguments),this.clickLocation=c.A.UNKNOWN}handleClick(t){"auxclick"===t.type&&1!==t.button||i.t({el:this,clickLocation:this.clickLocation})}render(){return t.x`<slot @click="${this.handleClick}" @contextmenu="${this.handleClick}" @auxclick="${this.handleClick}"></slot>`}};o.styles=[c.t],t._([t.n({type:String,attribute:"click-location"})],o.prototype,"clickLocation",void 0),o=t._([t.c("click-location-tracker")],o)}));
SML.dm("_K0JL_Th",["D-k0IBN0","DEZJErJv","5XAGySzy","CAtfi8BE","CL7z101C","DN8NCGGW","DVMhF-xZ","CElIDZoh","DmzQCwyH"],(async E=>{E.g()&&(SML.di("./BPRGtbSY.js",import.meta.url,"BPRGtbSY"),SML.di("./BL5Kz4X2.js",import.meta.url,"BL5Kz4X2"),SML.di("./BuZZv-nV.js",import.meta.url,"BuZZv-nV"))}));
SML.dm("qBHLmu4D",["DN8NCGGW","DVMhF-xZ"],(async(t,s)=>{const e=t.s,o=new DOMParser;let d=class extends e{constructor(){super(...arguments),this.userId="",this.subredditId="",this.pubsub=new s.P(this),this.onUpdateFlairEvent=({html:t,subredditId:s,userId:e,isEnabled:d})=>{if(this.userId===e&&this.subredditId===s){const s=t&&d,e=s?t:'<span class="hidden"></span>',i=o.parseFromString(e,"text/html").body.firstChild;i&&(this.shadowRoot?.querySelector("slot")?.assignedElements({flatten:!0})[0].replaceWith(i),s?this.showHost():this.hideHost())}}}static get styles(){return t.i`:host{--display:flex;display:var(--display);overflow:hidden}`}onSlotChanged(t){const s=t.target?.assignedElements({flatten:!0});s?.some((t=>"SPAN"===t.nodeName&&t.classList.contains("hidden")))&&this.hideHost()}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(s.T.CommunityAuthorFlairUpdated,this.onUpdateFlairEvent)}hideHost(){(this.shadowRoot?.host).style.setProperty("--display","none")}showHost(){(this.shadowRoot?.host).style.setProperty("--display","flex")}render(){return t.x`<slot @slotchange="${this.onSlotChanged}"></slot>`}};t._([t.n()],d.prototype,"userId",void 0),t._([t.n()],d.prototype,"subredditId",void 0),d=t._([t.c("author-flair-event-handler")],d)}));
SML.dm("DdPP6sj6",["DN8NCGGW","DVMhF-xZ","BhHqhRif"],(async(t,e,r)=>{let s=class extends t.s{constructor(){super(...arguments),this.subredditName="",this.userName="",this.thingId="",this.subredditId="",this.userId="",this.forceOpen=!1,this.postId="",this.isUserDeleted=!1,this.triggerSource=r.d.USERNAME,this.openModNotes=async t=>{const{subredditName:r,userName:s,thingId:i,subredditId:o,userId:d,triggerSource:n,postId:u}=this,p=t??n;e.p(e.T.ModNotesRailOpen,{subredditName:r,userName:this.isUserDeleted?"deleted":s,thingId:i,subredditId:o,userId:this.isUserDeleted?"deleted":d,triggerSource:p,postId:u})},this.handleAnchorClick=t=>{t instanceof MouseEvent&&0!==t.button||t.ctrlKey||t.metaKey||(t.preventDefault(),this.openModNotes())},this.preventAnchorClick=t=>{const e=t.target;if(e instanceof HTMLSlotElement){e.assignedElements().forEach((t=>{(t instanceof HTMLAnchorElement||this.forceOpen||this.isUserDeleted)&&(t.onclick=this.handleAnchorClick,t.ontouchstart=this.handleAnchorClick)}))}}}render(){return this.isUserDeleted||this.subredditName&&this.subredditId&&this.userName&&this.userId?t.x` <slot @slotchange="${this.preventAnchorClick}"></slot> `:t.x`<slot></slot>`}};return t._([t.n({type:String,attribute:"subreddit-name"})],s.prototype,"subredditName",void 0),t._([t.n({type:String,attribute:"user-name"})],s.prototype,"userName",void 0),t._([t.n({type:String,attribute:"thing-id"})],s.prototype,"thingId",void 0),t._([t.n({type:String,attribute:"subreddit-id"})],s.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"user-id"})],s.prototype,"userId",void 0),t._([t.n({type:Boolean,attribute:"force-open"})],s.prototype,"forceOpen",void 0),t._([t.n({type:String,attribute:"post-id"})],s.prototype,"postId",void 0),t._([t.n({type:Boolean,attribute:"is-user-deleted"})],s.prototype,"isUserDeleted",void 0),t._([t.n({type:String,attribute:"trigger-source"})],s.prototype,"triggerSource",void 0),s=t._([t.c("mod-notes-opener")],s),{get ModNotesOpener(){return s}}}));
SML.dm("MML18Ze5",["DN8NCGGW","DVMhF-xZ","BHUYYzrx","CElIDZoh","CGYl-sUB"],(async(e,t,s,i,o)=>{const r=new WeakSet,n=async(e,{includeShadowRoot:s=!1}={})=>{const i="faceplate-partial",o=Array.from(e.querySelectorAll(i));s&&o.push(...Array.from(e.shadowRoot?.querySelectorAll(i)??[]));return(await Promise.all(o.map((async e=>!e||r.has(e)||e.loading!==t.s.Programmatic?Promise.resolve(!1):(r.add(e),e.load().then((()=>!0))))))).filter(Boolean).length>0},a=e=>t=>(e(t),t);let h=class extends o.FaceplateTooltip{constructor(){super(...arguments),this.mouseEnterDelay=750,this.mouseLeaveDelay=500,this.closeOnTrack=!1,this.disableTouchActivation=!1,this.partialLoading=t.s.Action,this.label="",this.mouseOnly=!1,this.sleepAfterEscape=!1,this.enterTimeout=-1,this.leaveTimeout=-1,this._popperController=new s.P(this,{position:this.position,referenceElementKey:"referenceElement",popperElementKey:"_tooltip"}),this._isHandlingTouch=!1,this.cleanupTimeouts=()=>{this.enterTimeout=this.leaveTimeout=-1},this.triggerEvent="hover",this.emitter=i.v(this),this.handleFocusOut=e=>{const t=e.relatedTarget;this.hidden||this.hasUserInteraction(t)||(this.close(),this.anchorEl&&(this.sleepAfterEscape=!0,this.anchorEl?.focus({preventScroll:!0})))},this.rplHovercardShowHandler=e=>{e.target===this||this.hidden||this.close()},this.onEscape=e=>{"Escape"===e.key&&(this.sleepAfterEscape=!0,this.close(),this.trigger?.focus())},this.mouseOverTrigger=e=>{this.setAttribute("trigger","mouse"),this.handleMouseenter(e)},this.handleClick=e=>{"hover"===this.triggerEvent&&this._isHandlingTouch&&this.disableTouchActivation&&(this.cleanupTimeouts(),this._isHandlingTouch=!1),super.handleClick(e)},this.handleTouchstart=()=>{this._isHandlingTouch=!0},this.handleMouseenter=e=>{if(this.mouseOnly&&"focusin"===e?.type)return;if(this.sleepAfterEscape)return void(this.sleepAfterEscape=!1);if(!this.hidden)return this.cleanupTimeouts();this.emitter.dispatch("entered"),this.partialLoading===t.s.Intent&&this.load();const s=window.setTimeout((()=>{s===this.enterTimeout&&this.hasUserInteraction()&&this.show()}),this.mouseEnterDelay);this.enterTimeout=s,document.addEventListener("keydown",this.onEscape),e?.currentTarget?.addEventListener("mouseleave",this.handleMouseleave,{once:!0})},this.handleMouseleave=()=>{if(this.hidden)return this.cleanupTimeouts();const e=window.setTimeout((()=>{e===this.leaveTimeout&&this.close()}),this.mouseLeaveDelay);this.leaveTimeout=e},this.handleMouseEnterTooltip=()=>{this.cleanupTimeouts()},this.handleMouseLeaveTooltip=()=>{this.handleMouseleave(),document.removeEventListener("keydown",this.onEscape)},this.handleFaceplateTrack=()=>{this.closeOnTrack&&this.close()},this.handleSlotChange=()=>{this.initializeFocusManager(),!this.hidden&&this.focusManager?.focus()},this.initializeFocusManager=()=>{this.content&&(this.focusManager=new t.au(this,this.content))},this.render=()=>{const t=this._popperController.actualPosition||this.position;return e.x` <slot aria-describedby="faceplate-tooltip" faceplate-popper-trigger @click="${this.handleClick}" @touchstart="${this.handleTouchstart}" @mouseenter="${this.mouseOverTrigger}" @mouseleave="${this.handleMouseleave}" @focusin="${this.handleMouseenter}" @focusout="${this.handleMouseleave}"></slot> <div aria-label="${e.l((this.label||this.ariaLabel)??void 0)}" id="faceplate-tooltip" role="dialog" part="content-container" position="${t}" @keydown="${this.handleKeydown}" @mouseenter="${this.handleMouseEnterTooltip}" @mouseleave="${this.handleMouseLeaveTooltip}" @focusin="${this.handleMouseEnterTooltip}" @focusout="${this.handleMouseLeaveTooltip}" @slotchange="${this.handleSlotChange}" faceplate-popper-content> <slot name="content" @faceplate-track="${this.handleFaceplateTrack}"></slot> </div> `}}get content(){return this.contents[0]??null}get trigger(){return this.anchorEl??this.triggers[0]??null}get anchorEl(){try{if(this.anchor&&"string"==typeof this.anchor){return this.getRootNode().getElementById(this.anchor)}return this.anchor instanceof HTMLElement?this.anchor:null}catch{return null}}get referenceElement(){return this.trigger??this}setupAnchorElListeners(){const{anchorEl:e}=this;e&&(e.addEventListener("click",this.handleClick),e.addEventListener("touchstart",this.handleTouchstart),e.addEventListener("mouseenter",this.mouseOverTrigger),e.addEventListener("mouseleave",this.handleMouseleave),e.addEventListener("focusin",this.handleMouseenter),e.addEventListener("focusout",this.handleMouseleave))}cleanupAnchorElListeners(){const{anchorEl:e}=this;e&&(e.removeEventListener("click",this.handleClick),e.removeEventListener("touchstart",this.handleTouchstart),e.removeEventListener("mouseenter",this.mouseOverTrigger),e.removeEventListener("mouseleave",this.handleMouseleave),e.removeEventListener("focusin",this.handleMouseenter),e.removeEventListener("focusout",this.handleMouseleave))}hasUserInteraction(e){const t=Boolean(this.querySelector(":hover")||this.trigger?.matches(":hover")),s=Boolean(e&&(this.contains(e)||this.trigger?.contains(e))||this.querySelector(":focus")||this.trigger?.matches(":focus"));return t||s}hovercardShowHandler(e){e.target!==this&&this.close()}load(){return n(this).then(a(this._popperController.reposition)).then(a((e=>{this.hidden||e&&(this.focusManager?.refresh(),this.focusManager?.focus())})))}async show(){super.show(),this.partialLoading===t.s.Action&&this.load(),await this._popperController.currentState.animationFinished,this.focusManager?.focus(),this.addEventListener("focusout",this.handleFocusOut),document.addEventListener(this.emitter.eventId("open"),this.hovercardShowHandler),document.addEventListener("rpl-hovercard:show",this.rplHovercardShowHandler),this.cleanupTimeouts()}async close(){const e=super.close();document.removeEventListener(this.emitter.eventId("open"),this.hovercardShowHandler),document.removeEventListener("rpl-hovercard:show",this.rplHovercardShowHandler),this.cleanupTimeouts(),await e,this.removeTrigger()}removeTrigger(){this.removeAttribute("trigger")}handleKeydown(){this.removeTrigger()}connectedCallback(){super.connectedCallback(),this.setupAnchorElListeners()}disconnectedCallback(){this.cleanupAnchorElListeners(),super.disconnectedCallback(),this.cleanupTimeouts()}static get styles(){return[...super.styles,e.i`:host{display:contents}#faceplate-tooltip{display:flex;flex-direction:column;width:fit-content;justify-content:flex-start;align-items:flex-start;box-sizing:border-box;border-radius:1rem;box-shadow:var(--elevation-md);z-index:var(--faceplate-hovercard-z-index,1)}#faceplate-tooltip::after{display:none}`]}};e._([e.n({type:String})],h.prototype,"anchor",void 0),e._([e.k({slot:""})],h.prototype,"triggers",void 0),e._([e.k({slot:"content"})],h.prototype,"contents",void 0),e._([e.n({type:Number,attribute:"enter-delay"})],h.prototype,"mouseEnterDelay",void 0),e._([e.n({type:Number,attribute:"leave-delay"})],h.prototype,"mouseLeaveDelay",void 0),e._([e.n({type:Boolean,attribute:"close-on-track"})],h.prototype,"closeOnTrack",void 0),e._([e.n({type:Boolean,attribute:"disable-touch-activation",reflect:!0})],h.prototype,"disableTouchActivation",void 0),e._([e.n({type:String,attribute:"partial-loading"})],h.prototype,"partialLoading",void 0),e._([e.n({type:String})],h.prototype,"label",void 0),e._([e.n({type:Boolean,attribute:"mouse-only"})],h.prototype,"mouseOnly",void 0),e._([e.b()],h.prototype,"sleepAfterEscape",void 0),h=e._([e.c("faceplate-hovercard")],h);var l=Object.freeze({__proto__:null,get FaceplateHovercard(){return h}});return{get F(){return h},get f(){return l},l:n,s:a}}));
SML.dm("TC9gnkab",[],(async()=>{var t,T,S;return function(t){t.MODERATOR="moderator",t.COMMUNITY_STATUS="community_status"}(t||(t={})),function(t){t.VIEW="view",t.CLICK="click"}(T||(T={})),function(t){t.STATUS_EDIT="status_edit",t.STATUS_CANCEL="status_cancel",t.STATUS_CREATE="status_create",t.STATUS_DELETE="status_delete",t.STATUS_LINK="status_link",t.STATUS_DISPLAY="status_display",t.STATUS_SUB_LINK="subreddit_link"}(S||(S={})),{get A(){return T},get N(){return S},get S(){return t}}}));
SML.dm("0fe9Y3aN",["DN8NCGGW","DVMhF-xZ","TC9gnkab","MML18Ze5","D-ZUgI2b"],(async(t,e,s)=>{var i;!function(t){t.small="small",t.medium="medium"}(i||(i={}));let o=class extends t.s{constructor(){super(...arguments),this.size=i.medium}render(){return t.x` <button class="flex items-center justify-center p-0 m-0 border-none rounded-1 h-[var(--emote-btn-size)] w-[var(--emote-btn-size)] bg-transparent hover:bg-neutral-background-hover cursor-pointer"> <slot class="emote"></slot> </button> `}};function r({pageType:t,url:e}){return {page_type:t,...(e ? {pane_name:e} : {})};}function a({subredditId:t,subredditName:e}){return {id:t,...(e ? {name:e} : {})};}o.styles=[t.i`:host{--emote-btn-size:2.25rem;--emote-size:1.75rem;display:block}:host([size=small]){--emote-btn-size:1.25rem;--emote-size:1.25rem}.emote::slotted(img){width:var(--emote-size);height:var(--emote-size);object-fit:contain;margin:0!important;padding:0!important}`,e.t],t._([t.n({type:String,reflect:!0})],o.prototype,"size",void 0),o=t._([t.c("community-status")],o);const n=t=>e.b({source:s.S.COMMUNITY_STATUS,action:s.A.CLICK,noun:s.N.STATUS_LINK},{action_info:r(t),subreddit:a(t)}),l=t.s;let d=class extends l{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.handleClick=()=>{this.hovercard?.close()},this.handleKeyUp=t=>{"Enter"===t.key&&this.handleClick()},this.handleStatusClicks=t=>{const s=t.composedPath().find((t=>t instanceof HTMLAnchorElement));s&&e.a(this,n({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:s.href}))},this._getPageType=e.B}render(){return t.x` <faceplate-hovercard position="bottom" appearance="inverted"> <span> <slot name="trigger"></slot> </span> <article slot="content" class="flex flex-col relative py-sm w-[184px]"> <div class="absolute right-2xs top-2xs"> <slot name="edit-btn" @click="${this.handleClick}" @keyup="${this.handleKeyUp}"></slot> </div> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 mt-md line-clamp-12 text-12"> ${""} <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> </article> </faceplate-hovercard> `}};d.styles=[t.i`slot[name=emote]::slotted(img){max-height:140px;max-width:148px!important;margin-bottom:0!important}faceplate-hovercard::part(content-container){background:var(--color-neutral-content-strong)}`,e.t],t._([t.n({type:String,attribute:"subreddit-id"})],d.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],d.prototype,"subredditName",void 0),t._([t.w("faceplate-hovercard")],d.prototype,"hovercard",void 0),d=t._([t.c("community-status-tooltip")],d);const m=t.s;let c=class extends m{constructor(){super(...arguments),this.subredditId="",this.subredditName="",this.open=()=>{this.bottomSheet?.showModal()},this.close=()=>{this.bottomSheet?.close()},this.handleKeyUp=t=>{"Enter"!==t.key&&"Space"!==t.key||this.close()},this.handleStatusClicks=t=>{const s=t.composedPath().find((t=>t instanceof HTMLAnchorElement));s&&e.a(this,n({subredditId:this.subredditId,subredditName:this.subredditName,pageType:this._getPageType(),url:s.href}))},this._getPageType=e.B}render(){return t.x` <button @click="${this.open}" class="m-0 p-0 border-none bg-transparent"> <slot name="trigger"></slot> </button> <faceplate-bottom-sheet id="bottom-sheet"> <div class="flex flex-col w-full box-border px-md py-xl"> <div class="flex justify-center align-center"> <slot name="emote"></slot> </div> <p class="text-center m-0 line-clamp-8 text-14 font-semibold"> ${""} <slot name="status" @click="${this.handleStatusClicks}"></slot> </p> <slot @click="${this.close}" @keyup="${this.handleKeyUp}" name="primary-btn"></slot> ${e.n({appearance:"secondary",attributes:{onclick:this.close,className:"mt-sm",id:"close-button"},children:"Close"})} </div> </faceplate-bottom-sheet> `;}};c.styles=[t.i`:host{display:inline-flex}slot[name=emote]::slotted(img){max-height:148px;margin-bottom:32px!important}slot[name=primary-btn]::slotted(*){margin-top:24px}`,e.t],t._([t.n({type:String,attribute:"subreddit-id"})],c.prototype,"subredditId",void 0),t._([t.n({type:String,attribute:"subreddit-name"})],c.prototype,"subredditName",void 0),t._([t.w("#bottom-sheet")],c.prototype,"bottomSheet",void 0),c=t._([t.c("community-status-bottom-sheet")],c)}));
SML.dm("BhHqhRif",["DVMhF-xZ","DN8NCGGW"],(async(a,e)=>{const{svg:n}=e.g();var t=e.v(n`<path d="M10 19.99a4.6 4.6 0 0 1-3.27-1.354l-5.366-5.365a4.627 4.627 0 0 1 0-6.542L6.73 1.364a4.627 4.627 0 0 1 6.542 0l5.365 5.364a4.627 4.627 0 0 1 0 6.542l-5.364 5.365A4.601 4.601 0 0 1 10 19.99Zm0-18.73a3.353 3.353 0 0 0-2.386.988L2.25 7.614a3.374 3.374 0 0 0 0 4.772l5.366 5.366a3.46 3.46 0 0 0 4.772 0l5.365-5.366a3.374 3.374 0 0 0 0-4.772L12.386 2.25A3.35 3.35 0 0 0 10 1.26Zm3.92 10.258c.066.112.1.24.1.37a.8.8 0 0 1-.094.35.7.7 0 0 1-.633.375.83.83 0 0 1-.387-.105c-.2-.116-1.033-.734-2.5-1.852.219 1.75.328 2.734.328 2.953.02.238-.043.476-.176.674a.651.651 0 0 1-.539.217c-.476 0-.714-.289-.714-.867 0-.242.11-1.226.328-2.953l-.364.27c-1.192.905-1.902 1.425-2.128 1.558a.85.85 0 0 1-.4.105.739.739 0 0 1-.715-.727.72.72 0 0 1 .1-.369.748.748 0 0 1 .287-.276c.234-.133 1.187-.547 2.86-1.242-1.67-.694-2.623-1.107-2.859-1.24a.859.859 0 0 1-.287-.282.673.673 0 0 1-.1-.352.681.681 0 0 1 .094-.363.756.756 0 0 1 .27-.287.658.658 0 0 1 .351-.1.829.829 0 0 1 .4.117c.226.134.937.653 2.132 1.56l.364.268c-.22-1.726-.328-2.706-.328-2.94a1.039 1.039 0 0 1 .175-.663.653.653 0 0 1 .54-.217.649.649 0 0 1 .544.217c.13.204.19.444.17.685 0 .22-.11 1.2-.328 2.942 1.462-1.116 2.295-1.734 2.5-1.852a.829.829 0 0 1 .4-.117c.124 0 .246.034.351.1.114.07.207.17.27.287a.68.68 0 0 1 .094.363.673.673 0 0 1-.1.352.86.86 0 0 1-.287.281c-.2.118-1.145.532-2.836 1.242l.844.363c1.047.438 1.711.731 1.992.88.117.064.214.16.281.275Z"></path>`,"0 0 20 20","nsfw-language-outline");const{svg:r}=e.g();var s=e.v(r`<path d="M17.626 1.744a2.255 2.255 0 0 0-1.482-.912 2.228 2.228 0 0 0-2.568 1.7l-.824 3.506-1.139-4.19A2.277 2.277 0 0 0 7.525 1.2a2.028 2.028 0 0 0-.274 1.567L8 5.987a2.095 2.095 0 0 0-.436-.046h-.221a2.124 2.124 0 0 0-1.916 1.22 2.111 2.111 0 0 0-1.084-.307h-.218A2.128 2.128 0 0 0 2 8.979v4.247a6.863 6.863 0 0 0 7.034 6.625l.685.008h.007c.019 0 .036-.01.056-.011a6.851 6.851 0 0 0 6.893-6.618v-2.95L17.97 3.3a2.038 2.038 0 0 0-.344-1.556ZM6.469 8.979v-.913a.874.874 0 0 1 .874-.874h.219a.875.875 0 0 1 .874.874v1.276a2.34 2.34 0 0 0-.778.923c-.21.459-.257.975-.135 1.464h-.18a.875.875 0 0 1-.874-.875V8.979Zm-3.218 0a.876.876 0 0 1 .874-.874h.218a.876.876 0 0 1 .874.874v2.788a.876.876 0 0 1-.874.875h-.218a.876.876 0 0 1-.874-.875V8.979Zm6.381 9.626h-.013l-.576-.005a5.661 5.661 0 0 1-5.766-4.888c.267.118.556.18.848.18h.218a2.125 2.125 0 0 0 1.916-1.221 2.1 2.1 0 0 0 1.084.307h.219c.214 0 .426-.034.629-.1.227.214.493.384.783.5l2.673 1.064a.637.637 0 0 0 .232.044.625.625 0 0 0 .231-1.2l-2.674-1.069a1.162 1.162 0 0 1-.662-.638 1 1 0 0 1 .021-.793 1.281 1.281 0 0 1 1.637-.593l4.257 1.694a1.14 1.14 0 0 1 .7.762c.01.022.02.044.032.065v.516a5.614 5.614 0 0 1-5.789 5.375Zm5.674-7.8c-.053-.026-.1-.061-.154-.083L10.9 9.032a2.6 2.6 0 0 0-.951-.182L8.468 2.481a.787.787 0 0 1 .109-.608.97.97 0 0 1 .638-.42.982.982 0 0 1 1.185.7L12.154 8.6l.18.486 1-.054L14.8 2.785a.974.974 0 0 1 1.145-.719 1 1 0 0 1 .66.4.8.8 0 0 1 .137.6l-1.436 7.739Z"></path>`,"0 0 20 20","peace-outline");const o="mod-notes-rail",i=`/svc/shreddit/${o}/r/:subredditName/u/:userName/:subredditId/:userId/:thingId/:triggerSource/:postId`;var l,N;!function(a){a.USERNAME="username",a.USER_HOVER_CARD="user-hover-card"}(l||(l={})),function(a){a.Overview="overview",a.Log="log",a.Posts="posts",a.Comments="comments"}(N||(N={}));const m=[{getButtonText:()=>"Overview",slot:N.Overview},{getButtonText:()=>"Log",slot:N.Log},{getButtonText:()=>"Posts",slot:N.Posts},{getButtonText:()=>"Comments",slot:N.Comments}],u={[a.cY.HelpfulUser]:()=>"Helpful",[a.cY.SolidContributor]:()=>"Good Contributor",[a.cY.SpamWatch]:()=>"Spam Watch",[a.cY.SpamWarning]:()=>"Spam Warning",[a.cY.AbuseWarning]:()=>"Abuse Warning",[a.cY.Ban]:()=>"Ban",[a.cY.BotBan]:()=>"Bot ban",[a.cY.PermaBan]:()=>"Perma ban",[a.cY.UserSummary]:()=>"Summary"};return {M:"mod-notes-rail-loading",N:[{label:()=>"None",icon:()=>""},{label:u[a.cY.HelpfulUser],icon:(a=e.I.Medium,n)=>s({size:a,attributes:{className:n}}),gqlLabel:a.cY.HelpfulUser},{label:u[a.cY.SolidContributor],icon:(a=e.I.Medium,n)=>e.aM({size:a,attributes:{className:n}}),gqlLabel:a.cY.SolidContributor},{label:u[a.cY.SpamWatch],icon:(a=e.I.Medium,n)=>t({size:a,attributes:{className:n}}),gqlLabel:a.cY.SpamWatch},{label:u[a.cY.SpamWarning],icon:(a=e.I.Medium,n)=>e.aN({size:a,attributes:{className:n}}),gqlLabel:a.cY.SpamWarning},{label:u[a.cY.AbuseWarning],icon:(a=e.I.Medium,n)=>e.aN({size:a,attributes:{className:n}}),gqlLabel:a.cY.AbuseWarning}],a:o,b:i,get c(){return N},get d(){return l},e:m,f:20};}));
SML.dm("BR3_43dB",["DVMhF-xZ","DN8NCGGW","yhbIHQLb","Dy2tIlzM","Cva-veaO","mlV1StDq","BJFTbupA","Cj0lkmUN","-o-o9pmj","_K0JL_Th","qBHLmu4D","DdPP6sj6","0fe9Y3aN","DGY0b97R","CnZCQZdH","BHkYDd4M","CdTGYlNw","Bahzn9My","DczBT2kf","CElIDZoh","alT8rG4e","Cg3nU-G5","DQaRMILU","Cq3THF8r","DDco8exZ","HB6ZjwU1","UKZKgKgp","DwsEu536","Crs-BNcA","BsQJl0hY","C_M_NGfT","CWi6z3tG","21VIldix","BrB3BiJ_","y7f18YYf","DD7scjFQ","yHFcPWkl","CGzEIBwW","zIj5u43D","YWXw6gDz","BHUYYzrx","DkvSmkm1","DzVf0Tj3","CVyy3FXR","n7_xJ6Wc","BISnLNzF","BUEZgCCR","Ch8njlGJ","D-ZUgI2b","CU4mObWU","DmzQCwyH","CMS2OfNt","DULVOd5i","m_62dcKy","Bcf7phnV","Cz9KLIqG","ClGeIyf9","D-k0IBN0","BV4dawAB","clCAey41","DEZJErJv","5XAGySzy","CAtfi8BE","CL7z101C","BhHqhRif","MML18Ze5","CGYl-sUB","TC9gnkab"],(async(E,T)=>{let _=class extends T.s{constructor(){super(...arguments),this.isTranslationActive=!1,this.isTranslationFetched=!1,this.isOriginalFetched=!0,this.updateTranslationFetchedState=()=>{const E=this.shadowRoot?.querySelector('slot[name="translated"]');this.isTranslationFetched=(E?.assignedNodes().length||0)>0;const T=this.shadowRoot?.querySelector("slot#original");this.isOriginalFetched=(T?.assignedNodes().length||0)>0}}connectedCallback(){super.connectedCallback(),this.updateTranslationFetchedState()}appendTranslation(E){E&&!this.isTranslationFetched&&(E.setAttribute("slot","translated"),this.appendChild(E))}appendOriginalText(E){E&&!this.isOriginalFetched&&(E.removeAttribute("slot"),this.appendChild(E))}render(){const E=this.isTranslationActive&&this.isTranslationFetched;return T.x` <slot id="original" class="${E?"hidden":"contents"}" @slotchange="${this.updateTranslationFetchedState}"></slot> <slot name="translated" class="${E?"contents":"hidden"}" @slotchange="${this.updateTranslationFetchedState}"></slot> `}};_.styles=[E.t],T._([T.n({type:Boolean,attribute:"is-translation-active",reflect:!0})],_.prototype,"isTranslationActive",void 0),T._([T.b()],_.prototype,"isTranslationFetched",void 0),T._([T.b()],_.prototype,"isOriginalFetched",void 0),_=T._([T.c("translatable-text")],_),"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&SML.di("./C1qZhC6X.js",import.meta.url,"C1qZhC6X")}));
SML.dm("C4jUi39R",["DN8NCGGW","DVMhF-xZ"],(async e=>{let r=class extends e.s{constructor(){super(...arguments),this.revealed=!1,this.blockRevealOnClick=!1}static get styles(){return e.i`.outer{background:var(--color-category-spoiler);border-radius:2px;cursor:pointer;line-height:21px;transition:background ease-out 1s;border:none;padding:0;font:inherit;color:inherit;margin-right:.25rem}.inner{opacity:0;transition:opacity ease-out 1s;margin-right:-.25rem}.revealed.outer{background:0 0}.revealed .inner{opacity:1}`}revealSpoiler(e){this.revealed||e.preventDefault(),this.revealed=!0}handleKeyPress(e){"Enter"!==e.key&&" "!==e.key||this.revealSpoiler(e)}render(){return this.blockRevealOnClick?e.x` <span class="outer"> <span class="inner" aria-hidden="true"> <slot></slot> </span> </span> `:e.x` <span class="outer${this.revealed?" revealed":""}" title="${"Reveal Spoiler"}" role="button" @click="${this.revealSpoiler}" @keypress="${this.handleKeyPress}" tabindex="0"> <span class="inner" aria-hidden="${!this.revealed}"> <slot></slot> </span> </span> `;}};e._([e.b()],r.prototype,"revealed",void 0),e._([e.n({type:Boolean,attribute:"block-reveal-on-click"})],r.prototype,"blockRevealOnClick",void 0),r=e._([e.c("shreddit-spoiler")],r)}));
SML.dm("8MCDvWu_",["DVMhF-xZ"],(async I=>{const E=[{key:"TOTAL_MRC_VIEWABLE_TIME",playing:!0,threshold:I.C.VIEWABILITY_THRESHOLD},{key:"TOTAL_AUDIBLE_TIME",playing:!0,threshold:0,withSound:!0},{key:"HALF_DURATION_80_IN_VIEW_AUDIBLE",playing:!0,withSound:!0,threshold:I.C.EIGHTY_VIEWABILITY_THRESHOLD},{key:"FULL_IN_VIEW_AUDIBLE_TIME",playing:!0,threshold:I.C.FULL_VIEWABILITY_THRESHOLD,withSound:!0},{key:"FULL_IN_VIEW_TIME",playing:!0,threshold:I.C.FULL_VIEWABILITY_THRESHOLD},{key:"ANY_IN_VIEW_TIME",playing:!0,threshold:I.C.VISIBILITY_THRESHOLD},{key:"FIFTY_IN_VIEW_TIME",playing:!0,threshold:I.C.VIEWABILITY_THRESHOLD},{key:"EIGHTY_IN_VIEW_TIME",playing:!0,threshold:I.C.EIGHTY_VIEWABILITY_THRESHOLD}];return{V:E,a:function(I,E){const _=new URL(I);return Object.entries(E).forEach((([I,E])=>{_.searchParams.set(I,String(E))})),_.toString()},b:E.map((I=>I.key)),g:I=>I.reduce(((I,E)=>(I[E]={maxContinuousTime:0,currentContinuousTime:0,totalTime:0},I)),{})}}));
SML.dm("CoWehZRj",["DN8NCGGW","DVMhF-xZ","DmzQCwyH","8MCDvWu_","CElIDZoh"],(async(t,e,i,n,r)=>{function o(t){t&&e.l.setItem(e.L.AdEvents,JSON.stringify(t))}function a(t){t&&e.l.setItem(e.L.AdUserTargeting,JSON.stringify(t))}const s="noopener nofollow sponsored",l=e.e(t.s);let d=class extends l{constructor(){super(...arguments),this.impressionId="0",this.clickLocation=e.A.UNKNOWN,this.renderAsButton=!1,this.ButtonProps={},this.anchorStyleClass="",this.isOutboundLinkInitialized=!1}static get styles(){return[e.t,e.m("a {\n  color: inherit;\n  text-decoration: none;\n}\nbutton {\n  all: unset;\n  display: inline-block;\n  height: 100%;\n  width: 100%;\n  background: transparent;\n  cursor: pointer;\n}\n")]}get effectiveOutboundLink(){const t=this.outboundLinkOverride??(this.outboundLinkUrl||"");return r.aa(t)&&this.metadata?n.a(t,this.metadata):t}get calculatedTabIndex(){return this.disableKeyboardNav?"-1":""===this.effectiveOutboundLink?"0":void 0}connectedCallback(){super.connectedCallback(),void 0===this.outboundLinkOverride&&(this.outboundLinkUrl=this.getOutboundLinkUrlFromParent(),this.isOutboundLinkInitialized=!0)}updated(t){void 0===this.outboundLinkOverride&&t.has("galleryIndex")&&(this.outboundLinkUrl=this.getOutboundLinkUrlFromParent())}getOutboundLinkUrlFromParent(){const t=i.g(this);if(!t)return;if(void 0===this.galleryIndex)return t.getAttribute("outbound-link-url");const e=t.getAttribute("gallery-items");let n;try{n=JSON.parse(e||"[]")}catch{n=[]}return n[this.galleryIndex]?.outboundUrl}fetchAndUpdateMetadata(){if(!r.aa(this.effectiveOutboundLink))return;const t=i.g(this);if(!t)return;const n=t.getMetadataForPixelEvent(e.bM.CLICK);n&&(this.metadata=n)}handleClick(t){if("auxclick"!==t.type||1===t.button){if(void 0!==this.outboundLinkOverride||this.isOutboundLinkInitialized||(this.outboundLinkUrl=this.getOutboundLinkUrlFromParent(),this.isOutboundLinkInitialized=!0),r.ab(this.effectiveOutboundLink)&&"_blank"===this.target&&e.bN(this.impressionId),this.fetchAndUpdateMetadata(),i.t({el:this,clickLocation:this.clickLocation,galleryIndex:this.galleryIndex}),i.a({el:this,clickLocation:this.clickLocation,outboundUrl:this.effectiveOutboundLink,galleryIndex:this.galleryIndex}),function(t){const i=t=>{try{return t()}catch{return null}};let n=i((()=>new URL(t)));return n||(n=i((()=>new URL(t,location.origin)))),!!n&&"1"===n.searchParams.get(e.bL)}(this.effectiveOutboundLink)){const t=this.closest("shreddit-ad-post");if(!t)return;o({impressionId:this.impressionId,adEvents:t.adEvents,clickRedirectUrl:this.effectiveOutboundLink}),a(t.adUserTargeting)}r.ab(this.effectiveOutboundLink)&&"contextmenu"!==t.type&&e.bO(e.bP)&&(t.preventDefault(),this.fetchAndUpdateMetadata(),window.open(this.effectiveOutboundLink,this.target||"_self"))}}render(){const i=this.effectiveOutboundLink||void 0,n=t.x`<slot></slot>`;if(this.renderAsButton)return e.n({appearance:r.ac()?"secondary":"bordered",children:n,size:e.$.Medium,attributes:{href:i,onclick:this.handleClick,oncontextmenu:this.handleClick,target:this.target,rel:s,className:this.anchorStyleClass},...this.ButtonProps});const o=this.effectiveOutboundLink||"_self"===this.target,a=r.k(this.anchorStyleClass,o?"cursor-pointer":"cursor-default");return t.x`<a class="${a}" href="${t.l(i)}" target="${t.l(this.target)}" tabindex="${t.l(this.calculatedTabIndex)}" @click="${this.handleClick}" @mouseover="${this.fetchAndUpdateMetadata}" @focus="${this.fetchAndUpdateMetadata}" @contextmenu="${this.handleClick}" @auxclick="${this.handleClick}" rel="${s}" role="${i?"link":"button"}" aria-label="${t.l(this.ariaLabel)}"> ${n} </a>`}};return t._([t.n({type:String,attribute:"outbound-link-override",reflect:!0})],d.prototype,"outboundLinkOverride",void 0),t._([t.n({type:String,attribute:"impression-id"})],d.prototype,"impressionId",void 0),t._([t.n({type:String,attribute:"click-location"})],d.prototype,"clickLocation",void 0),t._([t.n({type:String,attribute:"post-id"})],d.prototype,"postId",void 0),t._([t.n({type:Number,attribute:"gallery-index",reflect:!0})],d.prototype,"galleryIndex",void 0),t._([t.n({type:String})],d.prototype,"target",void 0),t._([t.n({type:Boolean,attribute:"disable-keyboard-nav"})],d.prototype,"disableKeyboardNav",void 0),t._([t.n({type:Boolean,attribute:"render-as-button"})],d.prototype,"renderAsButton",void 0),t._([t.n({type:Object,attribute:"button-props"})],d.prototype,"ButtonProps",void 0),t._([t.n({type:String,attribute:"anchor-style-class"})],d.prototype,"anchorStyleClass",void 0),t._([t.w("a")],d.prototype,"anchorEl",void 0),t._([t.w("slot")],d.prototype,"slotEl",void 0),t._([t.b()],d.prototype,"outboundLinkUrl",void 0),t._([t.b()],d.prototype,"metadata",void 0),d=t._([t.c("shreddit-dynamic-ad-link")],d),{get S(){return d},a:function(){const t=e.l.getItem(e.L.AdUserTargeting);if(null===t)return null;let i;try{i=JSON.parse(t)}catch{return null}return e.l.removeItem(e.L.AdUserTargeting),i},b:a,g:function(t){const i=e.l.getItem(e.L.AdEvents);if(null===i)return null;let n;try{n=JSON.parse(i)}catch{return null}return n.impressionId!==t?null:(e.l.removeItem(e.L.AdEvents),n)},s:o}}));
SML.dm("BFBeaKpB",["DN8NCGGW","DVMhF-xZ","CoWehZRj"],(async(t,e)=>{let r=class extends t.s{constructor(){super(...arguments),this.postId="",this.impressionId="0",this.clickLocation=e.A.UNKNOWN,this.anchorStyleClass="",this.renderAsButton=!1,this.buttonProps={},this._currGalleryIndex=0,this._currGalleryItemText="",this.handleGalleryNavEvent=t=>{t!==this._currGalleryIndex&&(this._currGalleryIndex=t,this.galleryContent&&(this._currGalleryItemText=this.galleryContent[this._currGalleryIndex]))}}connectedCallback(){super.connectedCallback(),this._currGalleryItemText=this.galleryContent?.[this._currGalleryIndex]}createRenderRoot(){return this}render(){return this.galleryContent&&!this._currGalleryItemText?t.A:t.x` <shreddit-dynamic-ad-link target="_blank" post-id="${this.postId}" impression-id="${this.impressionId}" gallery-index="${this._currGalleryIndex}" click-location="${this.clickLocation}" anchor-style-class="${this.anchorStyleClass}" ?render-as-button="${this.renderAsButton}" .ButtonProps="${this.buttonProps}">${this._currGalleryItemText}</shreddit-dynamic-ad-link>`}};r.styles=[e.t],t._([t.n({type:String,attribute:"post-id"})],r.prototype,"postId",void 0),t._([t.n({type:String,attribute:"impression-id"})],r.prototype,"impressionId",void 0),t._([t.n({type:String,attribute:"click-location"})],r.prototype,"clickLocation",void 0),t._([t.n({type:String})],r.prototype,"target",void 0),t._([t.n({type:String,attribute:"anchor-style-class"})],r.prototype,"anchorStyleClass",void 0),t._([t.n({type:Boolean,attribute:"render-as-button"})],r.prototype,"renderAsButton",void 0),t._([t.n({type:Object,attribute:"button-props"})],r.prototype,"buttonProps",void 0),t._([t.n({type:Array,attribute:"gallery-content"})],r.prototype,"galleryContent",void 0),t._([t.b()],r.prototype,"_currGalleryIndex",void 0),t._([t.b()],r.prototype,"_currGalleryItemText",void 0),r=t._([t.c("call-to-action-gallery-links")],r);const o=()=>document.getElementById(e.as);return{a:async({leadGenInfo:t})=>{t&&!o()&&await e.f({name:e.ar})},s:({leadGenInfo:t,postId:e,impressionId:r,onSuccess:i})=>{t&&o()?.showModal({...t,postId:e,impressionId:r,onSuccess:i,prompt:t.prompt??"",privacyPolicyUrl:t.privacyPolicyUrl??"",leadFormFields:t.leadFormFields??[],formId:t.formId??null,publicEncryptionKey:t.publicEncryptionKey??null})}}}));
SML.dm("B3LBp30v",["DN8NCGGW","DVMhF-xZ","8MCDvWu_","CElIDZoh","DmzQCwyH","CdTGYlNw"],(async(e,t,i,s,r,n)=>{const a=t.W(e.s);let o=class extends a{constructor(){super(...arguments),this.id="undefined"}static get styles(){return e.i`:host{display:block}`}connectedCallback(){super.connectedCallback(),this.enableObserver(this.config)}disconnectedCallback(){super.disconnectedCallback(),this.isObserved&&this.disableObserver()}observerIsIntersectingCallback(e){const i=t.c("io-event-is-intersecting",{id:this.id,details:e});this.dispatchEvent(i)}observerIsNotIntersectingCallback(e){const i=t.c("io-event-is-not-intersecting",{id:this.id,details:e});this.dispatchEvent(i)}render(){return e.x`<slot></slot>`}};e._([e.n({type:String})],o.prototype,"id",void 0),e._([e.n({type:Object})],o.prototype,"config",void 0),o=e._([e.c("shreddit-with-observer-wrapper")],o);const l=new Set(["t3_103b4tl","t3_u1cuyg","t3_103bmpv","t3_xipqoc","t3_xipsi3"]);function d(e){const t=new Map;return e.forEach((e=>{const i=t.get(e.type)||[];i.push(e),t.set(e.type,i)})),t}function h(e){return!!e.encryptedTrackingId}function u(e,t){return e.encryptedTrackingId+t.additionalEventMetadata}function m({pixelEvent:e,pixelRequestBody:t,metadata:i,target:s}){if(!e.encryptedTrackingId)return;if(T(e.type))return u(e,t);const r=i?function(e){return Object.entries(e).reduce(((e,[t,i])=>(e[t]=i.toString(),e)),{})}(i):{};return fetch("https://alb.reddit.com/track",{method:"POST",mode:"no-cors",body:JSON.stringify({encryptedTrackingId:e.encryptedTrackingId,encryptedTrackingPayload:t.encryptedTrackingPayload,additionalEventMetadata:t.additionalEventMetadata,clientImpressionID:t.impressionId,...r})}).then((()=>{_(s,"succeeded",e)})).catch((t=>{const i="Sentry"in window?window.Sentry:void 0;i?.captureException&&i.captureException(new Error(`Error in POST response from pixel server for pixel of type ${e.type}: ${t}`)),_(s,"failed",e)})),u(e,t)}function c(e){return!!t.gN.includes(e)||t.gO.some((({experimentName:i,pixelEventTypes:s})=>t.bO(i)&&s.includes(e)))}function T(e){return t.gR.some((({experimentName:i,pixelEventTypes:s})=>t.bO(i)&&s.includes(e)))}function E({target:e,pixelEvent:i,impressionId:n,displayMetadata:a,videoMetadata:o,pixelRequestBody:l}){const d=r.P[i.type];if(!d)return;const u={impression_id:n,event_timestamp:Math.floor(Date.now()),display_metadata:a,video_metadata:o,additional_metadata:l.additionalEventMetadata};if(h(i))u.encrypted_tracking_id=i.encryptedTrackingId,u.encrypted_tracking_payload=l.encryptedTrackingPayload;else{if(!s.aa(i.url))return;const{encryptedTrackingId:e,encryptedTrackingPayload:t}=function(e){const t=new URL(e);return{encryptedTrackingPayload:t.searchParams.get("za")||"",encryptedTrackingId:t.searchParams.get("zp")||""}}(i.url);u.encrypted_tracking_id=e,u.encrypted_tracking_payload=t}const m={client_ad_event_metadata:u,video_watch_metadata:t.gP[i.type],vendor_fully_in_view_metadata:t.gQ[i.type],screen:{height:window.screen.height,width:window.screen.width}},c=t.c("track-event",{details:t.b(d,m)});e.dispatchEvent(c)}function _(e,i,r){if(t.bO(t.gS))return;if(!h(r)&&!s.aa(r.url))return;const n=t.gT({name:"ads_igif_requests_total",value:1,label_values:[`tracking_type,${t.bM[r.type]}`,`request_stage,${i}`]});t.a(e,n)}class I{constructor(e,i){this.impressionTimestamp=0,this.wasEverViewableTimer={fired:!1},this.largeAdFullViewTimer={fired:!1},this.hasDispatchedViewEvent=!1,this.resetTimers=()=>{for(const e of this.pixelTimers.keys())this.clearPixelTimer(e);for(const e of this.continuousTimers.keys())this.unsetContinuousTimer(e);for(const e of this.cumulativeTimers.keys())this.pauseCumulativeTimer(e);this.wasEverViewableTimer.timer&&(clearTimeout(this.wasEverViewableTimer.timer),this.wasEverViewableTimer.timer=void 0),this.largeAdFullViewTimer.timer&&(clearTimeout(this.largeAdFullViewTimer.timer),this.largeAdFullViewTimer.timer=void 0)},this.pixelFiringController=i,this.getFiredRedditPixelsCount=e.getFiredRedditPixelsCount,this.postId=e.postId,this.impressionId=e.impressionId,this.postElement=e.postElement,this.galleryItems=e.galleryItems,this.pixelTimers=new Map,this.cumulativeTimers=new Map,this.continuousTimers=new Map,this.setupUnloadFiring(),this.isProductAd=e.events.some((e=>e.type===t.bM.PRODUCT_CLICK||e.type===t.bM.PRODUCT_IMPRESSION))}setupUnloadFiring(){if(window.addEventListener(t.ao.eventType,(()=>this.handleUnload())),l.has(this.postId)){const e=new URLSearchParams(t.dl.search),i=Number.parseInt(e.get(t.gU)||"");isNaN(i)||window.setTimeout((()=>this.fireUnloadPixel()),i)}}getCumulativeTimes(e){const i=this.updateCumulativeTimer(t.ex.ANY_TOTAL_VIEW_TIME,e),s=this.updateCumulativeTimer(t.ex.FIFTY_TOTAL_VIEW_TIME,e),r=this.updateCumulativeTimer(t.ex.FULL_TOTAL_VIEW_TIME,e),n=this.updateCumulativeTimer(t.ex.EIGHTY_TOTAL_VIEW_TIME,e);return{totalViewTime:i?.cumulativeTime||0,fiftyViewTime:s?.cumulativeTime||0,fullViewTime:r?.cumulativeTime||0,eightyViewTime:n?.cumulativeTime||0}}getContinuousTimes(e){const i=this.updateContinuousTimer(t.ex.ANY_CONTINUOUS_VIEW_TIME,e),s=this.updateContinuousTimer(t.ex.FIFTY_CONTINUOUS_VIEW_TIME,e),r=this.updateContinuousTimer(t.ex.FULL_CONTINUOUS_VIEW_TIME,e),n=this.updateContinuousTimer(t.ex.EIGHTY_CONTINUOUS_VIEW_TIME,e),a=this.updateContinuousTimer(t.ex.THIRTY_CONTINUOUS_VIEW_TIME,e);return{maxAnyViewTime:i?.maxContinuousTime||0,maxFiftyViewTime:s?.maxContinuousTime||0,maxFullViewTime:r?.maxContinuousTime||0,maxEightyViewTime:n?.maxContinuousTime||0,maxThirtyViewTime:a?.maxContinuousTime||0}}getMetadata(e){const i=Date.now(),{totalViewTime:s,fiftyViewTime:r,fullViewTime:n,eightyViewTime:a}=this.getCumulativeTimes(i),{maxAnyViewTime:o,maxFiftyViewTime:l,maxFullViewTime:d,maxEightyViewTime:h,maxThirtyViewTime:u}=this.getContinuousTimes(i),m=this.pixelTimers.get(t.bM.GROUP_M_VIEWABLE)?.fired||e===t.bM.GROUP_M_VIEWABLE,c=e===t.bM.VIEWABLE_IMPRESSION||this.wasEverViewableTimer.fired;e===t.bM.IMPRESSION&&0===this.impressionTimestamp&&(this.impressionTimestamp=i);const T=this.postElement?.getBoundingClientRect(),E=Math.floor(T?.width??0),_=Math.floor(T?.height??0),I=this.getFiredRedditPixelsCount?.()||0,p=new URLSearchParams(t.dl.search).get(t.gV);return{[t.ex.ANY_TOTAL_VIEW_TIME]:s,[t.ex.FIFTY_TOTAL_VIEW_TIME]:r,[t.ex.EIGHTY_TOTAL_VIEW_TIME]:a,[t.ex.FULL_TOTAL_VIEW_TIME]:n,[t.ex.ANY_CONTINUOUS_VIEW_TIME]:o,[t.ex.FIFTY_CONTINUOUS_VIEW_TIME]:l,[t.ex.THIRTY_CONTINUOUS_VIEW_TIME]:u,[t.ex.EIGHTY_CONTINUOUS_VIEW_TIME]:h,[t.ex.FULL_CONTINUOUS_VIEW_TIME]:d,[t.ex.GLOBAL_COUNT]:I,[t.ex.GROUP_M_VIEWABLE]:m?1:0,[t.ex.AD_LOAD_TIME]:this.impressionTimestamp,[t.ex.TIMESTAMP]:i,[t.ex.WAS_EVER_VIEWABLE]:c?1:0,[t.ex.LARGE_AD_FULL_VIEW]:this.largeAdFullViewTimer.fired?1:0,[t.ex.HEIGHT]:_,[t.ex.WIDTH]:E,[t.ex.SCREEN_HEIGHT]:window.screen.height,[t.ex.SCREEN_WIDTH]:window.screen.width,...null!==p&&{[t.ex.TEST_ID]:p}}}getAdEventDisplayMetadata(){const e=Date.now(),{totalViewTime:t,fiftyViewTime:i,eightyViewTime:s,fullViewTime:r}=this.getCumulativeTimes(e),{maxAnyViewTime:n,maxThirtyViewTime:a,maxFiftyViewTime:o,maxEightyViewTime:l,maxFullViewTime:d}=this.getContinuousTimes(e),h=this.postElement?.getBoundingClientRect(),u=Math.floor(h?.width??0),m=Math.floor(h?.height??0);return{any_total_view_time_ms:Math.floor(t),fifty_total_view_time_ms:Math.floor(i),eighty_total_view_time_ms:Math.floor(s),full_total_view_time_ms:Math.floor(r),any_continuous_view_time_ms:Math.floor(n),thirty_continuous_view_time_ms:Math.floor(a),fifty_continuous_view_time_ms:Math.floor(o),eighty_continuous_view_time_ms:Math.floor(l),full_continuous_view_time_ms:Math.floor(d),height:m,width:u,screen_width:Math.floor(window.screen.width),screen_height:Math.floor(window.screen.height)}}getAdEventVideoMetadata(){}getPixelScalingFields(e){return{encryptedTrackingPayload:this.postElement.encryptedTrackingPayload||"",additionalEventMetadata:this.postElement.additionalEventMetadata?this.postElement.additionalEventMetadata[e||0]:"",impressionId:this.impressionId}}firePixel(e,t){const i=c(e);this.pixelFiringController.firePixel({pixelEventType:e,metadata:this.getMetadata(e),displayMetadata:i?this.getAdEventDisplayMetadata():void 0,videoMetadata:i?this.getAdEventVideoMetadata():void 0,galleryIndex:t})}fireUnloadPixel(){this.firePixel(t.bM.UNLOAD)}measureViewChange(e){const i=this.postElement?.getBoundingClientRect(),s=Math.floor(i?.width??0),r=Math.floor(i?.height??0),n=r*s,a=n>=242500,o=r>document.documentElement.clientHeight;if(e.intersectionRatio){this.setCumulativeTimer(t.ex.ANY_TOTAL_VIEW_TIME),this.setContinuousTimer(t.ex.ANY_CONTINUOUS_VIEW_TIME),this.measureImpressionPixel(),this.galleryItems?.length?this.measureGalleryItemImpression():this.isProductAd&&this.measureProductImpression(),t.gW.queuePostForUnload(this.postId,this.impressionId,this.getMetadata.bind(this),this.pixelFiringController.firePixel.bind(this),this.getPixelScalingFields.bind(this));const e=this.postElement,i=this.galleryItems;if(!this.hasDispatchedViewEvent&&e&&!e.isBlank){const s=t.c("observe-post-view-ad",{postId:this.postId,post:e,galleryItems:i||[]});this.postElement.dispatchEvent(s),this.hasDispatchedViewEvent=!0}}else this.unsetContinuousTimer(t.ex.ANY_CONTINUOUS_VIEW_TIME),this.pauseCumulativeTimer(t.ex.ANY_TOTAL_VIEW_TIME);if(e.intersectionRatio>=t.C.LARGE_AD_FULL_VIEW_THRESHOLD?this.setContinuousTimer(t.ex.THIRTY_CONTINUOUS_VIEW_TIME):this.unsetContinuousTimer(t.ex.THIRTY_CONTINUOUS_VIEW_TIME),e.intersectionRatio>=t.C.VIEWABILITY_THRESHOLD){this.setCumulativeTimer(t.ex.FIFTY_TOTAL_VIEW_TIME),this.setContinuousTimer(t.ex.FIFTY_CONTINUOUS_VIEW_TIME),this.pixelTimers.has(t.bM.VIEWABLE_IMPRESSION)||this.setPixelTimer(t.bM.VIEWABLE_IMPRESSION,1e3),this.wasEverViewableTimer.timer||this.wasEverViewableTimer.fired||(this.wasEverViewableTimer.timer=setTimeout((()=>{this.wasEverViewableTimer.timer&&(this.wasEverViewableTimer.fired=!0,this.wasEverViewableTimer.timer=void 0)}),1e3));const e=this.cumulativeTimers.get(t.ex.FIFTY_TOTAL_VIEW_TIME);e&&(this.pixelTimers.has(t.bM.VENDOR_FULLY_IN_VIEW_5_SECS)||this.setPixelTimer(t.bM.VENDOR_FULLY_IN_VIEW_5_SECS,5e3-e.cumulativeTime),this.pixelTimers.has(t.bM.VENDOR_FULLY_IN_VIEW_15_SECS)||this.setPixelTimer(t.bM.VENDOR_FULLY_IN_VIEW_15_SECS,15e3-e.cumulativeTime))}else this.pixelTimers.has(t.bM.VIEWABLE_IMPRESSION)&&this.clearPixelTimer(t.bM.VIEWABLE_IMPRESSION),this.pixelTimers.has(t.bM.VENDOR_FULLY_IN_VIEW_5_SECS)&&this.clearPixelTimer(t.bM.VENDOR_FULLY_IN_VIEW_5_SECS),this.pixelTimers.has(t.bM.VENDOR_FULLY_IN_VIEW_15_SECS)&&this.clearPixelTimer(t.bM.VENDOR_FULLY_IN_VIEW_15_SECS),this.pauseCumulativeTimer(t.ex.FIFTY_TOTAL_VIEW_TIME),this.unsetContinuousTimer(t.ex.FIFTY_CONTINUOUS_VIEW_TIME);e.intersectionRatio>=t.C.EIGHTY_VIEWABILITY_THRESHOLD?(this.setCumulativeTimer(t.ex.EIGHTY_TOTAL_VIEW_TIME),this.setContinuousTimer(t.ex.EIGHTY_CONTINUOUS_VIEW_TIME)):(this.pauseCumulativeTimer(t.ex.EIGHTY_TOTAL_VIEW_TIME),this.unsetContinuousTimer(t.ex.EIGHTY_CONTINUOUS_VIEW_TIME)),e.intersectionRatio>=t.C.FULL_VIEWABILITY_THRESHOLD?(this.setCumulativeTimer(t.ex.FULL_TOTAL_VIEW_TIME),this.setContinuousTimer(t.ex.FULL_CONTINUOUS_VIEW_TIME)):(this.pauseCumulativeTimer(t.ex.FULL_TOTAL_VIEW_TIME),this.unsetContinuousTimer(t.ex.FULL_CONTINUOUS_VIEW_TIME)),e.intersectionRatio<t.C.VIEWABILITY_THRESHOLD&&this.wasEverViewableTimer.timer&&(clearTimeout(this.wasEverViewableTimer.timer),this.wasEverViewableTimer.timer=void 0);a&&e.intersectionRatio>=t.C.LARGE_AD_FULL_VIEW_THRESHOLD||e.intersectionRatio>=t.C.FULL_VIEWABILITY_THRESHOLD?this.largeAdFullViewTimer.timer||this.largeAdFullViewTimer.fired||(this.largeAdFullViewTimer.timer=setTimeout((()=>{this.largeAdFullViewTimer.timer&&(this.largeAdFullViewTimer.fired=!0,this.largeAdFullViewTimer.timer=void 0)}),1e3)):this.largeAdFullViewTimer.timer&&(clearTimeout(this.largeAdFullViewTimer.timer),this.largeAdFullViewTimer.timer=void 0),o?1!==e.intersectionRatio||this.pixelTimers.has(t.bM.GROUP_M_VIEWABLE)?n*e.intersectionRatio<1&&this.pixelTimers.has(t.bM.GROUP_M_VIEWABLE)&&this.clearPixelTimer(t.bM.GROUP_M_VIEWABLE):this.setPixelTimer(t.bM.GROUP_M_VIEWABLE,1e3):e.intersectionRatio>=t.C.FULL_VIEWABILITY_THRESHOLD?(this.pixelTimers.has(t.bM.GROUP_M_VIEWABLE)||this.setPixelTimer(t.bM.GROUP_M_VIEWABLE,1e3),this.pixelTimers.has(t.bM.VENDOR_FULLY_IN_VIEW)||this.setPixelTimer(t.bM.VENDOR_FULLY_IN_VIEW,100)):(this.pixelTimers.has(t.bM.GROUP_M_VIEWABLE)&&this.clearPixelTimer(t.bM.GROUP_M_VIEWABLE),this.pixelTimers.has(t.bM.VENDOR_FULLY_IN_VIEW)&&this.clearPixelTimer(t.bM.VENDOR_FULLY_IN_VIEW))}clearPixelTimer(e){const t=this.pixelTimers.get(e);t?.timer&&(clearTimeout(t.timer),this.pixelTimers.delete(e))}setPixelTimer(e,t){const i=this.pixelTimers.get(e)?.fired;i||(this.pixelTimers.get(e)?.timer&&this.clearPixelTimer(e),this.pixelTimers.set(e,{timer:setTimeout((()=>{this.pixelTimers.get(e)&&(this.firePixel(e),this.pixelTimers.set(e,{fired:!0,timer:void 0}))}),t)}))}handleClickRedirect(e,s){const r=this.getMetadata(t.bM.CLICK);this.pixelFiringController.fireDebugPixel({pixel:i.a(e,r),pixelEvent:{url:e,type:t.bM.CLICK,metadata:r},impressionId:this.impressionId,postId:this.postId}),this.isProductAd&&this.firePixel(t.bM.PRODUCT_CLICK,s)}measureImpressionPixel(){this.firePixel(t.bM.IMPRESSION)}measureGalleryItemImpression(e=0){this.firePixel(t.bM.GALLERY_ITEM_IMPRESSION,e),this.isProductAd&&this.firePixel(t.bM.PRODUCT_IMPRESSION,e)}measureProductImpression(){this.firePixel(t.bM.PRODUCT_IMPRESSION)}handleUnload(){t.gW.fireQueuedUnloadPixels()}setCumulativeTimer(e){const t=this.cumulativeTimers.get(e),i=Date.now();if(t&&t.previousDate){const s=i-t.previousDate+t.cumulativeTime;this.cumulativeTimers.set(e,{previousDate:i,cumulativeTime:s})}else this.cumulativeTimers.set(e,{previousDate:i,cumulativeTime:t?.cumulativeTime||0})}updateCumulativeTimer(e,t){const i=this.cumulativeTimers.get(e);if(i&&i.previousDate){const s=t-i.previousDate+(i.cumulativeTime||0);this.cumulativeTimers.set(e,{previousDate:t,cumulativeTime:s})}return this.cumulativeTimers.get(e)}pauseCumulativeTimer(e){const t=this.updateCumulativeTimer(e,Date.now());t&&this.cumulativeTimers.set(e,{previousDate:null,cumulativeTime:t.cumulativeTime||0})}setContinuousTimer(e){const t=this.continuousTimers.get(e),i=Date.now();if(t&&t.previousDate){const s=t.currentContinuousTime+(i-t.previousDate),r=Math.max(s,t.maxContinuousTime);this.continuousTimers.set(e,{previousDate:i,currentContinuousTime:s,maxContinuousTime:r})}else this.continuousTimers.set(e,{previousDate:i,currentContinuousTime:t?.currentContinuousTime||0,maxContinuousTime:t?.maxContinuousTime||0})}updateContinuousTimer(e,t){const i=this.continuousTimers.get(e);if(i&&i.previousDate){const s=i.currentContinuousTime+(t-i.previousDate),r=Math.max(s,i.maxContinuousTime);this.continuousTimers.set(e,{previousDate:t,currentContinuousTime:s,maxContinuousTime:r})}return this.continuousTimers.get(e)}unsetContinuousTimer(e){const t=this.continuousTimers.get(e),i=Date.now();if(t&&t.previousDate){const s=Math.max(t.currentContinuousTime+(i-t.previousDate),t.maxContinuousTime);this.continuousTimers.set(e,{previousDate:null,currentContinuousTime:0,maxContinuousTime:s})}}}function p(e=0){return 1e3*e}class v extends I{get visible(){return!!this.videoIntersectionRatio}get viewable(){return(this.videoIntersectionRatio||0)>=t.C.VIEWABILITY_THRESHOLD}get currentQuartileState(){switch((this.viewable?1:0)+(this.videoVolume&&this.videoVolume>0?2:0)){case 0:return t.gX.NOT_VISIBLE_NOT_AUDIBLE;case 1:return t.gX.VISIBLE_NOT_AUDIBLE;case 2:return t.gX.AUDIBLE_NOT_VISIBLE;case 3:return t.gX.VISIBLE_AND_AUDIBLE;default:return t.gX.NO_EVENT}}constructor(e,t){super(e,t),this.videoDuration=1/0,this.videoCurrentTime=0,this.seekingInitialized=!1,this.hasSeeked=!1,this.accumulatedWatchedTime=0,this.videoWasFullscreen=!1,this.videoWasVisible=!1,this.quartileState=new Map,this.dimensions=e.dimensions,this.thresholds=i.g(i.b)}minTimeRequired({timePercent:e=1/0,time:t=1/0}){const i=Number.isFinite(e)?e*this.videoDuration:1/0,s=Number.isFinite(t)?t:1/0;return Math.min(i,s)}setViewablePixelTimer(e){const t=Date.now(),i=this.pixelTimers.get(e.pixelEvent);if(i?.fired||i?.timer)return;let s=e.time;e.timePercent&&this.videoDuration&&(s=Math.min(this.videoDuration*e.timePercent,e.time));const r=i?.timeLeft?i?.timeLeft:s;this.pixelTimers.set(e.pixelEvent,{timer:setTimeout((()=>{this.firePixel(e.pixelEvent),this.pixelTimers.set(e.pixelEvent,{fired:!0,timer:void 0})}),r),timeLeft:r,lastSetTime:t})}resetViewablePixelTimer(e){const t=this.pixelTimers.get(e.pixelEvent);t?.fired||t&&!t.fired&&this.clearPixelTimer(e.pixelEvent)}pauseViewablePixelTimer(e){const t=this.pixelTimers.get(e.pixelEvent);if(t&&!t?.fired&&void 0!==this.videoCurrentTime&&void 0!==this.videoDuration){const i=Date.now();if(t.timer&&t.lastSetTime){const s=e.time-(i-t.lastSetTime);clearTimeout(t.timer),this.pixelTimers.set(e.pixelEvent,{timeLeft:s})}}}videoStateChange(){this.visible&&!this.videoWasVisible&&(this.videoWasVisible=!0),this.videoPlaying&&(this.updateQuartileState(),this.firePixel(t.bM.VIDEO_STARTED),this.videoVolume&&this.firePixel(t.bM.VIDEO_PLAYED_WITH_SOUND),t.gY.forEach((e=>{this.videoViewabilityStateChange(e)}))),t.gZ.forEach((e=>{this.videoWatchedPercentStateChange(e)})),t.g_.forEach((e=>{this.videoWatchedSecondsStateChange(e)})),this.videoGroupMViewableChange()}videoViewabilityStateChange(e){this.videoIntersectionRatio&&this.videoIntersectionRatio>=e.threshold?this.videoPlaying?this.setViewablePixelTimer(e):this.pauseViewablePixelTimer(e):this.resetViewablePixelTimer({pixelEvent:e.pixelEvent,time:e.time})}videoWatchedPercentStateChange(e){if("number"==typeof this.videoCurrentTime&&"number"==typeof this.videoDuration){this.videoCurrentTime/this.videoDuration>=e.timePercent&&(e.quartileKey&&!this.quartileState.has(e.quartileKey)&&(e.quartileKey!==t.g$.VIDEO_STATE_Q0||this.videoPlaying)&&this.quartileState.set(e.quartileKey,this.currentQuartileState),t.h0(e)&&this.firePixel(e.pixelEvent))}}updateQuartileState(){t.gZ.forEach((e=>{if(e.quartileKey&&"number"==typeof this.videoCurrentTime&&"number"==typeof this.videoDuration){this.videoCurrentTime/this.videoDuration>=e.timePercent&&e.quartileKey&&!this.quartileState.has(e.quartileKey)&&this.quartileState.set(e.quartileKey,this.currentQuartileState)}}))}videoWatchedSecondsStateChange(e){this.accumulatedWatchedTime>=this.minTimeRequired(e)&&this.firePixel(e.pixelEvent)}setMediaDetails(e){Number.isFinite(e.volume)&&(this.videoVolume=e.muted?0:e.volume),Number.isFinite(e.duration)&&(this.videoDuration=p(e.duration)),Number.isFinite(e.currentTime)&&(this.videoCurrentTime=p(e.currentTime))}updateAccumulatedWatchTime(e){const t=e-this.videoCurrentTime;return this.accumulatedWatchedTime+=t,t}updateThresholds(e){const{visibleThresholds:t}=this.getHiddenAndVisibleThresholds();t.forEach((t=>{this.thresholds[t.key].totalTime+=e,this.thresholds[t.key].currentContinuousTime+=e;const{currentContinuousTime:i,maxContinuousTime:s}=this.thresholds[t.key];i>s&&(this.thresholds[t.key].maxContinuousTime=i)})),this.resetContinuousTimerForHiddenThresholds()}getHiddenAndVisibleThresholds(){const e=[],t=[];return i.V.forEach((i=>{this.meetsViewabilityRequirements(i)?e.push(i):t.push(i)})),{visibleThresholds:e,hiddenThresholds:t}}resetContinuousTimerForHiddenThresholds(){this.resetContinuousTimerForThresholds(this.getHiddenAndVisibleThresholds().hiddenThresholds)}resetContinuousTimerForThresholds(e){e.forEach((e=>{this.thresholds[e.key].currentContinuousTime=0}))}measureViewChange(e){(e.id===t.h1.IN_FEED_AD_VIDEO||e.id===t.h1.COMMENT_PAGE_AD_VIDEO)&&(this.videoIntersectionRatio=e.intersectionRatio),super.measureViewChange(e),this.videoStateChange(),this.resetContinuousTimerForHiddenThresholds()}measureVideoPlay(e){this.videoPlaying=!0,this.setMediaDetails(e),this.videoStateChange()}measureVideoPause(e){this.videoPlaying=!1,this.setMediaDetails(e),this.videoStateChange(),t.gY.forEach((e=>{this.pauseViewablePixelTimer(e)}))}measureVideoSeek(e){this.hasSeeked=!0,this.seekingInitialized||(this.videoPlaying=!1,this.setMediaDetails(e),t.gY.forEach((e=>{this.resetViewablePixelTimer({pixelEvent:e.pixelEvent,time:e.time})})),this.seekingInitialized=!0)}measureVideoSeeked(e){this.seekingInitialized=!1,this.hasSeeked=!0,this.videoCurrentTime=p(e.currentTime),e.paused||this.measureVideoPlay(e)}measureVolumeChange(e){this.setMediaDetails(e),this.videoStateChange(),e.volume&&!e.muted&&this.videoPlaying&&t.gY.forEach((e=>{this.firePixel(e.pixelEvent),this.pixelTimers.set(e.pixelEvent,{fired:!0})}))}measureFullscreenChange(e){this.videoFullscreen=e.fullscreen,this.videoStateChange(),e.fullscreen&&(this.videoWasFullscreen=!0,this.firePixel(t.bM.VIDEO_PLAYED_EXPANDED),this.videoPlaying&&t.gY.forEach((e=>{this.firePixel(e.pixelEvent),this.pixelTimers.set(e.pixelEvent,{fired:!0})})))}measureVideoTimeUpdate(e){const t=this.updateAccumulatedWatchTime(p(e.currentTime));this.updateThresholds(t),this.videoCurrentTime=p(e.currentTime),this.videoStateChange()}getMetadata(e){const i=super.getMetadata(e),s=this.thresholds.HALF_DURATION_80_IN_VIEW_AUDIBLE.totalTime;return{...i,[t.ey.IS_VIDEO_AD]:1,[t.ey.TOTAL_MRC_VIEWABLE_TIME]:Math.floor(this.thresholds.TOTAL_MRC_VIEWABLE_TIME.totalTime),[t.ey.VIDEO_AD_DURATION]:isFinite(this.videoDuration)?Math.floor(this.videoDuration):0,[t.ey.TOTAL_PLAY_TIME]:Math.floor(this.accumulatedWatchedTime),[t.ey.VOLUME]:Math.floor(100*(this.videoVolume??0)),[t.ey.IS_VISIBLE]:this.visible?1:0,[t.ey.VIDEO_HEIGHT]:this.visible&&this.dimensions?this.dimensions.height:0,[t.ey.TOTAL_AUDIBLE_TIME]:Math.floor(this.thresholds.TOTAL_AUDIBLE_TIME.totalTime),[t.ey.VIDEO_STATE_Q0]:this.quartileState.get(t.g$.VIDEO_STATE_Q0)??t.gX.NO_EVENT,[t.ey.VIDEO_STATE_Q1]:this.quartileState.get(t.g$.VIDEO_STATE_Q1)??t.gX.NO_EVENT,[t.ey.VIDEO_STATE_Q2]:this.quartileState.get(t.g$.VIDEO_STATE_Q2)??t.gX.NO_EVENT,[t.ey.VIDEO_STATE_Q3]:this.quartileState.get(t.g$.VIDEO_STATE_Q3)??t.gX.NO_EVENT,[t.ey.VIDEO_STATE_Q4]:this.quartileState.get(t.g$.VIDEO_STATE_Q4)??t.gX.NO_EVENT,[t.ey.VIDEO_WIDTH]:this.visible&&this.dimensions?this.dimensions.width:0,[t.ey.WAS_FULL_SCREEN]:this.videoWasFullscreen?1:0,[t.ey.HALF_DURATION_80_IN_VIEW_AUDIBLE]:s>=15e3||this.videoDuration&&s>=.5*this.videoDuration?1:0,[t.ey.FULL_IN_VIEW_AUDIBLE_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime),[t.ey.EIGHTY_TOTAL_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.EIGHTY_IN_VIEW_TIME.totalTime),[t.ey.FULL_IN_VIEW_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.totalTime),[t.ey.WAS_FULL_IN_VIEW_1SEC]:this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime>=1e3?1:0,[t.ey.ANY_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.ANY_IN_VIEW_TIME.maxContinuousTime),[t.ey.FIFTY_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.FIFTY_IN_VIEW_TIME.maxContinuousTime),[t.ey.FULL_CONTINUOUS_VIDEO_VIEW_TIME]:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime),[t.ey.HAS_SEEKED]:this.hasSeeked?1:0}}getAdEventVideoMetadata(){return{is_video:!0,total_mrc_viewable_time_ms:Math.floor(this.thresholds.TOTAL_MRC_VIEWABLE_TIME.totalTime),video_ad_duration:isFinite(this.videoDuration)?Math.floor(this.videoDuration):0,total_play_time:Math.floor(this.accumulatedWatchedTime),volume:Math.floor(100*(this.videoVolume??0)),total_audible_time:Math.floor(this.thresholds.TOTAL_AUDIBLE_TIME.totalTime),was_full_screen:this.videoWasFullscreen,video_state_q1:(this.quartileState.get(t.g$.VIDEO_STATE_Q1)??t.gX.NO_EVENT).toString(),video_state_q2:(this.quartileState.get(t.g$.VIDEO_STATE_Q2)??t.gX.NO_EVENT).toString(),video_state_q3:(this.quartileState.get(t.g$.VIDEO_STATE_Q3)??t.gX.NO_EVENT).toString(),video_state_q4:(this.quartileState.get(t.g$.VIDEO_STATE_Q4)??t.gX.NO_EVENT).toString(),full_in_view_audible_time_ms:Math.floor(this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime),full_in_view_time_ms:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.totalTime),video_height:this.visible&&this.dimensions?this.dimensions.height:0,video_width:this.visible&&this.dimensions?this.dimensions.width:0,fifty_continuous_video_view_time_v2_ms:Math.floor(this.thresholds.FIFTY_IN_VIEW_TIME.maxContinuousTime),eighty_total_video_view_time_v2_ms:Math.floor(this.thresholds.EIGHTY_IN_VIEW_TIME.totalTime),any_continuous_video_view_time_v2_ms:Math.floor(this.thresholds.ANY_IN_VIEW_TIME.maxContinuousTime),full_continuous_video_view_time_v2_ms:Math.floor(this.thresholds.FULL_IN_VIEW_TIME.maxContinuousTime)}}isAdequatelyInView(e){return!!this.videoFullscreen||(this.videoIntersectionRatio||0)>=e}meetsViewabilityRequirements(e){return this.isAdequatelyInView(e.threshold)&&(!e.playing||this.videoPlaying)&&(!e.withSound||this.videoVolume&&this.videoVolume>0)}videoGroupMViewableChange(){const e=this.dimensions?.height*this.dimensions?.width;let i=this.thresholds.FULL_IN_VIEW_AUDIBLE_TIME.totalTime;e>=3e5&&(i=this.thresholds.HALF_DURATION_80_IN_VIEW_AUDIBLE.totalTime),i/this.videoDuration>=t.C.VIEWABILITY_THRESHOLD&&this.firePixel(t.bM.VIDEO_GROUP_M_VIEWABLE)}}const g=(e,{ignoredTags:t=new Set}={})=>{const i=(e=>{const t=window.getComputedStyle(e).borderRadius,i=Number.parseInt(t)/2,s=e.getBoundingClientRect();return document.elementFromPoint(s.left+i,s.top+i)})(e);return{overlappingElement:i,isOverlapped:!(!i||e.isSameNode(i)||e.contains(i)||t.has(i.tagName)||!((e,t)=>{const i=e.getBoundingClientRect(),s=t.getBoundingClientRect();return!(i.top>s.bottom||i.right<s.left||i.bottom<s.top||i.left>s.right)})(e,i))}},V=(e,t)=>{if((e=>{const t=e.getBoundingClientRect();if(t.width*t.height==0)return!0;const i=window.innerWidth||document.documentElement.clientWidth,s=window.innerHeight||document.documentElement.clientHeight;return t.right<0||t.bottom<0||t.left>i||t.top>s})(e))return 0;const i=e.getBoundingClientRect(),s=t.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,n=Math.min(r,i.bottom);return Math.max(0,n-s.bottom)/i.height},y=(e,t)=>{if(!e||!e.title)return 0;if(!1===e.renderTitleTruncation)return e.title.length;const i=e?.querySelector('[click-location="title"]')?.shadowRoot?.querySelector("a"),s=document.body,r=document.createElement("div");if(r.id="dummyDiv",r.className=i?.className,r.className=r.className.replace(/line-clamp-\d+/,""),r.classList.add("px-md"),t||(r.classList.add("font-normal"),r.classList.add("text-14")),r.style.position="absolute",r.style.left="-9999px",r.style.top="-9999px",r.style.visibility="hidden",s?.appendChild(r),r.style.width=i?.clientWidth+"px",r.textContent=e.title,r.offsetHeight<=i?.offsetHeight)return r?.remove(),e.title.length;let n=0;r.textContent="…";for(let t=0;t<e.title.length;t++){const s=e.title?.slice(0,t+1);if(r.textContent=s+"…",r.offsetHeight>i?.offsetHeight)break;n+=1}return r?.remove(),n},M=({postId:e,post:i,galleryItems:s,page_request_id:n,adsCorrelationId:a})=>{const o=i?.querySelector(`[click-location=${t.A.MEDIA}]`);let l;o&&(l=o.getBoundingClientRect());const d={post:{id:e,subreddit_id:i?.subredditId,subreddit_name:i?.subredditPrefixedName,author_id:i?.authorId,promoted:!0,title:i?.postTitle||i?.title,domain:i?.domain,nsfw:i?.nsfw,number_comments:i?.commentCount,type:i?.postType,created_timestamp:t.fw(i?.createdTimestamp||""),spoiler:i?.spoiler,url:i?.outboundLinkUrl},ad_metadata:{impression_id:i?.impressionId||"",placement:r.b({post:i}),ad_correlation_id:a},feed:t.gj(),action_info:{page_request_id:n},screen:{height:window.screen.height,width:window.screen.width}};i&&r.i(i)&&(d.action_info||(d.action_info={}),d.action_info.position=i.feedIndex,d.screen||(d.screen={}),d.screen={},d.screen.view_type=t.gk(i.viewType));const h=s&&s.length>0||!1;if(i&&r.c(i)&&(d.view_stats={characters_displayed:y(i,h)},d.parent={post_id:i?.parentElement?.querySelector("shreddit-post")?.id},d.action_info||(d.action_info={}),d.action_info.position=(e=>{if(e.shouldTrackPosition&&!e.isBlank)return e.placement===t.dn.COMMENTS_PAGE?0:[...document.querySelectorAll('shreddit-comments-page-ad[placement="comments_page"], shreddit-comments-page-ad[placement="comment_trees"], shreddit-comment[depth="0"]')].findIndex((t=>t.id===e.id))||void 0})(i)),s&&s.length>0){const e=s.map((e=>e.media?.id||""));d.gallery={num_items:s.length,media_ids:e,id:s[0].id},d.media={id:s[0].media?s[0].media.id:"",width:s[0].media?s[0].media.width:0,height:s[0].media?s[0].media.height:0}}else l&&(d.media={id:e,height:Math.round(l?.height),width:Math.round(l?.width)});return t.b(r.d,d)},C=e=>e.map((e=>{const i=t.bM[e.type];return{...e,type:i}}));class f{constructor(e){this.firedPixels=new Set,this.firedRedditPixels=new Set,this.firePixel=({pixelEventType:e,metadata:t,galleryIndex:i,displayMetadata:s,videoMetadata:r})=>{const n=this.postEvents?.get(e)||[];if(this.host.galleryItems){const t=this.getGalleryUrls(e,i)||[];n.push(...t)}const a=this.getPixelScalingFields(i);return this.firePixelsFromEvents({pixelEvents:n,metadata:t,pixelRequestBody:a,displayMetadata:s,videoMetadata:r})},this.fireDebugPixel=e=>{const i=t.c("pixelFired",e);window.dispatchEvent(i)},this.firePixelsFromEvents=({pixelEvents:e,metadata:t,pixelRequestBody:i,displayMetadata:s,videoMetadata:r})=>{const n=[];return e.forEach((e=>{const a=this.firePixelRequest({pixelEvent:e,metadata:t,pixelRequestBody:i,displayMetadata:s,videoMetadata:r});a&&n.push(a)})),n},this.firePixelRequest=({pixelEvent:e,metadata:r,pixelRequestBody:n,displayMetadata:a,videoMetadata:o})=>{if(this.hasPixelAlreadyFired(e,n))return;let l;return _(this.host,"queued",e),h(e)?l=m({pixelEvent:e,metadata:r,pixelRequestBody:n,target:this.host}):(l=function(e,t,r){const n=!s.aa(e.url);if(T(e.type)&&!n)return e.url;const a=new Image;a.onload=()=>{_(r,"succeeded",e)},a.onerror=t=>{const i="Sentry"in window?window.Sentry:void 0;i?.captureException&&i.captureException(new Error(`Error in GET response from pixel server for pixel of type ${e.type}: ${t}`)),_(r,"failed",e)};let o=e.url;return t&&!n&&(o=i.a(o,t)),a.src=o,e.url}(e,r,this.host),s.aa(e.url)||e.type!==t.bM.IMPRESSION||function(e){const i=e===t.dJ.DESKTOP?"shreddit_desktop":"shreddit_mobile";t.aV({type:t.aW.Counter,name:"ads_third_party_impression_tracker_total",value:1,labels:{client_platform:i}})}(this.deviceType)),c(e.type)&&E({pixelEvent:e,impressionId:this.host.impressionId,displayMetadata:a,videoMetadata:o,pixelRequestBody:n,target:this.host}),l&&(this.firedPixels.add(l),(h(e)||s.aa(l))&&this.firedRedditPixels.add(l)),h(e)?this.fireDebugPixel({pixel:u(e,n),pixelEvent:{encryptedTrackingId:e.encryptedTrackingId,type:e.type,metadata:r},encryptedTrackingPayload:n.encryptedTrackingPayload,additionalEventMetadata:n.additionalEventMetadata,postId:this.host.postId,impressionId:this.host.impressionId}):this.fireDebugPixel({pixel:e.url,pixelEvent:{url:e.url,type:e.type,metadata:s.aa(e.url)?r:void 0},postId:this.host.postId,impressionId:this.host.impressionId}),l},this.hasPixelAlreadyFired=(e,t)=>h(e)?this.firedPixels.has(u(e,t)):this.firedPixels.has(e.url),this.deviceType=document.querySelector("shreddit-app")?.deviceType||t.dJ.MOBILE,this.host=e,this.host.addController(this)}hostConnected(){const e=C(this.host.adEvents);this.postEvents=d(e),this.host.galleryItems&&(this.galleryEvents=this.host.galleryItems.map((e=>d(C(e.adEvents||[])))))}get firedRedditPixelsCount(){return this.firedRedditPixels.size}getPixelScalingFields(e){return{encryptedTrackingPayload:this.host.encryptedTrackingPayload||"",additionalEventMetadata:this.host.additionalEventMetadata?this.host.additionalEventMetadata[e||0]:"",impressionId:this.host.impressionId}}getGalleryUrls(e,i){const s=void 0===i&&e===t.bM.IMPRESSION,r=s?0:i;if(void 0===r)return;const n=s?t.bM.GALLERY_ITEM_IMPRESSION:e;return this.galleryEvents?.[r]&&this.galleryEvents[r].get(n)||[]}}const x=Symbol("mixins/with-ad-observer"),b=new Set(["SHREDDIT-APP","FACEPLATE-PARTIAL"]);const O="visibleClassnames",w="hiddenClassnames";var L=Object.freeze({__proto__:null,ToggleableVideoAdController:class{constructor(e,i){this.expandVideoPlayer=()=>{this.toggleElVisibility(this.videoPlayerEl,!0),this.toggleElVisibility(this.thumbnailContainerEl,!1),this.toggleElVisibility(this.thumbnailImageEl,!1),this.toggleElVisibility(this.thumbnailPlayBtnEl,!1),setTimeout((()=>{this.shredditPlayer&&this.updateVideoAdMeasurerDimensions(this.shredditPlayer.offsetHeight,this.shredditPlayer.offsetWidth)}),300)},this.hideVideoPlayer=()=>{this.toggleElVisibility(this.videoPlayerEl,!1),this.toggleElVisibility(this.thumbnailContainerEl,!0),this.toggleElVisibility(this.thumbnailImageEl,!0),this.toggleElVisibility(this.thumbnailPlayBtnEl,!0),this.shredditPlayer?.mediaUI?.hasAttribute(t.hb.PLAYING)&&this.host.dispatchEvent(new CustomEvent(t.h5,{detail:{currentTime:this.shredditPlayer?.videoElement.currentTime,duration:this.shredditPlayer?.videoElement.duration}}))},(this.host=e).addController(this),this.updateVideoAdMeasurerDimensions=i}get videoPlayerEl(){return this.host.querySelector(".toggleable-video-player-element")}get videoPlayerCloseBtnEl(){return this.host.querySelector(".toggleable-video-player-close-btn")}get thumbnailContainerEl(){return this.host.querySelector(".thumbnail-video-toggle-container")}get thumbnailImageEl(){return this.host.querySelector(".thumbnail-image-video-toggle")}get thumbnailPlayBtnEl(){return this.host.querySelector(".thumbnail-playback-action-circle")}get shredditPlayer(){return this.host.querySelector("shreddit-player-2")}toggleElVisibility(e,t){if(null===e)return;const i=t?e.dataset[w]:e.dataset[O];i&&i?.split(" ").forEach((t=>{e.classList.remove(t)}));const s=t?e.dataset[O]:e.dataset[w];s&&s?.split(" ").forEach((t=>{e.classList.add(t)}))}async hostConnected(){this.host.adType===t.fs.VIDEO&&(this.thumbnailContainerEl?.addEventListener("click",this.expandVideoPlayer),this.videoPlayerCloseBtnEl?.addEventListener("click",this.hideVideoPlayer))}hostDisconnected(){this.host.adType===t.fs.VIDEO&&(this.thumbnailContainerEl?.removeEventListener("click",this.expandVideoPlayer),this.videoPlayerCloseBtnEl?.removeEventListener("click",this.hideVideoPlayer))}}});return{C:"product-carousel-item",G:"gallery-images-container",W:function(e){const i=t.e(e);if(t.dE(i,x))return i;class a extends i{constructor(){super(...arguments),this.eventController=new t.E(this),this.pubsub=new t.P(this),this.isOverlapped=!1,this.isVideo=!1,this.isGallery=!1,this.visibilityChangeHandler=this.onVisibilityChange.bind(this),this.isAdObserved=!1,this.onCommentCreated=()=>{this.firePixel(t.bM.COMMENT)},this.onCommentUpvoted=()=>{this.firePixel(t.bM.COMMENT_UPVOTE)},this.onCommentDownvoted=()=>{this.firePixel(t.bM.COMMENT_DOWNVOTE)},this.onHideAd=({impressionId:e,action:t})=>{this.impressionId===e&&t===n.a.hide&&this.adMeasurer?.resetTimers()},this.checkAndMeasureIfAdIsBeingOverlapped=t.k((()=>{if(!this.postElement||!this.postElement.isConnected)return;const{hidden:e}=this.getHiddenAndVisibilityChangeForDocument();if(document[e])return void this.measureOutOfViewChange();const{isOverlapped:t,overlappingElement:i}=g(this.postElement,{ignoredTags:b});if(t&&i){this.isOverlapped=!0;const e={intersectionRatio:V(this.postElement,i)};this.adMeasurer?.measureViewChange(e),this.lastIOEvent=e}else this.isOverlapped&&(this.isOverlapped=!1,this.measureBackInViewChange())}),30),this.handleIntersectingEvent=this.eventController.define("io-event-is-intersecting",(e=>{this.isIntersectingChange(e)})),this.handleNotIntersectingEvent=this.eventController.define("io-event-is-not-intersecting",(e=>{this.isIntersectingChange(e)})),this.updateViewChangeDetails=e=>{this.lastIOEvent=e,e.intersectionRatio>0&&(this.lastVisibleIOEvent=e)},this.measureOutOfViewChange=()=>{const e={intersectionRatio:0};if(this.isVideo){const t=this.querySelector("shreddit-with-observer-wrapper")?.id;t&&(e.id=t)}this.adMeasurer?.measureViewChange(e),this.updateViewChangeDetails(e)},this.measureBackInViewChange=()=>{if(this.lastVisibleIOEvent){const e={...this.lastVisibleIOEvent};if(this.isVideo){const t=this.querySelector("shreddit-with-observer-wrapper")?.id;t&&(e.id=t)}this.adMeasurer?.measureViewChange(e),this.updateViewChangeDetails(e)}},this.handleAnalyticEvent=this.eventController.define("track-event",(e=>{const i=e.detail.details;if(i.post?.id!==this.postId)return;const{source:s,action:r,noun:n}=i;if("gallery"===s&&this.isGallery){if("forward"!==n&&"backward"!==n)return;const e="forward"===n?this.galleryIndex+1:this.galleryIndex-1;if(e<0||e>=this.galleryItemLength)return;this.galleryIndex=e,this.adMeasurer?.measureGalleryItemImpression(this.galleryIndex),this.lastIOEvent&&this.adMeasurer?.measureViewChange(this.lastIOEvent)}if("post_detail"===s&&"click"===r)switch(n){case"upvote_comment":this.firePixel(t.bM.COMMENT_UPVOTE);break;case"downvote_comment":this.firePixel(t.bM.COMMENT_DOWNVOTE);break;case"submit_comment":this.firePixel(t.bM.COMMENT)}if("post"===s&&"click"===r)switch(n){case"comments":this.firePixel(t.bM.COMMENTS_VIEW);break;case"upvote":this.firePixel(t.bM.UPVOTE);break;case"downvote":this.firePixel(t.bM.DOWNVOTE)}})),this.handlePostViewAdEvent=this.eventController.define("observe-post-view-ad",(e=>{const i=e.detail.post,{postId:s,galleryItems:r}=e.detail,n=t.ci();this.trackEvent(M({postId:s,post:i,galleryItems:r,page_request_id:n,adsCorrelationId:i.adsCorrelationId}))})),this.handleAdClickEvent=this.eventController.define("observe-ad-click",(e=>{const{postId:i,impressionId:r,outboundUrl:n,galleryIndex:a}=e.detail;if(i!==this.postId&&r!==this.impressionId)return;s.ab(n)&&(this.adMeasurer?.handleClickRedirect(n,a),this.fireAnalyticsEventForClickRedirect({outboundUrl:n,impressionId:r,galleryIndex:a}));const o=a??this.galleryIndex;this.firePixel(t.bM.CLICK,o)})),this.handleLeadGenSubmissionEvent=this.eventController.define(r.L,(e=>{this.firePixel(t.bM.LEAD_GENERATION)})),this.handleAdEngagedClickEvent=this.eventController.define(r.A,(e=>{this.firePixel(t.bM.ENGAGED_CLICK)}))}getMetadataForPixelEvent(e){return this.adMeasurer?.getMetadata(e)}enableAdObserver(e){try{if(this.isAdObserved)return;const{adType:i,...s}=e;this.postId=e.postId,this.impressionId=e.impressionId,this.postElement=e.postElement,this.isVideo=i===t.fs.VIDEO,Array.isArray(e.galleryItems)&&(this.isGallery=!0,this.galleryIndex=0,this.galleryItemLength=e.galleryItems.length),this.overlappingObserver=new MutationObserver(this.checkAndMeasureIfAdIsBeingOverlapped),this.pixelFiringController=new f(e.postElement),s.getFiredRedditPixelsCount=()=>this.pixelFiringController?.firedRedditPixelsCount||0,this.adMeasurer=this.isVideo?new v(s,this.pixelFiringController):new I(s,this.pixelFiringController),this.isVideo&&this.setupVideoEvents(),this.isGallery&&this.setupGalleryEvents(),this.isAdObserved=!0,this.impressionId||this.fireInitializationErrorMetricEvent("missing_impression_id")}catch(e){window.Sentry?.captureException?.(`enableAdObserver | ${e.stack}`),this.fireInitializationErrorMetricEvent("exception")}}connectedCallback(){super.connectedCallback(),this.setupVisibilityTracking(),this.pubsub.subscribe(t.T.AdUpdated,this.onHideAd),this.postElement&&this.postElement.isPDP&&(this.pubsub.subscribe(t.T.CommentCreated,this.onCommentCreated),this.pubsub.subscribe(t.T.CommentUpvoted,this.onCommentUpvoted),this.pubsub.subscribe(t.T.CommentDownvoted,this.onCommentDownvoted))}disconnectedCallback(){super.disconnectedCallback(),this.teardownVisibilityTracking(),this.measureOutOfViewChange()}firePixel(e,t){if(!this.adMeasurer||!this.pixelFiringController)return;const i=c(e);this.pixelFiringController.firePixel({pixelEventType:e,metadata:this.adMeasurer.getMetadata(e),displayMetadata:i?this.adMeasurer.getAdEventDisplayMetadata():void 0,videoMetadata:i?this.adMeasurer.getAdEventVideoMetadata():void 0,galleryIndex:t})}measureOutOfViewChangeIgnoringPrompts(e){e.relatedTarget&&this.measureOutOfViewChange()}onVisibilityChange(){const{hidden:e}=this.getHiddenAndVisibilityChangeForDocument();this.lastIOEvent&&(document[e]?this.measureOutOfViewChange():this.measureBackInViewChange())}setupVisibilityTracking(){const{visibilityChange:e}=this.getHiddenAndVisibilityChangeForDocument();document.addEventListener(e,this.visibilityChangeHandler),window.addEventListener("blur",this.measureOutOfViewChangeIgnoringPrompts),window.addEventListener("focus",this.measureBackInViewChange),this.overlappingObserver?.observe(document.body,{childList:!0,subtree:!0,attributes:!0,characterData:!1})}teardownVisibilityTracking(){const{visibilityChange:e}=this.getHiddenAndVisibilityChangeForDocument();document.removeEventListener(e,this.visibilityChangeHandler),window.removeEventListener("blur",this.measureOutOfViewChangeIgnoringPrompts),window.removeEventListener("focus",this.measureBackInViewChange),this.overlappingObserver?.disconnect()}isIntersectingChange(e){const{details:t,id:i}=e.detail,s={id:i,intersectionRatio:t.intersectionRatio};this.updateViewChangeDetails(s),this.adMeasurer?.measureViewChange(s),(t.intersectionRatio||this.isOverlapped)&&this.checkAndMeasureIfAdIsBeingOverlapped()}getHiddenAndVisibilityChangeForDocument(){let e=t.h2.Standard,i=t.h3.hidden;return void 0!==document.hidden?(e=t.h2.Standard,i=t.h3.hidden):void 0!==document.webkitHidden&&(e=t.h2.Webkit,i=t.h3.webkitHidden),{hidden:e,visibilityChange:i}}setupVideoEvents(){this.handleVideoFullscreenEvent=this.eventController.define(t.h4,(e=>{this.adMeasurer?.measureFullscreenChange(e.detail)})),this.handleVideoPauseEvent=this.eventController.define(t.h5,(e=>{this.adMeasurer?.measureVideoPause(e.detail)})),this.handleVideoPlayEvent=this.eventController.define(t.h6,(e=>{this.adMeasurer?.measureVideoPlay(e.detail)})),this.handleVideoVolumeEvent=this.eventController.define(t.h7,(e=>{this.adMeasurer?.measureVolumeChange(e.detail)})),this.handleVideoSeekingEvent=this.eventController.define(t.h8,(e=>{e.detail.fromReconnect||this.adMeasurer?.measureVideoSeek(e.detail)})),this.handleVideoSeekedEvent=this.eventController.define(t.h9,(e=>{e.detail.fromReconnect||this.adMeasurer?.measureVideoSeeked(e.detail)})),this.handleVideoTimeUpdateEvent=this.eventController.define(t.ha,(e=>{setTimeout((()=>{this.adMeasurer?.measureVideoTimeUpdate(e.detail)}))}))}setupGalleryEvents(){this.handleGalleryItemImpressionEvent=this.eventController.define(s.O,(e=>{const{postId:t,itemIndex:i}=e.detail;t===this.postId&&this.adMeasurer?.measureGalleryItemImpression(i)}))}fireAnalyticsEventForClickRedirect({outboundUrl:e,impressionId:i,galleryIndex:s}){c(t.bM.CLICK)&&this.adMeasurer&&this.postElement&&E({target:this.postElement,pixelEvent:{type:t.bM.CLICK,url:e},impressionId:i,pixelRequestBody:this.adMeasurer.getPixelScalingFields(s),displayMetadata:this.adMeasurer.getAdEventDisplayMetadata(),videoMetadata:this.adMeasurer.getAdEventVideoMetadata()})}fireInitializationErrorMetricEvent(e){const i=t.gT({name:"shreddit_ad_init_failure",value:1,label_values:[`error_type,${e}`,`post_id,${this.postId}`,`impression_id,${this.impressionId}`]}),s=t.c("track-event",{details:i});this.postElement?.dispatchEvent(s)}}return a[x]=!0,a},e:C,get i(){return L}}}));
SML.dm("B1A9V64T",["DN8NCGGW","DVMhF-xZ","Cq3THF8r","DDco8exZ","BFBeaKpB","CoWehZRj","B3LBp30v","DmzQCwyH","mlV1StDq","CMS2OfNt","CElIDZoh","Bcf7phnV","CL7z101C","alT8rG4e"],(async(t,e,i,a,s,n,r,o,d,l,h,c)=>{const p=[e.A.BACKGROUND,e.A.PROMOTED_LABEL,e.A.CREDIT_BAR_WHITESPACE,e.A.TITLE,e.A.TEXT_BODY,e.A.ACTION_BAR_WHITESPACE];class u{constructor(t){this._currGalleryIndex=0,this.handleGalleryNavEvent=t=>{const{detail:{details:e}}=t,{noun:i,action:a,source:s,post:n}=e;n?.id===this.host.postId&&"gallery"===s&&"click"===a&&("forward"===i&&this._currGalleryIndex+1<this.host.galleryItems.length&&this._currGalleryIndex++,"backward"===i&&this._currGalleryIndex-1>=0&&this._currGalleryIndex--,this.host.querySelectorAll("call-to-action-gallery-links").forEach((t=>t.handleGalleryNavEvent(this._currGalleryIndex))),this.host.querySelectorAll("shreddit-dynamic-ad-link").forEach((t=>{p.includes(t.clickLocation)&&(t.galleryIndex=this._currGalleryIndex)})))},(this.host=t).addController(this)}hostConnected(){this.host.galleryItems?.length&&this.host.addEventListener("track-event",this.handleGalleryNavEvent)}hostDisconnected(){this.host.removeEventListener("track-event",this.handleGalleryNavEvent)}}class m{constructor(t){(this.host=t).addController(this)}hostConnected(){this.host.impressionId||this.host.hasAdEvents||(this.hydrateAdEventsFromStorage(),this.hydrateAdUserTargetingFromStorage(),this.host.hasAdEvents&&(this.updateDynamicLinkUrls(),this.host.setupAdObserver()))}updateDynamicLinkUrls(){this.host.querySelectorAll("shreddit-dynamic-ad-link").forEach((t=>{const i="/"===t.outboundLinkOverride?.charAt(0),a=!!this.host.galleryItems,s=!!this.host.isReminderAd;i||s||!a&&t.outboundLinkOverride===e.dk||(t.outboundLinkOverride=this.host.galleryItems?this.host.galleryItems[t.galleryIndex??0]?.outboundUrl:this.host.outboundLinkUrl)}))}hydrateAdEventsFromStorage(){const t=new URL(e.dl.href).searchParams.get(e.dm);this.host.impressionId=t||"";const i=n.g(this.host.impressionId);i&&(this.host.adEvents=i.adEvents,this.host.outboundLinkUrl=i.clickRedirectUrl,this.host.galleryItems&&i.galleryAdData&&(this.host.galleryItems=i.galleryAdData?.map(((t,e)=>({...(this.host.galleryItems||[])[e],adEvents:t.adEvents,outboundUrl:t.clickRedirectUrl})))),this.host.encryptedTrackingPayload=i.encryptedTrackingPayload,this.host.additionalEventMetadata=i.additionalEventMetadata)}hydrateAdUserTargetingFromStorage(){const t=n.a();t&&(this.host.adUserTargeting=t)}}const E=r.W(d.S);let y=class extends E{constructor(){super(...arguments),this.adEvents=[],this.impressionId="0",this.isBlank=!1,this.isCommentingDisabled=!1,this.isSharingDisabled=!1,this.isSurveyAd=!1,this.isPromotedCommunityPost=!1,this.isReminderAd=!1,this.isReminderAdModalKsEnabled=!1,this.placement=e.dn.FEED,this.AdPostHydrationController=new m(this),this.AdPostGalleryLinksController=new u(this),this.pubSub=new e.P(this),this._trackAdClick=this._events.define("observe-ad-click",(async t=>{const i=this.postType===e.dp.Image,a=this.postType===e.dp.Video,n=a&&this.viewType!==e.a4.CompactView&&t.detail.clickLocation!==e.A.MEDIA,r=a&&this.viewType===e.a4.CompactView;(i||r||n)&&(await this._activateLeadGenDialog(),s.s({leadGenInfo:this.leadGenInfo,postId:this.id,impressionId:this.impressionId,onSuccess:()=>this.dispatchEvent(e.c(o.L))}))})),this.onAdUpdateAction=({action:t,impressionId:e})=>{"hide"===t&&e===this.impressionId&&(this.hidden=!0)}}static get styles(){return[...super.styles,e.m(":host {\n  position: relative;\n}\n.ad-link-bar {\n  grid-column: 1 / 13;\n  height: 40px;\n  border-top: transparent;\n}\n.meta-row {\n  grid-column: 1 / 4;\n}\n.grid-template-col-inherit {\n  grid-template-columns: inherit;\n}\n")]}_activateLeadGenDialog(){return s.a({leadGenInfo:this.leadGenInfo})}get hasAdEvents(){return this.adEvents?.length>0}handleCarouselArrowClick(t){t.preventDefault();const e=t;c.h(this,e,this.impressionId)}handleClickPost(t){if(!this.isReminderAd||this.isReminderAdModalKsEnabled)return void super.handleClickPost(t);const i=this.querySelector("ad-reminder-button");if(i?.isReminderSet||!1)return void super.handleClickPost(t);t.composedPath().some((t=>t.hasAttribute?.("upvote")||t.hasAttribute?.("downvote")||"comments-action-button"===t.getAttribute?.("name")||t.matches?.("button.toggle__expando-button")||"AD-REMINDER-BUTTON"===t.tagName||"AD-EVENT-STATUS"===t.tagName||"SHREDDIT-POST-SHARE-BUTTON"===t.tagName||"SHREDDIT-POST-OVERFLOW-MENU"===t.tagName||"CLICK-LOCATION-TRACKER"===t.tagName||"UNPACKING-OVERFLOW-MENU"===t.tagName))?super.handleClickPost(t):(t.preventDefault(),this.pubSub.publish(e.T.TriggerAdReminderModal,{postId:this.id}))}async handleUpvote(t){if(super.handleUpvote(t),this.isUserLoggedIn&&this.isReminderAd){super.getCurrentVoteType()===i.V.Upvote&&this.pubsub.publish(e.T.TriggerAdReminderModal,{postId:this.id})}}async connectedCallback(){super.connectedCallback(),this.pubSub.subscribe(e.T.AdUpdated,this.onAdUpdateAction),this.setupAdObserver()}setupAdObserver(){!this.isAdObserved&&this.hasAdEvents&&this.enableAdObserver({postElement:this,events:r.e(this.adEvents),postId:this.id,impressionId:this.impressionId,adType:this.adType,dimensions:this.dimensions,galleryItems:this.galleryItems?.map((t=>({...t,adEvents:r.e(t.adEvents||[])})))})}handleView(t,e){super.handleView(t,e,this.galleryItems?.length)}handleShareClick(){if(this.isSharingDisabled){const t=e.c("faceplate-alert",{level:e.a5.notice,message:"Sharing has been disabled for this post"});this.dispatchEvent(t)}else this.handleShareButtonInteraction()}handleClickCommentsButton(t){if(this.isSurveyAd)super.handleClickCommentsButton(t);else if(this.isCommentingDisabled){const t=e.c("faceplate-alert",{level:e.a5.notice,message:"Comments have been disabled for this post"});this.dispatchEvent(t)}else this.isFeed?(n.s({impressionId:this.impressionId,adEvents:this.adEvents,clickRedirectUrl:this.outboundLinkUrl,galleryAdData:this.galleryItems?.map((t=>({adEvents:t.adEvents,clickRedirectUrl:t.outboundUrl}))),encryptedTrackingPayload:this.encryptedTrackingPayload,additionalEventMetadata:this.additionalEventMetadata}),n.b(this.adUserTargeting),this.trackEvent(l.n(this))):super.handleClickCommentsButton(t)}renderCommentsButton(){if(this.isCommentingDisabled)return t.x`${a.c({size:this.defaultActionButtonSize,appearance:h.ac()?"bordered":"secondary",attributes:{type:"button",className:this.defaultActionButtonClassnames,onclick:this.handleClickCommentsButton,name:"comments-action-button","data-post-click-location":e.a9.COMMENTS_BUTTON},leadingIcon:t.a_({attributes:{className:"icon-comment","aria-hidden":"true"},size:a.I[this.defaultActionButtonSize]}),screenReaderContent:"comments",children:t.x`<faceplate-number number="${this.commentCount}" pretty></faceplate-number>`})}`;{const t=new URL(this.permalink,window.location.origin);return t.searchParams.set(e.bL,"1"),t.searchParams.set(e.dm,this.impressionId),this.leadGenInfo?.campaignId&&t.searchParams.set(e.dq,this.leadGenInfo.campaignId),this.isPromotedCommunityPost&&t.searchParams.set(e.dr,this.postId),this.permalink=t.pathname+t.search,super.renderCommentsButton()}}renderShareButton(){if(this.isSharingDisabled){const e="Share";return t.x`${a.c({size:this.defaultActionButtonSize,appearance:h.ac()?"bordered":"secondary",attributes:{type:"button",onclick:this.handleShareClick,onkeydown:this.handleShareClick,className:this.defaultActionButtonClassnames},leadingIcon:t.b3({attributes:{className:"icon-share","aria-hidden":"true"},size:a.I[this.defaultActionButtonSize]}),screenReaderContent:e,children:e})}`}return this.shareButtonSSR=!1,super.renderShareButton()}renderHiddenPost(){return t.x` <div class="hidden-post h-3xl flex items-center justify-between px-md"> <div> <p class="m-0 font-semibold text-neutral-content-strong text-14"> ${"Ad hidden"} </p> </div> </div> `;}renderActionRow(){return this.isSurveyAd?t.x``:super.renderActionRow()}render(){return this.hidden?this.renderHiddenPost():t.x` <shreddit-with-observer-wrapper id="in-feed-ad" .config="${{threshold:e.ds}}"> ${this.isBlank?null:super.render()} </shreddit-with-observer-wrapper>`}};t._([t.n({type:String,attribute:"post-id"})],y.prototype,"postId",void 0),t._([t.n({type:Array,attribute:"ad-events",reflect:!0})],y.prototype,"adEvents",void 0),t._([t.n({type:Array,attribute:"gallery-items",reflect:!0})],y.prototype,"galleryItems",void 0),t._([t.n({type:Object,attribute:!0})],y.prototype,"dimensions",void 0),t._([t.n({type:String,attribute:"ad-type"})],y.prototype,"adType",void 0),t._([t.n({type:String,attribute:"outbound-link-url",reflect:!0})],y.prototype,"outboundLinkUrl",void 0),t._([t.n({type:String,attribute:"impression-id",reflect:!0})],y.prototype,"impressionId",void 0),t._([t.n({type:Object,attribute:"ad-user-targeting",reflect:!0})],y.prototype,"adUserTargeting",void 0),t._([t.n({type:Boolean,attribute:"is-blank"})],y.prototype,"isBlank",void 0),t._([t.n({type:Boolean,attribute:"is-commenting-disabled"})],y.prototype,"isCommentingDisabled",void 0),t._([t.n({type:Boolean,attribute:"is-sharing-disabled"})],y.prototype,"isSharingDisabled",void 0),t._([t.n({type:Boolean,attribute:"is-survey-ad"})],y.prototype,"isSurveyAd",void 0),t._([t.n({type:Boolean,attribute:"is-promoted-community-post"})],y.prototype,"isPromotedCommunityPost",void 0),t._([t.n({type:Boolean,attribute:"is-reminder-ad"})],y.prototype,"isReminderAd",void 0),t._([t.n({type:Boolean,attribute:"is-reminder-ad-modal-ks-enabled"})],y.prototype,"isReminderAdModalKsEnabled",void 0),t._([t.n({type:String,attribute:"country-code"})],y.prototype,"countryCode",void 0),t._([t.n({type:String,attribute:"placement"})],y.prototype,"placement",void 0),t._([t.n({type:Object,attribute:"lead-gen-info"})],y.prototype,"leadGenInfo",void 0),t._([t.n({type:String,attribute:"campaign-id"})],y.prototype,"campaignId",void 0),t._([t.n({type:String,attribute:"encrypted-tracking-payload"})],y.prototype,"encryptedTrackingPayload",void 0),t._([t.n({type:Array,attribute:"additional-event-metadata"})],y.prototype,"additionalEventMetadata",void 0),t._([t.n({type:String,attribute:"ad-transparency-encoded-data"})],y.prototype,"adTransparencyEncodedData",void 0),t._([t.n({type:String,attribute:"ads-correlation-id"})],y.prototype,"adsCorrelationId",void 0),y=t._([t.c("shreddit-ad-post")],y)}));
SML.dm("F7KVEcpw",["DN8NCGGW","DVMhF-xZ","DmzQCwyH","CElIDZoh","CdTGYlNw","ChYc5yrF","D-ZUgI2b","BBx1IrLH","CnZCQZdH","DczBT2kf","DGY0b97R"],(async(e,t,i,a,n)=>{var r,s;!function(e){e.Scheduled="scheduled",e.Live="live",e.Ended="ended",e.Unavailable="unavailable"}(r||(r={}));let o=s=class extends e.s{constructor(){super(...arguments),this.isReminderSet=!1,this.eventState=r.Scheduled,this.postId="",this.permalink="",this.pdpTarget="_self",this.isPdp=!1,this.isLoggedIn=!1,this.isDesktopViewport=!1,this.shouldFireEngagedClick=!1,this.enableUserActionTriggeredModal=!1,this.requestInProgress=!1,this.handleClickCancelReminder=()=>{this.dispatchEvent(new Event(n.b,{bubbles:!0})),this.cancelReminder()},this.cancelReminder=async()=>{this.isReminderSet=!1;if(await this.updatePostReminderState(t.eo.NoReminder)){const e=t.c("faceplate-alert",{level:t.a5.notice,message:"Reminder cancelled"});this.dispatchEvent(e),this.pubsub?.publish(t.T.AdReminderRsvpUnsubscribe,{postId:this.postId})}else{this.isReminderSet=!0;const e="Failed to cancel reminder";this.dispatchErrorAlert(e)}},this.handleClickSetReminder=async()=>{this.shouldFireEngagedClick&&this.dispatchEvent(t.c(i.A)),this.isLoggedIn?(this.dispatchEvent(new Event(n.c,{bubbles:!0})),await this.setReminder()):this.dispatchEvent(t.c(t.ac.follow))},this.setReminder=async()=>{this.isReminderSet=!0;if(await this.updatePostReminderState(t.eo.Reminder)){const e=t.c("faceplate-alert",{level:t.a5.success,message:"Reminder set"});this.dispatchEvent(e),this.pubsub?.publish(t.T.AdReminderRsvpSubscribe,{postId:this.postId})}else{this.isReminderSet=!1;const e="Failed to set reminder";this.dispatchErrorAlert(e)}},this.showUserActionTriggeredModal=()=>{this.userActionTriggeredModal?.showModal(),this.userActionTriggeredBottomSheet?.showModal(),this.userActionTriggeredModal?.addEventListener("rpl-dialog:hide",this.handleModalClose),this.userActionTriggeredBottomSheet?.addEventListener("faceplate-close",this.handleBottomSheetClose)},this.closeUserActionTriggeredModal=()=>{this.userActionTriggeredModal?.hide(),this.userActionTriggeredBottomSheet?.close(),s.triggeredPostIds.delete(this.postId),this.userActionTriggeredModal?.removeEventListener("rpl-dialog:hide",this.handleModalClose),this.userActionTriggeredBottomSheet?.removeEventListener("faceplate-close",this.handleBottomSheetClose)},this.handleModalClose=()=>{s.triggeredPostIds.delete(this.postId),this.userActionTriggeredModal?.removeEventListener("rpl-dialog:hide",this.handleModalClose)},this.handleBottomSheetClose=()=>{s.triggeredPostIds.delete(this.postId),this.userActionTriggeredBottomSheet?.removeEventListener("faceplate-close",this.handleBottomSheetClose)},this.handleTriggerModal=e=>{e.postId!==this.postId||s.triggeredPostIds.has(this.postId)||this.isReminderSet||this.eventState!==r.Scheduled||(s.triggeredPostIds.add(this.postId),this.showUserActionTriggeredModal())},this.closeUserActionTriggeredModalAndGetNotifications=async()=>{this.closeUserActionTriggeredModal(),await this.handleClickSetReminder()},this.updatePostReminderState=async e=>{this.requestInProgress=!0;const i=await t.r({operation:t.O.UpdatePostReminderState,variables:{input:{postId:this.postId,reminderState:e}}});return this.requestInProgress=!1,!!i.data.updatePostReminderState?.ok}}connectedCallback(){super.connectedCallback(),this.pubsub=new t.P(this),this.pubsub.subscribe(t.T.AdReminderRsvpSubscribe,(e=>{e.postId===this.postId&&(this.isReminderSet=!0)})),this.pubsub.subscribe(t.T.AdReminderRsvpUnsubscribe,(e=>{e.postId===this.postId&&(this.isReminderSet=!1)})),this.enableUserActionTriggeredModal&&this.pubsub.subscribe(t.T.TriggerAdReminderModal,this.handleTriggerModal,!1)}disconnectedCallback(){super.disconnectedCallback(),this.pubsub=void 0}get shouldShowUserActionTriggeredModal(){const e=this.eventState===r.Live;return this.enableUserActionTriggeredModal&&this.isLoggedIn&&!e}dispatchErrorAlert(e){const i=t.c("faceplate-alert",{level:t.a5.error,cause:"uncategorized",message:e});this.dispatchEvent(i)}getButtonAttributes(){const e=this.eventState===r.Live;return e&&this.isPdp?null:e&&!this.isPdp?{text:"Join Now",appearance:"primary",href:this.permalink,target:this.pdpTarget}:this.isReminderSet&&!e?{action:this.handleClickCancelReminder,text:"Reminder set",appearance:a.ac()?"secondary":"bordered"}:this.isReminderSet||e?null:{action:this.handleClickSetReminder,text:"Remind me",appearance:a.ac()?"bordered":"secondary"};}get userActionTriggerModalHeaderString(){return "Get reminded when this event starts?";}get userActionTriggerModalContentString(){return "Get notified before it starts so you don't miss out.";}renderUserActionTriggeredBottomSheet(){return e.x` <faceplate-bottom-sheet class="triggered-modal"> <faceplate-bottom-sheet-header slot="header"> ${this.userActionTriggerModalHeaderString} <span slot="trailing"> ${t.n({appearance:"secondary",attributes:{onclick:this.closeUserActionTriggeredModal,"aria-label":"Close",className:"close-btn"},leadingIcon:e.m({size:e.I.Small}),size:t.$.Small})} </span> </faceplate-bottom-sheet-header> <faceplate-menu class="w-full box-border px-md"> ${this.userActionTriggerModalContentString} <div> ${t.n({appearance:"secondary",size:t.$.Small,children:"No thanks",attributes:{className:"w-100 mt-sm",onclick:this.closeUserActionTriggeredModal}})} </div> <div> ${t.n({appearance:"primary",size:t.$.Small,children:"Yes, remind me",attributes:{onclick:this.closeUserActionTriggeredModalAndGetNotifications,className:"w-100 my-sm"}})} </div> </faceplate-menu> </faceplate-bottom-sheet> `;}renderUserActionTriggeredModal(){const i=e.x` <rpl-modal-card class="w-[640px] max-w-[90%] m-auto"> <div slot="title">${this.userActionTriggerModalHeaderString}</div> <div slot="close-button"> ${t.n({appearance:"secondary",shape:"pill",leadingIcon:e.m({size:e.I.Small}),size:t.$.Small,attributes:{"aria-label":"Close",onclick:this.closeUserActionTriggeredModal}})} </div> <div class="pt-sm">${this.userActionTriggerModalContentString}</div> <div slot="secondary-button"> ${t.n({appearance:"secondary",size:t.$.Small,children:"No thanks",attributes:{className:"w-100 xs:w-auto",onclick:this.closeUserActionTriggeredModal}})} </div> <div slot="primary-button"> ${t.n({appearance:"primary",size:t.$.Small,children:"Yes, remind me",attributes:{onclick:this.closeUserActionTriggeredModalAndGetNotifications,className:"w-100 xs:w-auto"}})} </div> </rpl-modal-card> `;return e.x`<rpl-dialog class="triggered-modal" .litTemplateChildren="${i}"></rpl-dialog>`}render(){if(this.eventState===r.Ended)return e.x``;const i=this.getButtonAttributes();if(!i)return e.x``;const{appearance:a,action:n,text:s,href:o,target:l}=i,d=t.n({appearance:a,attributes:{className:"relative",onclick:n,id:"",href:o,target:l,disabled:this.requestInProgress},size:t.$.Small,children:s});return e.x`<div> ${d} ${this.shouldShowUserActionTriggeredModal?this.isDesktopViewport?this.renderUserActionTriggeredModal():this.renderUserActionTriggeredBottomSheet():""} </div>`}};o.styles=[t.t],o.triggeredPostIds=new Set,e._([e.n({type:Boolean,attribute:"is-reminder-set",reflect:!0})],o.prototype,"isReminderSet",void 0),e._([e.n({type:String,attribute:"event-state"})],o.prototype,"eventState",void 0),e._([e.n({type:String,attribute:"post-id"})],o.prototype,"postId",void 0),e._([e.n({type:String})],o.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"pdp-target"})],o.prototype,"pdpTarget",void 0),e._([e.n({type:Boolean,attribute:"is-pdp"})],o.prototype,"isPdp",void 0),e._([e.n({type:Boolean,attribute:"is-logged-in"})],o.prototype,"isLoggedIn",void 0),e._([e.n({type:Boolean,attribute:"is-desktop-viewport"})],o.prototype,"isDesktopViewport",void 0),e._([e.n({type:Boolean,attribute:"should-fire-engaged-click"})],o.prototype,"shouldFireEngagedClick",void 0),e._([e.n({type:Boolean,attribute:"enable-user-action-triggered-modal"})],o.prototype,"enableUserActionTriggeredModal",void 0),e._([e.b()],o.prototype,"requestInProgress",void 0),e._([e.w("rpl-dialog.triggered-modal")],o.prototype,"userActionTriggeredModal",void 0),e._([e.w("faceplate-bottom-sheet.triggered-modal")],o.prototype,"userActionTriggeredBottomSheet",void 0),o=s=e._([e.c("ad-reminder-button")],o);let l=class extends e.s{constructor(){super(...arguments),this.postId="",this.eventState=r.Scheduled,this.startsAt="",this.endsAt="",this.locale="en",this.isReminderSet=!1,this.isLoggedIn=!1,this.shouldFireEngagedClick=!1,this.requestInProgress=!1,this.handleClickCancelReminder=()=>{this.dispatchEvent(new Event(n.b,{bubbles:!0})),this.cancelReminder()},this.cancelReminder=async()=>{this.isReminderSet=!1;if(await this.updatePostReminderState(t.eo.NoReminder)){const e=t.c("faceplate-alert",{level:t.a5.notice,message:"Reminder cancelled"});this.dispatchEvent(e),this.pubsub?.publish(t.T.AdReminderRsvpUnsubscribe,{postId:this.postId})}else{this.isReminderSet=!0;const e="Failed to cancel reminder";this.dispatchErrorAlert(e)}},this.handleClickSetReminder=async()=>{this.shouldFireEngagedClick&&this.dispatchEvent(t.c(i.A)),this.isLoggedIn?(this.dispatchEvent(new Event(n.c,{bubbles:!0})),await this.setReminder()):this.dispatchEvent(t.c(t.ac.follow))},this.setReminder=async()=>{this.isReminderSet=!0;if(await this.updatePostReminderState(t.eo.Reminder)){const e=t.c("faceplate-alert",{level:t.a5.success,message:"Reminder set"});this.dispatchEvent(e),this.pubsub?.publish(t.T.AdReminderRsvpSubscribe,{postId:this.postId})}else{this.isReminderSet=!1;const e="Failed to set reminder";this.dispatchErrorAlert(e)}},this.updatePostReminderState=async e=>{this.requestInProgress=!0;const i=await t.r({operation:t.O.UpdatePostReminderState,variables:{input:{postId:this.postId,reminderState:e}}});return this.requestInProgress=!1,!!i.data.updatePostReminderState?.ok},this.handleStatusClick=()=>{this.eventState===r.Ended||this.requestInProgress||(this.isReminderSet?this.handleClickCancelReminder():this.handleClickSetReminder())}}connectedCallback(){super.connectedCallback(),this.pubsub=new t.P(this),this.pubsub.subscribe(t.T.AdReminderRsvpSubscribe,(e=>{e.postId===this.postId&&(this.isReminderSet=!0)})),this.pubsub.subscribe(t.T.AdReminderRsvpUnsubscribe,(e=>{e.postId===this.postId&&(this.isReminderSet=!1)}))}getStatusMessage(){let e,t="text-neutral-content-weak";return this.eventState===r.Scheduled?e="Coming Up":this.eventState===r.Live?(t="text-global-orangered",e="Live"):e="Just Finished",{message:e,color:t};}getRelativeTime(){const e=new Date(this.startsAt),t=new Date(this.endsAt),i=new Date(Date.now()-6e4);return this.eventState===r.Scheduled?e:this.eventState===r.Live?e<i?e:i:t<i?t:i}endedOver24HoursAgo(){if(this.eventState===r.Ended){return new Date(this.endsAt)<=new Date(Date.now()-864e5)}return!1}dispatchErrorAlert(e){const i=t.c("faceplate-alert",{level:t.a5.error,cause:"uncategorized",message:e});this.dispatchEvent(i)}render(){if(!this.startsAt||!this.endsAt||this.endedOver24HoursAgo())return e.x``;const{message:t,color:i}=this.getStatusMessage(),a=this.eventState===r.Scheduled,n=this.getRelativeTime().toISOString();return e.x`<div class="flex flex-row items-center text-12 h-xl ad-event-status cursor-pointer hover:opacity-80 transition-opacity" @click="${this.handleStatusClick}" role="button" tabindex="0" @keydown="${e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.handleStatusClick())}}"> <span class="${i} font-bold tracking-tight">${t}</span> <span class="me-2xs ms-2xs">·</span> <span class="text-neutral-content-strong tracking-tight"> ${a?e.x`<faceplate-date locale="${e.l(this.locale)}" ts="${n}" .formatOptions="${{dateStyle:"medium",timeStyle:"short"}}"></faceplate-date>`:e.x`<faceplate-timeago ts="${n}" format="short"></faceplate-timeago>`} </span> </div>`}};l.styles=[t.t],e._([e.n({type:String,attribute:"post-id"})],l.prototype,"postId",void 0),e._([e.n({type:String,attribute:"event-state"})],l.prototype,"eventState",void 0),e._([e.n({type:String,attribute:"starts-at"})],l.prototype,"startsAt",void 0),e._([e.n({type:String,attribute:"ends-at"})],l.prototype,"endsAt",void 0),e._([e.n({type:String})],l.prototype,"locale",void 0),e._([e.n({type:Boolean,attribute:"is-reminder-set",reflect:!0})],l.prototype,"isReminderSet",void 0),e._([e.n({type:Boolean,attribute:"is-logged-in"})],l.prototype,"isLoggedIn",void 0),e._([e.n({type:Boolean,attribute:"should-fire-engaged-click"})],l.prototype,"shouldFireEngagedClick",void 0),e._([e.b()],l.prototype,"requestInProgress",void 0),l=e._([e.c("ad-event-status")],l)}));
SML.dm("lYev6f_P",["C4jUi39R","B1A9V64T","F7KVEcpw","DN8NCGGW","DVMhF-xZ","Cq3THF8r","DDco8exZ","alT8rG4e","CElIDZoh","Cg3nU-G5","HB6ZjwU1","UKZKgKgp","DwsEu536","Crs-BNcA","BFBeaKpB","CoWehZRj","DmzQCwyH","8MCDvWu_","CL7z101C","B3LBp30v","CdTGYlNw","Bahzn9My","mlV1StDq","DczBT2kf","DQaRMILU","CnZCQZdH","C_M_NGfT","CWi6z3tG","BsQJl0hY","21VIldix","yhbIHQLb","BHkYDd4M","BrB3BiJ_","y7f18YYf","DD7scjFQ","yHFcPWkl","CGzEIBwW","zIj5u43D","YWXw6gDz","BHUYYzrx","DkvSmkm1","DzVf0Tj3","CVyy3FXR","n7_xJ6Wc","BISnLNzF","BUEZgCCR","Ch8njlGJ","D-ZUgI2b","CU4mObWU","CMS2OfNt","DULVOd5i","m_62dcKy","Bcf7phnV","Cz9KLIqG","ClGeIyf9","D-k0IBN0","BV4dawAB","clCAey41","ChYc5yrF","BBx1IrLH","DGY0b97R"],(async()=>{"enabled"===window.CLIENT_EXPERIMENTS?.shreddit_post_decouple_edit_tools&&SML.di("./C1qZhC6X.js",import.meta.url,"C1qZhC6X")}));
SML.dm("Dj_XVsm8",["DN8NCGGW","DVMhF-xZ","CAtfi8BE","CElIDZoh"],(async(e,t)=>{var s;!function(e){e.NONE="NONE",e.VIEWED="VIEWED",e.DISMISSED="DISMISSED"}(s||(s={}));const i="data-chat-feed-element-dismiss",n="data-chat-feed-element-clickable",a="click";let r=class extends(t.W(e.s)){constructor(){super(...arguments),this.consumptionState=s.NONE,this.uxtsVariant="chat_channel_unit_in_home_feed_scc",this.isRecommended=!1,this.isMultiChat=!1,this.onDismiss=e=>{const s=this.nextElementSibling;s&&"HR"===s.nodeName&&this.parentElement?.removeChild(s),this.parentNode?.removeChild(this),e.stopPropagation(),t.X(t.Z.Dismiss,t.Y.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})},this.onChatFeedElementClick=()=>{t.X(t.Z.Click,t.Y.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant})}}connectedCallback(){super.connectedCallback(),this.isMultiChat?this.uxtsVariant="chat_channel_unit_in_home_feed_multiple":this.isRecommended&&(this.uxtsVariant="chat_channel_unit_in_home_feed_scc_and_ucc"),this.enableObserver(),this.addDismissHandlers(),this.addClickHandlers()}disconnectedCallback(){super.disconnectedCallback(),this.disableObserver(),this.removeDismissHandlers(),this.removeClickHandlers()}addDismissHandlers(){this.querySelector(`[${i}]`)?.addEventListener(a,this.onDismiss)}removeDismissHandlers(){this.querySelector(`[${i}]`)?.removeEventListener(a,this.onDismiss)}addClickHandlers(){this.querySelector(`[${n}]`)?.addEventListener(a,this.onChatFeedElementClick)}removeClickHandlers(){this.querySelector(`[${n}]`)?.removeEventListener(a,this.onChatFeedElementClick)}observerIsIntersectingCallback(){this.consumptionState===s.NONE&&(this.consumptionState=s.VIEWED,t.X(t.Z.View,t.Y.ChatChannelUnitInHomeFeed,{variantId:this.uxtsVariant}))}render(){return e.x`<slot></slot>`}};r.styles=[t.t],e._([e.n({type:Boolean,attribute:"is-recommended"})],r.prototype,"isRecommended",void 0),e._([e.n({type:Boolean,attribute:"is-multi-chat"})],r.prototype,"isMultiChat",void 0),r=e._([e.c("chat-feed-element-wrapper")],r)}));
SML.dm("C4xgFx9C",["DN8NCGGW","DVMhF-xZ","CElIDZoh"],(async(e,t,i)=>{let s=class extends e.s{constructor(){super(...arguments),this.zoomedIn=!1,this.disabled=!1,this.media=null,this._events=new t.E(this),this._click=this._events.define("click",this.onClick),this.fullImageWidth=0,this.fullImageHeight=0,this.checkMediaSize=()=>{this.media?.complete&&(this.fullImageWidth=this.media.naturalWidth,this.fullImageHeight=this.media.naturalHeight,this.disabled=this.fullImageWidth<=this.clientWidth&&this.fullImageHeight<=this.clientHeight,this.zoomedIn=!this.disabled&&this.zoomedIn)},this.checkMediaSizeDebounced=t.k(this.checkMediaSize,100)}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.media=this.querySelector("img"),this.media&&this.media.addEventListener("load",this.checkMediaSize,{once:!0}),requestAnimationFrame(this.checkMediaSize),window.addEventListener("resize",this.checkMediaSizeDebounced)}firstUpdated(){this.checkMediaSize()}onClick(e){if(this.media&&e.target===this.media&&!this.disabled){let t=0,i=0;if(!this.zoomedIn){const s=this.media.getBoundingClientRect(),h=e.clientX-s.left,l=e.clientY-s.top,d=h/s.width*100,a=l/s.height*100;i=this.fullImageWidth*d/100-this.clientWidth/2,t=this.fullImageHeight*a/100-this.clientHeight/2}this.zoomedIn=!this.zoomedIn,requestAnimationFrame((()=>{this.scrollTo({top:t,left:i})}))}}render(){this.media&&this.media.setAttribute("class",this.getChildClassList()),this.setAttribute("class",this.getClasslist())}getClasslist(){return i.k("flex",this.zoomedIn?"fixed top-0 left-0 w-screen h-screen overflow-auto":"w-full h-full justify-center items-center overflow-hidden")}getChildClassList(){return i.k("z-1",this.disabled?"max-h-full max-w-full":this.zoomedIn?"max-w-none max-h-none m-auto cursor-zoom-out":"max-h-full max-w-full object-contain cursor-zoom-in")}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this.checkMediaSizeDebounced),this.zoomedIn=!1}};e._([e.b()],s.prototype,"zoomedIn",void 0),e._([e.b()],s.prototype,"disabled",void 0),s=e._([e.c("zoomable-img")],s)}));
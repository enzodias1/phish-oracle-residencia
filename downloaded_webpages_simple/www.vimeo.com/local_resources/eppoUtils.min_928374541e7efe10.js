function getVuid(){var e="vuid";let t=2147483647,n=()=>Math.floor(Math.random()*(t+1)),i=(e,t=0)=>{var t=Math.pow(10,t),n=0<(e*=t)?1:0==e?0:-1,i=e%1==.5*n,o=Math.floor(e);return i&&(e=o+(0<n?1:0)),(i?e:Math.round(e))/t},o=()=>i(n()/t*2147483647);let r=e=>{var t,n,i=e.toString();let o=1,r,a;if(""!==i){o=0;for(let e=i.length-1;0<=e;e--)t=i.charAt(e),n=void 0,r=!(55296<=(n=(t=t.toString()).charCodeAt(0))&&n<=56319)||1===t.length?n:1024*(n-55296)+(t.charCodeAt(1)-56320)+65536,(a=266338304&(o=(o<<6&268435455)+r+(r<<14)))&&(o^=a>>21)}return o};var a,l,s=()=>{return`pl${2147483647&(o()^r((e=(new Date).getTime()/1e3,t=Math.floor(e),Math.round(1e3*(e-t))/1e3+" "+t)))}.`+(2147483647&(o()^r("undefined"==typeof window?"":window.navigator.userAgent)));var e,t};a=e;let d=("undefined"!=typeof document&&(a=document.cookie.match(new RegExp(`(;\\s)?${a}=`)))&&0!=a.length&&void 0!==a.index?(l=document.cookie.indexOf(";",a.index+1),a=a.index+a[0].length,a=-1===l?document.cookie.substr(a):document.cookie.substring(a,l),decodeURIComponent(a)):null)||sessionStorage.getItem(e);d=d||s(),sessionStorage.setItem(e,d)}let veNonRedirectLogEvents=[];function isLogEventRedirect(e){return e?.evaluationDetails?.variationValue?.actions?.includes("%22type%22%3A%22redirect%22")}function storeEppoVELogEvent(e){isLogEventRedirect(e)?sessionStorage.setItem("eppoVERedirectLogEvent",JSON.stringify(e)):e&&veNonRedirectLogEvents.push(e)}function getFilteredFlags({flags:e,href:i}){let t={};e=Object.entries(e)?.filter(([,e])=>{var t=!e?.allocations?.some(e=>e?.rules?.some(e=>e?.conditions?.length&&e?.conditions?.some(e=>"URL"===e?.attribute))),e=e?.allocations?.some(e=>e?.rules?.some(e=>e.conditions.some(e=>{let t=!1;var n;return"string"==typeof e?.value&&e?.value?.length&&"MATCHES"===e?.operator&&"URL"===e?.attribute?(n=new RegExp(e.value),t=n?.test(i)):Array.isArray(e?.value)&&e?.value?.length&&"ONE_OF"===e?.operator&&"URL"===e?.attribute&&(t=e.value.some(e=>e===i)),t})));return t||e});return t=Array.isArray(e)&&0<e?.length?Object.fromEntries(e):t}function redirectTo(e){var[e,t]=e.split("?"),t=new URLSearchParams(t),n=new URLSearchParams(window.location.search);if(t)for(var[i,o]of t)n.has(i)||n.append(i,o);t=n?.size?"?"+n.toString():"";window.location.replace(e+t)}let callbackQueue=[];function observeAndActOnElement(t,n){var e=()=>{var e=document.querySelectorAll(t);if(e)try{e.forEach(e=>{n(e)}),callbackQueue.push({selector:t,callback:n})}catch(e){console.error(`Error executing callback for selector "${t}":`,e)}};"loading"===document.readyState?addEventListener("DOMContentLoaded",e):e()}function updateElementText(e,t){observeAndActOnElement(e,e=>{e.innerText!==t&&(e.innerText=t)})}function removeWeirdTailwindClasses(e){return e.replaceAll(/.(xs|sm|md|lg|xl|\dxl|nav-xl|hover|focus|focus-within|focus-visible|active|visited|target|open|before|after|placeholder|file|marker|selection|first-line|first-letter|first|last|only|odd|even|first-of-type|last-of-type|only-of-type|empty|aria-checked|aria-disabled|aria-expanded|aria-hidden|aria-pressed|aria-readonly|aria-required|aria-selected|dark|portrait|landscape|motion-safe|motion-reduce|contrast-more|contrast-less|print|ltr|rtl|group-hover:before|group-hover:after|group-hover|group-focus|group-focus-within|group-focus-visible|group-active|group-visited|group-open|group-disabled|group-checked|group-invalid|peer-hover|peer-focus|peer-focus-within|peer-focus-visible|peer-active|peer-visited|peer-disabled|peer-checked|peer-indeterminate|peer-placeholder-shown|peer-valid|peer-invalid|peer-required|peer-in-range|peer-out-of-range|peer-read-only|disabled|checked|indeterminate|default|required|valid|invalid|in-range|out-of-range|placeholder-shown|autofill|read-only):!?([a-zA-Z0-9-_\[\]]*)(\.\d)?([a-zA-Z0-9-_\[\]]*)/gm,"").replaceAll(/\.([a-zA-Z0-9-_\[\]]+)(\.\d)([a-zA-Z0-9-_\[\]]+)/gm,"").replaceAll(/\.([a-zA-Z0-9-_]+)(\[)([a-zA-Z0-9-_\[\]]+)/gm,"").replaceAll(/\.[\!-]+[a-zA-Z0-9-_\[\]]+/gm,"")}function updateElementHtmlCss({selector:e,styles:t,value:i}){observeAndActOnElement(removeWeirdTailwindClasses(e),n=>{Object.entries(t).forEach(([e,t])=>{n.style.setProperty(e,t)}),n.innerHTML=i})}function removeElement(e){observeAndActOnElement(e,e=>{e.parentNode&&e.parentNode.removeChild(e)})}let postDebugBP=e=>{var{allocation:e,experiment:t,subject:n,timestamp:i,featureFlag:o,variation:r}=e;let a=0;i&&new Date(i)?.getTime()&&(a=new Date(i).getTime());i=[{eid:crypto.randomUUID(),ts_ms:a,created_at:a,event:{name:"vimeo.eppo_feature_flag_assignment",ts_ms:a,version:1,fields:{experiment:t+"-DEBUG",subject:n,variation:r,subject_attributes:`{"subject_key":"${n}-DEBUG","subject_key_type":"vuid","URL":"${window.location.href}"}`,feature_flag:o+"-DEBUG",allocation:e+"-DEBUG",extra_logging:null,sdk_metadata:null}},global:{name:"vimeo.web_global",ts_ms:a,version:10,fields:{organization_id:null,owner_id:null,session_replay_id:null,workspace_id:null,user:{flags:null,is_free_trial:!1,is_mod:!1,session_id:null,singular_session_id:null,subscription_type:null,teams:null,user_id:null,vuid:sessionStorage.getItem("vuid")},application:{application:"vimeo",vimeo_language:"en",product:"",build_environment:"development",version:{full:"1.0.0",major:"1",minor:"0",patch:"0"}},platform:{device_language:"en-US",network:null,platform:"web",screen:{dpi:24,height:window.innerHeight,width:window.innerWidth,size:window.innerWidth+" x "+window.innerHeight},singular_device_id:null}}},tracker:{},contexts:{product_analytics_context:{name:"product_analytics_context",ts_ms:a,version:143,fields:{copy:null,device_type:null,element:null,entity_type:null,feature:"general",flow:null,is_user_facing_data:null,location:"not_applicable_pageview",modal_name:null,product:"general",scrolling_percentage:0}},team_context:{name:"team_context",ts_ms:a,version:7,fields:{is_team_member:!1,joined_team_at:null,resource_permission_level:null,team_id:null,team_owner_id:null,team_role:null,team_size:null,team_subscription_type:null}},third_party_integration_context:{name:"third_party_integration_context",ts_ms:a,version:5,fields:{app_id:null,integration_id:null,integration_name:null,integration_type:null,is_integration:!1,is_partner:!1,managed_user_id:null,partner_bucket:null}},view_context:{name:"view_context",ts_ms:a,version:7,fields:{feature:null,is_empty_state:null,view_type:"impression"}},web_context:{name:"web_context",ts_ms:a,version:57,fields:{copy:null,target:null,target_path:null,location:null,page_name:"other",path:window.location.pathname,referrer:null,referrer_page_name:null}}}}],t="vimeo.com"===window.location.hostname?"https://fresnel-events.vimeocdn.com/add/vimeo.eppo_feature_flag_assignment":"https://fresnel-event-staging.vimeows.com/add/vimeo.eppo_feature_flag_assignment";navigator.sendBeacon(t,JSON.stringify(i))},initEppo=({localTestString:e,sdkKey:t})=>{let n=window?.__eppoConfig?.["ve-flags"]?window?.veUtils?.getFilteredFlags({flags:window.__eppoConfig["ve-flags"],href:window.location.href}):e;e=sessionStorage.getItem("vuid");window?.EppoVisualEditor?.init&&e?window.EppoVisualEditor.init(t,e,e=>{window?.veUtils?.storeEppoVELogEvent(e),window?.veUtils?.postDebugBP(e),window?.veUtils&&(window.veUtils.isRedirectReady=!0),window.dispatchEvent(new Event("eppoVeRedirectReady"))},{delayContentDisplay:!0,loadFlagConfig:async()=>({flags:n})}).catch(e=>{console.error("EppoVisualEditor initialization failed:",e)}):e?console.error("EppoVisualEditor is not available"):console.error("VUID was not created")};window.veUtils={getFilteredFlags:getFilteredFlags,observeAndActOnElement:observeAndActOnElement,updateElementText:updateElementText,updateElementHtmlCss:updateElementHtmlCss,removeElement:removeElement,callbackQueue:callbackQueue,redirectTo:redirectTo,storeEppoVELogEvent:storeEppoVELogEvent,veNonRedirectLogEvents:veNonRedirectLogEvents,postDebugBP:postDebugBP,isRedirectReady:!1,initEppo:initEppo},getVuid();
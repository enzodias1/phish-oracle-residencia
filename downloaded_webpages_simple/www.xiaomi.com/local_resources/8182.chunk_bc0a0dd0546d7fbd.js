"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["8182"],{31066:function(e,t,n){n.d(t,{S:()=>d});var r=n(81823),a=n(94184),o=n(56144),i=n(39620),c=n(71766),l=n(48597);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e){var t,n=e.showGoogleCaptcha,d=e.setShowGoogleCaptcha,s=e.captchaVerifiedCb,m=e.siteKey,f=e.captchaErrorCb,p=e.shouldCloseOnOverlayClick,v=void 0===p||p,y=e.inertClassList,E=void 0===y?[]:y,_=(0,l.YB)(),b=(0,r.useRef)(null),g=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(""))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),S=g[0],h=g[1];function N(){setTimeout(function(){b.current&&b.current.reset()},1e3)}return(0,r.useEffect)(function(){return n?(document.body&&document.body.classList&&document.body.classList.add("body--overflow-hidden"),setTimeout(function(){if(b.current){var e=document.querySelector(".google-recaptcha__content iframe");e&&(e.setAttribute("tabindex","0"),e.focus())}},100),E.forEach(function(e){var t,n;"root"===e?null===(t=document.getElementById("root"))||void 0===t||t.setAttribute("inert",""):null===(n=document.querySelector(".".concat(e)))||void 0===n||n.setAttribute("inert","")})):document.body&&document.body.classList&&document.body.classList.remove("body--overflow-hidden"),function(){E.forEach(function(e){var t,n;"root"===e?null===(t=document.getElementById("root"))||void 0===t||t.removeAttribute("inert"):null===(n=document.querySelector(".".concat(e)))||void 0===n||n.removeAttribute("inert")})}},[n]),r.createElement(r.Fragment,null,r.createElement(i.H,{className:"google-recaptcha"},r.createElement(o.Z,{className:a("google-recaptcha__content",{"google-recaptcha--show":n}),ref:b,sitekey:void 0===m?"6Le2lq4ZAAAAAICguqzsVnvy9ZTCNYzl3fZyJJ9Q":m,onChange:function(e){e&&(s(e),d(!1),N())},onErrored:function(){f?f():h(_.get("5ab2a936ac059748f9ea09f852e2e98d"))},onClick:function(){v&&(d(!1),N())}})),r.createElement(c.F,{msg:S,callback:function(){return h("")}}))}},77588:function(e,t,n){n.d(t,{J:()=>m});var r=n(81823),a=n(44810),o=n(68522),i=n(25228),c=n(94184),l=n.n(c);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){var t,n=e.portalClassName,c=void 0===n?"":n,u=e.className,m=void 0===u?"":u,f=e.children,p=e.content,v=e.placement,y=void 0===v?"left":v,E=e.isCountDown,_=void 0!==E&&E,b=e.disableEvent,g=void 0!==b&&b,S=e.second,h=void 0===S?3:S,N=e.onChange,I=e.defaultChildWidth,T=e.defaultChildHeight,O=e.isClickClose,C=void 0!==O&&O,A=e.isClickOpen,w=void 0!==A&&A,D=e.handleClick,x=e.tooltipId,R=s((0,r.useState)(_),2),k=R[0],M=R[1],j=s((0,r.useState)({width:void 0===I?50:I,height:void 0===T?50:T}),2),L=j[0],P=j[1],U=(0,i.ag)(),G="mobile"===U,F=function(e){!g&&(M(e),N&&N(e))},B=function(){G&&(null==D||D()),C&&k?(M(!1),N&&N(!1)):w&&!k&&(M(!0),N&&N(!0))};(0,r.useEffect)(function(){if(_)var e=setTimeout(function(){M(!1),N&&N(!1),clearTimeout(e)},1e3*h)},[]);var V=(0,r.useCallback)(function(e){if(e){var t=e.getBoundingClientRect(),n=t.height;P({width:t.width,height:n})}},[U]);return r.createElement("div",{className:l()("mi-tip-box",d({},c,!!c)),onMouseEnter:function(){return F(!0)},onMouseLeave:function(){return F(!1)},onClick:B,onTouchEnd:B,onFocus:function(){k||F(!0)},onBlur:function(){k&&F(!1)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),null==D||D(),k?F(!1):F(!0)),"Escape"===e.key&&(e.preventDefault(),k&&F(!1))},style:{"--ref-width":"".concat(L.width,"px"),"--ref-height":"".concat(L.height,"px")}},r.createElement("div",{ref:V},f),r.createElement(a.Z,{component:null},k&&r.createElement(o.Z,{classNames:"mi-tip-box__wrapper",timeout:150},r.createElement("div",{className:l()("mi-tip-box__content",(d(t={},"mi-tip-box--".concat(y),!!y),d(t,m,!!m),t)),role:"tooltip",id:x},r.createElement("div",null,p),r.createElement("div",{className:"mi-tip-box__arrow"})))))}},52972:function(e,t,n){n.d(t,{Z:()=>c});var r=n(81823),a=n(74083),o=n(71766);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return e=[{key:"text",value:function(e,n){var c,l,u,d,s,m;t.hide(),t.currentToastCloseFn=(c={msg:e,duration:n},l=document.querySelector(".mi-toast"),u=document.querySelector("body"),!l&&((l=document.createElement("div")).setAttribute("class","mi-toast"),l.setAttribute("aria-live","polite"),l.setAttribute("role","alert"),u&&u.appendChild(l)),l.setAttribute("aria-label",c.msg),d=function(){},a.render(r.createElement(o.F,(s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}({},c),m=m={getCloseFunc:function(e){d=e},callback:function(){a.unmountComponentAtNode(l)}},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(m)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(m)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(m,e))}),s)),l),d)}},{key:"hide",value:function(){var e;null===(e=t.currentToastCloseFn)||void 0===e||e.call(t)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t,e),t}();i(c,"currentToastCloseFn",null)},71083:function(e,t,n){n.d(t,{At:()=>s,c4:()=>p,k6:()=>f});var r=n(81823);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function i(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}var u={isOptInTradeIn:!1,priceQuoteId:"",modelId:0,deviceId:"",deviceName:"",answers:[],extras:[],credit:0,extraCreditForOldDevice:0,extraCreditForNewDevice:0,totalCredit:0},d={isSkuPanelShow:!1,isCountDownShow:!0,isAlwaysNextActive:!1,productName:"",productPrice:0,totalPrice:0,currentGoodsId:0,currentGoodsInfo:null,currentGoodsSelect:0,currentGoodsNum:1,currentBundleIds:[[0,0]],currentInsuranceIds:[0],currentSpuInfo:null,currentActivityMap:{},newActivityMap:{dailyPicksIds:[],reservationIds:[]},goodsInfoActivityList:[],goodsIdSkuInfoList:[],bigTapDiffTime:0,bigTapDisabledIds:[0],miExchange:{weuTradeInInfo:u,inMiExchangeInfo:{hasExtraBonus:!1,isInExchangeActive:!1,inExchangeAmount:0,selectModelName:"",selectBrandName:"",inExchangeImei:"",priceQuoteId:"",exchangeType:0,inSubsidyAmount:0,bumpUpSubsidyAmount:0,reduction:0,baseAmount:0},idTradeInInfo:{laku6ExchangeActive:!1,laku6ExchangeImei:"",laku6ExchangeModel:"",laku6ExchangeAmount:0}},isPreOrderTimeToBuy:!1,pinCode:"",bonusValue:"0",bonusLabel:"",tradeInWeuOfferedPrice:"0",buyTogetherIdMap:{},afterSaleRankData:"",tradeInSelected:!1,recycleSelected:!1,isNotified:!1,isReservationBuyChecked:!1,getActivityDataSuccess:!1,matchCurrentSku:!1,currentInstallationMap:{}},s={OPEN_SKU_PANEL:"OPEN_SKU_PANEL",CLOSE_SKU_PANEL:"CLOSE_SKU_PANEL",SHOW_COUNT_DOWN:"SHOW_COUNT_DOWN",HIDE_COUNT_DOWN:"HIDE_COUNT_DOWN",ACTIVE_ALWAYS_NEXT:"ACTIVE_ALWAYS_NEXT",RESET_ALWAYS_NEXT:"RESET_ALWAYS_NEXT",ACTIVE_IN_EXCHANGE:"ACTIVE_IN_EXCHANGE",RESET_IN_EXCHANGE:"RESET_IN_EXCHANGE",ACTIVE_FINISHED_EXCHANGE:"ACTIVE_FINISHED_EXCHANGE",RESET_FINISHED_EXCHANGE:"RESET_FINISHED_EXCHANGE",SET_PRODUCT_NAME:"SET_PRODUCT_NAME",SET_PRODUCT_PRICE:"SET_PRODUCT_PRICE",SET_TOTAL_PRICE:"SET_TOTAL_PRICE",SET_DIFF_TIME:"SET_DIFF_TIME",ADD_DISABLED_ID:"ADD_DISABLED_ID",SET_GOODS_INFO:"SET_GOODS_INFO",SET_GOODS_SELECT:"SET_GOODS_SELECT",SET_GOODS_SKU:"SET_GOODS_SKU",SET_ACTIVITIES:"SET_ACTIVITIES",ADD_ACTIVITY:"ADD_ACTIVITY",REMOVE_ACTIVITY:"REMOVE_ACTIVITY",SET_NEW_ACTIVITIES:"SET_NEW_ACTIVITIES",REMOVE_NEW_ACTIVITY:"REMOVE_NEW_ACTIVITY",SET_GOODS_NUM:"SET_GOODS_NUM",RESET_GOODS_NUM:"RESET_GOODS_NUM",INCREASE_GOODS_NUM:"INCREASE_GOODS_NUM",DECREASE_GOODS_NUM:"DECREASE_GOODS_NUM",SET_GOODS_ID:"SET_GOODS_ID",SET_CURRENT_GOODS_INFO:"SET_CURRENT_GOODS_INFO",SET_CURRENT_SPU_INFO:"SET_CURRENT_SPU_INFO",RESET_GOODS_ID:"RESET_GOODS_ID",SET_BUNDLE_ID:"SET_BUNDLE_ID",RESET_BUNDLE_ID:"RESET_BUNDLE_ID",SET_INSURANCE_ID:"SET_INSURANCE_ID",RESET_INSURANCE_ID:"RESET_INSURANCE_ID",SET_IN_EXCHANGE_SELECT:"SET_IN_EXCHANGE_SELECT",RESET_IN_EXCHANGE_SELECT:"RESET_IN_EXCHANGE_SELECT",SET_LAKU6_EXCHANGE:"SET_LAKU6_EXCHANGE",RESET_LAKU6_EXCHANGE:"RESET_LAKU6_EXCHANGE",SET_IN_EXCHANGE:"SET_IN_EXCHANGE",SET_PREORDER_TIME_TO_BUY:"SET_PREORDER_TIME_TO_BUY",PIN_CODE:"PIN_CODE",OPT_IN_TRADE_IN:"OPT_IN_TRADE_IN",OPT_OUT_TRADE_IN:"OPT_OUT_TRADE_IN",SET_WEU_TRADE_IN_INFO:"SET_WEU_TRADE_IN_INFO",RESET_WEU_TRADE_IN_INFO:"RESET_WEU_TRADE_IN_INFO",SET_IN_EXCHANGE_SELECT_BRAND_NAME:"SET_IN_EXCHANGE_SELECT_BRAND_NAME",SET_IN_EXCHANGE_SELECT_MODEL_NAME:"SET_IN_EXCHANGE_SELECT_MODEL_NAME",SET_BUY_TOGETHER_ID_MAP:"SET_BUY_TOGETHER_ID_MAP",SET_AFTER_SALE_RANK:"SET_AFTER_SALE_RANK",SET_TRADE_IN_SELECTED:"SET_TRADE_IN_SELECTED",SET_RECYCLE_SELECTED:"SET_RECYCLE_SELECTED",SET_IS_NOTIFIED:"SET_IS_NOTIFIED",SET_IS_RESERVATION_BUY_CHECKED:"SET_IS_RESERVATION_BUY_CHECKED",SET_GET_ACTIVITY_DATA_SUCCESS:"SET_GET_ACTIVITY_DATA_SUCCESS",SET_MATCH_CURRENT_SKU:"SET_MATCH_CURRENT_SKU",SET_CURRENT_INSTALLATION_IDS:"SET_CURRENT_INSTALLATION_IDS"};function m(e,t){switch(t.type){case s.OPEN_SKU_PANEL:return i(o({},e),{isSkuPanelShow:!0});case s.CLOSE_SKU_PANEL:return i(o({},e),{isSkuPanelShow:!1});case s.SHOW_COUNT_DOWN:return i(o({},e),{isCountDownShow:!0});case s.HIDE_COUNT_DOWN:return i(o({},e),{isCountDownShow:!1});case s.ACTIVE_ALWAYS_NEXT:return i(o({},e),{isAlwaysNextActive:!0});case s.RESET_ALWAYS_NEXT:return i(o({},e),{isAlwaysNextActive:!1});case s.SET_PRODUCT_NAME:return i(o({},e),{productName:String(t.payload||"")});case s.SET_PRODUCT_PRICE:return i(o({},e),{productPrice:Number(t.payload||0)});case s.SET_TOTAL_PRICE:return i(o({},e),{totalPrice:Number(t.payload||0)});case s.SET_DIFF_TIME:return i(o({},e),{bigTapDiffTime:Number(t.payload||0)});case s.ADD_DISABLED_ID:return i(o({},e),{bigTapDisabledIds:c(new Set(c(e.bigTapDisabledIds).concat([Number(t.payload||0)])))});case s.SET_GOODS_INFO:return i(o({},e),{goodsInfoActivityList:Array.from(t.payload||[])});case s.SET_GOODS_SKU:return i(o({},e),{goodsIdSkuInfoList:Array.from(t.payload||[])});case s.SET_ACTIVITIES:return i(o({},e),{currentActivityMap:o({},t.payload)});case s.REMOVE_ACTIVITY:var n,r=o({},e.currentActivityMap);return r[t.payload.currentGoodsId][t.payload.eventName]=(null===(n=r[t.payload.currentGoodsId][t.payload.eventName])||void 0===n?void 0:n.filter(function(e){return e!==t.payload.eventId}))||[],i(o({},e),{currentActivityMap:o({},r)});case s.SET_NEW_ACTIVITIES:var a={dailyPicksIds:Array.from(new Set(t.payload.dailyPicksIds)),reservationIds:Array.from(new Set(t.payload.reservationIds))};return i(o({},e),{newActivityMap:o({},a)});case s.REMOVE_NEW_ACTIVITY:var l=o({},e.newActivityMap),d=t.payload.eventName;return l[d]=l[d].filter(function(e){return e!==t.payload.eventId}),i(o({},e),{newActivityMap:o({},l)});case s.SET_GOODS_NUM:return i(o({},e),{currentGoodsNum:Number(t.payload||1)});case s.RESET_GOODS_NUM:return i(o({},e),{currentGoodsNum:1});case s.INCREASE_GOODS_NUM:return i(o({},e),{currentGoodsNum:Number(e.currentGoodsNum||1)+Number(t.payload||1)});case s.DECREASE_GOODS_NUM:return i(o({},e),{currentGoodsNum:Number(e.currentGoodsNum||2)-Number(t.payload||1)});case s.SET_GOODS_ID:return i(o({},e),{currentGoodsId:Number(t.payload||0)});case s.SET_CURRENT_GOODS_INFO:return i(o({},e),{currentGoodsInfo:t.payload||null});case s.SET_CURRENT_SPU_INFO:return i(o({},e),{currentSpuInfo:t.payload||null});case s.SET_GOODS_SELECT:return i(o({},e),{currentGoodsSelect:e.currentGoodsSelect+1});case s.RESET_GOODS_ID:return i(o({},e),{currentGoodsId:0});case s.SET_BUNDLE_ID:var m=c(e.currentBundleIds);return m[Number(t.payload.sortIndex||0)]=[Number(t.payload.bundleId||0),Number(t.payload.accessoryId||0)],i(o({},e),{currentBundleIds:c(m)});case s.RESET_BUNDLE_ID:return i(o({},e),{currentBundleIds:[[0,0]]});case s.SET_INSURANCE_ID:var f=c(e.currentInsuranceIds);return t.payload.insuranceIds?f=c(t.payload.insuranceIds):f[Number(t.payload.groupIndex||0)]=Number(t.payload.insuranceId||0),i(o({},e),{currentInsuranceIds:c(f)});case s.RESET_INSURANCE_ID:return i(o({},e),{currentInsuranceIds:[0]});case s.SET_LAKU6_EXCHANGE:return i(o({},e),{miExchange:i(o({},e.miExchange),{idTradeInInfo:i(o({},t.payload),{laku6ExchangeActive:!0})})});case s.RESET_LAKU6_EXCHANGE:return i(o({},e),{miExchange:i(o({},e.miExchange),{idTradeInInfo:{laku6ExchangeActive:!1,laku6ExchangeImei:"",laku6ExchangeModel:"",laku6ExchangeAmount:0}})});case s.SET_IN_EXCHANGE:return i(o({},e),{miExchange:i(o({},e.miExchange),{inMiExchangeInfo:o({},e.miExchange.inMiExchangeInfo,t.payload)})});case s.SET_IN_EXCHANGE_SELECT_BRAND_NAME:return i(o({},e),{miExchange:i(o({},e.miExchange),{inMiExchangeInfo:i(o({},e.miExchange.inMiExchangeInfo),{selectBrandName:t.payload||""})})});case s.SET_IN_EXCHANGE_SELECT_MODEL_NAME:return i(o({},e),{miExchange:i(o({},e.miExchange),{inMiExchangeInfo:i(o({},e.miExchange.inMiExchangeInfo),{selectModelName:t.payload||""})})});case s.SET_PREORDER_TIME_TO_BUY:return i(o({},e),{isPreOrderTimeToBuy:!0});case s.PIN_CODE:return i(o({},e),{pinCode:t.payload||""});case s.OPT_IN_TRADE_IN:return i(o({},e),{miExchange:i(o({},e.miExchange),{weuTradeInInfo:i(o({},e.miExchange.weuTradeInInfo),{isOptInTradeIn:!0})})});case s.OPT_OUT_TRADE_IN:return i(o({},e),{miExchange:i(o({},e.miExchange),{weuTradeInInfo:i(o({},e.miExchange.weuTradeInInfo),{isOptInTradeIn:!1})})});case s.SET_WEU_TRADE_IN_INFO:return i(o({},e),{miExchange:i(o({},e.miExchange),{weuTradeInInfo:o({bonusValue:e.bonusValue,bonusLabel:e.bonusLabel,tradeInWeuOfferedPrice:e.tradeInWeuOfferedPrice},e.miExchange.weuTradeInInfo,t.payload)})});case s.RESET_WEU_TRADE_IN_INFO:return i(o({},e),{miExchange:i(o({},e.miExchange),{weuTradeInInfo:i(o({},u),{isOptInTradeIn:e.miExchange.weuTradeInInfo.isOptInTradeIn})})});case s.SET_BUY_TOGETHER_ID_MAP:return i(o({},e),{buyTogetherIdMap:t.payload});case s.SET_AFTER_SALE_RANK:return i(o({},e),{afterSaleRankData:t.payload});case s.SET_TRADE_IN_SELECTED:return i(o({},e),{tradeInSelected:t.payload});case s.SET_RECYCLE_SELECTED:return i(o({},e),{recycleSelected:t.payload});case s.SET_IS_NOTIFIED:return i(o({},e),{isNotified:t.payload});case s.SET_IS_RESERVATION_BUY_CHECKED:return i(o({},e),{isReservationBuyChecked:t.payload});case s.SET_GET_ACTIVITY_DATA_SUCCESS:return i(o({},e),{getActivityDataSuccess:!0});case s.SET_MATCH_CURRENT_SKU:return i(o({},e),{matchCurrentSku:!0});case s.SET_CURRENT_INSTALLATION_IDS:return i(o({},e),{currentInstallationMap:t.payload||{}});default:return e}}var f=(0,r.createContext)({state:d,dispatch:function(e){}});function p(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(m,d))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||l(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=n[0],o=n[1];return r.createElement(f.Provider,{value:{state:a,dispatch:o}},e.children)}},22151:function(e,t,n){n.d(t,{T:()=>Q,P:()=>er});var r,a,o,i,c=n(81823),l=n.n(c),u=n(21245),d=n(79894);let s=function(e){var t=e.title,n=e.subTitle,r=e.children,a=e.titleExtra,o=e.sectionId;return l().createElement("section",{id:o,className:"activity-modal__section"},l().createElement("div",{className:"activity-modal__section-header"},l().createElement("div",{className:"activity-modal__section-title-wrapper"},l().createElement("h3",{className:"activity-modal__section-title",tabIndex:-1},t),a&&l().createElement("div",{className:"activity-modal__section-extra"},a)),n&&l().createElement("div",{className:"activity-modal__section-sub-title"},n)),r)};var m=n(25185),f=n(77588),p=n(70126),v=n(71766),y=n(31066),E=n(20882),_=n(48597),b=n(27484),g=n.n(b),S=n(70178),h=n(29387);let N=function(e){var t=e.startTime,n=e.endTime,r=e.format,a=e.showIcon,o=e.prefix,i=e.className;g().extend(S),g().extend(h);var l=(0,_.oW)(),u=g()(1e3*t).tz(l.dayjsTimezone),d=g()(1e3*n).tz(l.dayjsTimezone),s=u.year()===d.year(),m=r||(s?l.dateTimeFormatNoYearSecond:l.dateTimeFormatNoSecond);return c.createElement("div",{className:"activity-modal__effective-time-display ".concat(i)},o,void 0!==a&&a&&c.createElement(p.E,{pictureClassName:"activity-modal__effective-time-icon",srcSet:{widescreen:"https://i02.appmifile.com/webfile/globalimg/global/buy-product-time-icon.png"},alt:"","aria-hidden":"true"}),c.createElement("span",{dir:"auto"},c.createElement("span",null,u.format(m)),c.createElement("span",null," - "),c.createElement("span",null,d.format(m))))};var I=n(19050),T=n(25228),O=n(86690),C=n(65609),A=n(54854),w=n(94184),D=n.n(w);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}function k(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j={COLLECTED:0,CONFIRM_REDEEM:1,ACTIVITY_REDEEM:2};let L=function(e){var t,n,r=e.coupon,a=(0,_.YB)(),o=(0,_.oW)(),i="mobile"===(0,T.ag)(),s=i?"m":"pc",b=(0,c.useContext)(I.N),g=(0,c.useRef)(),S=M((0,c.useState)({}),2),h=S[0],w=S[1],x=M((0,c.useState)(!1),2),L=x[0],P=x[1],U=M((0,c.useState)(""),2),G=U[0],F=U[1],B=M((0,c.useState)(!1),2),V=B[0],H=B[1],W=M((0,c.useState)({}),2),Y=W[0],K=W[1],X=M((0,c.useState)(!1),2),q=X[0],z=X[1],Z=(0,c.useMemo)(function(){return[360001,360002]},[]);(0,c.useEffect)(function(){(0,O.otExpose)({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:"Coupon",elementName:"activity_pop_up",buttonName:r.couponName,isOpenGA:!0})},[]),(0,c.useEffect)(function(){if(r){var e,t;w(r),K((e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r})}return e}({},r),t=t={couponId:String(r.couponId),valueDesc:r.couponValueDesc,couponNameDesc:r.couponName,rangeShortDesc:r.couponRangeDesc},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e))}},[r]);var $=function(){if((0,O.otClick)({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16719},elementName:"activity_pop_up",elementTitle:"Coupon",buttonName:h.couponName,isOpenGA:!0}),(0,C.Jb)()){var e;(null==Y?void 0:null===(e=Y.couponReceiveExtendInfo)||void 0===e?void 0:e.isRiskCheck)&&!(null==g?void 0:g.current)?H(!0):P(!0)}else(0,C.XR)({siteConfig:o})},J=(0,A.N)(function(e,t){if((0,O.otClick)({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16719},elementName:"activity_pop_up",elementTitle:"Coupon",buttonName:h.couponName,isOpenGA:!0}),e.couponReceiveExtendInfo.isRiskCheck&&!t)H(!0);else{var n;b.getService({params:{act_no:null==e?void 0:null===(n=e.couponReceiveExtendInfo)||void 0===n?void 0:n.actNo,coupon_type_id:Y.typeId,g_token:t||""}},function(e){0===e.errNo?(F(a.get("23ab904dc42e01b7e3682ddc3531b6ea")),w(k(R({},h),{couponReceiveType:j.COLLECTED}))):Z.includes(e.errNo)?H(!0):F(e.errMsg)})}},300),Q=function(e){g.current=e,e&&H(!1),Y.endTime<new Date().getTime()/1e3&&F(a.get("eaad5f344da3b7674d4ad536f4a8fd20")),Y.couponReceiveType===j.CONFIRM_REDEEM?P(!0):Y.couponReceiveType===j.ACTIVITY_REDEEM&&J(Y,e)};return l().createElement("div",{className:"activity-modal__coupon-card"},l().createElement("section",{className:"activity-modal__coupon-card-content"},l().createElement("div",{className:"activity-modal__coupon-card-reduce-amount"},l().createElement("span",{dir:"auto"}," ",h.couponValueDesc)),l().createElement("div",{className:"activity-modal__coupon-card-info"},l().createElement("p",{className:"activity-modal__coupon-card-value"},h.couponName),1===h.validType?l().createElement("p",{className:"activity-modal__coupon-card-time"},a.get("7dbdf72e14dc4e45eda2de1fcf632fef"),a.get("d7dd33406fe94fc18c102ac0888f9dd7",{n:h.validDays})):l().createElement(N,{className:"activity-modal__coupon-card-time",prefix:a.get("7dbdf72e14dc4e45eda2de1fcf632fef"),showIcon:!1,startTime:h.startTime,endTime:h.endTime}),!!h.couponRangeDesc&&l().createElement("p",{className:"activity-modal__coupon-card-description"},l().createElement("span",null,h.couponRangeDesc),l().createElement("div",{className:"activity-card__item-desc-icon activity-modal__coupon-card--detail"},l().createElement(m.q,{symbol:"warning",role:"button",tabIndex:0,onClick:function(){return i&&z(!0)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},"aria-label":a.get("3ec365dd533ddb7ef3d1c111186ce872")}),l().createElement("div",{className:"activity-card__item-desc-modal"},l().createElement("p",null,h.couponRangeDesc))),l().createElement(f.J,{content:l().createElement(l().Fragment,null,h.couponRangeDesc,l().createElement("div",{className:"activity-modal__coupon-link"},l().createElement("a",{href:"".concat(o.wwwSite[s],"/use-now/?sceneId=").concat(h.typeId,"&scene=couponTypeID")},a.get("0b06b576d011cc86804a26100cecb33f")))),portalClassName:"activity-modal__coupon-card--details-pop",className:D()("activity-modal-coupon-reward-card__popover"),isClickClose:!1,isClickOpen:!1,disableEvent:!1,placement:"top"},l().createElement("div",{className:"activity-card__item-desc-icon"},l().createElement(m.q,{symbol:"warning","aria-label":a.get("3ec365dd533ddb7ef3d1c111186ce872")})))))),l().createElement("section",{className:"activity-modal__coupon-card-button-section"},function(){switch(null==h?void 0:h.couponReceiveType){case j.CONFIRM_REDEEM:var e=(null==h?void 0:h.couponReceiveExtendInfo)||{},t=e.userExchangedCount,n=e.isOutOfStock;return l().createElement(d.z,{btnType:"primary",onClick:$,disabled:n&&!(t>0)},a.get("81ed4dcb851fefbbbc791eeef4cd97a2"));case j.ACTIVITY_REDEEM:return l().createElement(d.z,{btnType:"primary",onClick:function(){return J(Y)}},a.get("e7ca851922b13f555127b04b70435ca9"));case j.COLLECTED:return l().createElement(d.z,{btnType:"primary",disabled:!0},a.get("ac5bb077c33753116b5e91ff1766e7bc"));default:return null}}(),(null==h?void 0:null===(t=h.couponReceiveExtendInfo)||void 0===t?void 0:t.tokensCost)>0&&l().createElement("div",{className:"activity-modal__coupon-card-reward"},l().createElement(p.E,{alt:a.get("3f63933ccc41ead1fe89300cd2e9fa36"),srcSet:{widescreen:"https://i02.appmifile.com/webfile/globalimg/global/buy-product-points.png"}}),a.get("c02a20a88fea948242bf5ad993c45331",{tokensCost:null==h?void 0:null===(n=h.couponReceiveExtendInfo)||void 0===n?void 0:n.tokensCost}))),l().createElement(E.f,{showCouponRedeemModal:L,setShowCouponRedeemModal:P,coupon:Y,showGoogleCaptcha:V,setShowGoogleCaptcha:H,handleConfirmRedeem:function(e){b.getService({url:"".concat(o.goSite,"/tokens/reward/exchange"),params:{reward_id:e.tokensRewardId,g_token:g.current||""}},function(e){0===e.errNo?(P(!1),F(a.get("1ae108cdcf54c2e8881f5a4416e78921")),w(k(R({},h),{couponReceiveType:j.COLLECTED}))):Z.includes(e.errNo)?H(!0):F(e.errMsg)})}}),l().createElement(y.S,{inertClassList:["buy-product__activity-modal"],showGoogleCaptcha:V,setShowGoogleCaptcha:H,captchaVerifiedCb:function(e){return Q(e)}}),l().createElement(v.F,{msg:G,callback:function(){return F("")}}),i&&l().createElement(u.u,{inertClassList:["buy-product__activity-modal"],isModalShow:q,closeModal:function(){return z(!1)},overlayClassName:"activity-modal__coupon-desc-modal",styleMode:"drawer",useInert:!0},h.couponRangeDesc,l().createElement("div",{className:"activity-modal__coupon-link"},l().createElement("a",{href:"".concat(o.wwwSite[s],"/use-now/?sceneId=").concat(h.typeId,"&scene=couponTypeID")},a.get("0b06b576d011cc86804a26100cecb33f")))))};function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var U={2:"Benefit",5:"Discount"};let G=function(e){var t,n=e.activity,r=e.extra,a=e.icon,o=e.showSubTitle,i=e.showTime,u=e.baseClassName,d=void 0===u?"":u,s=function(e){if(Array.isArray(e))return e}(t=(0,c.useState)({}))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return P(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=s[0],f=s[1],v=m||{},y=v.startTime,E=v.endTime;return(0,c.useEffect)(function(){var e=(0,O.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".buy-product__activity-modal"),targetNodeSelector:".".concat(d)});return function(){e&&e.disconnect()}},[]),(0,c.useEffect)(function(){n&&f(n)},[n]),l().createElement("div",{className:"activity-modal__activity-card ".concat(d),role:"button",tabIndex:0,onClick:function(){n&&n.jumpUrl&&(window.location.href=n.jumpUrl)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},"data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:U[null==n?void 0:n.actType],elementName:"activity_pop_up",isOpenGA:!0})},l().createElement("section",{className:"activity-modal__activity-card-content"},l().createElement("div",{className:"activity-modal__activity-card-title"},m.actTitle),(void 0===o||o)&&m.actSubTitle&&l().createElement("p",{className:"activity-modal__activity-card-subtitle"},m.actSubTitle),r&&l().createElement("p",{className:"activity-modal__activity-card-extra"},r),!!(void 0===i||i)&&!!y&&!!E&&l().createElement(N,{startTime:y,endTime:E,showIcon:!0})),a&&l().createElement("section",{className:"activity-modal__activity-card-icon-section"},l().createElement(p.E,{imgClassName:"activity-modal__activity-card-icon",srcSet:{widescreen:a},alt:""})))};var F=n(91159),B=n(60744),V=n(32963);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var W=function(e){var t=e.bargainItem,n=(0,_.oW)(),r=!!n.originalRrpLabel,a=(0,_.YB)();return l().createElement("div",{key:t.itemId,className:"activity-modal__activity-card activity-modal__bargain-card",role:"button",tabIndex:0,onClick:function(){t.jumpUrl&&(window.location.href=t.jumpUrl)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())}},t.image&&l().createElement("section",{className:"activity-modal__bargain-card-icon-section"},l().createElement("img",{src:t.image,alt:String(t.itemId)})),l().createElement("section",null,l().createElement("div",{className:"activity-modal__activity-card-title",role:"button",tabIndex:0,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},"aria-label":a.get("d8fd35f628f2099aeaf3e5253e4acdba")+" "+t.itemName},t.itemName),l().createElement(V.Y,{className:"activity-modal__bargain-card-energy",energyInfo:t.energyInfo,bundleLabels:t.bundleLabels}),l().createElement("p",{className:"activity-modal__activity-card-subtitle activity-modal__bargain-card-price"},l().createElement("span",null,(0,F.X)(String(t.price),n)),l().createElement("del",{className:"notranslate"},l().createElement(B.n,{salePrice:String(t.originPrice),displayType:"string",suffixConfig:{isShow:!1},translation:r?a.get("2f6b0e4e5a8011004c129ee6618ddca8"):void 0})))))};let Y=function(e){var t,n,r=e.activity,a=function(e){if(Array.isArray(e))return e}(t=(0,c.useState)({}))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return H(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=a[0],i=a[1],u=o||{},d=u.startTime,s=u.endTime;return(0,c.useEffect)(function(){var e=(0,O.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".buy-product__activity-modal"),targetNodeSelector:".activity-modal__gift-card"});return function(){e&&e.disconnect()}},[]),(0,c.useEffect)(function(){r&&i(r)},[r]),l().createElement("div",{className:"activity-modal__gift-card","data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:"Gift",elementName:"activity_pop_up",isOpenGA:!0})},l().createElement("section",{className:"activity-modal__gift-card-header"},l().createElement("div",{className:"activity-modal__gift-card-title"},r.actTitle),l().createElement("span",{className:"activity-modal__gift-card-subtitle hint-text"},r.actSubTitle)),null==o?void 0:null===(n=o.bargainItems)||void 0===n?void 0:n.map(function(e){return l().createElement(W,{key:e.itemId,bargainItem:e})}),d&&s&&l().createElement(N,{startTime:d,endTime:s,showIcon:!0}))};function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={SINGLE:"SINGLE",DOUBLE:"DOUBLE"},q=(K(a={},X.SINGLE,"https://i02.appmifile.com/webfile/globalimg/global/buy-product-points.png"),K(a,X.DOUBLE,"https://i02.appmifile.com/webfile/globalimg/global/buy-product-double-points.png"),a);let z=function(e){var t=e.activity,n=e.pointsType,r=void 0===n?X.SINGLE:n,a=e.tokens,o=(0,_.YB)();return(0,c.useEffect)(function(){var e=(0,O.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".buy-product__activity-modal"),targetNodeSelector:".activity-modal__points-card"});return function(){e&&e.disconnect()}},[]),l().createElement("div",{className:"activity-modal__activity-card activity-modal__points-card","data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:t?"Double Mi Points":"Mi Points",elementName:"activity_pop_up",isOpenGA:!0})},l().createElement("section",{className:"activity-modal__activity-card-content"},l().createElement("div",{className:"activity-modal__activity-card-title"},o.get("1fde791acc0138db2da324374edc3a8d",{tokens:a})),l().createElement("p",{className:"activity-modal__activity-card-subtitle"},o.get("f5c9e1c17576101cc2c0424650d02b23"))),q[r]&&l().createElement("section",{className:"activity-modal__activity-card-icon-section"},l().createElement(p.E,{imgClassName:"activity-modal__activity-card-icon",srcSet:{widescreen:q[r]},alt:""})))},Z=function(e){var t,n,r,a=e.couponReward,o=void 0===a?{}:a,i=e.icon,u=(o||{}).couponValueDesc,d=(0,_.YB)(),s=(0,_.oW)(),v="mobile"===(0,T.ag)()?"m":"pc";return(0,c.useEffect)(function(){var e=(0,O.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".buy-product__activity-modal"),targetNodeSelector:".activity-modal__coupon-reward-card"});return function(){e&&e.disconnect()}},[]),l().createElement(l().Fragment,null,l().createElement("div",{className:"activity-modal__coupon-reward-card","data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"activity_pop_up",d:0,e:16756},elementTitle:"Coupon Reward",elementName:"activity_pop_up",buttonName:o.couponName,isOpenGA:!0})},l().createElement("section",{className:"activity-modal__coupon-reward-card-content"},l().createElement("div",{className:"activity-modal__coupon-reward-card-title"},l().createElement("span",{dir:"auto"},u)),l().createElement("div",{className:"activity-modal__coupon-reward-card-subtitle"},o.couponName),(null==o?void 0:null===(t=o.couponRewardsExtend)||void 0===t?void 0:t.couponValidity)&&l().createElement("div",{className:"activity-modal__coupon-reward-card-extra activity-modal__coupon-reward-card-extra-first",dangerouslySetInnerHTML:{__html:null==o?void 0:null===(n=o.couponRewardsExtend)||void 0===n?void 0:n.couponValidity}}),l().createElement("div",{className:"activity-modal__coupon-reward-card-extra"},!!o.couponRangeDesc&&l().createElement("div",{className:"activity-modal__coupon-reward-card-range"},l().createElement("div",{className:"activity-modal__coupon-reward-card-desc"},o.couponRangeDesc),l().createElement(f.J,{content:l().createElement(l().Fragment,null,o.couponRangeDesc,l().createElement("div",{className:"activity-modal__coupon-link"},l().createElement("a",{href:"".concat(s.wwwSite[v],"/use-now/?sceneId=").concat(o.typeId,"&scene=couponTypeID")},d.get("0b06b576d011cc86804a26100cecb33f")))),className:D()("activity-modal-coupon-reward-card__popover"),isClickClose:!1,isClickOpen:!1,disableEvent:!1,placement:"top"},l().createElement("div",{className:"activity-card__item-desc-icon"},l().createElement(m.q,{symbol:"warning","aria-label":o.couponRangeDesc})))))),i&&l().createElement("section",{className:"activity-modal__coupon-reward-card-icon-section"},l().createElement(p.E,{imgClassName:"activity-modal__coupon-reward-card-icon",srcSet:{widescreen:i},alt:""}))),l().createElement("div",{className:"hint-text"},d.get("eaeb72d30cf230a8bd67ef90112aa3ac",{text:null==o?void 0:null===(r=o.couponRewardsExtend)||void 0===r?void 0:r.applicableGoods})))};function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=((r={})[r.DoublePoints=1]="DoublePoints",r[r.Benefit=2]="Benefit",r[r.PreSale=3]="PreSale",r[r.OverSale=4]="OverSale",r[r.Discount=5]="Discount",r[r.Gift=6]="Gift",r[r.BuyTogether=7]="BuyTogether",r[r.FreeShipping=8]="FreeShipping",r[r.CouponReward=9]="CouponReward",r[r.DailyPicks=10]="DailyPicks",r),ee=(J(o={},1,"acitvityModalDiscount"),J(o,2,"acitvityModalCoupon"),J(o,3,"acitvityModalGift"),J(o,4,"acitvityModalBenifit"),J(o,5,"acitvityModalPoints"),J(o,6,"acitvityModalReward"),o),et=(J(i={},5,"https://i02.appmifile.com/webfile/globalimg/global/buy-product-discount-new.png"),J(i,9,"https://i02.appmifile.com/webfile/globalimg/global/buy-product-coupon-reward-new.png"),i);function en(e,t){return e&&e.length&&t?e.filter(function(e){return e.actType===t}):[]}function er(e){var t,n,r,a,o,i=e.visible,l=e.currentSkuActivity,m=e.closeModal,f=e.activityTagRef,p=(null==f?void 0:f.current)||{},v=function(e){if(Array.isArray(e))return e}(t=(0,c.useMemo)(function(){var e=en(null==l?void 0:l.actList,1);return e.length>0?[X.DOUBLE,e]:[X.SINGLE,[]]},[l]))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return $(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=v[0],E=v[1],b=(0,_.YB)(),g=(0,T.ag)(),S=(0,_.oW)(),h="mobile"===g;(0,c.useEffect)(function(){i&&p&&p.type&&setTimeout(function(){var e=p.type,t=document.getElementById(ee[e]);if(t){t.scrollIntoView({behavior:"smooth",block:"start"});var n=t.querySelector(".activity-modal__section-title");n&&setTimeout(function(){n.focus()},300)}},0)},[i]);var I=en(null==l?void 0:l.actList,5),O=en(null==l?void 0:l.actList,6),C=en(null==l?void 0:l.actList,2),A=null==l?void 0:null===(n=l.preSaleInfo)||void 0===n?void 0:n.isPreHeat,w=null==l?void 0:null===(r=l.preSaleInfo)||void 0===r?void 0:r.isDeposit;return c.createElement(u.u,{isModalShow:i,extraClassName:"buy-product__activity-modal",closeModal:m,title:b.get("1fa2238292fd46eb3e06b8ce6c9dec8c"),styleMode:"drawer",titleLayOut:"left",isShowCloseIcon:!0,useInert:!0,subtitle:b.get("ceca39076399591eaa1fe2925272488a")},!!O&&O.length>0&&c.createElement(s,{sectionId:ee[3],title:b.get("0d9175fe89fb80d815e7d03698b6e83a")},O.map(function(e){return c.createElement(Y,{key:e.actId,activity:e})})),!!(null==l?void 0:l.coupons)&&(null==l?void 0:l.coupons.length)>0&&c.createElement(s,{sectionId:ee[2],title:b.get("adb6e651c47c732f9af50ae33748feaa"),subTitle:A||w?b.get("b283b1380bca820c810fb04f58522a79"):null},null==l?void 0:null===(a=l.coupons)||void 0===a?void 0:a.map(function(e){var t;return c.createElement(L,{key:"".concat(e.typeId,"-").concat(e.couponId,"-").concat(null==e?void 0:null===(t=e.couponReceiveExtendInfo)||void 0===t?void 0:t.rewardId),coupon:e})})),!!I&&I.length>0&&c.createElement(s,{sectionId:ee[1],title:b.get("104d9898c04874d0fbac36e125fa1369"),subTitle:A||w?b.get("ed9543df0f101189e490796d0e335c78"):null},I.map(function(e){var t,n,r;return c.createElement(G,{baseClassName:"discount-card",key:e.actId,activity:(n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){J(e,t,n[t])})}return e}({},e),r=r={actTitle:Array.isArray(null==e?void 0:e.discountCond)?null==e?void 0:null===(t=e.discountCond)||void 0===t?void 0:t.reduce(function(e,t,n){var r=t.condDesc;return n>0?"".concat(e," | ").concat(r):r},""):""},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n),showSubTitle:!1,icon:et[5]})})),!!C&&C.length>0&&c.createElement(s,{sectionId:ee[4],title:b.get("9f526bb7e30e2aa6bc7b7bdeadfff1f6")},C.map(function(e){return c.createElement(c.Fragment,null,c.createElement(G,{baseClassName:"benefit-card",key:e.actId,activity:e,icon:e.actIcon,showTime:!1}),e.startTime&&e.endTime&&c.createElement(N,{startTime:e.startTime,endTime:e.endTime,showIcon:!0}))})),!!l.tokens&&l.tokens>0&&c.createElement(s,{sectionId:ee[5],title:y===X.SINGLE?b.get("c90ab3517ee217a5c43d7eb349a826a6"):b.get("4830efdf99796b568d6732629a51fe02")},y===X.DOUBLE?E.map(function(e){return c.createElement(z,{tokens:l.tokens,key:e.actId,activity:e,pointsType:y})}):c.createElement(z,{key:"discount_card",tokens:l.tokens,pointsType:y})),!!(null==l?void 0:l.couponRewards)&&(null==l?void 0:l.couponRewards.length)>0&&c.createElement(s,{sectionId:ee[6],title:b.get("8cfc16e55decdf8c34a7da11df2eefe9"),subTitle:b.get("1116427b8a9c8457b561950ea9b5ccec"),titleExtra:c.createElement(d.z,{btnType:h?"default-link":"link-default",href:"".concat(h?S.wwwSite.m:S.wwwSite.pc,"/support/terms/coupon-reward-rules/"),className:"hint-text",withArrow:"enable"},b.get("9afe23252f2ce3fd238ad7c0e00fc942"))},null==l?void 0:null===(o=l.couponRewards)||void 0===o?void 0:o.map(function(e){return c.createElement(Z,{key:e.couponId,couponReward:e,icon:et[9]})})))}},37317:function(e,t,n){n.d(t,{I:()=>a});var r=n(81823),a=function(e){var t=e.activityList,n=e.activityMap,a=e.goodsId;return(0,r.useMemo)(function(){var e,r,o,i,c,l,u=null==t?void 0:null===(r=t[a])||void 0===r?void 0:null===(e=r.actList)||void 0===e?void 0:e.find(function(e){return 4===e.actType}),d=null==t?void 0:null===(i=t[a])||void 0===i?void 0:null===(o=i.actList)||void 0===o?void 0:o.find(function(e){return 3===e.actType&&n.reservationIds.includes(e.actNo)});if(d&&Object.keys(d||{}).length)return{skuActivityType:3,preSaleData:u,activityInfo:d};var s=null==t?void 0:null===(l=t[a])||void 0===l?void 0:null===(c=l.actList)||void 0===c?void 0:c.find(function(e){return 10===e.actType&&n.dailyPicksIds.includes(e.actNo)});return s&&Object.keys(s||{}).length?{skuActivityType:1,preSaleData:u,activityInfo:s}:{skuActivityType:0,preSaleData:u}},[t,n,a])}},20882:function(e,t,n){n.d(t,{f:()=>l});var r=n(81823),a=n(48597),o=n(78202),i=n(21245),c=n(40515);function l(e){var t,n,l,u,d,s,m=(0,a.YB)(),f=(0,a.oW)(),p=e.showCouponRedeemModal,v=e.setShowCouponRedeemModal,y=e.coupon,E=e.handleConfirmRedeem;return r.useEffect(function(){var t,n,r,a;return p?(null==e?void 0:e.showGoogleCaptcha)&&(null===(t=document.querySelector(".points-redemption-modal"))||void 0===t||t.setAttribute("inert",""),null===(n=document.querySelector(".coupons-drawer"))||void 0===n||n.setAttribute("inert","")):(null===(r=document.querySelector(".points-redemption-modal"))||void 0===r||r.removeAttribute("inert"),null===(a=document.querySelector(".coupons-drawer"))||void 0===a||a.removeAttribute("inert")),function(){var e,t;null===(e=document.querySelector(".points-redemption-modal"))||void 0===e||e.removeAttribute("inert"),null===(t=document.querySelector(".coupons-drawer"))||void 0===t||t.removeAttribute("inert")}},[p,e.showGoogleCaptcha]),r.createElement(i.u,{extraClassName:"points-redemption-modal",isShowCloseIcon:!0,isModalShow:p,closeModal:function(){v(!1)},title:m.get("132bc5e7c01925404a8a940be39dc837",{value:null===(t=y.couponReceiveExtendInfo)||void 0===t?void 0:t.tokensCost}),titleLayOut:"left",confirmText:m.get("81ed4dcb851fefbbbc791eeef4cd97a2"),confirm:function(){return E(null==y?void 0:y.couponReceiveExtendInfo)},footnote:r.createElement("span",{className:"points-redemption__tip"},m.get("b4849b3f3e8fd4411c34ece95cdf9363")),useInert:!0},r.createElement("div",{className:"points-redemption__content",tabIndex:-1},r.createElement("div",{className:"points-redemption__points"},!!(null===(n=y.couponReceiveExtendInfo)||void 0===n?void 0:n.tokensOwn)&&r.createElement(c.b,{inputStr:m.get("9b223cd3b6b0f83ccb23feee55e19afd",{balance:"#@@#".concat(null===(l=y.couponReceiveExtendInfo)||void 0===l?void 0:l.tokensOwn,"#@@#")})})),r.createElement("div",{className:"points-redemption__flow"},r.createElement("img",{className:"points-redemption__point-image",src:"https://i02.appmifile.com/6_operatorx_operatorx_xm/22/01/2024/916fa14921b60c907cf59bbaaabb195f.svg",alt:"point"}),r.createElement("div",{className:"points-redemption__spend-point"},r.createElement("span",{className:"points-redemption__num"},null===(u=y.couponReceiveExtendInfo)||void 0===u?void 0:u.tokensCost),r.createElement("span",{className:"points-redemption__text"},m.get("3efc37de533d6a03e83dd3cc7f74ca0f"))),r.createElement("img",{className:"points-redemption__right-arrow",src:"https://i02.appmifile.com/207_operatorx_operatorx_xm/22/01/2024/66572477b0433fcc7b6a9eeb6dc8a0e0.svg",alt:"right arrow"}),r.createElement("div",{className:"points-redemption__coupon"},r.createElement("div",{className:"points-redemption__coupon-price",dir:"auto"},y.valueDesc),r.createElement("div",{className:"points-redemption__coupon-split"}),r.createElement("div",{className:"points-redemption__coupon-title"},m.get("adb6e651c47c732f9af50ae33748feaa")))),r.createElement("span",{className:"points-redemption__validity"},(null===(d=y.couponReceiveExtendInfo)||void 0===d?void 0:d.tokensExchangeValidDays)?m.get("87e9ee269b4d3cbf7727ce4f37011e40",{n:null===(s=y.couponReceiveExtendInfo)||void 0===s?void 0:s.tokensExchangeValidDays}):m.get("12996ca77f14b9c3edee57c292df084d",{startTime:(0,o.vc)(1e3*Number(y.startTime),f.dateTimeFormat,f.dayjsTimezone),endTime:(0,o.vc)(1e3*Number(y.endTime),f.dateTimeFormat,f.dayjsTimezone)})),y.rangeShortDesc&&r.createElement("span",{className:"points-redemption__rule"},m.get("fca78f1635551e596effa07cf672ada7",{rules:y.rangeShortDesc}))))}},7516:function(e,t,n){n.d(t,{I:()=>eP});var r,a,o,i,c,l,u,d,s,m,f,p=n(81823),v=n(94184),y=n.n(v),E=n(48597),_=n(89073),b=n(86690),g=n(48785),S=n(81845);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var N={data:window.__PRELOADED_COMMON_DATA__||{},ajaxStatus:window.__PRELOADED_COMMON_DATA__?"success":"unsent",getServiceSuccess:!1},I=(0,g.o)(C,N),T=(0,p.createContext)(I);function O(e){var t,n=e.siteConfig,r=e.isAutoFetch,a=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,p.useState)(I))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return h(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],c=o[1];function l(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:C(t),errMsg:String(n),errNo:Number(r)}}var u={url:"".concat(n.goSite,"/cms/v1/page/get?path=public/why-buy-from-mi-com"),method:"GET",withCredentials:!0};return p.createElement(S.h,{context:T,setState:c,defaultValue:I,adapterError:function(e){return l(Object.assign({},e,{data:N.data,errmsg:"",errno:0}))},adapter:l,value:i,siteConfig:n,isAutoFetch:!0===r,ajaxConfig:u},a)}function C(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{title:e.title||"",serviceCall:e.serviceCall||"",serviceList:Array.from(e.serviceList||[]).map(function(e){return{clientId:e.clientId||"",typeName:e.typeName||"",type:e.type||"",title:e.title||"",description:e.description||"",paymentMethods:Array.from(e.paymentMethods||[]).map(function(e){return{type:e.type||"",url:e.url||"",checked:e.checked||!1}})}})}}(JSON.parse(((null===(t=(n.layouts||[])[0])||void 0===t?void 0:null===(e=t.children)||void 0===e?void 0:e.filter(function(e){return"why-buy-from-mi-com"===e.name})[0])||{}).extstr||"{}"))}var A=n(81848);function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var D={data:(null===(o=window.__PRELOADED_STATE__)||void 0===o?void 0:o.data)||{},ajaxStatus:(null===(i=window.__PRELOADED_STATE__)||void 0===i?void 0:i.data)?"success":"unsent",getServiceSuccess:!1},x=(0,g.o)(M,D),R=(0,p.createContext)(x);function k(e){var t,n=e.siteConfig,r=e.isAutoFetch,a=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,p.useState)(x))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return w(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],c=o[1];function l(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:M(t||{}),errMsg:String(n),errNo:Number(r)}}var u={url:"".concat(n.goSite,"/location/save"),method:"GET",withCredentials:!0},d=(0,A.u)(u);return p.createElement(S.h,{context:R,setState:c,defaultValue:x,adapterError:function(e){return l(e)},adapter:l,value:i,siteConfig:n,isAutoFetch:!0===r,ajaxConfig:d},a)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{total:Number(e.total)||0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var L={data:(null===(c=window.__PRELOADED_STATE__)||void 0===c?void 0:c.data)||{},ajaxStatus:(null===(l=window.__PRELOADED_STATE__)||void 0===l?void 0:l.data)?"success":"unsent",getServiceSuccess:!1},P=(0,g.o)(F,L),U=(0,p.createContext)(P);function G(e){var t,n=e.siteConfig,r=e.isAutoFetch,a=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,p.useState)(P))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return j(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],c=o[1];function l(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:F(t||{}),errMsg:String(n),errNo:Number(r)}}var u={url:"".concat(n.goSite,"/address/region/list"),method:"GET",withCredentials:!0,retryOptions:{maxRetryAttempts:3,scalingDuration:3e3}},d=(0,A.u)(u);return p.createElement(S.h,{context:U,setState:c,defaultValue:P,adapterError:function(e){return l(e)},adapter:l,value:i,siteConfig:n,isAutoFetch:!0===r,ajaxConfig:d},a)}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{total:Number(e.total)||0,regions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.from(e||[]).map(function(e){return{value:String(e.id||""),parentId:String(e.parent_id||""),label:String(e.name||""),level:Number(e.level||0),source:String(e.source||"")}})}(e.regions||[])}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var V={data:(null===(d=window.__PRELOADED_STATE__)||void 0===d?void 0:null===(u=d.productDelivery)||void 0===u?void 0:u.data)||{},ajaxStatus:(null===(s=window.__PRELOADED_STATE__)||void 0===s?void 0:s.data)?"success":"unsent",getServiceSuccess:!1},H=(0,g.o)(K,V),W=(0,p.createContext)(H);function Y(e){var t,n=e.siteConfig,r=e.isAutoFetch,a=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,p.useState)(H))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return B(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],c=o[1];function l(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:K(t||{}),errMsg:String(n),errNo:Number(r)}}var u={url:"".concat(n.goSite,"/fulfillment/delivery"),method:"GET",withCredentials:!0},d=(0,A.u)(u);return p.createElement(S.h,{context:W,setState:c,defaultValue:H,adapterError:function(e){return l(e)},adapter:l,value:i,siteConfig:n,isAutoFetch:!0===r,ajaxConfig:d},a)}function K(){var e,t,n,r,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{methods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.from(e||[]).filter(function(e){var t;return!!(null==e?void 0:null===(t=e.availability_info)||void 0===t?void 0:t.available)}).map(function(e){var t,n,r;return{name:String((null==e?void 0:e.name)||""),desc:String((null==e?void 0:null===(t=e.aging_info)||void 0===t?void 0:t.aging_desc)||""),priceDesc:String((null==e?void 0:null===(n=e.price_info)||void 0===n?void 0:n.price_desc)||""),estimatedDeliveryTimeDesc:String(null==e?void 0:null===(r=e.time_info)||void 0===r?void 0:r.estimated_delivery_time_desc),type:String((null==e?void 0:e.type)||""),additionalServices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){var t,n,r;return{name:String((null==e?void 0:e.name)||""),desc:String((null==e?void 0:e.desc)||""),type:String((null==e?void 0:e.type)||""),priceInfo:{priceDesc:String((null==e?void 0:null===(t=e.price_info)||void 0===t?void 0:t.price_desc)||""),price:String((null==e?void 0:null===(n=e.price_info)||void 0===n?void 0:n.price)||0)},availabilityInfo:{available:!!(null==e?void 0:null===(r=e.availability_info)||void 0===r?void 0:r.available)}}})}(null==e?void 0:e.additional_services)}})}((null==o?void 0:o.methods)||[]),address:function(){var e,t,n,r,a,o,i,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{zipcode:String((null==l?void 0:l.zipcode)||""),area:{label:String((null==l?void 0:null===(e=l.area)||void 0===e?void 0:e.name)||""),value:String((null==l?void 0:null===(t=l.area)||void 0===t?void 0:t.id)||"")},province:{label:String((null==l?void 0:null===(n=l.province)||void 0===n?void 0:n.name)||""),value:String((null==l?void 0:null===(r=l.province)||void 0===r?void 0:r.id)||"")},city:{label:String((null==l?void 0:null===(a=l.city)||void 0===a?void 0:a.name)||""),value:String((null==l?void 0:null===(o=l.city)||void 0===o?void 0:o.id)||"")},district:{label:String((null==l?void 0:null===(i=l.district)||void 0===i?void 0:i.name)||""),value:String((null==l?void 0:null===(c=l.district)||void 0===c?void 0:c.id)||"")}}}((null==o?void 0:o.address)||{}),location:{name:String((null==o?void 0:null===(e=o.location)||void 0===e?void 0:e.name)||""),index:{type:String((null==o?void 0:null===(n=o.location)||void 0===n?void 0:null===(t=n.index)||void 0===t?void 0:t.type)||""),value:String((null==o?void 0:null===(a=o.location)||void 0===a?void 0:null===(r=a.index)||void 0===r?void 0:r.value)||"")}},COD:function(){var e,t,n,r,a,o,i,c,l,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],d=u.find(function(e){return"normal"===e.type});if(!d)return null;var s=d.additional_services,m=void 0===s?[]:s;return 0!==m.length&&(null===(t=m[0])||void 0===t?void 0:null===(e=t.availability_info)||void 0===e?void 0:e.available)?{name:String(null!==(i=null===(n=m[0])||void 0===n?void 0:n.name)&&void 0!==i?i:""),desc:String(null!==(c=null===(r=m[0])||void 0===r?void 0:r.desc)&&void 0!==c?c:""),priceDesc:String(null!==(l=null===(o=m[0])||void 0===o?void 0:null===(a=o.price_info)||void 0===a?void 0:a.price_desc)&&void 0!==l?l:"")}:null}((null==o?void 0:o.methods)||[])}}var X=n(25185),q=n(40515),z=n(21245),Z=n(52972),$=n(90043),J=n(73444),Q=n(96494),ee=n(71083),et=n(65609);function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er=((r={}).NORMAL="normal",r.INSTALLATION="installation",r),ea=((a={}).CONFIRM_EXPOSE="confirmExpose",a.CONFIRM_CLICK="confirmClick",a.ZIP_CODE_VIEW_CLICK="zipCodeViewClick",a.SAVE_LOCATION_CLICK="saveLocationClick",a),eo=(en(m={},"confirmExpose",null),en(m,"confirmClick",null),en(m,"zipCodeViewClick",{tip:{a:16,b:"version-selection",c:"installation_more",e:16719},elementName:"installation_more",pageType:"version-selection",buttonName:"view",isOpenGA:!0}),en(m,"saveLocationClick",{tip:{a:16,b:"version-selection",c:"installation_more",e:16719},elementName:"installation_more",pageType:"version-selection",buttonName:"save",isOpenGA:!0}),m),ei=(en(f={},"confirmExpose",{tip:{a:16,b:21,c:"delivery_check_confirm",d:0,e:16756},elementName:"delivery_check_confirm",isOpenGA:!0}),en(f,"confirmClick",{tip:{a:16,b:21,c:"delivery_check_confirm",d:0,e:16719},elementName:"delivery_check_confirm",isOpenGA:!0}),en(f,"zipCodeViewClick",null),en(f,"saveLocationClick",null),f);function ec(e,t){switch(e){case"installation":return eo[t]||null;case"normal":return ei[t]||null;default:return null}}function el(e,t){return e&&0!==e.length?"installation"===t?function(e){if(!e||0===e.length)return[];var t,n,r,a,o,i=null===(n=e.filter(function(e){return(null==e?void 0:e.type)==="normal"})[0])||void 0===n?void 0:null===(t=n.additionalServices)||void 0===t?void 0:t.find(function(e){return(null==e?void 0:e.type)==="installation"});return i?[(a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){en(e,t,n[t])})}return e}({},i),o=o={priceDesc:null==i?void 0:null===(r=i.priceInfo)||void 0===r?void 0:r.priceDesc},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(o)).forEach(function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))}),a)]:[]}(e):e:[]}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function es(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eu(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e){var t,n=e.isModalShow,r=e.setIsModalShow,a=e.userLocation,o=e.setUserLocation,i=e.location,c=e.setLocation,l=e.deliveryMethod,u=e.setDeliveryMethod,d=e.deliveryType,s=void 0===d?er.NORMAL:d,m=!!(0,et.Nr)(),f=(0,E.YB)(),v=es((0,p.useState)(!1),2),_=v[0],g=v[1],S=es((0,p.useState)(!1),2),h=S[0],N=S[1],I=es((0,p.useState)([]),2),T=I[0],O=I[1],C=es((0,p.useState)(),2),A=C[0],w=C[1],D=es((0,p.useState)(!1),2),x=D[0],k=D[1],M=es((0,p.useState)([]),2),j=M[0],L=M[1],P=es((0,p.useState)(),2),G=P[0],F=P[1],B=es((0,p.useState)(!1),2),V=B[0],H=B[1],Y=es((0,p.useState)([]),2),K=Y[0],X=Y[1],q=es((0,p.useState)(),2),z=q[0],en=q[1],eo=es((0,p.useState)(!1),2),ei=eo[0],eu=eo[1],em=es((0,p.useState)([]),2),ef=em[0],ep=em[1],ev=es((0,p.useState)(),2),ey=ev[0],eE=ev[1],e_=es((0,p.useState)(!1),2),eb=e_[0],eg=e_[1],eS=es((0,p.useState)(),2),eh=eS[0],eN=eS[1],eI=es((0,p.useState)(),2),eT=eI[0],eO=eI[1],eC=es((0,p.useState)([]),2),eA=eC[0],ew=eC[1],eD=(0,p.useContext)(U),ex=(0,p.useContext)(W),eR=(0,p.useContext)(R),ek=(0,p.useContext)(ee.k6).state.currentGoodsInfo,eM=(0,p.useCallback)(function(e,t){switch(e){case"first":k(t),H(t),eu(t),eg(t);break;case"second":H(t),eu(t),eg(t);break;case"third":eu(t),eg(t);break;case"fourth":eg(t)}},[]),ej=(0,p.useCallback)(function(e){ew(el(e,s))},[s]),eL=(0,p.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r={};t&&(r.parent_id=t),eM(e,!0),eD.getService({params:r},function(r){if(eM(e,!1),(null==r?void 0:r.errNo)===0){var a=r.data.regions.map(function(e){return{value:e.value,label:e.label}});switch(e){case"first":O(a);break;case"second":w(t),L(a),n&&(F(void 0),X([]),en(void 0),ep([]),eE(void 0));break;case"third":F(t),X(a),n&&(en(void 0),ep([]),eE(void 0));break;case"fourth":en(t),ep(a),n&&eE(void 0)}}})},[eD.getService]),eP=(0,p.useCallback)(function(e){N(!1),eL("second",e)},[A]),eU=(0,p.useCallback)(function(e){N(!1),eL("third",e)},[G]),eG=(0,p.useCallback)(function(e){N(!1),eL("fourth",e)},[z]),eF=(0,p.useCallback)(function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];if(eE(e),t){N(!1),ew([]);var n={area_id:e,item_id:null==ek?void 0:ek.itemId,item_sales_price:null==ek?void 0:ek.price};ex.getService({params:n},function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.methods,r=t.location,a=t.address;r.name&&eO({province:a.province.value,city:a.city.value,district:a.district.value,area:a.area.value}),ej(n),N(!0),eN(r)}else{var o=f.get((null==e?void 0:e.errMsg)||"");Z.Z.text(o)}})}else N(!0),ej(l)},[ey,ek,ej]),eB=(0,p.useCallback)(function(){var e=ec(s,ea.CONFIRM_CLICK);e&&(0,b.otClick)(e),_?eR.getService({params:{area_id:ey}},function(e){if((null==e?void 0:e.errNo)!==0){var t=f.get((null==e?void 0:e.errMsg)||"");Z.Z.text(t)}else o(eT),u(eA),c(eh),r(!n)}):(o(eT),u(eA),c(eh),r(!n))},[_,ey,eh,eA,n,eT]);(0,p.useEffect)(function(){var e=ec(s,ea.CONFIRM_EXPOSE);e&&(0,b.otExpose)(e),eL("first"),a&&l&&(eO(a),eL("second",a.province,!1),eL("third",a.city,!1),eL("fourth",a.district,!1),eF(a.area,!0)),i&&eN(i)},[ej]);var eV=(0,p.useCallback)(function(){var e=ec(s,ea.SAVE_LOCATION_CLICK);e&&(0,b.otClick)(e),g(!_)},[_]),eH="address-model";return p.createElement("div",{className:"address-model"},p.createElement("div",{className:y()(["".concat(eH,"-content-title")])},f.get("17ad4b7f4d105ac1ab5723a7d7b035fe")),p.createElement("div",{className:y()(["".concat(eH,"-content-header")])},p.createElement("div",{className:y()(["".concat(eH,"-content-header-top")])},p.createElement($.P,{type:"single",options:T||[],className:y()(["".concat(eH,"-address-select-first"),"".concat(eH,"-address-select")]),onChange:eP,value:x?void 0:A,placeholder:f.get("c6b5d0bb9a0c3f077863fdaef9773f7c"),loading:x}),p.createElement($.P,{type:"single",options:j||[],className:y()(["".concat(eH,"-address-select-second"),"".concat(eH,"-address-select")]),onChange:eU,value:V?void 0:G,placeholder:f.get("57d056ed0984166336b7879c2af3657f"),loading:V}),p.createElement($.P,{type:"single",options:K||[],className:y()(["".concat(eH,"-address-select-third"),"".concat(eH,"-address-select")]),placeholder:f.get("e0bb2f66e5b61be3235bf8969979de19"),onChange:eG,value:ei?void 0:z,loading:ei}),p.createElement($.P,{type:"single",options:ef||[],className:y()(["".concat(eH,"-address-select-fourth"),"".concat(eH,"-address-select")]),onChange:function(e){return eF(e)},value:eb?void 0:ey,placeholder:f.get("d61ebdd8a0c0cd57c22455e9f0918c65"),loading:eb})),m&&p.createElement(J.Z,{checked:_,onChange:eV,className:y()(["".concat(eH,"-content-header-checkbox")])},p.createElement("div",{className:y()(["".concat(eH,"-content-header-checkbox-children")])},f.get("aba505f17841d128c393f8e9c1557fb1")))),"loading"===ex.ajaxStatus?p.createElement(Q.a,{type:"inner"}):!!eA.length&&p.createElement("div",{className:y()(["".concat(eH,"-content-middle")])},s!==er.INSTALLATION&&p.createElement("div",{className:y()(["".concat(eH,"-content-middle-title")])},f.get("a930a39f7493653ddc34fee09630378d"),p.createElement("br",null),p.createElement("span",{className:y()(["".concat(eH,"-content-middle-title-color")])},f.get("f65d573c9df8673c796aceb55ff3d046"))),p.createElement("div",{className:y()(["".concat(eH,"-content-middle-contain")])},eA.map(function(e,t){var n;return p.createElement("div",{key:t,className:y()((ed(n={},"".concat(eH,"-content-middle-item"),!0),ed(n,"".concat(eH,"-content-middle-last-item"),t===eA.length-1),n))},p.createElement("div",{className:y()(["".concat(eH,"-content-middle-item-top")])},e.name&&p.createElement("div",{className:y()(["".concat(eH,"-content-middle-item-name")])},e.name),e.priceDesc&&p.createElement("div",{className:y()(ed({},"".concat(eH,"-content-middle-item-price"),!0))},e.priceDesc)))}))),p.createElement("div",{className:y()(ed({},"".concat(eH,"-content-bottom"),!0))},p.createElement("div",{className:y()((ed(t={},"".concat(eH,"-content-bottom-confirm"),!0),ed(t,"".concat(eH,"-content-bottom-confirmed"),h),t)),role:"button",tabIndex:0,onClick:eB},f.get("70d9be9b139893aa6c69b5e77e614311"))))}var ef=n(76319),ep=n(64049),ev=n(25228);function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eE(){var e,t=(0,E.YB)(),n=(0,E.oW)(),r="mobile"===(0,ev.ag)()?"m":"pc",a=function(e){if(Array.isArray(e))return e}(e=(0,p.useState)(!1))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ey(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ey(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=a[0],i=a[1],c=p.createElement(p.Fragment,null,p.createElement("ul",{className:"pin-code-info__tooltip-list"},p.createElement("li",{className:"pin-code-info__tooltip-item"},p.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},t.get("78b29fac0b2c75bc32a7a9747d7f347a")),p.createElement("p",{className:"pin-code-info__tooltip-content"},t.get("f0960de6486d3e2a2cfe1d80e5515e89"))),p.createElement("li",{className:"pin-code-info__tooltip-item"},p.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},t.get("62df98f4f80fee8cf443119583ea5bba")),p.createElement("p",{className:"pin-code-info__tooltip-content"},t.get("bfc78740ec993ccc7a64727028183411"),p.createElement("br",null),t.get("70b3ecc15248d89553be135c58e311b2"),p.createElement("br",null),t.get("d409579a9acfcb3abe9fdf7d11a60192"),p.createElement("br",null),t.get("11ceb912cd60d727683feb5f762037c6"),p.createElement("br",null),p.createElement("br",null),t.get("351fd66ef886f584e88262573f9aabd1"))),p.createElement("li",{className:"pin-code-info__tooltip-item"},p.createElement("h4",{className:"pin-code-info__tooltip-subtitle"},t.get("c66947ec95003431fc9b1e5b2320f261")),p.createElement("p",{className:"pin-code-info__tooltip-content"},t.get("d5cf8a6a7f83cea53d9d0535f791ae45")))),p.createElement("a",{href:"".concat(n.wwwSite[r],"/service/shipping/"),className:"pin-code-info__tooltip-link","aria-label":t.get("05de1fa1fd62bf5969cfe57dab15adfe")},t.get("05de1fa1fd62bf5969cfe57dab15adfe")));return"m"===r?p.createElement("span",{className:"pin-code-info__button","aria-label":t.get("5d5cd268b8acccf04f63d81c5d0d2cab"),onClick:function(){var e="".concat(n.wwwSite[r],"/service/deliverytime/");window.location.assign(e)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},tabIndex:0,role:"button"},p.createElement(X.q,{symbol:"warning"})):p.createElement(ep.Z,{title:c,overlayClassName:"pin-code-info__tooltip",open:o,onOpenChange:i},p.createElement("span",{className:"pin-code-info__button","aria-label":t.get("5d5cd268b8acccf04f63d81c5d0d2cab")},p.createElement(X.q,{symbol:"warning",role:"button",tabIndex:0,onClick:function(){i(function(e){return!e})},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i(function(e){return!e}))}})))}var e_=n(99506),eb=n(66008),eg=n(3283),eS=n(96381),eh=n(55709);function eN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||eC(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(e){return function(e){if(Array.isArray(e))return eN(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||eC(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eC(e,t){if(e){if("string"==typeof e)return eN(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eN(e,t)}}function eA(e){var t,n,r=e.isModalShow,a=e.setIsModalShow,o=e.userZipCode,i=e.setZipCode,c=e.deliveryType,l=void 0===c?er.NORMAL:c,u=e.setDeliveryMethod,d=e.setUserZipCode,s=(0,E.YB)(),m=!!(0,et.Nr)(),f=(0,p.useContext)(ee.k6).state.currentGoodsInfo,v=eT((0,p.useState)(!1),2),_=v[0],g=v[1],S=eT((0,p.useState)(!1),2),h=S[0],N=S[1],I=eT((0,p.useState)(""),2),T=I[0],O=I[1],C=eT((0,p.useState)([]),2),A=C[0],w=C[1],D=(0,p.useContext)(W),x=(0,p.useContext)(R),k=(0,p.useCallback)(function(e){w(el(e,l))},[l]),M=eT((0,e_.$)(function(e,t){return e.pipe((0,eb.h)(function(e){return!!e}),(0,eg.b)(300),(0,eS.w)(function(e){var t=ec(l,ea.ZIP_CODE_VIEW_CLICK);return t&&(0,b.otClick)(t),N(!1),w([]),D.getObservable({params:{zipcode:e,item_id:null==f?void 0:f.itemId,item_sales_price:null==f?void 0:f.price}}).pipe((0,eh.U)(function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.methods,r=t.COD,a=n;r&&(a=eO(n).concat([r])),k(a),N(!0)}else{var o=s.get("294b0d8f15ae147c43369085375069e5");Z.Z.text(o)}}))}))},void 0),1)[0],j=(0,p.useCallback)(function(){T&&M(T)},[T,M]),L=(0,p.useCallback)(function(){var e=ec(l,ea.CONFIRM_CLICK);e&&(0,b.otClick)(e),_?x.getService({params:{zipcode:T}},function(e){if((null==e?void 0:e.errNo)!==0){var t=s.get((null==e?void 0:e.errMsg)||"");Z.Z.text(t)}else a(!r),u&&u(A),i(T),d&&d(T)}):(a(!r),u&&u(A),i(T),d&&d(T))},[_,T,A]);(0,p.useEffect)(function(){var e=ec(l,ea.CONFIRM_EXPOSE);if(e&&(0,b.otExpose)(e),o&&f){O(o),N(!1),w([]);var t={zipcode:o,item_id:null==f?void 0:f.itemId,item_sales_price:null==f?void 0:f.price};D.getService({params:t},function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.methods,r=t.COD,a=n;r&&(a=eO(n).concat([r])),k(a),N(!0)}})}},[k]);var P=(0,p.useCallback)(function(){var e=ec(l,ea.SAVE_LOCATION_CLICK);e&&(0,b.otClick)(e),g(!_)},[_]),U="zip-code-model";return p.createElement("div",{className:"zip-code-model"},p.createElement("div",{className:y()(["".concat(U,"-content-header")])},p.createElement(ef.I,{suffix:p.createElement("div",{className:y()((eI(t={},"".concat(U,"-content-header-view"),!0),eI(t,"".concat(U,"-content-header-view-disabled"),""===T),t)),role:"button",tabIndex:""===T?-1:0,"aria-disabled":""===T,onClick:j,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())}},s.get("4351cfebe4b61d8aa5efa1d020710005")),placeholder:s.get("d0d5ea5dcae51a8788fb31e671d7a988"),className:y()(["".concat(U,"-content-header-input")]),value:T,onChange:function(e){O(e.target.value),N(!1)}}),m&&p.createElement(J.Z,{checked:_,onChange:P,className:y()(["".concat(U,"-content-header-checkbox")]),role:"checkbox","aria-checked":_,"aria-label":s.get("aba505f17841d128c393f8e9c1557fb1")},p.createElement("div",{className:y()(["".concat(U,"-content-header-checkbox-children")])},s.get("aba505f17841d128c393f8e9c1557fb1")))),"loading"===D.ajaxStatus?p.createElement(Q.a,{type:"inner"}):!!A.length&&p.createElement("div",{className:y()(["".concat(U,"-content-middle")])},A.map(function(e,t){var n,r;return p.createElement("div",{key:t,className:y()((eI(n={},"".concat(U,"-content-middle-item"),!0),eI(n,"".concat(U,"-content-middle-last-item"),t===A.length-1),n))},p.createElement("div",{className:y()(["".concat(U,"-content-middle-item-top")])},e.name&&p.createElement("div",{className:y()(["".concat(U,"-content-middle-item-name")])},e.name),e.priceDesc&&p.createElement("div",{className:y()((eI(r={},"".concat(U,"-content-middle-item-price"),!0),eI(r,"".concat(U,"-content-middle-item-price-cod"),"COD"===e.name),r))},e.priceDesc)),e.desc&&p.createElement("div",{className:y()(["".concat(U,"-content-middle-item-bottom")])},p.createElement("div",{className:y()(["".concat(U,"-content-middle-item-desc")])},e.desc,"normal"===e.type&&p.createElement(eE,null))))})),p.createElement("div",{className:y()(eI({},"".concat(U,"-content-bottom"),!0))},p.createElement("div",{className:y()((eI(n={},"".concat(U,"-content-bottom-confirm"),!0),eI(n,"".concat(U,"-content-bottom-confirmed"),h),n)),role:"button",tabIndex:h?0:-1,"aria-disabled":!h,onClick:L,onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())}},s.get("70d9be9b139893aa6c69b5e77e614311"))))}var ew={data:{isCountryIndonesia:[{api:!0,locals:["id","my","th"]}],isCountryIndia:[{api:!0,locals:["in"]}]},html:{},js:{},css:{}},eD=n(37317),ex=n(22151);function eR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ek(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eR(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eM(e){var t,n,r=e.item,a=(0,E.aU)(),o=(0,E.YB)(),i=(0,E.Jd)(a,ew,"WhyBuyFromMiCom"),c=null===(t=i.data)||void 0===t?void 0:t.isCountryIndonesia,l=null===(n=i.data)||void 0===n?void 0:n.isCountryIndia,u=(0,p.useContext)(ee.k6).state,d=u.currentActivityMap,s=u.currentGoodsInfo,m=u.newActivityMap,f=ek((0,p.useState)(!1),2),v=f[0],y=f[1],_=ek((0,p.useState)(),2),g=_[0],S=_[1],h=ek((0,p.useState)([]),2),N=h[0],I=h[1],T=ek((0,p.useState)(),2),O=T[0],C=T[1],A=ek((0,p.useState)(),2),w=A[0],D=A[1],x=ek((0,p.useState)(),2),R=x[0],k=x[1],M=(0,p.useContext)(W),j=(0,eD.I)({activityList:d,activityMap:m,goodsId:(null==s?void 0:s.itemId)||0}).skuActivityType,L=(0,p.useMemo)(function(){return!(null==s?void 0:s.isNotForSale)&&!(null==s?void 0:s.isOutOfStock)&&(null==s?void 0:s.isSale)},[s]);return(0,p.useEffect)(function(){if((null==s?void 0:s.itemId)&&(null==s?void 0:s.price)&&l){var e={item_id:null==s?void 0:s.itemId,item_sales_price:null==s?void 0:s.price};O&&(e.zipcode=O),M.getService({params:e},function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.location,r=t.methods,a=t.address,o=t.COD;if(o){var i={desc:o.name,priceDesc:o.priceDesc};r.push(i)}S(n),D(a.zipcode),I(r)}})}},[O,s]),(0,p.useEffect)(function(){if((null==s?void 0:s.itemId)&&(null==s?void 0:s.price)&&c){var e,t,n={item_id:null==s?void 0:s.itemId,item_sales_price:null==s?void 0:s.price};(null==g?void 0:null===(e=g.index)||void 0===e?void 0:e.value)&&(n.area_id=null==g?void 0:null===(t=g.index)||void 0===t?void 0:t.value),M.getService({params:n},function(e){if((null==e?void 0:e.errNo)===0){var t=e.data,n=t.location,r=t.methods,a=t.address;n.name&&k({province:a.province.value,city:a.city.value,district:a.district.value,area:a.area.value}),S(n),I(r)}})}},[s]),(0,p.useEffect)(function(){var e=(0,b.otExposeWith)({exposeThreshold:.3,targetNodeSelector:".why-buy-from-mi__item-model[data-ot-expose]",isInfinite:!1},function(e){return e});return function(){e&&e.disconnect()}},[]),p.createElement(p.Fragment,null,p.createElement("span",{role:"heading","aria-level":4,className:"why-buy-from-mi__item-title"},r.title),L&&j!==ex.T.PreSale?p.createElement(p.Fragment,null,p.createElement(p.Fragment,null,!(g&&(null==g?void 0:g.name))&&p.createElement("span",{className:"why-buy-from-mi__item-desc"},r.description),p.createElement("div",{role:"button",tabIndex:0,onClick:function(){(0,b.otClick)({tip:{a:16,b:21,c:"service",d:0,e:16719},elementName:"service",elementTitle:"delivery_check",isOpenGA:!0}),y(!0)},onKeyDown:function(e){("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.currentTarget.click())},className:"why-buy-from-mi__item-model","data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"service",d:0,e:16756},elementName:"service",elementTitle:"delivery_check",isOpenGA:!0})},g&&(null==g?void 0:g.name)?"".concat(o.get("81b7b4587a2a3ea7a0d6bb1df3fbba54")," ").concat(null==g?void 0:g.name):o.get("380c4c5d8ff5aa89be8d02a6af40a08a")),g&&(null==g?void 0:g.name)&&!!N.length&&p.createElement("div",{className:"why-buy-from-mi__item-deliver"},N.map(function(e,t){return p.createElement("div",{key:t,className:"why-buy-from-mi__item-deliver-item"},p.createElement("div",{className:"why-buy-from-mi__item-deliver-item-desc"},e.desc,"normal"===e.type&&l&&p.createElement(eE,null)),p.createElement("div",{className:"why-buy-from-mi__item-deliver-item-price"},e.priceDesc))}))),p.createElement(z.u,{isModalShow:v,closeModal:function(){return y(!1)},title:c?o.get("6f05787682585c32498e88bcd2ea88fc"):o.get("3eb0f1d14d6ec438d91fcfdab94fc1ca"),styleMode:"bottom",titleLayOut:"left",isShowCloseIcon:!0,extraClassName:"zip-code-model",children:c?p.createElement(em,{isModalShow:v,setIsModalShow:y,userLocation:R,setUserLocation:k,location:g,setLocation:S,deliveryMethod:N,setDeliveryMethod:I}):p.createElement(eA,{isModalShow:v,setIsModalShow:y,userZipCode:w,setZipCode:C})})):p.createElement("span",{className:"why-buy-from-mi__item-desc"},r.description))}function ej(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eL(e){var t,n,r,a,o,i=e.className,c=e.cmsData,l=e.isBuyProduct,u=void 0!==l&&l,d=e.isShowDelivery,s=void 0===d||d,m=e.onContentFold,f=(0,E.YB)(),y=/(?:\+?(\d{1,3})[-\s.]?)?(?:\(\d{2,4}\))?\d[-\s.\d]{3,16}\d/gi,g=(0,E.Sz)(),S=function(e){if(Array.isArray(e))return e}(t=(0,p.useState)(!0))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ej(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ej(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=S[0],N=S[1],I=(0,p.useContext)(T),O=(0,p.useRef)(0),A=(0,E.Vi)(),w=g?C(A):(null==c?void 0:c.title)?c:I.data,D=(0,_.i)(null,["resize","scroll","orientationchange"],[w.title,w.serviceList]);function x(){if(!u){N(!h);return}if(h){(0,b.otClick)({tip:{a:16,b:21,c:"service",d:0,e:16719},elementName:"service",elementTitle:"close",isOpenGA:!0});var e=document.querySelector(".why-buy-from-mi__content");if(e){var t=document.querySelector(".buy-product__main-section");if(t){var n,r=e.getBoundingClientRect();if(O.current||(O.current=r.height),n=t.getBoundingClientRect(),window.innerHeight-n.bottom>0){e.style.transition="none";var a=Math.max(Number((null==e?void 0:e.clientHeight)/30),10),o=r.height,i=function(){o>0?(o<a&&(a=o),o-=a,e.style.height=o+"px",window.scrollTo({top:window.scrollY-a}),requestAnimationFrame(i)):N(!1)};requestAnimationFrame(i)}else h&&"function"==typeof m&&(null==m||m(0,O.current),N(!1))}}}else null==m||m(O.current,0),N(!0)}return(0,p.useEffect)(function(){var e;return u&&(e=(0,b.otExposeWith)({exposeThreshold:.3,targetNodeSelector:".why-buy-from-mi--open[data-ot-expose]",isInfinite:!1},function(e){return e})),function(){e&&e.disconnect()}},[u]),p.createElement("section",{className:v("why-buy-from-mi",(n={"why-buy-from-mi--open":!!h,"why-buy-from-mi--hidden":!w.title},r="".concat(i),a=!!i,r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n)),"data-ot-expose":JSON.stringify({tip:{a:16,b:21,c:"service",d:0,e:16756},elementName:"service",isOpenGA:!0})},!!w.title&&p.createElement("h2",{className:"why-buy-from-mi__header",onClick:x},p.createElement("div",{className:"why-buy-from-mi__title"},w.title),p.createElement(X.q,{className:"why-buy-from-mi__icon",symbol:"down",onClick:x,role:"button",tabIndex:0,"aria-expanded":h,"aria-label":w.title,onKeyDown:function(e){(" "===e.key||"Enter"===e.key)&&(x(),e.preventDefault())}})),p.createElement("div",{className:"why-buy-from-mi__content",ref:D,"aria-hidden":!h},!!w.serviceList.length&&p.createElement(p.Fragment,null,p.createElement("div",{role:"separator",className:"why-buy-from-mi__separator","aria-label":f.get("a6122a65eaa676f700ae68d393054a37")+":"+w.title}),p.createElement("div",{role:"list",className:"why-buy-from-mi__list"},(w.serviceList||[]).map(function(e,t){return p.createElement("div",{role:"listitem",className:"why-buy-from-mi__item",key:"".concat(t,"-").concat(e.title)},p.createElement(X.q,{className:"why-buy-from-mi__item-icon",symbol:e.type,"aria-hidden":!0}),p.createElement("div",{className:"why-buy-from-mi__item-content"},u&&s&&"deliveryMethod"===e.typeName?p.createElement(eM,{item:e}):p.createElement(p.Fragment,null,p.createElement("span",{className:"why-buy-from-mi__item-title",role:"heading","aria-level":3},e.title),p.createElement("span",{className:"why-buy-from-mi__item-desc"},e.description)),"paymentMethod"===(e.typeName||"")&&((null==e?void 0:e.paymentMethods)||[]).filter(function(e){return e.checked}).length?p.createElement("div",{className:"why-buy-from-mi__pay-list"},((null==e?void 0:e.paymentMethods)||[]).map(function(e,t){return(null==e?void 0:e.checked)?p.createElement("img",{src:e.url,alt:e.type,className:"why-buy-from-mi__pay-img",key:t}):p.createElement(p.Fragment,{key:t})})):p.createElement(p.Fragment,null)))}))),!!w.serviceCall&&p.createElement(p.Fragment,null,p.createElement("div",{role:"separator",className:"why-buy-from-mi__separator","aria-label":f.get("87557f11575c0ad78e4e28abedc13b6e")+":"+w.title}),p.createElement("p",{className:"why-buy-from-mi__tel"},p.createElement(q.b,{inputStr:"".concat(w.serviceCall.replace(y,function(e){return"#@@#".concat(e,"#@@#")})),linkArr:null===(o=w.serviceCall.match(y))||void 0===o?void 0:o.map(function(e){return"tel: ".concat(e)})})))))}function eP(e){var t=(0,E.oW)();return p.createElement(O,{siteConfig:t,isAutoFetch:!0},p.createElement(k,{siteConfig:t},p.createElement(G,{siteConfig:t},p.createElement(Y,{siteConfig:t},p.createElement(eL,e)))))}},19050:function(e,t,n){n.d(t,{N:()=>l,O:()=>u});var r=n(81823),a=n(48785),o=n(81845);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var c=(0,a.o)(d),l=(0,r.createContext)(c);function u(e){var t,n=e.siteConfig,a=e.isAutoFetch,u=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(c))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return i(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=s[0],f=s[1];function p(e){var t=e.data,n=e.errmsg,r=e.errno;return{data:d(t||{}),errMsg:String(n),errNo:Number(r)}}var v={url:"".concat(n.goSite,"/getcoupon/draw"),method:"GET",withCredentials:!0};return r.createElement(o.h,{context:l,setState:f,defaultValue:c,adapterError:function(e){return p(e)},adapter:p,value:m,siteConfig:n,isAutoFetch:!0===a,ajaxConfig:v},u)}function d(e){return{couponId:String(e.coupon_id||e.itemId||"")}}},89073:function(e,t,n){n.d(t,{i:()=>i});var r=n(81823);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}}function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=(0,r.useRef)(e),l=c.current,u=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n,r,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,c=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(o.push(n.value),o.length!==t);i=!0);}catch(e){c=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(c)throw r}}return o}}(t,2)||o(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=u[0],s=u[1],m=Array.from(new Set(n));function f(){s(Date.now())}return(0,r.useEffect)(function(){l&&l.style&&l.style.setProperty("--box-height","".concat(l.scrollHeight))},[d].concat(function(e){if(Array.isArray(e))return a(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||o(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),(0,r.useEffect)(function(){return f(),m.forEach(function(e){return window.addEventListener(e,f)}),function(){m.forEach(function(e){return window.removeEventListener(e,f)})}},[]),c}}}]);
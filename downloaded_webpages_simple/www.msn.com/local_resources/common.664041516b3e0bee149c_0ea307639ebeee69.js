"use strict";(self.homePageWebpackChunks=self.homePageWebpackChunks||[]).push([["common"],{55793:function(t,e,n){n.d(e,{$G:function(){return m},HR:function(){return p},N1:function(){return h},V6:function(){return w},WJ:function(){return u},Zd:function(){return v},cU:function(){return y},hM:function(){return d},pp:function(){return a},vG:function(){return f},w_:function(){return s},x8:function(){return c},xW:function(){return g},zj:function(){return l}});var i=n(78923),r=n(29717),o=n(42821);const s=i.i`
    :host {
        --cstm-foreground-ctrl-neutral-primary-rest-filter: brightness(0) saturate(100%) invert(92%) sepia(2%) saturate(1678%) hue-rotate(190deg) brightness(95%) contrast(96%);
        --cstm-foreground-ctrl-neutral-primary-pressed-filter: brightness(0) saturate(100%) invert(64%) sepia(10%) saturate(836%) hue-rotate(188deg) brightness(89%) contrast(89%);
        --cstm-foreground-ctrl-neutral-secondary-rest-filter: brightness(0) saturate(100%) invert(56%) sepia(80%) saturate(138%) hue-rotate(190deg) brightness(85%) contrast(82%);
        --cstm-foreground-ctrl-on-subtle-rest-filter: brightness(0) saturate(100%) invert(92%) sepia(3%) saturate(1502%) hue-rotate(191deg) brightness(95%) contrast(97%);
        --cstm-subtle-button-border-color: rgba(255, 255, 255, 0.08);
    }
`,a=i.i`
    :host {
        --cstm-corner-media-outside-radius: calc(${o.jYV} * ${o.vle});
        --cstm-corner-media-inside-radius: calc(${o.gpu} * ${o.vle});
        --cstm-corner-media-in-card: var(--cstm-corner-media-outside-radius) var(--cstm-corner-media-outside-radius) var(--cstm-corner-media-inside-radius) var(--cstm-corner-media-inside-radius);
        --cstm-border-on-squircle-px: 1px;
        --cstm-foreground-ctrl-neutral-primary-rest-filter: brightness(0) saturate(100%) invert(10%) sepia(8%) saturate(616%) hue-rotate(341deg) brightness(94%) contrast(88%);
        --cstm-foreground-ctrl-neutral-primary-pressed-filter: brightness(0) saturate(100%) invert(30%) sepia(4%) saturate(768%) hue-rotate(329deg) brightness(97%) contrast(86%);
        --cstm-foreground-ctrl-neutral-secondary-rest-filter: brightness(0) saturate(100%) invert(39%) sepia(2%) saturate(1223%) hue-rotate(335deg) brightness(91%) contrast(90%);
        --cstm-foreground-ctrl-on-subtle-rest-filter: brightness(0) saturate(100%) invert(10%) sepia(3%) saturate(2871%) hue-rotate(343deg) brightness(94%) contrast(88%);
        --cstm-status-danger-background-light: #AC1922;
        --cstm-status-danger-foreground-light: #FFFFFF;
        --cstm-subtle-button-border-color: rgba(0, 0, 0, 0.08);
    }
`.withBehaviors((0,r.Uu)(s)),c="var(--cstm-foreground-ctrl-neutral-primary-rest-filter)",u="var(--cstm-foreground-ctrl-neutral-primary-pressed-filter)",l="var(--cstm-foreground-ctrl-on-subtle-rest-filter)",d=`linear-gradient(0deg, ${o.L0w} 0%, ${o.L0w} 100%), \n    linear-gradient(0deg, ${o.VT5} 0%, ${o.VT5} 100%), \n    linear-gradient(0deg, ${o.Gpk} 0%, ${o.Gpk} 100%), ${o.$4b}`,f=`${o.lVi} ${o.ta8} ${o.t1q} 0px ${o.vrc}, \n    ${o.VOk} ${o.Zrt} ${o.$E0} 0px ${o.Emg}`,h="var(--cstm-border-on-squircle-px)",p="var(--cstm-corner-media-in-card)",m=`${o.nLR} ${o.VgI} ${o.RDz} ${o.rZ0} ${o.mcM} inset, \n    ${o.mZ$} ${o.c2e} ${o.Yqc} 0px ${o.MMn}`,g=`${o.tjg} ${o.P43} ${o.P9S} 0px ${o.C9}, \n    0px ${o.kNE} ${o.tve} 0px ${o.Wv_}`,v="var(--cstm-subtle-button-border-color)",w=(o.lIy,o.uOF,o.K2B,o.ung,"var(--cstm-status-danger-background-light)"),y="var(--cstm-status-danger-foreground-light)"},56717:function(t,e,n){n.d(e,{$6:function(){return T},$W:function(){return E},Bd:function(){return i},C_:function(){return c},GL:function(){return s},H1:function(){return R},HU:function(){return D},IM:function(){return C},IX:function(){return W},Iy:function(){return H},J8:function(){return F},Jh:function(){return $},Kh:function(){return S},MK:function(){return L},NL:function(){return I},PK:function(){return V},Pj:function(){return b},Q3:function(){return f},QD:function(){return w},QH:function(){return v},Vq:function(){return A},WT:function(){return a},Y:function(){return P},Y7:function(){return h},ZX:function(){return _},ZZ:function(){return M},eH:function(){return x},hR:function(){return d},iN:function(){return l},j0:function(){return k},kt:function(){return U},l_:function(){return j},nP:function(){return O},pt:function(){return N},qC:function(){return B},qK:function(){return r},qd:function(){return y},rY:function(){return u},si:function(){return p},t3:function(){return o},tr:function(){return z},vV:function(){return g},y1:function(){return m}});const i="#FFFFFF",r="#2169EB",o="#FFF",s="#FFF0EF",a="#FF9F99",c="#EF6864",u="#D63F40",l="#C0413F",d="#3F2524",f="#34A84E",h="#007F30",p="#242424",m="#FFF",g="rgba(0, 0, 0, 0.1)",v="#FFFFFF",w="#ECF4FF",y="#23272B",b="#FFFFFF",S="#EDF2F9",x="rgba(255, 255, 255, 0.1)",C="#1B1D1F",k="#212D3D",T="rgba(0, 0, 0, 0.6)",$="rgba(0, 30, 68, 0.1)",A="#FFFFFF",I="#8D9197",P="#6E7278",_="#1E2024",M="#000000",R="#26292E",E="#35383D",F="#EAEFF5",D="#F6F9FC",O="rgba(0, 0, 0, 0.2)",N="#474B50",U="#C3C8CE",L="brightness(0) saturate(100%) invert(90%) sepia(9%) saturate(164%) hue-rotate(173deg) brightness(90%) contrast(87%)",B="#EFF4FA",W="#E7EBF1",H="#D6DAE0",z="#292C33",V="#2F333A",j="#3D4047"},27073:function(t,e,n){n.d(e,{Me:function(){return a},PM:function(){return r},Rt:function(){return s},Sk:function(){return u},TU:function(){return h},jq:function(){return c},oK:function(){return d},uk:function(){return p},vf:function(){return o},xQ:function(){return i},xf:function(){return l},zU:function(){return f}});const i="12px",r="14px",o="16px",s="18px",a="20px",c="16px",u="20px",l="24px",d="28px",f="550",h="450",p="400"},78271:function(t,e,n){n.d(e,{El:function(){return s},J5:function(){return r},LF:function(){return u},PZ:function(){return o},TV:function(){return l},WQ:function(){return a},g2:function(){return f},hH:function(){return i},ij:function(){return d},wO:function(){return c}});const i=16,r=308,o=368,s=300,a=272,c=320,u=300,l=320,d=300,f=320},25452:function(t,e,n){n.d(e,{$A:function(){return r},$b:function(){return f},BN:function(){return h},Ix:function(){return u},KT:function(){return a},RQ:function(){return l},a_:function(){return p},e5:function(){return s},ko:function(){return i},lu:function(){return d},om:function(){return c},pS:function(){return m},um:function(){return o}});const i=16,r=176,o=344,s=368,a=344,c=336,u=2*c+i,l=272,d=360,f=300,h=360,p=300,m=24},26682:function(t,e,n){n.d(e,{Fv:function(){return r},gQ:function(){return i}});const i="selectedNavItemClicked";class r{constructor(){this.tt=!1}attemptNavItemChange(t,e){return!!this.it&&(this.it(t,e),!0)}disconnectSuperNav(){this.it=void 0}getForceSelectedNavItemId(){return this.st}getSupports3DContent(){return this.tt}static getInstance(t){return r.ut||(r.ut=new r),t&&(r.ut.it=t),r.ut}registerForceSelectedNavItemId(t){this.st=t}registerSupports3DContent(t){this.tt=t}}},331:function(t,e,n){n.d(e,{w:function(){return o}});var i=n(77137),r=n(13218);class o{constructor(t,e,n){this.ft=t,this.gt=e,this.wt=n}connectedCallback(t){const{source:e}=t;"zh-cn"===i.jG.CurrentMarket?this.wt&&r.Al.CurrentFlightSet.has(this.wt)?(e.$fastController.addStyles(this.gt),e.$fastController.removeStyles(this.ft)):(e.$fastController.addStyles(this.ft),e.$fastController.removeStyles(this.gt)):(e.$fastController.removeStyles(this.ft),e.$fastController.removeStyles(this.gt))}}},34565:function(t,e,n){n.d(e,{A:function(){return r},X:function(){return o}});var i=n(49218);function r(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];let o=i.dy``;return t.split(/({\d+})/).forEach((t=>{const e=t.match(/{(\d+)}/);if(e){const r=parseInt(e[1],10);if(r>=n.length)return void(o=i.dy`${o}${t}`);const s=n[r];if("number"!=typeof s&&!s)return;o=i.dy`${o}<strong>${s}</strong>`}else o=i.dy`${o}${t}`})),o}function o(t){let e={};const n=t.styles??[];for(const t of n)if("string"==typeof t){const n=t.match(/:host\s*{([^}]*)}/);if(!n)continue;const i=n[1].split(";");for(const t of i){const[n,i]=t.split(":").map((t=>t.trim()));null!=n&&n.startsWith("--")&&i&&(e[n]=i)}}else if("object"==typeof t){const n=o(t);e={...e,...n}}return e}},11606:function(t,e,n){n.r(e),n.d(e,{CommonSearchBoxEdgeNext:function(){return O},CommonSearchBoxEdgeNextStyles:function(){return K},CommonSearchBoxEdgeNextTemplate:function(){return V},ToolingInfo:function(){return Q}});var i=n(544);var r=n(77615),o=n(33940),s=n(25487),a=n(523),c=n(70041),u=n(81586),l=n(44132),d=n(24032),f=n(77137),h=n(96315),p=n(13218),m=n(98604),g=n(26197),v=n(242),w=n(43225),y=n(86117),b=n(79403),S=n(42122),x=n(51653),C=n(21215),k=n(99452),T=n(22745),$=n(82928),A=n(34839),I=n(26156),P=n(34254),_=n(17813),M=n(14969),R=n(10545),E=n(70970),F=n(94769);const D=["pc","pcmpc","ucpdpc","adppc"];class O extends x.l{constructor(){super(...arguments),this.enableSearchAutoSuggestion=!1,this.enableWarmBingUrl=!1,this.options=null,this.commonSearchBoxRef=null,this.inputElementHasInput=!1,this.currentInputValue="",this.searchVisible=!0,this.placeholderText="",this.searchIconTreatment=0,this.showBingLogo=!1,this.canShowCodexBingUpsellByPolicy=!1,this.canShowCodexBingButton=!1,this.outsideCodexButtonStyle=!1,this.outsideCodexBtnFullPageLayout=!1,this.isFeedDisabled=!1,this.isRuby=A.FI.isRuby,this.isVisionIconEnabled=!1,this.isDefaultSearchBing="0"!==(0,d.L)().get("dsp"),this.codexBingChatTelemetryTags="",this.visionIconTelemetryTags="",this.enableCodexBingIconStyles=!1,this.enableContextualSuggest=!1,this.enableSearchBtnOpenInNewTab=!1,this.enableTrendingSearchAPICall=!1,this.handleFocusEvent=()=>{this.fakeFocused=!0,this.searchboxApiHandle&&this.searchboxApiHandle.startCapturingKeyStrokes()},this.handleMouseDownEvent=t=>{this.commonSearchBoxRef&&this.commonSearchBoxRef!==t.target&&this.fakeFocused&&(this.fakeFocused=!1,this.searchboxApiHandle&&this.searchboxApiHandle.stopCapturingKeyStrokes())},this.onInputStart=()=>{this.fakeFocused&&(this.fakeFocused=!1,this.searchVisible=!1)},this.onInputCancel=()=>{this.searchVisible=!0},this.onKeyCaptureChange=()=>{this.searchboxApiHandle&&(this.fakeFocused=this.searchboxApiHandle.isKeyCaptureEnabled)},this.handInputEvent=t=>{const e=t.target.value;this.inputElementHasInput=!!e,this.currentInputValue=e},this.clickVisionIcon=()=>{var t,e;"function"==typeof(null===(t=window.chrome)||void 0===t||null===(t=t.edgeCopilotPrivate)||void 0===t?void 0:t.launchVision)&&(null===(e=window.chrome)||void 0===e||null===(e=e.edgeCopilotPrivate)||void 0===e||e.launchVision("NTPVIS"))}}placeholderTextChanged(t,e){e!==t&&(this.options=this.options&&{...this.options,localizedStrings:{...this.options.localizedStrings,placeholderText:this.placeholderText}})}experienceConnected(){var t,e,n,i,r;const o=null===(t=(0,$.K0)(a.RL))||void 0===t?void 0:t.getCurrentState();this.enableFocusRedirect=(null==o||null===(e=o.configData)||void 0===e?void 0:e.inPageSearchBoxType)===s.HT.redirect,this.isProjectEqual=null==o||null===(n=o.configData)||void 0===n?void 0:n.isEnrolledInProjectEqual,this.enableCodexBingIconStyles=!!this.config.showCodexBingIcon&&o&&"always"===o.selectedFeedDisplaySetting,this.enableContextualSuggest=!!this.config.enableContextualSuggest,this.config.enableOpenInNewTab&&(this.searchTarget=null!=o&&o.openInNewTab?"_blank":"_self"),this.config.searchIconTreatment&&!this.isRuby&&(this.searchIconTreatment=this.config.searchIconTreatment),this.enableSearchBtnOpenInNewTab=!!this.config.searchBtnOpenInNewTab&&!(null==o||!o.openInNewTab),this.canShowCodexBingUpsellByPolicy=!(0,f.Yq)().isAadAccountUser||((null==o?void 0:o.isCodexBingUpsellEnabledByPolicy)??!1),this.canShowCodexBingButton=!(null===(i=this.config.childExperienceReferencesWC)||void 0===i||!i.CodexBingChat)&&this.canShowCodexBingUpsellByPolicy;const c=window;if(c.chrome&&c.chrome.embeddedSearch&&(this.ntpApiHandle=c.chrome.embeddedSearch.newTabPage,this.searchboxApiHandle=c.chrome.embeddedSearch.searchBox),this.showBingLogo=!(this.isDefaultSearchBing||this.enableFocusRedirect||null!==(r=this.config)&&void 0!==r&&null!==(r=r.childExperienceReferencesWC)&&void 0!==r&&r.CodexBingChat),this.isDefaultSearchBing||(0,f.Yq)().CurrentMarket!==h.IY.ZHCN||(this.showBingLogo=!1),this.config.enableContextualSuggest&&this.config.trendingSearchConfig&&(this.config.trendingSearchOnlyInAlways?this.enableTrendingSearchAPICall="always"===o.selectedFeedDisplaySetting:this.enableTrendingSearchAPICall=["always","peek"].includes(o.selectedFeedDisplaySetting||"")),this.canShowCodexBingButton&&(this.codexBingChatTelemetryTags=(0,E.u)("headersearch").getMetadataTag()),this.populateCommonSearchBoxOptions(),this.setTelemetryPersonalizationParam(),this.detectLockscreenAndUpdateFormId(),(0,C.N)()&&window.searchFormSubmitListener&&window.requestAnimationFrame((()=>{var t;null!==(t=this.commonSearchBoxRef)&&void 0!==t&&t.formElement&&this.commonSearchBoxRef.formElement.removeEventListener("submit",window.searchFormSubmitListener)})),this.config.enableOpenInNewTab&&(0,T.Uo)(a.RL,(t=>{const e=t.openInNewTab?"_blank":"_self";this.searchTarget!==e&&(this.searchTarget=e,this.options=this.options&&{...this.options,target:this.searchTarget})})),this.config.searchBtnOpenInNewTab&&(0,T.Uo)(a.RL,(t=>{const e=t.openInNewTab;null!=e&&e!=this.enableSearchBtnOpenInNewTab&&(this.enableSearchBtnOpenInNewTab=e,this.options=this.options&&{...this.options,searchBtnOpenInNewTab:this.enableSearchBtnOpenInNewTab})})),this.config.outsideCodexButtonStyle&&this.canShowCodexBingButton&&!this.isRuby){const t=t=>{this.outsideCodexButtonStyle=!t||!!this.config.outsideCodexBtnFullPageLayout,this.outsideCodexBtnFullPageLayout=t&&this.config.outsideCodexBtnFullPageLayout};t("always"==(null==o?void 0:o.selectedFeedDisplaySetting)),(0,T.Uo)(a.RL,(e=>{t("always"==(null==e?void 0:e.selectedFeedDisplaySetting))}))}const l=this.isRuby&&this.config.enableVisionIconRuby||!this.isRuby&&!this.config.enableVisionIconRuby;this.config.visionIconInSearchBoxExp&&l&&(0,_.lr)().then((()=>this.isAPIEnabled().then((t=>{this.isVisionIconEnabled=!!this.config.enableVisionIconInSearchBox&&t,this.isVisionIconEnabled&&(this.visionIconTelemetryTags=(0,E.u)("headervisionsearch",u.wu.Launch,u.Aw.Click).getMetadataTag())}))))}shadowDomPopulated(){var t,e;if((0,C.N)()){const t=(0,v.Ou)();(0,w.c)((()=>{const e=t[y.nz+"SearchBox"],n=e&&void 0===t.isSSRAborted;this.markVisuallyReady(n?e:void 0,!n)})),(0,M.eC)().then((()=>(0,R.f)(63,p.Al.IsPrerender)))}else(0,b.hf)("SSR.SearchBoxRendered",(0,v.UE)());!this.config.enableClarity&&(0,f.Yq)().ClarityEnabled&&(this.options=this.options&&{...this.options,enableClarity:!0}),this.setPlaceholderText(),(0,m.FY)(g._.searchBox,this);const n=this.commonSearchBoxRef&&this.commonSearchBoxRef.shadowRoot&&(null===(t=(e=this.commonSearchBoxRef.shadowRoot).querySelector)||void 0===t?void 0:t.call(e,"#q"));n&&(this.inputElement=n,this.canShowCodexBingButton&&this.inputElement.addEventListener("input",this.handInputEvent),(0,m.FY)(g._.searchBoxInput,this.inputElement)),this.enableFocusRedirect?this.registerFocusRedirectHandler():this.config.enableDelayASAfterReveal?(0,_.lr)().then((()=>{this.enableSearchAutoSuggestion=!0})):this.enableSearchAutoSuggestion=!0,Promise.all([(0,P.F_)(),(0,_.lr)()]).then((()=>{this.enableWarmBingUrl=!0})).catch((()=>{S.k.logError("Failed to wait for ATF visually ready and reveal")}))}getExperienceType(){return c.zK8}isAPIEnabled(){return new Promise((t=>{var e,n;"function"==typeof(null===(e=window.chrome)||void 0===e||null===(e=e.edgeCopilotPrivate)||void 0===e?void 0:e.isVisionEnabledForUser)?null===(n=window.chrome)||void 0===n||null===(n=n.edgeCopilotPrivate)||void 0===n||n.isVisionEnabledForUser((e=>{l.M0.addOrUpdateTmplProperty("visionIconEligible"+(this.isRuby?"Ruby":""),e.toString()),t(e)})):(l.M0.addOrUpdateTmplProperty("visionIconEligible"+(this.isRuby?"Ruby":""),"undefined"),t(!1))}))}setPlaceholderText(){var t,e,n;if(!this.config.localizedStrings)return;const{placeholderText:i,copilotPlaceholderText:r,placeholderTextMSNntp:o,placeholderTextMSNntpv2:s,placeholderTextT1:c,placeholderTextT2:u,tenantMissingEnterprisePlaceholderText:l}=this.config.localizedStrings,d=null===(t=this.config)||void 0===t?void 0:t.enableCopilotCarryTerm,h=!(!0===(null===(e=this.config)||void 0===e?void 0:e.disableCCGhostText))&&this.canShowCodexBingUpsellByPolicy&&d;if(!(0,f.Yq)().isAadAccountUser||this.config.removeAADPlaceholder)return this.placeholderText=i,this.config&&h&&!this.isRuby&&(this.placeholderText=r),this.config&&!0===this.config.enableWebAPISuggetion&&this.config.enableMSNSuggestions&&(1===this.config.enableMSNSuggestions&&o?this.placeholderText=o:2===this.config.enableMSNSuggestions&&s&&(this.placeholderText=s)),void(1===this.config.placeholderTextTreatment&&c?this.placeholderText=c:2===this.config.placeholderTextTreatment&&u?this.placeholderText=u:3===this.config.placeholderTextTreatment&&(this.placeholderText=""));let p=!1;const m=null===(n=(0,$.K0)(a._S))||void 0===n?void 0:n.getCurrentState();m&&(p=!0,this.setEnterprisePlaceholderTextWithAdminSettings(m)),(0,T.Uo)(a._S,(t=>{p=!0,this.setEnterprisePlaceholderTextWithAdminSettings(t)})),p||(this.placeholderText=l)}setEnterprisePlaceholderTextWithAdminSettings(t){if(!this.config.localizedStrings)return;const{tenantMissingEnterprisePlaceholderText:e,tenantAvailableEnterprisePlaceholderText:n}=this.config.localizedStrings;if(this.placeholderText)return;if(!t.settingsDataRecieved)return;const{company:i,isMsbEnabled:r}=t.settings||{};this.placeholderText=r&&i?n.replace(/\{0\}/g,i):e}getFormParameters(){var t;const e={...this.config.additionalFormParamMap};e.refig=l.M0.getRequestId();const{formCodes:n}=this.config;e.form=this.isDefaultSearchBing?null==n?void 0:n.bingSearchEngine:null==n?void 0:n.nonBingSearchEngine,D.forEach((t=>{const n=(0,d.L)().get(t.toUpperCase())||(0,d.L)().get(t)||"";n&&(e[t]=n)}));const i=(0,I.IS)(),r=null==i||null===(t=i.enabled)||void 0===t||null===(t=t.find((t=>"msEdgePartnerCodeActive_AnyDesk"===t||"msEdgePartnerCodeActive_ExpTester"===t)))||void 0===t?void 0:t.replace("msEdgePartnerCodeActive_","");return r&&(e.EPC=r),e}detectLockscreenAndUpdateFormId(){if((0,f.Yq)().IsHeroNTP){var t,e,n;const i=(0,F.F$)()?null===(t=this.config)||void 0===t||null===(t=t.formCodes)||void 0===t?void 0:t.lockscreenWin11:null===(e=this.config)||void 0===e||null===(e=e.formCodes)||void 0===e?void 0:e.lockscreenWin10;i&&null!==(n=this.options)&&void 0!==n&&n.additionalFormParamMap&&(this.options.additionalFormParamMap.form=i)}}populateCommonSearchBoxOptions(){var t;this.options={...this.config,target:this.searchTarget,enableCodexBingIconStyles:this.enableCodexBingIconStyles,enableContextualSuggest:this.enableContextualSuggest,trendingSearchConfig:this.enableTrendingSearchAPICall?this.config.trendingSearchConfig:void 0,searchBtnOpenInNewTab:this.enableSearchBtnOpenInNewTab,localizedStrings:{...this.strings,placeholderText:this.placeholderText,inputTitle:null===(t=this.strings)||void 0===t?void 0:t.inputTitle},additionalFormParamMap:this.getFormParameters(),childExperienceReferencesWC:this.config.childExperienceReferencesWC}}registerFocusRedirectHandler(){this.ntpApiHandle&&(this.ntpApiHandle.oninputstart=this.onInputStart,this.ntpApiHandle.oninputcancel=this.onInputCancel,this.ntpApiHandle.isInputInProgress&&this.onInputStart()),this.searchboxApiHandle&&(this.searchboxApiHandle.onkeycapturechange=this.onKeyCaptureChange,this.fakeFocused=this.searchboxApiHandle.isKeyCaptureEnabled,this.searchboxApiHandle.isKeyCaptureEnabled&&this.searchboxApiHandle.startCapturingKeyStrokes()),this.commonSearchBoxRef&&this.commonSearchBoxRef.addEventListener("focus",this.handleFocusEvent),document.body.addEventListener("mousedown",this.handleMouseDownEvent)}setTelemetryPersonalizationParam(){const t={page:{has3PSearch:!this.isDefaultSearchBing,isSearchAB:this.enableFocusRedirect}};l.M0.updatePageMetadata(t)}clickBingIcon(){this.commonSearchBoxRef&&this.commonSearchBoxRef.onSubmit()}disconnectedCallback(){var t;(super.disconnectedCallback(),this.canShowCodexBingButton)&&(null===(t=this.inputElement)||void 0===t||t.removeEventListener("input",this.handInputEvent));this.enableFocusRedirect&&(this.commonSearchBoxRef&&this.commonSearchBoxRef.removeEventListener("focus",this.handleFocusEvent),document.body.removeEventListener("mousedown",this.handleMouseDownEvent))}}(0,o.gn)([k.LO],O.prototype,"enableSearchAutoSuggestion",void 0),(0,o.gn)([k.LO],O.prototype,"enableWarmBingUrl",void 0),(0,o.gn)([k.LO],O.prototype,"options",void 0),(0,o.gn)([k.LO],O.prototype,"inputElementHasInput",void 0),(0,o.gn)([k.LO],O.prototype,"currentInputValue",void 0),(0,o.gn)([k.LO],O.prototype,"fakeFocused",void 0),(0,o.gn)([k.LO],O.prototype,"searchVisible",void 0),(0,o.gn)([k.LO],O.prototype,"placeholderText",void 0),(0,o.gn)([k.LO],O.prototype,"searchIconTreatment",void 0),(0,o.gn)([k.LO],O.prototype,"showBingLogo",void 0),(0,o.gn)([k.LO],O.prototype,"canShowCodexBingUpsellByPolicy",void 0),(0,o.gn)([k.LO],O.prototype,"canShowCodexBingButton",void 0),(0,o.gn)([k.LO],O.prototype,"outsideCodexButtonStyle",void 0),(0,o.gn)([k.LO],O.prototype,"outsideCodexBtnFullPageLayout",void 0),(0,o.gn)([k.LO],O.prototype,"isFeedDisabled",void 0),(0,o.gn)([k.LO],O.prototype,"isRuby",void 0),(0,o.gn)([k.LO],O.prototype,"isVisionIconEnabled",void 0);var N=n(49218),U=n(41472),L=n(93703),B=n(49903);const W=N.dy`<div slot=${t=>t.config.searchButtonOnRight?"search-options-left":"search-options"} class="bing-logo-container"><fluent-button class="bing-logo-btn bing-logo-o" ${t=>t.config.searchButtonOnRight?"bing-logo-left":""}" part="button" title=${t=>t.strings&&t.strings.bingIconText} aria-label=${t=>t.strings&&t.strings.bingIconText} appearance="stealth" @click="${t=>t.clickBingIcon()}" @keypress="${t=>t.clickBingIcon()}" data-t="${t=>{var e;return null===(e=t.commonSearchBoxRef)||void 0===e?void 0:e.buttonTelemetryTag}}" data-customhandled="true"><img src=${()=>`${(0,f.Yq)().StaticsUrl}/latest/icons/BingLogo.svg`}></fluent-button></div>`,H=N.dy`<div slot="${t=>{var e;return!t.outsideCodexButtonStyle&&null!==(e=t.config)&&void 0!==e&&e.showCodexButtonInBox?"search-options":"codex-bing-chat"}}" data-t="${t=>t.codexBingChatTelemetryTags}" class="${t=>t.isRuby?"search-bing-chat-ruby":""}">${t=>{var e,n;return t.options&&(null===(e=t.options.childExperienceReferencesWC)||void 0===e?void 0:e.CodexBingChat)&&(0,B.Ot)(t.options.childExperienceReferencesWC.CodexBingChat,{properties:{showCodexButtonInBox:!t.outsideCodexButtonStyle&&(null===(n=t.config)||void 0===n?void 0:n.showCodexButtonInBox),outsideCodexButtonStyle:t.outsideCodexButtonStyle,outsideCodexBtnFullPageLayout:t.outsideCodexBtnFullPageLayout,target:t.searchTarget,isSearchBoxRuby:t.isRuby,searchValue:t.currentInputValue}})}}</div>`,z=N.dy`<div slot="search-options" class="vision-icon-container"><button class="vision-search-icon ${t=>t.isRuby?"ruby":""}" data-t="${t=>t.visionIconTelemetryTags}" aria-label=${t=>{var e;return null===(e=t.config.localizedStrings)||void 0===e?void 0:e.visionIconAltText}} title=${t=>{var e;return null===(e=t.config.localizedStrings)||void 0===e?void 0:e.visionIconAltText}} @click=${t=>t.clickVisionIcon()}></button></div>`,V=N.dy`<cs-common-search-box ${(0,U.i)("commonSearchBoxRef")} :isRuby=${t=>t.isRuby} :options=${t=>t.options} :enableAutoSuggestion=${t=>t.enableSearchAutoSuggestion} :enableWarmBingUrl=${t=>t.enableWarmBingUrl} :fakeFocused=${t=>t.fakeFocused} :disableSubmit=${t=>t.enableFocusRedirect} :isFeedDisabled=${t=>t.isFeedDisabled} :searchVisible=${t=>t.searchVisible} :placeholderColor=${t=>t.config.placeholderColor} :hoverFocusOutlineStyle=${t=>t.config.hoverFocusOutlineStyle} :hoverFocusDeeperShadowStyle=${t=>t.config.hoverFocusDeeperShadowStyle} :searchIconTreatment=${t=>t.searchIconTreatment} :searchIconColor=${t=>t.config.searchIconColor} :enableDimMask=${t=>t.enableSearchAutoSuggestion&&t.config.enableDimMask} :dimMaskOpacity=${t=>t.config.dimMaskOpacity} :enableConditionalSchBtn=${t=>t.config.enableConditionalSchBtn} :fixSpyGlassNewTabBehavior=${t=>t.config.fixSpyGlassNewTabBehavior} exportparts="root, searchcore" :usePageBreakpoints=${t=>!!t.config.usePageBreakpoints} :outsideCodexBtnFullPageLayout=${t=>t.outsideCodexBtnFullPageLayout} :enableAltBorder=${t=>t.config.enableAltBorder} :enableAltSearchBox=${t=>t.config.enableAltSearchBox} :enableAltSearchboxShadow=${t=>t.config.enableAltSearchboxShadow}>${(0,L.g)((t=>t.isVisionIconEnabled),z)} ${(0,L.g)((t=>t.canShowCodexBingButton&&(!t.inputElementHasInput||t.config.enableCopilotCarryTerm&&t.inputElementHasInput)),H)} ${(0,L.g)((t=>t.showBingLogo),W)}</cs-common-search-box>`;var j=n(78923),q=n(22674);const G=j.i`
.bing-logo-btn{border-radius:0 var(--search-box-radius) var(--search-box-radius) 0}`,J=j.i`
.bing-logo-btn{border-radius:var(--search-box-radius) 0 0 var(--search-box-radius)}`,K=j.i` :host{--mic-vision-icon:url(${`${(0,f.Yq)().StaticsUrl}latest/icons/MicIconLight.svg`})}.bing-logo-btn{height:46px;background:transparent;padding:0;border:none}.bing-logo-o::part(control){padding-inline-end:11px}.bing-logo-left::part(control){padding-inline-end:0px}.bing-logo-btn > img{margin:12px 2px;height:22px;width:22px;vertical-align:bottom}.search-bing-chat-ruby codex-bing-chat::part(cbb-container){height:48px;border:unset !important;background:unset !important}.search-bing-chat-ruby codex-bing-chat::part(cbb-icon){width:28px;height:28px}.vision-icon-container{height:100%;display:grid;align-items:center;margin-inline-end:8px}.vision-search-icon{cursor:pointer;width:36px;height:36px;border:none;outline:none;background:transparent;border-radius:9px;display:grid;justify-content:center;align-items:center}.vision-search-icon::after{content:"";background-size:contain;background-image:var(--mic-vision-icon);width:24px;height:24px}.vision-search-icon:hover{background:rgba(0,0,0,0.04)}.vision-search-icon:active{background:rgba(0,0,0,0.12)}@media (prefers-color-scheme:dark){.vision-search-icon.ruby::after{background-image:url(${`${(0,f.Yq)().StaticsUrl}latest/icons/MicIconDark.svg`});
        }
    }
`.withBehaviors(new q.O(G,J)),Q={experienceConfigSchema:undefined};i.il.define(r.s.registry)},77229:function(t,e,n){n.r(e),n.d(e,{EntryPointHpWC:function(){return vt},EntryPointHpWCBackgroundColor:function(){return Q},EntryPointHpWCStyles:function(){return ct},EntryPointHpWCTemplate:function(){return oe},NewEntryPointHpWCBackgroundColor:function(){return X},RubySideGutterSize:function(){return K},ToolingInfo:function(){return ae},commonStyles:function(){return it},fetchAndStoreMainFeed:function(){return ft.FT},getGlobalStyles:function(){return st},getviewType:function(){return wt},heroContentStyles:function(){return nt},isFollowingPageByUrl:function(){return ft.JD},isMyFeedPageByUrl:function(){return ft.yp},isPageWithFeedDep:function(){return ft.bF},isPersonalizePageByUrl:function(){return ft.Rc}});var i=n(33940),r=n(74604),o=n(72263),s=n(523),a=n(70041),c=n(44132),u=n(77137),l=n(99147),d=n(5302),f=n(33779),h=n(86117),p=n(242),m=n(23946),g=n(65685),v=n(32257);const w="entry-point-hp-wc-header",y=`#${w}`;var b;!function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom"}(b||(b={}));class S{constructor(t,e,n){this.layoutChangeSubscriptions=[],this.updateBannerState=(t,e)=>{this.setupElements();const n=this.entryPointShadowRoot.querySelector(`#entry-point-hp-wc-banner-${t.bannerItemConfig.childExperienceConfigInfo.instanceId}`);if(!n||!this.headerContainerElement||!this.bannerContainerElement)return;const i=e?t.bannerItemConfig.metadata.height:"0px";this.headerContainerElement.style.top=i,this.entryPointContainerElement.style.marginTop=i,this.bannerContainerElement.style.maxHeight=i,e&&(n.style.display="block"),n.style.maxHeight=i,this.handleLayoutChange({bannerHeightWithUnit:i}),e||window.setTimeout((()=>n.style.display="none"),500)},this.entryPointShadowRoot=t,this.banners=e||[],this.pendingQueue=[],this.enableLayoutSubscription=n}getBannerChildExperienceConfigInfoList(){return this.banners.map((t=>t.childExperienceConfigInfo))}getShowBannerFunction(){return(t,e,n)=>{const i=this.getBannerItemById(t);if(!i)return;const r={bannerItemConfig:i,placement:e,callback:n};this.currentBanner?(this.pendingQueue.push(r),this.sortPendingQueueByPriority()):(this.currentBanner=r,this.updateBannerState(r,!0)),n&&"function"==typeof n&&n()}}getHideBannerFunction(){return(t,e)=>{var n;if(this.getBannerItemById(t)){if((null===(n=this.currentBanner)||void 0===n||null===(n=n.bannerItemConfig)||void 0===n||null===(n=n.childExperienceConfigInfo)||void 0===n?void 0:n.instanceId)===t)this.updateBannerState(this.currentBanner,!1),this.currentBanner=void 0,this.showNextPendingBanner();else if(this.pendingQueue.length){const e=this.pendingQueue.findIndex((e=>e.bannerItemConfig.childExperienceConfigInfo.instanceId===t));e>=0&&(this.pendingQueue.splice(e,1),this.sortPendingQueueByPriority())}e&&"function"==typeof e&&e()}}}showNextPendingBanner(){this.pendingQueue&&this.pendingQueue.length&&(this.currentBanner=this.pendingQueue.shift(),this.updateBannerState(this.currentBanner,!0))}subscribeLayoutChange(t){this.enableLayoutSubscription&&this.layoutChangeSubscriptions.push(t)}dispose(){this.enableLayoutSubscription&&(this.layoutChangeSubscriptions=[])}handleLayoutChange(t){if(!this.enableLayoutSubscription)return;const e=parseInt(t.bannerHeightWithUnit,10);isNaN(e)||this.layoutChangeSubscriptions.forEach((t=>t({bannerHeight:e})))}sortPendingQueueByPriority(){this.pendingQueue.sort(((t,e)=>t.bannerItemConfig.metadata.priority>e.bannerItemConfig.metadata.priority?1:t.bannerItemConfig.metadata.priority<e.bannerItemConfig.metadata.priority?-1:0))}getBannerItemById(t){for(const e of this.banners)if(e.childExperienceConfigInfo.instanceId===t)return e;return null}setupElements(){this.bannerContainerElement||(this.bannerContainerElement=this.entryPointShadowRoot.querySelector("#entry-point-hp-wc-banner")),this.headerContainerElement||(this.headerContainerElement=this.entryPointShadowRoot.querySelector(y)),this.entryPointContainerElement||(this.entryPointContainerElement=this.entryPointShadowRoot.querySelector("#entry-point-hp-wc-root-wrapper"))}}var x=n(81586),C=n(51653),k=n(21215),T=n(99452),$=n(12031),A=n(16614),I=n(37802),P=n(52965),_=n(82928),M=n(34254),R=n(15598),E=n(37955),F=n(8830),D=n(52211),O=n(22735);async function N(t){if(!window.navigator.cookieEnabled||"ru-ru"===u.jG.CurrentMarket)return;await(0,D.rr)();let e="";try{e=await async function(){var t;const e=await F.N.getPdpUserPreference(!0,void 0,void 0,"market-consolidation");if(!e||!e.value||0===e.value.length)return"";const n=e.value[0];if(!n)return"";return(null===(t=n.userSettings)||void 0===t?void 0:t.preferredMarket)??""}()}catch{return void(0,f.H)(d.Xa2,"There was an error getting preferredMarket from PDP services.")}const n=function(){let t="";const e=(0,O.TU)(),n=(0,E.ej)(e);if(!n)return"";if("homePage"===u.jG.AppType)return n;const i=JSON.parse(n);i&&i.m&&(t=i.m);return t}();"edgeChromium"!=u.jG.AppType&&(t=O.r4);let i=!1,r="";if(r=(0,R.$o)().getItem("marketConsolidationTmpl"),e)n?e!==n?(r=`MarketConsolidationSync_Mismatch_${e}_${n}`,t(e),(0,R.$o)().setObject("showMarketRoamingCoachmark",!0),i=!0,(0,f.H)(d.i05,`Market missmatch. Server market: ${e}, Client market: ${n}`)):e!==n||r||(r="MarketConsolidationSync_Match",i=!0):(r="MarketConsolidationSync_Client_"+e,t(e),i=!0);else if(n){i=!0;await F.N.updateMarketPreference(n)?r="MarketConsolidationSync_Server_"+n:(i=!1,(0,f.H)(d.CTH,"PDP Service failed to update market preference from MarketConsolidation",`market: ${n}`))}r&&(0,R.$o)().setItem("marketConsolidationTmpl",r),(i||r)&&(c.M0.addOrUpdateTmplProperty("MarketConsolidationSync",i?"1":"0"),c.M0.addOrUpdateTmplProperty(r,"1"))}var U=n(83176),L=n(99071),B=n(35343),W=n(20850);let H=!1;var z=n(70970),V=n(18688),j=n(78923),q=n(81239),G=n(42166),J=(n(2605),n(62776));const K="108",Q={BODY:"#d5d4d0",MAIN:"#F4F4F2",LIGHT:"#F7F7F7"},X={LIGHT:"#F4F4F2",DARK:"#242424"},Y="0.5s",Z=306,tt=300,et=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e?12:16,i=e?tt:Z;return(0,G.a)(i*t+n*(t-1))},nt={base:{kGNEyG:"x6s0dn4",k1xSpc:"x78zum5",kXwgrk:"xdt5ytf",kAzted:"x65nank",kXHlph:"x101abm8",kVAEAm:"x1n2onr6",kmkexE:"x6nxxya",kzIqYQ:null,kIr0Dl:null,kIyJzY:null,k1ekBW:null,kAMwcw:null,kC7eKd:"x11k533r",ku1ltF:null,kHypHr:null,kWkggS:null,kKwaWg:null,kl9DO0:null,k1YJky:null,kDwdnV:null,kAiEkY:null,kz484i:null,kgSjnq:null,kogj98:"xoiktbp",kUOVxO:null,keTefX:null,koQZXg:null,k71WvV:null,km5ZXQ:null,kqGvvJ:null,keoZOQ:null,k1K539:null,kZKoxP:"x1je3nrv",kY2c9j:"x1vjfegm",kaIpWk:"x4pepcl",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,$$css:!0}},it={nurturingBannerContainer:{kZKoxP:"xdi48bf",ktR8K2:"x6wvzqs",kVAEAm:"x7wzq59",k87sOh:"x13vifvy",kzqmXN:"xh8yej3",kY2c9j:"x1pddxg8",$$css:!0},homepageBanner:{kskxy:"xnjgh8c",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kIyJzY:"x1wsgiic",k1xSpc:"x1s85apg",$$css:!0},stripeContainer:{kzqmXN:"xh8yej3",kB7OPa:"x9f619",kUk6DE:"x98rzlu",kzQI83:null,kmuXW:null,kCS8Yb:null,$$css:!0},stickyRail:{kVAEAm:"x7wzq59",k87sOh:"x1p8f6f7",k1xSpc:"xrvj5dj",kumcoG:"x1y6fwsi",k9llMU:"x1rmbzdt",$$css:!0},displayAdsContainer:{k1xSpc:"x78zum5",kjj79g:"xl56j7k",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kZKoxP:"xt7dq6l",kVAEAm:"x1n2onr6",$$css:!0},breakingNewsContainer:{k1xSpc:"x1lliihq",kzqmXN:"xh8yej3",kB7OPa:"x9f619",$$css:!0},bannerContainer:{kskxy:"xnjgh8c",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kVAEAm:"xixxii4",kzqmXN:"xh8yej3",k87sOh:"x13vifvy",kIyJzY:"x1wsgiic",kY2c9j:"x11uqc5h",$$css:!0},footerContainer:{k1xSpc:"x78zum5",kjj79g:"xl56j7k",kzqmXN:"xh8yej3",kZKoxP:"xd7y6wv",kVAEAm:"xixxii4",krVfgx:"x1ey2m1c",kbCHJM:"xu96u03",kLqNvP:null,kt4wiu:null,kY2c9j:"x11uqc5h",$$css:!0},superNavContainer:{k1xSpc:"xrvj5dj",kumcoG:"x1kawlos",kzqmXN:"xh8yej3",kAzted:"x12zfxbx",kGO01o:"xsag5q8",$$css:!0},chromeWaterfallBox:{k1xSpc:"x78zum5",kOIVth:"x883omv",khm7nJ:null,k1C7PZ:null,kZKoxP:"x1s1d1n7",$$css:!0}},rt="#entry-point-hp-wc-root-wrapper:not(.ntp-feed)",ot=j.i`
.content-with-rail{display:grid;gap:${(0,G.a)(16)}}@media (min-width:1800px){${rt} .content-with-rail{grid-template-columns:${et(4)} ${(0,G.a)(Z)}}}@media (min-width:1325px) and (max-width:1799px){${rt} .content-with-rail{grid-template-columns:${et(3)} ${(0,G.a)(Z)}}}@media (min-width:995px) and (max-width:1324px){${rt} .content-with-rail{grid-template-columns:${et(2)} ${(0,G.a)(Z)}}}@media (max-width:994px){${rt} .content-with-rail{grid-template-columns:1fr}${rt} .rail-container{display:none}}@media (max-width:955px){.ntp-feed .content-with-rail{grid-template-columns:1fr}.ntp-feed .rail-container{display:none}}`,st=()=>` @font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Light vi Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-Light-WF-subset_vi.woff2) format('woff2');font-weight:100;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Semilight vi Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-Semilight-WF-subset_vi.woff2) format('woff2');font-weight:200;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI vi Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-WF-subset_vi.woff2) format('woff2');font-weight:400;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Semibold vi Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-Semibold-WF-subset_vi.woff2) format('woff2');font-weight:600;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Bold vi Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-Bold-WF-subset_vi.woff2) format('woff2');font-weight:700;font-display:swap;unicode-range:U+00F0,U+00FE,U+0102,U+0103,U+0110,U+0111,U+0129,U+0169,U+01AF,U+01B0,U+1EA0-U+1EF9,U+20AB}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Light Eastern Europe Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-Light-WF-subset_east-europe.woff2) format('woff2');font-weight:100;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Semilight Eastern Europe Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-Semilight-WF-subset_east-europe.woff2) format('woff2');font-weight:200;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Eastern Europe Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-WF-subset_east-europe.woff2) format('woff2');font-weight:400;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Semibold Eastern Europe Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-Semibold-WF-subset_east-europe.woff2) format('woff2');font-weight:600;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI Midlevel;font-style:normal;src:local(Segoe UI Bold Eastern Europe Subset),url(${(0,u.Yq)().AssetsUrl}/statics/fonts/Segoe-UI-Bold-WF-subset_east-europe.woff2) format('woff2');font-weight:700;font-display:swap;unicode-range:U+0104,U+0106,U+0107,U+0105,U+0118,U+0119,U+0141,U+0142,U+015A,U+015B,U+0179,U+017A,U+017B,U+017C}@font-face{font-family:Segoe UI;font-style:normal;src:url(${(0,u.Yq)().AssetsUrl}/statics/fonts/SegoeUI-Roman-VF-subset_web.woff2) format('woff2');font-weight:100 900;font-display:swap}body,html{margin:0;font-family:Segoe UI,Segoe UI Midlevel,Segoe WP,Arial,sans-serif;background:${Q.BODY}}body,html,fluent-design-system-provider{min-height:100vh}`+" @media (prefers-color-scheme:dark){body,html{background:none}}",at=j.i` :host,.wrapper,.common-header,.dummy-header-container,.header-container{background:${Q.LIGHT};
    }
`,ct=j.i`
:host{display:block;background:${Q.BODY};min-height:100vh;--color-neutral-stroke-2:#e0e0e0;--color-neutral-stroke-3:#f0f0f0}.feed-view{--hp-feed-view-gap:16px;position:relative;top:10px;}.limited-width{max-width:1600px}@media (min-width:1800px){.limited-width.fifth-column{max-width:1922px}}.wrapper{display:flex;flex-flow:column;align-items:center;margin:0 auto 20px;position:relative;background:${Q.MAIN};
        transition-duration: ${Y};min-height:100vh;overflow-x:clip}.header-outer-wrapper{display:flex;width:100%;position:fixed;top:0;align-items:center;justify-content:center;z-index:${"100"};
        transition-duration: ${Y}}.common-header{position:sticky;top:0;margin:0 auto;background-color:${Q.MAIN};
        z-index: ${"100"};
        transition-duration: ${Y}}.dummy-header-container{display:flex;background:${Q.MAIN};
        box-sizing: border-box;
        align-items: start;
        justify-content: center;
        padding: 0;
        position: relative;
        top: 0;
        transition-duration: ${Y};
        z-index: 0;
        height: ${"108"}px;margin:0 auto}.header-container{display:flex;background:${Q.MAIN};
        box-sizing: border-box;
        align-items: start;
        position: relative;
        justify-content: center;
        padding: 0;
        width: 100%;
        height: ${"108"}px}.header-container:before,.header-container:after,.common-header:before,.common-header:after{content:'';display:block;height:calc(100vh + 500px);position:absolute;top:-500px;width:1.2rem}.header-container.content-shadow-box:before,.common-header.content-shadow-box:before{background:linear-gradient(to right,rgba(255,255,255,0),rgba(0,0,0,.1));left:-20px}.header-container.content-shadow-box:after,.common-header.content-shadow-box:after{background:linear-gradient(to left,rgba(255,255,255,0),rgba(0,0,0,.1));right:-20px}.header-shadow-box{box-shadow:rgb(0 0 0 / 10%) 0px 3px 3px}.header-wrapper{align-self:center;width:616px}.content-container{display:flex;flex-flow:column;flex:1;width:629px;max-width:100%}.me-stripe-container{width:100%;box-sizing:border-box;margin-bottom:${"3"}px}.me-stripe-placeholder{height:91px;width:100%;margin-bottom:${"3"}px}.me-stripe-placeholder.compact{height:70px}.me-stripe-placeholder.compact .placeholder-wrapper{height:70px}.placeholder-wrapper{display:flex;align-items:center;overflow:hidden;height:86px;margin-bottom:4px}.shimmer{height:100%;width:100%;border-radius:4px;background:linear-gradient(to right,var(--color-neutral-stroke-2) 40%,var(--color-neutral-stroke-3) 50%,var(--color-neutral-stroke-2) 60%);background-position-x:100%;background-size:300%;animation:shimmereffect 1s infinite linear}@keyframes shimmereffect{to{background-position-x:0%}}.topnav-placeholder{height:33px;width:100%;margin-bottom:3px}.topnav-placeholder.supernav-placeholder{padding-bottom:12px;margin-bottom:0}.topnav-placeholder .topnav-placeholder-container{height:33px;display:flex;align-item:center;overflow:hidden}.ad-banner-wrapper{min-height:112px}.feed-view .ad-banner-wrapper{margin-bottom:calc(var(--hp-feed-view-gap) - 6px);}.ad-banner-placeholder{height:100px;display:flex;align-items:center;justify-content:center;margin:0 auto}${ot} .hybrid-feed{--override-card-base-gap:${16..toString()};
        --override-card-width: ${(0,G.a)(Z)};
        --override-card-wide-width: ${(0,G.a)(628)}}display-ads{position:relative;transform-origin:top}.recommended-sites-container{display:block;width:100%;box-sizing:border-box;--recommended-sites-sponsored-label-color:#666;--recommended-sites-margin-top:0px;--recommended-sites-item-padding-top:14px;--recommended-sites-msn-dark-mode:#fff;--recommended-sites-msn-dark-blue:#0078d4;--recommended-sites-msn-dark-red:#d83b01;--recommended-sites-msn-dark-green:#107c10}breaking-news-wc::part(breaking-news){text-align:left;min-height:44px;padding:0 16px}.gray-scale{filter:grayscale(1)}.gray-scale-with-ofhidden{filter:grayscale(1);overflow:hidden}.chrome-ext-container{display:flex;width:442px}.chrome-waterfall-container{width:${(0,G.a)(416)}}.chrome-waterfall-container super-nav{margin-inline-end:10px}@media (max-width:926px){recommended-sites::part(list){max-height:228px;overflow:hidden}}@media (max-width:994px){.dummy-header-container{height:${"163"}px}.header-container{height:${"163"}px}.header-wrapper{width:629px}}@media (min-width:995px){.content-container{width:951px}.header-wrapper{width:990px}.chrome-ext-container{width:765px}}@media (min-width:1325px){.content-container{width:1272px}.header-wrapper{width:1320px}.header-container.limited-width{width:1600px}.chrome-ext-container{width:100%}}.content-container.ntp-feed .me-stripe-placeholder.compact{margin:2px auto 12px}.feed-view .content-container.ntp-feed .me-stripe-placeholder.compact{margin:0 auto calc(var(--hp-feed-view-gap) - 1px);}.content-container.ntp-feed recommended-sites::part(recommended-sites){width:100%}@media (max-width:332px){:host{--feed-width:302}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:302px}}@media (min-width:332px) and (max-width:643px){:host{--feed-width:302}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:302px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:343px}}@media (min-width:644px) and (max-width:955px){:host{--feed-width:614}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:614px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:400px}}@media (min-width:956px) and (max-width:1267px){:host{--feed-width:926}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:926px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:568px}.ntp-feed .content-with-rail{grid-template-columns:${et(2,!0)} ${(0,G.a)(tt)}}.chrome-waterfall-container{width:${(0,G.a)(728)}}}@media (min-width:1268px) and (max-width:1579px){:host{--feed-width:1238}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:1238px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:760px}.ntp-feed .content-with-rail{grid-template-columns:${et(3,!0)} ${(0,G.a)(tt)}}.chrome-waterfall-container{width:${(0,G.a)(1040)}}}@media (min-width:1580px){:host{--feed-width:1548}.content-container.ntp-feed,.header-wrapper.ntp-feed{width:1548px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:760px}.ntp-feed .content-with-rail{grid-template-columns:${et(4,!0)} ${(0,G.a)(tt)};
            gap: ${(0,G.a)(12)}}.chrome-waterfall-container{width:${(0,G.a)(1350)}}}@media (min-width:1800px){.content-container.fifth-column,.header-wrapper.fifth-column{width:1922px}:host{--feed-width:1548}.content-container.fifth-column.ntp-feed{width:1548px}.content-container.ntp-feed .me-stripe-placeholder.compact,.ad-banner-placeholder{width:760px}.ntp-feed .content-with-rail{grid-template-columns:${et(4,!0)} ${(0,G.a)(tt)};
            gap: ${(0,G.a)(12)}}.header-container.limited-width.fifth-column{width:1922px}}@media (max-width:650px){.header-wrapper{width:100%}}@media (max-width:650px) and (min-resolution:4dppx){.header-outer-wrapper{position:initial}.dummy-header-container{display:none}.banner-container{position:relative}}@media (prefers-color-scheme:dark){${" :host{--color-neutral-stroke-2:#525252;--color-neutral-stroke-3:#3d3d3d}:host,.wrapper,.common-header,.dummy-header-container,.header-container{background:var(--fill-color) !important}.recommended-sites-container{--recommended-sites-msn-dark-mode:#2b2b2b}.static-skeleton .me-stripe-skeleton{background:#333333}.dynamic-skeleton .me-stripe-skeleton{background:linear-gradient(90deg,#333333 25%,#404040 50%,#333333 75%)}"}
    }
`.withBehaviors(new J.Yd,new q.w("alignBgColor",!0,at));var ut;!function(t){t.Initialization="@common-events/initialization",t.Connection="@common-events/connection"}(ut||(ut={}));class lt extends V.cg{addFavIconLinkTag(){var t;if(null!==(t=this.target.config)&&void 0!==t&&t.favIconOverrideUrl&&(0,k.N)()){const t=document.createElement("link");t.setAttribute("rel","icon"),t.setAttribute("href",this.target.config.favIconOverrideUrl),t.setAttribute("type","image/x-icon"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("sizes","32x32"),document.querySelector("head").appendChild(t)}}applyGlobalStyles(){if((0,k.N)()&&!window.isSSREnabled){const t=document.createElement("style");t.innerHTML=st(),window.document.head.appendChild(t)}}dispatch(t){switch(t){case ut.Initialization:this.applyGlobalStyles();break;case ut.Connection:this.addFavIconLinkTag()}}}var dt=n(9279),ft=n(95708);const ht=(0,U.AF)("feedManager",(()=>Promise.all([n.e("libs_windows-widget-shared_dist_BoardsHelper_js-libs_windows-widget-shared_dist_WidgetMappings_js"),n.e("libs_weather-common-utils_dist_data_FeedWeatherDataUtils_js"),n.e("experiences_card-action-wc_dist_CardActionWC_constants_js-libs_feed-layout-common_dist_Conten-ffd904"),n.e("libs_sports-data-service_dist_SportsDataMapper_js"),n.e("libs_contextual-feedback-manager_dist_ContextualFeedbackController_js-libs_feed-layout-common-db7bdd"),n.e("libs_feed-layout_dist_card-templates_hide-story-card_templates_HideStoryAdFeedbackConfirmatio-9d0d8d"),n.e("nas-highlight-v1"),n.e("libs_ad-service_dist_CookieSyncService_js-libs_card-overlap-monitor_dist_CardOverlapMonitor_j-5605a5"),n.e("cs-core-desktop_libs_dist_feed_feed-type_js-libs_feed-layout-common_dist_ad-card-dts_utils_js-d7af1f"),n.e("libs_chromium-page-settings_dist_ChromiumPageSettingsHelper_js-libs_edgechromium-wpo-promotio-9b1e82"),n.e("getFeedManager")]).then(n.bind(n,85713)).then((t=>t)))),pt=(0,U.AF)("widgetsFeedManager",(()=>Promise.all([n.e("libs_windows-widget-shared_dist_BoardsHelper_js-libs_windows-widget-shared_dist_WidgetMappings_js"),n.e("experiences_card-action-wc_dist_CardActionWC_constants_js-libs_feed-layout-common_dist_Conten-ffd904"),n.e("libs_sports-data-service_dist_SportsDataMapper_js"),n.e("libs_contextual-feedback-manager_dist_ContextualFeedbackController_js-libs_feed-layout-common-db7bdd"),n.e("libs_feed-layout_dist_card-templates_hide-story-card_templates_HideStoryAdFeedbackConfirmatio-9d0d8d"),n.e("nas-highlight-v1"),n.e("libs_ad-service_dist_CookieSyncService_js-libs_card-overlap-monitor_dist_CardOverlapMonitor_j-5605a5"),n.e("cs-core-desktop_libs_dist_feed_feed-type_js-libs_feed-layout-common_dist_ad-card-dts_utils_js-d7af1f"),n.e("libs_chromium-page-settings_dist_ChromiumPageSettingsHelper_js-libs_edgechromium-wpo-promotio-9b1e82"),n.e("experiences_entry-point-hp-wc_dist_lazy-loadings_widgetsFeedManager_js-libs_datetime-util_dis-a4206a")]).then(n.bind(n,67131)).then((t=>t.FeedManagerForNtpWidgets)))),mt=(0,U.AF)("layoutTemplates",(()=>n.e("feedDependencies").then(n.bind(n,73310)).then((t=>t.AnaheimLayoutTemplateMap)))),gt=(0,U.AF)("widgetLayoutTemplates",(()=>n.e("experiences_entry-point-hp-wc_dist_lazy-loadings_widgetLayoutTemplateMaps_js").then(n.bind(n,54627)).then((t=>t.AnaheimWidgetsLayoutTemplateMap))));class vt extends C.l{constructor(){var t;super(),t=this,this.alignBgColor=!1,this.topStickyHeight=68,this.shouldHeaderShowShadow=!1,this.isFeedReady=!1,this.stripeEndCardCount=0,this.outUpdateBreakpoint=this.updateBreakpoint.bind(this),this.overriddenFeedConfig=null,this.isFirstRouteTrigger=!0,this.showHeroAboveNav=!1,this.isShowHero=!1,this.disableFeed=!1,this.headerHeroTelemetryObject=(0,z.V)("WaterfallViewFeed",{type:x.c9.Module}),this.isShowHeroChanged=()=>{var t;(0,k.N)()&&this.isShowHero&&null!==(t=this.childExperienceConfigInfo)&&void 0!==t&&t.meStripeConfigInfo&&window.requestAnimationFrame((()=>{window.scrollBy(0,95)}))},this.setOverriddenFeedConfig=t=>{this.overriddenFeedConfig={...t}},this.switchListenerCallback=t=>{var e;const{id:n,renderInfo:i}=t;null!=i&&null!==(e=i.experienceConfigRef)&&void 0!==e&&e.configRef&&this.startContentLoad(null==i?void 0:i.experienceConfigRef,void 0,n)},this.outRouteChange=async t=>{var e,n;const{id:i,renderInfo:r,dynamicContext:o={}}=t.detail;if("myFeed"===i&&null!==(e=this.initProps)&&void 0!==e&&null!==(e=e.feedView)&&void 0!==e&&e.shouldReturnToClassic)return void window.location.reload();this.isShowHero=u.jG.IsHeroNTP&&(0,ft.yp)(),this.disableFeed=(0,ft.bF)()&&this.config.disableFeed,this.showHeroAboveNav=u.jG.IsHeroNTP&&this.config.showHeroAboveNav&&(null===(n=this.config.childExperienceConfigInfo)||void 0===n?void 0:n.widgetsRegion)&&(0,ft.yp)(),this.isFirstRouteTrigger?this.isFirstRouteTrigger=!1:this.switchListenerCallback(t.detail),this.isInterestPage=i.includes("myInterests"),this.isFollowingPage=i.includes("following");const s={configRef:{...r.experienceConfigRef.configRef},instanceId:i};(0,A.Z)(this.contentConfigInfo,s)||(this.contentConfigInfo=s,this.properties={isHeroShownOnHeader:this.showHeroAboveNav,context:{...r.context,...o}},this.isInterestPage&&(this.properties.topStickyHeight=this.topStickyHeight))},this.beforeHydration=()=>{this.hpTtvrFired=!0,this.contentConfigInfo={configRef:{experienceType:"WaterfallViewFeed",instanceSrc:"default"},instanceId:"myFeed"},super.beforeHydration()},this.getExperienceConfigInfo=function(t){return{instanceId:t,configRef:{experienceType:arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,instanceSrc:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default"}}},this.hasFeedSwitch=()=>{var t,e;return(null===(t=this.initProps)||void 0===t?void 0:t.feedView)&&(null===(e=this.config.childExperienceConfigInfo)||void 0===e?void 0:e.feedSwitchConfigInfo)},this.getHomepageViewSettings=()=>this.hasFeedSwitch()&&this.supportsFeedViewSettings?{isClassicView:!this.config.enableWaterfallViewFeed||this.initProps.feedView.shouldReturnToClassic,onHomepageViewSettingsChange:this.initProps.feedView.switch,strings:{title:this.strings.settingsFeedSwitchLabel,toggleOff:this.strings.settingsFeedSwitchOff,toggleOn:this.strings.settingsFeedSwitchOn}}:null,this.onFeedSwitchBannerToggle=t=>{var e;null===(e=this.initProps)||void 0===e||e.feedView.onBannerToggle(t),this.supportsFeedViewSettings&&!this.config.enableWaterfallViewFeed&&window.dispatchEvent(new CustomEvent("homepage-view-settings-focus"))},this.onColumnArragementChange=t=>{var e;t&&(t!==this.columnArrangement&&(this.columnArrangement=t,c.M0.updatePageMetadata({page:{viewType:wt(t)}},!0),null!==(e=this.config)&&void 0!==e&&e.enableChromeExtensionNav&&this.updateChromeExtensionNav()))},this.updateChromeExtensionNav=()=>{this.showChromeExtensionNav=this.shouldRenderChromeExtensionNav},this.onStripeFeedEndCb=t=>{this.stripeEndCardCount=t.cardCount+1},this.openChannelStore=t=>{this.renderChannelStoreEvent=t,window.removeEventListener("launchChannelStore",this.openChannelStore)},this.headerScrollEventHanlder=(0,I.Z)((()=>{0===window.scrollY?this.shouldHeaderShowShadow=!1:this.shouldHeaderShowShadow=!0}),100),this.initFeedDependencies=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n&&(t.widgetsRegionDependencyPromise=Promise.all([pt(),ht(),gt()]).then((t=>{let[e,{getSharedTelemetryLegacyCardMappers:n},i]=t;const r=new e(n());return r.setPrerenderFeedCallDisabled(!0),{feedManager:r,layoutTemplateMap:i}}))),t.getFeedDependencyPromise=Promise.all([ht(),n?mt():void 0]).then((t=>{let[{FeedManagerWithClientAd:e,getSharedTelemetryLegacyCardMappers:n},i]=t;return{feedManager:new e(n()),importLayoutTemplateMap:mt,layoutTemplateMap:i}})),t.getFeedDependencyPromise.catch((t=>{const n={...d.dp6.pb,stack:t.stack};(0,f.H)(d.dp6,`Failed to load feedDependencies bundle for ${e}. ${t.message||""}`,void 0,n)})),t.isFeedReady=!0},this.behaviors=[new lt(this)],this.dispatch(ut.Initialization)}dispatch(t){this.behaviors.forEach((e=>e.dispatch(t,this.$fastController.context)))}async startContentLoad(t,e,i){if(c.M0.addOrUpdateTmplProperty("fl","3"),(0,k.N)()&&this.config.enableChannelFiltering){const{followingExperienceManager:e}=await n.e("libs_following-experience-manager_dist_index_js").then(n.bind(n,78316));if(null==e||!e.overrideFeedConfig){const{properties:n}=(0,P.Z)(await l.U.getConfig(t.configRef)||{});n&&e.setFeedConfigOverrider((t=>this.setOverriddenFeedConfig(t(n))))}this.overriddenFeedConfig=null}e||(0,W.Fg)(t),this.showHeroAboveNav?this.initFeedDependencies(i,!0):this.initFeedDependencies(i),this.contentConfigInfo=t}initListeners(){window.addEventListener("nav-switch",this.outRouteChange)}updateBreakpoint(t){const{detail:e}=t,[n]=null==e?void 0:e.rootMargin.split(" "),i=Number(null==n?void 0:n.slice(1,(null==n?void 0:n.length)-2));this.topStickyHeight=i}async experienceConnected(){var t,e,i;if(this.config.showHeroAboveNav&&!this.config.supportHeroAboveNav&&(0,ft.yp)()){var o;const t="undefined"!=typeof window&&null!==(o=window.location)&&void 0!==o&&o.href?new URL(window.location.href):null;if(t){const e=t.searchParams.get("cm");t.search="",t.searchParams.set("ocid","windirect"),null!=e&&""!==e&&t.searchParams.set("cm",e),window.location.href=t.toString()}else(0,f.H)(d.B7i,"window.location.href is not available for redirect.")}this.dispatch(ut.Connection),this.config.useRouter&&this.initListeners(),this.isShowHero=u.jG.IsHeroNTP&&(0,ft.yp)(),this.disableFeed=(0,ft.bF)()&&this.config.disableFeed,this.showHeroAboveNav=u.jG.IsHeroNTP&&this.config.showHeroAboveNav&&(null===(t=this.config.childExperienceConfigInfo)||void 0===t?void 0:t.widgetsRegion)&&(0,ft.yp)(),this.initHeaderScrollEventHandler(),this.alignBgColor=this.config.alignBgColor,this.childExperienceConfigInfo=this.config.childExperienceConfigInfo;const a=null===(e=this.config.childExperienceConfigInfo)||void 0===e||null===(e=e.commonHeaderWC)||void 0===e?void 0:e.configRef;if(this.commonHeaderConfig=a&&(null===(i=await l.U.getConfig(a))||void 0===i?void 0:i.properties),this.config.enableWaterfallViewFeed){if(this.config.useRouter||(this.contentConfigInfo=this.getExperienceConfigInfo("WaterfallViewFeed")),(0,k.N)()||!(0,ft.yp)()||this.config.enableEarlyFeedSSR||this.config.disableFeed||(0,ft.FT)(),(0,ft.bF)()){const t=(0,ft.yp)()?"myFeed":"following";this.showHeroAboveNav?this.initFeedDependencies(t,!0):this.initFeedDependencies(t)}}else this.config.useEarlyRiverRequest&&this.fetchAndStoreTopRiver();if((0,k.N)()){this.config.displayAdPreloadConfig&&(0,W.Fg)(this.config.displayAdPreloadConfig);const t=(0,_.K0)(s.AL);(0,m.f)({incompleteVisualDependencyCallback:t&&t.getIncompleteVisualDependencies||null,timeoutOverride:this.config.perfMarkersTimeoutMs});(0,g.S)({incompleteVisualDependencyCallback:t&&t.getIncompleteVisualDependencies||null,timeoutOverride:this.config.perfMarkersTimeoutMs});(0,h.S_)().then((t=>{const e=(0,p.Ou)();for(const n of t){e[n[0]]=n[1]}}));const{thirdPartyTracking:e}=this.config;e&&(0,M.F_)().then((()=>n.e("libs_entry-point-shared-utils_dist_index_js").then(n.bind(n,42285)))).then((t=>{let{loadThirdPartyScript:n}=t;return n(e)})),(0,M.F_)().then((async()=>{const t=this.config.banners,e=this.config.fixDspAdRfshPageHeader;if(t&&t.length&&(this.bannerManager=new S(this.shadowRoot,t,e)),this.hpTtvrFired=!0,this.supportsFeedViewSettings&&Promise.all([n.e("web-components_common-settings-dialog_dist_blocks_background-settings_index_js-web-components-21997c"),n.e("web-components_common-settings-dialog_dist_index_js")]).then(n.bind(n,96655)).then((t=>{let{registerCsHomepageViewSettings:e}=t;e()})),this.nurturingBannerConfig){const{MarketComplianceExceptionBanners:t}=await n.e("super-nav-coach-mark").then(n.bind(n,56992));t()}(0,k.N)()&&e&&(this.contentViewportManager=new v.o({queryParent:this.shadowRoot,headerSelector:y,isHeaderHeightDynamic:!0}),this.bannerManager&&(this.bannerManager.subscribeLayoutChange((t=>{let{bannerHeight:e}=t;this.contentViewportManager.updatePageContentViewport({bannerHeight:e})})),document.addEventListener("pageContentViewportUpdated",this.outUpdateBreakpoint))),this.config.enableChromeExtensionNav&&(this.promoCardService=new B.A("hp","nav"),this.updateChromeExtensionNav()),N((()=>{}))}))}else this.hpTtvrFired=!0;var c,w;(this.columnArrangement=(0,r.Bn)().currentColumnArrangement,(0,r.Bn)().subscribe(this.onColumnArragementChange),this.config)&&$.k.initializeCache((null===(c=this.config)||void 0===c?void 0:c.samPageDedupeCacheSize)||0,void 0,null===(w=this.config)||void 0===w?void 0:w.dedupeConfigsByClientHintType);window.addEventListener("launchChannelStore",this.openChannelStore)}shadowDomPopulated(){this.config.enableWaterfallViewFeed&&(this.tryLoadFeedModuleBundle(),!(0,k.N)())||this.config.enableResponsiveDisplayAds&&(this.resizeObserver=new ResizeObserver((0,I.Z)((()=>function(t,e){var n,i,r;if(!(0,k.N)()||!t)return;const o=null==t||null===(n=t.children)||void 0===n?void 0:n[0],s=null==o||null===(i=o.shadowRoot)||void 0===i||null===(i=i.children)||void 0===i?void 0:i[0];if(!o||!s)return;H||(H=!0,e&&e.observe(s));const a=t.clientWidth,c=s.clientWidth;if(!a||!c)return;let u=+(a/c).toFixed(2);if(1===u&&!o.style.transform)return;u=Math.min(u,1);const l=s.style.minHeight||s.style.height,d=l?parseInt(l||"0",10):s.clientHeight+((null===(r=s.getElementsByTagName("a"))||void 0===r?void 0:r.length)>0?16:0),f=+(Math.max(d,110)*u).toFixed(2);o.style.transform=`scale(${u})`,o.style.height=`${f}px`}(this.displayAdsContainerRef,this.resizeObserver)),300)),this.displayAdsContainerRef&&this.resizeObserver.observe(this.displayAdsContainerRef))}async fetchAndStoreTopRiver(){var t;const e={experienceType:a.Kls,instanceSrc:"default"},n=await l.U.getConfig(e);window.enableEarlyRiverRequest=!0;const i=new dt.d(null==n||null===(t=n.properties)||void 0===t?void 0:t.cardProviderConfig),r=await i.fetch();window.topStripeResponse=r}getExperienceType(){return a.A0u}get supportsFeedViewSettings(){var t;return!!this.hasFeedSwitch()&&(null===(t=this.config.localizedStrings)||void 0===t?void 0:t.settingsFeedSwitchLabel)}get headerOptions(){const t={...this.commonHeaderConfig.searchBoxConfig,trendingSearchConfig:this.config.trendingSearchConfig,contextualSuggestFormCode:this.config.contextualSuggestFormCode,adContextualSuggestFormCode:this.config.adContextualSuggestFormCode,contextSuggestAsPlaceholder:!!this.config.trendingSearchConfig,enableContextualSuggest:!!this.config.trendingSearchConfig,contextualSuggestAsDefault:!!this.config.trendingSearchConfig,contextualSuggestOnFocus:!!this.config.trendingSearchConfig,hoverFocusOutlineStyle:!!this.config.hoverFocusOutlineStyle,enableConditionalSchBtn:!!this.config.enableConditionalSchBtn,enableTrendingQueryClearable:!!this.config.enableTrendingQueryClearable,enableHighlightTrendingQuery:!!this.config.enableHighlightTrendingQuery},e=this.getHomepageViewSettings();return{config:{...this.commonHeaderConfig,searchBoxConfig:t},homepageViewSettings:e,getAccessibilityParentElement:t=>{var e,n;return null!=t&&t.includes("contentinfo")?null===(e=this.shadowRoot)||void 0===e||null===(n=e.querySelector)||void 0===n||null===(n=n.call(e,"[footer-component]"))||void 0===n?void 0:n.shadowRoot:this.shadowRoot},adjustPositionForFocusElement:()=>{window.scrollBy(0,-this.topStickyHeight)}}}disconnectedCallback(){var t,e;super.disconnectedCallback(),null===(t=this.bannerManager)||void 0===t||t.dispose(),null===(e=this.contentViewportManager)||void 0===e||e.dispose(),(0,r.Bn)().unsubscribe(this.onColumnArragementChange),window.removeEventListener("scroll",this.headerScrollEventHanlder),window.removeEventListener("launchChannelStore",this.openChannelStore),this.config.useRouter&&window.removeEventListener("nav-switch",this.outRouteChange),this.resizeObserver&&this.resizeObserver.disconnect(),this.bannerManager&&document.removeEventListener("pageContentViewportUpdated",this.outUpdateBreakpoint)}getBannersTelemetryTags(){return(0,z.V)("precontent",{type:x.c9.Section}).getMetadataTag()}getMainTelemetryTags(){return(0,z.V)("main",{type:x.c9.Section}).getMetadataTag()}hasFlight(t){const e=u.jG.CurrentRequestTargetScope&&u.jG.CurrentRequestTargetScope.pageExperiments;return!!e&&e.includes(t)}get shouldRenderChromeExtensionNav(){var t,e,n;return!(null===(t=this.config)||void 0===t||!t.enableChromeExtensionNav||"chrome"!==(null===u.jG||void 0===u.jG||null===(e=u.jG.CurrentRequestTargetScope)||void 0===e||null===(e=e.browser)||void 0===e?void 0:e.browserType)||this.columnArrangement===o.K$.c1)&&((null===(n=this.promoCardService)||void 0===n?void 0:n.showPromoCard)??!0)}shouldRenderRail(){var t;return this.columnArrangement&&(null===(t=this.config.showRailInLayouts)||void 0===t?void 0:t.length)&&this.config.showRailInLayouts.includes(this.columnArrangement)}initHeaderScrollEventHandler(){window.addEventListener("scroll",this.headerScrollEventHanlder)}async tryLoadFeedModuleBundle(){this.feedModuleImportPromise||(this.feedModuleImportPromise=(0,L.n)(this.config),await this.feedModuleImportPromise)}}(0,i.gn)([T.LO],vt.prototype,"commonHeaderConfig",void 0),(0,i.gn)([T.LO],vt.prototype,"topStickyHeight",void 0),(0,i.gn)([T.LO],vt.prototype,"bannerManager",void 0),(0,i.gn)([T.LO],vt.prototype,"nurturingBannerConfig",void 0),(0,i.gn)([T.LO],vt.prototype,"childExperienceConfigInfo",void 0),(0,i.gn)([T.LO],vt.prototype,"msnFeedCardTemplateMap",void 0),(0,i.gn)([T.LO],vt.prototype,"renderChannelStoreEvent",void 0),(0,i.gn)([T.LO],vt.prototype,"config",void 0),(0,i.gn)([T.LO],vt.prototype,"initProps",void 0),(0,i.gn)([T.LO],vt.prototype,"hpTtvrFired",void 0),(0,i.gn)([T.LO],vt.prototype,"shouldHeaderShowShadow",void 0),(0,i.gn)([T.LO],vt.prototype,"columnArrangement",void 0),(0,i.gn)([T.LO],vt.prototype,"properties",void 0),(0,i.gn)([T.LO],vt.prototype,"contentConfigInfo",void 0),(0,i.gn)([T.LO],vt.prototype,"getFeedDependencyPromise",void 0),(0,i.gn)([T.LO],vt.prototype,"isFeedReady",void 0),(0,i.gn)([T.LO],vt.prototype,"stripeEndCardCount",void 0),(0,i.gn)([T.LO],vt.prototype,"showChromeExtensionNav",void 0),(0,i.gn)([T.LO],vt.prototype,"promoCardService",void 0),(0,i.gn)([T.LO],vt.prototype,"displayAdsContainerRef",void 0),(0,i.gn)([T.LO],vt.prototype,"enableWelcomeGreeting",void 0),(0,i.gn)([T.LO],vt.prototype,"isInterestPage",void 0),(0,i.gn)([T.LO],vt.prototype,"isFollowingPage",void 0),(0,i.gn)([T.LO],vt.prototype,"overriddenFeedConfig",void 0),(0,i.gn)([T.LO],vt.prototype,"showHeroAboveNav",void 0),(0,i.gn)([T.LO],vt.prototype,"isShowHero",void 0),(0,i.gn)([T.LO],vt.prototype,"disableFeed",void 0),(0,i.gn)([T.LO],vt.prototype,"widgetsRegionDependencyPromise",void 0),(0,i.gn)([T.LO],vt.prototype,"feedConfig",void 0),(0,i.gn)([T.lk],vt.prototype,"headerOptions",null),(0,i.gn)([T.lk],vt.prototype,"shouldRenderChromeExtensionNav",null);const wt=t=>{let e=null;switch(t){case o.K$.c1:e="size1column";break;case o.K$.c2:e="size2column";break;case o.K$.c3:e="size3column";break;case o.K$.c4:e="size4column";break;case o.K$.c5:e="size5column"}return e};var yt=n(49218),bt=n(93703),St=n(89150),xt=n(54256),Ct=n(41472),kt=n(98675);function Tt(t){return t?yt.dy`<script nonce="${()=>window.NONCE_ID}">window.ssrLoadedExperience.publish(${yt.dy.partial(JSON.stringify(t))})</script>`:yt.dy``}var $t=n(49903),At=n(3517),It=n(79744),Pt=n(41780),_t=n(13218);At.D;const Mt=(0,It.M)("TTSR.HeaderTag",!0),Rt=(0,It.M)(`${h.nz}SearchBox`,!0),Et=(0,It.M)(`${h.nz}Complete`),Ft=yt.dy`<div id="heroInHeader" class="${()=>(0,Pt.x)(nt.base)}">${(0,bt.g)((()=>window.isSSREnabled),yt.dy`${()=>yt.dy`${yt.dy.partial((0,U.yC)())}`}`)} ${(0,bt.g)((t=>window.isSSREnabled),(t=>Tt(t.childExperienceConfigInfo.widgetsRegion)))} ${t=>(0,$t.Ot)(t.childExperienceConfigInfo.widgetsRegion,{properties:{getFeedDependencyPromise:t.widgetsRegionDependencyPromise,styles:"padding: 16px; box-shadow: unset;",showHero:t.showHeroAboveNav},telemetryObject:t.headerHeroTelemetryObject,memoize:!1})}</div>`,Dt=()=>((async()=>{const{ViewsPromoCard:t}=await n.e("viewsPromoCard").then(n.bind(n,74722))})(),yt.dy`<views-promo-card :promoCardService=${t=>t.promoCardService} :updateChromeExtensionHelper=${t=>()=>t.updateChromeExtensionNav()} :componentType=${t=>"chrome"} :pageType=${t=>"hp"} :templateType=${t=>"nav"}></views-promo-card>`),Ot=yt.dy`
${t=>{if(t.childExperienceConfigInfo&&t.childExperienceConfigInfo.channelStore)return(0,$t.Ot)(t.childExperienceConfigInfo.channelStore,{properties:{enableFeedCustomization:!0,softLandingActive:!1,renderChannelStoreEvent:t.renderChannelStoreEvent,showPublishersTop:!0}})}}
`,Nt=yt.dy`<div id="entry-point-hp-wc-banner" class="banner-container ${()=>(0,Pt.x)(it.bannerContainer)} ${t=>t.config.wholePageGrayScaleMode?"gray-scale":""}" data-t="${t=>t.getBannersTelemetryTags()}">${(0,St.rx)((t=>t.config.banners),yt.dy`<div id="entry-point-hp-wc-banner-${t=>t.childExperienceConfigInfo.instanceId}" class="${()=>(0,Pt.x)(it.homepageBanner)}">${(t,e)=>(0,$t.Ot)(t.childExperienceConfigInfo,{properties:{showBanner:e.parent.bannerManager.getShowBannerFunction(),hideBanner:e.parent.bannerManager.getHideBannerFunction()}})}</div>`)}</div>`,Ut=yt.dy`<div id="${w}" class="${t=>(0,xt.A)("common-header",["feed-view",t.config.enableWaterfallViewFeed],["limited-width",!t.config.disableMaxWidth],se(t),["header-shadow-box",t.shouldHeaderShowShadow])} "><msn-homepage-header :options="${t=>t.headerOptions}" :searchboxTTVRTemplate="${t=>Rt}"></msn-homepage-header></div>`,Lt=yt.dy`<div class="dummy-header-container ${t=>t.config.disableMaxWidth?"":"limited-width"}"></div><div id="${w}" class="header-outer-wrapper ${t=>t.config.wholePageGrayScaleMode?"gray-scale":""}"><div class="header-container ${t=>t.config.disableMaxWidth?"":"content-shadow-box limited-width"} ${se} ${t=>t.shouldHeaderShowShadow?"header-shadow-box":""}"><div class="header-wrapper ${se}">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.homepageHeaderConfigInfo,{properties:{homepageViewSettings:t.getHomepageViewSettings()}})}</div></div></div>`,Bt=yt.dy`<div class="me-stripe-container">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.meStripeConfigInfo)}</div>`,Wt=yt.dy`<div class="display-ads-container ${()=>(0,Pt.x)(it.displayAdsContainer)}" ${(0,Ct.i)("displayAdsContainerRef")}>${(0,bt.g)((t=>t.hpTtvrFired||t.config.shouldLoadTopBannerAdBeforeTTVR),yt.dy`${t=>{const e={skipInitialRenderingVisibilityCheck:!0};if(t.config.enableWaterfallViewFeed){const t=(0,kt.dq)(window.location.href),n=(0,kt.qq)(t);e.batchCallAdCountOverride=2,e.shimmerIdOverride="rectangle1",e.pageTypeOverride=n?"winweb":"hp2"}return(0,$t.Ot)(t.config.childExperienceConfigInfo.bannerDisplayAdsConfigInfo,{properties:e})}}`)}</div>`,Ht=yt.dy`<div class="display-ads-container ${()=>(0,Pt.x)(it.displayAdsContainer)}">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.skinDisplayAdsConfigInfo)}</div>`,zt=yt.dy`<div class="${()=>(0,Pt.x)(it.breakingNewsContainer)}">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.breakingNewsBannerConfigInfo)}</div>`,Vt=yt.dy`<div class="recommended-sites-container">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.recommendedSitesConfigInfo)}</div>`,jt=yt.dy`<div class="mail-signout-banner-container">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.mailSignoutBannerConfigInfo)}</div>`,qt=yt.dy`<div class="footer-container ${()=>(0,Pt.x)(it.footerContainer)}">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.homepageFooterConfigInfo)}</div>`,Gt=yt.dy`<div class="ad-banner-wrapper" role="banner" style="${t=>t.isInterestPage?"display:none":""}">${Wt} ${(0,bt.g)((t=>t.config.useShimmerPlaceholder&&!(t.hpTtvrFired||t.config.shouldLoadTopBannerAdBeforeTTVR)),yt.dy`<div class="ad-banner-placeholder shimmer"></div>`)}</div>`,Jt=yt.dy`
${(0,bt.g)((t=>t.hasFeedSwitch()&&t.hpTtvrFired),yt.dy` ${t=>{var e,n;return(0,$t.Ot)(t.childExperienceConfigInfo.feedSwitchConfigInfo,{properties:{isFeedView:t.config.enableWaterfallViewFeed,initialClosed:null===(e=t.initProps)||void 0===e?void 0:e.feedView.initialClosed,feedSwitch:null===(n=t.initProps)||void 0===n?void 0:n.feedView.switch,onBannerToggle:t.onFeedSwitchBannerToggle}})}}
`)}`,Kt=yt.dy`<div class=${t=>(0,xt.A)("super-nav-container",(0,Pt.x)(it.superNavContainer),["chrome-ext-container",t.showChromeExtensionNav&&!t.config.enableWaterfallViewFeed],["chrome-waterfall-container",t.showChromeExtensionNav&&t.config.enableWaterfallViewFeed])}>${t=>(0,$t.Ot)(t.childExperienceConfigInfo.superNavConfigInfo)} ${(0,bt.g)((t=>t.showChromeExtensionNav&&!t.config.useShimmerPlaceholder&&!t.config.useRouter&&(0,k.N)()),Dt)}</div>`,Qt=yt.dy` ${(0,bt.g)((t=>!t.config.useShimmerPlaceholder),yt.dy` ${(0,bt.g)((t=>t.hpTtvrFired&&t.childExperienceConfigInfo.superNavConfigInfo),Kt)} `)} ${(0,bt.g)((t=>t.config.useShimmerPlaceholder&&!t.config.useRouter&&t.childExperienceConfigInfo.superNavConfigInfo),yt.dy`<div class="${t=>(0,xt.A)("topnav-placeholder",["supernav-placeholder",!!t.childExperienceConfigInfo.superNavConfigInfo],[`chrome-waterfall-box ${(0,Pt.x)(it.chromeWaterfallBox)}`,!!t.childExperienceConfigInfo.superNavConfigInfo&&t.showChromeExtensionNav])}">${(0,bt.g)((t=>!t.hpTtvrFired),yt.dy`<div class="topnav-placeholder-container shimmer"></div>`)} ${(0,bt.g)((t=>t.hpTtvrFired&&t.childExperienceConfigInfo.superNavConfigInfo),Kt)} ${(0,bt.g)((t=>t.showChromeExtensionNav&&(0,k.N)()),Dt)}</div>`)} ${(0,bt.g)((t=>t.config.useRouter),yt.dy`<div class="${t=>(0,xt.A)("topnav-placeholder","supernav-placeholder",[`chrome-waterfall-box ${(0,Pt.x)(it.chromeWaterfallBox)}`,t.showChromeExtensionNav])}">${(0,bt.g)((t=>t.childExperienceConfigInfo.superNavConfigInfo),Kt)} ${(0,bt.g)((t=>t.showChromeExtensionNav&&(0,k.N)()),Dt)}</div>`)}
`,Xt=yt.dy`<div>${(0,bt.g)((t=>t.childExperienceConfigInfo.bannerDisplayAdsConfigInfo&&!t.config.disableBanner),Gt)} ${(0,bt.g)((t=>!t.isInterestPage&&(t.hpTtvrFired||t.config.shouldLoadTopBannerAdBeforeTTVR)&&t.childExperienceConfigInfo.skinDisplayAdsConfigInfo&&!t.config.disableBanner),Ht)} ${(0,bt.g)((t=>!t.isInterestPage&&!_t.Al.CurrentFlightSet.has("prg-hp-nofs")),Jt)} ${(0,bt.g)((t=>t.showHeroAboveNav),Ft)} ${Qt} ${(0,bt.g)((t=>!t.isInterestPage&&!t.config.childExperienceConfigInfo.superBreakingNews&&t.hpTtvrFired&&t.childExperienceConfigInfo.breakingNewsBannerConfigInfo&&!t.config.disableBanner),zt)} ${(0,bt.g)((t=>!t.isInterestPage&&t.hpTtvrFired&&t.childExperienceConfigInfo.recommendedSitesConfigInfo&&!t.config.disableRecommendedSites),Vt)} ${(0,bt.g)((t=>!t.isInterestPage&&t.hpTtvrFired&&t.childExperienceConfigInfo.mailSignoutBannerConfigInfo&&!t.config.disableBanner),jt)}</div>`,Yt=yt.dy` ${(0,bt.g)((t=>!t.isInterestPage&&t.config.childExperienceConfigInfo.superBreakingNews),yt.dy`${t=>(0,$t.Ot)(t.config.childExperienceConfigInfo.superBreakingNews,{attributes:{style:"display: grid; justify-items: center;"}})}`)} ${(0,bt.g)((()=>window.isSSREnabled),yt.dy`${()=>yt.dy`${yt.dy.partial((0,U.yC)())}`}`)} ${(0,bt.g)((t=>window.isSSREnabled),(t=>Tt(t.contentConfigInfo)))} ${(0,bt.g)((t=>window.isSSREnabled),(t=>Tt(t.config.childExperienceConfigInfo.bannerDisplayAdsConfigInfo||t.config.displayAdPreloadConfig)))} ${t=>(0,ft.bF)()&&!t.isFeedReady?null:(0,$t.Ot)(t.contentConfigInfo,{includeTelemetryTag:!1,properties:{...t.properties,getFeedDependencyPromise:t.getFeedDependencyPromise},memoize:!1})}`,Zt=(yt.dy`<div class="msn-feed">${t=>{var e,n;return(0,$t.Ot)(t.childExperienceConfigInfo.msnFeedConfigInfo,{properties:{...t.feedConfig,extraFeedDataArgs:t.extraFeedDataArgs,dataProvider:t.dataProvider,cardMappers:t.msnFeedCardTemplateMap,riverProviderConfigOverrides:null===(e=t.feedConfig)||void 0===e?void 0:e.riverProviderConfigOverrides,titleOverride:null===(n=t.feedConfig)||void 0===n?void 0:n.titleOverride}})}}</div>`,yt.dy`<div class="stripe-wc-container ${()=>(0,Pt.x)(it.stripeContainer)}">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.stripeWCConfigInfo,{properties:{enableRail:t.shouldRenderRail(),onFeedEndCb:t.onStripeFeedEndCb}})}</div>`),te=yt.dy`<div class="${t=>(0,xt.A)(["content-with-rail",t.shouldRenderRail()])}">${t=>t.config.enableWaterfallViewFeed?Yt:Zt} ${(0,bt.g)((t=>t.shouldRenderRail()&&t.childExperienceConfigInfo.railTopDisplayAdConfigInfo),yt.dy`<div class="rail-container"><div id="sticky-rail" class="${()=>(0,Pt.x)(it.stickyRail)}">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.railTopDisplayAdConfigInfo,{memoize:!1})} ${t=>t.hpTtvrFired&&t.config.railCard&&(0,$t.Ot)(t.config.railCard.configInfo,{memoize:!1,properties:t.config.railCard.properties})}</div></div>`)}</div>`,ee=yt.dy` ${(0,bt.g)((t=>!t.config.useShimmerPlaceholder&&t.hpTtvrFired&&t.childExperienceConfigInfo.meStripeConfigInfo),Bt)} ${(0,bt.g)((t=>t.config.useShimmerPlaceholder&&t.childExperienceConfigInfo.meStripeConfigInfo),yt.dy`<div class="me-stripe-placeholder ${t=>t.config.useCompactMeStripe?"compact":""}">${(0,bt.g)((t=>!t.hpTtvrFired),yt.dy`<div class="placeholder-wrapper shimmer"></div>`)} ${(0,bt.g)((t=>t.hpTtvrFired),Bt)}</div>`)}
`,ne=yt.dy` ${t=>(0,$t.Ot)(t.childExperienceConfigInfo.channelFilterCard,{memoize:!1})}
`,ie=yt.dy`<div class="${()=>(0,Pt.x)(it.homepageBanner)}">${t=>(0,$t.Ot)(t.childExperienceConfigInfo.nurturingBanner)}</div>`,re=yt.dy`
${(0,bt.g)((t=>t.hpTtvrFired&&t.bannerManager&&t.config.banners&&!t.config.disableBanner),Nt)}
${(0,bt.g)((t=>t.nurturingBannerConfig&&t.hpTtvrFired),ie)}
${(0,bt.g)((t=>t.childExperienceConfigInfo.commonHeaderWC&&t.headerOptions),Ut)}
${(0,bt.g)((t=>!t.childExperienceConfigInfo.commonHeaderWC&&t.childExperienceConfigInfo.homepageHeaderConfigInfo),Lt)}
${Mt}<div id="entry-point-hp-wc-root-wrapper" class="${t=>(0,xt.A)("wrapper",["feed-view",t.config.enableWaterfallViewFeed],["limited-width",!t.config.disableMaxWidth],se(t),["ntp-feed",t.config.enableWaterfallViewFeed],["gray-scale-with-ofhidden",t.config.wholePageGrayScaleMode])} "><div class="${t=>(0,xt.A)("content-container",se(t),["ntp-feed",t.config.enableWaterfallViewFeed])}" data-t="${t=>t.getMainTelemetryTags()}">${(0,bt.g)((t=>!t.isInterestPage),ee)} ${Xt} ${(0,bt.g)((t=>t.childExperienceConfigInfo.channelFilterCard&&t.isFollowingPage&&t.hpTtvrFired&&!t.disableFeed),ne)} ${(0,bt.g)((t=>(t.childExperienceConfigInfo.stripeWCConfigInfo||t.contentConfigInfo)&&!t.disableFeed),te)}</div>${(0,bt.g)((t=>t.hpTtvrFired&&t.childExperienceConfigInfo.homepageFooterConfigInfo),qt)} ${(0,bt.g)((t=>t.renderChannelStoreEvent&&t.childExperienceConfigInfo&&t.childExperienceConfigInfo.channelStore),Ot)}</div>${Et}`,oe=yt.dy` ${re}
`;function se(t){return t.config.enableWaterfallViewFeed||t.config.enableFifthColumn||t.shouldRenderRail()?"fifth-column":""}const ae={experienceConfigSchema:undefined}},95708:function(t,e,n){n.d(e,{FT:function(){return g},JD:function(){return h},Rc:function(){return f},bF:function(){return m},yp:function(){return p}});var i=n(53606),r=n(70041),o=n(63718),s=n(82821),a=n(99147),c=n(74604),u=n(44132),l=n(52185),d=n(35114);const f=()=>window.location.pathname.includes("/personalize"),h=()=>window.location.pathname.includes("/interest/following"),p=()=>!f()&&!h()&&!window.location.pathname.includes("/navigation_page"),m=()=>p()||h();async function g(){var t,e,n;const f={experienceType:r.F11,instanceSrc:"default"},h=await a.U.getConfig(f);let p=null==h||null===(t=h.properties)||void 0===t||null===(t=t.riverSectionCardProviderConfig)||void 0===t?void 0:t.initialRequest;o.SI.enableEarlyMainFeedRequest=!0;const m=null===(e=(0,c.Bn)())||void 0===e?void 0:e.currentColumnArrangement;m&&(p.column=m);const g={c1:d.Kx.C1,c2:d.Kx.C2,c3:d.Kx.C3,c4:d.Kx.C4,c5:d.Kx.C5},v=(0,s.Qf)(g[m]);let w;p={...p,...v},p.pageConfiguration=null===(n=u.M0.getPageMetadata())||void 0===n||null===(n=n.contract)||void 0===n||null===(n=n.page)||void 0===n?void 0:n.config,o.SI.enableEarlyMainFeedRequest=!0;const y=(0,i.eW)();if(y)w=y,l.Gq.set("__isSSRWpoFeedConsumed__",!0);else{const t=new i.fy({auctionRidOverride:!1,initialRequest:{timeoutMs:p.timeoutMs}},!1);await i.fy.ensureLock();try{w=await t.fetchFromWpoService(p,!0,null,!1)}catch(t){if(t instanceof i.GZ&&(u.M0.addOrUpdateTmplProperty("wpofetchabort",t.silentExit?"silentexit":"continue"),t.silentExit))return;throw t}finally{i.fy.releaseLock()}w&&(w.responseStatus=t.getResponseStatus())}o.SI.storeEarlyWpoFeedData(w)}},31645:function(t,e,n){n.r(e),n.d(e,{GreetingMaxWidth:function(){return vt},GreetingMinWidth:function(){return gt},HomepageHeader:function(){return wt},HomepageHeaderMobileTemplate:function(){return re},HomepageHeaderStyles:function(){return j},HomepageHeaderTemplate:function(){return oe},MeControlLtrStyles:function(){return U},MeControlRtlStyles:function(){return L},MeControlStyles:function(){return N},MeControlStylesMobileView:function(){return B},SearchBoxLtrStyles:function(){return E},SearchBoxMobileStyles:function(){return D},SearchBoxRtlStyles:function(){return F},SearchBoxStyles:function(){return R},SearchHistoryStyles:function(){return M},ToolingInfo:function(){return se},dropdownStyles:function(){return O}});var i=n(8522),r=n(63070),o=n(45900);var s=n(33940),a=n(70041),c=n(30594),u=n(60138),l=n(81845),d=n(65393),f=n(26810),h=n(71942),p=n(42689),m=n(74449),g=n(28632),v=n(27782),w=n(2658),y=n(27460),b=n(62734),S=n(32572),x=n(22674),C=n(78923),k=n(81239),T=n(29717),$=n(80986),A=n(77137);const I=`${$.K.Dialog}`,P="5px",_="#fff",M=" @media (max-width:994px){below-searchbox-suggestion::part(suggestion-container){width:629px !important}}@media (min-width:995px){below-searchbox-suggestion::part(suggestion-container){width:470px !important}}@media (min-width:1325px){below-searchbox-suggestion::part(suggestion-container){width:700px !important}}",R=` .root{max-width:none !important;width:210px !important}:host{--accent-foreground-rest:#fff !important}fluent-button{background-color:rgb(51 147 223) !important;color:${_} !important}.end-slot{color:${_} !important}:host([isonimage]) .end-slot slot[name="end"] > svg{fill:${_} !important}@media screen and (max-width:994px){.root{width:559px !important}}@media (max-width:650px){.root{width:240px !important}}@media (min-width:995px) and (max-width:1325px){.root{width:400px !important}}@media (min-width:1325px){.root{width:630px !important}}`,E=` fluent-button{border-top-right-radius:${P} !important;\n    }\n`,F=` fluent-button{border-top-left-radius:${P} !important;\n    }\n`,D=" fluent-button{background-color:unset;color:#4464FF !important;padding-right:unset !important;padding-left:unset !important}fluent-button::part(control){width:0px}@media (prefers-color-scheme:dark){fluent-button{color:#FFFFFF !important}}",O=` .search-box msft-search-box{--search-box-radius:${P} !important}.search-box.autosuggestShown msft-search-box{--search-box-radius:${P} ${P} 0 0 !important}.search-box #sw_as .sa_as,.search-box #sw_as #sa_ul,.search-box #sw_as .sa_drw li:last-of-type{border-radius:0px 0px ${P} ${P} !important}#sw_as .sa_as{width :100% !important;background-color:white !important}@media (min-width:450px){#sw_as .sa_as{width:629px !important}}@media (min-width:995px){#sw_as .sa_as{width:470px !important}}@media (min-width:1325px){#sw_as .sa_as{width:700px !important}}`,N=" @media (max-width:926px){.mectrl_header_text{display:none !important}}.mectrl_topHeader .mectrl_profilepic{width:36px !important;height:36px !important}.mectrl_topHeader .mectrl_header_text{font-size:12px !important}.mectrl_theme_dark .mectrl_body,.c-uhfh > .theme-dark .c-me .mectrl_body{background-color:var(--neutral-layer-floating) !important}",U=" .mectrl_topHeader .mectrl_header_text{padding-right:0px !important}.mectrl_topHeader .mectrl_profilepic{margin-right:13px !important}",L=" .mectrl_topHeader .mectrl_header_text{padding-left:14px !important}",B=" #mectrl_main_body{inset:unset !important;right:50% !important;transform:translateX(50%)}",W=C.i` .logo{left:0}.user-pref-container{right:0}.settings-dialog-with-direction{right:0}.msn-navbar-mobile.mobile-navbar-active{animation:slideinleft 0.3s}.msn-sidebar{animation:slideinright 0.3s}.msn-mobile-logo{padding-left:12px}`,H=C.i` .logo{right:0}.user-pref-container{left:0}.settings-dialog-with-direction{left:0}.msn-navbar-mobile.mobile-navbar-active{animation:slideinright 0.3s}.msn-sidebar{animation:slideinleft 0.3s}.msn-mobile-logo{padding-right:12px}`,z=C.i` cs-homepage-view-settings.focus-switch::part(content){border:2px solid #0078d4;padding:0 8px}cs-homepage-view-settings::part(wrapper){margin:0;box-shadow:none;border:none;border-radius:0}cs-homepage-view-settings::part(content){padding:0}@media (prefers-color-scheme:dark){cs-homepage-view-settings::part(wrapper){background:var(--neutral-layer-floating)}}`,V=C.i`
@media (prefers-color-scheme:dark){:host{--flyout-background:rgba(17,17,17,0.85);--pri-text-color:#fff;--sec-text-color:#D2D2D2;--separator:#333;--active-background:#222}.msn-mobile-icon{filter:invert(100%) sepia(5%) saturate(7458%) hue-rotate(280deg) brightness(105%) contrast(109%)}weather-today-mini::part(label){color:#fff}.msn-sidebar-contents msn-market-selector::part(select){--neutral-fill-input-active:#282828;--neutral-fill-active:#444;--neutral-fill-hover:#444;--neutral-foreground-rest:#fff;background:#333 !important;border:calc(var(--stroke-width)* 1px) solid #444;color:var(--neutral-foreground-rest)}.msn-sidebar-contents msn-market-selector::part(control){background:#333}.msn-sidebar-contents msn-market-selector::part(listbox){background:#333;color:#fff}.NewMSNLogo,.NewMSNLogoMobile{background:var(--msn-alt-logo-dark) no-repeat center;background-size:contain}}`,j=C.i` :host{--flyout-background:rgba(245,245,245,0.85);--pri-text-color:#000;--sec-text-color:#4E4E4E;--separator:#ccc;--active-background:#F5F5F5;border-radius:6px;width:100%;--msn-alt-logo-light:url(${(0,A.Yq)().StaticsUrl}latest/brand/new-msn-logo-color-black.svg);
        --msn-alt-logo-dark: url(${(0,A.Yq)().StaticsUrl}latest/brand/new-msn-logo-color-white.svg)}.NewMSNLogo,.NewMSNLogoMobile{width:80px;height:30px;background:var(--msn-alt-logo-light) no-repeat center;background-size:contain}.title{height:48px;border-bottom:1px solid ${h.dt}}.root-container{width:100%;margin:auto}.setting-option{border-top:1px solid var(--separator);padding:18px 10px;display:flex;align-items:center;gap:8px;font-size:16px;font-family:Segoe UI,Segoe UI Midlevel,Segoe WP,Arial,sans-serif}.market-selector-mobile::part(select){height:44px}.market-selector-mobile::part(label){font-size:16px}.msn-navbar-mobile,.msn-sidebar{z-index:999;overflow:auto;top:0px;height:100%;width:100%;position:fixed !important;overflow:hidden;pointer-events:none;backdrop-filter:blur(30px);-webkit-backdrop-filter:blur(30px);background:var(--flyout-background);display:none}.msn-navbar-mobile{left:0px}.msn-navbar-mobile{right:0px}.menu-header-mobile{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:14px 14px 12px 14px}.msn-navbar-mobile.mobile-navbar-active,.msn-sidebar.mobile-sidebar-active{display:auto;pointer-events:unset;display:block}.navbar-items-mobile,.msn-sidebar-contents{color:var(--pri-text-color);display:flex;overflow:visible;height:100%;width:100%;position:fixed;top:0px;flex-flow:column}.hiddenfooter{display:none}.msn-navbar-mobile-footer{font-size:12px;display:flex;align-items:center;padding:18px 14px}.header-container{align-items:center;display:flex;justify-content:center;position:relative;padding:0px 15px}.emailIcon svg{height:20px;margin-top:3px;color:rgb(38,38,38)}.mobileIcon svg{height:20px;margin-top:3px;color:rgb(38,38,38)}.email-icon{direction:ltr;display:flex}.mobile-icon-container{z-index:100;margin-right:8px;display:block;position:relative}.mobile-icon-button{align-items:center;margin-right:8px;display:flex;justify-content:center;width:13px}.header-mobile-container{align-items:center;display:flex;place-content:center space-around;position:relative;flex-flow:column nowrap}.header-mobile-searchContainer{padding:14px 14px 12px 14px;display:flex;align-items:center;justify-content:space-between;height:40px}.header-mobile-search{position:absolute;left:50%;transform:translateX(-50%)}.header-mobile-setting{display:flex;align-items:center}.header-mobile-navBar{display:flex;align-items:center}.header-weather-container{padding-bottom:4px}.logo a{display:inline-flex;align-items:start;cursor:pointer;min-width:235px;text-decoration:none;color:#262626}.logo a:hover .logo-text,.logo a:focus .logo-text{color:#1679c3}.logo a:focus img,.logo a:hover img{filter:invert(36%) sepia(81%) saturate(691%) hue-rotate(169deg) brightness(96%) contrast(99%)}.logo-icon{direction:ltr;display:flex}.mobile-root-container .logo-icon{align-items:center;justify-content:center}.logo-text{font-weight:600;white-space:nowrap;margin:-3px 0 0 4px;display:none}.logo a:hover .logo-text-hover,.logo a:focus .logo-text-hover,.logo .logo-text-default{display:inline}.logo a:hover .logo-text-default,.logo a:focus .logo-text-default,.logo .logo-text-hover{display:none}.logo img{width:20px;height:28px;margin:0}.msn-mobile-logo{position:relative;bottom:4px}.msn-mobile-logo,.logoMobile img{height:30px}.search-container{height:55px;z-index:1;padding-top:6px}.search-container.search-container-mobile{width:100%;padding:0;height:55px;z-index:1;display:flex;align-items:flex-start;justify-content:center}msn-search-box{width:100%}.settings-container{z-index:100;display:block;position:relative}msn-settings.fluent-settings-icon{--hover-color:${p.C};
        --active-color: ${p.C}}.fluent-settings-icon svg{width:20px;height:20px;color:${m.Q}}.user-pref-container{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-end:-8px;min-height:48px}.sign-in-container{display:flex;flex-direction:row;align-items:center;justify-content:flex-end;margin-right:4px}.sign-in-container-mobile{display:flex;flex-direction:row;align-items:center;justify-content:center;min-height:48px;margin-bottom:14px}.edit-icon{height:16px;width:14px}.settings-link{border:1px solid ${g.L$};
        border-radius: 2px;
        padding: 0;
        margin: 0;
        margin-inline-start: 15px;
        font-size: ${v.c};
        line-height: ${v.R};
        cursor: pointer;
        color: ${p.C};
        fill: ${p.C}}.responsive-btn .settings-link{margin-inline-start:10px}.settings-button{align-items:center;display:flex;height:calc(${w.i} * 1px);
        justify-content: center;
        width: calc(${w.i} * 1px)}.settings-button::part(control){height:calc(${w.i} * 1px);
        width: calc(${w.i} * 1px)}.settings-button::part(control):hover{fill:var(--hover-color)}.settings-button::part(control):active{fill:var(--active-color)}.settings-button::part(content){line-height:0}.settings-button-mobile{background:transparent;border-radius:0}.settings-button-mobile::part(content){height:24px;width:24px}.settings-button-mobile::part(control){padding:0}.settings-button-mobile,.icon.mobile,.icon.email{height:40px;width:40px;display:flex;align-items:center;justify-content:center}.emailIcon,.mobileIcon,.settings-container-mobile{height:40px;width:40px}.settings-close-button{height:calc(${w.i} * 1px);
        width: calc(${w.i} * 1px);
        background: ${y.s}}.settings-close-button svg{height:12px;width:12px;fill:${p.C}}.settings-dialog-background{display:block;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:${I}}.settings-dialog{position:absolute;z-index:${I};
        display: flex;
        flex-direction: column;
        width: 260px;
        top: 0;
        background: ${y.s};
        --elevation: 11;
        ${b.XC} padding:20px}.settings-dialog-header{display:flex;flex-direction:row}.settings-dialog-divider{margin:15px 0 0}.settings-menu-item{text-decoration:none;color:inherit;margin:10px 0 0;cursor:pointer;display:inline-block;width:100%;border:none;text-align:left;background:none;padding:0;font-size:inherit}.settings-menu-item-mobile{box-sizing:border-box;text-decoration:none;color:inherit;cursor:pointer;display:inline-block;width:100%;border:none;text-align:left;background:none;padding:0 14px;font-size:inherit}.settings-menu-item:hover{background:#ddd}.settings-dialog-title{margin:12px auto 8px;margin-inline-start:16px;font-size:${S.P};
        line-height:${S.b};font-weight:600}.language-dropdown{font-size:${v.c};
        line-height: ${v.R};width:100%}.language-dropdown-wrapper{margin:0 14px}msn-market-selector::part(select){margin-top:12px;margin-bottom:0}.end{margin-inline-start:15px;display:flex}.hidden{display:none}fluent-anchor::part(start){display:flex;margin-inline-end:11px}@media screen and (max-width:994px){.root-container{width:629px;grid-template-rows:repeat(3,auto);display:grid}.header-container{display:grid;align-items:center;justify-content:space-between;grid-column:1 / auto;grid-row:1 / auto;grid-template:repeat(2,auto) / repeat(3,auto);gap:10px;padding:10px 0px;width:inherit;height:104px}.search-container{grid-area:2 / 1 / auto / 4;justify-self:center}.logo{grid-area:1 / 1 / auto / auto;margin-inline-end:15px}.user-pref-container{justify-self:end;grid-area:1 / 3 / auto / auto}}@keyframes slideinleft{from{left:-100%}to{left:0}}@keyframes slideinright{from{right:-100%}to{right:0}}@media screen and (min-width:995px){.logo{position:absolute}.user-pref-container{position:absolute}}@media screen and (min-width:790px){.logo-text{font-size:24px}}@media screen and (max-width:789.9px){.logo-text{font-size:18px;margin:2px 0 0 4px}}@media (max-width:926px){.logo a{min-width:185px}.user-pref-container{min-width:100px}search-history-edgenext::part(below-searchbox-suggestion-container){display:none}}@media (max-width:650px){.root-container{width:100%}}search-history-edgenext::part(below-searchbox-suggestion-container){margin-top:-4px}search-history-edgenext::part(below-searchbox-suggestion){font-size:13px;font-family:"Segoe UI Semibold","Segoe WP Semibold","Segoe WP","Segoe UI",Arial,Sans-Serif}.icp-footer{margin:8px 0;color:rgb(117,117,117);font-size:10px}.footer-links a{text-decoration:none;color:rgb(117,117,117)}.msn-bar-block .msn-bar-item{text-decoration:none;color:black;display:block;text-align:left;border:none;white-space:normal;float:none;outline:0}.wrapper{display:flex;flex-flow:column;align-items:center;margin:0 auto;position:relative;background:"#F4F4F2";transition-duration:"0.3s";min-height:100vh}.feed-nav-container{display:flex;align-items:center;margin-bottom:3px;height:33px}.promo-feed-nav-container{display:grid;grid-template-columns:max-content;margin-left:-11px;padding-bottom:${"9"}px}.inline-language-toggle-container{display:flex;align-items:center;height:33px;padding-bottom:13px}.weather-today-mini-container{display:flex;width:max-content;padding-bottom:11px;margin-top:5px}.separator{margin-top:15px;display:block;height:20px;border-left:1px solid #d0d0ce}.left-separator{margin-left:5px;margin-right:5px}.inline-language-toggle-separator{margin-top:0px}.default-feed-nav-container{display:grid;grid-template-columns:minmax(0,1fr);padding-bottom:${"9"}px}.default-feed-nav-container-mobile{overflow:hidden auto;flex:1}.mobile-close-btn{cursor:pointer;display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:transparent;border:none;border-radius:50px}.header-bottom-section{max-width:665px;margin:0 auto;padding:0px 14px}.logo-desktop{height:28px;width:20px;filter:none}.logo,.logo a{color:var(--neutral-foreground-rest)}.logo:hover,.logo:hover a{color:var(--accent-fill-hover)}.logo a:hover .logo-text,.logo a:focus .logo-text{color:inherit}${V}
`.withBehaviors(new x.O(W,H),new k.w("useNewSettings",!1,z),(0,T.Uu)(C.i` :host{--neutral-layer-floating:#4a4a4a}`));var q=n(44132),G=n(81586),J=n(89658),K=n(58968),Q=n(49218),X=n(99452),Y=n(7124);const Z=(t,e)=>new Promise((n=>{const i=(0,Y.Z)((()=>{var i;const o=null===(i=e.querySelector)||void 0===i?void 0:i.call(e,t);o&&(n(o),r.disconnect())})),r=new MutationObserver(i);r.observe(e,{childList:!0,subtree:!0}),i()})),tt=(t,e)=>{var n;const i=document.createElement("style");i.innerHTML=e,null===(n=t.prepend)||void 0===n||n.call(t,i)};var et=n(99147),nt=n(37802),it=n(51653),rt=n(21215),ot=n(94537),st=n(86117),at=n(22735),ct=n(34254),ut=n(70970),lt=n(57627);var dt=n(47898),ft=n(62201),ht=n(681);const pt=[".settings-container","notification-bell"],mt=["mobile-app-upsell","ms-rewards","welcome-greeting","welcome-greeting-light",".me-control-container","language-toggle"],gt=88,vt=243;class wt extends it.l{constructor(){super(...arguments),this.hasInitialized=!1,this.settingsWidth=-1,this.spaceForGreeting=0,this.compressedSignInButton=!1,this.useNewSettings=!1,this.telemetryContext={},this.logoText="msn",this.isSettingsDialogVisible=!1,this.isfeedbackDialogVisible=!1,this.isSearchHistoryLoaded=!1,this.inputElementHasInput=!1,this.feedbackButton=null,this.ttvrFired=!1,this.isSidebarVisible=!1,this.isNavbarVisible=!1,this.codexBingChatTelemetryTags="",this.weatherGreetingSpace=0,this.codexBingButtonInitialized=!1,this.settingsGearButton=null,this.greetingMinWidth=gt,this.greetingMaxWidth=vt,this.telemetryUserObject={},this.focusFeedSwitchSettings=()=>{this.homepageViewSettings&&(this.shouldFocusFeedSwitch=!0,this.showSettingsDialog())},this.handInputEvent=t=>{const e=t.target.value;this.inputElementHasInput=!!e},this.updateSettingsWidth=t=>{const e=Math.floor(t);e!==this.settingsWidth&&(this.settingsWidth=e,this.topSectionOnResize())},this.findFirstAssignedElement=t=>{let e=t;for(;"SLOT"===(null==(r=e)?void 0:r.tagName);){var n,i;const t=null===(n=(i=e).assignedElements)||void 0===n?void 0:n.call(i);e=null==t?void 0:t[0]}var r;return e},this.findElementsBySelectors=(t,e)=>e.map((e=>t.find((t=>t.matches(e))))).filter((t=>!!t)),this.onMarketChange=async t=>{const{pdpServiceClient:e}=await n.e("na-trending").then(n.bind(n,42050)),{trySetCookie:i}=await n.e("RubyFeedbackCoachMark").then(n.bind(n,51230));if(!(0,A.Yq)().CurrentMarket)throw new Error("Failed to retrieve current market from appEnv");q.M0.addOrUpdateTmplProperty("MarketLibraryUnification","1"),(0,at.ag)(t)},this.setMarketCookie=(t,e)=>{const n="marketPref",i=`.${A.jG.HostPage.topDomain}`;t(n,void 0,-1),t(n,e,182,i,"/")},this.handleClickOutside=t=>{t.defaultPrevented||this.isfeedbackDialogVisible||(this.isNavbarVisible?(this.isNavbarVisible=!this.isNavbarVisible,this.isSidebarVisible=!1):this.isSidebarVisible&&(this.isSidebarVisible=!this.isSidebarVisible,this.isNavbarVisible=!1))},this.onKeydown=t=>{t.key===ot.CX&&(this.hideSettingsDialog(),this.settingsGearButton&&K.H.enqueue((()=>this.settingsGearButton.focus())))},this.refreshPage=t=>{t.preventDefault(),window.location.reload()},this.clickMeControl=t=>{t.stopPropagation()},this.updateGreetingWidth=(t,e)=>{t&&this.greetingMinWidth!==Math.floor(t)&&(this.greetingMinWidth=Math.floor(t)),e&&this.greetingMaxWidth!==Math.ceil(e)&&(this.greetingMaxWidth=Math.ceil(e))}}homepageViewSettingsChanged(t){this.homepageViewSettings&&!t&&window.addEventListener("homepage-view-settings-focus",this.focusFeedSwitchSettings,{once:!0})}getCommonSearchBoxOptions(){return{...this.config.newSearchBoxConfig,localizedStrings:{buttonSearchMSN:this.config.localizedStrings.buttonSearchMSN,tabSearchMSN:this.config.localizedStrings.tabSearchMSN,placeholderWithMSN:this.config.localizedStrings.placeholderTextWithMSN,placeholderWithMSNv2:this.config.localizedStrings.placeholderTextWithMSNv2,placeholderText:this.config.localizedStrings.searchPlaceholderText,inputTitle:this.config.localizedStrings.searchTooltip,buttonText:this.config.localizedStrings.searchButtonTooltip,voiceButtonTitle:this.config.localizedStrings.searchVoiceButtonTitle,clearButtonTitle:this.config.localizedStrings.searchClearButtonTitle,imageButtonTitle:this.config.localizedStrings.searchImageButtonTitle,adLabel:this.config.localizedStrings.adLabel},additionalFormParamMap:this.getAdditionalFormParamMap(),enableClarity:this.config.newSearchBoxConfig.enableClarity}}getAdditionalFormParamMap(){const t=new URLSearchParams(location.search);return{refig:q.M0&&q.M0.getRequestId()||"",mkt:A.jG.CurrentMarket,ocid:t.get("ocid")}}configChanged(t){var e;if(t)return;this.config.localizedStrings=this.strings||this.config.localizedStrings;const n=(null===(e=this.config.searchBoxConfig)||void 0===e?void 0:e.showSearchBoxPlaceHolder)||this.showSearchBoxPlaceHolder||this.config.isMobileView;this.searchBoxOptions={...this.config.searchBoxConfig,childSearchBoxComponent:this.config.staticSearchBoxStyle?"msnhp-search-box":"msft-search-box",localizedStrings:{btnTooltip:this.config.localizedStrings.searchButtonTooltip,placeholder:n?this.config.localizedStrings.searchPlaceholderText:"",tooltip:this.config.localizedStrings.searchTooltip,adLabel:this.config.localizedStrings.adLabel},disableDarkMode:!1,enableMsnHpMobilePageStyle:this.config.isMobileView,trendingSearchConfig:this.config.trendingSearchConfig},this.config.newSearchBoxConfig&&(this.newSearchBoxOptions=this.getCommonSearchBoxOptions());const i=(0,ut.V)("header",{type:G.c9.Module});this.setAttribute(J.qP,i.getMetadataTag()),this.logoConfigs=this.getLogoConfigs(),this.meControlConfigs=this.getMeControlConfigs(),this.useNewSettings||(this.settingsConfigs=this.getSettingsConfigs()),this.addEventListener("close",this.handleCloseEvent,!1)}shadowDomPopulated(){this.setVisuallyReadyMarkers(),this.changeSearchBarStyle(),this.changeMeControlStyle(),document.addEventListener("click",this.handleClickOutside)}disconnectedCallback(){var t;super.disconnectedCallback(),document.removeEventListener("click",this.handleClickOutside),this.removeEventListener("close",this.handleCloseEvent,!1),null===(t=this.commonSearchBoxRef)||void 0===t||null===(t=t.inputElement)||void 0===t||t.removeEventListener("input",this.handInputEvent)}handleCloseEvent(){this.isfeedbackDialogVisible=!1,this.feedbackButton&&K.H.enqueue((()=>this.feedbackButton.focus()))}setVisuallyReadyMarkers(){this.ttvrFired||(this.ttvrFired=!0,(0,st.BW)(a.Wfs),this.markVisuallyReadyRaf())}defineMsnhpSearchBox(){let t;t=this.config.isMobileView?D:R+((0,c.cN)(A.jG.CurrentMarket)?F:E);const e=C.i`
            ${u.bS}
            ${t}
        `;l.R.compose({name:"msnhp-search-box",template:(0,d.X)({endContent:Q.dy`
            <svg
                width="20"
                height="20"
                viewBox="3 3 14 14"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M8.5 3a5.5 5.5 0 014.23 9.02l4.12 4.13a.5.5 0 01-.63.76l-.07-.06-4.13-4.12A5.5 5.5 0 118.5 3zm0 1a4.5 4.5 0 100 9 4.5 4.5 0 000-9z"
                />
            </svg>
            `,clearContent:Q.dy`<svg width="18" height="18" viewBox="0 0 12 12"><path d="M6.85 6 12 11.15l-.85.85L6 6.85.85 12 0 11.15 5.15 6 0 .85.85 0 6 5.15 11.15 0l.85.85L6.85 6Z"></path></svg>`}),styles:e,shadowOptions:{delegatesFocus:!0}}).define(f.j.registry)}async changeSearchBarStyle(){var t;if(null!==(t=this.config)&&void 0!==t&&t.staticSearchBoxStyle)return;await customElements.whenDefined("msn-search-box");const e=await Z("msn-search-box",this.shadowRoot);if(e){var n,i;let t;tt(e.shadowRoot,O),t=this.config.isMobileView?D:R+((0,c.cN)(A.jG.CurrentMarket)?F:E),tt(null===(n=(i=e.shadowRoot).querySelector)||void 0===n?void 0:n.call(i,"msft-search-box").shadowRoot,t)}}async changeMeControlStyle(){await customElements.whenDefined("msn-me-control");const t=await Z("msn-me-control",this.shadowRoot);if(t){let e=N;this.config.isMobileView&&(e+=B),tt(t.shadowRoot,e+((0,c.cN)(A.jG.CurrentMarket)?L:U))}}async changeSearchHistoryStyle(){await customElements.whenDefined("search-history-edgenext");const t=await Z("search-history-edgenext",this.shadowRoot);t&&tt(t.shadowRoot,M)}beforeHydration(){return this.hpTtvrFired=!0,super.beforeHydration()}async experienceConnected(){var t;this.hasInitialized||(this.hasInitialized=!0,this.useNewSettings=!!this.config.useNewSettings,null!==(t=this.config)&&void 0!==t&&t.staticSearchBoxStyle&&this.defineMsnhpSearchBox(),this.telemetryUserObject={signInTelemetryObject:(0,ut.u)("header-signin",G.wu.Undefined,G.c9.Module),settingsTelemetryObject:(0,lt.X)("settings",{type:G.uH.Settings},G.wu.Open,G.c9.ActionButton),feedbackTelemetryObject:(0,ut.u)("feedback",G.wu.Open),helpTelemetryObject:(0,ut.u)("helpLink",G.wu.Navigate),recentSearchTelemetryObject:(0,lt.X)("recentsearch",{type:G.uH.Feed},G.wu.Navigate,G.Aw.Click),weatherTelemetryObject:(0,lt.X)("weatherTodayMini",{type:G.uH.Feed},G.wu.Navigate,G.Aw.Click,G.c9.ActionButton),sidebarMenuTelemetryObject:(0,ut.u)("sidebarMenu",G.wu.Close,G.Aw.Click,G.c9.ActionButton),settingsMenuTelemetryObject:(0,ut.u)("settingsMenu",G.wu.Close,G.Aw.Click,G.c9.ActionButton),msnLogoTelemetryObject:(0,ut.u)("msnLogo",G.wu.Refresh,G.Aw.Click,G.c9.ActionButton),startAppTelemetryObject:(0,ut.u)("openInStartApp",G.wu.Launch,G.Aw.Click,G.c9.ActionButton),mailTelemertyObject:(0,ut.u)("ShareMail",G.wu.Open,G.Aw.Click,G.c9.ActionButton)},this.useNewSettings&&(this.settingsDialogOptions=await this.getSettingsOptions()),(0,ct.F_)().then((()=>{var t;this.config.isMobileView&&(this.hpTtvrFired=!0);this.config.searchHistoryConfig&&!this.config.newSearchBoxConfig&&this.changeSearchHistoryStyle(),Promise.all([]).then((()=>{this.hpTtvrFired=!0})),null!==(t=this.config.childExperienceConfigInfo)&&void 0!==t&&t.greetingConfigRef&&window.setTimeout((()=>{this.setupResizeObserver()}),0)})))}async getSettingsOptions(){const{localizedStrings:t}=this.config,e={localizedStrings:{dialogTitle:t.settingsDialogTitle,dialogButton:t.settingsButtonTooltip,closeButton:t.settingsCloseButtonTooltip}};if(A.jG.IsChinaCompliance)e.footer={displayChinaCompliance:!0};else{const n=c.$n.sort(c.bT);e.marketSettings={marketSelectorId:"language-selector",title:t.newLanguageDropdownLabel,marketList:n,defaultMarketId:(0,A.Yq)().CurrentMarket||"en-us",marketSelectorAriaLabel:t.newLanguageDropdownLabel,onMarketValueChange:t=>{this.settingsDialog&&this.settingsDialog.closeDialog(),this.onMarketChange(t)}}}if(this.config.enablePrivacyLinksInSettings){const t=this.config.verticalFooterMap&&(this.config.verticalFooterMap[A.jG.HostPage.verticalKey]||this.config.verticalFooterMap.default),n=(null==t?void 0:t.configRef)??{experienceType:"HomepageFooter",instanceSrc:"default",sharedNs:"msn-ns"},i=await et.U.getConfig(n),r=this.buildPrivacyLinks(i);e.footer={...e.footer,footerLinks:r.footerLinks,appStoreBadges:r.appStoreBadges}}return e.footer||e.marketSettings?e:null}needPrivacySettings(){var t;return dt.A.get(dt.U.CookieConsentProvider)===ft.i.OneTrustBanner&&"function"==typeof(null===(t=window.OneTrust)||void 0===t?void 0:t.ToggleInfoDisplay)}buildPrivacyLinks(t){var e,n;const i=t.properties,r=[],o=[],s=this.needPrivacySettings();var a;s&&r.push({title:i.localizedStrings.privacySettings,url:"",onClick:null===(a=window.OneTrust)||void 0===a?void 0:a.ToggleInfoDisplay,telemetryTag:(0,ht.y)("PrivacySettings",G.wu.Open)});if(i&&Object.keys(i).forEach((t=>{const e=i[t];if(!e||!e.href||"footer_cookie_consent"===t&&!s)return;let n=e.displayKey&&i.localizedStrings?i.localizedStrings[e.displayKey]:e.display;n||(n=e.children),r.push({...e,url:e.href,title:n,iconName:"caPrivacy"===e.iconId?"CaPrivacy":"",telemetryTag:(0,ht.y)(n)})})),i&&i.footer_see_more&&Object.keys(i.footer_see_more).forEach((t=>{var e;const n=i.footer_see_more[t],s=n.displayKey&&i.localizedStrings?i.localizedStrings[n.displayKey]:n.children||(null===(e=n.content)||void 0===e?void 0:e.children);s?r.push({...n,url:n.link,title:s,telemetryTag:(0,ht.y)(s)}):n.storeLink&&o.push({...n})})),i&&null!==(e=i.seeMoreButton)&&void 0!==e&&e.links&&Object.keys(i.seeMoreButton.links).forEach((t=>{const e=i.seeMoreButton.links[t],n=e.displayKey&&i.localizedStrings?i.localizedStrings[e.displayKey]:e.display;r.push({...e,url:e.href,title:n,telemetryTag:(0,ht.y)(n)})})),i&&null!==(n=i.seeMoreButton)&&void 0!==n&&n.appStores){const t="zh-cn"===A.jG.CurrentMarket?"en-us":A.jG.CurrentMarket,e=t.split("-")[0],n=t.split("-")[1];Object.keys(i.seeMoreButton.appStores).forEach((r=>{const s=i.seeMoreButton.appStores[r];if("appleStore"==r&&i.seeMoreButton.appleMediaServicesUrls){if(A.jG.IsChinaCompliance)return;{const{imgUrl:e,url:r}=i.seeMoreButton.appleMediaServicesUrls;s.storeLink=r.replace("{next_market}",n),s.imageSrc=e.replace("{market}",t),s.fallbackImageSrc=e.replace("{market}","en-us")}}if("androidStore"==r){if(A.jG.IsChinaCompliance)return;if(i.seeMoreButton.androidMediaServicesUrls){const{imgUrl:n,url:r}=i.seeMoreButton.androidMediaServicesUrls;s.imageSrc=n.replace("{market}",t),s.imageSrc=s.imageSrc.replace("{pre_market}",e),s.storeLink=r.replace("{market}",t),s.fallbackImageSrc=n.replace("{market}","en-us"),s.fallbackImageSrc=s.fallbackImageSrc.replace("{pre_market}","en")}}if(!s.storeLink||!s.altText||!s.imageSrc)return;const a=i.localizedStrings&&i.localizedStrings[s.altText]||s.altText;o.push({...s,altText:a})}))}return r.forEach(((t,e)=>t.separator=!t.iconName&&e!==r.length-1)),{footerLinks:r,appStoreBadges:o}}topSectionOnResize(){const t=this.commonSearchBoxRef||this.findFirstAssignedElement(this.contentSlotRef);if(!this.topContainer||!t||!this.userPref)return;const e=innerWidth<956?Math.floor(this.topContainer.offsetWidth-133-12):Math.floor((this.topContainer.offsetWidth-t.offsetWidth)/2-12),n=Array.from(this.userPref.children),i=this.findElementsBySelectors(n,pt),r=this.findElementsBySelectors(n,mt);let o=0;const s=[];i.forEach((t=>{const e=(s.length,0);t.classList.contains("settings-container")&&this.settingsWidth>0?o+=this.settingsWidth+e:o+=t.offsetWidth+e,s.push(t)})),r.reverse().forEach((t=>{const n=(s.length,0);t.classList.contains("me-control-container")&&(this.compressedSignInButton=e-o<100),"WELCOME-GREETING"===t.tagName||"WELCOME-GREETING-LIGHT"===t.tagName?(this.spaceForGreeting=Math.min(e-o-n,this.greetingMaxWidth),this.spaceForGreeting=Math.max(this.spaceForGreeting,this.greetingMinWidth),o+=this.spaceForGreeting+n):o+=t.offsetWidth+n,o<=e&&s.push(t)})),n.forEach((t=>{t.classList.toggle("overflow",!s.includes(t))}))}openFeedback(){var t,e;const n=null===(t=(e=this.shadowRoot).querySelector)||void 0===t?void 0:t.call(e,"feedback-dialog-wc");n&&(this.isfeedbackDialogVisible=!0,n.visible=!0)}shouldShowMarketSelector(){return!A.jG.IsChinaCompliance}getLogoConfigs(){const t=(0,ut.u)("msnLogo",G.wu.Refresh,G.c9.NavBar);return{logoImage:this.config.logoImage,telemetryMetadata:t.getMetadataTag(),altText:this.config.enableLogoAltText?this.config.localizedStrings.logoAltText:null,logoText:"msn",logoHoverText:this.config.localizedStrings.logoText}}getMeControlConfigs(){const{meControlConfig:t,localizedStrings:e}=this.config,{signedInWidePageDisplayMode:n,signedInNarrowPageDisplayMode:i,signedOutWidePageDisplayMode:r,signedOutNarrowPageDisplayMode:o}=t,s=(0,ut.u)("SignInNavigation",G.wu.Navigate,G.c9.ActionButton);return{partnerId:t.partnerId,signInTooltipText:e.signInTooltip,signedInNarrowPageDisplayMode:i,signedOutNarrowPageDisplayMode:o,signedInWidePageDisplayMode:n,signedOutWidePageDisplayMode:r,telemetryTag:s.getMetadataTag(),telemetryDestinationUrl:"https://login.live.com/",disableDarkMode:!1}}getSettingsConfigs(){const{localizedStrings:t,settingsConfig:e}=this.config,n=c.$n.sort(c.bT).map((t=>{const e=(0,lt.X)("MarketSelector",{type:G.uH.Settings,headline:t.displayString},G.wu.Customize,G.c9.ActionButton);return{...t,marketSelectorConfigMetaTag:e.getMetadataTag()}})),i=(0,lt.X)("MarketSelector",{type:G.uH.Settings,headline:"MarketSelectorConfigs"},G.wu.Customize,G.c9.ActionButton),r={id:"language-selector",onValueChange:this.onMarketChange,defaultMarketId:(0,A.Yq)().CurrentMarket||"en-us",marketList:n,label:t.languageDropdownLabelClassic,marketSelectorMetaTag:i.getMetadataTag()};let o={localizedStrings:{languageDropdownLabel:t.languageDropdownLabelClassic,settingsButtonTooltip:t.settingsButtonTooltip,settingsFeedbackText:t.settingsFeedbackText,settingsHelpText:t.settingsHelpText},marketSelectorProps:r};if(e){const{feedbackLinkConfig:t,helpLinkConfig:n,icpLinkConfig:i}=e;o={feedbackLinkConfig:t,helpLinkConfig:n,icpLinkConfig:i,...o}}return o}getExperienceType(){return a.Wfs}showSettingsDialog(){this.isSettingsDialogVisible=!0,document.addEventListener("keydown",this.onKeydown)}toggleSettingsDialog(){this.isSettingsDialogVisible?this.hideSettingsDialog():this.showSettingsDialog()}hideSettingsDialog(){this.isSettingsDialogVisible=!1,document.removeEventListener("keydown",this.onKeydown),this.shouldFocusFeedSwitch&&(this.shouldFocusFeedSwitch=!1)}toggleSideBar(){this.isSidebarVisible=!this.isSidebarVisible,this.isNavbarVisible=!1}toggleNavBar(){this.isNavbarVisible=!this.isNavbarVisible,this.isSidebarVisible=!1}isNavbarVisibleChanged(t,e){this.modifyBodyScrollStyle(t,e)}isSidebarVisibleChanged(t,e){this.modifyBodyScrollStyle(t,e)}modifyBodyScrollStyle(t,e){this.config&&this.config.enableScrollV2&&(0,rt.N)()&&(!1===t&&!0===e?document.body.classList.add("no-scroll"):!0===t&&!1===e&&document.body.classList.remove("no-scroll"))}headerOnResize(){const t=innerWidth<995?Math.floor(this.topContainerRef.offsetWidth-250-12):Math.floor((this.topContainerRef.offsetWidth-this.searchBoxRef.offsetWidth)/2-12);this.weatherGreetingSpace=Math.max(Math.min(t-144,this.greetingMaxWidth),this.greetingMinWidth)}setupResizeObserver(){if(!("ResizeObserver"in window))return;const t=new window.ResizeObserver((0,nt.Z)((()=>{this.headerOnResize()}),200));this.topContainerRef&&t.observe(this.topContainerRef)}}(0,s.gn)([X.LO],wt.prototype,"options",void 0),(0,s.gn)([X.LO],wt.prototype,"spaceForGreeting",void 0),(0,s.gn)([X.LO],wt.prototype,"compressedSignInButton",void 0),(0,s.gn)([X.LO],wt.prototype,"useNewSettings",void 0),(0,s.gn)([X.LO],wt.prototype,"config",void 0),(0,s.gn)([X.LO],wt.prototype,"searchBoxOptions",void 0),(0,s.gn)([X.LO],wt.prototype,"newSearchBoxOptions",void 0),(0,s.gn)([X.LO],wt.prototype,"settingsConfigs",void 0),(0,s.gn)([X.LO],wt.prototype,"meControlConfigs",void 0),(0,s.gn)([X.LO],wt.prototype,"logoConfigs",void 0),(0,s.gn)([X.LO],wt.prototype,"settingsDialogOptions",void 0),(0,s.gn)([X.LO],wt.prototype,"telemetryContext",void 0),(0,s.gn)([X.LO],wt.prototype,"logoText",void 0),(0,s.gn)([X.LO],wt.prototype,"selectedMarketId",void 0),(0,s.gn)([X.LO],wt.prototype,"isSettingsDialogVisible",void 0),(0,s.gn)([X.LO],wt.prototype,"isfeedbackDialogVisible",void 0),(0,s.gn)([X.LO],wt.prototype,"isSearchHistoryLoaded",void 0),(0,s.gn)([X.LO],wt.prototype,"hpTtvrFired",void 0),(0,s.gn)([X.LO],wt.prototype,"inputElementHasInput",void 0),(0,s.gn)([X.LO],wt.prototype,"homepageViewSettings",void 0),(0,s.gn)([X.LO],wt.prototype,"shouldFocusFeedSwitch",void 0),(0,s.gn)([X.LO],wt.prototype,"isSidebarVisible",void 0),(0,s.gn)([X.LO],wt.prototype,"isNavbarVisible",void 0),(0,s.gn)([X.LO],wt.prototype,"columnArrangement",void 0),(0,s.gn)([X.LO],wt.prototype,"codexBingChatTelemetryTags",void 0),(0,s.gn)([X.LO],wt.prototype,"weatherGreetingSpace",void 0);var yt=n(41472),bt=n(89150),St=n(93703),xt=n(67319),Ct=n(31864),kt=n(47819),Tt=n(34939),$t=n(49903),At=n(28123);xt.Hm,Ct.S,kt.PW,Tt.j;const It=Q.dy`<div><button class="${t=>t.config.isMobileView?"settings-menu-item-mobile":"settings-menu-item"}" title="${t=>t.settingsConfigs.localizedStrings.settingsFeedbackText}" @click=${t=>t.openFeedback()} @keypress=${t=>t.openFeedback()} data-t="${t=>{var e;return null===(e=t.telemetryUserObject.feedbackTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.i)("feedbackButton")}>${t=>t.settingsConfigs.localizedStrings.settingsFeedbackText}</button>${t=>(0,$t.Ot)(t.settingsConfigs.feedbackLinkConfig.feedbackDialogConfigInfo)}</div>`,Pt=Q.dy`<div><cs-homepage-view-settings class="${t=>t.shouldFocusFeedSwitch?"focus-switch":""}" :data=${t=>t.homepageViewSettings}></cs-homepage-view-settings></div>`,_t=Q.dy`<a href="${t=>t.settingsConfigs.helpLinkConfig.href}" target="_blank" rel="noopener" class= "${t=>t.config.isMobileView?"settings-menu-item-mobile":"settings-menu-item "}" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsHelpText}" title="${t=>t.settingsConfigs.localizedStrings.settingsHelpText}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.helpTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${t=>t.settingsConfigs.localizedStrings.settingsHelpText}</a>`,Mt=Q.dy`<div class="footer-links">${(0,bt.rx)((t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.links}),Q.dy`<a href="${t=>t.link}" aria-label="${t=>t.displayText}" title="${t=>t.displayText}">${t=>t.displayText}</a>${(0,St.g)(((t,e)=>!e.isLast),Q.dy` | `)} `,{positioning:!0})}</div>`,Rt=Q.dy`<fluent-divider class="settings-dialog-divider"></fluent-divider><div class="icp-footer">${(0,St.g)((t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.footer}),Q.dy`<div aria-label="${t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.footer.displayText}}" title="${t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.footer.displayText}}">${t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.footer.displayText}}</div>`)} ${(0,St.g)((t=>{var e,n;return(null===(e=t.settingsConfigs)||void 0===e||null===(e=e.icpLinkConfig)||void 0===e?void 0:e.links)&&(null===(n=t.settingsConfigs)||void 0===n||null===(n=n.icpLinkConfig)||void 0===n?void 0:n.links.length)>0}),Mt)}</div>`,Et=Q.dy`<div class="settings-dialog-background" @click=${t=>t.hideSettingsDialog()}></div><div class="settings-dialog settings-dialog-with-direction">${(0,St.g)((t=>t.shouldShowMarketSelector()),Q.dy`<div class="language-dropdown"><msn-market-selector :id="${t=>t.settingsConfigs.marketSelectorProps.id}" :onValueChange="${t=>t.settingsConfigs.marketSelectorProps.onValueChange}" :defaultMarketId="${t=>t.settingsConfigs.marketSelectorProps.defaultMarketId}" :selectedMarketId="${t=>t.selectedMarketId}" :marketList="${t=>t.settingsConfigs.marketSelectorProps.marketList}" :label="${t=>t.settingsConfigs.marketSelectorProps.label}" :marketSelectorMetaTag="${t=>t.settingsConfigs.marketSelectorProps.marketSelectorMetaTag}" @change=${t=>t.hideSettingsDialog()}></msn-market-selector></div>`)} ${(0,St.g)((t=>{var e,n;return((null===(e=t.settingsConfigs)||void 0===e||null===(e=e.feedbackLinkConfig)||void 0===e?void 0:e.show)||(null===(n=t.settingsConfigs)||void 0===n||null===(n=n.helpLinkConfig)||void 0===n?void 0:n.show))&&t.shouldShowMarketSelector()}),Q.dy`<fluent-divider class="settings-dialog-divider"></fluent-divider>`)} ${(0,St.g)((t=>t.homepageViewSettings),Pt)} ${(0,St.g)((t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.feedbackLinkConfig)||void 0===e?void 0:e.show}),It)} ${(0,St.g)((t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.helpLinkConfig)||void 0===e?void 0:e.show}),_t)} ${(0,St.g)((t=>{var e;return null===(e=t.settingsConfigs)||void 0===e?void 0:e.icpLinkConfig}),Rt)}</div>`,Ft=Q.dy`<div class="me-control-container" @click="${(t,e)=>(t.clickMeControl(e.event),!0)}"><msn-me-control :meControlOptions="${t=>t.meControlConfigs}"></msn-me-control></div>`,Dt=Q.dy`<cs-market-settings :data=${t=>t.settingsDialogOptions&&t.settingsDialogOptions.marketSettings}></cs-market-settings>`,Ot=Q.dy`<fluent-button class="settings-button" appearance="stealth" @click=${t=>t.toggleSettingsDialog()} title="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-expanded="${t=>t.isSettingsDialogVisible?"true":"false"}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.settingsTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.i)("settingsGearButton")}><slot name="glyph">${Q.dy.partial('<svg width="16" height="16" viewBox="0 0 16 16"><path d="M13.93 8.94a.25.25 0 0 0 .15.22l1.67.7c.07.03.13.07.17.13a.37.37 0 0 1 .06.21.68.68 0 0 1-.04.18 3.86 3.86 0 0 1-.11.32l-.16.36a11.13 11.13 0 0 1-.3.71l-.09.2a.33.33 0 0 1-.14.18.36.36 0 0 1-.2.06c-.1 0-.23-.04-.42-.12a23.5 23.5 0 0 1-.56-.25l-.55-.26c-.18-.08-.3-.12-.39-.12a.24.24 0 0 0-.2.1 9.67 9.67 0 0 1-.59.68 5.76 5.76 0 0 1-.67.59.34.34 0 0 0-.08.1.2.2 0 0 0-.03.1c0 .09.04.21.12.38a35.14 35.14 0 0 0 .52 1.12c.07.18.11.31.11.4a.34.34 0 0 1-.07.22.38.38 0 0 1-.17.14 7.75 7.75 0 0 0-.36.16 32.49 32.49 0 0 1-.55.24 17.56 17.56 0 0 1-.86.3.4.4 0 0 1-.2-.06.34.34 0 0 1-.14-.17l-.7-1.68a.25.25 0 0 0-.09-.1.23.23 0 0 0-.14-.05H8.9l-.44.05a6.26 6.26 0 0 1-.44.02 4.58 4.58 0 0 1-.46-.02l-.45-.05h-.04a.25.25 0 0 0-.23.15l-.69 1.67a.34.34 0 0 1-.13.17.37.37 0 0 1-.21.06.8.8 0 0 1-.18-.04 9.9 9.9 0 0 1-.32-.11 50.63 50.63 0 0 0-.36-.15 16.3 16.3 0 0 0-.71-.3 5.45 5.45 0 0 1-.2-.1.34.34 0 0 1-.18-.13.4.4 0 0 1-.06-.21c0-.1.04-.23.11-.4.08-.2.17-.38.26-.57l.26-.56c.08-.17.12-.3.12-.39a.24.24 0 0 0-.1-.2 9.68 9.68 0 0 1-.68-.59 5.76 5.76 0 0 1-.59-.67c-.06-.07-.12-.1-.2-.1-.09 0-.21.03-.39.11a35.14 35.14 0 0 0-1.11.52c-.18.07-.32.11-.4.11a.37.37 0 0 1-.22-.06.43.43 0 0 1-.14-.18 7.79 7.79 0 0 0-.16-.36 32.55 32.55 0 0 1-.24-.54 36.12 36.12 0 0 1-.2-.54c-.07-.16-.1-.27-.1-.32 0-.08.02-.14.06-.2a.33.33 0 0 1 .17-.15l1.68-.7a.25.25 0 0 0 .1-.09.23.23 0 0 0 .05-.14V8.9L2 8.45A6.25 6.25 0 0 1 2 8.01a4.4 4.4 0 0 1 .02-.46l.05-.45v-.04a.25.25 0 0 0-.15-.22l-1.67-.7a.34.34 0 0 1-.17-.13.37.37 0 0 1-.06-.21c0-.04 0-.1.04-.18a53.8 53.8 0 0 1 .26-.68 93.7 93.7 0 0 0 .4-.92.34.34 0 0 1 .13-.17.4.4 0 0 1 .21-.06c.1 0 .23.04.4.12.2.07.38.16.57.25l.56.26c.17.08.3.12.39.12a.24.24 0 0 0 .2-.1 8.08 8.08 0 0 1 1.26-1.27.24.24 0 0 0 .1-.2c0-.09-.03-.21-.11-.38a23.24 23.24 0 0 0-.26-.55l-.26-.56a1.18 1.18 0 0 1-.11-.42c0-.08.02-.15.06-.2A.43.43 0 0 1 4.04.7 7.67 7.67 0 0 0 4.4.55 14.18 14.18 0 0 1 5.8.01c.08 0 .15.02.2.06a.33.33 0 0 1 .15.17l.7 1.68a.31.31 0 0 0 .09.11.26.26 0 0 0 .14.04h.03a6.23 6.23 0 0 1 .44-.05 4.18 4.18 0 0 1 .9 0l.45.05h.04a.25.25 0 0 0 .22-.15l.7-1.67a.34.34 0 0 1 .13-.17.37.37 0 0 1 .21-.06 3.61 3.61 0 0 1 .48.16c.13.04.25.1.38.15a13.75 13.75 0 0 1 .7.3l.22.09c.07.02.13.07.17.14.04.06.06.13.06.2 0 .1-.04.23-.11.42a22.03 22.03 0 0 1-.52 1.11c-.08.18-.12.3-.12.39 0 .08.04.15.1.2a8.08 8.08 0 0 1 1.27 1.26.24.24 0 0 0 .2.1c.09 0 .21-.03.39-.11a22.1 22.1 0 0 0 1.1-.52c.19-.07.32-.11.42-.11.08 0 .15.02.2.07.07.04.12.1.15.17l.16.36a14.18 14.18 0 0 1 .54 1.4c0 .08-.02.15-.06.22a.34.34 0 0 1-.17.13l-1.68.7a.31.31 0 0 0-.11.09.26.26 0 0 0-.04.14v.03l.05.44a4.18 4.18 0 0 1 0 .9l-.05.45v.04ZM8 12c.55 0 1.07-.1 1.55-.31a4.04 4.04 0 0 0 2.14-2.14A3.9 3.9 0 0 0 12 8c0-.55-.1-1.07-.32-1.55a3.92 3.92 0 0 0-.86-1.28A3.95 3.95 0 0 0 8 4a3.83 3.83 0 0 0-1.56.32A4.01 4.01 0 0 0 4.3 6.45 3.9 3.9 0 0 0 4 8a3.9 3.9 0 0 0 1.17 2.84c.37.36.8.64 1.27.85A3.9 3.9 0 0 0 8 12Z" fill-opacity=".83"/></svg>')}</slot></fluent-button>${(0,St.g)((t=>t.isSettingsDialogVisible),Et)}
`,Nt=Q.dy`<cs-common-settings-dialog :localizedStrings=${t=>t.settingsDialogOptions&&t.settingsDialogOptions.localizedStrings} :enableCleanSettings=${!0} :disableHover=${!0} :useKumo=${!1} :updateButtonWidth=${t=>t.updateSettingsWidth} :darkBackground=${!1} class="layout-no-border ${t=>t.settingsDialogOptions&&t.settingsDialogOptions.marketSettings&&"layout-padding"} ${(0,yt.i)("settingsDialog")}>${Dt}<cs-win-settings-footer :data=${t=>t.settingsDialogOptions&&t.settingsDialogOptions.footer} slot="footer"></cs-win-settings-footer>${(0,St.g)((t=>t.homepageViewSettings),Pt)}</cs-common-settings-dialog>`,Ut=Q.dy`<div class="settings-container">${(0,St.g)((t=>t.config.useNewSettings),Nt,Ot)}</div>`,Lt=Q.dy`<div class="logo" title="${t=>t.logoConfigs.altText}"><a aria-label="${t=>t.logoConfigs.logoHoverText}" title="${t=>t.logoConfigs.altText}" @click="${(t,e)=>t.refreshPage(e.event)}" role="link" href="/" data-t="${t=>t.logoConfigs.telemetryMetadata}"><span class="NewMSNLogo"></span></a></div>`,Bt=Q.dy` ${t=>(0,$t.Ot)(t.config.searchHistoryConfig,{properties:{recentSearchTelemetryObject:t.telemetryUserObject.recentSearchTelemetryObject}})}
`,Wt=Q.dy`<div slot="${t=>{var e;return null!==(e=t.config.newSearchBoxConfig)&&void 0!==e&&e.showCodexButtonInBox?"search-options":"codex-bing-chat"}}" data-t="${t=>t.codexBingChatTelemetryTags}">${t=>{var e,n,i;return(null===(e=t.newSearchBoxOptions)||void 0===e||null===(e=e.childExperienceReferencesWC)||void 0===e?void 0:e.CodexBingChat)&&(0,$t.Ot)(null===(n=t.newSearchBoxOptions)||void 0===n?void 0:n.childExperienceReferencesWC.CodexBingChat,{properties:{showCodexButtonInBox:null===(i=t.newSearchBoxOptions)||void 0===i?void 0:i.showCodexButtonInBox}})}}</div>`,Ht=Q.dy`<div class="search-container" role="search"><cs-common-search-box ${(0,yt.i)("commonSearchBoxRef")} :options=${t=>t.newSearchBoxOptions} :enableAutoSuggestion=${t=>!0}>${(0,St.g)((t=>{var e,n;return(null===(e=t.newSearchBoxOptions)||void 0===e||null===(e=e.childExperienceReferencesWC)||void 0===e?void 0:e.CodexBingChat)&&(!(null!==(n=t.newSearchBoxOptions)&&void 0!==n&&n.showCodexButtonInBox)||!t.inputElementHasInput)}),Wt)}</cs-common-search-box>${(0,St.g)((t=>t.config.searchHistoryConfig&&t.hpTtvrFired),Bt)}</div>`,zt=Q.dy`<div class="search-container ${t=>t.config.isMobileView?"search-container-mobile":""}" role="search" ${(0,yt.i)("searchBoxRef")}>${(0,St.g)((t=>t.config.searchBoxConfig&&!t.config.yandexSearchBoxWCConfig),Q.dy`<msn-search-box :options="${t=>t.searchBoxOptions}" :hoverFocusOutlineStyle=${t=>t.searchBoxOptions.hoverFocusOutlineStyle} ?msnhp=${t=>t.config.staticSearchBoxStyle}></msn-search-box>`)} ${(0,St.g)((t=>!t.config.searchBoxConfig&&t.config.yandexSearchBoxWCConfig),Q.dy` ${t=>(0,$t.Ot)(t.config.yandexSearchBoxWCConfig)}`)} ${(0,St.g)((t=>t.config.searchHistoryConfig),Bt)}</div>`,Vt=Q.dy`<div class="user-pref-container"><div class="sign-in-container" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.signInTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${(0,St.g)((t=>{var e;return t.hpTtvrFired&&(null===(e=t.config.childExperienceConfigInfo)||void 0===e?void 0:e.greetingConfigRef)}),(t=>{var e;return(0,$t.Ot)(null===(e=t.config.childExperienceConfigInfo)||void 0===e?void 0:e.greetingConfigRef,{properties:{rootMaxWidth:t.weatherGreetingSpace,updateGreetingWidth:t.updateGreetingWidth}})}))} ${(0,St.g)((t=>t.config.msRewardsConfig&&t.config.showMsRewards&&t.hpTtvrFired),(t=>(0,$t.Ot)(t.config.msRewardsConfig)))} ${(0,St.g)((t=>t.config.showMeControl&&(0,At.bD)()),Ft)} ${Ut}</div></div>`,jt=Q.dy`<div class="root-container" role="banner" ${(0,yt.i)("topContainerRef")}><div class="header-container ${t=>t.config.isMobileView?"dismiss-mobile":"dismiss"}">${Lt} ${t=>t.config.newSearchBoxConfig?Ht:zt} ${(0,St.g)((t=>t.hpTtvrFired),Vt)}</div></div>`,qt=Q.dy`<a href="${t=>t.settingsConfigs.helpLinkConfig.href}" target="_blank" rel="noopener" role="menuitem" class= "settings-menu-item-mobile" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsHelpText}" title="${t=>t.settingsConfigs.localizedStrings.settingsHelpText}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.helpTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}"><div class="setting-option"><img part="icon" class="msn-mobile-icon" alt="Help" src='${t=>A.jG.StaticsUrl}latest/fluent-icons/chat_help_20_regular.svg'>${t=>t.settingsConfigs.localizedStrings.settingsHelpText}</div></a>`,Gt=Q.dy`<button role="menuitem" class="settings-menu-item-mobile" title="${t=>t.settingsConfigs.localizedStrings.settingsFeedbackText}" @click=${t=>t.openFeedback()} @keypress=${t=>t.openFeedback()} data-t="${t=>{var e;return null===(e=t.telemetryUserObject.feedbackTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.i)("feedbackButton")}><div class="setting-option"><img part="icon" class="msn-mobile-icon" alt="Feedback" src='${t=>A.jG.StaticsUrl}latest/fluent-icons/person_feedback_20_regular.svg'>${t=>t.settingsConfigs.localizedStrings.settingsFeedbackText}</div></button>${t=>(0,$t.Ot)(t.settingsConfigs.feedbackLinkConfig.feedbackDialogConfigInfo)}
`,Jt=Q.dy`<span class="msn-mobile-logo NewMSNLogoMobile"></span>`,Kt=Q.dy`<div class="msn-sidebar msn-bar-block ${t=>t.isSidebarVisible?"mobile-sidebar-active":"mobile-flyout-hidden"}"><div class="msn-sidebar-contents"><div class="menu-header-mobile">${Jt}<button type="submit" @click="${t=>t.toggleSideBar()}" class="mobile-close-btn" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.settingsMenuTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}"><img part="icon" class="msn-mobile-icon" alt="Close" src='${A.jG.StaticsUrl}latest/fluent-icons/dismiss_24_regular.svg' /></button></div><div class="sign-in-container-mobile" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.signInTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${(0,St.g)((t=>t.config.showMeControl&&(0,At.bD)()),Ft)}</div>${(0,St.g)((t=>t.shouldShowMarketSelector()),Q.dy`<div class="setting-option language-dropdown-wrapper"><div class="language-dropdown"><msn-market-selector class="market-selector-mobile" :id="${t=>t.settingsConfigs.marketSelectorProps.id}" :onValueChange="${t=>t.settingsConfigs.marketSelectorProps.onValueChange}" :defaultMarketId="${t=>t.settingsConfigs.marketSelectorProps.defaultMarketId}" :selectedMarketId="${t=>t.selectedMarketId}" :marketList="${t=>t.settingsConfigs.marketSelectorProps.marketList}" :label="${t=>t.settingsConfigs.marketSelectorProps.label}" :marketSelectorMetaTag="${t=>t.settingsConfigs.marketSelectorProps.marketSelectorMetaTag}" @change=${t=>t.hideSettingsDialog()}></msn-market-selector></div></div>`)} ${(0,St.g)((t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.feedbackLinkConfig)||void 0===e?void 0:e.show}),Gt)} ${(0,St.g)((t=>{var e;return null===(e=t.settingsConfigs)||void 0===e||null===(e=e.helpLinkConfig)||void 0===e?void 0:e.show}),qt)}</div></div>`,Qt=Q.dy`<div class="footer-container">${t=>(0,$t.Ot)(t.config.homepageFooterConfigInfo)}</div>`,Xt=Q.dy`<div class="msn-navbar-mobile ${t=>t.isNavbarVisible?"mobile-navbar-active":"mobile-flyout-hidden"}"><div class="navbar-items-mobile"><div class="menu-header-mobile">${Jt}<button type="submit" @click="${t=>t.toggleNavBar()}" class="mobile-close-btn" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.sidebarMenuTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}"><img part="icon" class="msn-mobile-icon" alt="Close" src='${A.jG.StaticsUrl}latest/fluent-icons/dismiss_24_regular.svg' /></button></div>${(0,St.g)((t=>t.config.feedNavigationHpConfigInfo),Q.dy`<div class="default-feed-nav-container-mobile">${t=>(0,$t.Ot)(t.config.feedNavigationHpConfigInfo,{properties:{itemClassName:"mobile-navigation-item"}})}<div class="msn-navbar-mobile-footer ${t=>t.isNavbarVisible?"":"hiddenfooter"}">${(0,St.g)((t=>t.config.homepageFooterConfigInfo),Qt)}</div></div>`)}</div></div>`,Yt=Q.dy`<div class="settings-container settings-container-mobile"><fluent-button class="settings-button-mobile" @click=${t=>t.toggleNavBar()} title="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-expanded="${t=>t.isNavbarVisible?"true":"false"}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.settingsTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.i)("settingsGearButton")}><img part="icon" class="msn-mobile-icon" alt="Navigation" src='${t=>A.jG.StaticsUrl}latest/fluent-icons/navigation_24_regular.svg'></fluent-button>${(0,St.g)((t=>t.isSettingsDialogVisible),Et)}</div>`,Zt=Q.dy`<div class="header-weather-container" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.weatherTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${t=>(0,$t.Ot)(t.config.childExperienceConfigInfo.weatherTodayMiniConfigInfo)}</div>`,te=Q.dy`<div class="logoMobile" title="${t=>t.logoConfigs.altText}">${(0,St.g)((t=>t.config.useNativeLinkForLogo),Q.dy`<a aria-label="${t=>t.logoConfigs.logoHoverText}" @click="${(t,e)=>t.refreshPage(e.event)}" role="link" href="${t=>window.location.href}" data-t="${t=>t.logoConfigs.telemetryMetadata}"><div class="logo-icon">${Jt}</div></a>`,Q.dy`<div class="logo-icon" @click="${(t,e)=>t.refreshPage(e.event)}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.msnLogoTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}">${Jt}</div>`)}</div>`,ee=Q.dy`<div class="mobileIcon"><a href="${t=>t.config.mobileIconHref}" class="icon mobile" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.startAppTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}"><img part="icon" class="msn-mobile-icon" alt="Download MSN App" src='${t=>A.jG.StaticsUrl}latest/fluent-icons/phone_24_regular.svg'></a></div>`,ne=Q.dy`<div class="emailIcon"><a href="https://aka.ms/msnoutlook" target="${t=>t.config.openInNewTab?"_blank":"_self"}" class="icon email"  data-t="${t=>{var e;return null===(e=t.telemetryUserObject.mailTelemertyObject)||void 0===e?void 0:e.getMetadataTag()}}"><img part="icon" class="msn-mobile-icon" alt="Open Outlook" src='${t=>A.jG.StaticsUrl}latest/fluent-icons/mail_read_24_regular.svg'></a></div>`,ie=Q.dy`<div class="settings-container settings-container-mobile"><fluent-button class="settings-button-mobile" @click=${t=>t.toggleSideBar()} title="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-label="${t=>t.settingsConfigs.localizedStrings.settingsButtonTooltip||null}" aria-expanded="${t=>t.isSidebarVisible?"true":"false"}" data-t="${t=>{var e;return null===(e=t.telemetryUserObject.settingsTelemetryObject)||void 0===e?void 0:e.getMetadataTag()}}" ${(0,yt.i)("settingsGearButton")}><img part="icon" class="msn-mobile-icon" alt="Settings" src='${t=>A.jG.StaticsUrl}latest/fluent-icons/settings_24_regular.svg'></fluent-button>${(0,St.g)((t=>t.isSettingsDialogVisible),Et)}</div>`,re=Q.dy`<div class="mobile-root-container" role="banner"><div class="header-top-section"><div class="header-mobile-searchContainer"><div class="header-mobile-navBar">${(0,St.g)((t=>t.hpTtvrFired),Yt)} ${(0,St.g)((t=>{var e;return t.hpTtvrFired&&(null===(e=t.config.childExperienceConfigInfo)||void 0===e?void 0:e.weatherTodayMiniConfigInfo)}),Zt)}</div><div class="header-mobile-search">${(0,St.g)((t=>t.hpTtvrFired),te)}</div><div class="header-mobile-setting">${(0,St.g)((t=>t.hpTtvrFired&&t.config.mobileIconHref),ee)} ${(0,St.g)((t=>t.hpTtvrFired),ne)} ${(0,St.g)((t=>t.hpTtvrFired),ie)}</div></div>${(0,St.g)((t=>t.hpTtvrFired&&t.isSidebarVisible),Kt)} ${(0,St.g)((t=>t.hpTtvrFired),Xt)}</div><div class="header-bottom-section">${zt}</div></div></div>`,oe=Q.dy` ${t=>t.config.isMobileView?re:jt}
`,se={experienceConfigSchema:undefined};i.D.define(r.H.registry),o.D.define(r.H.registry)},77870:function(t,e,n){n.d(e,{$c:function(){return O},BV:function(){return T},C:function(){return q},Cs:function(){return C},FQ:function(){return B},Hj:function(){return F},IA:function(){return L},If:function(){return a},Ip:function(){return p},Jz:function(){return z},K4:function(){return U},Kq:function(){return A},Lg:function(){return _},Mc:function(){return W},Ny:function(){return l},PE:function(){return x},Py:function(){return i},QC:function(){return v},RX:function(){return V},UG:function(){return f},Yx:function(){return M},aZ:function(){return g},bi:function(){return j},cY:function(){return E},dz:function(){return N},eF:function(){return m},fg:function(){return y},fx:function(){return R},hR:function(){return u},hn:function(){return o},ht:function(){return c},jC:function(){return d},jS:function(){return I},mR:function(){return w},n0:function(){return $},oF:function(){return b},pK:function(){return H},rN:function(){return S},sn:function(){return P},vI:function(){return h},vX:function(){return k},vp:function(){return r},xw:function(){return D}});var i,r,o,s=n(72263);!function(t){t.Enforced="ENFORCED",t.Recommended="RECOMMENDED"}(i||(i={})),function(t){t[t.CuratedTileSource=-5]="CuratedTileSource",t[t.UserAddedTileSource=4]="UserAddedTileSource",t[t.UserAddedTileSourceNewVal=3]="UserAddedTileSourceNewVal",t[t.AlgoGeneratedTileSource=0]="AlgoGeneratedTileSource",t[t.WPOPromotedTileSource=-4]="WPOPromotedTileSource",t[t.PromotedCuratedTileSource=-6]="PromotedCuratedTileSource",t[t.SponsoredPromotedCuratedTileSource=-7]="SponsoredPromotedCuratedTileSource",t[t.SponsoredCuratedTileSource=-8]="SponsoredCuratedTileSource",t[t.AffiliateAutoAppendTileSource=2]="AffiliateAutoAppendTileSource",t[t.NextSitesAlgoGeneratedTileSource=7]="NextSitesAlgoGeneratedTileSource",t[t.AlgoGeneratedCIPromotedMediaTileSource=8]="AlgoGeneratedCIPromotedMediaTileSource"}(r||(r={})),function(t){t[t.DragDrop=1]="DragDrop",t[t.DragDropUnpin=-1]="DragDropUnpin"}(o||(o={}));const a=282,c=386,u="130px",l=8,d=16,f=20,h=10,p=30,m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAhCAYAAABX5MJvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFZJREFUeNrsl7EJADAIBGPIEO4/nVt8SCFkgijhvhCsPNQHNUmjWnM0EBCpdYK7i07cSUTYy+I5ARaz705UuQR34A4ggAACCCCA4LL6qhPGV94JYgswAGXGEhq663zFAAAAAElFTkSuQmCC",g=320,v=176,w=1e4,y=1200,b=8,S=84,x=108,C="tsCollapsed",k="tsUnpinned",T="tsDragDrop",$="tsDragDropUnpin",A=32,I=/^(\/\?|\?|&|)/,P={topSitesContainerId:"TopSitesContainer",topSitesId:"TopSitesCommon",topSitesClassSelector:"topSitesCommon",topSiteActionMenuId:"tsam"},_={topSitesDarkOnBackgroundImage:"topSitesDarkOnBackgroundImage",topSitesLightOnBackgroundImage:"topSitesLightOnBackgroundImage",topSitesDark:"topSitesDark",topSitesLight:"topSitesLight",tenSites:"ten-sites",nineSites:"nine-sites",eightSites:"eight-sites",sixSites:"six-sites",twoRowSites:"two-row-sites",feeds3T1SearchBoxWidth:"f3t1tsb",feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled:"qbf3t1tsb",feeds3T1SearchBoxWidthWithAdditionalTile:"f3t1tsbwat",carouselSites:"all-one-line-sites",large:"Large",rubySites:"ruby-sites"},M=["ntp.msn.com","ntp.msn.cn","microsoftedgewelcome.microsoft.com"],R={"go.microsoft.com":["Welcome to Microsoft Edge"],"msn.com":["MSN","MSN"]};var E;!function(t){t[t.topSiteAdLabelBig=0]="topSiteAdLabelBig",t[t.topSiteAdLabelSmall=1]="topSiteAdLabelSmall",t[t.topSiteAdTxtBig=2]="topSiteAdTxtBig",t[t.topSiteAdTxtSmall=3]="topSiteAdTxtSmall"}(E||(E={}));const F=[{title:"YouTube",url:"https://www.youtube.com/",faviconId:"AA1vaJY7"},{title:"Gmail",url:"https://www.gmail.com/",faviconId:"AA1xJdRt"},{title:"Facebook",url:"https://www.facebook.com/",faviconId:"AAbwoox"},{title:"WhatsApp",url:"https://www.whatsapp.com/",faviconId:"AA1xJga5"}],D=[{title:"YouTube",url:"https://www.youtube.com/",faviconId:"AA1vaJY7"},{title:"Facebook",url:"https://www.facebook.com/",faviconId:"AAbwoox"},{title:"WhatsApp",url:"https://www.whatsapp.com/",faviconId:"AA1xJga5"},{title:"Outlook",url:"https://www.outlook.com",faviconId:"AA1vaSFL"}],O=[{url:"https://www.bing.com",exc:["maps"]},{url:"https://www2.bing.com",exc:["maps"]},{url:"https://bing.com",exc:["maps"]},{url:"https://chat.bing.com"},{url:"https://www.google.co.jp",exc:["maps","photos","flights"]},{url:"https://google.com",exc:["maps","photos","flights","mail"]},{url:"https://www.google.com",exc:["maps","photos","flights"]},{url:"https://www.google.com.au",exc:["maps","photos","flights"]},{url:"https://www.google.com.br",exc:["maps","photos","flights"]},{url:"https://www.google.com.fr",exc:["maps","photos","flights"]},{url:"https://www.google.co.uk",exc:["maps","photos","flights"]},{url:"https://www.google.de",exc:["maps","photos","flights"]},{url:"https://www.yahoo.com"},{url:"https://search.yahoo.com"},{url:"https://uk.yahoo.com "},{url:"https://uk.search.yahoo.com"},{url:"https://de.yahoo.com"},{url:"https://de.search.yahoo.com"},{url:"https://fr.yahoo.com"},{url:"https://fr.search.yahoo.com"},{url:"https://ca.yahoo.com"},{url:"https://ca.search.yahoo.com"},{url:"https://au.yahoo.com"},{url:"https://www.yahoo.co.jp"},{url:"https://search.yahoo.co.jp"},{url:"https://www.baidu.com"},{url:"https://www.duckduckgo.com"},{url:"https://yandex.com"},{url:"https://www.yandex.com"},{url:"https://www.yandex.ru"},{url:"https://www.naver.com"},{url:"https://www.microsoft.com/en-us/edge/update"}],N={"https://www.office.com":"AA13Q6AL","https://www.office.com/":"AA13Q6AL"},U={"https://www.office.com":"Microsoft 365","https://www.office.com/":"Microsoft 365"},L={rid:1,dataGenerationTime:null,faviconUrl:"",domain:"",enforcement:void 0,title:"          ",tileSource:0,tileTitleSource:0,url:"",direction:"ltr"},B={onerow:{[s.K$.c1]:{default:{tile:4,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:4}},[s.K$.c2]:{default:{tile:6,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:6}},[s.K$.c3]:{default:{tile:7,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:7}},[s.K$.c4]:{default:{tile:10,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:10}},[s.K$.c5]:{default:{tile:10,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:10}}},tworows:{[s.K$.c1]:{default:{tile:8,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:4}},[s.K$.c2]:{default:{tile:12,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:6}},[s.K$.c3]:{default:{tile:14,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:7}},[s.K$.c4]:{default:{tile:20,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:10}},[s.K$.c5]:{default:{tile:20,class:_.feeds3T1SearchBoxWidth,maxRowTileCount:10}}}},W={onerow:{[s.K$.c1]:{default:{tile:8,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:4}},[s.K$.c2]:{default:{tile:10,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:5}},[s.K$.c3]:{default:{tile:3,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:3}},[s.K$.c4]:{default:{tile:6,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:6}},[s.K$.c5]:{default:{tile:6,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:6}}},tworows:{[s.K$.c1]:{default:{tile:8,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:4}},[s.K$.c2]:{default:{tile:10,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:5}},[s.K$.c3]:{default:{tile:6,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:3}},[s.K$.c4]:{default:{tile:12,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:6}},[s.K$.c5]:{default:{tile:12,class:_.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled,maxRowTileCount:6}}}},H={onerow:{[s.K$.c1]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}},[s.K$.c2]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}},[s.K$.c3]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}},[s.K$.c4]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}},[s.K$.c5]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}}},tworows:{[s.K$.c1]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}},[s.K$.c2]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}},[s.K$.c3]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}},[s.K$.c4]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}},[s.K$.c5]:{default:{tile:20,class:_.carouselSites,maxRowTileCount:20}}}},z={[s.K$.c1]:2,[s.K$.c2]:3,[s.K$.c3]:4,[s.K$.c4]:7,[s.K$.c5]:7},V={onerow:{[s.K$.c1]:{default:{tile:4,class:_.rubySites,maxRowTileCount:4}},[s.K$.c2]:{default:{tile:5,class:_.rubySites,maxRowTileCount:5}},[s.K$.c3]:{default:{tile:6,class:_.rubySites,maxRowTileCount:6}},[s.K$.c4]:{default:{tile:8,class:_.rubySites,maxRowTileCount:8}},[s.K$.c5]:{default:{tile:8,class:_.rubySites,maxRowTileCount:8}}},tworows:{[s.K$.c1]:{default:{tile:4,class:_.rubySites,maxRowTileCount:4}},[s.K$.c2]:{default:{tile:5,class:_.rubySites,maxRowTileCount:5}},[s.K$.c3]:{default:{tile:6,class:_.rubySites,maxRowTileCount:6}},[s.K$.c4]:{default:{tile:8,class:_.rubySites,maxRowTileCount:8}},[s.K$.c5]:{default:{tile:8,class:_.rubySites,maxRowTileCount:8}}}},j="https://account.microsoft.com/privacy/ad-settings/",q=[{rid:1,faviconUrl:"//img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1gpoOU.img",title:"BingMock",tileSource:-5,url:"https://www.bing.com",direction:"ltr",domain:"",tileTitleSource:0,dataGenerationTime:void 0,enforcement:""},{rid:2,faviconUrl:"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/AAc9vHK.img",title:"eBayMock",tileSource:-8,url:"https://www.bing.com/alink/link?url=https%3A%2F%2Fwww.ebay.com%2F%3Fmkcid%3D1%26mkrid%3D711-53200-19255-0%26siteid%3D0%26campid%3D5338626679%26customid%3Denus-edge-topsites-dft%26toolid%3D10001%26mkevt%3D1&source=msn-ntp&h=QhO71UBMK%2F9MvItbnRuiijjTJEYqb5e7azgac4kLBco%3D&aff=p&p=mkt%3Aen-us%3Bf%3Afq0r%2F5Jk3xO%2FZ%2FSOOTjxAUleKOGKPn6MO6pkL%2B2ezaw%3D%3Btssls%3Awpod",isSponsored:!0,domain:"",tileTitleSource:0,dataGenerationTime:void 0,direction:"",enforcement:""},{rid:3,faviconUrl:"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1lFz6G.img",title:"QuickbooksMock",tileSource:-8,url:"https://www.bing.com/alink/link?url=https%3A%2F%2Fww55.affinity.net%2Fsssdomweb%3Fenk%3D6383dabdeb5e62aa12e566d10dce117627fcc3ca988d0acb52865e97f89910b5ef2c530cc0fe75dcd6ca59d2f106f2a93acec33b49c3549d297065f2975465e8f2c8d29d83cedfdb%26subid%3Denus-edge-topsites-dft&source=msn-ntp&h=tTk3Viyyso73ydo4a3f0n4rZPaAHAlsGldI2ALISiJM%3D&aff=p&p=mkt%3Aen-us%3Bf%3Afq0r%2F5Jk3xO%2FZ%2FSOOTjxAUleKOGKPn6MO6pkL%2B2ezaw%3D%3Btssls%3Awpod",isSponsored:!0,domain:"",tileTitleSource:0,dataGenerationTime:void 0,direction:"",enforcement:""},{rid:4,faviconUrl:"https://img-s-msn-com.akamaized.net/tenant/amp/entityid/BB1ncNsL.img",title:"WalmartMock",tileSource:-8,url:"https://www.bing.com/alink/link?url=https%3A%2F%2Fww55.affinity.net%2Fsssdomweb%3Fenk%3D6383dabdeb5e62aa12e566d10dce117627fcc3ca988d0acb276a49e0d9b54340bcfb90634a3d10e1b02644a6b1ad86cf3acec33b49c3549d297065f2975465e8f2c8d29d83cedfdb%26subid%3DEN-US-curated-edge-tiles&source=msn-ntp&h=Nj14yhxE2bBfxDkxA%2FneHafeLMFvtM7h9cSstUsvPE0%3D&aff=p&p=mkt%3Aen-us%3Bf%3Afq0r%2F5Jk3xO%2FZ%2FSOOTjxAUleKOGKPn6MO6pkL%2B2ezaw%3D%3Btssls%3Awpod",isSponsored:!0,domain:"",tileTitleSource:0,dataGenerationTime:void 0,direction:"",enforcement:""},{rid:5,faviconUrl:"//img-s-msn-com.akamaized.net/tenant/amp/entityid/AAdTRDX.img",title:"LinkedInMock",tileSource:-5,url:"https://www.linkedin.com?trk=msn-top",direction:"ltr",domain:"",tileTitleSource:0,dataGenerationTime:void 0,enforcement:""},{rid:6,faviconUrl:"//img-s-msn-com.akamaized.net/tenant/amp/entityid/AAcHSdq.img",title:"NetflixMock",tileSource:-5,url:"https://www.netflix.com/",direction:"ltr",domain:"",tileTitleSource:0,dataGenerationTime:void 0,enforcement:""}]},48590:function(t,e,n){n.d(e,{$h:function(){return y},HU:function(){return h},Qf:function(){return w},TP:function(){return g},gM:function(){return m},h4:function(){return f},lR:function(){return l},nw:function(){return v},oy:function(){return d},pI:function(){return S},uN:function(){return u},zT:function(){return p},zz:function(){return c}});var i=n(35081),r=n(77870),o=n(34718);const s=-1,a=[-5,-8,-4,-6,-7];function c(t,e,n){var i;const r={props:{notificationDurationMs:e,closeToastNotificationHandler:n},timerId:null,startTime:e,remainingTime:e,paused:!1};(null===(i=t.currentToastTimerHandle)||void 0===i?void 0:i.timerId)&&window.clearTimeout(t.currentToastTimerHandle.timerId),t.currentToastTimerHandle=r,t.currentToastTimerHandle.startTime=Date.now(),e&&e!==1/0&&(t.currentToastTimerHandle.timerId=window.setTimeout((()=>{t.currentToastTimerHandle.props.closeToastNotificationHandler(!0)}),e))}function u(t){t.currentToastTimerHandle&&(t.currentToastTimerHandle.paused||(t.currentToastTimerHandle.timerId&&(window.clearTimeout(t.currentToastTimerHandle.timerId),t.currentToastTimerHandle.remainingTime-=Date.now()-t.currentToastTimerHandle.startTime),t.currentToastTimerHandle.paused=!0))}function l(t){t.currentToastTimerHandle&&t.currentToastTimerHandle.paused&&t.currentToastTimerHandle.remainingTime&&(t.currentToastTimerHandle.props.notificationDurationMs&&t.currentToastTimerHandle.props.notificationDurationMs!==1/0&&(t.currentToastTimerHandle.startTime=Date.now(),t.currentToastTimerHandle.timerId=window.setTimeout((()=>{t.currentToastTimerHandle.props.closeToastNotificationHandler(!0)}),t.currentToastTimerHandle.remainingTime)),t.currentToastTimerHandle.paused=!1)}function d(t,e,n,i,o,s){if(t){const{left:a,right:c,bottom:u,top:l}=t.getBoundingClientRect(),d=e.getBoundingClientRect(),f=i-c>r.aZ,h=i-a>r.aZ;let p=f?a-d.left:c-r.aZ-d.left,m=h?d.right-a-r.aZ:d.right-c;f||h||(s?p=0-d.left:m=0-d.right);const g=o-u-r.oF>n,v=l>=n;let w="auto";g&&(w=u-d.bottom+r.oF+"px"),g||v||(w=-l+"px");const y=g?"auto":d.bottom-u+r.rN+r.oF+"px";return s?`--dialog-left:${p}px;--dialog-top:${w};--dialog-bottom:${y};`:`--dialog-right:${m}px;--dialog-top:${w};--dialog-bottom:${y};`}return s?`--dialog-left:0px; --dialog-top:${r.oF}px;`:`--dialog-right:0px; --dialog-top:${r.oF}px;`}function f(t){if(null==t||!t.mostVisitedAvailable)return[];const e=[],n=new Set,i=new Set,o=new Set,s=new Set;return t.mostVisited.forEach((a=>{const c=t.getMostVisitedItemData(a.rid),u={rid:a.rid,dataGenerationTime:c.dataGenerationTime,faviconUrl:a.faviconUrl,domain:c.domain,title:c.title,tileSource:c.tileSource,tileTitleSource:c.tileTitleSource,url:c.url,direction:c.direction,enforcement:a.enforcement,customImagePart:a.customImagePart};if(0!=c.tileSource)return e.push(u),!o.has(u.url)&&o.add(u.url),!i.has(u.domain)&&i.add(u.domain),void(!s.has(u.title)&&s.add(u.title));const l=(c.domain??w(c.url)).replace("www.","");!n.has(l)&&n.add(l),r.Yx.includes(l)||function(t,e){if(r.fx&&r.fx[t])for(let n=0;n<r.fx[t].length;n++)if(0===r.fx[t][n].localeCompare(e,{sensitivity:"accent"}))return!0;return!1}(l,c.title)||o.has(u.url)||(i.has(u.domain)||n.has(l))&&s.has(u.title)||e.push(u)})),n.clear(),i.clear(),o.clear(),e}function h(t,e,n,r,s){const a=function(t,e,n){const r=t.recommendedSites||[],o=i.Br()||{},s=i.KS()||{},a=new Set,c=n.map((t=>t.url)),u=r.filter((t=>{const e=w(t.url);if(!(s[e]||o[t.url]||c.includes(t.url)||a.has(t.url)))return a.add(t.url),t})),l=n.filter((t=>4===t.tileSource||3===t.tileSource)).length,d=e-l;return u.splice(0,d)}(t,e,n),c=a.map((t=>t.url));let u;n=n.filter((t=>{if(!c.includes(t.url))return t})),u=0===n.length&&0===s.length?1:s.length>0?s[s.length-1].rid+1:n[n.length-1].rid+1e3;const l=a.map((t=>{r.set(u,t);const e=t.faviconId??i.x3(t.faviconUrl);return{...t,faviconUrl:i.Jn(e),tileSource:-4,rid:u++,customImagePart:t.customImagePart??"image"}}));return(0,o.D)(n,l)}function p(t,e,n){if(t&&e){const i=t.fixupAndValidateUrl(e.href);if(i)return t.updateCustomLink(s,i,n||e.hostname),!0}return!1}function m(t,e,n,r,o,s){if(n){if(i.xb(n.url),s&&o(),a.includes(n.tileSource))return void e();r&&n.rid&&r.deleteMostVisitedItem(n.rid)}}function g(t,e,n,r,o){if(a.includes(r))return i.y1(o),void t();if(e&&n){const t=e.getMostVisitedItemData(n),i=t?t.tileSource:null;4===i||3===i?e.undoCustomLinkAction(n):0!==i&&2!==i||e.undoMostVisitedDeletion(n)}}function v(t,e,n,i,r,o){if(e&&i){let a=e.fixupAndValidateUrl(i.href);if(a&&r){return e.getMostVisitedItemData(r)?(a=e.getMostVisitedItemData(r).url!==a?a:"",e.updateCustomLink(r,a,o||i.hostname)):(e.onmostvisitedchange=n,e.updateCustomLink(s,a,o||i.hostname),t()),!0}}return!1}function w(t){try{return new URL(t).hostname}catch{return""}}function y(t,e){const n=t.filter((t=>t.isSponsored));if(0===n.length)return e;const r=n.map((t=>({faviconUrl:t.faviconUrl??i.Jn(t.faviconId),title:t.title,url:t.url,isSponsored:t.isSponsored}))),o=e.filter((t=>t.isSponsored)),s=r.concat(o).filter(((t,e,n)=>e===n.findIndex((e=>{var n,i;return(null===(n=e.title)||void 0===n?void 0:n.toLocaleLowerCase())===(null===(i=t.title)||void 0===i?void 0:i.toLocaleLowerCase())}))));return e.map((t=>t.isSponsored&&s.length>0?s.shift():t))}const b=new Set(["index","welcome","working","loading","interstitial","redirect","continue","https","access denied","sign in","signin","sign in to your account","signup","signing in","sign up","log in","login","logging in","home","monitored access"]);function S(t,e){let n=t.toLowerCase().trim();if(n.endsWith("...")&&(n=n.slice(0,-3)),b.has(n)){if((e.startsWith("https://")||e.startsWith("http://"))&&(e=new URL(e).hostname),e.startsWith("www.")){const t="www.";e=e.slice(t.length)}return e}return t}},2414:function(t,e,n){n.r(e),n.d(e,{AdLabelType:function(){return R.cY},BlockedDomainAndTitles:function(){return R.fx},BlockedHosts:function(){return R.Yx},CurrentTopSitesEdgeNextWCTemplate:function(){return Ee},DragDropType:function(){return R.hn},GroupPolicySettings:function(){return R.Py},TileSource:function(){return R.vp},ToolingInfo:function(){return Rn},TopSitesClassNameConstants:function(){return R.Lg},TopSitesDataHelper:function(){return Le},TopSitesEdgeNextWC:function(){return Qe},TopSitesEdgeNextWCInlineStyles:function(){return _n},TopSitesEdgeNextWCStyles:function(){return Mn},TopSitesEdgeNextWCTemplate:function(){return Fe},TopSitesEdgeNextWCWithCarouselStyles:function(){return Pn},TopSitesEdgeNextWCWithJSDependencyStyles:function(){return Tn},TopSitesElementConstants:function(){return R.sn},TopSitesNextStyles:function(){return kn},TopSitesResponsiveStyles:function(){return Cn},addDialogHeight:function(){return R.If},addDialogWithSubSectionHeight:function(){return R.ht},blockedDomainsPair:function(){return R.$c},carouselColsPerSlideMap:function(){return R.Jz},carouselTilesxColxRowsMap:function(){return R.pK},carouselTopSiteListTemplate:function(){return Me},closeButtonSvg:function(){return Te},contextMenuWidth:function(){return R.hR},defaultMaxTileForFirstRow:function(){return R.vI},defaultMaxTileForSixteenTopSites:function(){return R.jC},defaultMaxTileForThreeRowsTopSites:function(){return R.Ip},defaultMaxTileForTwentyTopSites:function(){return R.UG},defaultMaxTiles:function(){return R.Ny},defaultOverrideIconsList:function(){return R.dz},defaultTopSiteIcon:function(){return R.eF},dialogWidth:function(){return R.aZ},displayPinIconTopSitesBindingSource:function(){return Pe},edgeExpTopSites:function(){return R.Hj},editDialogHeight:function(){return R.QC},feeds3T1SearchBoxWidthTilesxColxRowsMap:function(){return R.FQ},feeds3T1SearchBoxWidthWithNotificationMiniCardTilesxColxRowsMap:function(){return R.Mc},googleExpTopSites:function(){return R.xw},mockedVPTestTopSites:function(){return R.C},normalTopSiteListTemplate:function(){return Re},notificationToastDefaultDisplayMs:function(){return R.mR},pinToastDefaultDisplayMs:function(){return R.fg},pinToastTemplate:function(){return Ae},privacyUrl:function(){return R.bi},rubyTilesxColxRowsMap:function(){return R.RX},tileDialogMargin:function(){return R.oF},titleOverrides:function(){return R.K4},topSiteAddDialogTemplate:function(){return Ce},topSiteEditDialogTemplate:function(){return ke},topSiteShell:function(){return R.IA},topSiteTileHeight:function(){return R.rN},topSiteTileWidth:function(){return R.PE},topSitesBindingSource:function(){return Ie},topSitesCollapsedStorageKey:function(){return R.Cs},topSitesDragDropStorageKey:function(){return R.BV},topSitesDragDropUnpinStorageKey:function(){return R.n0},topSitesUndoToastMessageMargin:function(){return R.Kq},topSitesUnpinnedStorageKey:function(){return R.vX},undoToastTemplate:function(){return $e},validQueryParameterPrefix:function(){return R.jS}});var i=n(45900),r=n(63070);var o=n(47265),s=n(26810),a=n(33940),c=n(35081),u=n(52),l=n(42729),d=n(34934),f=n(77137),h=n(96315),p=n(15598),m=n(13218),g=n(79678),v=n(89046),w=n(28951),y=n(74604),b=n(72263),S=n(42833),x=n(68178),C=n(523),k=n(70041);const T=t=>`<img src="${(0,f.Yq)().StaticsUrl}latest/fluent-icons/${t}.svg" aria-hidden="true" />`,$=T("delete_20_regular"),A=T("edit_20_regular"),I=T("eye_off_16_regular"),P=T("pin_16_regular"),_=T("pin_16_filled"),M=T("tray_item_add_20_regular");var R=n(77870),E=n(34839),F=n(10545),D=n(8170),O=n(5302),N=n(242),U=n(86117),L=n(33779),B=n(81586),W=n(57627);const H="curated_topsite",z="user_topsite",V="frequent_topsite",j="promotedcurated_topsite",q="promotedcurated_topsite_sponsored",G="wpopromoted_topsite",J="curatedleadgen_topsite",K="autoappend_topsite",Q="tile",X="url",Y="context_menu",Z="topsite_remove_toast",tt="remove",et="undoremove",nt="close",it="cancel",rt="rename",ot="save",st="suggestedlink",at="edit_dialog",ct="add_dialog",ut="topsiteaddtile",lt="topsite",dt="turnonpreview",ft="turnoffpreview",ht="topsitePinToTaskBar",pt="unpin",mt="pin",gt="action_menu",vt="carousel",wt="nextflipperclick",yt="preflipperclick",bt="name_input",St="url_input";var xt;!function(t){t.tsn="tsn",t.moreOption="More Options",t.remove="Remove",t.undoRemove="Undo Remove",t.close="Close",t.rename="Rename",t.save="Save",t.cancel="Cancel",t.addSite="Add a site",t.add="Add",t.show="Show",t.suggestedLink="Add a suggested link",t.turnOnPreview="Turn On Preview",t.turnOffPreview="Turn Off Preview",t.container="Container",t.unpin="Unpin",t.pin="Pin",t.topsiteTaskbarpin="TopSite Pin to TaskBar",t.ActionMenu="Action Menu",t.Impression="Impression",t.carouselClick="Carousel click",t.inputName="Click name input",t.inputUrl="Click URL input"}(xt||(xt={}));const Ct="tsu";const kt=t=>{let e,n=!1;switch(t.tileSource){case 4:case 3:e=z;break;case-5:e=H,n=!0;break;case-6:e=j,n=!0;break;case-7:e=q,n=!0;break;case-4:e=G,n=!0;break;case-8:e=J,n=!0;break;case 2:e=K,n=!0;break;default:e=V}return{tileSourcePrefix:e,isCuratedOrPromoted:n}};var Tt=n(99452),$t=n(42590),At=n(48590),It=n(98604),Pt=n(26197),_t=n(14969),Mt=n(49494),Rt=n(22745),Et=n(59997),Ft=n(34718),Dt=n(44132),Ot=n(70430),Nt=n(44070),Ut=n(49218),Lt=n(93703),Bt=n(41472),Wt=n(89150),Ht=n(11310),zt=n.n(Ht),Vt=n(97379),jt=n(72958),qt=n(60706),Gt=n(29663),Jt=n(28736),Kt=n(7137),Qt=n.n(Kt),Xt=n(64818);Vt.v,jt.MsnActionsMenu,Gt.Z,Xt.J,qt.Oj;const Yt=Ut.dy`<span class="badge">${t=>t.badge.children}</span>`,Zt=Ut.dy`<fluent-button class="end-button" appearance="stealth" title="${t=>t.contextMenuLabel}" aria-label="${t=>t.contextMenuLabel}" role="button" @click=${(t,e)=>e.parent.toggleActionMenu&&e.parent.toggleActionMenu(t,e.event)} data-t="${t=>t.toggleActionMenuButtonTelemetryTag}" icon-only>${Ut.dy.partial(zt())}</fluent-button>`,te=Ut.dy`<div class="image-container"><img src="${t=>t.faviconUrl}" /></div>`,ee=(Ut.dy`<div class="top-site-title"><span class="top-site-title-text">${t=>t.title}</span>${(0,Lt.g)((t=>t.badge),Yt)}</div>`,Ut.dy`<a class="control topsite-ruby-link" aria-label="${t=>t.title}" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.anchorTelemetryTag}" target="${(t,e)=>e.parent.config.enableOpenInNewTab?e.parent.linkTarget:void 0}" @focus="${(t,e)=>e.parent.handleTopSiteLinkFocus()}">${te}</a>`),ne=Ut.dy`<a class="control topsite-ruby-link" aria-label="${t=>t.title}" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.anchorTelemetryTag}" @click=${(t,e)=>e.parent.preventClickOnTopSite(e.event)} @focus="${(t,e)=>e.parent.handleTopSiteLinkFocus()}">${te}</a>`,ie=Ut.dy`<div class="top-site-ruby" aria-label="${t=>t.title}" title="${t=>t.title}" data-t="${t=>t.contentViewTelemetryTag}" @mouseenter="${(t,e)=>e.parent.handleTopSiteMouseEnter()}" @click="${(t,e)=>e.parent.logTileActivatedClick(t)}" @auxclick="${(t,e)=>e.parent.logTileActivatedClick(t)}">${(0,Lt.g)((t=>t.disableHref),ne,ee)}<div class="site-name"><span>${t=>t.title}</span></div>${(0,Lt.g)(((t,e)=>e.parent.canLoadHoverElements&&e.parent.renderTopSiteStartAndEnd),Ut.dy`<span class="end"><div class="top-site-next-g">${Zt}</div></span>`)}</div>`,re=Ut.dy`<div class="top-site-ruby add-placeholder drag-locked"><div class="image-container"><a class="control" href="#" @click=${(t,e)=>t.onAddTopSiteClick(e.event)} data-t="${t=>t.addTopSiteButtonTelemetryTag}" aria-label="${(t,e)=>e.parent.strings.ariaLabel_addTile}" title="${(t,e)=>e.parent.strings.ariaLabel_addTile}"><svg width="24" height="24" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M12 5.625V6.375H6.375V12H5.625V6.375H0V5.625H5.625V0H6.375V5.625H12Z" /></svg></a></div></div>`,oe=Ut.dy`<ruby-topsites-dialog mode="add" id="topSiteAddDialog" class="ruby-top-sites-dialog" ${(0,Bt.i)("topSitesAddDialogRef")} cancelText="${t=>t.topSiteAddDialog.cancelText}" headerTitle="${t=>t.topSiteAddDialog.headerTitle}" saveText="${t=>t.topSiteAddDialog.saveText}" closeText="${t=>t.topSiteAddDialog.closeText}" :nameInputData="${t=>t.topSiteAddDialog.nameInputBox}" :urlInputData="${t=>t.topSiteAddDialog.urlInputBox}" :validator = "${t=>t.topSiteAddDialog.validator}" :newOrUpdatedTopSite="${t=>t.topSiteAddDialog.newOrUpdatedTopSite}" :saveButtonTelemetryTag="${t=>t.topSiteAddDialog.saveButtonTelemetryTag}" :cancelButtonTelemetryTag="${t=>t.topSiteAddDialog.cancelButtonTelemetryTag}" :closeButtonTelemetryTag="${t=>t.topSiteAddDialog.closeButtonTelemetryTag}" :nameInputTelemetryTag="${t=>t.topSiteAddDialog.nameInputTelemetryTag}" :urlInputTelemetryTag="${t=>t.topSiteAddDialog.urlInputTelemetryTag}" @focus="${(t,e)=>t.topSiteAddDialog.addInputListener(e.event)}" @close="${(t,e)=>t.topSiteAddDialog.onClose(e.event)}" @save="${(t,e)=>t.topSiteAddDialog.saveHandler(e.event)}" style="${t=>t.topSiteAddDialogContainerPosition}"></ruby-topsites-dialog>`,se=Ut.dy`<ruby-topsites-dialog mode="edit" id="topSiteEditDialog" class="ruby-top-sites-dialog" ${(0,Bt.i)("topSitesEditDialogRef")} cancelText="${t=>t.topSiteEditDialog.cancelText}" headerTitle="${t=>t.topSiteEditDialog.headerTitle}" saveText="${t=>t.topSiteEditDialog.saveText}" closeText="${t=>t.topSiteEditDialog.closeText}" :nameInputData="${t=>t.topSiteEditDialog.nameInputBox}" :newOrUpdatedTopSite="${t=>t.topSiteEditDialog.newOrUpdatedTopSite}" :saveButtonTelemetryTag="${t=>t.topSiteEditDialog.saveButtonTelemetryTag}" :cancelButtonTelemetryTag="${t=>t.topSiteEditDialog.cancelButtonTelemetryTag}" :closeButtonTelemetryTag="${t=>t.topSiteEditDialog.closeButtonTelemetryTag}" :nameInputTelemetryTag="${t=>t.topSiteEditDialog.nameInputTelemetryTag}" :urlInputTelemetryTag="${t=>t.topSiteEditDialog.urlInputTelemetryTag}" @focus="${(t,e)=>t.topSiteEditDialog.addInputListener(e.event)}" @close="${(t,e)=>t.topSiteEditDialog.onClose(e.event)}" @save="${(t,e)=>t.topSiteEditDialog.saveHandler(e.event)}" style="${t=>t.topSiteEditDialogContainerPosition}"></ruby-topsites-dialog>`,ae=Ut.dy`<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M6.84961 6L12 11.1504L11.1504 12L6 6.84961L0.849609 12L0 11.1504L5.15039 6L0 0.849609L0.849609 0L6 5.15039L11.1504 0L12 0.849609L6.84961 6Z"/></svg>`,ce=Ut.dy`<msn-toast id="undo-toast">${(0,Wt.rx)((t=>t.undoToast.removedText),Ut.dy`<span>${t=>t}</span>`)}<fluent-button ${(0,Bt.i)("undoButton")} appearance="lightweight" slot="actions" class="toast-navigation-button" title=${t=>t.undoToast.undoButtonLabel} @click=${(t,e)=>t.undoToast.undoTopSiteHandler(e.event)} data-t="${t=>t.undoToast.undoButtonTelemetryTag}">${t=>t.undoToast.undoButtonLabel}</fluent-button><fluent-button apperance="stealth" slot="close-button" class="toast-close-button" title=${t=>t.undoToast.closeButtonLabel} @click=${(t,e)=>t.undoToast.closeHandler(e.event)} data-t="${t=>t.undoToast.closeButtonTelemetryTag}">${ae}</fluent-button></msn-toast>`,ue=Ut.dy`<div class="top-sites ${t=>t.twoRowSitesClassName}" role="status"><div id=${R.sn.topSitesId} class="sites ${t=>t.sitesClassName} ${t=>t.topSitesClassName}" data-t="${t=>t.topSiteCommonTelemetryTag}" ${(0,Bt.i)("topSitesContainer")}>${Ut.dy`${(0,Wt.rx)((t=>t.topSites),ie)}`} ${Ut.dy`${(0,Wt.rx)((t=>t.topSitesPlaceHolders),re)}`}</div></div>`,le=Ut.dy`<div class="root ruby-top-sites ${t=>t.extraAddedSitesClassName} ${t=>t.className}  ${t=>t.moveUpward?"move-upward":""}" id="${R.sn.topSitesClassSelector}" ${(0,Bt.i)("topSitesRoot")}>${ue}</div><div ${(0,Bt.i)("dialogRoot")}>${(0,Lt.g)((t=>t.isAddDialogOpen),oe)} ${(0,Lt.g)((t=>t.topSiteAddedSuccessfully),Ut.dy`<div class="top-site-add-success" aria-live="polite">${t=>t.lastAddedTopSite} added successfully</div>`)} ${(0,Lt.g)((t=>t.isEditDialogOpen),se)} ${(0,Lt.g)((t=>t.isActionMenuOpen),Ut.dy`<div data-t=${t=>t.topsiteItemContainerTelemetry()}><msn-actions-menu id="actions-menu" :referrerButton=${t=>t.activeContextMenuButtonElement} class="ruby-long-width-menu" :menuItems=${t=>{var e;return null===(e=t.actionsMenuProps)||void 0===e?void 0:e.menuItems}} ${(0,Bt.i)("topSiteActionsMenu")} @dismiss-menu=${t=>t.isActionMenuOpen=!1} :isGlyphUrlsPicture=${!0} data-t=${t=>t.actionsMenuTelemetry()}></msn-actions-menu></div>`)}<div ${(0,Bt.i)("toastContainer")} class="toast-root">${(0,Lt.g)((t=>"undo"===t.currentToastTag),ce)}</div></div>`;var de=n(53095),fe=n.n(de);Vt.v,jt.MsnActionsMenu,Gt.Z,Jt.X,qt.Oj;const he=Ut.dy`<span class="badge">${t=>t.badge.children}</span>`,pe=Ut.dy` ${t=>"topSiteAdLabelSmall"!==t.adLabelType?Ut.dy`<span class="dot-separator"> · </span>`:null}<msn-native-ad-ad-label class="${t=>"topSiteAdLabelSmall"===t.adLabelType?"ad-link-label top-site-ad-label":"ad-link-label"}" type="${t=>t.adLabelType}" tel-metadata="${t=>t.anchorTelemetryTag}" privacy-url=${t=>R.bi}></msn-native-ad-ad-label>`,me=(t,e)=>{const n=[];return n.push("top-site-f3v1b"),n.push("top-site-s2ts"),n.join(" ")},ge=Ut.dy`<fluent-button class="start-button" appearance="stealth" aria-lable="${t=>t.pinLabel}" role="button" data-t="${t=>t.pinActionButtonTelemetryTag}" icon-only>${Ut.dy` ${(0,Lt.g)((t=>1===t.dragDropType),Ut.dy`${Ut.dy.partial(Qt())}`)} `}</fluent-button>`,ve=Ut.dy`<fluent-button class="end-button" appearance="stealth" title="${t=>t.contextMenuLabel}" aria-label="${t=>t.contextMenuLabel}" role="button" @click=${(t,e)=>e.parent.toggleActionMenu&&e.parent.toggleActionMenu(t,e.event)} data-t="${t=>t.toggleActionMenuButtonTelemetryTag}" icon-only>${Ut.dy.partial(zt())}</fluent-button>`,we=Ut.dy`<div class="top-site-title"><span class="top-site-title-text">${t=>t.title}</span>${(0,Lt.g)((t=>t.adLabelType&&t.isSponsored&&2!==t.tileSource),pe)} ${(0,Lt.g)((t=>t.badge),he)}</div>`,ye=Ut.dy`<a class="control" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.anchorTelemetryTag}" target="${(t,e)=>e.parent.config.enableOpenInNewTab?e.parent.linkTarget:void 0}" @focus="${(t,e)=>e.parent.handleTopSiteLinkFocus()}">${we}</a>`,be=Ut.dy`<a class="control" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.anchorTelemetryTag}" @click=${(t,e)=>e.parent.preventClickOnTopSite(e.event)} @focus="${(t,e)=>e.parent.handleTopSiteLinkFocus()}">${we}</a>`,Se=Ut.dy`<div title="${t=>t.title}" aria-label="${t=>t.title}" class="top-site-next small-top-sites pill-top-site pinned-top-site ${(t,e)=>e.parent.config.backgroundOpacity?`tstb-${e.parent.config.backgroundOpacity}`:""} ${(t,e)=>e.parent.config.enableCircleShadeIcon?"tscsi":""} ${me} ${(t,e)=>e.parent.topSitesClassName}" href="${(t,e)=>e.parent.getTopSiteTemplateUrl(t)}" data-t="${t=>t.contentViewTelemetryTag}" @mouseenter="${(t,e)=>e.parent.handleTopSiteMouseEnter()}" @click="${(t,e)=>(e.parent.topSitesPromotedManager.handleTopSiteClick(t.url),!0)}">${(0,Lt.g)(((t,e)=>e.parent.canLoadHoverElements&&(e.parent.renderTopSiteStartAndEnd&&1===t.dragDropType||t.promote)),Ut.dy`<span class="start"><div class="top-site-next-g">${ge}</div></span>`)}<div class="content-container ${(t,e)=>e.parent.topSitesClassName}" @click="${(t,e)=>e.parent.logTileActivatedClick(t)}" @auxclick="${(t,e)=>e.parent.logTileActivatedClick(t)}"><div class="image-container"><div class="image"><img src="${t=>t.faviconUrl}" /></div></div><div class="title-container">${(0,Lt.g)((t=>t.disableHref),be,ye)}</div></div>${(0,Lt.g)(((t,e)=>e.parent.canLoadHoverElements&&e.parent.renderTopSiteStartAndEnd),Ut.dy`<span class="end"><div class="top-site-next-g">${ve}</div></span>`)}</div>`,xe=Ut.dy`<div class="top-site-next small-top-sites pill-top-site drag-locked add-placeholder ${(t,e)=>e.parent.config.backgroundOpacity?`tstb-${e.parent.config.backgroundOpacity}`:""} ${(t,e)=>e.parent.config.enableCircleShadeIcon?"tscsi":""} ${me} ${(t,e)=>e.parent.topSitesClassName}"><div class="content-container ${(t,e)=>e.parent.topSitesClassName}"><div class="image-container"><div class="image new-add-image"><svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M12 5.625V6.375H6.375V12H5.625V6.375H0V5.625H5.625V0H6.375V5.625H12Z" /></svg></div></div><div class="title-container"><a class="control" href="#" @click=${(t,e)=>t.onAddTopSiteClick(e.event)} data-t="${t=>t.addTopSiteButtonTelemetryTag}" aria-label="${(t,e)=>e.parent.strings.ariaLabel_addTile}" title="${(t,e)=>e.parent.strings.ariaLabel_addTile}"><div class="top-site-title"><span class="top-site-title-text">${(t,e)=>e.parent.getAddShortcutTitle()}</span></div></a></div></div></div>`,Ce=Ut.dy`<msn-top-site-dialog id="topSiteAddDialog" ${(0,Bt.i)("topSitesAddDialogRef")} cancelText="${t=>t.topSiteAddDialog.cancelText}" headerTitle="${t=>t.topSiteAddDialog.headerTitle}" saveText="${t=>t.topSiteAddDialog.saveText}" closeText="${t=>t.topSiteAddDialog.closeText}" :nameInputData="${t=>t.topSiteAddDialog.nameInputBox}" :urlInputData="${t=>t.topSiteAddDialog.urlInputBox}" :newOrUpdatedTopSite="${t=>t.topSiteAddDialog.newOrUpdatedTopSite}" :saveButtonTelemetryTag="${t=>t.topSiteAddDialog.saveButtonTelemetryTag}" :cancelButtonTelemetryTag="${t=>t.topSiteAddDialog.cancelButtonTelemetryTag}" :closeButtonTelemetryTag="${t=>t.topSiteAddDialog.closeButtonTelemetryTag}" :nameInputTelemetryTag="${t=>t.topSiteAddDialog.nameInputTelemetryTag}" :urlInputTelemetryTag="${t=>t.topSiteAddDialog.urlInputTelemetryTag}" @focus="${(t,e)=>t.topSiteAddDialog.addInputListener(e.event)}" @close="${(t,e)=>t.topSiteAddDialog.onClose(e.event)}" @save="${(t,e)=>t.topSiteAddDialog.saveHandler(e.event)}" style="${t=>t.topSiteAddDialogContainerPosition}">${(0,Lt.g)((t=>t.config.suggestedTopSiteList&&t.config.suggestedTopSiteList.length>0),Ut.dy`<div slot="subSection"><h3 class="suggestion-title">${t=>t.strings.addDialogSubHeading}</h3><div class="suggestion-body">${(0,Wt.rx)((t=>t.config.suggestedTopSiteList),Ut.dy`<div tabIndex="0" class="suggested-top-site"><div class="top-site-next" href="${t=>t.url}" title="${t=>t.title}" aria-label="${t=>t.title}" tabIndex="-1" @click=${(t,e)=>e.parent.topSiteAddDialog.saveHandler&&e.parent.topSiteAddDialog.saveHandler(e.event,t)} @keydown=${(t,e)=>e.parent.topSiteAddDialog.saveHandler&&e.parent.topSiteAddDialog.saveHandler(e.event,t)}><div class="content-container"><div class="image"><img src="${t=>(0,c.Jn)(t.faviconId)}" alt="${t=>t.title}" /></div><div class="title-container"><div class="control" data-t="${t=>t.suggestedLinkTelemetryTag}"><div class="top-site-title"><span class="top-site-title-text">${t=>t.title}</span>${(0,Lt.g)((t=>t.adLabelType&&t.isSponsored),pe)} ${(0,Lt.g)((t=>t.badge),he)}</div></div></div></div></div></div>`)}</div></div>`)}</msn-top-site-dialog>`,ke=Ut.dy`<msn-top-site-dialog id="topSiteEditDialog" ${(0,Bt.i)("topSitesEditDialogRef")} cancelText="${t=>t.topSiteEditDialog.cancelText}" headerTitle="${t=>t.topSiteEditDialog.headerTitle}" saveText="${t=>t.topSiteEditDialog.saveText}" closeText="${t=>t.topSiteEditDialog.closeText}" :nameInputData="${t=>t.topSiteEditDialog.nameInputBox}" :newOrUpdatedTopSite="${t=>t.topSiteEditDialog.newOrUpdatedTopSite}" :saveButtonTelemetryTag="${t=>t.topSiteEditDialog.saveButtonTelemetryTag}" :cancelButtonTelemetryTag="${t=>t.topSiteEditDialog.cancelButtonTelemetryTag}" :closeButtonTelemetryTag="${t=>t.topSiteEditDialog.closeButtonTelemetryTag}" :nameInputTelemetryTag="${t=>t.topSiteEditDialog.nameInputTelemetryTag}" :urlInputTelemetryTag="${t=>t.topSiteEditDialog.urlInputTelemetryTag}" @focus="${(t,e)=>t.topSiteEditDialog.addInputListener(e.event)}" @close="${(t,e)=>t.topSiteEditDialog.onClose(e.event)}" @save="${(t,e)=>t.topSiteEditDialog.saveHandler(e.event)}" style="${t=>t.topSiteEditDialogContainerPosition}"></msn-top-site-dialog>`,Te=Ut.dy`<svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M6.84961 6L12 11.1504L11.1504 12L6 6.84961L0.849609 12L0 11.1504L5.15039 6L0 0.849609L0.849609 0L6 5.15039L11.1504 0L12 0.849609L6.84961 6Z"/></svg>`,$e=Ut.dy`<msn-toast id="undo-toast">${(0,Wt.rx)((t=>t.undoToast.removedText),Ut.dy`<span>${t=>t}</span>`)}<fluent-button ${(0,Bt.i)("undoButton")} appearance="stealth" slot="actions" class="toast-navigation-button" title=${t=>t.undoToast.undoButtonLabel} @click=${(t,e)=>t.undoToast.undoTopSiteHandler(e.event)} data-t="${t=>t.undoToast.undoButtonTelemetryTag}">${t=>t.undoToast.undoButtonLabel}</fluent-button><fluent-button appearance="stealth" slot="close-button" class="toast-close-button" title=${t=>t.undoToast.closeButtonLabel} @click=${(t,e)=>t.undoToast.closeHandler(e.event)} data-t="${t=>t.undoToast.closeButtonTelemetryTag}">${Te}</fluent-button></msn-toast>`,Ae=Ut.dy`<msn-toast id="pin-toast">${(0,Wt.rx)((t=>t.pinToast.pinText),Ut.dy`<span>${t=>t}</span>`)}<fluent-button appearance="stealth" slot="close-button" class="toast-close-button" title=${t=>t.pinToast.closeButtonLabel} @click=${(t,e)=>t.pinToast.closeHandler(e.event)} data-t="${t=>t.pinToast.closeButtonTelemetryTag}">${Te}</fluent-button></msn-toast>`,Ie=t=>t.topSites,Pe=t=>t.topSites.map((t=>({...t,displayPinIcon:!0}))),_e=Ut.dy`<div class="fliper">${Ut.dy.partial(fe())}</div>`;const Me=Ut.dy`<msft-stripe speed="3600" part="msft-stripe" ${(0,Bt.i)("ref_stripe")} class="${t=>`${t.enableQuickBrief?"strip-with-quick-brief":""}${t.config.enableShowFlipperOpacity?"strip-with-opacity-flipper":""}`}"><div slot="previous-flipper">${Ut.dy`<div class="pre-fliper" role="button" @click="${t=>t.onFlipperClick(!1)}" aria-label=${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.preFlipperText}} title=${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.preFlipperText}} data-t="${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.clickCarouselPreButtonTag}}">${_e}</div>`}</div><div slot="next-flipper">${Ut.dy`<div class="next-fliper" role="button" @click="${t=>t.onFlipperClick(!0)}" aria-label=${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.nextFlipperText}} title=${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.nextFlipperText}} data-t="${t=>{var e;return null===(e=t.carouselProps)||void 0===e?void 0:e.clickCarouselNextButtonTag}}">${_e}</div>`}</div><div class="top-sites ${t=>t.twoRowSitesClassName}" role="status"><div id=${R.sn.topSitesId} class="sites ${t=>t.sitesClassName} ${t=>t.topSitesClassName}" data-t="${t=>t.topSiteCommonTelemetryTag}" ${(0,Bt.i)("topSitesContainer")}>${Ut.dy`${(0,Wt.rx)(Ie,Se)}`}</div></div></msft-stripe><div class="top-sites ${t=>t.twoRowSitesClassName}"><div class="sites">${Ut.dy`${(0,Wt.rx)((t=>t.topSitesPlaceHolders),xe)}`}</div></div>`,Re=Ut.dy`<div class="top-sites ${t=>t.twoRowSitesClassName}" role="status"><div id=${R.sn.topSitesId} class="sites ${t=>t.sitesClassName} ${t=>t.topSitesClassName}" data-t="${t=>t.topSiteCommonTelemetryTag}" ${(0,Bt.i)("topSitesContainer")}>${Ut.dy`${(0,Wt.rx)(Ie,Se)}`} ${Ut.dy`${(0,Wt.rx)((t=>t.topSitesPlaceHolders),xe)}`}</div></div>`,Ee=Ut.dy`<div class="root ${t=>t.extraAddedSitesClassName} ${t=>t.className}  ${t=>t.moveUpward?"move-upward":""}" id="${R.sn.topSitesClassSelector}" ${(0,Bt.i)("topSitesRoot")}>${(0,Lt.g)((t=>t.config.enableCarouselTopSite),Me)} ${(0,Lt.g)((t=>!t.config.enableCarouselTopSite),Re)}</div><div ${(0,Bt.i)("dialogRoot")}>${(0,Lt.g)((t=>t.isAddDialogOpen),Ce)} ${(0,Lt.g)((t=>t.topSiteAddedSuccessfully),Ut.dy`<div class="top-site-add-success" aria-live="polite">${t=>t.lastAddedTopSite} added successfully</div>`)} ${(0,Lt.g)((t=>t.isEditDialogOpen),ke)} ${(0,Lt.g)((t=>t.isActionMenuOpen),Ut.dy`<div data-t=${t=>t.topsiteItemContainerTelemetry()}><msn-actions-menu id="actions-menu" :referrerButton=${t=>t.activeContextMenuButtonElement} class="long-width-menu" :menuItems=${t=>{var e;return null===(e=t.actionsMenuProps)||void 0===e?void 0:e.menuItems}} ${(0,Bt.i)("topSiteActionsMenu")} @dismiss-menu=${t=>t.isActionMenuOpen=!1} :isGlyphUrlsPicture=${!0} data-t=${t=>t.actionsMenuTelemetry()}></msn-actions-menu></div>`)}<div ${(0,Bt.i)("toastContainer")} class="toast-root">${(0,Lt.g)((t=>"undo"===t.currentToastTag),$e)} ${(0,Lt.g)((t=>"pin"===t.currentToastTag),Ae)}</div></div>`,Fe=Ut.dy` ${(0,Lt.g)((t=>t.isRuby),le,Ee)}
`;class De{constructor(t,e){this.onTouchStart=()=>{this.sortableService&&this.sortableService.destroy(),this.sortableService=null,document.addEventListener("mousemove",this.onMouseMove)},this.onMouseMove=()=>{this.initializeService(),document.removeEventListener("mousemove",this.onMouseMove)},this.onUnloadPage=()=>{this.clearTopsiteByUnpinnedSites(),this.clearUnpinStorage()},this.component=t,this.container=e.container,this.disableDragDrop=e.disableDragDrop,this.webStorage=(0,p.$o)(),this.bindEvents()}bindEvents(){window.addEventListener("beforeunload",this.onUnloadPage),document.addEventListener("touchstart",this.onTouchStart),document.addEventListener("mousemove",this.onMouseMove)}unBindEvents(){window.removeEventListener("beforeunload",this.onUnloadPage),document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("mousemove",this.onMouseMove)}getDataFromStorage(t){try{const e=this.webStorage.getItem(t);if(e){return JSON.parse(e)}}catch(t){Dt.M0.sendAppErrorEvent({...O.OF8,message:"Cannot read/write storage for topsite drag drop service",pb:{...O.OF8.pb,customMessage:`Cannot get drag drop service data, msg: ${t.message||JSON.stringify(t)}`}})}}saveDataToStorage(t,e){try{this.webStorage.setItem(t,JSON.stringify(e))}catch(t){Dt.M0.sendAppErrorEvent({...O.OF8,message:"Cannot read/write storage for topsite drag drop service",pb:{...O.OF8.pb,customMessage:`Cannot save data to topsites, msg: ${t.message||JSON.stringify(t)}`}})}}reorderItems(t,e,n){Array.isArray(t)&&t.splice(e,0,t.splice(n,1)[0])}getValidTopSitesFromStorageData(){const t=this.getDataFromStorage(R.BV)||{},e=(t.data??[]).filter((t=>t.slot>=0)).sort(((t,e)=>t.slot-e.slot)).reduce(((t,e)=>"rid"in e||"url"in e||"faviconUrl"in e?((0===t.length||t[t.length-1].slot!==e.slot)&&t.push(e),t):t),[]);return{...t,data:e}}getFixedTopSites(){const{data:t}=this.getValidTopSitesFromStorageData();return t||[]}getTopSites(t,e){let n=t;const{data:i}=this.getValidTopSitesFromStorageData();if(!i)return t;const r=i.filter((t=>t.slot<e)),o=(0,Ot.Z)(t,r,"url");return n=[...(0,Ft.$)(o,r)],n=n.filter((t=>t)).slice(0,e),n}removeTopSiteFromStorage(t,e){const n=this.getDataFromStorage(t)||{},i=n.data;i&&(n.data=i.filter((t=>t.rid!==e.rid)),this.saveDataToStorage(t,n))}clearUnpinStorage(){this.saveDataToStorage(R.n0,{})}clearTopsiteByUnpinnedSites(){const t=(this.getDataFromStorage(R.n0)||{}).data;t&&t.forEach((t=>{this.removeTopSite(t)}))}addTopSite(t,e){let n=this.getValidTopSitesFromStorageData(),i=n.data;if(i||(i=[],n={data:i}),e){i.filter((e=>e.rid!==t.rid&&e.slot>=Math.min(t.fromIndex,t.toIndex)&&e.slot<=Math.max(t.fromIndex,t.toIndex))).forEach((e=>t.fromIndex>t.toIndex?e.slot++:e.slot--))}const r=i.find((e=>e.rid===t.rid));r?Object.assign(r,t):i.push(t),n.data=(0,Nt.Z)(i,"rid"),this.saveDataToStorage(R.BV,n),this.removeUnpinnedTopSite(t)}removeTopSite(t){this.removeTopSiteFromStorage(R.BV,t)}addUnpinnedTopSite(t){let e=this.getDataFromStorage(R.n0)||{},n=e.data;n||(n=[],e={data:n}),n.push(t),this.saveDataToStorage(R.n0,e)}removeUnpinnedTopSite(t){this.removeTopSiteFromStorage(R.n0,t)}updateTopSites(t){const e=this.getValidTopSitesFromStorageData(),n=e.data;if(!n)return;const i=n.find((e=>e.rid===t.rid));i&&Object.assign(i,t),this.saveDataToStorage(R.BV,e)}async initializeService(){if(this.sortableService||this.disableDragDrop)return;let t;if(t=this.container instanceof Promise?await this.container:this.container,!t)return;const{Sortable:e}=await n.e("node_modules_sortablejs_modular_sortable_esm_js").then(n.bind(n,54958)),i=new Image;i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==",this.sortableService=e.create(t,{animation:150,chosenClass:"drag-chosen",dragClass:"drag-dragged",delay:100,touchStartThreshold:5,delayOnTouchOnly:!0,filter:".drag-locked",setData:t=>{t.setDragImage(i,0,0)},onMove:t=>{if(t.related||t.dragged)return!t.related.classList.contains("drag-locked")&&!t.dragged.classList.contains("drag-locked")&&(t.related.classList.add("drag-chosen__no-hover"),!0)},onEnd:e=>{var n;const{oldIndex:i,newIndex:r}=e;null===(n=Array.from(t.children))||void 0===n||n.forEach((t=>{var e;null===(e=t.classList)||void 0===e||e.remove("drag-chosen__no-hover")}));const o=this.component.topSites;if(o&&0!==o.length&&-1!==i&&-1!==r&&i!==r){var s;Dt.M0.addOrUpdateTmplProperty("tpsdrag","1");if(!this.component.getUserSelectedSetting())return;const t={...o[i],slot:r,fromIndex:i,toIndex:r,dragDropType:1};this.addTopSite(t,!0);const n=null===(s=this.component.$fastController.subscribers)||void 0===s?void 0:s.topSites;if(n){const t=[...this.component.topSites];this.reorderItems(t,r,i);let o=[];if(n.spillover)o=n.spillover;else{const{sub1:t,sub2:e}=n;o=[t,e].filter((t=>t))}const s=o.filter((t=>t.subject===Ie))[0];if(s){const t=s.sub1.views,n=t[i].firstChild.parentNode;if(r<i)n.insertBefore(t[r].firstChild,e.item.nextSibling),n.insertBefore(t[i].firstChild,e.item),n.insertBefore(t[i].lastChild,e.item.nextSibling);else{const o=t[r+1];o&&n.insertBefore(o.firstChild,e.item.nextSibling),n.insertBefore(t[i].firstChild,e.item),n.insertBefore(t[i].lastChild,e.item.nextSibling)}this.reorderItems(t,r,i),this.component.getOrUpdateTopSites()}}Dt.M0.sendActionEvent(e.item)}},onChange:t=>{this.component.setActiveTopSiteElement(t.item)}})}destroy(){this.sortableService&&this.sortableService.destroy(),this.sortableService=null,this.unBindEvents()}}var Oe=n(16243),Ne=n(33141);const Ue="TSNP1.topsites";class Le{constructor(){try{this.storage=window.localStorage}catch(t){}}write(t,e){if(this.storage)try{this.storage[t]=e}catch(t){}}writeJsonKey(t,e){return this.write(t,JSON.stringify(e))}readJsonKey(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const i=null===(e=this.storage)||void 0===e?void 0:e[t];return i?JSON.parse(i):n}getTopSites(){return this.readJsonKey(Ue,[])}writeTopSites(t){this.writeJsonKey(Ue,t)}}var Be=n(22624);const We="promotedSitesRecord";var He;!function(t){t.APPEAR="APPEAR",t.CLICK="CLICK"}(He||(He={}));class ze{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2592e6;this.enableHidePromotedSites=!1,this.promotedSitesRecord={},this.workFinished=!1,this.lastDecideResultMap={},this.appearCountToHidePromoted=t,this.enableHidePromotedSites=this.appearCountToHidePromoted&&this.appearCountToHidePromoted>=2,this.recoverTime=e}handleTopSiteClick(t){this.enableHidePromotedSites&&this.promotedSitesRecord[t]&&(this.promotedSitesRecord[t].isClicked=!0,this.saveRecordToPsl(He.CLICK))}async initHidePromotedSites(){if(!this.enableHidePromotedSites)return;const t=await Be.L.getPreferenceSetting(We);if(!t)return;const e=JSON.parse(t.value);Date.now()-t.timestamp>this.recoverTime?this.promotedSitesRecord={}:this.promotedSitesRecord=e}shouldHide(t){if(this.lastDecideResultMap[t])return this.lastDecideResultMap[t];if(!this.enableHidePromotedSites)return this.lastDecideResultMap[t]=!1,!1;this.promotedSitesRecord[t]||(this.promotedSitesRecord[t]={appearCount:0,isClicked:!1,timestampList:[]});const e=this.promotedSitesRecord[t];return e.appearCount>=this.appearCountToHidePromoted&&!e.isClicked?(this.lastDecideResultMap[t]=!0,!0):(this.lastDecideResultMap[t]=!1,this.updateRecord(t),!1)}updateRecord(t){if(this.workFinished)return;if(!this.enableHidePromotedSites)return;const e=this.promotedSitesRecord[t];this.promotedSitesRecord[t]={appearCount:e.appearCount+1,isClicked:e.isClicked,timestampList:e.timestampList.concat(Date.now())}}saveRecordToPsl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He.APPEAR;this.workFinished&&t===He.APPEAR||this.enableHidePromotedSites&&(Be.L.savePreferenceSetting(We,{setting:We,source:t,value:JSON.stringify(this.promotedSitesRecord),timestamp:Date.now()}),this.workFinished=!0)}}var Ve=n(51653),je=n(21215),qe=n(22680),Ge=n(82928),Je=n(15675),Ke=n(5756);class Qe extends Ve.l{constructor(){var t;super(...arguments),t=this,this.dataHelper=new Le,this.hoverTelemtryTimer=null,this.linkTarget="_self",this.enableQuickBrief=!1,this.widthPerPage=92,this.carouselPageIndex=0,this.carouselColsPerSlide=0,this.scrollDirection=window.document.dir===Et.N.rtl?-1:1,this.darkModeQuery=window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)"),this.isDarkMode=this.darkModeQuery.matches,this.isRuby=E.FI.isRuby,this.extraAddedSitesClassName="",this.topSitesEndMarginUsedPadding=0,this.actionMenuOpenTime=void 0,this.isActionMenuOpen=!1,this.isEditDialogOpen=!1,this.isUndoToastOpen=!1,this.isPinToastOpen=!1,this.topSiteMapper=new Map,this.topSites=[],this.currentToastTag=void 0,this.toastExpirationTimerHost={currentToastTimerHandle:null},this.moveUpward=!1,this.topSiteAddedSuccessfully=!1,this.addTopSiteDialogListener=!1,this.editTopSiteDialogListener=!1,this.numberPromotedSites=0,this.disablePromoteTopSites=!1,this.isMinVisitAffiliateSitesFeatureActive=!1,this.appendGoogleSitesOnNTP=!1,this.blockGoogleTopSitesExp=!1,this.isDisableDefaultInProgress=!1,this.getUserSelectedSetting=()=>this.userSelectedSetting,this.setActiveTopSiteElement=t=>{this.activeTopSiteElement=t},this.renderTopSiteStartAndEnd=!1,this.canLoadHoverElements=!1,this.topSitesPromotedManager=null,this.closeFlyouts=(0,l.k)((()=>{this.isActionMenuOpen&&this.toggleActionMenu(null),this.isAddDialogOpen&&this.toggleAddDialog(),this.isEditDialogOpen&&this.toggleEditDialog()}),400),this.closeToast=function(){var e,n,i;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.currentToastTag=null,r&&(0,d.Gg)(d.tk.toast,!1),t.isAddDialogOpen&&t.toggleAddDialog(),t.isEditDialogOpen&&t.toggleEditDialog(),null===(e=t.activeContextMenuButtonElement)||void 0===e||e.focus(),null===(n=t.toastContainer)||void 0===n||n.removeEventListener("focus",t.handleToastFocus,!0),null===(i=t.toastContainer)||void 0===i||i.removeEventListener("blur",t.handleToastBlur,!0)},this.generateActionsMenuProps=async()=>({menuItems:await this.getActionMenuItem(),onDismiss:this.toggleActionMenu}),this.getActionMenuItem=async()=>{var t,e,i,r,o;const s=this.activeTopSiteItem&&[-5,-6].includes(this.activeTopSiteItem.tileSource),a=this.activeTopSiteItem&&(-8===this.activeTopSiteItem.tileSource||-7===this.activeTopSiteItem.tileSource),c=f.jG.CurrentMarket===h.IY.ENUS,{checkTopsitesTail:u,findActiveSiteIndex:l,pinAction:d,pinToTaskBarHandler:m,togglePinToast:g}=await n.e("experiences_top-sites-edgenext-wc_dist_TopSitesEdgeNextWC_actionMenu_js-experiences_views-nat-6dcdc1").then(n.bind(n,52381)),v={id:"Remove",title:this.strings.removeLabelText,glyph:$,onClick:t=>{u(l(this.activeTopSiteItem,this.topSites),this.dragDropService,this.topSites),"https://www.office.com"==this.activeTopSiteItem.url&&(this.deletedUrlLookup[this.activeTopSiteItem.url]=!0,this.webStorage.setObject("removedTopSiteUrls",this.deletedUrlLookup)),-6!=this.activeTopSiteItem.tileSource&&-7!=this.activeTopSiteItem.tileSource||(this.numberPromotedSites--,(0,p.$o)().setItem(R.vX,this.numberPromotedSites.toString())),this.dragDropService&&"slot"in this.activeTopSiteItem&&this.dragDropService.removeTopSite(this.activeTopSiteItem),(0,At.gM)(t,this.getOrUpdateTopSites,this.activeTopSiteItem,this.ntpApiHandle,this.toggleUndoToast.bind(this,!0),!0),this.onMostVisitedHandler()},telemetryTag:null===(t=this.topSiteActionTelemetryContext)||void 0===t||null===(t=t.removeTopSite)||void 0===t?void 0:t.getMetadataTag()},w={id:"Rename",title:this.strings.renameLabelText,glyph:A,onClick:t=>{this.toggleEditDialog(t)},telemetryTag:null===(e=this.topSiteActionTelemetryContext)||void 0===e||null===(e=e.editDialog)||void 0===e?void 0:e.getMetadataTag()},y=[w,v];if(s){var b;const t={id:"Hide",title:c?this.strings.hidePromotedCuratedLabelText:this.strings.hideCuratedLabelText,glyph:I,onClick:t=>{this.disableCurated()},telemetryTag:null===(b=this.topSiteActionTelemetryContext)||void 0===b||null===(b=b.removeCurated)||void 0===b?void 0:b.getMetadataTag()};y.push(t)}if(a){var S;const t={id:"Hide",title:c?this.strings.hideSponsoredCuratedLabelText:this.strings.hideCuratedLabelText,glyph:I,onClick:t=>{this.disableCurated()},telemetryTag:null===(S=this.topSiteActionTelemetryContext)||void 0===S||null===(S=S.removeCurated)||void 0===S?void 0:S.getMetadataTag()};y.push(t)}const x={id:"Pin",title:1===(null===(i=this.activeTopSiteItem)||void 0===i?void 0:i.dragDropType)?this.strings.unpinSite:this.strings.pinSite,glyph:1===(null===(r=this.activeTopSiteItem)||void 0===r?void 0:r.dragDropType)?_:P,onClick:t=>{d(this.dragDropService,this)},telemetryTag:null===(o=this.topSiteActionTelemetryContext)||void 0===o||null===(o=o.pinningTopSiteInQuickLinks)||void 0===o?void 0:o.getMetadataTag()};if(y.push(x),this.isRuby)return[w,v];if(this.config.enablePinningTopSite){var C;const t={id:"PinToTaskBar",title:this.strings.pinToTaskBar,glyph:M,onClick:t=>{m(this.activeTopSiteItem),g(this)},telemetryTag:null===(C=this.topSiteActionTelemetryContext)||void 0===C||null===(C=C.pinningTopSite)||void 0===C?void 0:C.getMetadataTag()};y.push(t)}return y},this.getOrUpdateTopSites=()=>{var t;this.topSites=this.getTopSites(),this.currentTilesNumber=(null===(t=this.topSites)||void 0===t?void 0:t.length)??0,this.topSitesPlaceHolders=this.getTopSitesPlaceHolders()},this.handleClick=t=>{this.isActionMenuOpen&&(!this.topSiteActionsMenu||this.topSiteActionsMenu.contains(t.target)||this.activeContextMenuButtonElement.contains(t.target)||!t.composedPath()||t.composedPath().includes(this.activeContextMenuButtonElement)||this.toggleActionMenu(this.activeTopSiteItem,t)),this.topSites&&this.topSites.length>0&&this.ShowPinningWizardCampaign()},this.lowEndDeviceHandler=t=>{var e;this.isLowEndDevice=(null==t||null===(e=t.detail)||void 0===e?void 0:e.isLowEndDevice)??!1},this.onMostVisitedHandler=()=>{this.getOrUpdateTopSites()},this.toggleActionMenu=async(t,e)=>{var n;(this.activeTopSiteElement=!this.isActionMenuOpen&&e?e.currentTarget.parentElement.parentElement:this.activeTopSiteElement,this.activeTopSiteItem=t,this.isActionMenuOpen)?(window.removeEventListener("scroll",this.closeFlyouts),this.actionsMenuProps=void 0):(this.actionMenuOpenTime=null===(n=performance)||void 0===n?void 0:n.now(),window.addEventListener("scroll",this.closeFlyouts),e&&e.currentTarget&&Oe.u.addElement(e.currentTarget),this.topSiteActionTelemetryContext&&this.activeTopSiteItem&&(this.topSiteActionTelemetryContext=((t,e,n)=>{const{tileSourcePrefix:i,isCuratedOrPromoted:r}=kt(e),{removeTopSite:o,editDialog:s,closeEditDialog:a,saveEdit:c,cancelEdit:u,turnOffPreview:l,turnOnPreview:d,pinningTopSiteInQuickLinks:f,undoRemoveTopSite:h,closeRemoveToast:p,pinningTopSite:m}=t;o.contract.name=`${i}_${tt}`,h.contract.name=`${i}_${et}`,p.contract.name=`${i}_${Z}`,s.contract.name=`${i}_${rt}`,a.contract.name=`${i}_${at}_${nt}`,c.contract.name=`${i}_${at}_${ot}`,u.contract.name=`${i}_${at}_${it}`,l.contract.name=`${i}_${ft}`,d.contract.name=`${i}_${dt}`,m.contract.name=`${i}_${mt}`,f.contract.name=`${i}_${ht}`;const g=!e.pinActionButtonTelemetryTag;return n&&(f.contract.name=g?`${i}_${mt}`:f.contract.name=`${i}_${pt}`),r&&(o.contract.content.headline=`${xt.remove}_${e.title}`,h.contract.content.headline=`${xt.undoRemove}_${e.title}`,p.contract.content.headline=`${xt.close}_${e.title}`,s.contract.content.headline=`${xt.rename}_${e.title}`,a.contract.content.headline=`${xt.close}_${e.title}`,c.contract.content.headline=`${xt.save}_${e.title}`,u.contract.content.headline=`${xt.cancel}_${e.title}`,l.contract.content.headline=`${xt.turnOffPreview}_${e.title}`,d.contract.content.headline=`${xt.turnOnPreview}_${e.title}`,m.contract.content.headline=`${xt.topsiteTaskbarpin}_${e.title}`,f.contract.content.headline=`${xt.pin}_${e.title}`,n&&(f.contract.content.headline=g?`${xt.pin}_${e.title}`:`${xt.unpin}_${e.title}`),o.contract.destinationUrl=`${e.url}`,h.contract.destinationUrl=`${e.url}`,p.contract.destinationUrl=`${e.url}`,s.contract.destinationUrl=`${e.url}`,a.contract.destinationUrl=`${e.url}`,c.contract.destinationUrl=`${e.url}`,u.contract.destinationUrl=`${e.url}`,l.contract.destinationUrl=`${e.url}`,d.contract.destinationUrl=`${e.url}`,m.contract.destinationUrl=`${e.url}`,f.contract.destinationUrl=`${e.url}`),t})(this.topSiteActionTelemetryContext,this.activeTopSiteItem,this.isRuby)),this.activeContextMenuButtonElement=e.currentTarget,this.generateActionsMenuProps().then((t=>{this.actionsMenuProps=t})));this.isActionMenuOpen=!this.isActionMenuOpen,(0,d.Gg)(d.tk.actionMenuOpen,this.isActionMenuOpen)},this.toggleAddDialog=t=>{const e=!this.isAddDialogOpen&&t?t.currentTarget.parentElement.parentElement:null;if(this.isAddDialogOpen)window.removeEventListener("scroll",this.closeFlyouts);else{window.addEventListener("scroll",this.closeFlyouts),t&&t.currentTarget&&Oe.u.addElement(t.currentTarget);const n=document.dir===Et.N.ltr,i=this.config.suggestedTopSiteList&&this.config.suggestedTopSiteList.length>0?R.ht:R.If,r=(0,At.oy)(e,this.topSitesRoot,i,document.documentElement.clientWidth,document.documentElement.clientHeight,n);this.topSiteAddDialogContainerPosition=r,this.addTopSiteButtonRef=null==t?void 0:t.currentTarget}this.isAddDialogOpen=!this.isAddDialogOpen,this.isAddDialogOpen||(this.isEditDialogOpen&&this.toggleEditDialog(),"undo"===this.currentToastTag&&this.toggleUndoToast(),this.addTopSiteButtonRef&&window.setTimeout((()=>this.addTopSiteButtonRef.focus()),0)),(0,d.Gg)(d.tk.addTopSite,this.isAddDialogOpen),this.topSiteAddDialog.newOrUpdatedTopSite={name:"",url:""}},this.toggleEditDialog=t=>{if(this.isEditDialogOpen)window.removeEventListener("scroll",this.closeFlyouts);else{window.addEventListener("scroll",this.closeFlyouts),t&&t.currentTarget&&Oe.u.addElement(t.currentTarget),this.topSiteEditDialog.newOrUpdatedTopSite={name:this.activeTopSiteItem.title,url:this.activeTopSiteItem.url},this.topSiteEditDialog.nameInputBox.value=this.activeTopSiteItem.title;const e=document.dir===Et.N.ltr,n=(0,At.oy)(this.activeTopSiteElement,this.topSitesRoot,R.QC,document.documentElement.clientWidth,document.documentElement.clientHeight,e);this.topSiteEditDialogContainerPosition=n}this.isEditDialogOpen=!this.isEditDialogOpen,this.isEditDialogOpen||(this.isAddDialogOpen&&this.toggleAddDialog(),"undo"===this.currentToastTag&&this.toggleUndoToast()),(0,d.Gg)(d.tk.editTopSite,this.isEditDialogOpen)},this.updateToastContainer=()=>{const t=this.topSitesRoot;if(!t)return!1;const e=t.getBoundingClientRect(),n=`top: ${Math.ceil(e.bottom)+window.scrollY+R.Kq}px`;return this.toastContainer.setAttribute("style",n),this.toastContainer.addEventListener("focus",this.handleToastFocus,!0),this.toastContainer.addEventListener("blur",this.handleToastBlur,!0),!0},this.handleToastFocus=t=>{this.toastContainer.contains(t.target)&&((0,At.uN)(this.toastExpirationTimerHost),window.addEventListener("keydown",this.handleToastKeyDown,!0))},this.handleToastBlur=t=>{this.toastContainer.contains(t.relatedTarget)||((0,At.lR)(this.toastExpirationTimerHost),window.removeEventListener("keydown",this.handleToastKeyDown,!0))},this.handleToastKeyDown=t=>{this.toastContainer&&"Escape"===t.key&&this.closeToast()},this.toggleUndoToast=t=>{(t||"undo"!==this.currentToastTag)&&this.toastContainer&&this.updateToastContainer()?(this.isActionMenuOpen=!1,this.undoToast=this.generateUndoToastProps(),Oe.u.addElement(this.toastContainer),this.currentToastTag="undo",(0,At.zz)(this.toastExpirationTimerHost,this.undoToast.notificationDurationMs,this.closeToast),window.setTimeout((()=>{this.undoButton.focus()}),100)):this.closeToast(),(0,d.Gg)(d.tk.toast,"undo"===this.currentToastTag)},this.saveTopSitesTP1Data=()=>{this.dataHelper.writeTopSites(this.topSites)},this.onBreakpointCallback=t=>{this.columnArrangement=t,this.carouselColsPerSlide=R.Jz[t],this.carouselPageIndex=0,this.scrollToPosition(),this.reRenderTopsite()},this.getCurrentLayoutConfig=()=>{var t;const e=null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.selectedFeedDisplaySetting,n=this.userSelectedSetting&&"off"!==this.userSelectedSetting?this.userSelectedSetting:"onerow",i=this.tilesxColxRowsMap[n];var r;if(!i)return Dt.M0.sendAppErrorEvent({...O.A$C,message:"Can't find layout config for topsites",pb:{...O.A$C.pb,userSelectedSetting:this.userSelectedSetting,chromiumPageSettingStatePresent:!!this.chromiumPageSettingState,selectedQuickLinksDisplaySetting:null===(r=this.chromiumPageSettingState)||void 0===r?void 0:r.selectedQuickLinksDisplaySetting}}),null;const o=i[this.columnArrangement];return o[e]??o.default},this.onResize=()=>{this.closeFlyouts()},this.themeChanged=t=>{this.isDarkMode=!(null==t||!t.matches)}}async experienceConnected(){var t,e,n,i;(0,N.Ou)().TopSitesConnected=null===(t=performance)||void 0===t?void 0:t.now();const r=!m.Al.IsPrerender;if(this.wpoConfig=function(){try{const t=Ke.k.getWpoTreatmentsWithType(Je._h.topSitesPromotion),e=Ke.k.getWpoTreatmentsWithType(Je._h.topSites),n=[...t||[],...e||[]];if((null==n?void 0:n.length)>0&&n[0].properties)return n[0].properties}catch(t){const e="Error in getting wpo topSites config";(0,L.H)(O.Od5,e,`error:${t}`)}return null}(),this.isRuby&&this.config.curatedSitesRuby&&(this.config.curatedSites=this.config.curatedSitesRuby),this.wpoConfig){var o,s,a;const t=(null===(o=this.wpoConfig.recommendedSites)||void 0===o?void 0:o.filter((t=>!t.isSponsored)))??[];if(this.config={...this.config,...this.wpoConfig,recommendedSites:t},Dt.M0.addOrUpdateTmplProperty("wpoRecEn",this.wpoConfig.enableRecommendedSites?"1":"0"),Dt.M0.addOrUpdateTmplProperty("wpoRecTtls",(null==t||null===(s=t.map((t=>t.title)))||void 0===s?void 0:s.toString())||"X"),(null===(a=this.wpoConfig.recommendedSites)||void 0===a?void 0:a.length)>0){const t=(0,At.$h)(this.wpoConfig.recommendedSites,this.config.curatedSites);this.config={...this.config,curatedSites:t}}}var c;(this.topSitesPromotedManager=new ze(this.config.appearCountToHidePromoted),await this.topSitesPromotedManager.initHidePromotedSites(),r&&(this.topSites=this.dataHelper.getTopSites()),this.isTP1DataUsed=r&&this.topSites.length>0,this.isTP1DataUsed)?(await this.waitForSelectedQuickLinksReady(),this.chromiumPageSettingState=(0,Ge.K0)(C.RL).getCurrentState(),this.userSelectedSetting=this.chromiumPageSettingState.selectedQuickLinksDisplaySetting||this.selectedQuickLinksDisplaySetting,(0,N.Ou)().TopSitesConnectedFirstGetTopSites=null===(c=performance)||void 0===c?void 0:c.now(),(0,je.N)()&&(0,_t.eC)().then((()=>(0,F.f)(11,m.Al.IsPrerender)))):await this.subscribeToChromiumPageState();this.columnArrangement=(0,y.Bn)().currentColumnArrangement,this.numberPromotedSites=this.config.promoteCurated;const u=(0,p.$o)().getItem(R.vX),l=Number(null==u?void 0:u);if(this.disablePromoteTopSites=!isNaN(l)&&0===l,!this.disablePromoteTopSites&&this.numberPromotedSites>l&&(this.numberPromotedSites=l),this.enableSixteenTopSites?(this.maxTiles=R.jC,this.extraAddedSitesClassName="tworows"===this.userSelectedSetting&&this.columnArrangement>="c4"?null:R.Lg.tenSites):(this.maxTiles=R.Ny,this.extraAddedSitesClassName=R.Lg.eightSites),this.config.enableOneColumn&&this.columnArrangement===b.K$.c1&&(this.extraAddedSitesClassName=R.Lg.sixSites),this.topSitesLayoutDataConnector=(0,Ge.K0)(C.hz),(0,Rt.Uo)(C.hz,(t=>{this.topSitesLayoutState=t})),null===(e=this.topSitesLayoutDataConnector)||void 0===e||null===(n=e.updateMaxTiles)||void 0===n||n.call(e,this.maxTiles),this.pageSettingsConnector=(0,Ge.K0)(C.RL),this.isTP1DataUsed){const t=this.getCurrentLayoutConfig();t&&(this.maxTiles=t.tile,this.extraAddedSitesClassName=t.class),this.topSites.length>=this.maxTiles&&(this.topSites=this.topSites.slice(0,this.maxActualTile))}const d=window;if(d.chrome&&d.chrome.embeddedSearch&&(this.ntpApiHandle=d.chrome.embeddedSearch.newTabPage),d.chrome&&d.chrome.ntpSettingsPrivate&&(this.ntpSettingsPrivateApiHandle=d.chrome.ntpSettingsPrivate),this.ntpApiHandle&&(this.ntpApiHandle.onmostvisitedchange=this.onMostVisitedHandler),this.minimumTopSites=R.Ny-1,!(0,je.N)()){const t=this.getCurrentLayoutConfig();return this.maxTiles=null==t?void 0:t.tile,this.extraAddedSitesClassName=t.class,void this.getOrUpdateTopSites()}var f,h;this.isTP1DataUsed?(this.currentTilesNumber=(null===(f=this.topSites)||void 0===f?void 0:f.length)??0,this.topSitesPlaceHolders=this.getTopSitesPlaceHolders()):(this.getOrUpdateTopSites(),(0,N.Ou)().TopSitesConnectedFirstGetTopSites=null===(h=performance)||void 0===h?void 0:h.now(),(0,je.N)()&&(0,_t.eC)().then((()=>(0,F.f)(11,m.Al.IsPrerender))));this.topSiteAddedSuccessfully=!1,(0,It.FY)(Pt._.topSites,this),this.processMinimumVisitAffiliateFeatureState(),this.isMinVisitAffiliateSitesFeatureActive&&this.persistMinVisitAffiliateInfo(),this.initCanLoadHoverElements(),this.isDarkMode=!(null===(i=this.darkModeQuery)||void 0===i||!i.matches),this.darkModeQuery.addEventListener("change",this.themeChanged),this.checkTopSitesIcon()}beforeHydration(){this.$fastController.needsHydration=!1,null===Dt.M0||void 0===Dt.M0||Dt.M0.addOrUpdateTmplProperty("ts_try_hydration","1")}async subscribeToChromiumPageState(){const t=new S.o;(0,Rt.Uo)(C.RL,(e=>{if(!e.isLoadCompleted)return;if(t.set(),this.chromiumPageSettingState=e,e&&e.configData){var n;if(e.configData.enabledFeatures)if(this.blockGoogleTopSitesExp=e.configData.enabledFeatures.includes("msNtpExpBlockTopSitesPromotions"),e.configData.enabledFeatures.includes("msNtpUseGoogleTopSites"))if(this.appendGoogleSitesOnNTP=!0,(null===(n=this.wpoConfig)||void 0===n||null===(n=n.recommendedSites)||void 0===n?void 0:n.length)>0&&this.config.curatedSitesEdgeExp){const t=(0,At.$h)(this.wpoConfig.recommendedSites,this.config.curatedSitesEdgeExp);this.config.curatedSites=t}else this.config.curatedSites=this.config.curatedSitesEdgeExp??this.config.curatedSites;this.ntpApiVersion=e.configData.apiVersion}const i=e&&e.selectedQuickLinksDisplaySetting;this.enableSixteenTopSites&&this.userSelectedSetting!==i&&(this.userSelectedSetting&&(this.userSelectedSetting=i,"tworows"===this.userSelectedSetting&&(this.maxTiles=R.jC),this.getOrUpdateTopSites()),this.userSelectedSetting=i),this.chromiumPageSettingLayoutState&&this.chromiumPageSettingLayoutState!=e&&this.reRenderTopsite(),this.chromiumPageSettingLayoutState=e,this.chromiumPageSettingState.topSitesQuickLinkEndMarginUsedPadding&&this.chromiumPageSettingState.topSitesQuickLinkEndMarginUsedPadding!=this.topSitesEndMarginUsedPadding&&(this.topSitesEndMarginUsedPadding=this.chromiumPageSettingState.topSitesQuickLinkEndMarginUsedPadding),Dt.M0.addOrUpdateTmplProperty("tsHideDefault",""+(e.hideDefaultTopSites?1:0)),this.config.enableOpenInNewTab&&(this.linkTarget=e.openInNewTab?"_blank":"_self"),this.isRuby&&(this.isDarkMode=(0,x.Yc)())})),window.isSSREnabled&&await t.getResultAsync()}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this.dragDropService)||void 0===t||t.destroy(),this.dragDropService=null,window.removeEventListener("resize",this.onResize),window.removeEventListener("mouseup",this.handleClick,!1),window.removeEventListener("LowEndDeviceBkgd",this.lowEndDeviceHandler),this.darkModeQuery.removeEventListener("change",this.themeChanged)}async prerenderRefreshCritical(){return this.initializeTopSitesState()}getApproxTTVRValue(t){const e=(0,N.Ou)();if(e.isSSRCompleted)return e[U.nz+(t||this.getExperienceType())]||e[U.nz+"Complete"]}async shadowDomPopulated(){if(!(0,je.N)())return;window.addEventListener("resize",this.onResize),window.addEventListener("mouseup",this.handleClick,!1),window.addEventListener("LowEndDeviceBkgd",this.lowEndDeviceHandler),n.e("experiences_top-sites-edgenext-wc_dist_TopSitesEdgeNextWC_addDialog_js-experiences_top-sites--c06b42").then(n.bind(n,8865)).then((t=>{let{generateTopSiteAddDialogProps:e}=t;this.topSiteAddDialog=e(this.activeTopSiteElement,this)})),n.e("experiences_top-sites-edgenext-wc_dist_TopSitesEdgeNextWC_addDialog_js-experiences_top-sites--c06b42").then(n.bind(n,77843)).then((t=>{let{generateTopSiteEditDialogProps:e}=t;this.topSiteEditDialog=e(this.activeTopSiteElement,this)})),this.config.enableCarouselTopSite&&(this.carouselProps=this.generateCarouselProps()),(0,y.Bn)().subscribe(this.onBreakpointCallback),this.topSitesContainerPromise=new Promise((t=>this.topSitesContainerPromiseResolver=t)),this.dragDropService||this.initializeDragDropService();const t=this.getOverrideIconList();if(t&&t.length>0&&t.forEach((t=>{t.identifierHosts.forEach((e=>{this.topSiteMapper.set(e,t.faviconUrl??c.Jn(t.faviconId))}))})),this.config.suggestedTopSiteList&&this.config.suggestedTopSiteList.length>0&&(this.config.suggestedTopSiteList=((t,e)=>{if(!t)return e;for(const t of e){const e=(0,W.X)(`${lt}_${ct}_${st}`,{headline:xt.suggestedLink,type:B.uH.TopSites},B.wu.Save,B.c9.ActionButton,Ct);t.suggestedLinkTelemetryTag=e.getMetadataTag()}return e})(this.telemetryObject,this.config.suggestedTopSiteList)),this.initializeTopSitesState(),this.isTP1DataUsed?window.requestAnimationFrame((()=>{this.markVisuallyReady(),Dt.M0.observeSingleElement(this.topSitesRoot)})):window.requestAnimationFrame((()=>{window.setTimeout((()=>{this.markVisuallyReady(),Dt.M0.observeSingleElement(this.topSitesRoot)}))})),this.columnArrangement=(0,y.Bn)().currentColumnArrangement,this.renderTopSiteStartAndEnd=!0,this.carouselColsPerSlide=R.Jz[this.columnArrangement],this.isTP1DataUsed){var e;const t=(null===(e=this.topSites)||void 0===e?void 0:e.length)??0;(0,g.C)((()=>{var e;this.subscribeToChromiumPageState(),this.getOrUpdateTopSites();((null===(e=this.topSites)||void 0===e?void 0:e.length)??0)-t>1&&(0,L.H)(O.VKG,"TopSites don't get enough data from TP1",void 0,{...O.VKG.pb,tp1DataLength:this.topSites.length,maxTiles:this.maxTiles,columnArrangement:this.columnArrangement,shouldSampleErrorsForTreatement1:!0})}))}else this.reRenderTopsite();this.registerElements(),window.addEventListener("beforeunload",this.saveTopSitesTP1Data,{once:!0})}registerElements(){if((0,f.Yq)().ClarityEnabled){var t,e;const n=null===(t=this.shadowRoot)||void 0===t||null===(e=t.getElementById)||void 0===e?void 0:e.call(t,R.sn.topSitesId);n&&n.setAttribute("data-clarity-mask","true")}this.topSitesContainerPromiseResolver(this.topSitesContainer)}quickBriefVisibleChanged(){this.enableQuickBrief=this.quickBriefVisible,this.$fastController.isConnected&&this.reRenderTopsite(!0)}get shouldHidePlaceholders(){var t;return(null===(t=this.config)||void 0===t?void 0:t.qbHideAdd)&&this.quickBriefVisible}get maxActualTile(){return this.shouldHidePlaceholders?this.maxTiles:this.maxTiles-1}get tilesxColxRowsMap(){return this.isRuby?R.RX:this.config.enableCarouselTopSite?R.pK:this.quickBriefVisible?R.Mc:R.FQ}getExperienceType(){return k.gLP}get className(){var t,e,n;return this.isLowEndDevice&&"informational"==(null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.currentLayout)?this.isDarkMode?R.Lg.topSitesDark:R.Lg.topSitesLight:this.needDarkThemeIcons?R.Lg.topSitesLight:(null!==(e=this.chromiumPageSettingState)&&void 0!==e&&e.imageOfTheDayEnabled||null!==(n=this.chromiumPageSettingState)&&void 0!==n&&n.displayBackgroundImageType)&&!this.showFullPageBlur?this.isDarkMode?R.Lg.topSitesDarkOnBackgroundImage:R.Lg.topSitesLightOnBackgroundImage:this.isDarkMode?R.Lg.topSitesDark:R.Lg.topSitesLight}get enableSixteenTopSites(){var t;return!(null===(t=this.chromiumPageSettingState)||void 0===t||!t.ntpPrefOptionApiAvailability)}get twoRowSitesClassName(){var t;return this.selectedQuickLinksDisplaySetting&&"tworows"==this.selectedQuickLinksDisplaySetting?(null===(t=this.topSites)||void 0===t?void 0:t.length)<=this.minimumTopSites?"":R.Lg.twoRowSites:""}get topSitesClassName(){return this.isInformationalLayout?"information-layout":""}get isInformationalLayout(){var t;return!("always"!=(null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.selectedFeedDisplaySetting))}generateUndoTopSiteHandler(){return this.isDisableDefaultInProgress?(this.disableCurated(),void(this.isDisableDefaultInProgress=!1)):this.dragDropService&&"slot"in this.activeTopSiteItem?(this.dragDropService.addTopSite(this.activeTopSiteItem),this.toggleUndoToast(),void this.getOrUpdateTopSites()):(-6!=this.activeTopSiteItem.tileSource&&-7!=this.activeTopSiteItem.tileSource||(this.numberPromotedSites++,(0,p.$o)().setItem(R.vX,this.numberPromotedSites.toString())),(0,At.TP)(this.getOrUpdateTopSites,this.ntpApiHandle,this.activeTopSiteItem.rid,this.activeTopSiteItem.tileSource,this.activeTopSiteItem.url),void this.toggleUndoToast())}generateUndoToastProps(){var t,e;const n=this.activeTopSiteItem.title,i=n.length>20?`${n.substring(0,20)}…`:n,r=this.strings.undoRemovedFormat;let o=(0,v.Z)(r,i);return this.isDisableDefaultInProgress&&(o=[this.strings.undoDisableDefault]),{closeButtonLabel:this.strings.closeButtonText,closeButtonTelemetryTag:null===(t=this.topSiteActionTelemetryContext)||void 0===t||null===(t=t.closeRemoveToast)||void 0===t?void 0:t.getMetadataTag(),closeHandler:()=>{this.closeToast()},notificationDurationMs:R.mR,removedText:o,undoButtonLabel:this.strings.undoLabelText,undoButtonTelemetryTag:null===(e=this.topSiteActionTelemetryContext)||void 0===e||null===(e=e.undoRemoveTopSite)||void 0===e?void 0:e.getMetadataTag(),undoTopSiteHandler:()=>{this.generateUndoTopSiteHandler()}}}generateCarouselProps(){var t,e,n,i;return{preFlipperText:(null===(t=this.strings)||void 0===t?void 0:t.preFlipper)||"Previous sites",nextFlipperText:(null===(e=this.strings)||void 0===e?void 0:e.nextFlipper)||"Next sites",clickCarouselNextButtonTag:null===(n=this.topSitesTelemetryContext)||void 0===n||null===(n=n.clickCarouselNextButton)||void 0===n?void 0:n.getMetadataTag(),clickCarouselPreButtonTag:null===(i=this.topSitesTelemetryContext)||void 0===i||null===(i=i.clickCarouselPreButton)||void 0===i?void 0:i.getMetadataTag()}}mockTopSites(){return"1"===w.cX.getQueryParameterByName("mockTopSites",(0,qe.zp)())}getOrderedTopSites(){var t,e,n;let i=[];if(this.mockTopSites())return R.C;if(!(0,je.N)())return Array(this.maxActualTile).fill(R.IA).map(((t,e)=>({...t,rid:e+1})));var r,o,s,a,u;if(i=(0,At.h4)(this.ntpApiHandle),(this.appendGoogleSitesOnNTP||!this.blockGoogleTopSitesExp&&null!==(r=this.config)&&void 0!==r&&r.appendGoogleSites)&&(i=i.filter((t=>"www.office.com"!==t.domain))),(null!==(o=this.config)&&void 0!==o&&o.appendGoogleSites||null!==(s=this.config)&&void 0!==s&&s.isGoogleTopSitesCtrl)&&!this.blockGoogleTopSitesExp){0===i.filter((t=>"www.office.com"!==t.domain)).length&&(Dt.M0.addOrUpdateTmplProperty("no_mv_sites","1"),(0,p.$o)().setItem("tsAlternate","1"))}if(!this.blockGoogleTopSitesExp&&null!==(a=this.config)&&void 0!==a&&a.appendGoogleSites)if((null===(u=this.wpoConfig)||void 0===u||null===(u=u.recommendedSites)||void 0===u?void 0:u.length)>0&&this.config.curatedSitesCSExp){const t=(0,At.$h)(this.wpoConfig.recommendedSites,this.config.curatedSitesCSExp);this.config.curatedSites=t}else this.config.curatedSites=this.config.curatedSitesCSExp??this.config.curatedSites;!this.isRuby&&this.config.noAds&&(this.config.curatedSites=this.config.curatedSites.filter((t=>!t.isSponsored))),i=this.removeBlockedSites(i);let l=1;const d=new Map,f=new Set,h=this.numberPromotedSites;let m=h>0&&!this.disablePromoteTopSites;const g=[];this.updateAffiliateAutoAppendTileSource(i);const v=this.getCurrentLayoutConfig(),w=this.shouldHidePlaceholders?v.tile:v.tile-1,y=null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.hideDefaultTopSites;let S=i.length>=w,x=!1;if(!y&&i&&this.config&&(i.length<w||m)&&this.config.curatedSites){c.j3(this.config,i),i.length+h<w&&m&&(m=!1,S=!1,x=!0);const t=i.length;t>0&&(l=i[t-1].rid+1e3);const e=c.Ej();if(e.forEach((t=>{t.isSponsored&&f.add(t.url)})),!m){const t=this.dedupeCuratedSitesByTitle(e,i).slice(0,this.maxActualTile-i.length).map((t=>(d.set(l,t),this.mapCuratedSiteToTopsites(l++,t,!1))));i.push(...t)}const n=this.dedupeCuratedSitesByTitle(e,i);n.sort(((t,e)=>(t.isSponsored=t.isSponsored??!1,e.isSponsored=e.isSponsored??!1,Number(e.isSponsored)-Number(t.isSponsored))));const r=n.slice(0,h).map((t=>(d.set(l,t),this.mapCuratedSiteToTopsites(l++,t,!0))));g.push(...r)}this.config.enableRecommendedSites&&!y&&(i=(0,At.HU)(this.config,this.maxTiles,i,d,g));const C=new Set([0,7,8,2,-5,-8,-4]),k=new Set([4,3]);let T=v.tile;const $=(0,je.N)()?(null===(e=this.dragDropService)||void 0===e||null===(n=e.getFixedTopSites)||void 0===n?void 0:n.call(e))??[]:[];$.forEach((t=>{-8!=t.tileSource&&!t.isSponsored||f.has(t.url)||(t.isSponsored=!1,t.tileSource=-5)}));let A=$.filter((t=>t.slot<T)),I=(0,Ot.Z)(i,A,"url"),P=I.filter((t=>k.has(t.tileSource)));P.length+$.filter((t=>t.slot<v.tile)).length<v.tile&&!this.shouldHidePlaceholders&&(T=v.tile-1,A=$.filter((t=>t.slot<T)),I=(0,Ot.Z)(i,A,"url"),P=I.filter((t=>k.has(t.tileSource))));const _=A.length,M=Math.min(T-_,P.length),E=T-_-M;let F=0,D=0,O=I.reduce(((t,e)=>(C.has(e.tileSource)&&D<E&&(e.title=(0,At.pI)(e.title,e.domain??e.url),t.push(e),D+=1),k.has(e.tileSource)&&F<M&&(t.push(e),F+=1),t)),[]);if(x){0==O.filter((t=>-5==t.tileSource)).length&&(m=!0,S=!0)}const N=new Map;if(m&&g.length>0)for(let t=h,e=0;t>0&&e<g.length;t--,e++)N.set(w-t,g[e]);"onerow"===this.userSelectedSetting&&M>0&&(this.columnArrangement===b.K$.c1||this.columnArrangement===b.K$.c2)&&(O=this.getOneColOrTwoColTopSites(I,M,E,T,m?g:[])),i=[...(0,Ft.$)(O,A)];let U=0===M;if(U=E>=h,U&&N.size>0&&N.forEach(((t,e)=>{var n,r;3!=(null===(n=i[e])||void 0===n?void 0:n.tileSource)&&4!=(null===(r=i[e])||void 0===r?void 0:r.tileSource)||(U=!1)})),m&&U&&N.size>0&&(N.forEach(((t,e)=>{this.topSitesPromotedManager.shouldHide(t.url)||(i.splice(e,0,t),i.pop())})),this.topSitesPromotedManager.saveRecordToPsl()),S&&U&&Dt.M0.addOrUpdateTmplString("promotedTopSites"),this.config.enableCarouselTopSite&&m&&U&&N.size>0){const t=[-6,-7],e=i.length;for(let n=this.numberPromotedSites;n>=1;n--)t.includes(i[e-n].tileSource)&&([i[this.carouselColsPerSlide-n],i[e-n]]=[i[e-n],i[this.carouselColsPerSlide-n]])}return i}mapCuratedSiteToTopsites(t,e,n){return{rid:t,dataGenerationTime:void 0,faviconUrl:e.faviconUrl??c.Jn(e.faviconId),domain:void 0,title:e.title,tileSource:this.getTileSource(n,e.isSponsored),tileTitleSource:void 0,url:e.url,direction:e.direction,enforcement:void 0,isSponsored:e.isSponsored}}getRubyOrderedTopSites(){var t,e,n;let i=[];if(!(0,je.N)())return Array(this.maxActualTile).fill(R.IA).map(((t,e)=>({...t,rid:e+1})));i=(0,At.h4)(this.ntpApiHandle),i=this.removeBlockedSites(i);let r=1;const o=new Map;let s=this.maxTiles?this.maxTiles-1:R.Ny-1;const a=this.getCurrentLayoutConfig();s=this.shouldHidePlaceholders?a.tile:a.tile-1;if(!(null===(t=this.chromiumPageSettingState)||void 0===t?void 0:t.hideDefaultTopSites)&&i&&this.config&&i.length<s&&this.config.curatedSites){c.j3(this.config,i);const t=i.length;t>0&&(r=i[t-1].rid+1e3);const e=c.Ej().map((t=>(o.set(r,t),{rid:r++,dataGenerationTime:void 0,faviconUrl:t.faviconUrl??c.Jn(t.faviconId),domain:void 0,title:t.title,tileSource:this.getTileSource(!1,t.isSponsored),tileTitleSource:void 0,url:t.url,direction:t.direction,enforcement:void 0,isSponsored:t.isSponsored})));i.push(...e)}const u=new Set([0,7,8,2,-5,-8,-4]),l=new Set([4,3]);let d=a.tile;const f=(0,je.N)()?(null===(e=this.dragDropService)||void 0===e||null===(n=e.getFixedTopSites)||void 0===n?void 0:n.call(e))??[]:[];f.forEach((t=>{(-8==t.tileSource||t.isSponsored)&&(t.isSponsored=!1,t.tileSource=-5)}));let h=f.filter((t=>t.slot<d)),p=(0,Ot.Z)(i,h,"url"),m=p.filter((t=>l.has(t.tileSource)));m.length+f.filter((t=>t.slot<a.tile)).length<a.tile&&!this.shouldHidePlaceholders&&(d=a.tile-1,h=f.filter((t=>t.slot<d)),p=(0,Ot.Z)(i,h,"url"),m=p.filter((t=>l.has(t.tileSource))));const g=h.length,v=Math.min(d-g,m.length),w=d-g-v;let y=0,S=0,x=p.reduce(((t,e)=>(u.has(e.tileSource)&&S<w&&(e.title=(0,At.pI)(e.title,e.domain??e.url),t.push(e),S+=1),l.has(e.tileSource)&&y<v&&(t.push(e),y+=1),t)),[]);return"onerow"===this.userSelectedSetting&&v>0&&(this.columnArrangement===b.K$.c1||this.columnArrangement===b.K$.c2)&&(x=this.getOneColOrTwoColTopSites(p,v,w,d,[])),i=[...(0,Ft.$)(x,h)],i}getOneColOrTwoColTopSites(t,e,n,i,r){const o=new Set([-5,-4,0,7,8,2]),s=new Set([-8,-7]),a=new Set([4,3]);let c=[];const u=[],l=[];let d=[],f=0;for(const n of t)s.has(n.tileSource)?d.push(n):o.has(n.tileSource)?u.push(n):a.has(n.tileSource)&&f<e&&(l.push(n),f+=1);this.columnArrangement===b.K$.c1&&d.length<1?d=r.slice(0,1):this.columnArrangement===b.K$.c2&&d.length<2&&(d=r.length>d.length?r.slice(0,2):d);const h=d.length+u.length-n;h>0&&u.splice(0,h);const p=u.slice(0,i-(l.length+d.length));return c=[...l,...d,...p],c}getTopSites(){const t=this.isRuby?this.getRubyOrderedTopSites():this.getOrderedTopSites();if(null==t||!t.length)return this.userSelectedSetting&&"off"==this.userSelectedSetting||this.zeroTopSitesErrorHandler(),[];const e=[],n=this.maxActualTile;return t.forEach(((t,i)=>{var r,o;if(n<i)return;if((null===(r=this.config.overrideIconsList)||void 0===r?void 0:r.length)>0&&this.topSiteMapper.size>0)if(this.topSiteMapper.get(t.url))t.faviconUrl=this.topSiteMapper.get(t.url);else{const e=(0,At.Qf)(t.url);this.topSiteMapper.get(e)&&(t.faviconUrl=this.topSiteMapper.get(e))}R.dz&&R.dz[t.url]&&(t.faviconUrl=c.Jn(R.dz[t.url])),R.K4&&R.K4[t.url]&&(t.title=R.K4[t.url]);const s=new Ne.D(t.url),{topSitesAffiliates:a,affiliateLinkOverrides:u}=this.config;a&&a[s.domainPathAndQuery]&&"/"!==a[s.domainPathAndQuery]&&2===t.tileSource&&R.jS.test(a[s.domainPathAndQuery])&&(t.url=t.url.replace(/\/$/,"")+a[s.domainPathAndQuery]),u&&this.handleAffiliateOverrides(s,t);const l={...t,adLabelType:this.config.adLabelType},d=this.userSelectedSetting?null===(o=this.tilesxColxRowsMap[this.userSelectedSetting])||void 0===o||null===(o=o[this.columnArrangement])||void 0===o||null===(o=o.default)||void 0===o?void 0:o.maxRowTileCount:null,f=((t,e,n,i)=>{if(!t)return;const{tileSourcePrefix:r,isCuratedOrPromoted:o}=kt(e),s=B.uH.TopSites;let a=xt.tsn,c=Ct;o&&(a=e.title,c=e.url);const u=i?Math.floor(n/i)+1:null,l=i?n%i+1:null;return{topSiteTile:(0,W.c)(`${r}_${Q}`,{headline:a,type:s},B.wu.View,B.Aw.View,{overrideDestinationUrl:c,ext:{hl:a,row:u,col:l}}),destination:(0,W.c)(`${r}_${X}${"https://www.bing.com/work"===e.url?">top-sites-bookmarks-tile-click":""}`,{headline:a,type:s},B.wu.Navigate,B.Aw.Click,{overrideDestinationUrl:c}),moreOption:(0,W.c)(`${r}_${Y}`,{headline:`${xt.moreOption}_${a}`,type:s},B.wu.More,{overrideDestinationUrl:c}),unpin:(0,W.c)(`${r}_${pt}`,{headline:`${xt.unpin}_${a}`,type:s},B.wu.Unpin,{overrideDestinationUrl:c}),pin:(0,W.c)(`${r}_${mt}`,{headline:`${xt.pin}_${a}`,type:s},B.wu.Pin,{overrideDestinationUrl:c})}})(this.telemetryObject,l,i,d);let h=(-6===l.tileSource||-7===l.tileSource)&&f&&f.unpin&&f.unpin.getMetadataTag();1===l.dragDropType&&(h=f&&f.pin&&f.pin.getMetadataTag()),e.push({...l,contextMenuLabel:this.strings.contextMenuLabel,contentViewTelemetryTag:f&&f.topSiteTile&&f.topSiteTile.getMetadataTag(),anchorTelemetryTag:f&&f.destination&&f.destination.getMetadataTag(),toggleActionMenuButtonTelemetryTag:f&&f.moreOption&&f.moreOption.getMetadataTag(),promote:1===l.dragDropType,pinLabel:1===l.dragDropType?this.strings.unpinSite:this.strings.pinSite,pinActionButtonTelemetryTag:h})})),e}handleAffiliateOverrides(t,e){const n=this.config.affiliateLinkOverrides;0===e.tileSource&&n[t.domainAndPath]&&"/"!==n[t.domainAndPath]&&this.config.enableAffiliateOverride&&!t.hasQuery&&(e.url=n[t.domain],e.tileSource=2,e.isSponsored=!0,Dt.M0.addOrUpdateTmplProperty("tsaffov","4"))}getTopSitesPlaceHolders(){const t=[];var e;this.currentTilesNumber<this.maxTiles&&(t.push({addTileSupported:!0,onAddTopSiteClick:this.toggleAddDialog,addTileLabel:this.strings.addTileLabel,ariaLabel:this.strings.ariaLabel_addTile,addTopSiteButtonTelemetryTag:null===(e=this.topSitesTelemetryContext)||void 0===e||null===(e=e.topSitePlaceHolderAddSite)||void 0===e?void 0:e.getMetadataTag()}),this.currentTilesNumber++);if(this.topSitesLayoutDataConnector){let t=0;if("onerow"==this.selectedQuickLinksDisplaySetting||"tworows"==this.selectedQuickLinksDisplaySetting){var n;const e=null===(n=this.tilesxColxRowsMap[this.selectedQuickLinksDisplaySetting][this.columnArrangement])||void 0===n||null===(n=n.default)||void 0===n?void 0:n.maxRowTileCount;e&&(t=this.currentTilesNumber>e?2:1)}else"off"==this.selectedQuickLinksDisplaySetting&&(t=0);var i;if(t!==this.topSitesLayoutState.actualRowCount)null===(i=this.topSitesLayoutDataConnector)||void 0===i||i.updateActualRowCount(t)}return t}disableCurated(){this.isDisableDefaultInProgress=!0;const t=this.chromiumPageSettingState,e={hideDefaultTopSites:!t.hideDefaultTopSites,currentBackgroundImageType:t.currentBackgroundImageType,originalLayout:t.currentLayout,currentLayout:"custom",greetingEnabled:t.greetingEnabled,imageOfTheDayEnabled:t.imageOfTheDayEnabled,selectedQuickLinksDisplaySetting:t.selectedQuickLinksDisplaySetting,selectedFeedDisplaySetting:t.selectedFeedDisplaySetting};this.pageSettingsConnector&&(this.pageSettingsConnector.updateLayout(e),this.getOrUpdateTopSites(),this.toggleUndoToast(),this.isDisableDefaultInProgress=!1,(0,Mt.ih)(k.gLP))}getAddShortcutTitle(){var t,e;return this.isRuby?(null===(e=this.strings)||void 0===e?void 0:e.rubyAddText)??"New":null!==(t=this.strings)&&void 0!==t&&t.addShortcutTitle?this.strings.addShortcutTitle:"Add shortcut"}async waitForSelectedQuickLinksReady(){const t=new S.o,e=n=>{n.isLoadCompleted&&n.selectedQuickLinksDisplaySetting&&((0,Rt.q1)(C.RL,e),t.set())};(0,Rt.Uo)(C.RL,e),await t.getResultAsync()}initializeTopSitesState(){var t;this.sitesClassName="expanded-sites",this.topSitesTelemetryContext=(t=>{if(!t)return;const e=B.uH.TopSites;return{topSitePlaceHolderAddSite:(0,W.c)(ut,{headline:xt.addSite,type:e},B.wu.Add,{overrideDestinationUrl:Ct}),topSiteCommon:(0,W.c)(`${lt}`,{headline:xt.container,type:e},B.wu.View,{overrideDestinationUrl:Ct}),saveAdd:(0,W.c)(`${lt}_${ct}_${ot}`,{headline:xt.add,type:e},B.wu.Save,{overrideDestinationUrl:Ct}),cancelAdd:(0,W.c)(`${lt}_${ct}_${it}`,{headline:xt.cancel,type:e},B.wu.Cancel,{overrideDestinationUrl:Ct}),closeAddDialog:(0,W.c)(`${lt}_${ct}_${nt}`,{headline:xt.close,type:e},B.wu.Close,{overrideDestinationUrl:Ct}),clickCarouselNextButton:(0,W.c)(`${lt}_${vt}_${wt}`,{headline:xt.carouselClick,type:e},B.wu.Click,{overrideDestinationUrl:Ct}),clickCarouselPreButton:(0,W.c)(`${lt}_${vt}_${yt}`,{headline:xt.carouselClick,type:e},B.wu.Click,{overrideDestinationUrl:Ct}),clickAddNameInput:(0,W.c)(`${lt}_${ct}_${bt}`,{headline:xt.inputName,type:e},B.wu.Click,{overrideDestinationUrl:Ct}),clickAddUrlInput:(0,W.c)(`${lt}_${ct}_${St}`,{headline:xt.inputUrl,type:e},B.wu.Click,{overrideDestinationUrl:Ct})}})(this.telemetryObject),this.topSiteActionTelemetryContext=(t=>{if(!t)return;const e=B.uH.TopSites;return{removeTopSite:(0,W.c)(`${tt}`,{headline:`${xt.remove} ${xt.tsn}`,type:e},B.wu.Remove,{overrideDestinationUrl:Ct}),undoRemoveTopSite:(0,W.c)(`${Z}_${et}`,{headline:`${xt.undoRemove} ${xt.tsn}`,type:e},B.wu.UndoRemove,{overrideDestinationUrl:Ct}),closeRemoveToast:(0,W.c)(`${Z}_${nt}`,{headline:xt.close,type:e},B.wu.Close,{overrideDestinationUrl:Ct}),editDialog:(0,W.c)(`${lt}_${rt}`,{headline:`${xt.rename} ${xt.tsn}`,type:e},B.wu.Rename,{overrideDestinationUrl:Ct}),closeEditDialog:(0,W.c)(`${lt}_${at}_${nt}`,{headline:xt.close,type:e},B.wu.Close,{overrideDestinationUrl:Ct}),saveEdit:(0,W.c)(`${lt}_${at}_${ot}`,{headline:xt.save,type:e},B.wu.Save,{overrideDestinationUrl:Ct}),cancelEdit:(0,W.c)(`${lt}_${at}_${it}`,{headline:xt.cancel,type:e},B.wu.Cancel,{overrideDestinationUrl:Ct}),turnOnPreview:(0,W.c)(`${lt}_${dt}`,{headline:xt.turnOnPreview,type:e},B.wu.TurnOn,{overrideDestinationUrl:Ct}),turnOffPreview:(0,W.c)(`${lt}_${ft}`,{headline:xt.turnOffPreview,type:e},B.wu.TurnOff,{overrideDestinationUrl:Ct}),pinningTopSite:(0,W.c)(`${lt}_${ht}`,{headline:xt.topsiteTaskbarpin,type:e},B.wu.Pin,{overrideDestinationUrl:Ct}),pinningTopSiteInQuickLinks:(0,W.c)(`${lt}_${mt}`,{headline:xt.pin,type:e},B.wu.Pin,{overrideDestinationUrl:Ct}),clickEditNameInput:(0,W.c)(`${lt}_${bt}`,{headline:xt.inputName,type:e},B.wu.Click,B.Aw.Click,{overrideDestinationUrl:Ct})}})(this.telemetryObject),this.topSiteCommonTelemetryTag=null===(t=this.topSitesTelemetryContext)||void 0===t||null===(t=t.topSiteCommon)||void 0===t?void 0:t.getMetadataTag()}ShowPinningWizardCampaign(){D.MN.notifyTriggerEvent(D.j0.NTP_TOP_SITES_CLICK).then((t=>{t&&!t.success&&(0,L.H)(O.Qc1,"TopSitesEdgeNextWC: "+t.Message)})).catch((t=>{(0,L.OO)(t,O.Qc1,"TopSitesEdgeNextWC: Failed to call window.chrome.edgeNurturingPrivate.NotifyTriggerEvent chromium API")}))}reRenderTopsite(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=this.getCurrentLayoutConfig();this.maxTiles=e.tile,this.extraAddedSitesClassName=e.class,t?this.getOrUpdateTopSites():this.renderTopsite()}renderTopsite(){window.requestAnimationFrame((()=>{window.setTimeout((()=>{this.getOrUpdateTopSites()}),0)}))}zeroTopSitesErrorHandler(){(0,L.H)(O.xKE,"Zero top sites returned",void 0,{shouldSampleErrorsForTreatement1:!0})}initializeDragDropService(){this.dragDropService=new De(this,{container:this.topSitesContainerPromise,disableDragDrop:!this.config.draggable}),this.dragDropService.initializeService()}shouldDropTopSite(t){const e=0==t.url.indexOf("http://")?t.url.replace("http://","https://"):t.url,n=this.config.blockedDomains||R.$c;if(n)for(let t=0;t<n.length;t++){const i=n[t];if(e.startsWith(i.url)&&(!i.exc||!i.exc.find((t=>e.includes(t)))))return!0}return!1}removeBlockedSites(t){return t?t.filter((t=>{if(0==t.tileSource){if(this.shouldDropTopSite(t))return Dt.M0.addOrUpdateTmplProperty("RemSE","1"),!1;if(this.config.enableAffiliateOverride&&this.config.affiliateLinkOverrides)return!Object.values(this.config.affiliateLinkOverrides).includes(t.url)}return!0})):null}getTileSource(t,e){return t?e?-7:-6:e?-8:-5}updateAffiliateAutoAppendTileSource(t){const{topSitesAffiliates:e}=this.config;t.forEach((t=>{const n=new Ne.D(t.url);e[n.domain]&&"/"!==e[n.domain]&&0==t.tileSource&&(t.tileSource=2,t.isSponsored=!0)}))}getOverrideIconList(){var t;const e=[];for(const t of null===(n=this.config)||void 0===n?void 0:n.overrideIconsList){var n;e.push(t)}return((null===(t=this.config)||void 0===t||null===(t=t.curatedSites)||void 0===t?void 0:t.filter((t=>t.isSponsored)).map((t=>({faviconUrl:t.faviconUrl,faviconId:t.faviconId,identifierHosts:[t.url]}))))??[]).concat(e)}focusedAndNotAlways(){const{selectedFeedDisplaySetting:t,currentBackgroundImageType:e}=this.chromiumPageSettingState;return["peek","headingsonly","off"].includes(t)&&"off"===e}topsiteItemContainerTelemetry(){if(this.isActionMenuOpen&&this.activeTopSiteItem)return this.activeTopSiteItem.anchorTelemetryTag}actionsMenuTelemetry(){if(this.isActionMenuOpen&&this.activeTopSiteItem){const t=this.topSites.findIndex((t=>t.url===this.activeTopSiteItem.url));if(t>=0)return function(t,e){return(0,W.c)(`${gt}_${e}`,{headline:xt.ActionMenu,type:B.uH.TopSites},B.wu.Show,{overrideDestinationUrl:Ct})}(this.telemetryObject,t+1).getMetadataTag()}}preventClickOnTopSite(t){null==t||t.preventDefault()}getTopSiteTemplateUrl(t){return t.url}processMinimumVisitAffiliateFeatureState(){var t;if(!this.pageSettingsConnector||!this.chromiumPageSettingState)return;const e=this.pageSettingsConnector.isMinimumVisitAffiliateSitesPreferenceAvailable(),n=null===(t=this.chromiumPageSettingState.configData)||void 0===t||null===(t=t.enabledFeatures)||void 0===t?void 0:t.includes("msAffiliateSitesMinVisitCountReduction");this.isMinVisitAffiliateSitesFeatureActive=e&&n}persistMinVisitAffiliateInfo(){var t,e,n,i;const r=[];let o=!1;null!==(t=this.config)&&void 0!==t&&t.topSitesAffiliates&&(o=!0,this.parseAffiliateSites(r,"autoAppend")),null!==(e=this.config)&&void 0!==e&&e.enableAffiliateOverride&&null!==(n=this.config)&&void 0!==n&&n.affiliateLinkOverrides&&(o=!0,this.parseAffiliateSites(r,"override")),o&&null!==(i=this.ntpSettingsPrivateApiHandle)&&void 0!==i&&i.setPref&&this.ntpSettingsPrivateApiHandle.setPref(u._9.minVisitAffiliateSites,r)}parseAffiliateSites(t,e){const{affiliateLinkOverrides:n,topSitesAffiliates:i}=this.config,r="override"===e?n:i;Object.entries(r).forEach((n=>{if(!n[0]||!n[1]||"/"===n[1])return;const i={domainAndMaybePath:"https://"+n[0]+"/",url:"override"===e?n[1]:"https://"+n[0]+n[1]};t.push(i)}))}scrollToPosition(){var t;null===(t=this.ref_stripe)||void 0===t||t.scrollToPosition(this.scrollDirection*this.widthPerPage*this.carouselPageIndex)}onFlipperClick(t){const e=this.carouselPageIndex+(t?this.carouselColsPerSlide:-this.carouselColsPerSlide);this.carouselPageIndex=Math.max(0,e),this.scrollToPosition()}initCanLoadHoverElements(){this.config.enableElementsLazyLoad||(this.canLoadHoverElements=!0)}handleTopSiteMouseEnter(){this.canLoadHoverElements||(this.canLoadHoverElements=!0)}handleTopSiteLinkFocus(){this.canLoadHoverElements||(this.canLoadHoverElements=!0)}logTileActivatedClick(t){var e,n;const i=null===(e=window)||void 0===e||null===(e=e.chrome)||void 0===e||null===(e=e.ntpSettingsPrivate)||void 0===e?void 0:e.logTopSitesTileActivated,r=null===(n=window)||void 0===n||null===(n=n.chrome)||void 0===n||null===(n=n.ntpSettingsPrivate)||void 0===n?void 0:n.TopSitesTileSource;if(i&&r){let e=r.OTHER;0===t.tileSource||2===t.tileSource?e=r.MOST_VISITED:3===t.tileSource?e=r.CUSTOM_LINK:7===t.tileSource&&r.NEXT_SITES?e=r.NEXT_SITES:8===t.tileSource&&r.PROMOTED_MEDIA_SITES&&(e=r.PROMOTED_MEDIA_SITES);const n=this.topSites.indexOf(t);if(-1!==n)if(isNaN(this.ntpApiVersion)||this.ntpApiVersion<1)i(e,n);else{i(e,n,this.topSites.filter((e=>e.tileSource===t.tileSource)).indexOf(t),t.url)}}return!0}dedupeCuratedSitesByTitle(t,e){const n=e.map((t=>{var e;return null===(e=t.title)||void 0===e?void 0:e.toLocaleLowerCase()})),i=t.filter((t=>{var e;return!n.includes(null===(e=t.title)||void 0===e?void 0:e.toLocaleLowerCase())}));return Dt.M0.addOrUpdateTmplProperty("tsDedupeCount",String(t.length-i.length)),i}checkTopSitesIcon(){window.setTimeout((()=>{var t,e,n,i;const r=this.isRuby?null===(t=this.shadowRoot)||void 0===t||null===(e=t.querySelectorAll)||void 0===e?void 0:e.call(t,".top-site-ruby"):null===(n=this.shadowRoot)||void 0===n||null===(i=n.querySelectorAll)||void 0===i?void 0:i.call(n,".top-site-next"),o=Array.from(r).map(((t,e)=>{const n=this.isRuby?t.getAttribute("aria-label"):t.getAttribute("title"),i=t.querySelector(".image-container img");return{title:n,src:i?i.getAttribute("src"):"",index:e}})).filter((t=>!!t.title)).map((t=>{let{title:e,src:n,index:i}=t;const r=this.topSites.find((t=>t.title===e));if(r)return r.faviconUrl===n?null:{...r,index:i}})).filter((t=>!!t));if(o.length){const t=o.reduce(((t,e)=>`${t}|${e.rid}_${e.index}`),`count_${o.length}`);Dt.M0.addOrUpdateTmplProperty("tsIconMismatch",t)}}),3e3)}}(0,a.gn)([Tt.LO],Qe.prototype,"isLowEndDevice",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"linkTarget",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"ref_stripe",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"enableQuickBrief",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"carouselProps",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"isDarkMode",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"isRuby",void 0),(0,a.gn)([(0,$t.Lj)({mode:"boolean"})],Qe.prototype,"quickBriefVisible",void 0),(0,a.gn)([Tt.lk],Qe.prototype,"shouldHidePlaceholders",null),(0,a.gn)([Tt.LO],Qe.prototype,"actionsMenuProps",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"activeTopSiteItem",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"activeTopSiteElement",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"activeContextMenuButtonElement",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"maxTiles",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"chromiumPageSettingState",void 0),(0,a.gn)([(0,$t.Lj)({mode:"boolean"})],Qe.prototype,"needDarkThemeIcons",void 0),(0,a.gn)([Tt.lk],Qe.prototype,"className",null),(0,a.gn)([Tt.LO],Qe.prototype,"extraAddedSitesClassName",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"currentTilesNumber",void 0),(0,a.gn)([(0,$t.Lj)({mode:"boolean"})],Qe.prototype,"showFullPageBlur",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"userSelectedSetting",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"isAddDialogOpen",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"isActionMenuOpen",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"isEditDialogOpen",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"isUndoToastOpen",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"isPinToastOpen",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"isLtr",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"ntpApiHandle",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"sitesClassName",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"topSiteAddDialog",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"topSiteEditDialog",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"topSiteMapper",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"topSites",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"topSitesPlaceHolders",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"currentToastTag",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"undoToast",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"pinToast",void 0),(0,a.gn)([$t.Lj],Qe.prototype,"selectedQuickLinksDisplaySetting",void 0),(0,a.gn)([(0,$t.Lj)({mode:"boolean"})],Qe.prototype,"quickLinksToggleSpacingForBanner",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"moveUpward",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"topSiteAddedSuccessfully",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"lastAddedTopSite",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"topSiteAddDialogContainerPosition",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"topSiteEditDialogContainerPosition",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"topSiteCommonTelemetryTag",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"renderTopSiteStartAndEnd",void 0),(0,a.gn)([Tt.LO],Qe.prototype,"canLoadHoverElements",void 0),(0,a.gn)([Tt.lk],Qe.prototype,"topSitesClassName",null),(0,a.gn)([Tt.lk],Qe.prototype,"isInformationalLayout",null);var Xe=n(65517),Ye=n(97186),Ze=n(2696),tn=n(33442),en=n(92531),nn=n(26512),rn=n(35680),on=n(17993),sn=n(42689),an=n(27460),cn=n(22674),un=n(80260),ln=n(27782),dn=n(38492),fn=n(26738),hn=n(80303),pn=n(78923),mn=n(42821),gn=n(331),vn=n(22798),wn=n(80986);const yn="40px",bn=pn.i` .ruby-top-sites{.top-site-ruby{border-radius:20px;background:rgba(242,236,232,0.6);border-color:rgba(255,255,255,1)}}@media (prefers-color-scheme:dark){.ruby-top-sites{.top-site-ruby{background:rgba(29,33,47,0.6);border-color:rgba(69,81,114,0.25)}}}`,Sn=pn.i` .ruby-top-sites{margin-bottom:${yn};.top-sites{--top-site-column-gap:40px;--top-site-pill-width:50px}.top-site-ruby{display:block;cursor:pointer;width:var(--top-site-pill-width,48px);height:var(--top-site-pill-width,48px);padding:${mn.Wc8};
            border-radius: ${mn.gi8};
            border: ${mn.L$O} solid ${mn.AkU};
            background: ${mn.iZy};display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;box-sizing:border-box;.image-container{display:flex;align-items:center;justify-content:center;width:24px;height:24px;img{width:100%}svg path{fill:${mn.sT8}}}.control{color:${mn.sT8};
                box-sizing: content-box;
                font-family: inherit;
                font-size: 12px;
                font-weight: 400;
                line-height: 16px;
                white-space: nowrap;
                overflow: hidden;
                padding: 0;
                text-overflow: ellipsis;
                text-decoration: none;
                height: 24px;
                width: 24px;
                border-radius: ${mn.liq}}.start{position:absolute;top:2px;right:10px;width:15px;height:15px;opacity:0}.end{position:absolute;top:-10px;right:-11px;width:13px;height:13px;opacity:0}& .control:after{bottom:0;content:"";height:calc(100% + 24px);left:0;position:absolute;right:0;top:0;width:100%;z-index:2}.site-name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:64px;width:auto;background-color:transparent;color:${mn.sT8};  
                text-align: center;  
                border-radius: 6px;  
                padding: 0px 6px;  
                position: absolute;  
                z-index: 1;
                bottom: calc(-14px - ${mn.f_1});
                left: 50%;  
                transform: translateX(-50%);  
                white-space: nowrap;     
                font-weight: ${mn.FdD};
                font-size: ${mn.jlV};
                line-height: ${mn.jpO}}}.top-site-ruby .top-site-title span{display:inline-block;max-width:64px;overflow:hidden;text-overflow:ellipsis}.top-site-ruby:active .start,.top-site-ruby:active .end,.top-site-ruby:focus .start,.top-site-ruby:focus .end,.top-site-ruby:hover .start,.top-site-ruby:hover .end,.top-site-ruby:hover fluent-button,.top-site-ruby .start:active,.top-site-ruby .end:active,.top-site-ruby .start:focus-within,.top-site-ruby .end:focus-within{background:transparent;opacity:1;outline:none}.start-button svg path,.end-button svg path{fill:${mn.sT8}}}.ruby-top-sites-dialog{--top-site-dialog-width:357px;--top-site-dialog-button-width:65px;--top-site-dialog-margin-top:-${yn};
        --control-corner-radius: 12;
        --neutral-fill-rest: rgba(246, 249, 252, 1);
        --neutral-foreground-rest: #262626;
        --neutral-layer-floating: #ffffff;
        position: absolute;
        z-index: ${wn.K.Dialog.toString()}}fluent-button.toast-navigation-button::part(control):focus-visible{box-shadow:none}fluent-button.toast-navigation-button::part(content):focus-visible::before{height:0}#topSiteEditDialog.ruby-top-sites-dialog{--top-site-dialog-height:192px}#topSiteAddDialog.ruby-top-sites-dialog{--top-site-black-plate-width:40px;--top-site-black-plate-height:40px}@media (prefers-color-scheme:dark){.ruby-top-sites-dialog{--neutral-fill-rest:#363636;--neutral-foreground-rest:#f5f5f5;--neutral-layer-floating:#242424}}@media (forced-colors:active){fluent-button.toast-navigation-button::part(control),fluent-button.toast-close-button::part(control){border-width:1px;box-shadow:none}fluent-button.toast-close-button::part(control):focus-visible,fluent-button.toast-close-button::part(control):active,fluent-button.toast-close-button::part(control):hover,fluent-button.toast-navigation-button::part(control):focus-visible,fluent-button.toast-navigation-button::part(control):active,fluent-button.toast-navigation-button::part(control):hover{forced-color-adjust:none;background-color:${vn.H.Highlight};
            border-color:${vn.H.ButtonText};
            color: ${vn.H.HighlightText};
        }
    }
`.withBehaviors(new gn.w(bn)),xn=t=>{const{r:e,g:n,b:i}=(0,Ye.lu)((0,x.Yc)()?Xe.Ve:Xe.dw);return new Ze.h(e,n,i,t).toStringWebRGBA()},Cn=pn.i` .top-sites-responsive-pin-icon{flex-shrink:0;display:none;margin:0 5px}.top-sites .top-sites-responsive-pin-icon{line-height:26px}.top-sites .top-sites-responsive-pin-icon svg{width:14px;height:14px}`,kn=pn.i` .top-site-next{background-color:transparent;border-radius:4px;box-shadow:none;display:flex;height:var(--top-site-height,84px);justify-content:center;width:var(--top-site-width,108px);position:relative;border:calc(${nn.H} * 1px) solid transparent}.top-site-next:hover{background:var(--top-site-fill-hover,${rn.Xi})}.top-site-next.top-site-f3v1b:hover{background:unset}.top-site-next:has(.control:focus){outline:none;border-color:${on.yG}}.top-site-next .control:focus{outline:none;border:none}.top-site-next .start,.top-site-next .end{position:absolute;top:var(--top-site-margin,9px);z-index:${(wn.K.Default+2).toString()};opacity:0}.top-site-next.small-top-sites.top-site-f3v1b .start{top:var(--top-site-action-top-position);left:var(--top-site-action-border-position)}.top-site-next.small-top-sites.top-site-f3v1b .end{top:var(--top-site-action-top-position);right:var(--top-site-action-border-position)}.top-site-next .pinned-top-site .start{pointer-events:none}.top-site-next:active .start,.top-site-next:active .end,.top-site-next:focus .start,.top-site-next:focus .end,.top-site-next:hover .start,.top-site-next:hover .end,.top-site-next:hover fluent-button,.top-site-next .start:active,.top-site-next .end:active,.top-site-next .start:focus-within,.top-site-next .end:focus-within{background:transparent;opacity:1;outline:none}.top-site-next .content-container{transition:all 0.2s ease-in-out;box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:flex-end;width:100%;height:100%;padding:10px 12px;border-radius:4px}.top-site-next .content-container.information-layout{padding:8px 10px;justify-content:center}.top-site-next .image{align-items:center;box-sizing:border-box;width:var(--top-site-black-plate-width,44px);height:var(--top-site-black-plate-height,44px);justify-content:center;display:flex}.top-site-next .image img{margin:0 auto;max-width:24px;height:24px}.top-site-next .title-container{display:flex;justify-content:center;margin:2px 0 0 0;width:100%}.top-site-next .control{box-sizing:content-box;color:var(--top-site-color,${sn.C});font-family:inherit;font-size:12px;font-weight:400;line-height:16px;max-height:16px;max-width:100%;white-space:nowrap;overflow:hidden;padding:0;text-overflow:ellipsis;text-decoration:none}.top-site-next .control:after{bottom:0;content:"";height:100%;left:0;position:absolute;right:0;top:0;width:100%;z-index:1}.top-site-next .top-site-next-g{display:grid;gap:5px;align-items:center;grid-auto-flow:column}.top-site-next .pinned-container{display:flex;width:0;margin-inline-end:2px;flex-direction:row-reverse}.top-site-next .pinned-indicator{height:12px;width:12px;align-self:center;display:flex}.top-site-next .pinned-indicator-svg svg{width:12px;height:12px}.ad-link-label{z-index:2}.top-site-next.tstb-80{.image,.image.new-add-image{background:${xn(.8)}}&:hover{.image,.image.new-add-image{background:${an.s}}}}.top-site-next.tstb-60{.image,.image.new-add-image{background:${xn(.6)}}&:hover{.image,.image.new-add-image{background:${an.s}}}}.top-site-next.tstb-40{.image,.image.new-add-image{background:${xn(.4)}}&:hover{.image,.image.new-add-image{background:${an.s}}}}.top-site-next.tscsi{.image{border-radius:50%}}`,Tn=pn.i`
${(0,b.vW)(b.K$.c3,null)}{.move-upward.six-sites{--top-sites-grid-template-column:6}}${(0,b.vW)(b.K$.c3,null)}{.move-upward.nine-sites{--top-sites-grid-template-column:9}}.${R.Lg.feeds3T1SearchBoxWidth}{--top-sites-grid-template-column:4}${(0,b.vW)(b.K$.c2,null)}{.${R.Lg.feeds3T1SearchBoxWidth}{--top-sites-grid-template-column:6}}${(0,b.vW)(b.K$.c3,null)}{.${R.Lg.feeds3T1SearchBoxWidth}{--top-sites-grid-template-column:7}}${(0,b.vW)(b.K$.c4,null)}{.${R.Lg.feeds3T1SearchBoxWidth}{--top-sites-grid-template-column:10}}.${R.Lg.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled}{--top-sites-grid-template-column:4}${(0,b.vW)(b.K$.c2,null)}{.${R.Lg.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled}{--top-sites-grid-template-column:5}}${(0,b.vW)(b.K$.c3,null)}{.${R.Lg.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled}{--top-sites-grid-template-column:3}}${(0,b.vW)(b.K$.c4,null)}{.${R.Lg.feeds3T1SearchBoxWidthWithNotificationMiniCardEnabled}{--top-sites-grid-template-column:6}}.${R.Lg.rubySites}{--top-sites-grid-template-column:4}${(0,b.vW)(b.K$.c2,null)}{.${R.Lg.rubySites}{--top-sites-grid-template-column:5}}${(0,b.vW)(b.K$.c3,null)}{.${R.Lg.rubySites}{--top-sites-grid-template-column:6}}${(0,b.vW)(b.K$.c4,null)}{.${R.Lg.rubySites}{--top-sites-grid-template-column:8}}`,$n=pn.i``,An=pn.i`
msft-stripe .pre-fliper{position:absolute;left:-12px;top:calc(50% - 54px/2 - 1.5px);transform:rotate(0deg)}msft-stripe .next-fliper{position:absolute;right:80px;top:calc(50% - 54px/2 - 1.5px);transform:rotate(180deg)}`,In=pn.i` msft-stripe .fliper{background:#3b3b3b;fill:#fff}msft-stripe .fliper:hover{background:#383838}msn-actions-menu::part(icon){filter:invert(1)}`,Pn=pn.i` .all-one-line-sites{padding:0 24px}.all-one-line-sites .top-sites{--top-site-column-gap:13px}msft-stripe{margin-right:11px;--scroll-fade-next:none;--scroll-fade-previous:none}msft-stripe.strip-with-quick-brief{padding-right:15px}msft-stripe .fliper{display:flex;align-items:center;justify-content:center;background-color:white;width:24px;height:40px;border-radius:4px;cursor:pointer;box-shadow:0px 0px 2px 0px rgba(0,0,0,0.12),0px 2px 4px 0px rgba(0,0,0,0.14)}msft-stripe .fliper svg{width:20px;height:20px}msft-stripe .pre-fliper{position:absolute;left:-33px;padding-left:16px;top:calc(50% - 54px/2 - 1.5px);transform:rotate(180deg);opacity:0;transition:all .5s}.all-one-line-sites:hover msft-stripe .pre-fliper{opacity:1}msft-stripe .next-fliper{position:absolute;right:-125px;padding-left:16px;top:calc(50% - 54px/2 - 1.5px);opacity:0;transition:all .5s}.all-one-line-sites:hover msft-stripe .next-fliper{display:block;opacity:1}msft-stripe.strip-with-opacity-flipper .pre-fliper,msft-stripe.strip-with-opacity-flipper .next-fliper{display:block;opacity:0.5}msft-stripe::part(scroll-prev),msft-stripe::part(scroll-next){z-index:99}msft-stripe::part(heading-container){margin:0}msft-stripe::part(scroll-view){max-width:181px}${(0,b.eH)(b.K$.c1)}{msft-stripe::part(scroll-view){max-width:181px}}${(0,b.eH)(b.K$.c2)}{msft-stripe::part(scroll-view){max-width:271px}}${(0,b.eH)(b.K$.c3)}{msft-stripe::part(scroll-view){max-width:365px}}${(0,b.eH)(b.K$.c4)}{msft-stripe::part(scroll-view){max-width:641px}}${(0,b.eH)(b.K$.c5)}{msft-stripe::part(scroll-view){max-width:641px}}.${R.Lg.carouselSites}{--top-sites-grid-template-column:20}${(0,b.vW)(b.K$.c1,null)}{.${R.Lg.carouselSites}{--top-sites-grid-template-column:20}}${(0,b.vW)(b.K$.c2,null)}{.${R.Lg.carouselSites}{--top-sites-grid-template-column:20}}${(0,b.vW)(b.K$.c3,null)}{.${R.Lg.carouselSites}{--top-sites-grid-template-column:20}}${(0,b.vW)(b.K$.c4,null)}{.${R.Lg.carouselSites}{--top-sites-grid-template-column:20}}`.withBehaviors(new cn.O($n,An),new hn.Y(null,In)),_n=pn.i` :host{width:100%;--menu-max-width:210px;--menu-min-width:160px;--top-site-dialog-z-index:900}.long-width-menu{--menu-max-width:360px}.ruby-long-width-menu{--menu-max-width:360px;--menu-min-width:246px;--control-corner-radius:12}.ruby-long-width-menu::part(menu){--fill-color:#ffffff}msn-actions-menu::part(menu-region){z-index:700}.root{display:flex;background-color:transparent;flex-direction:row;justify-content:center;position:relative;transition:transform .3s ease-out;z-index:301;--top-site-margin:4px;--outline-width:2}.expanded-sites{opacity:1;visibility:inherit}.expanded-sites-large{opacity:1;visibility:inherit}.dot-separator{margin-left:2px;margin-right:2px;font-size:9px}msft-top-site-placeholder fluent-button::part(content){height:16px}.add-button{width:100%;height:100%}.add-button svg{width:16px;height:16px;pointer-events:none}.add-button span{display:none}.add-dialog-show{display:block}.add-dialog-hide{display:none}.sites{display:grid;grid-template-columns:repeat(var(--top-sites-grid-template-column,8),auto);transition:opacity 0.3s ease-out;row-gap:8px;overflow:hidden}.top-sites > .sites{row-gap:10px;column-gap:var(--top-site-column-gap);overflow:visible;transition:none}.sites .start-button,.sites .end-button{width:24px;height:24px;min-width:24px;display:flex;justify-content:center}.sites .end-button-medium{width:24px;height:24px;min-width:24px;display:flex;justify-content:center;margin-right:7px}.sites .end-button-large{width:24px;height:24px;min-width:24px;display:flex;justify-content:center;margin-right:7px;--top-site-color:${(0,x.Yc)()?"#FFFFFF":"#000000"}}.sites .start-button:hover,.sites .end-button:hover{background:var(--top-site-action-icon-hover,${un.Qp})}.sites .option-icon{width:14px;height:14px}.sites path{fill:var(--top-site-color,${sn.C})}@media screen and (-ms-high-contrast:active){.sites path{fill:currentColor}}.sites fluent-button{background:transparent}.suggestion-title{font-weight:600;font-size:${ln.c};line-height:20px}.suggestion-body{margin-top:16px;display:flex}.suggestion-body msft-top-site,.suggestion-body .top-site-next{transition:all 0.2s ease-in-out;border-radius:4px;background:${an.s};box-shadow:0px 1.6px 3.6px rgb(0 0 0 / 13%),0px 0px 2.9px rgb(0 0 0 / 11%);cursor:default;width:104px}.suggestion-body .suggested-top-site{margin-inline-end:12px}.suggestion-body .suggested-top-site:last-child{margin-inline-end:0px}.suggestion-body msft-top-site:hover,.suggestion-body .top-site-next:hover{background:${an.s};box-shadow:0px 3.2px 7.2px rgb(0 0 0 / 13%),0px 0px 3.8px rgb(0 0 0 / 11%)}.suggestion-body .top-site-next .control{display:inline}.toast-root{position:absolute;left:50%;transform:translate(-50%,0);width:fit-content;max-width:95%;z-index:700;--fill-color:${(()=>{const t=(0,tn.$B)((()=>Xe.m0))(en.ZP);return(0,x.Yc)()?Xe.P5:t})()};
        --neutral-foreground-rest: ${(()=>{const t=(0,tn.$B)((()=>Xe.m0))(en.ZP);return(0,x.Yc)()?t:Xe.P5})()};
        --accent-foreground-rest: ${(0,x.Yc)()?"#006CBE":"#63ADE5"};
        --toast-message-max-width: 287px;
    }

    msn-toast::part(toast-root){
        color: ${sn.C};
        background: ${dn.I};outline:1px solid rgba(0,0,0,0.1)}.toast-close-button{background:transparent}fluent-button.toast-navigation-button::part(control){border:2px solid transparent}fluent-button.toast-navigation-button::part(control):focus-visible{border:2px solid var(--focus-stroke-outer);box-shadow:0 0 0 2px var(--focus-stroke-outer)}fluent-button.toast-navigation-button::part(content)::before{height:0}.toast-navigation-button{margin-inline-start:4px;background:transparent;color:${fn.go}}.toast-navigation-button-accent{margin-inline-start:4px;--design-unit:3.2;--control-corner-radius:4}.top-sites{position:relative;--top-site-backplate-color:rgba(255,255,255,0.8);--top-site-backplate-border-color:rgba(0,0,0,0.05);--top-site-pill-width:77px;--top-site-pill-height:58px;--top-site-column-gap:6px;--top-site-border-width:1px}.top-sites.top-site-s2tss{--top-site-pill-width:81px;--top-site-pill-height:62px}.top-sites > .sites{--top-site-pill-calculated-width:calc(var(--top-site-pill-width) + var(--top-site-border-width) * 2);max-width:calc(var(--top-site-pill-calculated-width) * var(--top-sites-grid-template-column) + var(--top-site-column-gap) * (var(--top-sites-grid-template-column) - 1));grid-template-columns:repeat(auto-fit,var(--top-site-pill-calculated-width))}@media (prefers-color-scheme:dark){.top-sites{--top-site-backplate-color:rgba(0,0,0,0.4)}.ruby-long-width-menu::part(menu){--fill-color:#242424}}.topSitesLightOnBackgroundImage{--top-site-fill-hover:rgba(229,229,229,0.3);--top-site-color:#FFFFFF;--top-site-action-icon-hover:rgba(234,234,234,0.42);--top-site-placeholder-backplate-fill:rgba(229,229,229,0.7);--neutral-foreground-hint:rgba(255,255,255,0.54)}.topSitesDarkOnBackgroundImage{--top-site-fill-hover:rgba(66,66,66,0.4);--top-site-color:#FFFFFF;--top-site-action-icon-hover:rgba(36,36,36,0.42);--neutral-foreground-hint:rgba(255,255,255,0.54)}.topSitesDark{--top-site-fill-hover:rgba(0,0,0,0.3);--top-site-color:#FFFFFF;--top-site-placeholder-backplate-fill:transparent}.topSitesLight{--top-site-fill-hover:rgba(229,229,229,0.3);--top-site-color:rgba(0,0,0,0.83);--top-site-placeholder-backplate-fill:transparent}.with-back-plate path{fill:${sn.C}}.top-site-next.drag-chosen:not(.top-site-f3v1b){background:var(--top-site-fill-hover,var(--neutral-fill-hover))}.top-site-next.drag-chosen__no-hover{background:transparent !important}.top-site-next.drag-dragged{background:transparent}.top-site-next.small-top-sites{height:80px;width:104px}.top-site-next.small-top-sites.information-layout{height:75px;width:99px}msft-top-site::part(image),.top-site-next .image{background:${an.s};border-radius:4px}msft-top-site::part(image),.add-placeholder.top-site-f3v1b .image{background:transparent}msft-top-site::part(image),.add-placeholder.top-site-f3v1b .image.new-add-image{background:${an.s}}msft-top-site::part(imageMSB){background:#0078D4;border-radius:4px}.top-site-next.pill-top-site .image{box-shadow:0px 2px 4px rgb(0 0 0 / 10%);border-radius:12px}.top-site-next.pill-top-site fluent-button{border-radius:4px}.top-site-next.pill-top-site{border-radius:6px}.top-site-next.pinned-top-site .start{pointer-events:none}.top-site-next .control{padding:0;margin:0}.top-site-next .top-site-title{display:flex;justify-content:center;align-items:center}.top-site-next .top-site-title-large-tile{display:flex;justify-content:center;align-items:center;color:${(0,x.Yc)()?"white":"black"};
        --top-site-color: ${(0,x.Yc)()?"white":"black"}}.top-site-next .top-site-title span{overflow:hidden;text-overflow:ellipsis}.top-site-next .top-site-title-large-tile a{overflow:hidden;text-overflow:ellipsis}.top-site-next .badge{padding:1px 5px;border-radius:12px;flex:none;min-width:16px;background-color:#EDEDED;color:#0078D4;margin-inline-start:4px;font-size:10px;line-height:13px;height:16px;font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;box-sizing:border-box;max-width:215px;transition:all 0.2s ease-in-out}msft-top-site-placeholder{height:88px}msft-top-site-placeholder.small-top-sites{height:84px}msft-top-site-placeholder.small-top-sites.information-layout{height:75px;width:99px}.top-site-next.small-top-sites.top-site-f3v1b{--top-site-black-plate-height:36px;--top-site-black-plate-width:36px;--top-site-hover-backplate-width:90px;--top-site-hover-backplate-height:78px;--top-site-action-icon-hover:rgba(0,0,0,0.05);--top-site-action-top-position:-5px;--top-site-action-border-position:-4px;--top-site-anchor-left-fix:-10px;--top-site-fill-hover:transparent;width:var(--top-site-pill-width);height:var(--top-site-pill-height)}.top-site-next.small-top-sites.top-site-f3v1b.top-site-s2ts{--top-site-black-plate-height:40px;--top-site-black-plate-width:40px;--top-site-action-border-position:-6px}.top-site-next.small-top-sites.top-site-f3v1b .image svg{--top-site-color:#FFFFFF}.top-site-next.small-top-sites.top-site-f3v1b .image.new-add-image svg{--top-site-color:#242424}@media (prefers-color-scheme:light){.top-site-next.small-top-sites.top-site-f3v1b .image svg{--top-site-fill-hover:#FFFFFF}.top-site-next.small-top-sites.top-site-f3v1b .image.new-add-image svg{--top-site-color:#242424}}@media (prefers-color-scheme:dark){.top-site-next.small-top-sites.top-site-f3v1b .image svg{--top-site-color:#FFFFFF}.top-site-next.small-top-sites.top-site-f3v1b .image.new-add-image svg{--top-site-color:#ADADAD}.top-site-next.small-top-sites.top-site-f3v1b{--top-site-action-icon-hover:rgba(255,255,255,0.05)}}.top-site-next.small-top-sites.top-site-f3v1b::before{transition:all 0.5s ease-in-out}.top-site-next.small-top-sites.top-site-f3v1b .content-container{padding:0}.top-site-next.small-top-sites.top-site-f3v1b .content-container{justify-content:center}.top-site-next.small-top-sites.top-site-f3v1b .image img{max-width:24px;height:24px}.top-site-next.small-top-sites.top-site-f3v1b .image svg{width:20px;height:20px}.top-site-next.small-top-sites.top-site-f3v1b .image.new-add-image svg{width:15px;height:15px}@media (max-width:1097px){:host{--top-sites-grid-template-column:4}.ten-sites{--top-sites-grid-template-column:5}.eight-sites{--top-sites-grid-template-column:8}.six-sites{--top-sites-grid-template-column:3}}@media (min-width:1098px){:host{--top-sites-grid-template-column:8}.ten-sites{--top-sites-grid-template-column:10}.expanded-sites{min-height:90px}.expanded-sites.information-layout{min-height:75px}.expanded-sites-large{min-height:72.9px}}.top-sites > .expanded-sites{min-height:unset}.top-site-add-success{position:absolute;top:40px;left:-10000px}.pinned-indicator{width:12px;height:12px}#dismissButtonId{margin-top:1px}.topsite-info{float:inline-end}.top-site-next .start{inset-inline-start:var(--top-site-margin,9px)}.top-site-next .end{inset-inline-end:var(--top-site-margin,9px)}msn-actions-menu::part(icon-img){width:20px}${Tn}
    ${Cn}
    ${kn}
    ${Pn}
    ${Sn}
`,Mn=_n,Rn={experienceConfigSchema:undefined};i.D.define(r.H.registry),o.tH.define(s.j.registry)},33141:function(t,e,n){n.d(e,{D:function(){return s},X:function(){return o}});var i=n(55025);const r=/www\d*\./i,o=/^https?:/i;class s{constructor(t){if(!i.b.isNotNullOrUndefined(t))return;let e;try{e=new URL(t.trim())}catch{e=void 0}if(!e||!t.toLocaleLowerCase().startsWith(e.origin.toLocaleLowerCase()))try{e=new URL("http://"+t)}catch{e=void 0}if(!e||!e.host||!o.test(e.protocol))return;const n=e.hostname.replace(r,"");this.url=e.href.replace(/\/$/,""),this.domain=n,this.domainAndPath=this.domain+e.pathname.replace(/[\s/]+$/g,""),this.domainPathAndQuery=this.domainAndPath+e.search,this.hasQuery=!!e.search}}},35081:function(t,e,n){n.d(e,{Br:function(){return w},Ej:function(){return g},Jn:function(){return k},KS:function(){return v},j3:function(){return C},x3:function(){return T},xb:function(){return y},y1:function(){return b}});var i=n(77870),r=n(15598),o=n(24032),s=n(77137),a=n(33141);const c="//img-s-msn-com.akamaized.net/tenant/amp/entityid/",u="//img-s.msn.cn/tenant/amp/entityid/",l="removedTopSiteUrls",d={};let f,h,p,m;function g(){return f}function v(){return h}function w(){return p}function y(t){t&&(p[t]=!0,m.setObject(l,p))}function b(t){t&&(delete p[t],m.setObject(l,p))}m=(0,r.$o)(),p=m.getObject(l)||{},h={};const S=["aka.ms","bing.com","ww55.affinity.net","sovrn.co","clkde.tradedoubler.com","clk.tradedoubler.com","awin1.com","ad.soicos.com"],x=["bing.com/alink/link"];function C(t,e){if(e&&e.forEach((t=>{const e=d[t.url]??new a.D(t.url);S.includes(e.domain)||(h[e.domain]=!0),p[t.url]=!0,!d[t.url]&&(d[t.url]=e)})),f=[],!t.curatedSites)return;const n={};for(const t in h)$(n,t);for(const t in p){if(!t||n[t])return;const e=d[t]??new a.D(t);!d[t]&&(d[t]=e),x.includes(e.domainAndPath)||$(n,e.domainAndPath),n[t]=!0}f=new Array;const i=!("0"===(0,o.L)().get("dsp"));t.curatedSites.forEach((r=>{const o=r.faviconId||T(r.faviconUrl),s={...r,faviconUrl:o?k(o):r.faviconUrl},c=new a.D(s.url);if(!n[c.domain]&&!n[c.domainAndPath]&&!n[s.url]){if(t.addBingForNonBingSearchEngine&&"Bing"===s.title&&i)return;f.push(s)}s.isSponsored&&e.forEach((t=>{if(t.url===s.url&&0==t.tileSource){const e=s.faviconId||T(s.faviconUrl);t.title=s.title,t.faviconUrl=e?k(e):s.faviconUrl}}))}))}function k(t){if(t){return null!=s.jG&&s.jG.IsChinaCompliance?`${u}${t}.img`:`${c}${t}.img`}return i.eF}function T(t){if(t){return(t&&t.match(/cms\/api\/amp\/image\/([a-z0-9]+)$/i)||{})[1]}return null}function $(t,e){e&&!t[e]&&(t[e]=!0)}},34718:function(t,e,n){n.d(e,{$:function(){return o},D:function(){return r}});var i=n(7522);function r(t,e){const n=t.length+e.length,i=[];let r=0,o=0,s=0;for(let a=0;a<n;a++)o<e.length&&e[o].locationIndex===s?i[s++]=e[o++]:r<t.length?i[s++]=t[r++]:i[s++]=e[o++];return i}function o(t,e){const n=[];let r=0,o=0;const s=(0,i.Z)(e,"slot"),a=t.length+e.length;for(let e=0;e<a;e++){var c;e>=(null===(c=s[o])||void 0===c?void 0:c.slot)?n.push(s[o++]):r<t.length&&n.push(t[r++])}for(;o<s.length;)n.push(s[o++]);return n}},24108:function(t,e,n){n.d(e,{Z:function(){return c}});const i=["/ads-prebid.js","/istripper.js","/javascript/fropo.js","/nb/f_ls.js","/prebid-add.js","/prebid-ads/adsensebase.js","/prebid-article-ad-ad-300x250.js","/reclama/ads.js","/safu/safu.js","/wp-content/plugins/wp-banners/js/wp-banners.js","/zlk/zlk.js"],r=["/adex.js","/adgpt.js","/ados.js","/ads/stickyLb.js","/ane-popup-banner/ane-popup-banner.js","/ane-preroll/preroll.js","/arcads.js","/awe2.js","/clever_ads.js","/cnads.js","/dfp/dc.js","/doublepimp2.js","/eureka/eureka.js","/exopopunderdesktop.js","/expop.js","/fload.js","/fro_lo.js","/frontend_loader.js","/gpt.min.js","/invoke-2.js","/js/m/i-def.js","/js/youmuffpu.js","/js3caf.js","/kampyle.js","/keyade.js","/lib/ad.js","/markpop.js","/moatsdk.min.js","/nugg.min.js","/nwm-fcn.min.js","/nwm-pw2.min.js","/p8network.js","/popu.js","/popup2.js","/popup3.js","/punder.js","/pustrck.js","/scripts/chatur.js","/soralink.js","/suv4.js","/taboola_ads.js","/tardisrocinante/austin.js","/utep_ad.js","/weborama.js","/wp-content/plugins/bhcb/lock.js","/xpopup.js","/_adverts.js","/_rebid.js","/cmbdv2.js","/push-skin/skin.min.js","/pop2.js","/banger.js","/detroitchicago/anaheim.js","/detroitchicago/boise.js","/detroitchicago/houston.js","/detroitchicago/memphis.js","/detroitchicago/minneapolis.js","/detroitchicago/raleigh.js","/detroitchicago/rochester.js","/detroitchicago/tampa.js","/_js/prbd_6.19.0.js","/prebid14.js","/prebid_ver.js","/pubfig.js","/pubfig.min.js","/_prebid.js","/~Prebid.js","/datomata.widget.js","/abtest_ab.js","/adb.min.js","/adblock-relief.js","/blockblock/blockblock.jquery.js","/fuckadb.js"];var o=n(77993),s=n(77137);class a{Impacts(){const t=this.GetConfig();return new Promise(function(e,n){const i=[this.CheckLoadStatus(t.EasyList),this.CheckLoadStatus(t.UboSpecial),this.CheckLoadStatus(t.Param)];Promise.all(i).then((t=>{e(t[0]||t[1]||t[2])})).catch((t=>{n(t)}))}.bind(this))}CheckLoadStatus(t){const e=document.createElement("script");e.src=t.urls,document.body.appendChild(e);return(async(t,e)=>{const n=new Promise(((e,n)=>{setTimeout(e,t,!1)}));return Promise.race([e,n])})(500,new Promise((function(n,i){e.onload=function(){document.getElementById(t.id)?n(!1):n(!0)},e.onerror=function(){n(!0)}})))}GetConfig(){const t=`${(0,s.Yq)().StaticsUrl}latest/adboxes`,e=this.Sample(r),n=this.Sample(i),o=this.Sample(r);return{UboSpecial:{urls:t+"/ubo"+n,id:btoa(n)},EasyList:{urls:t+"/egb"+e,id:btoa(e)},Param:{urls:t+"/general.js?"+o,id:btoa(o)}}}Sample(t){return t[Math.floor(Math.random()*t.length)]}}var c=new class{constructor(){this.adbTime=0,this.getAdbStatus=()=>(this.hasAdbStatus||(this.adbStatus=this.checkAdbStatus(),this.hasAdbStatus=!0),this.adbStatus),this.getAdbLoggedTime=()=>{const t=o.Z.get("AlgoRes");return t&&"ABD=V=0"!=t&&(this.adbTime=Number(t.split("=")[2])),this.adbTime},this.executeDetector=async()=>{const t=new a,e=await t.Impacts();this.setCookie(e)},this.appendAdbStatusToUrl=t=>{if(!t||0===t.length||!this.getAdbStatus())return t;const e=new URL(t),n=e.searchParams.get("rlink");if(!n)return t;const i=decodeURIComponent(n);if(!(i.includes("www.bing.com/aclick?ld=")||i.includes("www.bing.com/ac?ld=")||i.includes("www.bing.com/ck?ld=")||i.includes("www.bing.com/ack?ld=")||i.includes("www.bing.com/clk?ld=")||i.includes("www.bing.com/aclk?ld=")||i.includes("www.bing.com/click?ld=")))return t;const r=n.concat("&adb=1");return e.searchParams.set("rlink",r),e.toString()},this.checkAdbStatus=()=>{const t=o.Z.get("AlgoRes");return!(!t||"ABD=V=0"===t)},this.setCookie=t=>{if(t){const t=(new Date).getTime();o.Z.set("AlgoRes",`ABD=V=${t}`,{expires:30})}else o.Z.set("AlgoRes","ABD=V=0",{expires:30})}}}},6734:function(t,e,n){n.d(e,{B:function(){return s},_:function(){return o}});var i=n(33779),r=n(5302);const o=t=>{if(!t)return;const e=(t=>{try{return{success:!0,data:JSON.parse(t)}}catch(t){return{success:!1,error:t}}})(t);if(e.success)return e.data;(0,i.H)(r.P14,"Failed to parse MSN_KV",`Failed to parse MSN_KV: ${t}`,{error:e.error,msn_kv:t})},s=(t,e)=>{if(91===e)return t.description?"DTS_91_3":"DTS_91_1"}},72664:function(t,e,n){n.d(e,{Gb:function(){return l},c1:function(){return s}});var i=n(94289),r=n(59571),o=n(13218);const s=(t,e,n)=>{if(null!=t&&t.passIsAppTrafficSignal||null!=e&&e.enablePageObject||null!=t&&t.passRequestModelSignals||null!=t&&t.passVAXandrMigrationSignals||null!=t&&t.passDeviceOS||null!=t&&t.sendAdBlockDetectionFromEdge&&null!=e&&e.isAdblockerEnabled)try{const i=a(t,e,n);return Object.keys(i).length?JSON.stringify(i):""}catch(t){return}},a=(t,e,n)=>{const i={};if(null!=t&&t.passIsAppTrafficSignal&&null!=e&&e.isAppTraffic&&(i.app={isApp:null==e?void 0:e.isAppTraffic}),null!=e&&e.enablePageObject&&(i.page=c(e)),null!=t&&t.passRequestModelSignals){const t=null==n?void 0:n.auctionLevelSignals;var r,o;if(t)i.requestModelSignals={vpSize:null!=t&&t.vpSize?{w:null==t||null===(r=t.vpSize)||void 0===r?void 0:r.w,h:null==t||null===(o=t.vpSize)||void 0===o?void 0:o.h}:void 0,isPrerender:(null==t?void 0:t.isPrerender)||void 0,isSSR:(null==t?void 0:t.isSSR)||void 0,ocid:(null==t?void 0:t.ocid)||void 0}}const s={};return null!=t&&t.passVAXandrMigrationSignals&&(s.vaXandrMigration=!0),Object.keys(s).length>0&&(i.flightSignals=s),null!=t&&t.passDeviceOS&&null!=e&&e.device&&(i.deviceRequest=e.device),null!=t&&t.sendAdBlockDetectionFromEdge&&1==(null==e?void 0:e.isAdblockerEnabled)&&(i.isAdblockerEnabled=!0),i},c=t=>{const e=u(),n={};return e&&(n.type=e),null!=t&&t.pageLayout&&(n.layout=null==t?void 0:t.pageLayout),n},u=()=>{var t;return i.L.getMetadata(r.l.PageType)||(null===(t=o.Al.ClientSettings)||void 0===t?void 0:t.pagetype)},l=(t,e)=>{try{const n=d(t,e);return Object.keys(n).length?JSON.stringify(n):""}catch(t){return}},d=(t,e)=>{var n;const i={};return null!=e&&e.displayAdTemplateKVstyles&&(null===(n=e.displayAdTemplateKVstyles.styles)||void 0===n?void 0:n.length)>0&&(i.template_kv={styles:e.displayAdTemplateKVstyles.styles}),i}},40322:function(t,e,n){n.d(e,{pg:function(){return y}});var i=n(13218),r=n(37955),o=n(38300),s=n(44132);const a="fr-fr",c="fr",u=32,l=1126,d="prg-ad-fr-muid-rf",f="cprg-ad-fr-muid";var h;function p(){return i.Al.Locale===a}function m(){var t;return(null===(t=i.Al.ClientSettings)||void 0===t||null===(t=t.geo_country)||void 0===t?void 0:t.toLowerCase())===c}function g(){const t=(0,r.aW)();if(!t)return!1;try{var e;const n=null===(e=window.otIabModule)||void 0===e?void 0:e.tcfSdkRef.tcString().decode(t),i=null==n?void 0:n.vendorConsents.set_.has(u),r=null==n?void 0:n.vendorConsents.set_.has(l);return!(!i&&!r)}catch(t){return s.M0.sendClientLogEvent({message:`Error parsing consent cookie for targeting vendor, error: ${t}`,type:"warning"}),!1}}function v(){return!(!i.Al.CurrentFlightSet||!i.Al.CurrentFlightSet.has(d)&&!i.Al.CurrentFlightSet.has(f))}function w(){if(v()&&(s.M0.addOrUpdateTmplProperty("isFrMarket",p()?"1":"0"),s.M0.addOrUpdateTmplProperty("isFrIp",m()?"1":"0")),null===(t=i.Al.CurrentFlightSet)||void 0===t?void 0:t.has(d))return{shouldMask:!1,reason:"Current flight set allows passing identifiers"};var t;const e=!(0,r.aW)()||function(){const t=(0,r.ej)(o.yV.BrowserOptOut);return!(!t||"1"!==t)}();return p()?e?{shouldMask:!0,reason:"fr-fr market: pre-consent or browser opted out"}:g()?{shouldMask:!1,reason:"fr-fr market: vendor consent accepted"}:{shouldMask:!0,reason:"fr-fr market: vendor consent rejected"}:m()?e?{shouldMask:!0,reason:"French IP: pre-consent or browser opted out"}:window.__tcfapi&&"function"==typeof window.__tcfapi?g()?{shouldMask:!1,reason:"French IP: GDPR market: vendor consent accepted"}:{shouldMask:!0,reason:"French IP: GDPR market: vendor consent rejected"}:{shouldMask:!1,reason:"French IP: Non-GDPR market"}:{shouldMask:!1,reason:"Not subject to French or GDPR consent restrictions"}}!function(t){t.FLIGHT_DISABLED="Current flight set allows passing identifiers",t.FR_MARKET_PRE_CONSENT="fr-fr market: pre-consent or browser opted out",t.FR_MARKET_VENDOR_ACCEPTED="fr-fr market: vendor consent accepted",t.FR_MARKET_VENDOR_REJECTED="fr-fr market: vendor consent rejected",t.FR_IP_PRE_CONSENT="French IP: pre-consent or browser opted out",t.FR_IP_GDPR_VENDOR_ACCEPTED="French IP: GDPR market: vendor consent accepted",t.FR_IP_GDPR_VENDOR_REJECTED="French IP: GDPR market: vendor consent rejected",t.FR_IP_NON_GDPR="French IP: Non-GDPR market",t.NON_RESTRICTED="Not subject to French or GDPR consent restrictions"}(h||(h={}));const y={validateIdentifierUsage:w,maskIdentifiers:function(t){const e=w();if(v()){const t=i.Al.CurrentFlightSet.has(d)?"1":"0",n=i.Al.CurrentFlightSet.has(f)?"1":"0",r=e.shouldMask?"1":"0";s.M0.addOrUpdateTmplProperty("maskValue",`${t}_${n}_${r}`)}return e.shouldMask?void 0:t}}},49150:function(t,e,n){n.d(e,{h:function(){return v}});var i=n(97265),r=n(32308),o=n(37955),s=n(47898),a=n(22011),c=n(38300),u=n(62201),l=n(93092),d=n(13218),f=n(52185),h=n(81489),p=n(33779),m=n(5302);class g{constructor(){this.fetchCalled=!1,this.baseUrl="https://api.msn.com/msn/v0/pages/LiveRamp/getLiveRampId",this.oneServiceOcid="peregrine",this.noEnvelopeIdConst="_"}static getInstance(){return f.Gq.get("__LiverampService__",(()=>new g))}fetchAndOutputEnvelopeId(){var t;if(this.fetchCalled)return;if(this.fetchCalled=!0,null===d.Al||void 0===d.Al||null===(t=d.Al.CurrentFlightSet)||void 0===t||!t.has(a.gv))return;const e=this.hasAdvertisingConsent();if(!(0,o.ej)(c.yV.LiverampEnvelopeId)&&this.isCookieSetAllowed())if(e){const t=this.fetchEnvelopeIdFromObjectStore();this.liverampCookieSetPromise=this.setCookie(c.yV.LiverampEnvelopeId,t)}else this.deleteCookie(c.yV.LiverampEnvelopeId)}getEnvelopeIdFromCookie(){const t=(0,o.ej)(c.yV.LiverampEnvelopeId);return t===this.noEnvelopeIdConst?null:t}async finishLiverampCookieSet(){this.liverampCookieSetPromise&&await this.liverampCookieSetPromise}async fetchEnvelopeIdFromObjectStore(){const t={method:"GET",headers:await i.$D.getOneServiceHeaders(),credentials:"include"},e=this.getServiceUrl();let n,o;try{n=await(0,r.w)((async()=>{const n=await fetch(e.href,t);if(o=n.headers.get("ddd-debugid"),200!=n.status)return 404==n.status||204==n.status||(0,p.H)(m.t7r,`Unexpected response from OneService call. Status: ${n.status}`,void 0,{...m.t7r.pb,debugId:o}),null;try{const t=await n.text();let e=JSON.parse(t).liveRampId;return e&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substr(1,e.length-2)),e}catch{return(0,p.H)(m.t7r,"OneService response is not in expected format.",void 0,{...m.t7r.pb,debugId:o}),null}}),"liverampObjectStoreCall")}catch(t){return(0,p.H)(m.t7r,`Error sending OneService request. Error: ${t}`,void 0,{...m.t7r.pb,debugId:o}),null}return n}async setCookie(t,e){let n=await e;n||(n=this.noEnvelopeIdConst);(0,o.sq)(t,n,1,".msn.com","/",!0)||(0,p.H)(m.lxu,"Unable to set LiverampEnvelopeId Cookie.",void 0,{...m.t7r.pb})}deleteCookie(t){try{(0,o.sq)(t,"",-1,".msn.com","/",!0)}catch(t){(0,p.H)(m.lxu,"Unable to delete LiverampEnvelopeId Cookie.",void 0,{...m.lxu.pb})}}getServiceUrl(){const t=new URL(this.baseUrl);return[...i.$D.getCommonParams2(this.oneServiceOcid,!0)].forEach((e=>{e.value&&t.searchParams.set(e.key,e.value)})),t.searchParams.set("ocid",this.oneServiceOcid),t}isCookieSetAllowed(){try{return(0,o.sq)(c.yV.LiverampEnvelopeId,this.noEnvelopeIdConst,1,".msn.com","/",!0)}catch(t){return!1}}hasAdvertisingConsent(){try{if(this.getBrowserOptoutStatus())return!1;if(!s.A.get(s.U.Initialized))return!0;if(s.A.get(s.U.CookieConsentProvider)===u.i.OneTrustBanner){const t=s.A.get(s.U.ActiveCookieCategories);if(!t||0===t.length)return!1;return t.includes(l.o.Advertising)}return!0}catch(t){return(0,p.H)(m.lxu,"Error checking advertising consent, denying access",void 0,{...m.lxu.pb}),!1}}getBrowserOptoutStatus(){const t=(0,o.ej)(c.yV.BrowserOptOut);return!(!t||"1"!==t)}}const v=(0,h.h)(g)},93206:function(t,e,n){n.d(e,{W:function(){return o}});var i=n(37955),r=n(40322);function o(t){const e=t||(0,i.jG)();return r.pg.maskIdentifiers(e)}},14830:function(t,e,n){n.d(e,{N:function(){return o},O:function(){return r}});var i=n(42122);const r=function(t,e,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3]?n[t]?n[t].push(e):n[t]=[e]:t&&"function"==typeof e&&n&&(i.k.log(`DisplayAd: addEventListener eventName: ${t} callback: ${e} events: ${n}`),n[t]&&n[t][0].toString()!=e.toString()?n[t].push(e):n[t]=[e])},o=(t,e,n,i,r)=>{if(!e||!n)return;if(e.divid=e.divid||e.divName,e.msnSdkName=i,r){if(n[t]&&n[t].length)for(let i=0;i<n[t].length;i++)n[t][i](e);return}let o=5;const s=setInterval((()=>{if(n[t]&&n[t].length){for(let i=0;i<n[t].length;i++)n[t][i](e);clearInterval(s)}else o--||clearInterval(s)}),500)}},70861:function(t,e,n){n.d(e,{m:function(){return i}});const i=()=>(new Date).getTime()+"|"+(9*Math.random()+1)*Math.pow(10,17)},47510:function(t,e,n){n.d(e,{j:function(){return i}});const i=new class{constructor(){this.requestQueue=[],this.isProcessing=!1}async enqueueTask(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return new Promise(((e,i)=>{this.requestQueue.push((async()=>{try{const i=await t(...n);e(i)}catch(t){i(t)}})),this.processQueue()}))}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.requestQueue.length>0;){const t=this.requestQueue.shift();t&&await t()}this.isProcessing=!1}}}},64411:function(t,e,n){n.d(e,{A:function(){return w}});n(34757);var i=n(30688),r=n(13218);const o="undefined"!=typeof window?function(){const t={positions:[],beacons:{},clickBeacons:{},elements:{},timer:null,watch:null,paused:!1,supportsIO:!(window.location.search.indexOf("useLegacyTracking=1")>-1)&&"IntersectionObserver"in window,viewedBeaconHistory:new Set},e="background: #fff; border-radius: 2px; color: #5f6a96; padding: 4px;";let n=!1;window&&(n=window.location.search.toLowerCase().indexOf("debug=1",0)>-1);const i=function(t){"NOT_PROVIDED"!==t&&((new Image).src=t)},r=function(e){const n=t.clickBeacons[e]||[];if(n.length)for(let t=0,e=n.length;t<e;t++)i(n[t])},s=function(t,e){const n=(new Date).getTime()/1e3|0,i=Math.floor(9007199254740990*Math.random()),r=e&&e.index||0;return t.replace("$(AD_POSN)",encodeURIComponent("pp=m,pi="+r)).replace("{REQUEST_ID}",i).replace("[timestamp]",n).replace("[CACHEBUSTER]",n).replace("[RANDOM_NUMBER]",i)},a=function(t,e,n){const i=function(t,e){const n=e+1,i=Math.floor(t.width/n),r=Math.floor(t.height/n),o=Math.max(0,t.left),s=t.top,a=[];for(let t=1;t<n;t++){const e=o+i*t;for(let t=1;t<n;t++){const n=s+r*t;a[a.length]=[e,n]}}return a}(e,10);let r=0;for(let e=0,n=i.length;e<n;e++){const n=i[e][0],o=i[e][1];c(t,n,o)||r++}const o=100*n;return!(100-r/i.length*100>=o)},c=(t,e,n)=>{if(!!t.shadowRoot){const i=t.shadowRoot.elementFromPoint(e,n);return t.shadowRoot.contains(i)||t.contains(i)}const i=document.elementFromPoint(e,n);return!(!i||"MSFT-FEED-LAYOUT"!==i.tagName.toUpperCase()&&"VIEWS-NATIVE-AD"!==i.tagName.toUpperCase()&&"EDGE-CHROMIUM-PAGE"!==i.tagName.toUpperCase())},u=function(t,e){const n=function(){const t=document,e=window,n=t.body,i=t.documentElement;return{height:e.innerHeight||i.clientHeight||n&&n.clientHeight,width:e.innerWidth||i.clientWidth||n&&n.clientWidth}}(),i=t.getBoundingClientRect(),r=Math.max(0,Math.min(i.bottom,n.height)-Math.max(i.top,0)),o=Math.max(0,Math.min(i.right,n.width)-Math.max(i.left,0)),s=r/(i.height||t.offsetHeight)||0,c=o/(i.width||t.offsetWidth)||0;return!window.disableObstructionDetection&&window.addEventListener&&a(t,i,e)?0:Math.max(0,s+c-1)},l=function(t,e,n){return window.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},d=function(){const i=t.positions.length;for(let o=0;o<i;o++){const i=t.positions[o];if(!t.paused&&i){const s=i.uid,a=i.node;if(!a)continue;if(t.elements[s]||(t.elements[s]=a,t.clickBeacons[s]&&l(a,"click",(function(){r(s)}))),u(a,i.threshold)<i.threshold)i.history=null;else{i.history||(i.history=Date.now(),n&&console.log("%c[ Gemini: Started - "+i.history+" ]",e));const r=(Date.now()-i.history)/1e3;if(n&&console.log("%c[ Gemini: Tracking - "+r+" ]",e),r>=i.duration&&(n&&console.log("%c[ Gemini: Tracking - "+r+" ]",e),i.timer&&(clearInterval(i.timer),i.timer=null),i.observer&&i.observer.unobserve(a),t.viewedBeaconHistory.has(i.uid)||(t.viewedBeaconHistory.add(i.uid),i.callback(i)),i.history=Date.now(),t.positions.splice(o,1),o-=1,!t.positions.length)){n&&console.log("%c[ Gemini: Finished - "+i.history+" ]","background: #eb2e2e; border-radius: 2px; color: #fff; padding: 4px;"),t.timer&&(clearInterval(t.timer),t.timer=null);break}}}}},f=function(t){const e=t.node;if(!t.observer){const n=new IntersectionObserver((function(e){return function(e){const n=e[e.length-1];n.isIntersecting?n.isIntersecting&&!t.timer&&(t.timer=setInterval(d,150)):(clearInterval(t.timer),t.timer=null,t.history=null)}(e)}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});n.observe(e),t.observer=n}},h=function(e,r,a,c,u,l){const d=a.a,h=a.c,p=a.d,m=a.p,g=a.t,v=t.beacons,w=t.positions,y=m/100;v[e]||(v[e]={});v[e][r]={urls:c,threshold:y,duration:p,type:g,consecutive:h,audio:d};const b={uid:e,threshold:y,duration:p,consecutive:h,audio:d,callback:function(){const t=v[e][r],a=t.urls,c=a.length,u=o.beaconCallback;for(let o=0;o<c;o++){const c=a[o];i(s(c,l)),"function"==typeof u&&u(v[e][r],e,r,c),n&&console.log("%c[ Gemini: $$$$ ]\n"+JSON.stringify({url:c,rule:r,threshold:t.threshold,duration:t.duration,consecutive:t.consecutive},null,2),"background: #5c71d9; border-radius: 2px; color: #fff; padding: 4px;")}},node:u,history:null};w.push(b),t.supportsIO&&f(b)},p=function(e,n,i){const r=n.rules,o=r.viewabilityDefStatic,s=r.viewabilityDefStatic3P,a=n.tag,c=a.clickTrackingUrl,u=a.imprTrackingUrl,l=a.imprTrackingUrls,d=n.actionUrls,f=n.beacon;if(d&&d.PARTIAL_VIEW){const t=d.PARTIAL_VIEW;h(e,"viewabilityDefStaticPartial",{p:.01,d:0,t:21},t,i,n)}if(o||f||d&&d.IMPR_INTERNAL){const t="viewabilityDefStatic",r=o||{c:1,d:1,p:50};let s=[];f&&f.length&&s.push(f),d&&d.IMPR_INTERNAL&&(s=s.concat(d.IMPR_INTERNAL)),l&&l.length?s=s.concat(l):u&&(u instanceof Array?s=s.concat(u):s.push(u)),h(e,t,r,s,i,n)}if(s&&d&&d.STATIC_VIEW_3P){const t=s.length;for(let r=0;r<t;r++){const t=d.STATIC_VIEW_3P.slice(),o=s[r],a="viewabilityDefStatic3P:"+r,c=s[r].t;for(let e=0,n=t.length;e<n;e++)t[e]=(p=t[e],m=c,p.replace("$(S_VIEW_TYPE)",m));h(e,a,o,t,i,n)}}var p,m;let g=[];d&&d.CLICK_INTERNAL&&(g=g.concat(d.CLICK_INTERNAL)),c&&c.length&&(g=g.concat(c)),t.clickBeacons[e]=g},m=function(t,e){const n=t.ads,i=t.section.id,r=n.length;for(let t=0;t<r;t++){const r=n[t],o=r.customId||"gemini-"+i+"-"+(r.creativeId||r.demandSourceCreativeId||r.dynamicProductAdId||0)+"-"+r.index,s=e;r.tag="string"==typeof r.tag?JSON.parse(r.tag):r.tag,r.beacon=r.beacon.replace("$(AD_POSN)",encodeURIComponent("pp=m,pi="+r.index)),p(o,r,s)}},g=function(e,i){const r=e instanceof Array;if(!e||r&&!e.length||e&&"object"!=typeof e)return;e&&!r&&(e=[e]);const o=e.length;for(let t=0;t<o;t++){const n=e[t],r=n.sectionads;if(r)for(let t=0;t<r.length;t++)m(r[t],i);else m(n,i)}return"IntersectionObserver"in window||t.timer||(n&&console.log("%c[ Gemini: Start Watching ]","background: #55ae3f; border-radius: 2px; color: #fff; padding: 4px;"),t.timer=setInterval(d,150)),this};return window.Gemini=g,"hidden"in document&&document.addEventListener("visibilitychange",(function(){return t.paused=document.hidden})),g.version="2.0",g}():null;var s,a=n(42122),c=n(33779),u=n(5302),l=n(38300),d=n(98491),f=n(43319),h=n(21215),p=n(22680),m=n(44132),g=n(89658),v=n(4631);class w{constructor(t){this.config=t,this.visiJsonTrackingData=new Map,this.userActionLog=new d.Km,this.beaconsProcessed=new Map,this.currentVideoDom=new Map,this.onObserve=(t,e)=>(n,r)=>{n&&n.forEach((n=>{a.k.logCallback((()=>"IntersectionRatio: "+n.intersectionRatio.toString()));let o=1e3;(0,i.C)()&&(o=0),n.intersectionRatio>=.5?this.timerId=window.setTimeout(((n,i)=>{this.fireVisibilityBeacon(n,i),this.userActionLog.fireImpressionLog(t,e,i)}),o,r,n.target):this.timerId&&clearTimeout(this.timerId)}))}}async sendBeaconForAdServed(t){const{beaconsJson:e,beaconsSupportHttpPOST:n}=t;this.fireAdServedTrackingCall(e,n)}async fireAdServedTrackingCall(t,e){if(t&&t.length>0)try{const e=JSON.parse(t),i=e&&e.trb;if(i)for(let t=0;t<i.length;t++){var n;const r=i[t];null!==(n=window.servedBeaconUrls)&&void 0!==n&&n.includes(r)||(this.beaconsProcessed&&this.beaconsProcessed.has(r)&&this.beaconsProcessed.get(r)===l.hE.BeaconTypeAdServed||w.allServeBeaconsFiredOnPage&&w.allServeBeaconsFiredOnPage.has(r)||this.fireTrackingBeacon(i[t],l.hE.BeaconTypeAdServed,e.e))}}catch(e){m.M0.sendAppErrorEvent((0,c.Tr)(u.Cy3,"Fail to fire ad served call",`Fail to parse beacon json tracking data: ${t}`))}}fireClickTrackingCall(t,e){if(t&&t.length>0)try{const n=JSON.parse(t),i=JSON.parse(e),r=n&&n.tcb,o=i&&i.e;if(r)for(let t=0;t<r.length;t++)this.fireTrackingBeacon(r[t],l.hE.BeaconTypeClick,o)}catch(e){m.M0.sendAppErrorEvent((0,c.Tr)(u.Cy3,"Fail to fire ad clicked call",`Fail to parse beacon click json: ${t}`))}}fireUserActionBeacon(t){this.fireTrackingBeacon(t,l.hE.UserActionEvent,!1)}visibilityObserver(t,e,n){const i=document.querySelector(t.replace(/\s/g,".")),r=t.slice(1,t.length);i&&this.elementVisibilityObserver(i,e,void 0,r,n)}visibilityCarouselObserver(t,e){t&&e&&this.elementVisibilityObserver(t,e)}elementVisibilityObserver(t,e,n,i,r,o,s,a,l){if(this.visiJsonTrackingData.set(t,e),n)try{!function(t,e){window.Gemini&&window.Gemini(t,e)}(JSON.parse(n),t)}catch(t){m.M0.sendAppErrorEvent((0,c.Tr)(u.Cy3,"Fail to invoke gemini caller",`Fail to parse beacon gemini json: ${n}`))}const d={root:null,rootMargin:"0px",threshold:.5};let f;return this.doubleVerifyConfig=l,this.onObserve=this.onObserve.bind(this),this.fireVisibilityBeacon=this.fireVisibilityBeacon.bind(this),this.loadPolyfills().then((()=>{f=new IntersectionObserver(this.onObserve(s,a),d),f.observe(t),r&&r.length>0&&(this.trackBingViewability=this.trackBingViewability.bind(this),this.trackBingViewability(t,i,r,!0,this.beaconsProcessed,o,e))})),()=>{var t;return null===(t=f)||void 0===t?void 0:t.disconnect()}}checkVideoElementChanged(t,e,n){const i=t&&t.querySelector("native-ad-video-player")&&t.querySelector("native-ad-video-player").shadowRoot,r=i&&i.querySelector("content-video-player")&&i.querySelector("content-video-player").shadowRoot?i.querySelector("content-video-player").shadowRoot.querySelector("video"):null,o=n?n.get(t):null;n&&r!=o&&(e.element=r,e.videoParenentElement=i&&i.host&&i.host.parentElement,window&&window.MSANTracker&&window.MSANTracker.TrackElements&&(window.MSANTracker.PlayUtils.untrackElement(o),window.MSANTracker.TrackElements([e],window)),n.set(t,r))}trackBingViewability(t,e,n,i,r,o,s){const a=(this.config&&this.config.VideoAd&&this.config.VideoAd.view&&this.config.VideoAd.view.triggerType)??"play",c=(this.config&&this.config.VideoAd&&this.config.VideoAd.view&&this.config.VideoAd.view.durationMs)??2e3,u=!!o,d=e?e.concat(" video"):"";let f=t,h=null;i&&u&&(null==this.currentVideoDom&&(this.currentVideoDom=new Map),f=t&&t.querySelector("native-ad-video-player")&&t.querySelector("native-ad-video-player").shadowRoot,h=f&&f.querySelector("content-video-player")&&f.querySelector("content-video-player").shadowRoot&&f.querySelector("content-video-player").shadowRoot.querySelector("video"),this.currentVideoDom.set(t,h));let p=[];const m=[];let g=[],v=[];if(n&&n.length>0)for(let t=0;t<n.length;t++){const e=n[t];r&&r.has(e)&&r.get(e)===l.hE.BeaconTypeVisibility||(u?g.push({type:"videoView",triggerType:a,url:e,percentage:50,duration:c}):m.push({type:"view",triggerType:"view",url:e,percentage:50,duration:1e3}),null!=r&&i&&r.set(e,l.hE.BeaconTypeVisibility),v.push({beaconUrl:e,type:l.hE.BeaconTypeVisibility}))}if(u){const{bingBeacons:n,servedBeacons:a,videoTrackedUrls:c}=this.getBeaconsForVideo(o,r,i,s);g=g.concat(n),v=v.concat(c),p=[{impid:e,element:i?t:null,beacons:a},{impid:i?e:d,element:i?h:null,videoParenentElement:i?f&&f.host&&f.host.parentElement:null,beacons:g}]}else p=[{impid:e,element:i?t:null,beacons:m}];if(window&&window.MSANTracker&&window.MSANTracker.TrackElements&&window.MSANTracker.TrackElements(p,window),i&&u){const n={impid:e,element:h,videoParenentElement:f&&f.host&&f.host.parentElement,beacons:g};setInterval(this.checkVideoElementChanged,100,t,n,this.currentVideoDom)}return v}getBeaconsForVideo(t,e,n,i){const o=(this.config&&this.config.VideoAd&&this.config.VideoAd.mobileEnable)??!0,s=(this.config&&this.config.VideoAd&&this.config.VideoAd.impression&&this.config.VideoAd.impression.durationMs)??1e3;let a=[];const d=[],{bingBeacons:f,videoUrls:h}=this.generateVideoBeaconsFromVast(t,e,n);a=a.concat(h);const p=i,g=r.Al&&r.Al.ClientSettings||{},v=g.browser&&"true"===g.browser.ismobile||"phone"===g.deviceFormFactor;if(p&&p.length>0)try{const t=JSON.parse(p);if(t){const i=t.trb;if(i)for(let r=0;r<i.length;r++){const c=i[r];e&&e.has(c)&&e.get(c)===l.hE.BeaconTypeAdServed||(d.push({type:"videoImpression",triggerType:"view",url:t.e?c:decodeURIComponent(c),percentage:50,duration:o&&v?300:s}),null!=e&&n&&e.set(c,l.hE.BeaconTypeAdServed),a.push({beaconUrl:c,type:l.hE.BeaconTypeAdServed}))}}}catch(t){m.M0.sendAppErrorEvent((0,c.Tr)(u.Cy3,"Fail to fire video tracked beacon",`Fail to parse beacon json tracking data: ${p}`))}return{bingBeacons:f,servedBeacons:d,videoTrackedUrls:a}}getMilliseconds(t){const e=t.split(".");let n=0;const i=e[0];e.length>1&&(n+=Number(e[1]));const r=i.split(":");return n+1e3*(3600*Number(r[0])+60*Number(r[1])+Number(r[2]))}generateVideoBeaconsFromVast(t,e,n){const i=[],r=[],o=this.getMilliseconds(t.Duration);if(t.TrackingEvents)for(let s=0;s<t.TrackingEvents.length;s++)if(t.TrackingEvents[s]){const a=t.TrackingEvents[s].value;if(e&&e.has(a)&&e.get(a)===l.hE.BeaconTypeVideoProgress)continue;let c="";switch(t.TrackingEvents[s].event&&(c=t.TrackingEvents[s].event.toLowerCase()),c){case l.hE.StartEvent:i.push({type:"start",triggerType:"play",url:a,percentage:50,duration:0});break;case l.hE.FirstQuartileEvent:i.push({type:"quartile",triggerType:"play",url:a,percentage:50,duration:Math.ceil(o/4)});break;case l.hE.MidPointEvent:i.push({type:"quartile",triggerType:"play",url:a,percentage:50,duration:Math.ceil(o/2)});break;case l.hE.ThirdQuartileEvent:i.push({type:"quartile",triggerType:"play",url:a,percentage:50,duration:Math.ceil(o/4*3)});break;case l.hE.CompleteEvent:i.push({type:"complete",triggerType:"play",url:a,percentage:50,duration:o});break;case l.hE.ProgressEvent:t.TrackingEvents[s].offset&&i.push({type:"progress",triggerType:"play",url:a,percentage:50,duration:this.getMilliseconds(t.TrackingEvents[s].offset)})}null!=e&&n&&e.set(a,l.hE.BeaconTypeVideoProgress),r.push({beaconUrl:a,type:l.hE.BeaconTypeVideoProgress})}return{bingBeacons:i,videoUrls:r}}firePageMonetizedTelemetry(t){if(null==t||!t.getAttribute)return;const e=t.getAttribute(g.qP);try{const n=JSON.parse(e);(null==n?void 0:n.ism)&&m.M0.sendContentViewEvent(t.parentElement,g.NS.Partial)}catch(t){m.M0.sendAppErrorEvent((0,c.Tr)(u.Cy3,"Fail to set isMonetized flag",`Fail to parse telemetryObject json: ${e}`))}}fireVisibilityBeacon(t,e){if(a.k.logCallback((()=>"ad visible for 1 second")),this.firePageMonetizedTelemetry(e),this.visiJsonTrackingData&&this.visiJsonTrackingData.get(e))try{const t=JSON.parse(this.visiJsonTrackingData.get(e)),r=t&&t.tvb,o=(0,v.TI)(this.doubleVerifyConfig);var n;if(null!=o&&o.shouldAttach)(0,v.G_)(null==o?void 0:o.dvTrackers,null===(n=this.doubleVerifyConfig)||void 0===n?void 0:n.nativeAdId,u.ODI);if(r)for(let e=0;e<r.length;e++){var i;const n=r[e];null!==(i=window.viewedBeaconUrls)&&void 0!==i&&i.includes(n)||(this.beaconsProcessed&&this.beaconsProcessed.has(n)&&this.beaconsProcessed.get(n)===l.hE.BeaconTypeVisibility||w.allVisiBeaconsFiredOnPage&&w.allVisiBeaconsFiredOnPage.has(n)||this.fireTrackingBeacon(n,l.hE.BeaconTypeVisibility,t.e))}}catch(t){m.M0.sendAppErrorEvent((0,c.Tr)(u.Cy3,"Fail to fire visibility beacon",`Fail to parse beacon json tracking data: ${this.visiJsonTrackingData.get(e)}`))}t&&t.unobserve(e)}fireRequestLevelBeacons(t){t&&t.forEach((t=>{t&&this.fireRequestLevelBeaconCall(t)}))}fireJSTrackers(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&t.length>0)try{const n=JSON.parse(t),i=n&&n.tjb;if(!Array.isArray(i))return;for(const t of i)t&&"string"==typeof t&&(this.beaconsProcessed&&this.beaconsProcessed.has(t)&&this.beaconsProcessed.get(t)===l.hE.BeaconTypeJsTracker||(e&&this.isXandrVisibilityTracker(t)?this.fireXandrJSTracker(t):this.fireJSTracker(t)))}catch(e){m.M0.sendAppErrorEvent((0,c.Tr)(u.Cy3,"Fail to fire jstrackers",`Fail to parse beacon json tracking data: ${t}`))}}async fireJSTracker(t){return new Promise(((e,n)=>{if(!(0,h.N)())return;const i=(0,p.b0)(t,void 0,!0,void 0);i.onload=()=>{a.k.logCallback((()=>"Added jsTracker url: "+t)),this.beaconsProcessed.set(t,l.hE.BeaconTypeJsTracker),e()},i.onerror=e=>{m.M0.sendAppErrorEvent({...u.is$,message:"Failed to load partner jsTracker file",pb:{...u.is$.pb,customMessage:`Error occurred while loading ad partner trackerJS file: ${t}`}}),n(e)},document.body.appendChild(i)}))}async fireRequestLevelBeaconCall(t){if(t){a.k.logCallback((()=>"Firing encoded requestlevel beacon: "+t));let e=await new Image(1,1);e.src=t,e=null}}firePostTrackingBeacon(t,e,n){let i=l.hE.BeaconFormatEncoded;n||(t=decodeURIComponent(t),i=l.hE.BeaconFormatDecoded),t&&(a.k.logCallback((()=>"Firing "+i+" "+e+" beacon, beaconUrl: "+t)),navigator.sendBeacon(t),this.beaconsProcessed.set(t,e))}fireTrackingBeacon(t,e,n){let i=l.hE.BeaconFormatEncoded;n||(t=decodeURIComponent(t),i=l.hE.BeaconFormatDecoded),t&&(a.k.logCallback((()=>"Firing "+i+" "+e+" beacon, beaconUrl: "+t)),this.fireBeaconCall(t,e))}fireBeaconCall(t,e){try{let e=new Image(1,1);e.src=t,e=null}catch(e){m.M0.sendAppErrorEvent((0,c.Tr)(u.AIp,"Invalid beacon URL",`Fail to parse beacon json tracking data: ${t}`))}finally{this.beaconsProcessed.set(t,e),e===l.hE.BeaconTypeVisibility&&w.allVisiBeaconsFiredOnPage.add(t),e===l.hE.BeaconTypeAdServed&&w.allServeBeaconsFiredOnPage.add(t)}}supportsIntersectionObserver(){return"IntersectionObserver"in n.g&&"IntersectionObserverEntry"in n.g&&"intersectionRatio"in IntersectionObserverEntry.prototype}loadPolyfills(){const t=[];return this.supportsIntersectionObserver()||t.push(n.e("node_modules_intersection-observer_intersection-observer_js").then(n.t.bind(n,76583,23))),Promise.all(t)}isXandrVisibilityTracker(t){return t.includes("trk.js")}fireXandrJSTracker(t){document.addEventListener(f.gL,(e=>{const n=this.extractAdIdFromXandrTrackerUrl(t);e.detail.adUniqueIds.includes(n)&&this.fireJSTracker(this.replaceXandrVisibilityTrackerParam(n,t))}))}replaceXandrVisibilityTrackerParam(t,e){const n=`dom_id=${t};`,i=`dom_elt_var=${t};`;return e.replace(n,i)}extractAdIdFromXandrTrackerUrl(t){var e;const n=null===(e=t.match(/dom_id=([a-zA-Z0-9_-]+);/))||void 0===e?void 0:e[1];return n||(0,c.H)(u.C$l,"Xandr visibility tracker URL doesn't have ad id","dom_id parameter is empty",{trackerUrl:t}),n}get intersectionObserver(){return this.loadPolyfills()}}(s=w).allVisiBeaconsFiredOnPage=new Set,s.allServeBeaconsFiredOnPage=new Set},57167:function(t,e,n){n.d(e,{UF:function(){return u}});var i=n(47898),r=n(62042),o=n(21215);let s,a=!1;const c=new Promise((t=>{s=t}));async function u(){switch(await async function(){a||(i.A.subscribe(i.U.CookieConsentStatus,(t=>{t!==r._.Unknown&&s()})),a=!0);const t=i.A.get(i.U.CookieConsentStatus);return t!==r._.Unknown?t:((0,o.N)()&&await c,i.A.get(i.U.CookieConsentStatus))}()){case r._.Required:return!0;case r._.NotRequired:return!1;default:return}}},43499:function(t,e,n){n.d(e,{N:function(){return o}});var i=n(38300),r=n(37955);class o{updateMsaOptOutCookie(t){if(!this.getMsaOptoutCookieData()&&t&&t.optout){const e=!0===t.optout.msaOptOut?"1":"0";this.setMsaOptoutCookie(e)}}getMsaOptoutCookieData(){const t=(0,r.ej)(i.yV.MSAOptOut);return t&&t.length>0?t:null}setMsaOptoutCookie(t){t&&t.length>0&&(0,r.sq)(i.yV.MSAOptOut,t,1,null,"/")}getBrowserOptoutStatus(){const t=(0,r.ej)(i.yV.BrowserOptOut);return!(!t||"1"!==t)}setUserOptOutSettings(){const t=this.getBrowserOptoutStatus(),e=this.getMsaOptoutCookieData(),n=!(!e||"1"!==e),r=(t||n).toString().toLowerCase();let o="";t&&(o="b|"),n&&(o+="m");const s=i.Lr.UserOptOut+":"+r+";"+i.Lr.UserOptOutOptions+":"+o;if(document.head.attributes["data-info"]){const t=document.head.attributes["data-info"].value.split(";");t.find((t=>t.indexOf(i.Lr.UserOptOut)>-1))?t.find((t=>t.indexOf(i.Lr.UserOptOut)>-1))!==i.Lr.UserOptOut+":"+r&&(document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.Lr.UserOptOut+":false",i.Lr.UserOptOut+":"+r).replace(i.Lr.UserOptOut+":true",i.Lr.UserOptOut+":"+r)):document.head.attributes["data-info"].value=document.head.attributes["data-info"].value+";"+i.Lr.UserOptOut+":"+r,t.find((t=>t.indexOf(i.Lr.UserOptOutOptions)>-1))?t.find((t=>t.indexOf(i.Lr.UserOptOutOptions)>-1))!==i.Lr.UserOptOutOptions+":"+o&&(t.includes(i.Lr.UserOptOutOptions+":")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.Lr.UserOptOutOptions+":",i.Lr.UserOptOutOptions+":"+o):t.includes(i.Lr.UserOptOutOptions+":b|")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.Lr.UserOptOutOptions+":b|",i.Lr.UserOptOutOptions+":"+o):t.includes(i.Lr.UserOptOutOptions+":b|m")?document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.Lr.UserOptOutOptions+":b|m",i.Lr.UserOptOutOptions+":"+o):t.includes(i.Lr.UserOptOutOptions+":m")&&(document.head.attributes["data-info"].value=document.head.attributes["data-info"].value.replace(i.Lr.UserOptOutOptions+":m",i.Lr.UserOptOutOptions+":"+o))):document.head.attributes["data-info"].value=document.head.attributes["data-info"].value+";"+i.Lr.UserOptOutOptions+":"+o}else document.head.setAttribute("data-info",s)}}},4631:function(t,e,n){n.d(e,{G_:function(){return w},OW:function(){return b},TI:function(){return v},lV:function(){return y},lj:function(){return S},yF:function(){return g}});var i=n(21215),r=n(31404),o=n(44132),s=n(26156),a=n(33779),c=n(5302),u=n(77137);const l=/^[a-zA-Z0-9_-]*(?:infopane|info)-\d+/,d={original:"latest/js/thirdparty/doubleverify/msftdvbm.js"},f=new Map,h=20;let p;const m=["cs-responsive-card","msft-content-card","cs-native-ad-card","cs-responsive-infopane","cs-native-ad-card-24","cs-content-card","msft-native-ad","cs-infopane-dense-card","cs-infopane-card-28"];function g(t,e,n){if(!t)return;const i=y(t).get("DV");if(i&&i.length>0){var r;const t=`p:${S(null===(r=i[0])||void 0===r||null===(r=r.ext)||void 0===r?void 0:r.verificationParameters)||"null"}|i:${e||"null"}|f:${n}`;(0,a.H)(c.Lm2,`DoubleVerify trackers present but skipped processing. ${t}`,void 0,{...c.Lm2.pb,userImpacting:!0})}}function v(t){if(!t)return{shouldAttach:!1};const e=t.eventTrackers&&t.eventTrackers.length>0,n=!!t.nativeAdId,i=n&&b(t.nativeAdId),r=t.enableInfopaneDVBeacon;if(!e||!i||n&&r||g(t.eventTrackers,t.nativeAdId,r),!function(t){return!!(t.enableInfopaneDVBeacon&&t.nativeAdId&&b(t.nativeAdId)&&t.eventTrackers&&t.eventTrackers.length>0)}(t))return{shouldAttach:!1};const o=y(t.eventTrackers),s=o.has("DV");return{shouldAttach:s,dvTrackers:s?o.get("DV"):void 0}}function w(t,e,n){var l,g;if(!(0,i.N)()||!t||!e)return;const v=o.M0.getRequestId(),w=`${e}`;if(f.has(v)&&null!==(l=f.get(v))&&void 0!==l&&l.has(w))return;f.has(v)||(f.set(v,new Set),function(){if(f.size>h){const t=f.size-h;Array.from(f.keys()).slice(0,t).forEach((t=>{f.delete(t)}))}}()),null===(g=f.get(v))||void 0===g||g.add(w);const y=(0,r.Et)(n,"attachDVScript")(((t,e,n)=>{var i;const r=null===(i=t[0])||void 0===i||null===(i=i.ext)||void 0===i?void 0:i.verificationParameters,l=S(r),f=function(t,e){if(!t||!e)return;const n=function(){if(void 0===p){const t=function(){let t=(0,u.Yq)().StaticsUrl;return t.endsWith("/")||(t+="/"),`${t}${d.original}`}();if("edgeChromium"===u.jG.AppType){const e=(0,s.nz)(t,"DvUrlPolicy"),n=e||void 0;if(!n||"about:blank#error"===n)return void(0,a.H)(c.ODI,"DV script url is not trusted type compliant.");p=n}else p=t}return p}();if(!n)return;try{const i=t.split(";").filter((t=>t.includes(":"))).map((t=>t.split(":"))).map((t=>{let[e,n]=t;return`${encodeURIComponent(e)}=${encodeURIComponent(n)}`})).join("&"),r=new URL(n),o=new URLSearchParams(i);o.set("tagType","display"),o.set("mon","1"),o.set("blk","0"),o.set("ee_dp_js","1");const s=o.toString();return r.hash=`${s}&btreg=${e}&bttag=${m.join("|")}`,r.toString()}catch(t){return void(0,a.H)(c.ODI,`Failed to construct DV script URL: ${t}`)}}(r,n);if(!f)return void(0,a.H)(e,"Failed to create sanitized DV script URL");const h=document.createElement("script");h.async=!0,h.src=f,h.onerror=t=>{(0,a.H)(e,`Failed to download DV JS ${t}`)},document.body.appendChild(h),l&&o.M0.addOrUpdateTmplProperty("dvattachedid",l)}));y(t,n,e)}function y(t){const e=new Map;return t.forEach((t=>{var n;const i=null==t||null===(n=t.ext)||void 0===n?void 0:n.vendorKey;var r;(i&&!e.has(i)&&e.set(i,[]),i)&&(null===(r=e.get(i))||void 0===r||r.push(t))})),e}function b(t){return!!t&&l.test(t.toLowerCase())}function S(t){if(t)try{const e=t.split(";");for(const t of e){const[e,n]=t.split(":");if(e&&"plc"===e.trim()&&n)return n.trim()}}catch(t){return}}},95850:function(t,e,n){n.d(e,{JV:function(){return s}});var i=n(22680),r=n(4),o=n(93516);const s=(t,e,n,i)=>{null!=n&&n.passExtraAdSignals||null!=n&&n.passDTSignals;try{const r=[];return null!=e&&e.indices&&Array.isArray(e.indices)&&e.indices.forEach(((o,s)=>{let c={};c=a(t,e,s,c,n,i),r.push(JSON.stringify(c))})),r}catch(t){return[]}},a=function(t,e,n){var i;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4?arguments[4]:void 0;const u=null==e||null===(i=e.placementLevelSignals)||void 0===i?void 0:i[n],f=null==t?void 0:t.auctionLevelSignals;var h,p,m;null!=a&&a.passExtraAdSignals&&(u&&(s.modelSignals={coords:null!=u&&u.coords?{x:u.coords.x,y:u.coords.y}:void 0,isCoordsInv:(null==u?void 0:u.isCoordsInvalidated)||void 0,cardSize:(null==u?void 0:u.cardSize)||void 0,pageRegion:(null==u?void 0:u.pageRegion)||void 0}),f&&!a.passRequestModelSignals&&(s.requestModelSignals={vpSize:null!=f&&f.vpSize?{w:null==f||null===(h=f.vpSize)||void 0===h?void 0:h.w,h:null==f||null===(p=f.vpSize)||void 0===p?void 0:p.h}:void 0,isPrerender:(null==f?void 0:f.isPrerender)||void 0,isSSR:(null==f?void 0:f.isSSR)||void 0,ocid:(null==a?void 0:a.passAdOcidRegSize)&&(null==f?void 0:f.ocid)||void 0}));null!=a&&a.passBrandSafetySignals&&(s.brandSafety={adjCardIds:null!=u&&null!==(m=u.adjacentCardIds)&&void 0!==m&&m.length?[...u.adjacentCardIds]:void 0,isPartialAdjList:(null==u?void 0:u.isPartialBrandSafety)||void 0});if(null!=a&&a.passDTSignals){var g;const t=(0,o.yw)(e.region),n=null===(g=a.dtsRequestConfig)||void 0===g?void 0:g.find((e=>e.region===t));null!=n&&n.dtsTemplateConfig&&(s.dts=c(n.dtsTemplateConfig))}return l(s),null!=t&&t.passUnstableGalleryAdSignal&&e.region===r.yp.interstitialgallery&&d(s,!(null!=t&&t.isStableGAInterstitialAds)),s},c=t=>({templates:t.map((t=>{let{dtsTemplateId:e,assets:n,lineCountConstraints:i}=t;const r={id:e,assets:(0,o.Z)(n)?n.map(u):[]};return Array.isArray(i)&&(r.lcconstrs=i.map((t=>{let{assetIds:e,lineCountLimit:n}=t;return{assetkeys:e,lclimit:n}}))),r}))}),u=t=>{switch(t.type){case"title":return{id:t.assetId,required:t.required,title:{len:t.length,ext:{linelen:t.lineLen}}};case"image":return{id:t.assetId,required:t.required,img:{type:t.subTypeId,w:t.imageSize.w,h:t.imageSize.h}};default:return{id:t.assetId,required:t.required,data:{type:t.subTypeId,len:t.length,ext:{linelen:t.lineLen}}}}},l=t=>{t.device={pxratio:Math.round(100*(0,i.x_)())/100}},d=(t,e)=>{t.modelSignals=t.modelSignals||{},t.modelSignals={isUnstableGAAd:e}}},80989:function(t,e,n){n.d(e,{c:function(){return J},d:function(){return K}});var i,r=n(33940),o=n(33779),s=n(5302),a=n(86117),c=n(90631),u=n(242),l=n(38300),d=n(69497),f=n(79403),h=n(22680),p=n(21215),m=n(52185),g=n(77137),v=n(44132);!function(t){t.success="success",t.leadgen="leadgen",t.cmsBackfill="cmsBackfill",t.fail="fail",t.collapse="collapse"}(i||(i={}));const w={},y=(t,e)=>{var n;null!==(n=g.jG.CurrentRequestTargetScope)&&void 0!==n&&null!==(n=n.pageExperiments)&&void 0!==n&&n.includes("prg-ad-cms-cnt")&&(w[e]||(w[e]={[i.success]:0,[i.leadgen]:0,[i.cmsBackfill]:0,[i.fail]:0,[i.collapse]:0}),w[e][t]++,v.M0.sendClientLogEvent({pb:{clientLogName:"NativeAdCMSBackfillCount",region:e,...w[e]}}))};var b,S=n(28951),x=n(13218),C=n(33493),k=n(93516),T=n(26671),$=n(90351),A=n(64411),I=n(83405),P=n(73344);!function(t){t.SlideshowPreview="ss",t.ArticlePreview="ar",t.VideoPreview="vi"}(b||(b={}));var _=n(32308);class M{constructor(){this.cmsProviderCache=new Map}async getCMSList(t,e){if(!t)return void(0,o.H)(s.Cfk,"Get CMSAd content failed",`No backfill id found, listId: ${t}`,{shouldSampleErrorsForTreatement1:!0});let n={};try{const i={method:"GET",headers:{}},r=await(0,_.w)((async()=>{const e=new URL(`${l.ZG.CMSListServiceUrl}${t}${this.getContentServiceUrlBase().search}`,`${this.getContentServiceUrlBase()}`),r=m.Gq.get("afdprotocol");r&&e.searchParams.set("afdprotocol",r);const a=await fetch(e.toString(),i);if(n={url:a.url,status:a.status,statusText:a.statusText},a.ok)return a.json();(0,o.H)(s.Cfk,"Get CMSAd content failed",`Invalid response from CMS, listId: ${t}`,{shouldSampleErrorsForTreatement1:!0,...n})}),"getCMSList");if(!r)return void(0,o.H)(s.Cfk,"Get CMSAd content failed",`Invalid response.json(), listId: ${t}`,{shouldSampleErrorsForTreatement1:!0,...n});const a=r;return this.translateToCMSItem(a,t,e,l.Lr.PrivacyUrl)}catch(e){return void(e instanceof TypeError?(0,o.H)(s.Cfk,"Get CMSAd content failed",`Contruct URL failed  ${e}, id: ${t}`,{shouldSampleErrorsForTreatement1:!0,...n,baseUrl:g.jG.ContentServiceUrlBase,path:l.ZG.CMSListServiceUrl}):(0,o.H)(s.Cfk,"Get CMSAd content failed",`Error while fetching CMS Native Ad ${e}, id: ${t}`,{shouldSampleErrorsForTreatement1:!0,...n}))}}async translateToCMSItem(t,e,n,i){if(!t||!t.list||0===t.list.length)return void(0,o.H)(s.Cfk,"Get CMSAd content failed",`No CMS Response returned from ${e}`,{shouldSampleErrorsForTreatement1:!0});const r=[];for(const e of t.list){let t=!1;const o=e.extendedProperties;if(o)for(const e of o)if(e.key&&e.key.indexOf("is_content")>-1&&e.values&&e.values.indexOf("true")>-1){t=!0;break}let s;if(null!=e.link&&null!=e.link.title&&e.link.href&&null!=e.link.image&&null!=e.link.image.href){const n=this.getCMSContentId(e.link.image.href);let r,o;if(e.link.ad)if(e.link.ad.providerHref&&e.link.ad.providerHref.href){const t=this.getCMSContentId(e.link.ad.providerHref.href);t?r=await this.fetchProviderName(t):e.link.ad.sponsorText&&(r=e.link.ad.sponsorText)}else e.link.ad.sponsorText&&(r=e.link.ad.sponsorText);o=r||(null!=e.link.kicker?e.link.kicker:l.ZG.DefaultProviderName),s={title:e.link.title,url:e.link.href,provider:{name:o},imageUrl:n?(0,P.zz)(n,{width:624,height:350,enableDpiScaling:!1}):e.link.image.href,isContent:t,privacyUrl:i}}else if(null!=e.reference&&null!=e.reference.href){const r=this.getCMSContentId(e.reference.href);if(null!=r){const e=await this.getCMSContent(r);if(!e)continue;s={title:e.title,url:this.constructDestinationUrl(e,n),provider:this.constructProvider(e),imageUrl:this.constructImageUrl(e),isContent:t,privacyUrl:i}}}s&&s.title&&s.imageUrl&&s.url&&r.push(s)}return{id:t._id,items:r}}async getCMSContent(t){try{const e=new URL(this.getContentServiceUrlBase().search,`${this.getContentServiceUrlBase()}${l.ZG.CMSContentServiceURl}${t}/`),n=await fetch(e.toString());if(!n||!n.ok)return void(0,o.H)(s.Cfk,"Get CMSAd content failed",`Failed to fetch CMS content, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0});const i=await n.json();return i||void(0,o.H)(s.Cfk,"Get CMSAd content failed",`Invalid JSON response to get CMS content, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0})}catch(e){return void(0,o.H)(s.Cfk,"Get CMSAd content failed",`Error while fetching CMS content ${e}, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0})}}constructDestinationUrl(t,e){const{category:n}=t,i=n&&n.product||"news",r=n&&n.label||"other",o=b[t.type]||"xx";return`https://www.msn.com/${e}/${S.cX.encodeURIComponentForPrime(i||"")}/${S.cX.encodeURIComponentForPrime(r||"")}/${S.cX.encodeURIComponentForPrime(t.title||"")}/${o}-${t.id}`}constructProvider(t){const{name:e,logo:n}=t.provider;return{name:e,logo:n&&n.id?{src:`${I.E.prod}${n.id}?w=16&h=16`,alt:e}:void 0}}constructImageUrl(t){if(t.images&&!(t.images.length<1)&&t.images[0].id)return(0,P.zz)(t.images[0].id,{width:624,height:350,focalRegion:t.images[0].focalRegion,enableDpiScaling:!1})}getCMSContentId(t){return t&&t.indexOf("cms/api/amp")>-1?t.substring(t.lastIndexOf("/")+1):null}async fetchProviderName(t){try{if(this.cmsProviderCache.get(t))return this.cmsProviderCache.get(t);const e={method:"GET",headers:{}},n=await(0,_.w)((async()=>{const n=new URL(`${l.ZG.CMSListServiceUrl}${t}${this.getContentServiceUrlBase().search}`,`${this.getContentServiceUrlBase()}`),i=await fetch(n.toString(),e);if(i.ok)return i.json();(0,o.H)(s.Cfk,"Get CMSAd content failed",`Invalid response from CMS. status: ${i.status}, statusText: ${i.statusText}, url: ${i.url}`,{shouldSampleErrorsForTreatement1:!0})}),"getProviderName");if(!n)return void(0,o.H)(s.Cfk,"Get CMSAd content failed",`Invalid response.json(), cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0});const i=n;return i?(this.cmsProviderCache.set(t,i.displayName),i.displayName):void(0,o.H)(s.Cfk,"Get CMSAd content failed",`Failed to parse JSON response, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0})}catch(e){return void(0,o.H)(s.Cfk,"Get CMSAd content failed",`Error while fetching Provider name  ${e}, cmsId: ${t}`,{shouldSampleErrorsForTreatement1:!0})}}getContentServiceUrlBase(){let t=g.jG.ContentServiceUrlBase;return t&&!t.toString().includes("localhost")||(t=new URL(l.Lr.DefaultContentServiceBaseUrl)),t}}var R=n(97265),E=n(37955),F=n(53915);class D{async getLeadgenAds(t){if(!t||!t.placements||t.placements.length<1)return void v.M0.sendAppErrorEvent((0,o.Tr)(s.ru5,"Get Leadgen content failed","No placements found in the request"));let e;try{const n=g.jG.HostPage.originalUrl;e=(0,F.bj)(n);const i=this.getMuid(t.muid),r=(0,x.nP)().CurrentFlights,{w:a,h:c}=t.placements[0].img||{},u={id:e,url:n,scoreCategories:t.scoreCategories,market:t.locale,user:i,fdhead:r,w:a,h:c},d=JSON.stringify(u),f=new URL(l.Lr.LeadgenEndpoint,`${g.jG.AssetsUrl}/service/Finance/`),h="finance-utils-peregrine",p=R.$D.getOneServiceParamsWithoutAuth(null,h,!1);f.search=S.cX.keyValueArrayToQueryString(p);const m=(0,_.w)((async()=>{const t=await fetch(f,{method:"POST",body:d,timeoutMs:l.Lr.LeadgenAdServiceTimeout});if(t.ok)return t.json();v.M0.sendAppErrorEvent((0,o.Tr)(s.ru5,"Get Leadgen content failed",`Invalid response from Leadgen, ${t.statusText}, contentId: ${e}`))}),"getLeadgenAds"),w=await m;if(!w)return void v.M0.sendAppErrorEvent((0,o.Tr)(s.ru5,"Get Leadgen content failed",`contentId: ${e}`));return w.items}catch(t){return void v.M0.sendAppErrorEvent((0,o.Tr)(s.ru5,"Get Leadgen content failed",`Error while fetching Leadgen Ad  ${t}, contentId: ${e}`))}}getMuid(t){return t||(0,E.jG)()}}var O=n(92195),N=n(19186),U=n(91216),L=n(89136),B=n(90450),W=n(31404),H=n(53552),z=n(47510),V=n(17813),j=n(6734),q=n(12031);const G=(t,e)=>{var n,i;null!=t&&null!==(n=t.impressedCrids)&&void 0!==n&&n.length&&null!=e&&null!==(i=e.placements)&&void 0!==i&&i.length&&e.placements.forEach((e=>{var n,i;if(null==e||null===(n=e.crids)||void 0===n||!n.length)return;const r=null===(i=e.crids)||void 0===i?void 0:i.filter((e=>{var n;return null===(n=t.impressedCrids)||void 0===n?void 0:n.includes(e)}));if(r.length>0){var a,c,u,l;(t=>{(0,o.H)(s.DQg,"Dupe crids from MSX detected",void 0,{...s.DQg.pb,ext:t},!1)})({dupeCrids:r.join(","),region:null==e?void 0:e.region,index:null==e?void 0:e.index,imageUrl:null==e||null===(a=e.items)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.imageUrl,title:null==e||null===(c=e.items)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.title,url:null==e||null===(u=e.items)||void 0===u||null===(u=u[0])||void 0===u?void 0:u.url,adRequestCrids:null==t||null===(l=t.impressedCrids)||void 0===l?void 0:l.join(",")})}}))};class J{constructor(t,e,n){this.adTemplateConfig=t,this.adServiceConfig=e,this.adBeaconServiceConfig=n,this.beaconService=new A.A(this.adBeaconServiceConfig),this.cmsService=new M,this.leadgenAdService=new D,this.samService=new O.B(this.adServiceConfig),this.templateService=new N.E,this.cmsNativeAdsItemsMap=new Map,this.cmsRetryCount=0,this.backfillIndex=0,this.leadgenIndex=0,this.cmsAdsCounter=0,this.callbackFnPlacementList=[],this.callbackList=[]}resetNativeAdService(){this.backfillIndex=0,this.leadgenIndex=0,this.cmsAdsCounter=0,this.callbackFnPlacementList.length=0,this.callbackList.length=0,this.samService.clearPreviousInfo()}async fetchNativeAds(t,e){var n,i,r,a;let c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3?arguments[3]:void 0;if(!t||!t.placements||0===t.placements.length)return void(0,o.H)(s.Zmj,"Fetch NativeAd failed","No placements found in the request");const f="true"===(null===(n=S.cX.getParamsWithItems((0,h.zp)(),!0,"citem").find((t=>{let{key:e}=t;return"nativeAdDebug"===e})))||void 0===n?void 0:n.value);if(t.locale||(t.locale=x.Al.Locale),"ru-xl"===t.locale&&(t.locale="en-xl"),!t.locale)return void(0,o.H)(s.Zmj,"Fetch NativeAd failed",`No locale found, headData.Locale: ${x.Al.Locale}, adRequest.locale: ${t.locale}`);(0,B.$)(null===(i=this.adServiceConfig)||void 0===i?void 0:i.enableNativeAdXandr)&&(t.enableNativeAdXandr=!0);const p=this.buildAdResponse(t);!this.leadgenItems&&t.enableNativeAdLeadgen&&(this.leadgenItems=await this.leadgenAdService.getLeadgenAds(t));const m=!this.leadgenItems||0==this.leadgenItems.length;let v=g.jG.IsChinaCompliance?"https://srtb.msn.cn/":null;!g.jG.IsChinaCompliance&&x.Al.CurrentFlightSet.has("prg-ads-ipv6dmn")&&(v="https://srtb-ax.msn.com/");const{enableBlockingQueue:w}=this.adTemplateConfig||{},y=()=>this.samService.fetchSAMAds(t,!1,!1,v,null,e,u);let b;b=w?z.j.enqueueTask((()=>y().then(this.updateCridsInDedupeManager.bind(this)))):m?y():Promise.resolve(void 0);const C=t.locale,k=l.Wi[C];if(!this.cmsItems&&!c){const t=await this.cmsService.getCMSList(k,C);t&&(this.cmsItems=t.items)}const T=await b;if(x.Al.CurrentFlightSet.has("prg-ads-dupe-hit")&&G(t,T),this.updateAdResponse(p,this.leadgenItems,this.cmsItems,k,t,T,c),f)return{...p,debugInfo:{adRequest:t}};var $;(null!==x.Al&&void 0!==x.Al&&null!==(r=x.Al.CurrentFlightSet)&&void 0!==r&&r.has("prg-ad-view-bdupe")||null!==x.Al&&void 0!==x.Al&&null!==(a=x.Al.CurrentFlightSet)&&void 0!==a&&a.has("prg-ad-wea-bdupe"))&&w&&(null==p||null===($=p.placements)||void 0===$||$.forEach((t=>{t.adAuctionType=d._.clientAuctionAd})));return p}updateCridsInDedupeManager(t){return(0,p.N)()&&null!=t&&t.placements&&t.placements.forEach((t=>{q.k.addDedupeIds(null==t?void 0:t.crids)})),t}updateAdResponse(t,e,n,r,u,l,f){const h=!n||0==n.length,p=!l||!l.placements||0==l.placements.length,m=!e||0==e.length,{enableNativeAdXandr:g,enableExtraImageData:w,enableNativeAdLeadgen:b}=u;if(h&&!f)if(b){if(m&&p)return void(0,o.H)(s.v73,"Fetch NativeAd failed",`Unable to retrieve backfill list id: ${r}, SAM response and Leadgen response`);m?(0,o.H)(s.ru5,"Fetch Leadgen ads failed",`Unable to retrieve backfill list id: ${r} and Leadgen response`):(0,o.H)(s.v73,"Unable to retrieve backfill list",`Backfill list id: ${r}`)}else{if(p)return void(0,o.H)(s.v73,"Fetch NativeAd failed",`Unable to retrieve backfill list id: ${r} and SAM response`);(0,o.H)(s.v73,"Unable to retrieve backfill list",`Backfill list id: ${r}`)}const S=this.mapSAMPlacements(l);return t.pageViewId=l&&l.metaData&&l.metaData.pageViewId,t.placements.forEach((r=>{var u,l,p;const b=r.region+r.regionIndex,T=S.get(b);let $;var A;null!==(u=this.adServiceConfig)&&void 0!==u&&u.enableBuyDirectAd&&"infopane"==r.region&&this.buyDirectItems&&($=null===(A=t.buyDirectAdIndex)||void 0===A?void 0:A.findIndex((t=>t===r.regionIndex)));if(null!==(l=this.adServiceConfig)&&void 0!==l&&l.enableBuyDirectAd&&"infopane"==r.region&&this.buyDirectItems&&"number"==typeof $&&-1!=$&&null!==(p=this.buyDirectItems)&&void 0!==p&&p[$]){var I;const t=this.buyDirectItems[$],e={title:t.title,destinationUrl:t.url+`&PageId=${v.M0.getRequestId()}&ct=ShoppingNTPInfopane`,imageUrl:this.updateImageUrl(r,t.imageUrl),providerName:(null===(I=t.provider)||void 0===I?void 0:I.name)||"Buy with Microsoft"};r.items.push(e),r.privacyUrl=t.privacyUrl,r.isBackfill=!1}else if(!m&&e[this.leadgenIndex%e.length]){const t=e[this.leadgenIndex%e.length];this.leadgenIndex++;const n={title:t.title,destinationUrl:t.url,imageUrl:t.imageUrl,providerName:t.sourceName,noAdLabel:t.noAdLabel};r.items.push(n),this.updateTemplate(r),y(i.leadgen,b)}else if(T&&T.items&&T.items.length>0){T.items.forEach((t=>{const e={title:t.title,description:t.description,destinationUrl:t.url,imageUrl:t.imageUrl,providerName:t.sourceName,adChoiceIconUrl:t.adChoicesUrl,originalImageHeight:t.originalImageHeight,originalImageWidth:t.originalImageWidth,imageHeight:t.imageHeight,imageWidth:t.imageWidth,clickBeacons:t.clickBeacons,uniqueId:t.uniqueId,feedbackUrl:g?T.feedbackUrl:(0,k.pP)(t.clickBeacons??(null==t?void 0:t.ClickBeacons),null==t?void 0:t.feedback_url),verificationParameters:t.verificationParameters,cashback:t.cashback,noAdLabel:t.noAdLabel,privacyUrl:T.privacyUrl,eventtrackers:null==t?void 0:t.eventtrackers,advertiserDomain:void 0};(0,k.x4)(e,t.assets);const n=(0,C.pd)(t.adSelectionCriteria,t.adSelectionReason);var i;(n&&(e.advertiserDomain=n),w)&&(e.originalImageHeight=t.originalImageHeight,e.originalImageWidth=t.originalImageWidth,e.providerId=T.providerId,e.isProductAd=Boolean(null===(i=e.assets)||void 0===i?void 0:i.price),e.images=t.images);r.items.push(e)})),r.privacyUrl=T.privacyUrl,r.adServedUrls=T.adServedUrls,r.jsTrackerUrls=T.jsTrackerUrls,r.visibilityUrls=T.visibilityUrls,r.beaconsJson=T.beaconsJson,r.bingTrackerUrls=T.bingTrackerUrls,r.beaconsSupportHttpPOST=T.beaconsSupportHttpPOST,r.geminiViewabilityDataJson=T.geminiViewabilityDataJson,r.providerId=T.providerId,r.crids=T.crids,r.iasId=(0,U.p)(),this.updateTemplate(r),this.beaconService.sendBeaconForAdServed({beaconsJson:r.beaconsJson,beaconsSupportHttpPOST:r.beaconsSupportHttpPOST}),this.beaconService.fireJSTrackers(T.beaconsJson,t.shouldUseWindowVisibilityTrackingForXandr);const e=!0===x.Al.IsPrerender?performance.now()-(0,a.TZ)(c.DB):performance.now();(0,a.su)("TTNativeAd.Serve",e),y(i.success,b)}else if(h)f?y(i.collapse,b):((0,o.H)(s.m9g,"Unable to backfill invalid sam placement",`Placement key: ${b}`),this.updateTemplate(r),y(i.fail,b));else{const t=this.backfillIndex++%n.length,e=n[t],o={title:e.title,destinationUrl:e.url,imageUrl:this.updateImageUrl(r,e.imageUrl),providerName:e.provider?e.provider.name:"",isCMSAd:!0};r.items.push(o),r.privacyUrl=e.privacyUrl,this.updateTemplate(r),y(i.cmsBackfill,b)}r.isBackfill&&(r.adAuctionType=d._.cmsAd)})),t}updateTemplate(t){var e;(null===(e=t.items)||void 0===e?void 0:e.length)>0&&this.templateService.updateTemplate(t,this.adTemplateConfig)}addToCallbackList(t){t&&t.length>0&&this.callbackList.push(...t)}async fetchSamAds(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0;if(!t||!t.placements||0===t.placements.length)return void(0,o.H)(s.Zmj,"Fetch NativeAd failed","No placements found in the request");if(t.locale||(t.locale=x.Al.Locale),"ru-xl"===t.locale&&(t.locale="en-xl"),!t.locale)return void(0,o.H)(s.Zmj,"Fetch NativeAd failed",`No locale found, headData.Locale: ${x.Al.Locale}, adRequest.locale: ${t.locale}`);this.addToCallbackList(r),this.locale=t.locale;let l=g.jG.IsChinaCompliance?"https://srtb.msn.cn/":null;!g.jG.IsChinaCompliance&&x.Al.CurrentFlightSet.has("prg-ads-ipv6dmn")&&(l="https://srtb-ax.msn.com/");const{enableBlockingQueue:f}=this.adTemplateConfig||{},h=()=>this.samService.fetchSAMAds(t,i,!1,l,a,null,c,u);let p;p=f?z.j.enqueueTask((()=>h().then(this.updateCridsInDedupeManager.bind(this)))):h();const m=this.buildAdResponse(t),v=await p;var w;(null!==x.Al&&void 0!==x.Al&&null!==(e=x.Al.CurrentFlightSet)&&void 0!==e&&e.has("prg-ads-dupe-hit")&&G(t,v),null!==x.Al&&void 0!==x.Al&&null!==(n=x.Al.CurrentFlightSet)&&void 0!==n&&n.has("prg-ads-deref-rf")||!f)||(null==v||null===(w=v.placements)||void 0===w||w.forEach((t=>{t.adAuctionType=d._.clientAuctionAd})));return{placeHolderResponse:m,samResponse:v}}async fetchCmsAds(t,e,n){if(!t||!t.placements||0===t.placements.length)return void(0,o.H)(s.Zmj,"Fetch NativeAd failed","No placements found in the request");let i=x.Al.Locale;if("ru-xl"===i&&(i="en-xl"),!this.cmsNativeAdsItemsMap.has(e)){const t=await this.cmsService.getCMSList(e,i);t&&t.id&&t.items&&this.cmsNativeAdsItemsMap.set(e,t.items)}const r=this.buildAdResponse(t),a=this.cmsNativeAdsItemsMap.has(e)?this.cmsNativeAdsItemsMap.get(e):[];for(const t of r.placements){const e=n.shift();let r,o;if(e){let t=parseInt(e,10);if(t)t=Math.max(t-1,0),t=t<a.length?t:t%a.length,r=a[t];else{if(!this.cmsNativeAdsItemsMap.has(e)){const t=await this.cmsService.getCMSList(e,i);t&&t.id&&t.items&&this.cmsNativeAdsItemsMap.set(e,t.items)}const t=this.cmsNativeAdsItemsMap.has(e)?this.cmsNativeAdsItemsMap.get(e):[];r=(0,T.Z)(t)[0],r||(r=a[this.cmsAdsCounter%a.length])}}else r=a[this.cmsAdsCounter%a.length];r&&(o={title:r.title,destinationUrl:r.url,imageUrl:this.updateImageUrl(t,r.imageUrl),providerName:r.provider?r.provider.name:""},t.items.push(o),t.privacyUrl=r.privacyUrl),this.updateTemplate(t),this.cmsAdsCounter++}return r}updateSamAdResponse(t,e,n){const i=this.cmsItems,r=this.mapSAMPlacements(e),c=!i||0==i.length;return t.pageViewId=e&&e.metaData&&e.metaData.pageViewId,t.placements.forEach((e=>{var l,h,m,g,w;null!==(l=this.adServiceConfig)&&void 0!==l&&l.enableAdsWaterfall&&"river"===e.region&&e.regionIndex===(null===(h=this.adServiceConfig)||void 0===h?void 0:h.tallAdsIndex)&&(e.region="rivert");const y=e.region+e.regionIndex,b=r.get(y);let S;var T;null!==(m=this.adServiceConfig)&&void 0!==m&&m.enableBuyDirectAd&&"infopane"==e.region&&this.buyDirectItems&&(S=null===(T=t.buyDirectAdIndex)||void 0===T?void 0:T.findIndex((t=>t===e.regionIndex)));if(null!==(g=this.adServiceConfig)&&void 0!==g&&g.enableBuyDirectAd&&"infopane"==e.region&&this.buyDirectItems&&"number"==typeof S&&-1!=S&&null!==(w=this.buyDirectItems)&&void 0!==w&&w[S]){var $;const t=this.buyDirectItems[S],n={title:t.title,destinationUrl:t.url+`&PageId=${v.M0.getRequestId()}&ct=ShoppingNTPInfopane`,imageUrl:this.updateImageUrl(e,t.imageUrl),providerName:(null===($=t.provider)||void 0===$?void 0:$.name)||"Buy with Microsoft"};e.items.push(n),e.privacyUrl=t.privacyUrl,e.isBackfill=!1}else if(b&&b.items&&b.items.length>0){var A;b.items.forEach((t=>{var n,i,r,a;const c={title:t.title,adSelectionReason:t.adSelectionReason,description:t.description,destinationUrl:t.url,providerName:t.sourceName,adChoiceIconUrl:t.adChoicesUrl,imageUrl:t.imageUrl,imageHeight:t.imageHeight,imageWidth:t.imageWidth,images:t.images,clickBeacons:t.clickBeacons,uniqueId:t.uniqueId,beaconsJson:t.beaconsJson,feedbackUrl:(0,k.pP)(t.clickBeacons??(null==t?void 0:t.ClickBeacons),null==t?void 0:t.feedback_url),originalImageWidth:t.originalImageWidth,originalImageHeight:t.originalImageHeight,verificationParameters:t.verificationParameters,ext:t.ext,adScenarioType:t.adScenarioType,cashback:t.cashback,noAdLabel:t.noAdLabel,eventtrackers:null==t?void 0:t.eventtrackers},u=null==b||null===(n=b.msft)||void 0===n?void 0:n.msn_kv,l=(0,j._)(u);if(null!==(i=this.adServiceConfig)&&void 0!==i&&i.readAdScenarioTypeFromMsnKv){const t=!!c.adScenarioType,e=!(null==l||!l.adScenarioType);if(t&&!e&&(0,o.H)(s.lYA,"adScenarioType is missing in msn_kv","",{adScenarioType:c.adScenarioType,samPlacement:JSON.stringify(b),csr:(0,p.N)()}),l){const t=l.adScenarioType;t&&(c.adScenarioType=t)}}null!=l&&l.dts&&(c.dts=l.dts),J.updateAssetVideoField(c,t.assets),(0,k.x4)(c,t.assets,null===(r=this.adServiceConfig)||void 0===r?void 0:r.passVAXandrMigrationSignals);const d=(0,C.pd)(t.adSelectionCriteria,t.adSelectionReason);var f;(d&&(c.advertiserDomain=d),this.adTemplateConfig.enableVAPhase2&&this.adTemplateConfig.supportedAdScenarioTypes.includes(t.adScenarioType))&&(v.M0.addOrUpdateTmplProperty("va_v2_response","1"),(0,H.k)(c,t.assets,null===(f=this.adServiceConfig)||void 0===f?void 0:f.passVAXandrMigrationSignals));(0,B.$)(null===(a=this.adServiceConfig)||void 0===a?void 0:a.enableNativeAdXandr)&&(c.feedbackUrl=b.feedbackUrl),e.items.push(c)}));const t=(0,L.dQ)(e,0);var I;if(e.videoViewabilityData=t?t.ViewabilityProps:null,e.privacyUrl=b.privacyUrl,e.adServedUrls=b.adServedUrls,e.jsTrackerUrls=b.jsTrackerUrls,e.visibilityUrls=b.visibilityUrls,e.beaconsJson=b.beaconsJson,e.bingTrackerUrls=b.bingTrackerUrls,e.beaconsSupportHttpPOST=b.beaconsSupportHttpPOST,e.geminiViewabilityDataJson=b.geminiViewabilityDataJson,e.providerId=b.providerId,e.crids=b.crids,e.adAuctionType=b.adAuctionType,null!==(A=this.adServiceConfig)&&void 0!==A&&A.enableNativeAdDTS)e.dtsTemplateId=null==b||null===(I=b.msft)||void 0===I?void 0:I.template_id;const i=(0,f.v0)(x.Al.IsPrerender&&!n);n?((0,a.su)("TTNativeAd.Background.Serve",i),(0,V.lr)().then((()=>{const t=(0,u.Ou)().TTPR;t?(0,a.su)("TTNativeAd.Serve",t):(0,o.H)(s.iVH,"Could not find TTPR to set TimeToServeAd","",{shouldSampleErrorsForTreatement1:!0})}))):(0,a.su)("TTNativeAd.Serve",i)}else if(c)this.handleCmsStandyPlacement(e);else{const t=this.backfillIndex++%i.length,n=i[t],r={title:n.title,destinationUrl:n.url,imageUrl:this.updateImageUrl(e,n.imageUrl),providerName:n.provider?n.provider.name:""};e.items.push(r),e.privacyUrl=n.privacyUrl,e.isBackfill=!0,e.adAuctionType=d._.cmsAd}this.updateTemplate(e)})),t}handleCmsStandyPlacement(t){if(this.cmsItems){const e=this.cmsItems;for(const n of this.callbackFnPlacementList){const i=e[this.backfillIndex++%e.length];if(i){const e={title:i.title,destinationUrl:i.url,imageUrl:this.updateImageUrl(t,i.imageUrl),providerName:i.provider?i.provider.name:""};n.items.push(e),n.privacyUrl=i.privacyUrl,n.isBackfill=!0,n.adAuctionType=d._.cmsAd,this.updateTemplate(n)}}this.callbackList.forEach((t=>{t(this)})),this.callbackList=[],this.callbackFnPlacementList=[]}else t&&this.callbackFnPlacementList.push(t)}loadCmsBackFillList(){let t=this.locale?this.locale:x.Al.Locale;"ru-xl"===t&&(t="en-xl");const e=l.Wi[t];if(e&&!this.cmsItems&&this.cmsService.getCMSList(e,t).then((t=>{t?(this.cmsItems=t.items,this.handleCmsStandyPlacement()):++this.cmsRetryCount<10&&this.loadCmsBackFillList()})),this.adServiceConfig.enableBuyDirectAd){const t=this.locale?this.locale:x.Al.Locale;let e="AA13DgW5";"zh-cn"==t&&(e="BB1m89wA"),this.cmsService.getCMSList(e,t).then((t=>{t&&(this.buyDirectItems=t.items)}))}}async tryGetCmsList(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.locale?this.locale:x.Al.Locale;"ru-xl"===e&&(e="en-xl");const n=l.Wi[e];if(!n||!e)return;const i=await this.cmsService.getCMSList(n,e);return i||(t<5?await this.tryGetCmsList(++t):void 0)}mapSAMPlacements(t){const e=new Map;return t&&t.placements&&t.placements.forEach((t=>{t.region&&t.index&&e.set(t.region+t.index,t)})),e}buildAdResponse(t){var e,n;const i=[];t.placements.forEach((t=>{t.region&&t.indices&&t.indices.length&&t.indices.forEach((e=>{const n={region:t.region,regionIndex:e,imageHeight:t.img&&t.img.h&&t.img.h.toString(),imageWidth:t.img&&t.img.w&&t.img.w.toString(),items:[]};i.push(n)}))}));const r=g.jG.LocaleDisplayLanguageString;return{placements:i,adLabelText:(0,k.En)(r,null===(e=this.adServiceConfig)||void 0===e?void 0:e.overrideAdLabelText,null===(n=this.adServiceConfig)||void 0===n?void 0:n.enableAdSponsoredText),isGreyAdsLabelEnabled:l.Eg.includes(t.locale),shouldUseWindowVisibilityTrackingForXandr:Boolean(t.shouldUseWindowVisibilityTrackingForXandr),privacyUrl:l.Lr.PrivacyUrl}}async loadBuyDirectAd(){const t=this.locale?this.locale:x.Al.Locale;if(!this.buyDirectItems){let e="AA13DgW5";"zh-cn"==t&&(e="BB1m89wA");const n=await this.cmsService.getCMSList(e,t);n&&(this.buyDirectItems=n.items)}}updateImageUrl(t,e){return t&&t.imageWidth&&t.imageHeight&&e?e.replace("w=624","w="+t.imageWidth).replace("h=350","h="+t.imageHeight):e}static updateAssetVideoField(t,e){e&&e.length>0&&e.forEach((e=>{const n=(0,$.Z)(e,"video.vasttag");n&&(t.video=n)}))}getAdTagStyleByLocale(t){var e,n;const i=g.jG.LocaleDisplayLanguageString;let r=t??x.Al.Locale;return"ru-xl"===r&&(r="en-xl"),{adLabelText:(0,k.En)(i,null===(e=this.adServiceConfig)||void 0===e?void 0:e.overrideAdLabelText,null===(n=this.adServiceConfig)||void 0===n?void 0:n.enableAdSponsoredText),isGreyAdsLabelEnabled:l.Eg.includes(r)}}}(0,r.gn)([(0,W.Et)(s.rEw,"fetchNativeAds")],J.prototype,"fetchNativeAds",null),(0,r.gn)([(0,W.Et)(s.rEw,"updateAdResponse")],J.prototype,"updateAdResponse",null),(0,r.gn)([(0,W.Et)(s.rEw,"updateTemplate")],J.prototype,"updateTemplate",null),(0,r.gn)([(0,W.Et)(s.rEw,"fetchSamAds")],J.prototype,"fetchSamAds",null),(0,r.gn)([(0,W.Et)(s.rEw,"fetchCmsAds")],J.prototype,"fetchCmsAds",null),(0,r.gn)([(0,W.Et)(s.rEw,"updateSamAdResponse")],J.prototype,"updateSamAdResponse",null),(0,r.gn)([(0,W.Et)(s.rEw,"handleCmsStandyPlacement")],J.prototype,"handleCmsStandyPlacement",null),(0,r.gn)([(0,W.Et)(s.rEw,"loadCmsBackFillList")],J.prototype,"loadCmsBackFillList",null),(0,r.gn)([(0,W.Et)(s.rEw,"tryGetCmsList")],J.prototype,"tryGetCmsList",null),(0,r.gn)([(0,W.Et)(s.rEw,"mapSAMPlacements")],J.prototype,"mapSAMPlacements",null),(0,r.gn)([(0,W.Et)(s.rEw,"buildAdResponse")],J.prototype,"buildAdResponse",null),(0,r.gn)([(0,W.Et)(s.rEw,"updateImageUrl")],J.prototype,"updateImageUrl",null),(0,r.gn)([(0,W.Et)(s.rEw,"getAdTagStyleByLocale")],J.prototype,"getAdTagStyleByLocale",null),(0,r.gn)([(0,W.Et)(s.rEw,"updateAssetVideoField")],J,"updateAssetVideoField",null);const K=(0,W.Et)(s.Evv,"getNativeAdService")(((t,e)=>{const n=m.Gq.get("__NativeAdServiceInstance__",(()=>new J(t||{},e)));return n.resetNativeAdService(),n}))},92195:function(t,e,n){n.d(e,{B:function(){return q}});var i,r,o=n(37955),s=n(77137),a=n(16715),c=n(13218),u=n(5884),l=n(33779),d=n(5302),f=n(86117),h=n(90631),p=n(38300),m=n(523),g=n(22011),v=n(77016),w=n(43579),y=n(21215),b=n(22691),S=n(33018),x=n(44132),C=n(44018),k=n(16701),T=n(6360),$=n(59002),A=n(64411),I=n(57167);!function(t){t[t.DTS_2u_r100_1=1]="DTS_2u_r100_1",t[t.DTS_2u_r150_2=2]="DTS_2u_r150_2",t[t.DTS_2u_r191_3=3]="DTS_2u_r191_3",t[t.DTS_2u_r201_4=4]="DTS_2u_r201_4"}(i||(i={})),function(t){t.title_main="title_main",t.img_main="img_main",t.img_logo="img_logo",t.data_callToAction="data_callToAction",t.data_providerName="data_providerName",t.data_price="data_price",t.data_disclaimer="data_disclaimer",t.data_callout_1="data_callout_1",t.data_callout_2="data_callout_2",t.data_callout_3="data_callout_3",t.data_callout_4="data_callout_4",t.data_popupDisclaimer="data_popupDisclaimer",t.data_reviewRatingItem="data_reviewRatingItem",t.data_workingHoursItem="data_workingHoursItem"}(r||(r={}));var P=n(13578);function _(t,e,n){n&&("object"==typeof n&&(0,P.Z)(n)||(t[e]=n))}function M(t){const e=[],n={},i={},r={},o={},s={value:1};if(!function(t,e,n,i,r){if(!E(t,"titleAssets"))return!1;if(!t)return!0;for(const o in t){const s=t[o],a=r.value++;i[o]=a;const c={required:s.required?1:0,id:a,title:{len:s.length}};_(n,a,s.lineLen),e.push(c)}return!0}(t.titleAssets,e,i,o,s))return null;if(!function(t,e,n,i,r){if(!E(t,"imageAssets"))return!1;if(!t)return!0;for(const o in t){const s=t[o],a=r.value++;i[o]=a;const c={required:s.required?1:0,id:a,img:{w:s.width,h:s.height,type:s.typeId}};_(n,a,R(s)),e.push(c)}return!0}(t.imageAssets,e,r,o,s))return null;if(!function(t,e,n,i,r){if(!E(t,"dataAssets"))return!1;if(!t)return!0;for(const o in t){const s=t[o],a=r.value++;i[o]=a;const c={required:s.required?1:0,id:a,data:{type:s.typeId}};_(c.data,"len",s.length),_(n,a,s.lineLen),e.push(c)}return!0}(t.dataAssets,e,i,o,s))return null;const[a,c]=function(t,e){if(!t||0===t.length)return[!0,[]];for(const n of t)for(const t of n.assetKeys)if(!(t in e))return(0,l.H)(d.OEP,`Asset key '${t}' referenced in lineCountConstraints but not found in template assets. Available keys: ${Object.keys(e).join(", ")}`),[!1,[]];const n=t.map((t=>({assetkeys:t.assetKeys.map((t=>e[t])),lclimit:t.lineCountLimit})));return[!0,n]}(t.lineCountConstraints,o);if(!a)return null;_(n,"asset_linelen_map",i),_(n,"img_crop_map",r),_(n,"lc_contraints",c);const u={id:t.templateId,assets:e};return Object.keys(n).length>0&&(u.template_kv=JSON.stringify(n)),u}function R(t){const e={};return _(e,"ratio_filter_tol",t.imageFitRatioTolerance),_(e,"disable_padding",t.imageFitDisablePadding),Object.keys(e).length>0?e:null}function E(t,e){if(!t)return!0;for(const n in t)if(!Object.values(r).includes(n))return(0,l.H)(d.OEP,`Invalid asset key '${n}' in ${e}. Valid keys: ${Object.values(r).join(", ")}`),!1;return!0}var F=n(43499),D=n(95850),O=n(72664),N=n(12031),U=n(4),L=n(61339),B=n(79403);const W=async(t,e,n,i,r,o,a,c)=>{if(r){var u;const t=r.serverTiming&&(null===(u=r.serverTiming[0])||void 0===u?void 0:u.duration);if(t&&a("NAdServerLatency",t),i>-1){const t=(0,B.v0)(e&&!n,r.requestStart),s=t-i;a("NAdInitiateToReq",s>0?s:0),o||c(n?"TTNativeAd.Background.Request":"TTNativeAd.Request",0,t)}a("TTNativeAd.Response",(0,B.v0)(e&&!n,r.responseEnd)),r.isApproximate||c("NAdFetch",r.fetchStart,r.responseEnd),a("NativeAd.ApiDuration",null==r?void 0:r.duration)}else"winWidgets"!==s.jG.AppType&&(0,l.H)(d.iVH,"Unable to find performance entry for RTB request","",{shouldSampleErrorsForTreatement1:!0})};var H=n(91216);var z=n(40322),V=n(93206),j=n(90450);class q{get sourceUrl(){var t;if(this._sourceUrl)return this._sourceUrl;this._sourceUrl=s.jG.HostPage.originalUrl;const e=s.jG.CurrentRequestTargetScope.pageType,n=s.jG.HostPage.verticalKey;if(e&&n&&(null===(t=this.config)||void 0===t||!t.fixAuctionSrcUrl||!this._sourceUrl)){const t=e.toLowerCase();(t.indexOf("dhp")>-1||t.indexOf("ntp")>-1)&&(this._sourceUrl="https://"+s.jG.HostPage.hostName+"/"+n+"/"+e)}return this._sourceUrl}get pageType(){if(this._pageType)return this._pageType;const t=s.jG.CurrentRequestTargetScope.pageType,e=s.jG.CurrentRequestTargetScope.ocid;switch(s.jG.AppType){case"edgeChromium":this._pageType="edgechrntp";break;case"views":if((0,a.wq)()&&["article","gallery","video","videoinf"].includes(t)){const e=(0,C.v)();"article"===t?this._pageType="iOS"===(null==e?void 0:e.platform)?"saiar":"saaar":"gallery"===t?this._pageType="iOS"===(null==e?void 0:e.platform)?"saiga":"saaga":"video"===t?this._pageType="iOS"===(null==e?void 0:e.platform)?"saiwatch":"saawatch":"videoinf"===t&&(this._pageType="iOS"===(null==e?void 0:e.platform)?"saivi":"saavi")}else if("article"===t)this._pageType=this.isWindowsViewsPage(e)?"winar":"webcompar";else if("gallery"===t)this._pageType=this.isWindowsViewsPage(e)?"winga":"webcompga";else if("video"==t||"video-widget"==t&&s.jG.IsChinaCompliance)this._pageType="watch";else{new Set(["topic","source"]).has(t)&&(this._pageType="vlp")}break;case"gaming":case"hub":case"sports":this._pageType="vlp";break;case"windows":location.href.includes("feed/interest/following")?this._pageType="Winweb":this._pageType=t;break;case"winWidgets":return"gallery"===t?"prongga":"prongar";default:this._pageType=t}return this._pageType}constructor(t){this.config=t,this.riverNativeAdCount=0,this.reservedRiverNativeAdCount=0,this.dualWideRiverNativeAdCount=0,this.halfRiverNativeAdCount=0,this.isAdblockerEnabled=!1,this.isXandrMigrationControlFlight=(0,j.S)(),this.beaconService=new A.A,this.cookieService=new F.N,this.ecasession=p.Lr.Ecasession;const e=v._.getInstance().rootReducer;if("edgeChromium"===s.jG.AppType){const t=e.connector(m.RL);var n,i;if(t)if(this.anaheimPageLayout=t.getCurrentState().currentLayout,null!==(n=this.config)&&void 0!==n&&n.sendAdBlockDetectionFromEdge)this.isAdblockerEnabled=(null===(i=t.getCurrentState())||void 0===i||null===(i=i.configData)||void 0===i?void 0:i.isAdblockerEnabled)??!1}this._pageType=null==t?void 0:t.adPageType,(0,b.l)().addSwitchListener(this.onPivotSwitch.bind(this),S.I.Monetization)}validEdgeChromiumPageType(t){return"edgechrntp"===t||"edgechrntpruby"===t}async fetchSAMAds(t){var e,n,i,r;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,g=arguments.length>4?arguments[4]:void 0,v=arguments.length>5?arguments[5]:void 0,b=arguments.length>6?arguments[6]:void 0,S=arguments.length>7?arguments[7]:void 0;if(!t||!t.placements||t.placements.length<1)return void(0,l.H)(d.rmC,"Invalid request to fetch native ads","No placements found in the request");const x=t.pageType||this.pageType;if(!x)return void(0,l.H)(d.rmC,"Invalid request to fetch native ads","No page type found");const C="ru-xl"===t.locale?"en-xl":t.locale,T=null===s.jG||void 0===s.jG||null===(e=s.jG.HostPage)||void 0===e?void 0:e.verticalKey,A=null===s.jG||void 0===s.jG||null===(n=s.jG.CurrentRequestTargetScope)||void 0===n?void 0:n.audienceMode,P=this.riverNativeAdCount,_=this.reservedRiverNativeAdCount,M=this.dualWideRiverNativeAdCount,R=this.halfRiverNativeAdCount,E=z.pg.maskIdentifiers(this.getMuid(t.muid)),F=z.pg.maskIdentifiers(t.anid);this._isSuperAppPage=this.isSuperAppPage(x,t.appName),this._isChannelAppPage=this.isChannelAppPage(x,t.appName),this._isMsnHpMobileAppPage=this.isMsnHpMobileAppPage(x,t.appName);const D=this._isSuperAppPage||this._isChannelAppPage||this._isMsnHpMobileAppPage||!(!c.Al.ClientSettings||!c.Al.ClientSettings.deviceFormFactor||"phone"!==c.Al.ClientSettings.deviceFormFactor),O=this.getImpressionId(),U=!this._isSuperAppPage&&this.cookieService.getBrowserOptoutStatus(),B=!this._isSuperAppPage&&await(0,I.UF)(),W=(0,j.$)(t.enableNativeAdXandr||(null===(i=this.config)||void 0===i?void 0:i.enableNativeAdXandr)),H=await this.buildRequestLevelSignal(t,W);var V;if((this.isXandrMigrationControlFlight||W)&&(k.c.logRequestLevelCount(),W))return this.fetchAdsFromXandrSdk(t,{anid:F,audienceMode:A,browserOptout:U,enableAdTargetingKeywords:null===(V=this.config)||void 0===V?void 0:V.enableAdTargetingKeywords,impressionId:O,isCookieWallPresent:B,isMobile:D,isPrerenderAdBeforeReveal:g,locale:C,muid:E,pageType:x,requestLevelSignal:H,verticalName:T});const q=this.isNotMyFeed(),G=t.partnerId||s.jG.CurrentRequestTargetScope.pageType,{anaheimColLayout:J}=t,K=!!window.__tcfapi;B||this._isSuperAppPage||!a||(this.ecasession=(0,o.ej)(p.yV.TaboolaSessionCookieName)||this.ecasession),void 0===this.isAdBlock&&(this.config&&this.config.sendAdBlockDetection?this.isAdBlock=(0,L.Z)():this.isAdBlock=!1);const Q={adRefreshVariant:t.adRefreshVariant??"",locale:C,rid:O,partnerId:G,content:{sourceUrl:this.sourceUrl,pageType:x,previousReservedRiverNativeAdCount:_,previousRiverDualWideNativeAdCount:M,previousRiverHalfNativeAdCount:R,previousRiverNativeAdCount:P,verticalName:T,anaheimPageLayout:this.anaheimPageLayout,anaheimColLayout:J,isXfeed:q,audienceMode:A},user:{browserOptOut:U,isAdblock:this.isAdBlock,gdpr:K,...E&&{muid:E}},placements:this.getPlacements(t,x),extensions:this.getExtensions(this.lastResponseMetadata,this.ecasession),isCookieWallPresent:B,isPeregrine:!0,device:{isMobile:D}};(0,$.Z)(t.tmax)&&(Q.tmax=t.tmax),(0,$.Z)(t.tmaxbidder)&&(Q.tmaxbidder=t.tmaxbidder);this.config&&this.config.enablePrerenderAdsAuctionFlag&&(0,y.N)()&&(Q.content.prerender=g?1:0);const X=(0,o.ej)(p.il.BCPCookieKey);if("bingHomepage"===s.jG.AppType&&X&&(Q.user.bcp=X),this._isSuperAppPage&&(Q.app={adid:t.adid,anid:t.anid,muid:t.muid,sapphireid:t.sapphireid,version:t.clientVersion,bundle:t.packageName}),(0,y.N)()){var Y,Z,tt,et;if(null!==c.Al&&void 0!==c.Al&&null!==(Y=c.Al.CurrentFlightSet)&&void 0!==Y&&Y.has("prg-ads-dupe-ck"))Q.extensions.impressedCrids=N.k.getDedupeIds(null==t||null===(tt=t.placements[0])||void 0===tt?void 0:tt.region,x);else Q.extensions.impressedCrids=N.k.getDedupeIds(null==t||null===(et=t.placements[0])||void 0===et?void 0:et.region);null!==c.Al&&void 0!==c.Al&&null!==(Z=c.Al.CurrentFlightSet)&&void 0!==Z&&Z.has("prg-ads-dupe-hit")&&(t.impressedCrids=Q.extensions.impressedCrids)}H&&(Q.extensions.msan_kv=H),null!==(r=this.config)&&void 0!==r&&r.enableAdTargetingKeywords&&(Q.keywords=(0,w.F)());const nt=m||p.Lr.SamDomain,it=u?p.Lr.SamOpenRtbEndpoint:p.Lr.SamEndpoint,rt=new URL(it,nt),ot=u?this.createOpenRtbRequest(Q):Q,st=JSON.stringify(ot),at=!0===c.Al.IsPrerender?performance.now()-(0,f.TZ)(h.DB):performance.now();(0,f.su)("NAdInitiate",at),this.stampSamRequestIndices(t.placements);const ct=t.placements.reduce(((t,e)=>t+e.indices.length),0);return this.isXandrMigrationControlFlight&&k.c.logCountForMSX(k.WJ.adRequestedCnt,ct),this.fetchSAMAdsCSR(st,C,E,rt.href,x,ot,g,u,v,b,S,ct)}fetchAdsFromXandrSdk(t,e){var n,i;const r=this.getAnidIfNoCookieWall(e.anid,e.isCookieWallPresent),o=e.isCookieWallPresent?null:this.getAuthCookieName(),a=t.tmaxbidder??t.tmax??0,c=(null===(n=this.config)||void 0===n?void 0:n.auctionTimeoutOverride)??p.il.Timeout,u=this.getMuidIfNoCookieWall(e.muid,e.isCookieWallPresent),l=null===s.jG||void 0===s.jG||null===(i=s.jG.CurrentRequestTargetScope)||void 0===i?void 0:i.ocid,d={anid:r,audienceMode:e.audienceMode,authCookieName:o,bidTimeout:a,browserOptout:e.browserOptout,enableAdTargetingKeywords:e.enableAdTargetingKeywords,fetchTimeout:c,impressedCrids:N.k.getDedupeIds(),isMobile:e.isMobile,isPrerenderAdBeforeReveal:e.isPrerenderAdBeforeReveal,locale:e.locale,muid:u,ocid:l,pageType:e.pageType,request_msan_kv:e.requestLevelSignal,rid:e.impressionId,verticalName:e.verticalName},f=this.getPlacementsForXandr(t);return k.c.logCount(k.vI.adBeforeFetchCnt,f.reduce(((t,e)=>t+e.indices.length),0)),T.R.fetchAds({placements:f},d)}async buildRequestLevelSignal(t,e){var n,i;const r={};return r.isAppTraffic=this._isSuperAppPage,r.enablePageObject=!0,null!==(n=this.config)&&void 0!==n&&n.sendAdBlockDetectionFromEdge&&(r.isAdblockerEnabled=this.isAdblockerEnabled),e&&(r.pageLayout=this.anaheimPageLayout),null!==(i=this.config)&&void 0!==i&&i.passDeviceOS&&await this.getDeviceOSInfo(r),(0,O.c1)(this.config,r,t)}async getDeviceOSInfo(t){const e=await navigator.userAgentData.getHighEntropyValues(["architecture","platform","platformVersion"]),{platformVersion:n,architecture:i,platform:r}=e||{};n&&i&&r||(0,l.H)(d.ZG6,"Fail to retrieve OS info [Request_level_MSAN_KV]",null,{platformDetails:e}),t.device={osv:null==e?void 0:e.platformVersion,arch:null==e?void 0:e.architecture,os:null==e?void 0:e.platform}}stampSamRequestIndices(t){let e="";t.forEach((t=>t.indices.forEach((n=>{e+=`${t.region}-${n}|`})))),x.M0.addOrUpdateTmplString(e)}processAdResponse(t,e,n){if(200!==t.status)return 204===t.status?((0,l.H)(d.jZQ,"Get 204 error from SAMRTB Ajax",`Status: ${t.status}, StatusText: ${t.statusText}, request: ${e}`,{shouldSampleErrorsForTreatement1:!0}),this.isXandrMigrationControlFlight&&k.c.logCountForMSX(k.WJ.adNoBidCnt,n),this.config&&this.config.useEmptyPlacementsForNoContent?{placements:[]}:void 0):((0,l.H)(d.I2B,"Invalid response from SAMRTB Ajax",`Status: ${t.status}, StatusText: ${t.statusText}, request: ${e}`,{shouldSampleErrorsForTreatement1:!0}),void(this.isXandrMigrationControlFlight&&k.c.logCountForMSX(k.WJ.adInvalidResponseCnt,n)));try{const e=JSON.parse(t.response);if(!e)return(0,l.H)(d.K8d,"Invalid json response from SAMRTB",`Status: ${t.status}, Invalid json: ${t.response}`),void(this.isXandrMigrationControlFlight&&k.c.logCountForMSX(k.WJ.adEmptyResponseErrorCnt,n));const i=e.metaData;if(this.processMetaData(i),this.beaconService.fireRequestLevelBeacons(i.requestLevelBeaconUrls),this.isXandrMigrationControlFlight){const t=e.placements.length;k.c.logCountForMSX(k.WJ.adAvailableCnt,t),t<n&&k.c.logCountForMSX(k.WJ.adNoBidCnt,n-t)}return e}catch(e){return(0,l.OO)(e,d.ryt,"Failed to process SAMRTB response",`Status: ${t.status}, json: ${t.response}`),void(this.isXandrMigrationControlFlight&&k.c.logCountForMSX(k.WJ.adResponseFormatErrorCnt,n))}}processOpenRtbAdResponse(t,e){if(200!==e.status)return 204===e.status?((0,l.H)(d.jZQ,"Get 204 error from SAMRTB Ajax",`Status: ${e.status}, StatusText: ${e.statusText}`,{shouldSampleErrorsForTreatement1:!0}),this.config&&this.config.useEmptyPlacementsForNoContent?{placements:[]}:void 0):void(0,l.H)(d.I2B,"Invalid response from SAMRTB Ajax",`Status: ${e.status}, StatusText: ${e.statusText}`,{shouldSampleErrorsForTreatement1:!0});try{const n=JSON.parse(e.response);if(!n)return void(0,l.H)(d.K8d,"Invalid json response from SAMRTB",`Status: ${e.status}, Invalid json: ${e.response}`);const i=this.convertOpenRtbResponseToNativeAdResponse(t,n),r=i.metaData;return this.processMetaData(r),this.beaconService.fireRequestLevelBeacons(r.requestLevelBeaconUrls),i}catch(t){return void(0,l.OO)(t,d.ryt,"Failed to process SAMRTB response",`Status: ${e.status}, json: ${e.response}`)}}createOpenRtbRequest(t){var e;const n=JSON.stringify({native:{assets:[{id:1,img:{type:3}}]}});let i=1;const r=t.placements.flatMap((e=>e.indices.map((r=>({id:(i++).toString(),tagid:`${t.content.pageType}-${e.region}-${r}`,native:{request:n},ext:{msn:{index:r,region:e.region}}}))))),o={url:t.content.sourceUrl,ext:{locale:t.locale,msn:{pageType:t.content.pageType,verticalName:t.content.verticalName,anaheimPageLayout:t.content.anaheimPageLayout,isXfeed:t.content.isXfeed,audienceMode:t.content.audienceMode,isPeregrine:t.isPeregrine,previousReservedRiverNativeAdCount:t.content.previousReservedRiverNativeAdCount,previousRiverDualWideNativeAdCount:t.content.previousRiverDualWideNativeAdCount,previousRiverHalfNativeAdCount:t.content.previousRiverHalfNativeAdCount,previousRiverNativeAdCount:t.content.previousRiverNativeAdCount,partnerId:t.partnerId}}},s={id:p.Lr.PublisherId},a={id:(0,H.p)(),imp:r,user:{dnt:t.user.browserOptOut?1:0,ext:{anid:"",muid:null===(e=t.user)||void 0===e?void 0:e.muid,msn:{isCookieWallPresent:t.isCookieWallPresent,bcp:t.user.bcp}}},device:{devicetype:t.device.isMobile?1:2,ext:{isAdBlock:t.user.isAdblock}},ext:{sessionId:t.rid,admConfiguration:{useAdmObject:!0,useMultipleAdms:!0,maxAdmCount:999},msn:{adRefreshVariant:t.adRefreshVariant,metadata:t.extensions}}};return this._isSuperAppPage?a.app={id:p.Lr.AppId,bundle:t.app.bundle,ver:t.app.version,content:o,publisher:s,ext:{msn:{adid:t.app.adid,sapphireId:t.app.sapphireid}}}:a.site={content:o,publisher:s},a}createSamRtbXmlHttpRequest(t,e,n){var i;const r=new XMLHttpRequest;r.open(p.il.Method,n,!0),r.withCredentials=!0,r.timeout=this.config&&this.config.auctionTimeoutOverride?this.config.auctionTimeoutOverride:p.il.Timeout,r.setRequestHeader(p.il.ContentTypeKey,p.il.ContentType),null!==(i=c.Al.CurrentFlightSet)&&void 0!==i&&i.has(g.$e)||r.setRequestHeader(p.il.FlightIdKey,c.Al.CurrentFlights),r.setRequestHeader(p.il.AdsNumberLineKey,c.Al.AdsNumberLines),r.setRequestHeader(p.il.CacheControlKey,p.il.CacheControl),r.setRequestHeader(p.il.MarketKey,t);const o=(0,V.W)(e);o&&r.setRequestHeader(p.il.ClientIdKey,o);const s=this.getAuthCookieName();return s&&r.setRequestHeader(p.il.AuthCookieNameKey,s),r}async fetchSAMAdsCSR(t,e,n,i,r,o,s,a,u,h,p,m){if(h&&!a&&p){const e=await h.tryReadCache(t,c.Al.CurrentFlights,i,s);if(e){this.isXandrMigrationControlFlight&&k.c.logCountForMSX(k.WJ.adReturnedFromCacheCnt,m);try{return this.processAdResponse(await(async t=>({status:t.status,statusText:t.statusText,response:await t.text()}))(e),t,m)}catch(t){(0,l.OO)(t,d.ryt,"Failed to read cached response from SAMRTB call",`pageType: ${r}`)}}}return new Promise((p=>{try{const g=this.createSamRtbXmlHttpRequest(e,n,i);g.onload=()=>{!async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=performance.getEntriesByName&&performance.getEntriesByName(t)&&performance.getEntriesByName(t)[0],r=(0,f.O0)("NAdInitiate");W(0,e,n,r,i,!1,((t,e)=>{(0,f.su)(t,e)}),((t,e,n)=>{(0,f.O_)(t,e,n)}))}(i,c.Al.IsPrerender,s),a?p(this.processOpenRtbAdResponse(o,g)):(h&&200===g.status&&requestIdleCallback((()=>h.writeCache((t=>{const e={};return t.getAllResponseHeaders().split("\n").forEach((t=>{const[n,i]=t.split(": ");n&&i&&(e[n]=i)})),new Response(t.responseText,{status:t.status,statusText:t.statusText,headers:new Headers(e)})})(g),t,c.Al.CurrentFlights,i,s))),p(this.processAdResponse(g,t,m)))},g.ontimeout=()=>{(0,l.H)(d.e6B,"Timeout calling SAMRTB Ajax",`pageType: ${r}, status: ${g.status}, StatusText: ${g.statusText}, StartTime: ${v}, EndTime: ${(new Date).toISOString()}, url: ${i}`,{shouldSampleErrorsForTreatement1:!0}),this.isXandrMigrationControlFlight&&(k.c.logRequestLevelTimeoutCount(),k.c.logCountForMSX(k.WJ.adTimeoutCnt,m)),p(void 0)},g.onerror=()=>{(0,l.H)(d.I2B,"Error calling SAMRTB Ajax",`pageType: ${r}, status: ${g.status}, StatusText: ${g.statusText}, StartTime: ${v}, EndTime: ${(new Date).toISOString()}, url: ${i}`,{shouldSampleErrorsForTreatement1:!0}),this.isXandrMigrationControlFlight&&k.c.logCountForMSX(k.WJ.adErrorCnt,m),p(void 0)};const v=(new Date).toISOString();g.send(t),u&&u()}catch(t){(0,l.OO)(t,d.ryt,"Failed to get response from SAMRTB call",`pageType: ${r}, url: ${i}`),p(void 0)}}))}convertOpenRtbResponseToNativeAdResponse(t,e){var n,i;const r=(null===(n=e.seatbid)||void 0===n||null===(n=n.flatMap((t=>t.bid)))||void 0===n?void 0:n.filter((t=>t.ext.admObjects.length>0)))??[],o=new Map;t.imp.forEach((t=>o.set(t.id,t)));return{placements:r.map((t=>{const e=t.ext.admObjects[0].native.ext.msn.mappedRegion,n=t.ext.admObjects.flatMap((t=>t.native.eventtrackers)),{geminiViewabilityDataJson:i,beaconsSupportHttpPOST:r}=t.ext.admObjects[0].native.ext.msn,s=t.ext.admObjects[0].native.privacy,a=[],c=[],u=[],l=[];null==n||n.forEach((t=>{var e;null!==(e=t.ext)&&void 0!==e&&null!==(e=e.msn)&&void 0!==e&&e.isBingTracker&&2==t.event?l.push(t.url):2==t.method?u.push(t.url):1==t.event&&1==t.method?a.push(t.url):2==t.event&&1==t.method&&c.push(t.url)}));const d=t.ext.admObjects.flatMap((t=>t.native.link.clicktrackers)),f=t.ext.admObjects[0].native.ext.msn.fireEncodedBeacons,h=JSON.stringify({tvb:c,trb:a,tcb:d,tjb:u,p:t.ext.bidderId,e:f}),p=t.ext.admObjects.map((t=>{var e;const n=t.native,i={title:null,adSelectionReason:n.ext.msn.adSelectionReason,description:null,url:n.link.url,sourceName:null,adChoicesUrl:n.ext.adChoicesUrl,imageUrl:null,imageHeight:null,imageWidth:null,images:null,clickBeacons:null,uniqueId:n.ext.msn.uniqueId,beaconsJson:null,originalImageWidth:null,originalImageHeight:null,verificationParameters:n.ext.msn.verificationParameters,ext:n.ext.msn.ext,assets:[],eventtrackers:null==n||null===(e=n.ext)||void 0===e||null===(e=e.msn)||void 0===e?void 0:e.eventtrackers};return i.clickBeacons=JSON.stringify({tcb:n.link.clicktrackers}),t.native.assets.forEach((t=>{if(t.ext.msn.isRtbAsset)t.img?i.assets.push({w:t.img.w,h:t.img.h,url:t.img.url,alt:t.img.ext.alt,ext:t.img.ext.msn}):i.assets.push(t);else if(t.data){const e=t.data.value;switch(t.data.type){case 1:i.sourceName=e;break;case 2:i.description=e}}else if(t.img){const{url:e,w:n,h:r}=t.img;switch(t.img.type){case 3:i.imageUrl=e,i.imageWidth=n,i.imageHeight=r,i.originalImageHeight=t.img.ext.msn.originalImageHeight,i.originalImageWidth=t.img.ext.msn.originalImageWidth;break;case 600:i.images||(i.images=[]),i.images.push({url:e,alt:t.img.ext.alt,ext:t.img.ext.msn})}}else null!=t.title&&(i.title=t.title.text)})),i})),m=o.get(t.impid);return{items:p,privacyUrl:s,adServedUrls:a,jsTrackerUrls:u,visibilityUrls:c,beaconsJson:h,bingTrackerUrls:l,beaconsSupportHttpPOST:r,geminiViewabilityDataJson:i,region:e,index:m.ext.msn.index}})),metaData:null===(i=e.ext)||void 0===i||null===(i=i.msn)||void 0===i?void 0:i.metadata}}updatePlacementStrictIndices(t,e){U.VR.includes(t.region)&&(e.isStrictIndices=!0),void 0!==t.isStrictIndices&&(e.isStrictIndices=t.isStrictIndices)}updateRequestedPlacementsInfo(t){const e=t.region.toLocaleLowerCase();e===p.Lr.RiverRegion?this.riverNativeAdCount+=t.indices.length:e===p.Lr.ReservedRiver?this.reservedRiverNativeAdCount+=t.indices.length:e===p.Lr.RiverDoubleWide?this.dualWideRiverNativeAdCount+=t.indices.length:e!==p.Lr.RiverHalf&&e!==p.Lr.RiverHalfTextOnly||(this.halfRiverNativeAdCount+=t.indices.length)}getPlacementsForXandr(t){const e=[];return t.placements.forEach((n=>{if(n.region&&n.indices&&n.indices.length){const{adContainerIds:i,indices:r,img:o,assets:s,region:a}=n,c={region:a,indices:r,img:o,adContainerIds:i,assets:s};c.tag_msan_kvs=(0,D.JV)(t,n,this.config),e.push(c)}})),e}getPlacements(t,e){const n=[];return t.placements.forEach((i=>{if(i.region&&i.indices&&i.indices.length){var r,o,s,a;const{assets:c,indices:u,img:f,extensions:h}=i;let m=i.region;(null===(r=this.config)||void 0===r||null===(r=r.adPlacementMapper)||void 0===r?void 0:r.some((t=>t.mappedRegion===i.region)))||(m=this.validEdgeChromiumPageType(e)&&p.d5[i.region]||i.region);const g=f?{assets:c,region:m,indices:u,img:f}:{assets:c,region:m,indices:u};if(h&&(g.extensions=h),null!==(o=this.config)&&void 0!==o&&o.enableAdTargetingKeywords&&(g.keywords=(0,w._)({region:m})),this.updatePlacementStrictIndices(i,g),n.push(g),this.updateRequestedPlacementsInfo(i),g.msan_kvs=(0,D.JV)(t,i,this.config),null!==(s=this.config)&&void 0!==s&&s.enableNativeAdDTS&&null!==(a=this.config)&&void 0!==a&&a.nativeAdDTSRequestConfig){const t=function(t,e){var n;if(!e)return[];const i=e.toLowerCase(),r=t[(null===(n=t.regionNameMapping)||void 0===n?void 0:n[i])||i];if(!r)return[];if(!r.templates||0===r.templates.length)return(0,l.H)(d.OEP,`No templates defined for region '${e}'`),[];const o=[];for(const t of r.templates){const e=M(t);if(null===e)return[];o.push(e)}return o}(this.config.nativeAdDTSRequestConfig,i.region);t&&t.length>0&&(g.dtsRequests=[t])}}})),n}processMetaData(t){if(this._isSuperAppPage||this._isChannelAppPage||this._isMsnHpMobileAppPage)return;const e=t&&t.taboola&&t.taboola.sessionId;!this.isCookieWallPresent&&e&&(0,o.sq)(p.yV.TaboolaSessionCookieName,e,.042),this.lastResponseMetadata=this.mergeMetadata(this.lastResponseMetadata,t),this.cookieService.updateMsaOptOutCookie(t)}mergeMetadata(t,e){return t?e?(e.taboola=this.mergePartnerMetadata(t.taboola,e.taboola),e):t:e}mergePartnerMetadata(t,e){return e=e||{},t&&t.sessionId&&!e.sessionId&&(e.sessionId=t.sessionId),e}getImpressionId(){return this.config&&this.config.auctionRidOverride&&s.jG.ActivityIdLowerCaseNoHypens?s.jG.ActivityIdLowerCaseNoHypens:this.lastResponseMetadata&&this.lastResponseMetadata.pageViewId?this.lastResponseMetadata.pageViewId:x.M0.getRequestId()}clearPreviousInfo(){var t;this.riverNativeAdCount=0,this.reservedRiverNativeAdCount=0,this.dualWideRiverNativeAdCount=0,this.halfRiverNativeAdCount=0,null!==(t=this.lastResponseMetadata)&&void 0!==t&&t.pageViewId&&delete this.lastResponseMetadata.pageViewId}getExtensions(t,e){const n={taboola:(t=t||{taboola:{}}).taboola};return n.taboola.sessionId||(n.taboola.sessionId=e),n}getMuid(t){return this.isCookieWallPresent?null:t||(0,V.W)()}getMuidIfNoCookieWall(t,e){return e?null:t||(0,V.W)()}getAnidIfNoCookieWall(t,e){return e?null:t||null}getAuthCookieName(){return!this._isSuperAppPage&&(0,o.ej)(p.yV.AppAnonCookieExist)?z.pg.maskIdentifiers(u.Ji):null}onPivotSwitch(t){if(!t.oldSelection)return;const e=t.newSelection.pivotId;e&&e.toLowerCase()!==p.E7.EditInterestPivotId&&(this.pivotId=e)}isNotMyFeed(){return!!this.pivotId&&this.pivotId.toLowerCase()!==p.E7.MyFeedPivotId&&this.pivotId.toLowerCase()!==p.E7.StripeMyFeedPivotId}isWindowsViewsPage(t){return!!t&&("windirect"===(t=t.toLowerCase())||t.startsWith("winp"))}isSuperAppPage(t,e){return!!(t&&["saa","sai","mmx","mobilefeededge"].includes(t.toLowerCase())&&["SuperAppHP","SuperAppViews"].includes(e))}isChannelAppPage(t,e){return!(!t||!["outlookfeed"].includes(t.toLowerCase())||"Channel"!==e)}isMsnHpMobileAppPage(t,e){return!(!t||!["mobilefeed"].includes(t.toLowerCase())||"prime_mobile"!==e)}}},12031:function(t,e,n){n.d(e,{k:function(){return a}});var i=n(13218),r=n(33779),o=n(5302);class s{constructor(){this.dedupeIdsAdLevel=[],this.cacheSize=0}get size(){return this.cacheSize}setCacheSize(t,e){for(this.cacheSize=t,this.excludedRegions=e;this.dedupeIdsAdLevel.length>t;)this.dedupeIdsAdLevel.shift()}clear(){this.dedupeIdsAdLevel=[]}addToAdLevelCache(t){const e=this.dedupeIdsAdLevel.findIndex((e=>e.length===t.length&&e.every(((e,n)=>e===t[n]))));e>-1?(this.dedupeIdsAdLevel.splice(e,1),this.dedupeIdsAdLevel.push(t)):(this.dedupeIdsAdLevel.length===this.cacheSize&&this.dedupeIdsAdLevel.shift(),this.dedupeIdsAdLevel.push(t))}addDedupeIds(t,e){var n;!this.cacheSize||!t||0==t.length||e&&null!=this&&null!==(n=this.excludedRegions)&&void 0!==n&&n.includes(e)||this.addToAdLevelCache(t)}getDedupeIds(t){var e,n;if(t&&null!==(e=this.excludedRegions)&&void 0!==e&&e.includes(t))return[];if(null!==i.Al&&void 0!==i.Al&&null!==(n=i.Al.CurrentFlightSet)&&void 0!==n&&n.has("prg-ads-dupe-hit")){const t=this.dedupeIdsAdLevel.flat();return Array.from(new Set(t))}return this.dedupeIdsAdLevel.flat()}}const a=new class{constructor(){this.prefixOverride=[],this.overrideCaches=new Map,this.defaultCache=new s}initializeCache(t,e,n){this.defaultCache.setCacheSize(t,e),this.prefixOverride=n??[],this.overrideCaches.clear();for(const t of this.prefixOverride){const e=new s;e.setCacheSize(t.dedupeCacheSize,t.excludedRegions),this.overrideCaches.set(t.prefix,e)}}get isInitialized(){return this.defaultCache.size>0||this.overrideCaches.size>0}clearCache(){this.defaultCache.clear();for(const t of this.overrideCaches.values())t.clear();this.overrideCaches.clear(),this.prefixOverride=[]}addDedupeIds(t,e){if(!t||0===t.length)return;if(0===this.prefixOverride.length)return void this.defaultCache.addDedupeIds(t,e);const n=new Map;for(const e of t){const t=e.split("_");if(!t||t.length<2){(0,r.H)(o.M84,"Unexpected dedupe crid prefix","Invalid dedupe crid entry format (too short)",e);continue}t.length>2&&(0,r.H)(o.M84,"Unexpected dedupe crid prefix","Suspicious dedupe crid entry format (too long)",e);const i=t[0];let s=n.get(i);s||(s=[],n.set(i,s)),s.push(e)}for(const[t,i]of n.entries()){const n=this.overrideCaches.get(t);n&&n.addDedupeIds(i,e)}}getDedupeIds(t,e){var n;if(0===this.prefixOverride.length)return null!==i.Al&&void 0!==i.Al&&null!==(n=i.Al.CurrentFlightSet)&&void 0!==n&&n.has("prg-ads-dupe-ck")&&(0,r.H)(o.IUw,"Unexpected dedupe old path been used","Dedupe cache prefix override is empty",{region:t,pageType:e}),this.defaultCache.getDedupeIds(t);const s=[];for(const e of this.overrideCaches.values())s.push(...e.getDedupeIds(t));return s}}},19186:function(t,e,n){n.d(e,{E:function(){return F}});var i=n(33940),r=n(75115),o=n(61932),s=n(5302),a=n(33779),c=n(90351),u=n(25193),l=n(52965),d=n(72554),f=n(13578),h=n(92170),p=n(11935),m=n(4935),g=n(40252),v=n(31011),w=n(90194),y=n(82948),b=n(4),S=n(78931),x=n(94921),C=n(50234),k=n(5804),T=n(88040);class ${constructor(){this.filterConfigs=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,S.Z)([...w.OT,...e],(e=>(0,x.Z)([...y.Sj,e.qualifier],(n=>!n||n(e,t)))))},this.fallbackConfig=t=>b.cE.includes(t.region)?k.X:T.T,this.pickConfigByWeight=t=>{let e=0;(0,p.Z)(t,(t=>{e=e+t.weight||b.KB}));const n=Math.floor(Math.random()*e);let i=0;for(let e=0;e<t.length;++e)if(i+=t[e].weight||b.KB,n<i)return t[e]},this.preProcess=t=>{var e;null!=t&&null!==(e=t.template)&&void 0!==e&&e.enableVAPhase2||((0,p.Z)(t.items,(t=>{t.assets&&(this.calculateDiscount(t.assets),this.filterRatings(t.assets))})),(0,C.dO)(t))},this.postProcess=(t,e)=>{(0,p.Z)([...y.F8,t.modifier],(n=>null==n?void 0:n(t,e)))},this.calculateDiscount=t=>{const e=t.price,n=t.salePrice;if(e&&n){const i=Number(e.replace(/[^0-9.-]+/g,"")),r=Number(n.replace(/[^0-9.-]+/g,""));t.discount=Math.floor((i-r)/i*100)}},this.filterRatings=t=>{t&&t.rating&&(isNaN(parseInt(t.rating))||parseInt(t.rating)<=6)&&(t.rating=void 0)}}selectTemplate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.preProcess(t);const n=this.filterConfigs(t,e),i=n&&n.length>0?this.pickConfigByWeight(n):this.fallbackConfig(t);this.postProcess(i,t)}}var A,I=n(28951),P=n(31404),_=n(59504);class M{}(A=M).concat=(t,e)=>`${t}.${e}`,A.identity=t=>e=>A.concat(t,e),A.boolean=t=>e=>e?A.concat(t,"1"):null;class R{constructor(){this._availableAssets="",this._displayedAssets=""}get availableAssets(){return this._availableAssets}get displayedAssets(){return this._displayedAssets}setAvailableAssets(t){var e;(null!==(e=t.items)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.assets||(0,c.Z)(t,"items[0].ext.adCreative.templateConfig"))&&(this._availableAssets=this.concatAssets(t))}setDisplayedAssets(t){var e;null!==(e=t.items)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.assets&&(this._displayedAssets=this.concatAssets(t))}concatAssets(t){let e="";(0,c.Z)(t,"items[0].assets")&&(e=(0,u.Z)(Object.keys(t.items[0].assets),(t=>{const e=r.aT[t].split("-");return"data"==(null==e?void 0:e[0])?e[1]:"image"==(null==e?void 0:e[0])?`i${e[1]}`:void 0})).join("_"));const n=(0,c.Z)(t,"items[0].ext.adCreative.templateConfig");if(!n)return e;let i="";n&&(i=(0,u.Z)(Object.keys(n),(t=>r.XY[t])).join("_"));return e+(e&&i?"_":"")+i}}(0,i.gn)([(0,P.Et)(s.NMS,"setAvailableAssets")],R.prototype,"setAvailableAssets",null),(0,i.gn)([(0,P.Et)(s.NMS,"setDisplayedAssets")],R.prototype,"setDisplayedAssets",null),(0,i.gn)([(0,P.Et)(s.NMS,"concatAssets")],R.prototype,"concatAssets",null);const E={templateType:M.identity("type"),animatedImage:M.identity("ani"),flipZIndex:M.boolean("fz"),landscapeOverlay:M.boolean("lo")};class F{constructor(){this.hasAnyInlineDecoration=t=>{if(t.items&&0!==t.items.length){if(t.items[0]&&t.items[0].assets){const e=t.items[0].assets;return!!(e.price||e.salePrice||e.installmentPrice||e.rating||e.review||e.priceDrop||e.viewed||e.freeShipping||e.discount)}return!1}return!1}}updateTemplate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,l.Z)(t);try{this.updateTemplateInternal(t,e)}catch(e){(0,a.OO)(e,s.NMS,"Fail to apply template service on placement"),t=void 0,t=(0,l.Z)(n)}}updateTemplateInternal(t,e){var n;if(!t)return;(0,_.Ji)(t),this.decorationBeaconBuilder=new R,this.decorationBeaconBuilder.setAvailableAssets(t);const i=(0,d.Z)({},e,o.j3);if(i.configType){t.template=i;(new $).selectTemplate(t)}else t.template=this.processConfig(t,i),this.resetTempateTypeForInfopaneInMultiAds(t),this.filterAssetByFlight(t),this.updatePlacementImageSize(t),this.updateTemplateTypeForPriceDiscount(t);this.updateBeacon(t),null!=t&&null!==(n=t.template)&&void 0!==n&&n.templateType&&t.template.templateType.endsWith("-c")&&(t.template.templateType="msft-content-card",this.filterAssetByFlight(t))}processConfig(t,e){const n=e;if(this.updateAllowedAssetsAndTemplateForInfopane(t,n),this.updateTemplateInfoForDRInfopane(t,n),"msn-slideshow-card"!==n.templateType&&"msn-pseudo-video-card"!==n.templateType||this.updateSlideshowTemplateType(t,e,n),"msn-pattern-overlay-card"===n.templateType){"225"===this.getItemImageSize(t).height?n.landscapeOverlay=!1:n.templateType="msft-content-card"}return"msft-content-card"===n.templateType&&t.items&&t.items.length>3&&n.adCarousel&&(n.templateType="msn-ad-carousel"),this.updateTemplateInfoForBrandStory(t,n),n}updatePlacementImageSize(t){if("msn-pattern-overlay-card"===t.template.templateType){const e=this.getItemImageSize(t);t.imageWidth=(0,c.Z)(t,"imageWidth",e.width),t.imageHeight=(0,c.Z)(t,"imageHeight",e.height)}}updateBeacon(t){const e=e=>{if(e.includes("srtb.msn.com")){const n=new URL(e);return this.addOrUpdateUrlQueryParam(n,"t",this.serializeTemplateConfig(t)),this.decorationBeaconBuilder.setDisplayedAssets(t),this.decorationBeaconBuilder.availableAssets&&this.addOrUpdateUrlQueryParam(n,"dec",this.decorationBeaconBuilder.availableAssets+"-"+this.decorationBeaconBuilder.displayedAssets),n.href}return e};if(!(0,f.Z)(t.beaconsJson)){const n=JSON.parse(t.beaconsJson);n&&((0,h.Z)(n.trb)&&(n.trb=n.trb.map((t=>e(t)))),(0,h.Z)(n.tvb)&&(n.tvb=n.tvb.map((t=>e(t)))),t.beaconsJson=JSON.stringify(n))}t&&(0,h.Z)(t.items)&&(0,p.Z)(t.items,(t=>{if(!(0,f.Z)(t.clickBeacons)){const n=JSON.parse(t.clickBeacons);n&&((0,h.Z)(n.tcb)&&(n.tcb=n.tcb.map((t=>e(t)))),t.clickBeacons=JSON.stringify(n))}}))}serializeTemplateConfig(t){return t.items&&t.items.length>0&&t.items[0].video?t.items[0].verificationParameters?"msn-video-ias":"msn-video":(0,m.Z)(E,((e,n,i)=>{const r=(0,c.Z)(t.template,i);if(r){const t=n(r);if(t)return""===e?t:`${e}_${t}`}return e}),"")}addOrUpdateUrlQueryParam(t,e,n){return I.cX.getQueryParameterByName(e,t.href)?I.cX.updateSearchParam(t,e,n):I.cX.appendSearchParam(t,e,n)}updateSlideshowTemplateType(t,e,n){t&&t.items&&t.items[0]&&t.items[0].images&&t.items[0].images.length>1?(n.templateType=e.templateType,t.slideshowProps=n.slideshowProps):(n.templateType="msft-content-card",n.slideshowProps=void 0)}getItemImageSize(t){const e=(0,g.Z)(t.items);return(0,f.Z)(e)?{}:{width:`${(0,c.Z)(e,"imageWidth")}`,height:`${(0,c.Z)(e,"imageHeight")}`}}calculateDiscount(t){const e=t.price,n=t.salePrice;if(e&&n){const i=Number(e.replace(/[^0-9.-]+/g,"")),r=Number(n.replace(/[^0-9.-]+/g,""));t.discount=Math.floor((i-r)/i*100)}}filterAssetByFlight(t){var e;if((null===(e=t.template)||void 0===e||!e.enableVAPhase2)&&t&&t.items&&t.items[0]&&t.items[0].assets){var n,i;this.calculateDiscount(t.items[0].assets);const e=(0,v.Z)([...r.fs,...(null===(n=t.template)||void 0===n?void 0:n.allowedAssets)||[],...(null===(i=t.template)||void 0===i?void 0:i.auctionCallAssets)||[]]),o=(0,m.Z)(t.items[0].assets,((t,n,i)=>(e.includes(r.aT[i])&&(t[i]=n),t)),{});t.items[0].assets=o}}resetTempateTypeForInfopaneInMultiAds(t){"infopane"===t.region&&t.items&&t.items.length>1&&"msn-info-pane-dynamic-rendering"!==t.template.templateType&&(t.template.templateType="msft-content-card",t.template.animatedImage="")}isValidProviderNameForBrand(t){if(!(t&&t.items&&t.items[0]&&t.items[0].providerName))return!1;const e=t.items[0].providerName;return-1===e.indexOf("/")&&e.length<20}updateAllowedAssetsAndTemplateForInfopane(t,e){"msn-brand-story"!==e.templateType&&"msn-brand-story-no-deco"!==e.templateType&&"msn-brand-story-no-progressive-display"!==e.templateType&&"msn-hotspot-single"!==e.templateType&&"msn-discount-scribble"!==e.templateType&&"msn-content-reveal"!==e.templateType&&"msn-gamification"!==e.templateType||"infopane"===t.region&&(e.allowedAssets=void 0,e.templateType="msft-content-card")}updateTemplateInfoForBrandStory(t,e){var n,i;"msn-brand-story"!==e.templateType&&"msn-brand-story-no-deco"!==e.templateType&&"msn-brand-story-no-progressive-display"!==e.templateType||((null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.description)===(null===(i=t.items)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.providerName)&&(t.items[0].description=null),this.isValidProviderNameForBrand(t)||(e.templateType="msft-content-card",e.allowedAssets=void 0))}updateTemplateTypeForPriceDiscount(t){var e,n,i,r,o;if(!((null===(e=t.items)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.assets)||void 0===e?void 0:e.discount)>=(null===(n=t.template)||void 0===n?void 0:n.discountThreshold))){var s,a,c,u,l;if(["msn-hotspot-single","msn-discount-scribble","msn-gamification"].includes(null===(i=t.template)||void 0===i?void 0:i.templateType)&&(t.template.templateType="msft-content-card",t.template.allowedAssets=void 0,t.items[0].assets={}),"msn-content-reveal"===(null===(r=t.template)||void 0===r?void 0:r.templateType))null===(s=t.items)||void 0===s||null===(s=s[0])||void 0===s||null===(s=s.assets)||void 0===s||delete s.discount,(null===(a=t.items)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.description)===(null===(c=t.items)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.providerName)&&(t.items[0].description=null),null!==(u=t.items)&&void 0!==u&&null!==(u=u[0])&&void 0!==u&&u.description||this.hasAnyInlineDecoration(t)||(t.template.templateType="msft-content-card",t.template.allowedAssets=void 0);if("msn-brand-story"===(null===(o=t.template)||void 0===o?void 0:o.templateType))null===(l=t.items)||void 0===l||null===(l=l[0])||void 0===l||null===(l=l.assets)||void 0===l||delete l.discount}}updateTemplateInfoForDRInfopane(t,e){"river"===t.region||"infopane"==t.region&&"msn-info-pane-dynamic-rendering"===e.templateType||(e.templateType="msft-content-card"),"river"===t.region&&"msn-info-pane-dynamic-rendering"===e.templateType&&(e.templateType="msft-content-card")}}(0,i.gn)([(0,P.Et)(s.NMS,"updateTemplate")],F.prototype,"updateTemplate",null),(0,i.gn)([(0,P.Et)(s.NMS,"updateTemplateInternal")],F.prototype,"updateTemplateInternal",null),(0,i.gn)([(0,P.Et)(s.NMS,"processConfig")],F.prototype,"processConfig",null),(0,i.gn)([(0,P.Et)(s.NMS,"updatePlacementImageSize")],F.prototype,"updatePlacementImageSize",null),(0,i.gn)([(0,P.Et)(s.NMS,"updateBeacon")],F.prototype,"updateBeacon",null),(0,i.gn)([(0,P.Et)(s.NMS,"serializeTemplateConfig")],F.prototype,"serializeTemplateConfig",null),(0,i.gn)([(0,P.Et)(s.NMS,"addOrUpdateQueryParam")],F.prototype,"addOrUpdateUrlQueryParam",null),(0,i.gn)([(0,P.Et)(s.NMS,"updateSlideshowTemplateType")],F.prototype,"updateSlideshowTemplateType",null),(0,i.gn)([(0,P.Et)(s.NMS,"getItemImageSize")],F.prototype,"getItemImageSize",null),(0,i.gn)([(0,P.Et)(s.NMS,"calculateDiscount")],F.prototype,"calculateDiscount",null),(0,i.gn)([(0,P.Et)(s.NMS,"filterAssetByFlight")],F.prototype,"filterAssetByFlight",null),(0,i.gn)([(0,P.Et)(s.NMS,"resetTempateTypeForInfopaneInMultiAds")],F.prototype,"resetTempateTypeForInfopaneInMultiAds",null),(0,i.gn)([(0,P.Et)(s.NMS,"isValidProviderNameForBrand",(()=>!1))],F.prototype,"isValidProviderNameForBrand",null),(0,i.gn)([(0,P.Et)(s.NMS,"updateAllowedAssetsAndTemplateForInfopane")],F.prototype,"updateAllowedAssetsAndTemplateForInfopane",null),(0,i.gn)([(0,P.Et)(s.NMS,"updateTemplateInfoForBrandStory")],F.prototype,"updateTemplateInfoForBrandStory",null),(0,i.gn)([(0,P.Et)(s.NMS,"updateTemplateTypeForPriceDiscount")],F.prototype,"updateTemplateTypeForPriceDiscount",null),(0,i.gn)([(0,P.Et)(s.NMS,"hasAnyInlineDecoration")],F.prototype,"hasAnyInlineDecoration",void 0),(0,i.gn)([(0,P.Et)(s.NMS,"updateTemplateInfoForDRInfopane")],F.prototype,"updateTemplateInfoForDRInfopane",null)},89136:function(t,e,n){n.d(e,{dQ:function(){return f}});var i=n(13218),r=n(44132),o=n(33779),s=n(5302),a=n(38300),c=n(21215);const u={180:"101",270:"102",360:"103",540:"104",720:"105",1080:"107"};function l(t,e,n,o,s,c){var u,l,d,f,h,p,m,g;if(!t||!e)return;const v=t.target.parentElement,w=t.target.querySelector("video"),y=JSON.parse(null===(u=v.attributes["data-t"])||void 0===u?void 0:u.value).n,b=t.target.player,S=function(t){const e={AdStart:"AdPlayStarted",AdComplete:"AdPlayCompleted",EventPause:"Pause",ContentResume:"Resume",seeked:"Seek",error:"ContentError",canplay:"Canplay",canplaythrough:"Canplaythrough"};return e[t]&&(t=e[t]),a.Bs[t]}(e.name),x=e.data??{PlayerTechnology:"HTML5",VideoPlayerType:"HTML5"},C="video/mp4"===(null==b?void 0:b.currentType()),k={type:61,name:"nativeAds_"+y,ext:{videoCs:n,eventType:S,timeElasped:w.currentTime,videoFormatCode:C?Number(null==c?void 0:c.format):1006,title:o,videoDuration:null==b?void 0:b.duration(),fr:(null===i.Al||void 0===i.Al||null===(l=i.Al.ClientSettings)||void 0===l?void 0:l.geo_country)+"_"+(null===i.Al||void 0===i.Al||null===(d=i.Al.ClientSettings)||void 0===d?void 0:d.geo_city)+"_"+(null===i.Al||void 0===i.Al?void 0:i.Al.Locale)+"_"+s,pageGroup:"",playerInstanceId:t.target.id,playType:"pb",playerTech:x.PlayerTechnology,pluginVersion:x.PlayerTechnology,size:w.clientWidth+"x"+w.clientHeight,videoPlayerType:x.VideoPlayerType,playerType:x.PlayerTechnology,playDuration:w.currentTime,inline:!1,videoUrl:null==b?void 0:b.src(),errorType:"error"===e.name?null==b||null===(f=b.error())||void 0===f?void 0:f.code:null,errorDescription:"error"===e.name?null==b||null===(h=b.error())||void 0===h?void 0:h.message:null,bandwidth:C?null:null==b||null===(p=b.tech_)||void 0===p||null===(p=p.hls)||void 0===p?void 0:p.bandwidth,throughput:C?null:null==b||null===(m=b.tech_)||void 0===m||null===(m=m.hls)||void 0===m?void 0:m.throughput,bufferWaitTime:null===(g=e.data)||void 0===g?void 0:g.bufferTime}};r.M0.sendVideoPlayEvent(k,v,!0)}function d(t,e){t&&(t.bigPlayButton&&t.bigPlayButton.el_&&t.bigPlayButton.enabled_&&(t.bigPlayButton.el_.style.display="none"),t.loadingSpinner&&t.loadingSpinner.el_&&(t.loadingSpinner.el_.style.display="none"),e&&(e.style.display="none"))}function f(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if((0,c.N)()&&t&&t.items&&t.items.length>e&&t.items[e].video){const i=new DOMParser,r=function(){if(!(0,c.N)())return;if(!window.trustedTypes||!window.trustedTypes.createPolicy)return;const t=window.trustedTypePolicies||(window.trustedTypePolicies={});if(t.xmlPassThroughPolicy)return t.xmlPassThroughPolicy;const e=window.trustedTypes.createPolicy("xmlPassThroughPolicy",{createHTML:t=>t});return t.xmlPassThroughPolicy=e,e}(),a=r?r.createHTML(t.items[e].video):t.items[e].video,f=i.parseFromString(a,"application/xml"),h=t.region,p=f.getElementsByTagName("MediaFile"),m=Array.from(p).map((t=>{return{url:t.textContent,delivery:t.getAttribute("delivery"),id:t.getAttribute("id"),bitrate:Number(t.getAttribute("bitrate")),minBitrate:Number(t.getAttribute("minBitrate")),maxBitrate:Number(t.getAttribute("maxBitrate")),codec:t.getAttribute("codec"),scalable:!!Number(t.getAttribute("scalable")),maintainAspectRatio:!!Number(t.getAttribute("maintainAspectRatio")),width:Number(t.getAttribute("width")),height:Number(t.getAttribute("height")),contentType:t.getAttribute("type"),format:(e=t.getAttribute("type"),n=t.getAttribute("height"),"application/x-mpegURL"==e?"1006":u[n])};var e,n})),g=f.getElementsByTagName("Duration"),v=g.length>0?g[0].textContent:null,w=f.getElementsByTagName("Tracking"),y=Array.from(w).map((t=>({value:t.textContent,event:t.getAttribute("event"),offset:t.getAttribute("offset")}))),b=f.getElementsByTagName("Ad"),S=b.length>0?Number(b[0].getAttribute("id")):null,x=f.getElementsByTagName("AdTitle"),C=x.length>0?x[0].textContent:"",k=f.getElementsByTagName("AdServingId"),T=k.length>0?k[0].textContent:"",$=f.getElementsByTagName("ClickThrough"),A=$.length>0?$[0].textContent:"",I=f.getElementsByTagName("Impression"),P=I.length>0?I[0].textContent:"",_=f.getElementsByTagName("Pricing");let M=null,R=null,E=null;_.length>0&&(M=Number(_[0].textContent),R=_[0].getAttribute("model"),E=_[0].getAttribute("currency"));let F=null,D=null;const O=T+"_"+S,N=async(t,e,n,i)=>{var r;if("telemetry"===(null==t?void 0:t.type)&&("ContentOpen"==e.name&&(F=Date.now(),D=F),l(t,e,O,C,h,i)),"error"===n)(0,o.H)(s.mFi,null===(r=e.error())||void 0===r?void 0:r.message),l(t,{name:"error",data:{VideoDuration:v,PlayerTechnology:"HTML5",VideoPlayerType:"HTML5"}},O,C,h,i);else if(F&&"canplay"===n){const e=Date.now()-F;F=null,l(t,{name:n,data:{VideoDuration:v,bufferTime:e,PlayerTechnology:"HTML5",VideoPlayerType:"HTML5"}},O,C,h,i)}else if(D&&"canplaythrough"===n){const e=Date.now()-D;D=null,l(t,{name:n,data:{VideoDuration:v,bufferTime:e,PlayerTechnology:"HTML5",VideoPlayerType:"HTML5"}},O,C,h,i)}},U=document.createElement("div");U.id="nativeAdVideoMask",U.className="nativeAdVideoMask-mask",U.style.cssText="position:absolute;inset:0px;background-image:var(--mask-gradient, linear-gradient(to top, rgba(0, 0, 0, 1), rgba(0,0,0,0) 176px));display:flex;";const L=(t,e)=>{let[i,r,o,s,a,c,u,l]=[null,null,null,null,null,null,null,null],[f,p,m]=[null,null,null];const g=!!t&&t.el_&&t.el_.querySelector("#nativeAdVideoMask");if(n?(f=!!t&&t.el_&&t.el_.getRootNode().host&&t.el_.getRootNode().host.getRootNode(),p=!!f&&f.host&&f.host.parentElement&&f.host.parentElement.querySelector("native-ad-video-controls")&&f.host.parentElement.querySelector("native-ad-video-controls").shadowRoot,m=!!f&&f.host&&f.host.parentElement&&f.host.parentElement.parentElement&&f.host.parentElement.parentElement.querySelector("native-ad-video-controls")&&f.host.parentElement.parentElement.querySelector("native-ad-video-controls").shadowRoot):(p=!!t&&t.el_&&t.el_.parentElement&&t.el_.parentElement.parentElement,m=!!p&&p.parentElement,f=p||m),f&&(u=f.querySelector(".video-ad-background-img-river"),l=f.querySelector(".video-ad-background-img-infopane")),p&&(s=p.querySelector("#nativead-video-replay-button-river"),a=p.querySelector("#nativead-video-learn-more-button-river")),m&&(i=m.querySelector("#nativead-video-play-button-infopane"),r=m.querySelector("#nativead-video-replay-button-infopane"),o=m.querySelector("#nativead-video-learn-more-button-infopane"),n?c=f.host.parentElement.parentElement.querySelector(".info-pane-slide-title"):"infopane"==h&&(c=m.nextElementSibling&&m.nextElementSibling.querySelector("h3"))),e&&"ended"==e.toLowerCase()&&(s&&(s.style.display="block"),r&&(r.style.display="block"),o&&(o.style.display="block"),a&&(a.style.display="block")),t&&t.errorDisplay&&t.errorDisplay.el_&&(t.errorDisplay.el_.style.display="none"),e&&"play"==e.toLowerCase()&&(s&&(s.style.display="none"),i&&(i.style.display="none"),r&&(r.style.display="none"),o&&(o.style.display="none"),a&&(a.style.display="none"),c&&(c.style.display="none"),g&&(g.style.display="none")),e&&"error"==e.toLowerCase()&&t&&"video/mp4"==t.currentType()&&d(t,i),e&&"pause"==e.toLowerCase()&&(c&&(c.style.display=null),g&&(g.style.display="flex")),e&&"ready"==e.toLowerCase()){if(u&&(u.style.display="none"),l&&(l.style.display="none"),i){i.style.display="block";const e=t&&t.posterImage&&t.posterImage.el_;if(e){const n=e.nextSibling;t.el_.insertBefore(U,n)}}t&&!t.currentSrc()&&d(t,i)}};return{VideoPlayerProps:{posterUrl:t.items[e].imageUrl,onMessage:(t,e,n,i)=>{L(e,n),N(t,e,n,i)},videoMetadataProps:{videoSources:m},playerConfigProps:{autoplay:"river"==h,inViewPlay:"river"==h,replayWhenInView:!1,outOfViewPause:!0,inViewPlayPercentage:.5,muted:!0,disableSeek:!0,disableSeekButtons:!0,useProgressiveVideoFallback:!0}},ViewabilityProps:{Duration:v,TrackingEvents:y},VideoAdProps:{AdId:S,AdTitle:C,AdServingId:T,ClickThrough:A,Impression:P,Price:M,PricingModel:R,Currency:E}}}return null}},50234:function(t,e,n){n.d(e,{GM:function(){return c},dO:function(){return a}});var i=n(5302),r=n(78931),o=n(31404);const s=[{ratio:"invalid",width:1,height:9999},{ratio:"1x1.91",width:1,height:1.91},{ratio:"9x16",width:9,height:16},{ratio:"3x4",width:3,height:4},{ratio:"1x1",width:1,height:1},{ratio:"4x3",width:4,height:3},{ratio:"16x9",width:16,height:9},{ratio:"1.91x1",width:1.91,height:1}],a=(0,o.Et)(i.Evv,"calculateRatio")((t=>{var e,n;const i=null==t||null===(e=t.items[0])||void 0===e?void 0:e.originalImageWidth,r=null==t||null===(n=t.items[0])||void 0===n?void 0:n.originalImageHeight;if(!i||!r)return;const o=l(t.items[0].imageUrl);if(!o)return;const a=o.searchParams.get("c");if(a&&"4"!==a)return;const c=Number(i),u=Number(r);let d=1;for(;d<s.length&&Math.ceil(c*s[d].height)!==Math.ceil(u*s[d].width);++d)if(!(Math.ceil(c*s[d].height)>Math.ceil(u*s[d].width))){if(1==d)break;const t=1*c/u;Math.abs(t-s[d].width/s[d].height)>=Math.abs(t-s[d-1].width/s[d-1].height)&&(d-=1);break}d==s.length&&(d-=1),t.template.desiredRatio=s[d].ratio})),c=(0,o.Et)(i.Evv,"reduceWidthOrHeightAndUpdateUrl")(((t,e,n,i)=>{const o=(0,r.Z)(s,(t=>t.ratio===e));if(1!==o.length)return;const a=o[0],c=n?t.ext.originalImageWidth:t.originalImageWidth,l=n?t.ext.originalImageHeight:t.originalImageHeight;if(!c||!l)return;const d=1*c/l,f=1*a.width/a.height,h={w:c,h:l};d>=f?h.w=Math.round(l*f):h.h=Math.round(c/f);const p={river:300,infopane:604};return h.w>p[i]?(h.h=Math.round(h.h*p[i]/h.w),h.w=p[i]):(h.h=p[i]*f,h.w=p[i]),u(h.h,h.w,t,n),h})),u=(0,o.Et)(i.Evv,"updateUrlWithDesiredSize")(((t,e,n,i)=>{const r=l(i?n.url:n.imageUrl);r&&(r.searchParams.set("h",t),r.searchParams.set("w",e),r.searchParams.set("c","4"),i?n.url=r.href:n.imageUrl=r.href)})),l=(0,o.Et)(i.Evv,"constructUrl")((t=>{let e;try{e=new URL(t)}catch(n){try{e=new URL(`https://${t}`)}catch{return}}return e}))},5804:function(t,e,n){n.d(e,{X:function(){return s}});var i=n(4),r=n(59504),o=n(6711);const s={configType:"default",region:[i.yp.infopane,i.yp.resinfopane],maxAdCount:2,template:(t,e)=>e.enableNativeAdWC?"msn-animated-imagery":"msft-content-card",supportedAssets:[],dynamicRenderingConfig:t=>{if(t.enableNativeAdWC)return(0,r.f6)(t,"animatedimageryinf",o.r)},modifier:(t,e)=>{(0,r.qi)(e)}}},82948:function(t,e,n){n.d(e,{D$:function(){return P},DX:function(){return g},Eo:function(){return b},F8:function(){return M},IF:function(){return y},Sj:function(){return _},_N:function(){return k},io:function(){return p},lQ:function(){return m},o9:function(){return w},rt:function(){return T},vu:function(){return v},vy:function(){return I},wq:function(){return S},zX:function(){return x},zz:function(){return C}});var i=n(75115),r=n(13578),o=n(31011),s=n(11935),a=n(4935),c=n(5302),u=n(4),l=n(50234),d=n(31404),f=n(44132),h=n(77137);const p=(0,d.Et)(c.Evv,"checkConfigType")(((t,e)=>e.template.configType===t.configType)),m=(0,d.Et)(c.Evv,"checkRegion")(((t,e)=>t.region.includes(e.region))),g=(0,d.Et)(c.Evv,"checkAllAssets")(((t,e)=>!!(0,r.Z)(t.requiredAssetsAll)||t.requiredAssetsAll.every((t=>{var n,o;return!(0,r.Z)(null==e||null===(n=e.items[0])||void 0===n?void 0:n.assets)&&Object.keys(null==e||null===(o=e.items[0])||void 0===o?void 0:o.assets).some((e=>t===i.aT[e]))})))),v=(0,d.Et)(c.Evv,"checkAnyAssets")(((t,e)=>!!(0,r.Z)(t.requiredAssetsAny)||t.requiredAssetsAny.some((t=>{var n,o;return!(0,r.Z)(null==e||null===(n=e.items[0])||void 0===n?void 0:n.assets)&&Object.keys(null==e||null===(o=e.items[0])||void 0===o?void 0:o.assets).some((e=>t===i.aT[e]))})))),w=(0,d.Et)(c.Evv,"checkAdCount")(((t,e)=>e.items.length<=(t.maxAdCount||1))),y=(0,d.Et)(c.Evv,"checkMultiImage")(((t,e)=>{var n;return!t.multiImage||(null===(n=e.items[0])||void 0===n||null===(n=n.images)||void 0===n?void 0:n.length)>1})),b=(0,d.Et)(c.Evv,"checkDiscountThreshold")(((t,e)=>{var n;return!t.discountThreshold||!(null!==(n=e.items[0])&&void 0!==n&&n.assets)||t.discountThreshold<=e.items[0].assets.discount})),S=(0,d.Et)(c.Evv,"checkRatio")(((t,e)=>{var n,i;return!t.supportedImageRatios||(null===(n=t.supportedImageRatios)||void 0===n?void 0:n.includes(null==e||null===(i=e.template)||void 0===i?void 0:i.desiredRatio))})),x=(0,d.Et)(c.Evv,"setTemplate")(((t,e)=>{e.template.templateType=t.template instanceof Function?t.template(t,e):t.template,e.template.dynamicRenderingConfig=t.dynamicRenderingConfig&&t.dynamicRenderingConfig(e)})),C=(0,d.Et)(c.Evv,"filterAssets")(((t,e)=>{var n,c,u,l;if(null!=e&&null!==(n=e.template)&&void 0!==n&&n.enableVA||null!=e&&null!==(c=e.template)&&void 0!==c&&c.enableVAPhase2)return;const d=(0,o.Z)([...i.fs,...(null==e||null===(u=e.template)||void 0===u?void 0:u.allowedAssets)||[],...(null==e||null===(l=e.template)||void 0===l?void 0:l.auctionCallAssets)||[],...t.supportedAssets||[],...t.requiredAssetsAll||[],...t.requiredAssetsAny||[]]);(0,s.Z)(e.items,(t=>{if((0,r.Z)(d)||(0,r.Z)(null==t?void 0:t.assets))return void delete t.assets;const e=(0,a.Z)(t.assets,((t,e,n)=>(d.includes(i.aT[n])&&(t[n]=e),t)),{});t.assets=e}))})),k=(0,d.Et)(c.Evv,"updateImageRatio")(((t,e)=>{var n,i;if(!t.supportedImageRatios||!t.targetImageRatio)return;let r;const o=u.cE.includes(e.region)?"infopane":"river";e.items.forEach((e=>{const n=(0,l.GM)(e,t.targetImageRatio,!1,o);r||(r=n),e.images&&(0,s.Z)(e.images,(e=>{e.ext&&e.ext.originalImageWidth&&e.ext.originalImageHeight&&(0,l.GM)(e,t.targetImageRatio,!0,o)}))})),null!==(n=r)&&void 0!==n&&n.h&&null!==(i=r)&&void 0!==i&&i.w&&(e.template.desiredHeight=r.h.toString(),e.template.desiredWidth=r.w.toString())})),T=(0,d.Et)(c.Evv,"trimProviderName")(((t,e)=>{e&&e.items&&e.items.forEach((t=>{t.providerName&&(t.providerName=I(t.providerName,t.destinationUrl))}))})),$=h.jG.CurrentRequestTargetScope&&h.jG.CurrentRequestTargetScope.pageExperiments,A=$&&$.includes("prg-ad-ivq"),I=(0,d.Et)(c.Evv,"trimProviderNameHelper")(((t,e)=>{if(!t)return"";A&&f.M0.sendClientLogEvent({message:"Before trimming provider name",pb:{providerName:t},type:"information"});const n=t.trim();try{let i=n;n.startsWith("http://")||n.startsWith("https://")||(i="https://"+n),new URL(i);const r=n.match(/^(www\.)?([a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)+)/);return r?n.length-r[2].length==1?n:(A&&r[2]!==n&&f.M0.sendClientLogEvent({message:"After trimming provider name",pb:{providerNameBeforeTrimming:t,providerNameAfterTrimming:r[2],adUrl:e},type:"information"}),r[2]):n}catch(t){return n}})),P=(0,d.Et)(c.Evv,"updateLayoutColor")(((t,e)=>{e&&e.items&&e.items.forEach((t=>{t.images&&t.images.forEach((t=>{t&&t.ext&&t.ext.layoutColor&&(t.ext.layoutColor.startsWith("#")||(t.ext.layoutColor="#"+t.ext.layoutColor))}))}))})),_=[p,m,g,v,w,b,y,S],M=[x,C,k,T,P]},59504:function(t,e,n){var i,r,o,s,a,c,u;n.d(e,{B6:function(){return v},FY:function(){return y},ls:function(){return w},Ji:function(){return g},f6:function(){return T},qi:function(){return k}}),function(t){t[t["Segoe UI"]=1]="Segoe UI",t[t.Tenorite=2]="Tenorite",t[t.Lora=3]="Lora"}(i||(i={})),function(t){t[t["scale-up"]=1]="scale-up",t[t["scale-down"]=2]="scale-down",t[t["scale-up-down"]=3]="scale-up-down"}(r||(r={})),function(t){t[t["#036AC4"]=1]="#036AC4",t[t["#B26200"]=2]="#B26200",t[t["#508128"]=3]="#508128",t[t["#158389"]=4]="#158389",t[t["#C84C56"]=5]="#C84C56",t[t["#12875E"]=6]="#12875E",t[t["#666666"]=7]="#666666"}(o||(o={})),function(t){t[t.cube=2]="cube",t[t.box=3]="box",t[t.truck=4]="truck"}(s||(s={})),function(t){t[t.normal=1]="normal",t[t.small=2]="small",t[t.large=3]="large"}(a||(a={})),function(t){t[t.default=1]="default",t[t["5-star-with-button"]=2]="5-star-with-button",t[t["1-star-with-button"]=3]="1-star-with-button",t[t["1-star-with-shadow"]=4]="1-star-with-shadow"}(c||(c={})),function(t){t.normal="265",t.small="270",t.large="255"}(u||(u={}));var l=n(82356),d=n(96811),f=n(13578),h=n(4935),p=n(5302),m=n(31404);const g=(0,m.Et)(p.Evv,"personalizedV2Override")((t=>{var e;(0,f.Z)(null===(e=t.items)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.ext)||void 0===e?void 0:e.adCreativeV2)||(t.items[0].ext.adCreative=JSON.parse(t.items[0].ext.adCreativeV2))})),v=(0,m.Et)(p.Evv,"isPersonalizedAvailable")(((t,e)=>{var n,i;return(null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.ext)||void 0===n||null===(n=n.adCreative)||void 0===n?void 0:n.templateId)===e&&!(null===(i=t.items)||void 0===i||null===(i=i[0])||void 0===i||null===(i=i.ext)||void 0===i||null===(i=i.adCreative)||void 0===i||!i.templateConfig)})),w=(0,m.Et)(p.Evv,"isShippingConfig")((t=>{var e,n,i;return!(null===(e=t.items[0])||void 0===e||null===(e=e.assets)||void 0===e||!e.freeShipping||null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.ext)||void 0===n||null===(n=n.adCreative)||void 0===n||null===(n=n.templateConfig)||void 0===n||!n.shipping||null!==(i=t.items)&&void 0!==i&&null!==(i=i[0])&&void 0!==i&&null!==(i=i.ext)&&void 0!==i&&null!==(i=i.adCreative)&&void 0!==i&&null!==(i=i.templateConfig)&&void 0!==i&&null!==(i=i.shipping)&&void 0!==i&&i.suppress)})),y=(0,m.Et)(p.Evv,"isRatingConfig")((t=>{var e,n,i;return!(null===(e=t.items[0])||void 0===e||null===(e=e.assets)||void 0===e||!e.rating||null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.ext)||void 0===n||null===(n=n.adCreative)||void 0===n||null===(n=n.templateConfig)||void 0===n||!n.ratings||null!==(i=t.items)&&void 0!==i&&null!==(i=i[0])&&void 0!==i&&null!==(i=i.ext)&&void 0!==i&&null!==(i=i.adCreative)&&void 0!==i&&null!==(i=i.templateConfig)&&void 0!==i&&null!==(i=i.ratings)&&void 0!==i&&i.suppress)})),b=(0,m.Et)(p.Evv,"getPersonalizedConfig")(((t,e)=>{if(v(t,e)){const[e]=t.items;return e.ext.adCreative.templateConfig}return null}));var S;!function(t){const e=(0,m.Et)(p.Evv,"processDecorations");t.processDecorations=e(((t,e)=>{var n,r;return(0,l.Tb)(e,"ad-decoration",{fontSizes:{price:null===(n=t.price)||void 0===n?void 0:n.fontSize,salePrice:null===(r=t.saleprice)||void 0===r?void 0:r.fontSize},fontFamily:i[t.font]})}));const n=(0,m.Et)(p.Evv,"getAnimationDuration")((t=>t?{duration:t,durationString:t/1e3+"s"}:{})),f=(0,m.Et)(p.Evv,"getAnimationScale")(((t,e)=>t&&e?{scaleFrom:t,scaleTo:t-e}:{})),h=(0,m.Et)(p.Evv,"getLocationAlignRight")((t=>{if(2==t)return{mode:"flex",display:d.sS.FLEX,flexDirection:d.Qb.ROW,justifyContent:d.uM.FLEX_END}})),g=(0,m.Et)(p.Evv,"getLocation")(((t,e)=>3==t?{mode:"pixel",bottom:u[e||"normal"]}:4==t?{mode:"pixel",bottom:u[e||"normal"],right:"16"}:void 0)),v=(0,m.Et)(p.Evv,"getDelayTime")((t=>t?{delayTimeMs:t}:{})),w=(0,m.Et)(p.Evv,"processAnimationImage");t.processAnimationImage=w(((t,e)=>{if(!t.image)return e;return(0,l.BH)(e,l.Oz.byName("animation-decorator"),(e=>{if(t.image.suppress)return{};const{animation:i}=t.image,o={...e,animationType:r[null==i?void 0:i.type]||e.animationType,animationConfig:{...e.animationConfig,...f(null==i?void 0:i.scaleFrom,null==i?void 0:i.scaleBy),...n(null==i?void 0:i.duration),...v(null==i?void 0:i.delayTimeMS)}};if((null==i||!i.scaleFrom)&&"scale-down"===o.animationType){const t=e.animationConfig.scaleFrom;e.animationConfig.scaleFrom=e.animationConfig.scaleTo,e.animationConfig.scaleTo=t}return o}))}));const y=(0,m.Et)(p.Evv,"processFreeShipping");t.processFreeShipping=y(((t,e)=>{if(!t.shipping||t.shipping.suppress)return e;const{color:n,location:r}=t.shipping,a=s[t.shipping.icon],c=(0,l.Tb)(e,"div-wrapper",{layout:{...h(r)}});return(0,l.Tb)(c,"free-shipping",{fontFamily:i[t.font],color:o[n||"1"],icon:a,layout:{...g(r)}})}));const b=(0,m.Et)(p.Evv,"processRating");t.processRating=b(((t,e)=>{if(!t.ratings||t.ratings.suppress)return e;const{color:n,elementStyle:r,elementSize:s,location:u,displayReviewCount:d}=t.ratings,f=a[s],p=(0,l.Tb)(e,"div-wrapper",{layout:{...h(u)}});return(0,l.Tb)(p,"rating",{fontFamily:i[t.font],color:o[n||"1"],elementStyle:c[r],elementSize:f,displayReviewCount:d,layout:{...g(u,f)}})}));const S=(0,m.Et)(p.Evv,"processTitle");t.processTitle=S(((t,e)=>(0,l.Tb)(e,"ad-title",{fontFamily:i[t.font]})))}(S||(S={}));const x=[S.processDecorations,S.processTitle],C=(0,m.Et)(p.Evv,"processPersonalizedConfig")((function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;const r=b(t,e);return r?(0,h.Z)(i,((t,e)=>e(r,t)),n):n})),k=(0,m.Et)(p.Evv,"removeAssets")((t=>{for(const s of t.items){var e,n;if(!(t.enableNativeAdWC||null!=t&&null!==(e=t.template)&&void 0!==e&&e.enableVA)){var i,r;null===(i=s.assets)||void 0===i||delete i.price,null===(r=s.assets)||void 0===r||delete r.salePrice;continue}const a=null===(n=s.ext)||void 0===n||null===(n=n.adCreative)||void 0===n?void 0:n.templateConfig;if(a){const{price:t,saleprice:e}=a;var o;if(null!=t&&t.suppress)null===(o=s.assets)||void 0===o||delete o.price;null!=e&&e.suppress&&delete s.assets.salePrice}}return t})),T=(0,m.Et)(p.Evv,"processConfig")(((t,e,n)=>C(t,e,n,[S.processTitle,S.processAnimationImage,S.processDecorations,S.processFreeShipping,S.processRating])))},88040:function(t,e,n){n.d(e,{T:function(){return r}});var i=n(4);const r={configType:"default",region:[i.yp.river,i.yp.resriver],template:"msft-content-card"}},4:function(t,e,n){n.d(e,{ms:function(){return $},yp:function(){return c},vn:function(){return b},dN:function(){return g},KB:function(){return I},XP:function(){return A},LO:function(){return P},cE:function(){return w},Ue:function(){return _},PY:function(){return Q},RQ:function(){return K},Q0:function(){return Y},$l:function(){return M},Up:function(){return R},Ti:function(){return Z},dj:function(){return J},FH:function(){return y},FC:function(){return S},Wr:function(){return tt},rf:function(){return X},PB:function(){return C},Fg:function(){return v},R:function(){return N},JU:function(){return U},J2:function(){return W},uH:function(){return B},ZV:function(){return q},xP:function(){return j},$u:function(){return L},E5:function(){return G},VR:function(){return T},Gu:function(){return et},BU:function(){return k},n_:function(){return p},zI:function(){return m},Fz:function(){return x}});var i=n(82356),r=n(58721);const o=(0,i.ZV)(r.$,"gradient-mask",0,[{name:"div-wrapper",marginBottom:"8",marginLeft:"16",marginRight:"16",children:[{name:"rating",displayReviewCount:!1}]}]),s=(0,i.RM)(r.$,"gradient-mask",{name:"gradient-mask",setClickBeacon:!0,layout:{mode:"pixel",bottom:"0",width:"300",zIndex:4},children:[{name:"special-offer",isDrConfig:!0,layout:{mode:"block",display:"inline-block",position:"relative",marginBottom:"8",marginInlineStart:"16",marginInlineEnd:"16",width:"150",zIndex:5}},{name:"ad-title",setClickBeacon:!0}]}),a=(0,i.ZV)(r.$,"gradient-mask",0,[{name:"div-wrapper",marginBottom:"8",marginLeft:"16",marginRight:"16",children:[{name:"free-shipping",color:"#036ac4",layout:{mode:"pixel",bottom:"265"}}]}]);var c,u=n(90351),l=n(24526),d=n(5302),f=n(7126),h=n(31404);!function(t){t.river="river",t.infopane="infopane",t.resriver="resriver",t.rivercms="river_cms",t.riverdb="riverdb",t.riverdbside="riverdbside",t.riverAmplify="river_amp",t.restoday="restoday",t.todaystripe="todaystripe",t.newsstripe="News-Stripe",t.entertainmentstripe="Entertainment-Stripe",t.sportsstripe="Sports-Stripe",t.lifestylestripe="Lifestyle-Stripe",t.rightRail="rightRail",t.rightRailAmplify="rr_amp",t.resinfopane="resinfopane",t.infopanetab="infopane-tab",t.infopanecms="infopane_cms",t.sliver="sliver",t.rightrail="rightrail",t.eoab="eoab",t.rectangle="rectangle",t.inarticle="inarticle",t.WatchInFeed="intranative",t.WatchInFeed2="intranative2",t.eoabmsx="eoabmsx",t.interstitialgallery="interstitialgallery",t.articleInline="ArticleInline",t.rivert="rivert",t.infopanet1="infopanet1",t.infopanet3="infopanet3",t.inarticlecarousel="inarticlecarousel",t.incontentcarousel="incontentcarousel",t.triver="triver",t.infopane1u="infopane1u",t.watchlistnative="watchlistnative",t.leftrail="leftrail"}(c||(c={}));const p=[c.rightrail,c.eoab,c.rectangle,c.inarticle,c.eoabmsx,c.interstitialgallery,c.WatchInFeed,c.WatchInFeed2,c.articleInline,c.rivert,c.inarticlecarousel,c.incontentcarousel,c.watchlistnative,c.leftrail],m=[c.river,c.riverdb,c.riverdbside],g=[c.riverdb],v=[c.river,c.resriver,c.rivercms,c.rightRail,c.rightrail],w=[c.infopane,c.resinfopane,c.infopanetab,c.infopanecms],y=[c.restoday,c.todaystripe,c.newsstripe,c.entertainmentstripe,c.sportsstripe,c.lifestylestripe],b=[...v,...w],S=[...v,...y,c.riverdb,c.rightRail,c.rightrail,c.sliver,c.rectangle,c.eoab,c.inarticle,c.inarticlecarousel],x=[c.infopane,c.resinfopane,c.riverdb],C=[c.infopane,c.resinfopane],k=[c.infopanet1,c.infopanet3],T=[c.rivert,c.infopane1u,...k,c.WatchInFeed2],$=[c.infopane,c.resinfopane,c.river,c.resriver,c.inarticle,c.riverdb],A={default:20,discScribble10:10,hotspotSingle10:10,saleHighlight15:15,gamification:5},I=10,P=t=>{if(t.items&&0!==t.items.length){if(t.items[0]&&t.items[0].assets){const e=t.items[0].assets;return!!(e.price||e.salePrice||e.installmentPrice||e.rating||e.review||e.priceDrop||e.viewed||e.freeShipping)}return!1}return!1},_=t=>!!(t&&t.items&&t.items[0]&&t.items[0].assets&&t.items[0].assets.transparentImage&&t.items[0].assets.transparentImage.url&&t.items[0].images&&t.items[0].images[0]&&t.items[0].images[0].ext&&t.items[0].images[0].ext.layoutColor),M=(t,e)=>{var n;const i=null==t||null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.assets)||void 0===n?void 0:n.transparentImage,r=null==i?void 0:i.w,o=null==i?void 0:i.h;return!!((null==i?void 0:i.url)&&null!=i&&o>0&&r>0)&&e(r,o)},R=t=>M(t,((t,e)=>t/e<1.4)),E=t=>(0,u.Z)(t,"items[0].assets.rating"),F=t=>(0,u.Z)(t,"items[0].assets.specialOffer"),D=t=>(0,u.Z)(t,"items[0].assets.freeShipping"),O=t=>(0,u.Z)(t,"items[0].assets.discount"),N=t=>E(t)?o:F(t)?s:D(t)?a:void 0,U=t=>E(t)?"msn-combo-rating":F(t)?"msn-combo-special-offer":D(t)?"msn-combo-freeshipping":void 0,L=(t,e)=>{var n;e&&(t.enableNativeAdWC=!0);const i=null==t||null===(n=t.items[0])||void 0===n?void 0:n.assets;null!=i&&i.rating?t.items[0].assets=(0,l.Z)(i,["rating"]):null!=i&&i.specialOffer?t.items[0].assets=(0,l.Z)(i,["specialOffer"]):null!=i&&i.discount&&(null==i?void 0:i.discount)>=A.saleHighlight15?t.items[0].assets=(0,l.Z)(i,["discount"]):null!=i&&i.freeShipping&&(t.items[0].assets=(0,l.Z)(i,["freeShipping"]))},B=t=>E(t)?"msn-combo-rating-nondr":F(t)?"msn-combo-special-offer-nondr":O(t)&&O(t)>=A.saleHighlight15?"msn-combo-sale-highlight-nondr":D(t)?"msn-combo-freeshipping-nondr":"msft-content-card",W=t=>E(t)?"msn-combo-rating-nondr-c":F(t)?"msn-combo-special-offer-nondr-c":O(t)&&O(t)>=A.saleHighlight15?"msn-combo-sale-highlight-nondr-c":D(t)?"msn-combo-freeshipping-nondr-c":"msft-content-card",H=t=>(0,u.Z)(t,"items[0].assets.sold"),z=t=>(0,u.Z)(t,"items[0].assets.returnPolicy"),V=t=>(0,u.Z)(t,"items[0].assets.condition"),j=t=>H(t)?"msn-combo-sold-nondr":z(t)?"msn-combo-return-policy-nondr":V(t)?"msn-combo-condition-nondr":"msft-content-card",q=t=>H(t)?"msn-combo-sold-nondr-c":z(t)?"msn-combo-return-policy-nondr-c":V(t)?"msn-combo-condition-nondr-c":"msft-content-card",G=(t,e)=>{var n;e&&(t.enableNativeAdWC=!0);const i=null==t||null===(n=t.items[0])||void 0===n?void 0:n.assets;null!=i&&i.sold?t.items[0].assets=(0,l.Z)(i,["sold"]):null!=i&&i.returnPolicy?t.items[0].assets=(0,l.Z)(i,["returnPolicy"]):null!=i&&i.condition&&(t.items[0].assets=(0,l.Z)(i,["condition"]))},J=(0,h.Et)(d.Evv,"modifyImageUrlForResponsiveImageSizingTemplate")(((t,e)=>{var n,i;const r=null==t||null===(n=t.items)||void 0===n?void 0:n[0],o=null===(i=r.assets)||void 0===i?void 0:i.price;if(t.template.templateType="msft-content-card",r&&!o){var s,a;const n=Z(parseFloat(r.originalImageHeight),parseFloat(r.originalImageWidth),r.imageUrl,t.template.responsiveImageSizingTemplateConfigs);n&&n.imageUrl!==r.imageUrl&&Y(null==n||null===(s=n.responsiveImageSizingTemplateConfig)||void 0===s?void 0:s.maxHeight,(0,f.O1)(null===(a=t.items)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.title))&&(t.enableResponsiveImageSize=!0,t.template.templateType="msn-responsive-image-sizing",e||(t.responsiveImageSizingTemplateConfig=n.responsiveImageSizingTemplateConfig,t.items[0].imageUrl=n.imageUrl))}})),K=(0,h.Et)(d.Evv,"isDescriptionShowingHelper")(((t,e)=>{var n,i;const r=null===(n=t.items)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.description,o=null===(i=t.items)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.title,s=(null==r?void 0:r.length)>1&&o!=r,a=c[t.region];return x.includes(a)?s:s&&(0,f.O1)(o)<=e})),Q=(0,h.Et)(d.Evv,"isDescriptionShowing")(((t,e)=>K(t,e)?"msn-responsive-description":"msft-content-card")),X=(0,h.Et)(d.Evv,"pickRandomTemplateWithDensity")(((t,e,n,i)=>{if(Math.random()>i)t.enablePattern=!1,t.template.templateType=n;else{const n=e.length,i=Math.floor(Math.random()*n);t.template.templateType=e[i],t.enablePattern=!0}})),Y=(0,h.Et)(d.Evv,"isTitleLineMeetRequire")(((t,e)=>!(!t||!e)&&(225===t&&e<=1||200===t&&e<=2))),Z=(0,h.Et)(d.Evv,"modifyImageUrl")(((t,e,n,i)=>{if(!(t&&e&&n&&n.startsWith("https://www.bing.com/th")))return{imageUrl:n};const r=tt(n),o=n.split("?")[0];if(!i||0===i.length)return{imageUrl:n};for(let n=0;n<i.length;n++){const s=i[n],a=e/t;if(a>=s.lowerBound&&a<=s.placementRatio){return{imageUrl:`${o}?id=${r.id}${r.pid?`&pid=${r.pid}`:""}&w=${s.maxWidth}`,responsiveImageSizingTemplateConfig:s}}if(a>s.placementRatio&&a<=s.upperBound){return{imageUrl:`${o}?id=${r.id}${r.pid?`&pid=${r.pid}`:""}&h=${s.maxHeight}`,responsiveImageSizingTemplateConfig:s}}}return{imageUrl:n}})),tt=(0,h.Et)(d.Evv,"parseImageUrl")((t=>{if(!t)return;const e=new URL(t),n=new URLSearchParams(e.searchParams),i={};return n.forEach(((t,e)=>{["id","pid"].includes(e)&&(i[e]=t)})),i})),et=(0,h.Et)(d.Evv,"switchToAIImage")((t=>{t&&t.items&&t.items[0]&&t.items[0].assets&&t.items[0].assets.transparentImage&&t.items[0].assets.transparentImage.url&&t.items[0].imageUrl&&(t.items[0].imageUrl=t.items[0].assets.transparentImage.url)}))},90194:function(t,e,n){n.d(e,{ms:function(){return r.ms},yp:function(){return r.yp},vn:function(){return r.vn},dN:function(){return r.dN},o9:function(){return xe.o9},DX:function(){return xe.DX},vu:function(){return xe.vu},io:function(){return xe.io},Eo:function(){return xe.Eo},IF:function(){return xe.IF},wq:function(){return xe.wq},lQ:function(){return xe.lQ},F8:function(){return xe.F8},Sj:function(){return xe.Sj},KB:function(){return r.KB},XP:function(){return r.XP},zz:function(){return xe.zz},LO:function(){return r.LO},cE:function(){return r.cE},Ue:function(){return r.Ue},PY:function(){return r.PY},RQ:function(){return r.RQ},Q0:function(){return r.Q0},$l:function(){return r.$l},Up:function(){return r.Up},Ti:function(){return r.Ti},dj:function(){return r.dj},FH:function(){return r.FH},OT:function(){return Ce},FC:function(){return r.FC},Wr:function(){return r.Wr},rf:function(){return r.rf},PB:function(){return r.PB},Fg:function(){return r.Fg},R:function(){return r.R},JU:function(){return r.JU},J2:function(){return r.J2},uH:function(){return r.uH},ZV:function(){return r.ZV},xP:function(){return r.xP},$u:function(){return r.$u},E5:function(){return r.E5},zX:function(){return xe.zX},VR:function(){return r.VR},Gu:function(){return r.Gu},rt:function(){return xe.rt},vy:function(){return xe.vy},_N:function(){return xe._N},D$:function(){return xe.D$},BU:function(){return r.BU},n_:function(){return r.n_},zI:function(){return r.zI},Fz:function(){return r.Fz}});var i=n(75115),r=n(4);const o={configType:"prg-d-rating-n-y",region:[r.yp.river],template:(t,e)=>"msn-default-rating-nondr-yellow-static",requiredAssetsAll:[i.aT.rating],supportedAssets:[i.aT.rating]},s={configType:"prg-h-rating-n-r",region:[r.yp.river],template:(t,e)=>"msn-highlight-rating-nondr-red",requiredAssetsAll:[i.aT.rating],supportedAssets:[i.aT.rating]},a={configType:"prg-h-rating-n-y",region:[r.yp.river],template:(t,e)=>"msn-highlight-rating-nondr-yellow",requiredAssetsAll:[i.aT.rating],supportedAssets:[i.aT.rating]},c={configType:"prg-h-rating-nys",region:[r.yp.river],template:(t,e)=>"msn-highlight-rating-nondr-yellow-static",requiredAssetsAll:[i.aT.rating],supportedAssets:[i.aT.rating]},u={configType:"prg-promo-ndr",region:[...r.Fg],template:(t,e)=>"msn-special-offer-nondr",requiredAssetsAll:[i.aT.specialOffer],supportedAssets:[i.aT.specialOffer]},l={configType:"prg-promo-ndr2",region:[...r.Fg],template:(t,e)=>"msn-special-offer-nondr-with-exp",requiredAssetsAll:[i.aT.specialOffer],supportedAssets:[i.aT.specialOffer]},d={configType:"prg-ad-condition",region:[r.yp.river],template:"msn-condition-nondr",requiredAssetsAll:[i.aT.condition]},f={configType:"prg-ad-return",region:[r.yp.river],template:"msn-return-policy-nondr",requiredAssetsAll:[i.aT.returnPolicy]},h={configType:"prg-ad-sold",region:[r.yp.river],template:"msn-sold-nondr",requiredAssetsAll:[i.aT.sold]},p={configType:"prg-fship-in-b-n",region:[r.yp.river],template:"msn-freeshipping-inline-nondr",requiredAssetsAll:[i.aT.freeShipping],supportedAssets:[i.aT.freeShipping]},m={configType:"prg-fship-in-t-n",region:[r.yp.river],template:"msn-freeshipping-plain-text-nondr",requiredAssetsAll:[i.aT.freeShipping],supportedAssets:[i.aT.freeShipping]},g={configType:"prg-fship-tl-n",region:[r.yp.river],template:"msn-freeshipping-top-left-nondr",requiredAssetsAll:[i.aT.freeShipping],supportedAssets:[i.aT.freeShipping]},v={configType:"prg-fship-tr-n",region:[r.yp.river],template:"msn-freeshipping-top-right-nondr",requiredAssetsAll:[i.aT.freeShipping],supportedAssets:[i.aT.freeShipping]};var w=n(21230);const y={name:"gamification-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:5},children:[...w.u,{name:"gradient-mask",paddingTop:"120",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2}},{name:"gamification",layout:{mode:"pixel",bottom:"35",width:"300",zIndex:4}}]}]},b=(t,e,n)=>({modifier:(t,e)=>{e.template.useClickInGamify=n},configType:t,region:[r.yp.river],template:"msn-gamification",discountThreshold:e,requiredAssetsAll:[i.aT.price,i.aT.salePrice],supportedAssets:[i.aT.price,i.aT.salePrice,i.aT.discount],dynamicRenderingConfig:()=>y}),S=b("prg-wpo-gamify-c",r.XP.gamification,!0),x=b("prg-wpo-gamify-h",r.XP.gamification,!1),C={name:"hotspot-single-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:5},children:[...w.u,{layout:{mode:"pixel",bottom:"0",zIndex:2},children:[{name:"gradient-mask",paddingTop:"30",children:[{name:"div-wrapper",marginBottom:"10",children:[{name:"animation-decorator",animationType:"scale-up",animationConfig:{scaleFrom:0,scaleTo:1,durationString:".3s",delayTimeMs:0},children:[{name:"hotspot-single"}]}]},{name:"ad-title"}]}]}]}]},k=(t,e)=>({configType:t,region:[r.yp.river],requiredAssetsAll:[i.aT.price,i.aT.salePrice],template:"msn-hotspot-single",supportedAssets:[i.aT.price,i.aT.salePrice,i.aT.discount],discountThreshold:e,dynamicRenderingConfig:()=>C}),T=k("prg-wpo-hs",r.XP.default),$=k("prg-wpo-hs10",r.XP.hotspotSingle10),A={configType:"prg-ad-ctav3",region:[...r.cE,...r.Fg],maxAdCount:3,template:(t,e)=>"msn-call-to-action-v3"},I={configType:"prg-ad-cta-pa",region:[...r.Fg],requiredAssetsAll:[i.aT.price],maxAdCount:3,template:(t,e)=>"msn-call-to-action-v3-pa"};var P=n(67552),_=n(82356);const M={name:"feedv2-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"302",height:"157",zIndex:1}},{name:"color-mask",alwaysPresent:!0,feedV2:!0,layout:{mode:"pixel",left:"0",top:"157",width:"300",height:"147",zIndex:1}},{name:"ad-title",isFeedV2:!0,titleFontSize:18,layout:{mode:"pixel",top:"169",zIndex:1}},{name:"see-more",isFeedV2:!0,layout:{mode:"pixel",top:"8",height:"31",left:"260",zIndex:5}},(0,_.It)((0,_.ZV)(P.l,"end-action-part",2,[],1),["ad-label","provider-name","ad-choice"],[{isFeedV2:!0},{isFeedV2:!0},{isFeedV2:!0,layout:{zIndex:5,marginInlineEnd:10}}])]}]},R={configType:"prg-scards",region:[...r.Fg],template:"feedv2-template",dynamicRenderingConfig:()=>M},E=(0,_.RM)(M,"ad-title",{name:"ad-title",isFeedV2:!0,titleFontSize:18,customStyleHovered:"text-decoration:underline;",layout:{mode:"pixel",top:"169",zIndex:1}}),F={configType:"prg-scardsul",region:[...r.Fg],template:"feedv2-template",dynamicRenderingConfig:()=>E},D=(0,_.RM)(M,"ad-title",{name:"ad-title",isFeedV2:!0,titleFontSize:20,customStyleHovered:"text-decoration:underline;",layout:{mode:"pixel",top:"169",zIndex:1}}),O={configType:"prg-scardshov",region:[...r.Fg],template:"feedv2-template",dynamicRenderingConfig:()=>D};var N=n(96811);const U={name:"ad-slug-v3-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[{name:"ad-label",layout:{mode:"pixel",top:"270",height:"31",zIndex:5,marginInlineStart:"16",marginInlineEnd:"8"}},{name:"ad-choice",layout:{mode:"pixel",top:"267",height:"31",zIndex:5,marginInlineStart:"231",marginInlineEnd:"8"}},{name:"see-more",layout:{mode:"pixel",top:"262",height:"31",zIndex:5,marginInlineStart:"256"}},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:1},imageMaskOn:!0},{name:"background-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:0}},{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"div-wrapper",marginBottom:"6",marginLeft:"16",marginRight:"16",width:"260",children:[{name:"favicon-provider-name",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,flex:1,alignItems:N.g1.CENTER},children:[{name:"ad-favicon",layout:{mode:"flex"}},{name:"provider-name",layout:{mode:"flex",flex:1,marginInline:"6",minWidth:"0"},customStyleClass:"white-12-flex-layout",keepOpacity:!0}]}]},{name:"ad-title",twoLine:!0}]}]}]},L={configType:"prg-wpo-ad-slug3",region:[r.yp.river,r.yp.rivercms,r.yp.resriver],template:"msn-ad-slug-v3",dynamicRenderingConfig:()=>U},B={configType:"prg-wpo-ad-slug4",region:[r.yp.river,r.yp.resriver,r.yp.rivercms],template:"msn-ad-slug-v4",dynamicRenderingConfig:()=>U};var W=n(25345),H=n(58721);const z={maxAdCount:3,template:(t,e)=>r.cE.includes(e.region)?"msn-info-pane-dynamic-rendering":"msn-decoration-dynamic",region:[...r.vn],dynamicRenderingConfig:t=>r.cE.includes(t.region)?W.v:H.$},V=[{...z,configType:"prg-ads-deco",supportedAssets:[i.aT.rating,i.aT.freeShipping,i.aT.review]},{...z,configType:"prg-ads-no-deco"}],j={name:"default-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[{name:"div-text",inlineStyle:"font-size:14px;line-height:16px;letter-spacing:0.7px",text:"nativeAdBingRewardsText",layout:{mode:"pixel",left:"16",top:"16",zIndex:2}},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:1},imageMaskOn:!0},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]},{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"footer-wrapper",layout:{mode:"pixel",top:"264",height:"31",width:"100%",zIndex:5},children:[{name:"footer",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,alignItems:N.g1.CENTER,height:"31"},children:[{name:"start-action-part",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,flex:1,alignItems:N.g1.CENTER},children:[{name:"join-now",layout:{mode:"pixel",left:"16",zIndex:2}}]},{name:"end-action-part",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW_REVERSE,alignItems:N.g1.CENTER},children:[{name:"ad-choice",layout:{mode:"flex",paddingRight:"6"}},{name:"div-text",inlineStyle:"font-size:12px;color:rgba(255,255,255,0.7);padding-right:11px",text:"nativeAdPromotedByText",layout:{mode:"flex"}}]}]}]}]}]},q={configType:"prg-amplify",region:[r.yp.riverAmplify,r.yp.rightRailAmplify],template:"msn-amplify",dynamicRenderingConfig:()=>j};var G=n(6711),J=n(59504);const K={configType:"prg-ani-img",qualifier:(t,e)=>(0,J.B6)(e,"animatedimageryinf")||(0,J.B6)(e,"animatedimageryriver"),region:[r.yp.river,r.yp.resriver,r.yp.infopane,r.yp.resinfopane],template:"msn-animated-imagery",supportedAssets:[i.aT.price,i.aT.salePrice],dynamicRenderingConfig:t=>"infopane"===t.region||"resinfopane"===t.region?(0,J.f6)(t,"animatedimageryinf",G.r):(0,J.f6)(t,"animatedimageryriver",G.y),modifier:(t,e)=>{(0,J.qi)(e)}},Q=(0,_.RM)(H.$,"gradient-mask",{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"div",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,flex:1,alignItems:N.g1.CENTER},children:[{name:"ad-title",lineHeight:"28",titleFontSize:"20",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,flex:1,alignItems:N.g1.CENTER,bottom:"52",zIndex:2}},{name:"call-to-action",layout:{mode:"flex",display:N.sS.FLEX,paddingRight:"16"}}]}]}),X={configType:"prg-ad-cta",region:[...r.Fg],requiredAssetsAll:[i.aT.price],template:"msn-ad-cta",supportedAssets:[i.aT.price,i.aT.salePrice],dynamicRenderingConfig:()=>Q},Y=(0,_.RM)(H.$,"gradient-mask",{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:4},children:[{name:"div",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,flex:1,alignItems:N.g1.CENTER},children:[{name:"ad-title",lineHeight:"28",titleFontSize:"20",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,flex:1,alignItems:N.g1.CENTER,bottom:"52",zIndex:2}},{name:"ad-title-mask"},{name:"call-to-action",ctaMode:"arrow",backgroundColor:"#C6C0BA",color:"#000000;",layout:{mode:"flex",display:N.sS.FLEX,paddingRight:"16"}}]}]}),Z={configType:"prg-ad-cta-ic",region:[...r.Fg],requiredAssetsAll:[i.aT.price],template:"msn-ad-cta-icon",dynamicRenderingConfig:()=>Y},tt={configType:"prg-ad-cta-lm",region:[...r.Fg],requiredAssetsAll:[i.aT.price],template:"msn-ad-cta-learn-more",dynamicRenderingConfig:()=>Q},et=(0,_.RM)(Q,"call-to-action",{name:"call-to-action",backgroundColor:"#C6C0BA",color:"#000000;",layout:{mode:"flex",display:N.sS.FLEX,paddingRight:"16"}}),nt={configType:"prg-ad-cta-lmd",region:[...r.Fg],requiredAssetsAll:[i.aT.price],template:"msn-ad-cta-learn-more-dark-mode",dynamicRenderingConfig:()=>et},it=(0,_.As)(Q,["call-to-action","product-image"],[{name:"call-to-action",ctaMode:"mask"},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:1},imageMaskOn:!1}]),rt={configType:"prg-ad-cta-m",region:[...r.Fg],requiredAssetsAll:[i.aT.price],template:"msn-ad-cta-mask-mode",supportedAssets:[i.aT.price,i.aT.salePrice],dynamicRenderingConfig:()=>it},ot={configType:"prg-ad-cta-st",region:[...r.Fg],requiredAssetsAll:[i.aT.price,i.aT.shortTitle],template:"msn-ad-cta-short-title",dynamicRenderingConfig:()=>et},st={configType:"prg-ad-ctav2",region:[...r.Fg],template:"msn-call-to-action-v2",dynamicRenderingConfig:()=>Y},at=[{configType:"prg-ad-logo-c",template:"msn-logo-c",region:[...r.Fg],qualifier:(t,e)=>{var n;return!(null===(n=e.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.assets)||void 0===n||null===(n=n.logo)||void 0===n||!n.url)},requiredAssetsAll:[i.aT.logo]},{configType:"prg-ad-z-c",template:"msn-z-index-c",region:[r.yp.river],qualifier:(t,e)=>(0,r.Ue)(e),requiredAssetsAll:[i.aT.transparentImage]},{configType:"prg-promo-ndr-c",template:"msn-special-offer-c",region:[...r.Fg],requiredAssetsAll:[i.aT.specialOffer]},{configType:"prg-fship-c",template:"msn-freeshipping-c",region:[r.yp.river],requiredAssetsAll:[i.aT.freeShipping]},{configType:"prg-rating-c",template:"msn-rating-c",region:[r.yp.river],requiredAssetsAll:[i.aT.rating]},{configType:"prg-trendingc",template:"msn-trending-c",region:[...r.Fg],requiredAssetsAll:[i.aT.viewed]},{configType:"prg-ad-sh-v1-c",template:"msn-sale-highlight-v1-c",region:[...r.Fg,...r.cE],requiredAssetsAll:[i.aT.price,i.aT.salePrice,i.aT.discount],discountThreshold:r.XP.saleHighlight15,maxAdCount:1},{configType:"prg-ad-sh-v3v4-c",template:"msn-sale-highlight-v3v4-c",region:[...r.Fg],qualifier:(t,e)=>(0,r.Ue)(e),requiredAssetsAll:[i.aT.price,i.aT.salePrice,i.aT.discount,i.aT.transparentImage],discountThreshold:r.XP.saleHighlight15,maxAdCount:1},{configType:"prg-ad-combo-c",region:[...r.Fg],template:(t,e)=>(0,r.J2)(e),requiredAssetsAny:[i.aT.rating,i.aT.specialOffer,i.aT.freeShipping]},{configType:"prg-ad-condition-c",region:[r.yp.river],template:"msn-condition-nondr-c",requiredAssetsAll:[i.aT.condition]},{configType:"prg-ad-return-c",region:[r.yp.river],template:"msn-return-policy-nondr-c",requiredAssetsAll:[i.aT.returnPolicy]},{configType:"prg-ad-sold-c",region:[r.yp.river],template:"msn-sold-nondr-c",requiredAssetsAll:[i.aT.sold]},{configType:"prg-ad-combo-t-c",region:[...r.Fg],template:(t,e)=>(0,r.ZV)(e),requiredAssetsAny:[i.aT.sold,i.aT.returnPolicy,i.aT.condition]},{configType:"prg-ad-ris1-c",region:r.Fg,supportedAssets:[i.aT.price],modifier:(t,e)=>{(0,r.dj)(e,!0)}},{configType:"prg-ad-desc-c",region:r.Fg,template:(t,e)=>(0,r.PY)(e)},{configType:"prg-ad-align-rf",region:r.Fg,template:(t,e)=>"msn-native-ad-align-rf"},{configType:"prg-ad-ai-imgs-c",region:[...r.Fg,...r.cE],template:"msn-native-ad-ai-img",requiredAssetsAll:[i.aT.transparentImage]},{configType:"prg-ad-ai-imgf-c",region:[...r.Fg,...r.cE],template:"msn-native-ad-ai-img",requiredAssetsAll:[i.aT.transparentImage]}];var ct=n(5804),ut=n(88040);const lt={configType:"prg-dr-combined",region:r.vn,template:(t,e)=>r.cE.includes(e.region)?"msn-info-pane-dynamic-rendering":"msn-decoration-dynamic",dynamicRenderingConfig:t=>r.cE.includes(t.region)?W.v:H.$,modifier:(t,e)=>{e.enableNativeAdWC=!0}},dt={configType:"prg-ad-combo",region:[r.yp.river],template:(t,e)=>(0,r.JU)(e),requiredAssetsAny:[i.aT.freeShipping,i.aT.rating,i.aT.specialOffer],dynamicRenderingConfig:t=>(0,r.R)(t),modifier:(t,e)=>(0,r.$u)(e,!0)},ft={configType:"prg-dr-infopane",region:[r.yp.infopane,r.yp.resinfopane],maxAdCount:3,template:"msn-info-pane-dynamic-rendering",supportedAssets:[i.aT.rating,i.aT.freeShipping,i.aT.review],dynamicRenderingConfig:()=>W.v},ht=[{configType:"prg-ads-tel-i",region:r.cE,template:"msn-ad-dr-perf",dynamicRenderingConfig:()=>W.v},{configType:"prg-ads-tel-r",region:r.Fg,template:"msn-ad-dr-perf",dynamicRenderingConfig:()=>H.$}],pt={configType:"prg-ad-eb",region:[...r.Fg,...r.cE],template:"msn-elite-badge",requiredAssetsAll:[i.aT.eliteBadge],supportedAssets:[i.aT.eliteBadge],maxAdCount:3,dynamicRenderingConfig:t=>r.cE.includes(t.region)?W.v:H.$},mt=(0,_.ZV)(H.$,"gradient-mask",0,[{name:"div-wrapper",marginBottom:"8",marginLeft:"16",marginRight:"16",children:[{name:"free-shipping",color:"#036ac4",layout:{mode:"pixel",bottom:"265"}}]}]),gt={configType:"prg-dr-fship",qualifier:(t,e)=>(0,J.B6)(e,"shippingriver"),region:[r.yp.river],template:"msn-freeshipping-dr",requiredAssetsAll:[i.aT.freeShipping],dynamicRenderingConfig:t=>(0,J.f6)(t,"shippingriver",mt)},vt={name:"highlight-rating-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:5},children:[...w.u,{layout:{mode:"pixel",bottom:"0",zIndex:2},children:[{name:"gradient-mask",paddingTop:"30",children:[{name:"div-wrapper",marginBottom:"10",children:[{name:"highlight-rating"}]},{name:"ad-title",oneLineTitle:!0}]}]}]}]},wt={configType:"prg-wpo-h-rating",region:[r.yp.river],requiredAssetsAll:[i.aT.rating],template:"msn-highlight-rating-card",supportedAssets:[i.aT.rating],dynamicRenderingConfig:()=>vt},yt=(0,_.It)(W.v,["hover-mask","product-image"],[{layout:{mode:"pixel",filter:"contrast(115%)",left:"0",top:"0",width:"100%",height:"100%"}},{imageMaskOn:!1}]),bt=(0,_.It)(H.$,["hover-mask","product-image"],[{layout:{mode:"pixel",filter:"contrast(115%)",left:"0",top:"0",width:"100%",height:"100%"}},{imageMaskOn:!1}]),St={configType:"prg-ad-hover",region:[...r.vn],template:"msft-content-card",dynamicRenderingConfig:t=>r.cE.includes(null==t?void 0:t.region)?yt:bt},xt={name:"default-infopane-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%"},children:[{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:4}},{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",zIndex:1,width:"100%",height:"304"},imageMaskOn:!0,imageMaskOpacity:"0.1",trimBottom:!0},{name:"gradient-mask",paddingTop:"90",layout:{mode:"pixel",bottom:"0",width:"100%",zIndex:2},children:[{name:"ad-title",lineHeight:"36",titleFontSize:"28",oneLineTitle:!0}]},P.l]}]},Ct={configType:"prg-infopaneDoubleCard19",region:r.cE,maxAdCount:3,template:"msn-card-19-by-10",dynamicRenderingConfig:()=>xt},kt=(0,_.It)(xt,["footer","ad-title"],[{layout:{mode:"flex",flexDirection:"row",alignItems:"center",position:"absolute",bottom:"17",height:"31",width:"100%"}},{lineHeight:"44"}]),Tt={configType:"prg-infopane-db",region:[r.yp.riverdb],maxAdCount:3,template:"msn-card-19-by-10",dynamicRenderingConfig:()=>kt,modifier:(t,e)=>{e.enableNativeAdWC=!0}},$t=(0,_.FT)(H.$,"end-action-part",0,[{name:"like-button",layout:{zIndex:5}}]),At={configType:"prg-ad-like",region:[r.yp.river,r.yp.resriver],template:"msn-like-button",dynamicRenderingConfig:()=>$t},It={name:"logo-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:5},children:[...w.u,{name:"gradient-mask",paddingTop:"120",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2}},{name:"logo",width:"42",height:"42",layout:{mode:"pixel",left:"16",bottom:"49",zIndex:2}},{name:"logo-title-wrapper",layout:{mode:"pixel",left:"54",bottom:"54",zIndex:2},children:[{name:"logo-title-flex-wrapper",layout:{mode:"flex",height:"42",display:N.sS.FLEX,flexDirection:N.Qb.ROW,flex:1,alignItems:N.g1.CENTER},children:[{name:"ad-title",titleFontSize:"20",twoLine:!0}]}]}]}]},Pt={qualifier:(t,e)=>{var n;return!(null===(n=e.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.assets)||void 0===n||null===(n=n.logo)||void 0===n||!n.url)},configType:"prg-ad-logo",region:[...r.Fg],template:"msn-native-ad-logo",requiredAssetsAll:[i.aT.logo],dynamicRenderingConfig:()=>It,modifier:(t,e)=>{e.items&&e.items[0]}},_t=(0,_.RM)(It,"logo",{name:"logo",width:"42",height:"42",borderRadius:"6",layout:{mode:"pixel",left:"16",bottom:"49",zIndex:2}}),Mt={qualifier:(t,e)=>{var n;return!(null===(n=e.items)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.assets)||void 0===n||null===(n=n.logo)||void 0===n||!n.url)},configType:"prg-ad-logo-r",region:[...r.Fg],template:"msn-native-ad-logo-radius",requiredAssetsAll:[i.aT.logo],dynamicRenderingConfig:()=>_t},Rt={configType:"prg-ad-combo2",region:r.Fg.concat(r.cE),template:(t,e)=>(0,r.uH)(e),requiredAssetsAny:[i.aT.rating,i.aT.specialOffer,i.aT.freeShipping,i.aT.discount],maxAdCount:1,modifier:(t,e)=>(0,r.$u)(e)};var Et=n(5302),Ft=n(90351);const Dt=(t,e)=>{const n=(0,_.As)(H.$,["gradient-mask","provider-name","ad-label"],[{name:"gradient-mask",peSeasonalColorMode:`peSeasonalColorMode${t}`,layout:{position:"absolute",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]},{name:"provider-name",layout:{flex:1,minWidth:0,zIndex:5},customStyleClass:"white-12-flex-layout",adLabelTextOpacity:"1",isSeasonal:!0},{name:"ad-label",layout:{marginInlineStart:"16",marginInlineEnd:"6",zIndex:5},adLabelTextOpacity:"1",isSeasonal:!0}]);return(0,_.FT)(n,"default-template",3,[{name:"product-image",patternMode:`patternMode${e}`,useTransparentImage:!0,layout:{position:"absolute",bottom:0,width:"100%",height:121,zIndex:2,pointerEvents:"none"}}])};Dt("1","1"),Dt("2","1"),Dt("3","1"),Dt("4","1"),Dt("1","2"),Dt("2","2"),Dt("3","2"),Dt("4","2");var Ot=n(31404);const Nt={configType:"prg-ads-seasonal",qualifier:(t,e)=>Ut(e),region:[...r.Fg],template:(t,e)=>"msn-pe-seasonal",dynamicRenderingConfig:t=>{const e=(0,Ft.Z)(t,"items[0].ext.adCreative.templateConfig.seasonal.color"),n=(0,Ft.Z)(t,"items[0].ext.adCreative.templateConfig.seasonal.elementStyle");return Dt(e,n)}},Ut=(0,Ot.Et)(Et.Evv,"isPersonalizedAvailable")((t=>{var e;return"seasonal"===(0,Ft.Z)(t,"items[0].ext.adCreative.templateId")&&!(null===(e=t.items)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.ext)||void 0===e||null===(e=e.adCreative)||void 0===e||!e.templateConfig)&&!1===(0,Ft.Z)(t,"items[0].ext.adCreative.templateConfig.seasonal.suppress")})),Lt={configType:"prg-ads-seav1",region:[...r.Fg],template:(t,e)=>"msn-pe-seasonal-v1",dynamicRenderingConfig:t=>Dt("3","1")},Bt={configType:"prg-ads-seav1-p",region:r.Fg,template:(t,e)=>"msn-pe-seasonal-v1p",qualifier:(t,e)=>e.providerId&&"bing"===e.providerId.toLowerCase(),dynamicRenderingConfig:t=>Dt("3","1")},Wt=(0,_.FT)(H.$,"gradient-mask",0,[{name:"div-wrapper",marginBottom:"8",marginLeft:"16",marginRight:"16",children:[{name:"rating"}]}]),Ht={name:"default-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...w.u.filter((t=>"product-image"!==t.name)),{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:1},imageMaskOn:!0},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]}]}]},zt=t=>(0,J.B6)(t,"shippingriver"),Vt={configType:"prg-ads-personal",qualifier:(t,e)=>zt(e)||(0,J.B6)(e,"ratingsriver"),region:[r.yp.river],template:(t,e)=>zt(e)?"msn-freeshipping-dr":"msn-rating-dr",supportedAssets:[i.aT.freeShipping,i.aT.rating,i.aT.review],dynamicRenderingConfig:t=>{const e=(0,J.ls)(t)?mt:Ht,n=(0,J.FY)(t)?Wt:Ht;return zt(t)?(0,J.f6)(t,"shippingriver",e):(0,J.f6)(t,"ratingsriver",n)}},jt={configType:"prg-wpo-deco-dr",region:[r.yp.river,r.yp.infopane,r.yp.resriver,r.yp.resinfopane],template:"msn-decoration-dynamic",requiredAssetsAny:[i.aT.rating,i.aT.freeShipping,i.aT.review],dynamicRenderingConfig:()=>H.$},qt={configType:"prg-dr-rating",qualifier:(t,e)=>(0,J.B6)(e,"ratingsriver"),region:[r.yp.river],template:"msn-rating-dr",requiredAssetsAll:[i.aT.rating],supportedAssets:[i.aT.rating,i.aT.review],dynamicRenderingConfig:t=>(0,J.f6)(t,"ratingsriver",Wt)},Gt=t=>(0,_.FT)(t?W.v:H.$,t?"default-infopane-template":"default-template",0,[{name:"sale-highlight-badge",layout:{mode:"pixel",top:"16",left:"16",zIndex:2}}]),Jt=Gt(!1),Kt=Gt(!0),Qt={configType:"prg-ad-sh-v1",region:[...r.Fg,...r.cE],template:"msn-sale-highlight-v1",requiredAssetsAll:[i.aT.price,i.aT.salePrice,i.aT.discount],discountThreshold:r.XP.saleHighlight15,maxAdCount:1,dynamicRenderingConfig:t=>r.cE.includes(t.region)?Kt:Jt},Xt={name:"sale-highlight-v3-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...w.u.filter((t=>"product-image"!==t.name&&"background-image"!==t.name)),{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"sh-content-wrapper",layout:{mode:"pixel",zIndex:1},children:[{name:"sale-highlight-flex-wrapper",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,width:"300",height:"304"},children:[{name:"sale-highlight-title",layout:{mode:"flex",display:N.sS.FLEX,alignItems:N.g1.CENTER,width:"126",height:"183",marginInline:"8",marginTop:"10"}},{name:"product-image",useTransparentImage:!0,noDropShadow:!0,imageMaskOn:!0,imageMaskLeft:"0",imageMaskTop:"0",layout:{width:"150",height:"183",marginTop:"10"}}]}]},{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:0},opacity:"0.4",alwaysPresent:!0},{name:"gradient-mask",isFullGradient:!1,useDynamicStyle:!0,paddingTop:"28",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:3},children:[{name:"ad-title"}]}]}]},Yt={name:"sale-highlight-v3-template",children:[...w.u.filter((t=>"product-image"!==t.name)),{name:"sale-highlight-horizontal-title",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,alignItems:N.g1.CENTER,justifyContent:N.uM.CENTER,width:"300",marginInline:"8",marginBottom:"10",zIndex:1,marginTop:19,position:"absolute"}},{name:"product-image",useTransparentImage:!0,noDropShadow:!0,imageMaskOn:!0,imageMaskLeft:0,imageMaskTop:0,imageMaskHeight:304,imageMaskWidth:300,layout:{position:"absolute",width:"236",height:"118",left:"32",top:"77",zIndex:1}},{name:"color-mask",layout:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:0},opacity:"0.4",alwaysPresent:!0},{name:"gradient-mask",isFullGradient:!1,useDynamicStyle:!0,paddingTop:"28",layout:{position:"absolute",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]}]},Zt={configType:"prg-ad-sh-v3",region:[...r.Fg],template:"msn-sale-highlight-v3",qualifier:(t,e)=>(0,r.Ue)(e),requiredAssetsAll:[i.aT.price,i.aT.salePrice,i.aT.discount,i.aT.transparentImage],discountThreshold:r.XP.saleHighlight15,maxAdCount:1,dynamicRenderingConfig:t=>(0,r.Up)(t)?Xt:Yt},te={name:"sale-highlight-v4-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[{name:"ad-title-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:4}},{name:"sh-content-wrapper",layout:{mode:"pixel",zIndex:1},children:[{name:"sale-highlight-flex-wrapper",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,width:"300",height:"304"},children:[{name:"sale-highlight-title",layout:{mode:"flex",display:N.sS.FLEX,alignItems:N.g1.CENTER,width:"126",height:"183",marginInline:"8",marginTop:"10"}},{name:"product-image",useTransparentImage:!0,noDropShadow:!0,imageMaskOn:!0,imageMaskLeft:"0",imageMaskTop:"0",layout:{adBackgroundColor:"#2E2E2E",width:"150",height:"183",marginTop:"10"}}]}]},{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:0},opacity:"0.7",alwaysPresent:!0},{name:"gradient-mask",isFullGradient:!1,useDynamicStyle:!0,paddingTop:"28",background:"linear-gradient(var(--gradient-end-color) 0%, var(--gradient-mid-color) 20%, var(--ad-background-color) 30%, var(--ad-background-color) 100%)",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:3,neutralFillHoverColor:"#484848",neutralFillActiveColor:"#3B3B3B",neutralForegroundRestColor:"#FFFFFF",adBackgroundColor:"#2E2E2E",gradientMidColor:"rgba(46, 46, 46, 0.8)",gradientEndColor:"rgba(46, 46, 46, 0)"},children:[{name:"ad-title"}]},(0,_.Tb)(P.l,"footer",{layout:{mode:"flex",flexDirection:"row",alignItems:"center",position:"absolute",bottom:"9",height:"31",width:"100%",neutralFillHoverColor:"#484848",neutralFillActiveColor:"#3B3B3B",neutralForegroundRestColor:"#FFFFFF"}})]}]},ee={name:"sale-highlight-v4-template",children:[...w.u.filter((t=>"product-image"!==t.name)),{name:"sale-highlight-horizontal-title",layout:{mode:"flex",display:N.sS.FLEX,flexDirection:N.Qb.ROW,alignItems:N.g1.CENTER,justifyContent:N.uM.CENTER,width:"300",marginInline:"8",marginBottom:"10",zIndex:1,marginTop:19,position:"absolute"}},{name:"product-image",useTransparentImage:!0,noDropShadow:!0,imageMaskOn:!0,imageMaskLeft:0,imageMaskTop:0,imageMaskHeight:304,imageMaskWidth:300,layout:{position:"absolute",width:"236",height:"118",left:"32",top:"77",zIndex:1,adBackgroundColor:"#2E2E2E"}},{name:"color-mask",layout:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",zIndex:0},opacity:"0.4",alwaysPresent:!0},{name:"gradient-mask",isFullGradient:!1,useDynamicStyle:!0,paddingTop:"28",background:"linear-gradient(var(--gradient-end-color) 0%, var(--gradient-mid-color) 20%, var(--ad-background-color) 30%, var(--ad-background-color) 100%)",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:3,neutralFillHoverColor:"#484848",neutralFillActiveColor:"#3B3B3B",neutralForegroundRestColor:"#FFFFFF",adBackgroundColor:"#2E2E2E",gradientMidColor:"rgba(46, 46, 46, 0.8)",gradientEndColor:"rgba(46, 46, 46, 0)"},children:[{name:"ad-title"}]},(0,_.Tb)(P.l,"footer",{layout:{mode:"flex",flexDirection:"row",alignItems:"center",position:"absolute",bottom:"9",height:"31",width:"100%",neutralFillHoverColor:"#484848",neutralFillActiveColor:"#3B3B3B",neutralForegroundRestColor:"#FFFFFF"}})]},ne={configType:"prg-ad-sh-v4",region:[...r.Fg],template:"msn-sale-highlight-v4",qualifier:(t,e)=>(0,r.Ue)(e),requiredAssetsAll:[i.aT.price,i.aT.salePrice,i.aT.discount,i.aT.transparentImage],discountThreshold:r.XP.saleHighlight15,maxAdCount:1,dynamicRenderingConfig:t=>(0,r.Up)(t)?te:ee},ie={configType:"prg-wpo-ss",region:[r.yp.river],template:"msn-slideshow-card",modifier:(t,e)=>{e.slideshowProps=e.template.slideshowProps={autoScroll:!0,autoScrollIntervalMs:3e3,maxImageCount:5,enableSlideshowMediaControls:!0}},multiImage:!0},re={name:"spotlight-image-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...w.u.filter((t=>"product-image"!==t.name)),{name:"product-image",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:1},imageMaskOn:!0},{name:"spotlight-background",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304",zIndex:0}},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},paddingBottom:"0"}]}]},oe={configType:"prg-wpo-sl",region:[r.yp.river],template:"msn-spotlight-image",supportedAssets:[],supportedImageRatios:["1x1","3x4","4x3"],targetImageRatio:"1x1",dynamicRenderingConfig:()=>re},se={...H.$,userActionLogger:"PrgTitle2"},ae={configType:"prg-title-2",region:r.Fg,template:"msn-title-max-line-2",dynamicRenderingConfig:()=>se},ce={...H.$,userActionLogger:"PrgTitle2C"},ue={configType:"prg-title-2-c",region:r.Fg,template:"msn-title-max-line-2-c",dynamicRenderingConfig:()=>ce},le=(0,_.RM)(H.$,"gradient-mask",{name:"gradient-mask",layout:{position:"absolute",bottom:"0",width:"300",zIndex:2},children:[{name:"trending",layout:{position:"relative",zIndex:5}},{name:"ad-title"}]}),de={configType:"prg-trending",region:[...r.Fg],template:"msn-trending",requiredAssetsAll:[i.aT.viewed],dynamicRenderingConfig:()=>le},fe={name:"zindex-v2-original-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...w.u.filter((t=>"product-image"!==t.name&&"background-image"!==t.name)),{name:"product-image",layout:{mode:"pixel",left:"24",top:"20",width:"252",height:"150",zIndex:2},useTransparentImage:!0},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",height:"304",zIndex:1},isFullGradient:!0},{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:2},opacity:"0.3"},{name:"div",layout:{mode:"pixel",bottom:"45",width:"300",zIndex:2},children:[{name:"ad-title"}]}]}]},he={configType:"prg-ad-zv2-o",region:[r.yp.river],qualifier:(t,e)=>(0,r.Ue)(e),template:"msn-ad-zindex-v2-original",requiredAssetsAll:[i.aT.transparentImage],dynamicRenderingConfig:()=>fe},pe={name:"zindex-v2-polygon-template",children:[{name:"hover-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"304"},children:[...w.u.filter((t=>"product-image"!==t.name&&"background-image"!==t.name)),{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:1},opacity:"0.4",alwaysPresent:!0},{name:"product-image",layout:{mode:"pixel",left:"24",top:"20",width:"252",height:"150",zIndex:2},useTransparentImage:!0},{name:"polygon-mask",layout:{mode:"pixel",left:"0",top:"0",width:"300",height:"225",zIndex:2}},{name:"color-mask",layout:{mode:"pixel",left:"0",top:"0",width:"100%",height:"100%",zIndex:2},opacity:"0.3"},{name:"gradient-mask",layout:{mode:"pixel",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}],isRadialMask:!0}]}]},me={configType:"prg-ad-zv2-p",region:[r.yp.river],qualifier:(t,e)=>(0,r.Ue)(e),template:"msn-ad-zindex-v2-polygon",requiredAssetsAll:[i.aT.transparentImage],dynamicRenderingConfig:()=>pe},ge={configType:"prg-ad-combo-txt",region:[...r.Fg],template:(t,e)=>(0,r.xP)(e),requiredAssetsAny:[i.aT.sold,i.aT.returnPolicy,i.aT.condition],modifier:(t,e)=>(0,r.E5)(e)},ve={configType:"prg-ad-ris1",region:r.Fg,supportedAssets:[i.aT.price],modifier:(t,e)=>{(0,r.dj)(e)}},we=[{configType:"prg-ad-desc-wide-1",region:r.Fz,template:(t,e)=>(0,r.PY)(e)},{configType:"prg-ad-desc-wide-2",region:r.Fz,template:(t,e)=>(0,r.PY)(e)}],ye=["msn-geometric-ad-waves-1","msn-geometric-ad-waves-3","msn-geometric-ad-waves-4","msn-geometric-ad-nature-3","msn-geometric-ad-sparkles-1","msn-geometric-ad-sparkles-2","msn-geometric-ad-sparkles-3","msn-geometric-ad-sparkles-4","msn-geometric-ad-sparkles-5"],be=[{configType:"prg-ad-geometric",region:[...r.Fg],modifier:(t,e)=>{(0,r.rf)(e,ye,"msft-content-card",e.template.seasonalAdTemplateConfig.density)}}],Se={configType:"prg-ad-ai-img",region:[...r.Fg,...r.cE],template:"msn-native-ad-ai-img",requiredAssetsAll:[i.aT.transparentImage],modifier:(t,e)=>{(0,r.Gu)(e)}};var xe=n(82948);const Ce=[S,x,T,$,ct.X,ut.T,jt,K,ie,ae,ue,wt,Pt,Mt,X,Z,tt,nt,ot,rt,st,ft,Ct,Tt,he,me,oe,F,O,R,L,B,q,...V,...ht,u,l,p,m,g,v,s,a,c,o,h,d,f,lt,gt,pt,qt,Vt,At,St,de,Qt,Zt,ne,dt,Rt,A,I,Nt,Lt,Bt,ge,ve,Se,...be,...we,...at]},61339:function(t,e,n){n.d(e,{Z:function(){return o}});var i=n(15598);const r="BT_AA_DETECTION";function o(){if((0,i.$o)().supported){const t=(0,i.$o)().getObject(r,void 0);if(void 0!==t)return!1===t.acceptable}return!1}},91216:function(t,e,n){function i(){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}n.d(e,{p:function(){return i}})},15320:function(t,e,n){n.d(e,{SH:function(){return d},Yh:function(){return u},bF:function(){return h},uT:function(){return f}});var i=n(61932),r=n(33779),o=n(5302),s=n(13218),a=n(5232);const c=16;function u(t,e,n,i){var s;null!=t&&null!==(s=t.indices)&&void 0!==s&&s.length&&(t.placementLevelSignals=t.indices.map(((s,a)=>{var u;const h=(null===(u=t.placementLevelSignals)||void 0===u?void 0:u[a])||{},p=function(t,e,n,i,s,a){var u,h,p,m,g;if(null==t||!t.region)return{};let v=`nativead-${t.region}-${e}`;const w=null===(u=t.region)||void 0===u?void 0:u.includes("infopane"),y=null===(h=t.region)||void 0===h?void 0:h.includes("sliver"),b=null===(p=t.region)||void 0===p?void 0:p.includes("rectangle"),S=null===(m=document)||void 0===m||null===(m=m.querySelector("entry-point"))||void 0===m||null===(m=m.shadowRoot)||void 0===m||null===(g=m.querySelector)||void 0===g?void 0:g.call(m,"waterfall-view-feed");let x;if(w)v="infopane";else if(y){if(v=`sliver-${e}`,S&&s)try{x=S.getBoundingClientRect().top>s.getBoundingClientRect().bottom}catch(t){x=void 0}}else b&&(v=`rectangle${e}`);const C=d(t.region,n),k=f(t.region,x);let T=null!=n&&n.passAdOcidRegSize?{pageRegion:k,cardSize:C}:{};null==n||!n.passBrandSafetySignals||null!=i&&i.length||function(t,e,n,i,r,o){var s;let a,c=[];if(e){const{layout:t,masterLayoutCardList:e,masterCardMapWpoItems:n,river:o}=(null==r?void 0:r.feedManager)||{};if(i)c.push(...l(e,n,t,0));else{let i;if(null==o||o.forEach((t=>{var e;const n=null==t||null===(e=t.cardMetadataList)||void 0===e?void 0:e[0];"display-ad-banner"===(null==n?void 0:n.id)&&"number"==typeof(null==n?void 0:n.order)&&(i=n.order-1)})),"number"==typeof i&&i>=0){const r=l(e,n,t,i-1),o=l(e,n,t,i);c.push(...r,...o),null!=o&&o.length||(a=!0)}}}else if(n){var u;const t=null==r||null===(u=r.feedManager)||void 0===u||null===(u=u.waterfall)||void 0===u||null===(u=u.flatMap((t=>t.columns[0])))||void 0===u?void 0:u.find((t=>t.instanceId===o));c=null==t?void 0:t.adjacentCardIds}null!==(s=c)&&void 0!==s&&s.length&&(t.adjacentCardIds=c);a&&(t.isPartialBrandSafety=a)}(T,y,b,x,S,v);if(!a){const i=function(t,e,n,i,r,o,s,a){var u,l;const d=null==n||null===(u=n.shadowRoot)||void 0===u?void 0:u.querySelectorAll("cs-super-container");let f,h=null;if(d&&d.length>0)for(const n of d){var p;const u=null==n||null===(p=n.shadowRoot)||void 0===p||null===(p=p.querySelector("cs-responsive-feed-layout"))||void 0===p?void 0:p.shadowRoot;if(u){if(r)h=u.querySelector("cs-infopane-card, cs-infopane-card-28, cs-infopane-card-immersive");else if(o){var m;if(h=null==i||null===(m=i.shadowRoot)||void 0===m?void 0:m.querySelector(`[id*="${a}"]`),!h&&i&&null!=t&&t.w){try{const n=i.getBoundingClientRect();if(n){const i=2*t.w+c;f=1===e?n.left-i/2:n.left+c/2}}catch(t){f=void 0}h=i}}else h=s?i:null==u?void 0:u.querySelector(`[id*="${a}"]`);if(h)break}}const g=null===(l=h)||void 0===l?void 0:l.getBoundingClientRect();if(!g)return;return{top:g.top,left:f??g.left,width:g.width,height:g.height}}(C,e,S,s,w,y,b,v);if(i)return null!=n&&n.enableAddingAdCoords&&(T.coords={x:i.left,y:i.top}),null!=n&&n.passAdOcidRegSize&&i.width&&i.height&&(T.cardSize={w:i.width,h:i.height}),T;(0,r.H)(o.SPB,"Placement level signal fell back to cached coordinates",`{"cardId": "${v}", "placement": ${JSON.stringify(t)}}`,void 0,void 0,20)}if(null!=n&&n.enableAddingAdCoords&&a){const t=a(v);t&&(T={...T,...t})}return T}(t,s,e,h.adjacentCardIds,n,i);return{...h,...p}})))}function l(t,e,n,i){var r;const o=[];return!t||!e||!n||"number"!=typeof i||i<0||null==t||null===(r=t.river)||void 0===r||null===(r=r[n])||void 0===r||r.filter((t=>{var e;return void 0!==(null==t||null===(e=t.cards)||void 0===e||null===(e=e[i])||void 0===e?void 0:e.wpoId)})).forEach((t=>{const n=t.cards[i].wpoId,r=null==e?void 0:e.get("river_wfcard"+n),s=(null==r?void 0:r.subItems)||(null==r?void 0:r.subCards);if(null!=s&&s.length){let t=0;for(const e of s)if(null!=e&&e.id&&(o.push(e.id),t++),3===t)break}else(null==r?void 0:r.id)&&o.push(r.id)})),o}function d(t,e){var n;if(!t)return;const r=null==e||null===(n=e.adTemplateConfig)||void 0===n?void 0:n.cardSizeConfig;return r&&r[t]?r[t]:t.includes("infopane")?(null==r?void 0:r.infopane)||i.sS.infopane:t.includes("river")?(null==r?void 0:r.river)||i.sS.river:i.sS[t]||void 0}function f(t,e){if(t)return t.includes("infopane")?"infopane":t.includes("river")||t.includes("rectangle")?"river":t.includes("sliver")?e?"topbanner":"sliver":t}function h(t,e){t&&(t.auctionLevelSignals={...t.auctionLevelSignals,isPrerender:!(null===s.Al||void 0===s.Al||!s.Al.IsPrerender),isSSR:!1,vpSize:window&&{w:window.innerWidth,h:window.innerHeight},ocid:null!=e&&e.passAdOcidRegSize?(0,a.ku)():void 0})}},93516:function(t,e,n){n.d(e,{c5:function(){return _},yw:function(){return R},En:function(){return w},kc:function(){return M},Z:function(){return E},AN:function(){return S},pP:function(){return y},IA:function(){return I},x4:function(){return C},FD:function(){return k},lT:function(){return T},lO:function(){return $},Bi:function(){return P}});var i,r=n(38300),o=n(75115);!function(t){t.Image="image",t.Title="title",t.Data="data"}(i||(i={}));var s=n(33779),a=n(5302),c=n(21215),u=n(90351),l=n(25156),d=n(4935),f=n(6734),h=n(53552),p=n(64411),m=n(13218),g=n(33493),v=n(44132);function w(t,e,n){return n?e||r.rO[t]||"Sponsored":e||r.S7[t]||"Ad"}function y(t,e){var n;return null!==m.Al&&void 0!==m.Al&&null!==(n=m.Al.CurrentFlightSet)&&void 0!==n&&n.has("prg-ad-mon-feedback")&&e?(v.M0.addOrUpdateTmplProperty("adFeedbackMonetizeEligible","1"),e):function(t){let e="";if(!t)return e;try{const n=JSON.parse(t).tcb;n&&Array.isArray(n)&&n.forEach((t=>{t.includes("srtb")&&(e=t.replace("notify/clicked","notify/feedback"))}))}catch(t){e=""}return e}(t)}function b(t,e,n,i){try{const n=(0,u.Z)(e,"data.ext.msft.msan_data");i(t,e,"string"==typeof n?JSON.parse(n):n)}catch(t){(0,s.H)(a.J94,`Ad response with invalid ${n} data`,void 0,{...a.J94.pb,customMessage:`${t&&t.message}`,ext:(0,u.Z)(e,"data")})}}function S(t,e){const n=(null==e?void 0:e.image)??(null==e?void 0:e.img),i=(0,u.Z)(e,"image.type")??(0,u.Z)(e,"img.type"),r=(0,l.Z)(o.aT,(t=>t===`image-${i}`));return r&&(t[r]={w:null==n?void 0:n.w,h:null==n?void 0:n.h,url:null==n?void 0:n.url,ext:null==n?void 0:n.ext}),t}function x(t,e){return t.title=e.title.text,t}function C(t,e,n){if(n){const n=(0,d.Z)(e,((t,e)=>{if(null!=e&&e.data){const n=(0,u.Z)(e,"data.type"),i=(0,l.Z)(o.aT,(t=>t===`data-${n}`));if(i)if(o.xs.includes(i))try{const n=(0,u.Z)(e,"data.value")||"{}";t[i]=JSON.parse(n)}catch(n){(0,s.H)(a.J94,`Ad response with invalid ${i} compound data`,void 0,{...a.J94.pb,customMessage:`${n&&n.message}`,compoundValue:(0,u.Z)(e,"data.value")}),t[i]={}}else switch(i){case o.W3.PopupDisclaimer:!function(t,e,n){b(t,e,n,((t,e,i)=>{const r=(0,u.Z)(e,"data.value");if(!r||0===r.length)throw new TypeError("Popup disclaimer title field is empty or missing");if(!i||!i.text||0===i.text.length)throw new TypeError("Popup disclaimer text field is empty or missing");const o={title:r,text:i.text,url:i.url};t[n]=o}))}(t,e,i);break;case o.W3.WorkingHoursItem:!function(t,e,n){b(t,e,n,((t,e,n)=>{var i,r,o;t.workingHours=(0,u.Z)(e,"data.value"),t.workingHoursStatus=null==n||null===(i=n.working_hours)||void 0===i?void 0:i.status,t.workingHoursIsOpen="1"===(o=null==n||null===(r=n.working_hours)||void 0===r?void 0:r.is_open)||"string"==typeof o&&"true"===o.toLowerCase()}))}(t,e,i);break;case o.W3.ReviewRatingItem:!function(t,e,n){b(t,e,n,((t,e,n)=>{var i;t.rating=(0,u.Z)(e,"data.value"),t.review=null==n||null===(i=n.rating)||void 0===i?void 0:i.reviews}))}(t,e,i);break;case o.W3.Callout:!function(t,e,n){b(t,e,n,((t,e,n)=>{const i=(0,l.Z)(o.aT,(t=>t===`data-${n.callout_data_type}`));if(!i)throw new TypeError("Invalid callout sub type");t[i]=(0,u.Z)(e,"data.value")}))}(t,e,i);break;default:{const n=(0,u.Z)(e,"data.value");t[i]=n;break}}else(0,s.H)(a.J94,`Ad response with invalid ${i} data`,void 0,{...a.J94.pb,customMessage:`No mapping found in assetKeyMap for data-${n}`,ext:(0,u.Z)(e,"data")})}else null!=e&&e.image||null!=e&&e.img?S(t,e):null!=e&&e.title&&x(t,e);return t}),{});t.assets=n}else{const n=(0,d.Z)(e,((t,e)=>{if(null!=e&&e.data){const n=(0,u.Z)(e,"data.type"),i=(0,l.Z)(o.aT,(t=>t===`data-${n}`));if(i)if(o.xs.includes(i)){const n=(0,u.Z)(e,"data.value")||"{}";t[i]=JSON.parse(n)}else if("popupDisclaimer"==i)try{const n=(0,u.Z)(e,"data.value"),r=(0,u.Z)(e,"data.ext.msft.msan_data"),o=JSON.parse(r);if(!n||0===n.length)throw new TypeError("Popup disclaimer title field is empty or missing");if(!o||!o.text||0===o.text.length)throw new TypeError("Popup disclaimer text field is empty or missing");const s={title:n,text:o.text,url:o.url};t[i]=s}catch(t){(0,s.H)(a.J94,"Ad response with invalid popup disclaimer data",void 0,{...a.J94.pb,customMessage:`${t&&t.message}`,ext:(0,u.Z)(e,"data")})}else{const n=(0,u.Z)(e,"data.value");t[i]=n}}else null!=e&&e.image||null!=e&&e.img?S(t,e):null!=e&&e.title&&x(t,e);return t}),{});t.assets=n}}function k(t,e,n){var i;let r;if(e)r=t.imp[0];else{if(!t.data)return;try{r=JSON.parse(t.data)}catch(e){(0,s.H)(a.TBk,"Invalid JSON sent to card mapper from WPO Boost",void 0,{...a.TBk.pb,customMessage:`${e&&e.message}`,wpoJson:t.data})}}const o=null===(i=$(r,!0))||void 0===i||null===(i=i.promotions)||void 0===i?void 0:i[0];return(0,c.N)()&&_(o,n),"11730609"===r.tagid?o.isProng2Promotion=!0:"11730608"==r.tagid&&(o.isProng1Promotion=!0),o}function T(t,e,n){var i;let r;if(e)r=t.imp[0];else{if(!t.data)return;try{r=JSON.parse(t.data)}catch(e){(0,s.H)(a.TBk,"Invalid JSON sent to card mapper from WPO Win App",void 0,{...a.TBk.pb,customMessage:`${e&&e.message}`,wpoJson:t.data})}}const o=null===(i=$(r,!0))||void 0===i||null===(i=i.promotions)||void 0===i?void 0:i[0];return(0,c.N)()&&_(o,n),"11730609"===r.tagid&&(o.isProng2Promotion=!0),o.adsTraceId=t.id,o}function $(t,e){if(!(t.Promotions&&t.Promotions.length>0))return;const n={promotions:[]};return e?n.promotions[0]=A(t.Promotions[0]):n.promotions=t.Promotions.map((t=>A(t))),n}function A(t){var e,n;const{images:i,longTitle:r,title:o,description:s,displayUrl:a,targetUrl:c,Beacons:u,brand:l,merchantCategory:d,actionText:f,logo:h,adScenarioType:p,rebateValue:m,minPurchaseValue:g,valueType:v,nativeAdType:w,annotation:y,scope:b,priceCurrencySymbol:S,market:x,dealPrice:C,originalPrice:k}=t,{imageUrl:T}=i&&i[0],$=1==w||8==w,A=u.map((t=>t.MIFeedbackurl)),I=u.map((t=>t.MVFeedbackurl)),P=u.map((t=>{var e;return null===(e=t.EventUrl)||void 0===e?void 0:e.replace("{ACTION}","click")})),_=u&&(null===(e=u[0])||void 0===e?void 0:e.FeedbackUrl),M=C||k,R=JSON.stringify({tcb:P||[]}),E=JSON.stringify({tvb:I,trb:A,e:!0,tjb:[]});return{region:"rr_amp",regionIndex:void 0,destinationUrl:c||"",imageUrl:T||"",imageUrlFallback:(null===(n=i[1])||void 0===n?void 0:n.imageUrl)||T,tagLine:r||o,logoText:a||"",clickBeacons:R||"",beaconsJson:E||"",images:i,logo:h,brand:l||"",title:o||"",category:d||"",actionText:f||"",logoUrl:null==h?void 0:h.imageUrl,adScenarioType:p,rebateValue:m,minPurchaseValue:g,valueType:v,isStoreWide:1==b,isTextAd:$,priceCurrencySymbol:S,market:x,priceTag:M||"",nativeAdType:w,isAffiliateOffer:16==w,annotation:y||"",adFeedbackUrl:_||""}}function I(t,e){if(!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.Promotions&&t.Promotions.length>e}(t))return;const n=t.Promotions[0],{images:i,longTitle:r,title:o,description:s,displayUrl:a,targetUrl:c,Beacons:u}=n,{height:l,width:d,imageUrl:f}=i[0];let h="",p="";h=l&&l.toString(),p=d&&d.toString();const m=u.map((t=>t.MIFeedbackurl)),g=u.map((t=>t.MVFeedbackurl)),v=u.map((t=>{var e;return null===(e=t.EventUrl)||void 0===e?void 0:e.replace("{ACTION}","click")})),w=JSON.stringify({tcb:v||[]}),y={region:"rr_amp",regionIndex:1,items:[],adServedUrls:m,visibilityUrls:g,beaconsJson:JSON.stringify({tvb:g,trb:m,e:!0,tjb:[]})},b={destinationUrl:c,imageHeight:h,imageUrl:f,imageWidth:p,title:r||o,description:s,prong2AmplifyBusinessName:a,clickBeacons:w};return y.items.push(b),y.imageHeight=h,y.imageWidth=p,y}function P(t,e,n){if(!t||!t.index||!t.region)return;const{adServedUrls:i,beaconsJson:o,index:u,items:l,jsTrackerUrls:d,locale:p,privacyUrl:m,providerId:v,region:b,visibilityUrls:S,crids:x,pageType:k,feedbackUrl:T}=t,$={adServedUrls:i,beaconsJson:o,crids:x,items:[],jsTrackerUrls:d,privacyUrl:m,providerId:v,region:b,regionIndex:u,visibilityUrls:S};$.adLabelText=w(p,"",null==n?void 0:n.enableAdSponsoredText),$.isGreyAdsLabelEnabled=r.Eg.includes(p);let A="",I="";return l.forEach((e=>{const{adChoicesUrl:i,adScenarioType:r,adSelectionCriteria:o,assets:u,clickBeacons:l,description:d,eventtrackers:p,imageHeight:m,imageWidth:v,imageUrl:w,originalImageHeight:b,originalImageWidth:S,sourceName:x,title:P,uniqueId:_,url:M,verificationParameters:R,ClickBeacons:E,adSelectionReason:F}=e;A=m&&m.toString(),I=v&&v.toString();const D={adChoiceIconUrl:i,adScenarioType:r,adSelectionCriteria:o,assets:u,clickBeacons:l,destinationUrl:M,description:d,feedbackUrl:T||(l||E)&&y(l??E,null==e?void 0:e.feedback_url),imageHeight:A,imageUrl:w,imageWidth:I,originalImageHeight:b&&b.toString(),originalImageWidth:S&&S.toString(),providerName:x,title:P,uniqueId:_,verificationParameters:R,eventtrackers:p},O=(0,g.pd)(o,F);if(O&&(D.advertiserDomain=O),null!=n&&n.readAdScenarioTypeFromMsnKv){var N;const e=!!r,n=null==t||null===(N=t.msft)||void 0===N?void 0:N.msn_kv,i=(0,f._)(n),o=!(null==i||!i.adScenarioType);if(e&&!o&&(0,s.H)(a.lYA,"adScenarioType is missing in msn_kv","",{adScenarioType:r,wpoPlacement:JSON.stringify(t),csr:(0,c.N)()}),i){const t=i.adScenarioType;r&&(D.adScenarioType=t)}}var U,L;!k||"edgechrntp"!==k&&"edgechrntpruby"!==k||(C(D,u,null==n?void 0:n.passVAXandrMigrationSignals),null!=n&&null!==(U=n.adTemplateConfig)&&void 0!==U&&U.enableVAPhase2&&null!=n&&null!==(L=n.adTemplateConfig)&&void 0!==L&&L.supportedAdScenarioTypes.includes(D.adScenarioType)&&(0,h.k)(D,u,null==n?void 0:n.passVAXandrMigrationSignals));$.items.push(D)})),$.imageHeight=A,$.imageWidth=I,$.adAuctionType=t.adAuctionType,$}function _(t,e){if(t.beaconsJson){new p.A(e).sendBeaconForAdServed({beaconsJson:t.beaconsJson,beaconsSupportHttpPOST:t.beaconsSupportHttpPOST})}}function M(t,e){const n=[];if(e){const i=e.reduce(((e,n,i)=>{const r=(0,l.Z)(o.aT,(t=>t===n));if(r){const n={...o.hy[r],id:i+1};var s,a;if("img"===r)n.img={w:null===(s=t.img)||void 0===s?void 0:s.w,h:null===(a=t.img)||void 0===a?void 0:a.h,...n.img};e.push(n)}return e}),[]);n.push(i)}return n}const R=t=>"resriver"===t||"resinfopane"===t?t.replace("res",""):t,E=t=>new Set(t.map((t=>t.assetId))).size!==t.length?((0,s.H)(a.x4C,"duplicate DTS config assetId",void 0,t),!1):t.every((t=>t.assetId&&t.type?Object.values(i).includes(t.type)?t.type===i.Title||void 0!==t.subTypeId||((0,s.H)(a.x4C,"invalid DTS asset type - subTypeId is required",void 0,t),!1):((0,s.H)(a.x4C,"invalid DTS asset type",void 0,t),!1):((0,s.H)(a.x4C,"DTS asset.assetId or asset.type is undefined",void 0,t),!1)))},7126:function(t,e,n){n.d(e,{O1:function(){return a},XO:function(){return r}});const i=2.255859375,r=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;if(!t||0===t.length)return 0;const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.13623046875,.3046875,.4375,.8,.6,.9,.8,.3,.4,.4328125,.5,.7,.4,.403125,.3,.6,.6,.403125,.6,.6,.7,.6,.6,.6,.6,.6,.3,.4,.6953125,.7,.6953125,.5,1,.8,.6046875,.7,.71875,.6,.503125,.7,.7359375,.3,.5,.7,.6,.925,.8,.8,.6,.9,.7,.6,.7,.703125,.8,1.1,.8,.8,.7,.4,.6,.3328125,.7,.6,.3,.5234375,.603125,.5,.603125,.6,.5,.603125,.6,.3,.5,.6,.3,.9,.6,.6,.603125,.603125,.4,.5,.5,.6,.7,.9,.7,.7,.6,.4,.3,.4,.7],r=s(n);return t.split("").map((t=>o(t,i,.5944274259868422,1.030769230769231))).reduce(((t,e)=>e+t))*e*r},o=(t,e,n,i)=>{const r=t.charCodeAt(0);return r<e.length?e[r]:c(t)?i:n},s=t=>t>=700?1.15:t>=500?1.05:1,a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:265,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400;if(!t||0===t.length)return 0;const s=t.split(" ");let a=1,c=e;for(let t=0;t<s.length;t++){const u=r(s[t],n,o);u>c?(a+=1,c=e-u-i):u===c?(a+=1,c=e):c=c-u-i}return a},c=t=>/^[\u4e00-\u9fff\u3040-\u30ff\u1100-\u11ff\u3130-\u318f\uac00-\ud7af]$/.test(t)},53552:function(t,e,n){n.d(e,{T1:function(){return l},k:function(){return d},yC:function(){return u}});var i=n(75115),r=n(33779),o=n(5302),s=n(90351),a=n(25156),c=n(44256);function u(t,e){const n=function(t){const e=["title","img","logo","providerName","disclaimer","review","workingHoursStatus","workingHoursIsOpen"];return t.filter((t=>!e.includes(t)))}(Object.keys(t));if(e&&Object.keys(e).length>0){const t=n.filter((t=>t in e)),i=n.filter((t=>!(t in e))),r=function(t,e){return t.sort(((t,n)=>e[t]-e[n]))}(t,e);return[...r,...i]}return n}function l(t,e){Object.keys(t).forEach((n=>{!(n in i.K9)||!t[n]||e&&"price"===n||(t[n]=i.K9[n](t[n]))}))}function d(t,e,n){if(n){const n=e.filter((t=>{var e;return null==t||null===(e=t.data)||void 0===e||null===(e=e.ext)||void 0===e||null===(e=e.msft)||void 0===e?void 0:e.msan_data})).reduce(((t,e)=>{try{const f=(0,s.Z)(e,"data.type"),h=(0,a.Z)(i.aT,(t=>t===`data-${f}`));if(h){if((0,c.Z)(e,"data.ext.msft.msan_data")){const r=(0,s.Z)(e,"data.ext.msft.msan_data"),o="string"==typeof r?JSON.parse(r):r;var n;if(h==i.W3.ReviewRatingItem)t.rating=null==o||null===(n=o.va_attributes)||void 0===n?void 0:n.rank;else if(h==i.W3.WorkingHoursItem){var u;t.workingHours=null==o||null===(u=o.va_attributes)||void 0===u?void 0:u.rank}else if(h==i.W3.Callout){var l;t[(0,a.Z)(i.aT,(t=>t===`data-${o.callout_data_type}`))]=null==o||null===(l=o.va_attributes)||void 0===l?void 0:l.rank}else{var d;t[h]=null==o||null===(d=o.va_attributes)||void 0===d?void 0:d.rank}}}else(0,r.H)(o.J94,`Ad response with unrecognized data type: ${f}`,void 0,{...o.J94.pb,customMessage:`No mapping found in assetKeyMap for data-${f}`,ext:(0,s.Z)(e,"data")})}catch(n){return(0,r.H)(o.J94,"Ad response with invalid asset rank data",void 0,{...o.J94.pb,customMessage:`${n&&n.message}`,assetData:(0,s.Z)(e,"data")}),t}return t}),{});t.assetRanks=n}else{const n=e.filter((t=>{var e;return(null==t||null===(e=t.ext)||void 0===e?void 0:e.rank)&&(null==t?void 0:t.data)})).reduce(((t,e)=>{const n=(0,s.Z)(e,"data.type"),r=(0,a.Z)(i.aT,(t=>t===`data-${n}`));return r&&(t[r]=(0,s.Z)(e,"ext.rank")),t}),{});t.assetRanks=n}}},98790:function(t,e,n){n.d(e,{N:function(){return i}});const i=["prg-wpo-ss","prg-dr-infopanec","prg-title-2","prg-trending","prg-trendingc","prg-ad-ctav2","prg-ad-sh-v1","prg-ad-sh-v1-c","prg-ad-sh-v3","prg-ad-sh-v4","prg-ad-sh-v3v4-c","prg-ad-hover","prg-ad-hover-c","prg-ad-combo","prg-ad-combo2","prg-ad-combo-c","prg-ad-shortg","prg-ad-shortgc"]},6711:function(t,e,n){n.d(e,{r:function(){return u},y:function(){return c}});var i=n(82356),r=n(25345),o=n(58721);const s=t=>({name:"animation-decorator",animationType:"scale-up",animationConfig:{scaleFrom:1.5,scaleTo:1,durationString:"1s",duration:1500,delayTimeMs:500},intersectionRootMargin:"0px 0px 0px 0px",children:[t]}),a=t=>(0,i.BH)(t,i.Oz.byName("product-image"),s),c=a(o.$),u=a(r.v)},58721:function(t,e,n){n.d(e,{$:function(){return s}});var i=n(21230),r=n(82356);const o={name:"default-template",children:[...i.u,{name:"gradient-mask",layout:{position:"absolute",bottom:"0",width:"300",zIndex:2},children:[{name:"ad-title"}]}]},s=(0,r.Tb)(o,"product-image",{imageMaskOn:!0})},82356:function(t,e,n){var i;n.d(e,{As:function(){return c},BH:function(){return s},FT:function(){return d},It:function(){return l},Oz:function(){return r},RM:function(){return a},Tb:function(){return u},ZV:function(){return f}});class r{}r.byName=t=>e=>(null==e?void 0:e.name)===t;class o{}function s(t,e){return h(t,[{condition:e,action:arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.identity()}])}function a(t,e,n){return s(t,r.byName(e),o.replaceWith(n))}function c(t,e,n){const i=[];for(let t=0;t<e.length;t++)i.push({condition:r.byName(e[t]),action:o.replaceWith(n[t])});return h(t,i)}function u(t,e,n){return s(t,r.byName(e),o.extendFields(n))}function l(t,e,n){const i=[];for(let t=0;t<e.length;t++)i.push({condition:r.byName(e[t]),action:o.extendFields(n[t])});return h(t,i)}function d(t,e,n,i){return s(t,r.byName(e),o.spliceChildren(n,i))}function f(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0;return s(t,r.byName(e),o.spliceChildren(n,i,a))}function h(t,e){if((t=e.reduce(((t,e,n,i)=>{const{condition:r,action:o}=e;return r(t)?(i[n]=null,o(t)):t}),t)).children){const n=t.children.map((t=>h(t,e.filter((t=>t)))));return{...t,children:n}}return t}(i=o).identity=()=>t=>t,i.replaceWith=t=>()=>t,i.extendFields=t=>e=>({...e,...t}),i.spliceChildren=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return i=>{const r=[...i.children||[]];return r.splice(t,n,...e),{...i,children:r}}}},21230:function(t,e,n){n.d(e,{u:function(){return i}});const i=[{name:"product-image",layout:{position:"absolute",left:0,top:0,width:"300",height:"225",zIndex:1}},n(67552).l]},96811:function(t,e,n){var i,r,o,s,a,c;n.d(e,{Qb:function(){return i},g1:function(){return s},sS:function(){return r},uM:function(){return o}}),function(t){t.ROW="row",t.ROW_REVERSE="row-reverse",t.COLUMN="column",t.COLUMN_REVERSE="column-reverse"}(i||(i={})),function(t){t.FLEX="flex",t.INLINE_FLEX="inline-flex"}(r||(r={})),function(t){t.FLEX_START="flex-start",t.FLEX_END="flex-end",t.CENTER="center",t.SPACE_BETWEEN="space-between",t.SPACE_AROUND="space-around",t.SPACE_EVENLY="space-evenly"}(o||(o={})),function(t){t.FLEX_START="flex-start",t.FLEX_END="flex-end",t.CENTER="center",t.STRETCH="stretch",t.BASELINE="baseline"}(s||(s={})),function(t){t.NOWRAP="nowrap",t.WRAP="wrap",t.WRAP_REVERSE="wrap-reverse"}(a||(a={})),function(t){t.AUTO="auto",t.STRETCH="stretch",t.CENTER="center",t.FLEX_START="flex-start",t.FLEX_END="flex-end",t.BASELINE="baseline",t.INITIAL="initial",t.INHERIT="inherit"}(c||(c={}))},67552:function(t,e,n){n.d(e,{l:function(){return i}});const i={name:"footer",layout:{mode:"flex",flexDirection:"row",alignItems:"center",position:"absolute",bottom:"9",height:"31",width:"100%"},children:[{name:"start-action-part",children:[{name:"ad-label",layout:{marginInlineStart:"16",marginInlineEnd:"6",zIndex:5}},{name:"provider-name",layout:{flex:1,minWidth:0,zIndex:5},customStyleClass:"white-12-flex-layout"}]},{name:"end-action-part",children:[{name:"disclaimer",layout:{zIndex:5}},{name:"ad-choice",layout:{zIndex:5}},{name:"see-more",layout:{marginInlineEnd:"16",zIndex:5}}]}]}},25345:function(t,e,n){n.d(e,{v:function(){return i}});const i={name:"default-infopane-template",children:[{name:"product-image",layout:{position:"absolute",left:"0",top:"0",zIndex:1,width:"100%",height:"304"},imageMaskOn:!0,imageMaskOpacity:"0.1"},{name:"gradient-mask",height:"176",paddingBottom:"0",paddingTop:"0",layout:{position:"absolute",bottom:"0",width:"100%",zIndex:2},useDynamicStyle:!0},{name:"ad-title",lineHeight:"36",titleFontSize:"28",layout:{position:"absolute",bottom:"53",width:"100%",zIndex:2}},n(67552).l]}},43319:function(t,e,n){function i(t){for(const[e,n]of t)window[e]=n;const e=new CustomEvent(o,{detail:{adUniqueIds:Array.from(t.keys())}});document.dispatchEvent(e)}function r(t){for(const e of t)delete window[e]}n.d(e,{gL:function(){return o},gy:function(){return i},l$:function(){return r}});const o="nativeAdRendered"},51389:function(t,e,n){n.d(e,{$H:function(){return d},V8:function(){return l},lj:function(){return u}});var i=n(24108);const r=5131;let o;try{o=(()=>{const t=i.Z.getAdbLoggedTime();return r+t%r})()}catch(t){o=r}const s=/(a)(d)/gi,a=t=>String.fromCharCode(t+97),c=(new Map,(t,e)=>{const n=(t=>{let e,n="";for(e=Math.abs(t);e>26;e=e/26|0)n=a(e%26)+n;return(a(e%26)+n).replace(s,"$1-$2")})(((t,e)=>(void 0===e&&(e=o),((t,e)=>{let n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return t})(e,t)))(t,e)>>>0);return n}),u=(t,e)=>`${h(t,e)}`,l=(t,e)=>`algo-${h(t,e)}`,d=(t,e,n)=>t&&null!==i.Z&&void 0!==i.Z&&i.Z.getAdbStatus()?u(e,n):e,f=new Map,h=(t,e)=>{const n=((t,e)=>(f.has(t)||f.set(t,c(t,e)),f))(t,e).get(t);return n}},37755:function(t,e,n){n.d(e,{_t:function(){return s}});const i={neutralForegroundRestColor:"--neutral-foreground-rest",neutralFillHoverColor:"--neutral-fill-hover",neutralFillActiveColor:"--neutral-fill-active",adBackgroundColor:"--ad-background-color",gradientMidColor:"--gradient-mid-color",gradientEndColor:"--gradient-end-color"},r={"font-weight":"","z-index":"",flex:"","flex-grow":"","flex-shrink":"",order:""},o=t=>null!=r[t]?r[t]:"px";function s(t,e){return null==e||"undefined"===e?"":(t=null!=i[n=t]?i[n]:n.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`)),isNaN(Number(e))?`${t}:${e}`:`${t}:${e}${o(t)}`);var n}},31404:function(t,e,n){n.d(e,{Et:function(){return u},uj:function(){return l}});var i=n(33779),r=n(44132);function o(t){var e;return!(!/^.*{\s*return __awaiter/.test(String(t))&&!/^\([\w_$,\s]*?\) => __awaiter/.test(String(t)))||"AsyncFunction"===(null==t||null===(e=t.constructor)||void 0===e?void 0:e.name)}function s(t,e,n,s,a,c){if(r.M0.sendAppErrorEvent((0,i.Tr)(e,n||"",function(t,e){return`args: ${JSON.stringify(t)||""}\nerror: ${(null==e?void 0:e.stack)||(null==e?void 0:e.message)||""}`}(s,a))),!c)return;const u=c(...s,a);return o(t)?Promise.resolve(u):u}function a(t,e,n,i,r,a){try{return o(t)?t.call(this,...i).catch((o=>s(t,e,n,i,o,r))).finally((()=>{null==a||a(...i)})):t.call(this,...i)}catch(o){return s(t,e,n,i,o,r)}finally{o(t)||null==a||a(...i)}}function c(t,e){const n=Object.getOwnPropertyDescriptor(t.prototype,e);return n||{configurable:!0,enumerable:!0,writable:!0,value:t.prototype[e]}}const u=(t,e,n,i)=>(r,o,s)=>{const c=null==s?void 0:s.value;if("function"==typeof r)return function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return a.call(this,r,t,e,s,n,i)};if("function"!=typeof c)return s;if(!t)throw Error("Parameter baseError is missed");return s&&(s.value=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return a.call(this,c,t,e,o,n,i)}),s},l=(t,e,n,i)=>r=>{class o extends r{connectedCallback(){super.connectedCallback()}}const s={...Object.getOwnPropertyDescriptors(r.prototype),...Object.getOwnPropertyDescriptors(o.prototype)};for(const r in s){var u;if("constructor"===r||null===(u=s[r])||void 0===u||!u.value)continue;if(!(o.prototype[r]instanceof Function))continue;const l=c(o,r),d=l.value;l.value=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return a.call(this,d,t,e,o,n,i)},Object.defineProperty(o.prototype,r,l)}return o}},98491:function(t,e,n){n.d(e,{Cw:function(){return a},Km:function(){return c}});var i,r=n(33940),o=n(31404),s=n(5302);const a={EventType:"uat",Timestamp:"uats",Duration:"uad",Element:"uae",Message:"uam"};class c{fireImpressionLog(t,e,n){null!=t&&t.id&&!c.impressionNativeAdIdSet.has(null==t?void 0:t.id)&&c.impressionLog&&(c.impressionLog(t,e,n),c.impressionNativeAdIdSet.add(null==t?void 0:t.id))}fireClickLog(t,e,n){c.clickLog&&c.clickLog(t,e,n)}saveUserActionBeacon(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"{}",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"srtb.msn.com";const i=JSON.parse(e),r=i&&i.trb;if(t&&r)for(let e=0;e<r.length;e++){if(!r[e].includes(n))continue;const i=new URL(r[e]);i.pathname=i.pathname.replace("served","useraction"),c.userActionBeaconsMap.set(t,i),c.startTimestampMap.set(t,(new Date).getTime())}}getUserActionBeacon(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return c.userActionBeaconsMap.get(t)}populateBeaconUrl(t,e,n,i,r,o){const s=this.getUserActionBeacon(t);if(!s)return"";for(const t of Object.values(a)){var u;null===(u=s.searchParams)||void 0===u||u.delete(t)}if(n){var l,d,f,h,p,m;const u=c.startTimestampMap.get(t),g={m:i,f:e};null===(l=s.searchParams)||void 0===l||l.set(a.EventType,n),null===(d=s.searchParams)||void 0===d||d.set(a.Timestamp,String(u?(new Date).getTime()-u:0)),null===(f=s.searchParams)||void 0===f||f.set(a.Duration,r||0),null===(h=s.searchParams)||void 0===h||h.set(a.Message,JSON.stringify(g)),null===(p=s.searchParams)||void 0===p||p.set(a.Element,(null==o||null===(m=o.tagName)||void 0===m?void 0:m.toLowerCase())||"")}return s}}(i=c).impressionNativeAdIdSet=new Set,i.userActionBeaconsMap=new Map,i.startTimestampMap=new Map,(0,r.gn)([(0,o.Et)(s.a4J,"UserActionLog.fireImpressionLog")],c.prototype,"fireImpressionLog",null),(0,r.gn)([(0,o.Et)(s.a4J,"UserActionLog.fireClickLog")],c.prototype,"fireClickLog",null),(0,r.gn)([(0,o.Et)(s.a4J,"UserActionLog.saveUserActionBeacon")],c.prototype,"saveUserActionBeacon",null),(0,r.gn)([(0,o.Et)(s.a4J,"UserActionLog.getUserActionBeacon")],c.prototype,"getUserActionBeacon",null),(0,r.gn)([(0,o.Et)(s.a4J,"UserActionLog.populateBeaconUrl")],c.prototype,"populateBeaconUrl",null)},90450:function(t,e,n){n.d(e,{$:function(){return o},S:function(){return s}});var i=n(77137),r=n(13218);const o=t=>{var e;if(!t)return!1;return!((null===i.jG||void 0===i.jG?void 0:i.jG.IsChinaCompliance)||"CN"===(null===r.Al||void 0===r.Al||null===(e=r.Al.ClientSettings)||void 0===e||null===(e=e.geo_country)||void 0===e?void 0:e.toUpperCase()))},s=()=>{var t;return o(null===r.Al||void 0===r.Al||null===(t=r.Al.CurrentFlightSet)||void 0===t?void 0:t.has("ads-xandr-c"))}},58867:function(t,e,n){var i;n.d(e,{H:function(){return i}}),function(t){t.InteractionRequired="userInteractionRequired",t.AuthProviderNotSupported="authProviderNotSupported",t.MaySucceedOnRetry="fetchRetryableError",t.AuthPrivateNotSupportedForMAM="authPrivateNotSupportedForMAM",t.OtherError="authFetchError"}(i||(i={}))},36577:function(t,e,n){n.d(e,{Kf:function(){return o}});var i=n(58867);let r={getAuthData:async t=>({resource:t,error:{message:"Auth manager is not initialized",status:i.H.OtherError}})};function o(){return r}},62328:function(t,e,n){n.d(e,{AN:function(){return s},VQ:function(){return a},bk:function(){return c},rZ:function(){return o}});var i=n(46124),r=n(77137);const o="stn",s="aad";function a(){return(0,i.m)().useEnterpriseCompliance()}async function c(){return(0,r.Yq)().AccountInfoPromise.then((t=>t&&t.tenant_id?t.oid?`Oid:${t.oid}@${t.tenant_id}`:`TID:${t.tenant_id}`:""))}},90326:function(t,e,n){var i;n.d(e,{g:function(){return i}}),function(t){t.tryAcquire1STokenLite="ATL",t.acquireTokenSilent="ATS",t.tryAcquire1STokenProfileSwitch="ATP",t.clearAccountLinkingCookies="CAL",t.jwtSSOService="JWT",t.interactiveLogin="ILO",t.loginRedirect="LRD",t.loginPopup="LPP",t.logout="LGT",t.ssoSilent="SSL",t.singleSignOn="SSO",t.waitFor1SToken="W1S"}(i||(i={}))},93483:function(t,e,n){n.d(e,{$q:function(){return u},GL:function(){return d},I0:function(){return r},VT:function(){return s},X_:function(){return o},Yc:function(){return c},gQ:function(){return f},m2:function(){return a},mc:function(){return i},xg:function(){return l}});const i="HasMsa",r="at-bing",o="at-bing-dt",s="sign-in-active",a="initial-page-nav",c="sign-in-pending",u="sign-in-refreshed-page",l="esMsaAuthAccountKey",d="authconstants-peregrine",f="sign-in-refresh-session"},11591:function(t,e,n){n.d(e,{Yb:function(){return s},Z6:function(){return o},w0:function(){return a}});var i=n(43852),r=n(79403);const o=(0,n(32236).p)((()=>(0,i.oA)("auth","auth"))),s=t=>(0,r.FF)(`Auth.${t}`,{logStart:!0,logDuration:!0,firstTimeOnly:!0}),a=(t,e)=>(0,r.hf)(`Auth.${t}`,e,!0)},79732:function(t,e,n){n.d(e,{ID:function(){return v},Z5:function(){return m},g8:function(){return g}});var i=n(86117),r=n(33779),o=n(5302),s=n(77137),a=n(28123),c=n(48593),u=n(5884),l=n(37955),d=n(52211),f=n(58009),h=n(42167),p=n(26448);function m(t){s.jG.AuthCookieName=g(t),(0,f.jW)(s.jG.AuthCookieName),!(0,a.rN)()&&(0,a.TJ)()&&"AAD"===(0,c.XS)().accountType&&v()}function g(t){let e=s.jG.AuthCookieName;if(t&&!(0,a.rN)())e=t.isAAD?"al_app_anon":"app_anon";else if((0,a.P8)()||(0,a.rN)())e="AAD"===(0,d.xQ)()||null!=t&&t.isAAD?"al_anon":"anon";else if((0,a.TJ)()){e="AAD"===(0,c.XS)().accountType?"al_app_anon":"app_anon"}else e="anon";return e}async function v(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a=s?(0,l.ej)(u.og):void 0,c=n?1e4:0;let d;if(!a||!e)return Promise.race([(0,i.b1)(),(0,h.Kb)(c).then((()=>d=!0))]).then((async e=>{d&&c>0&&(0,r.H)(o.nrW,"Work Id call was made before TTVR marker was set"),(0,p.qs)(t,s)}))}},71599:function(t,e,n){n.d(e,{t:function(){return r},w:function(){return i}});const i=10,r="authRecordTrail"},5139:function(t,e,n){n.d(e,{H:function(){return f}});var i=n(42122),r=n(15598),o=n(32236),s=n(68052),a=n(55377),c=n(30323),u=n(16614),l=n(62515),d=n(71599);class f{constructor(){this._localStorage=(0,r.$o)(),this.getCompressedRecords=(0,o.p)((()=>(this.authRecordList||(this.authRecordList=this.getAuthRecordFromDisk()),this.getCompressedRecordsFromAuthTrail(this.authRecordList))))}async addAuthRecord(t,e){try{const n={time:(new Date).toISOString(),action:t,result:e,state:await this.getState()};i.k.log(`authRecord entry - ${t}: ${e}`),this.record(n)}catch(n){i.k.log(`addAuthRecord error - ${t}: ${e}`)}}record(t){if(!t)return void i.k.logError("dual-auth: authRecord is null or undefined");this.authRecordList||(this.authRecordList=this.getAuthRecordFromDisk()),this.authRecordList.push(t),this.getCompressedRecords.cache.clear();const e=this.authRecordList.slice(-d.w);this._localStorage.setItem(d.t,JSON.stringify(e))}getRecordsTail(){return this.getRecords().slice(-d.w)}getCompressedRecordsFromAuthTrail(t){let e={};return t?(e={a:"",r:"",s:[],t:[]},t.forEach(((n,i)=>{e.a+=n.action+";",e.r+=this.getCompressedResult(n.result)+";",e.t.push(this.getTimeDiff(n.time,i>0?t[i-1].time:n.time)),e.s.push(this.getObjectDiff(n.state,i>0?t[i-1].state:n.state))})),e):e}getObjectDiff(t,e){if(!t)return{};if(t===e)return t;const n=(0,a.Z)((0,c.Z)(t),(0,c.Z)(e),u.Z);return(0,l.Z)(n)}getTimeDiff(t,e){if(!t)return;if(t===e)return t;const n=new Date(t),i=n&&n.getTime(),r=e&&new Date(e),o=r&&r.getTime();return i&&o?(i-o).toString():void 0}getRecords(){return this.authRecordList||(this.authRecordList=this.getAuthRecordFromDisk()),this.authRecordList}getAuthRecordFromDisk(){if(!this._localStorage.supported)return void i.k.log("dual-auth: Local storage access is not supported");const t=this._localStorage.getItem(d.t);return(0,s.d)(t)||[]}}},52211:function(t,e,n){n.d(e,{KW:function(){return v},DH:function(){return T},xQ:function(){return k},YX:function(){return S},XJ:function(){return y},Yg:function(){return m},hC:function(){return w},rr:function(){return b}});var i=n(46124),r=n(28123),o=n(13218),s=n(48593),a=n(59637),c=n(73452),u=n(39197);var l=n(11591),d=n(52185),f=n(74012);const h="__SignInStateIsValid__",p="__SignInStatePromiseResolver__",m=()=>{d.Gq.set(h,new Promise((t=>{d.Gq.set(p,t)})))};m();const g=()=>d.Gq.get(h);function v(){const t=d.Gq.get(p);t&&t()}function w(){return 2===(0,i.m)().getSignInState()}function y(){return x("getUserSignInState",(0,r.hk)())}function b(){return x("waitForSignInState",!0)}async function S(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e={signedInStatus:1,accountType:null};if((0,c.wq)()&&t){await async function(){let t=0;return new Promise(((e,n)=>{if((0,u.Vx)())e();else{const i=setInterval((async function(){(0,u.Vx)()?(clearInterval(i),e()):t>30?(clearInterval(i),n()):t++}),50)}}))}();const t=(0,u._4)();t&&(e.signedInStatus=t.isSignedIn?2:1,e.accountType=C(t.accountType))}else if((0,a.ID)()){const t=await(0,a.yb)();e.accountType=C(t.accountType),e.signedInStatus=t.tokenValue?2:1}else e.signedInStatus=await b(),e.accountType=k();return e}async function x(t,e){const n=(0,o.nP)().UserIsSignedIn;if(null!=n)return n?2:1;const r=(0,l.Z6)(),s=r&&r.startMeasure(t).endMeasure;let a;e&&(a=(0,l.Yb)("GetSignInStateAsync"),(0,i.m)().initOverrides(),await g());const c=(0,i.m)().getSignInState();return s&&s(),a&&a(),c}function C(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"MSA"===t?"MSA":"AAD"===t?"AAD":void 0}function k(){if((0,r.TJ)()){const t=(0,s.XS)();return 2===t.isSignedIn&&t.accountType}if((0,r.P8)())return(0,f.bW)()}function T(){m()}},19247:function(t,e,n){n.d(e,{Q:function(){return c},a:function(){return s}});var i=n(92421),r=n(42122),o=n(9791);const s=(0,o.Z)((async(t,e)=>{if(!t||!e||""===e.trim())return;const n={method:"GET",headers:a(t),mode:"cors",credentials:"omit"},o=`https://graph.microsoft.com/v1.0/users/${e}/photos/96x96/$value`;try{const t=await(0,i.Sm)(decodeURIComponent(o),1e4,n);return t&&t.ok?URL.createObjectURL(await t.blob()):(r.k.log(`dual-auth: ProfilePictureFetch: Fetch returned error.  Status: ${t.status} - ${t.statusText}`),null)}catch(t){return r.k.logError(`dual-auth: ProfilePictureFetch exception: ${t}`),null}}),((t,e)=>e));function a(t){const e={};return t&&(e.Authorization=`Bearer ${t}`),e}function c(){s.cache.clear()}},30555:function(t,e,n){n.d(e,{p:function(){return u}});var i=n(33779),r=n(5302),o=n(52211),s=n(46124),a=n(28123),c=n(37955);function u(t){const e=(0,s.m)((()=>{(0,i.H)(r.YHd,"finalizeSignInState called without properly setPageAuthManager to a valid instance")}));e&&(e.setSignInState(t),(0,o.KW)(),function(t){if((0,a.P8)()||(0,a.TJ)()||(0,a.qn)())return;const e="ace",n=(0,c.ej)(e);2!==t||n?1===t&&n&&(0,i.H)(r.ja9,`Non signed in user still has ${e} cookie`):(0,i.H)(r.ja9,`Signed in user missing ${e} cookie`)}(t))}},59388:function(t,e,n){n.d(e,{OE:function(){return c},Q4:function(){return a},W$:function(){return s}});var i=n(30555),r=n(11591);let o;function s(){return o=[i.p]}function a(t){o.push(t)}o=s();const c=t=>{o.forEach((e=>e(t))),(0,r.w0)("SetSignInState")}},60831:function(t,e,n){n.d(e,{vr:function(){return C},Jz:function(){return k},jA:function(){return S}});var i=n(7677),r=n(5302),o=n(42122),s=n(28123),a=n(48593),c=n(78018),u=n(52185);const l="__core_auth_authHeaderPromiseParts__",d=()=>u.Gq.get(l);!function(){let t;const e={promise:new Promise((e=>t=e)),resolver:t};u.Gq.set(l,e)}();var f=n(28920),h=n(59637),p=n(11591),m=n(74012),g=n(44132),v=n(33777),w=n(59388),y=n(23968),b=n(90326);async function S(){let t,e,n;const o=(0,p.Z6)(),u=o&&o.startMeasure("tryInitiateEarlyAuth").endMeasure;try{if((0,h.ID)()){t="auth-Widget";e=(await(0,h.yb)()).tokenValue?2:1}else if((0,s.TJ)()){t="auth-EdgeProfile";e=(0,a.XS)().isSignedIn}else if((0,s.ML)()){t="auth-ProfileSwitch";const n=(0,p.Yb)("ProfileSwitch"),i=await(0,m.hD)();n(),e=(0,f.MK)(i)?2:1}else if((0,s.vW)()){t="auth-EarlyToken";const n=(0,p.Yb)("EarlyToken"),i=await(0,m.pk)();n(),e=(0,f.MK)(i)?2:1}else if((0,s.t0)()){t="auth-EarlySSO";const n=(0,p.Yb)("EarlySSO"),i=await x(!0);n(),e=(0,f.T3)(i)?2:1}else if((0,s.P8)()){t="auth-TokenCache";const n=(0,c.wX)();e="valid"===n?2:"notAvailable"===n?1:0}}catch(t){n="auth-Error",e=0,v.$e.addAuthRecord(b.g.singleSignOn,`tryInitiateEarlyAuth: Error ${(0,i.n)(t)}`),(0,y.h)(r.KH7,"Unknown tryInitiateEarlyAuth error",t)}null!=e?((0,w.OE)(e),!(0,s.TJ)()&&(async()=>{const t=(0,s.hk)()?await(0,m.IY)():(0,s.aS)();var e;e=t?(0,s.me)(t.accessToken):null,d().resolver(e)})(),v.$e.addAuthRecord(b.g.singleSignOn,`tryInitiateEarlyAuth: Finalized sign in state ${e} from ${t}`),n=`${t}-${e}`):n||(n=["auth-NA","DAUsage"+((0,s.P8)()?"1":"0"),"OldState"+((0,s.iG)()?"1":"0")].join("-")),g.M0.addOrUpdateTmplString(n),u&&u({customSuffix:n})}async function x(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e=(0,p.Z6)(),n=e&&e.startMeasure("initiateSSOCore").endMeasure,i=(0,s.P8)(),a=i?"MSAL":"Error";let c,u;return o.k.log(`dual-auth: initiateSSOCore: Starting ${a} auth flow ${t?"with timeout":""}`),i?(c=await(0,f.pd)(t),u=(0,f.T3)(c)?"Success":"Fail",v.$e.addAuthRecord(b.g.singleSignOn,`initiateSSOCore: ${u} - SSO data from the ${a} auth flow ${t?"with timeout":""}`)):((0,y.h)(r._2Z,"Dual auth usage is not enabled for a flow that expects it"),u="Error"),n&&n({customSuffix:`${a}-${u}`}),c}async function C(t){const e=(0,p.Yb)("InitiateSSO"),n=await x();if(e(),!t){const t=k(n);(0,w.OE)(t)}return n}function k(t){return(0,f.T3)(t)?2:1}},88099:function(t,e,n){n.d(e,{L:function(){return r},y:function(){return i}});const i="sso_completed",r="sso_failed"},93240:function(t,e,n){n.d(e,{iT:function(){return b},MX:function(){return y},Rd:function(){return S}});var i=n(44132),r=n(33294),o=n(28123),s=n(48593),a=n(32425),c=n(5884),u=n(76524),l=n(45949),d=n(20076),f=n(90830),h=n(59637),p=n(52211),m=n(77137),g=n(25769);var v=n(94769);let w=!1;async function y(t){let e,n,l,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.bN;if(t)e=t.isMsa,n=t.isAAD,l=t.isSSO;else if((0,o.TJ)()){const t=(0,s.XS)();l=2===t.isSignedIn,e="MSA"===t.accountType,n="AAD"===t.accountType}else if((0,o.P8)()){const t=(0,p.xQ)();e="MSA"===t||!!(0,a.lI)(c.Li),n="AAD"===t||!!(0,a.lI)(c.yz),l=["AAD","MSA"].includes(t)&&!(0,u.YU)()}else if((0,h.ID)()){const t=await(0,h.yb)();e=!(null==t||!t.tokenValue),l=e}else e=2===await(0,p.XJ)(),l=e;const f={...{aadState:n?1:0,isSignedIn:e,isSso:l},loginState:b(e,n)},v=await $(d);if((0,o.Yc)()){let t;t=v?await(0,r.dJ)(d):(0,r.pB)(d),t&&(f.loginState=x(t),v?await k(t,d):C(t,d)),S(d)}return null===i.M0||void 0===i.M0||i.M0.addOrUpdateCustomProperty("AuthCookies",function(){const t={aace:+!!(0,a.AE)(c.m$),app_anon:+!!(0,a.AE)(c.Ji),ace:+!!(0,a.AE)(c.Li),anon:+!!(0,a.AE)("ANON"),authCookieName:m.jG.AuthCookieName,lt:+!!(0,a.AE)(s.g8),osat:+!!(0,a.AE)(c.Cw),app_wid:+!!(0,a.AE)(c.og,!0),wid:+!!(0,a.AE)(c.yz,!0)};if((0,o.kD)()){var e,n;const i={elt_account:null===(e=(0,g.Rn)())||void 0===e?void 0:e.account_type,elt_token:+!(null===(n=(0,g.Rn)())||void 0===n||!n.access_token)};Object.assign(t,i)}return JSON.stringify(t)}()),f}function b(t,e){let n;const i=(0,l.E)()===l.M.Web?"anon":"app_anon";return n=!!e&&(0,d.u6)(i)?"AAD-AL":e?"AAD":t?"MSA":"NA",n}const S=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.bN;(0,o.Yc)()&&(w||(w=!0,f.eS.subscribe(f.m7.DigitalIdUpdate,(async e=>{await $(t)?await k(e,t):C(e,t)}))))};function x(t){if(t)return["AAD","AAD-AL","MSA","NA"].includes(t.at)?t.at:void 0}function C(t){T(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.bN,arguments.length>2?arguments[2]:void 0,!1)}async function k(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.y1;await T(t,e,void 0,!0)}async function T(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o&&(n=await(0,r.dJ)(e));const{shouldUpdateTelemetry:s,reason:a}=function(t,e){var n;if(!t)return{shouldUpdateTelemetry:!1,reason:"No digital ID provided"};let r=!1;const o=["MSA","AAD-AL"].includes(null===(n=t.at)||void 0===n?void 0:n.trim().toUpperCase());e&&(r=function(t,e){if(!t||!e)return!1;return["muid","anid","wid","at","picassoId"].every((n=>(t[n]||"")===e[n]))}(e,t));const s=!r||o;let a=0;r||(a|=1);o&&(a|=2);const c=[];1&a&&c.push("changed digital ID");2&a&&c.push("forced update due to account type");return null===i.M0||void 0===i.M0||i.M0.addOrUpdateCustomProperty("DigitalIdUpdate",JSON.stringify({areDigitalIdsEqual:+r,shouldUpdateTelemetry:+s,reasonNumber:a})),{shouldUpdateTelemetry:s,reason:c.join(", ")}}(t,n);if(!s)return;!function(t){if("NA"===t.at&&t.muid){const e=t.muid.replace(/^m-/,"").toUpperCase();(0,v.gm)(e)}}(t),function(t){if(["MSA","AAD-AL"].includes(t.at)&&t.anid){const e="A="+t.anid.toUpperCase().replace(/^A-/,"");null===i.M0||void 0===i.M0||i.M0.applyAnidOverride(e)}}(t),function(t){if(t.at){const e=function(t){if(!t)return;const e=x(t),n={aadState:"AAD"===e?1:0,isSignedIn:"MSA"===e,isSso:["AAD","AAD-AL","MSA"].includes(e),loginState:e,wid:t.wid?t.wid.replace(/^m-/,"").toUpperCase():void 0},i=t.picassoId??void 0;return i&&(n.picassoId=i),n}(t);null===i.M0||void 0===i.M0||i.M0.updatePageMetadata({user:e},!0)}}(t);const c=function(t){var e;const n={...t,lastUpdated:(new Date).toISOString()};return null===(e={NA:["anid","wid"],AAD:["anid"],MSA:["wid"]}[t.at])||void 0===e||e.forEach((t=>delete n[t])),n}(t);o?await(0,r.DA)(c,e):(0,r.In)(c,e)}const $=async t=>(null==t?void 0:t.getItem(""))instanceof Promise},40743:function(t,e,n){n.d(e,{iF:function(){return k},FI:function(){return T},B9:function(){return I},n2:function(){return P},B0:function(){return A},u_:function(){return _},FA:function(){return C}});var i=n(82588),r=n(28123),o=n(77137),s=n(5884),a=n(48593),c=n(46124),u=n(25769),l=n(32425),d=n(68052);const f=()=>{const t=(0,l.AE)(s.m$,!0),e=t&&(0,d.d)(t),{child:n,expiredOn:i}=e||{};return(void 0!==n||void 0!==i)&&e},h=()=>{const t=f();if(!t)return!0;const e=t.expiredOn,n=new Date(e);if(!n.getTime())return true;const i=new Date;return n<i||n.getTime()-i.getTime()<2592e6};var p=n(5302),m=n(7677),g=n(52211),v=n(74012),w=n(44132),y=n(93483),b=n(37955),S=n(13578),x=n(11591);async function C(t,e,n,o){const s=(0,x.Z6)(),a=s&&s.startMeasure("updateAuthState").endMeasure;try{const t=!n&&(i.yb||i.R0);if(t){var c;const n=await(0,i.ot)({id:"appanoncookie"},window.location.port?1500:null),r=(null==n||null===(c=n.payload)||void 0===c?void 0:c.appAnonCookieExists)||!1;await $(e,r,t)}(0,r.P8)()?(await(0,v.GQ)(),await $(e,!1,t)):(await T(o),await $(e,void 0,t))}catch(e){await $(),t(e)}a&&a()}async function k(t,e){const n=new URL(`https://api.msn.${o.jG.IsChinaCompliance?"cn":"com"}/auth/cookie/appanon`),i={credentials:"include"};t&&(i.headers=t);const s=e||(r.t9[o.jG.AppType]?o.jG.AppType:y.GL);return n.searchParams.set("apikey",o.jG.OneServiceApiKey),n.searchParams.set("ocid",s),n.searchParams.set("activityId",o.jG.ActivityId),n.searchParams.set("scn","app_anon"),fetch(n.href,i)}async function T(t,e){(0,r.P8)()?await(0,v.GQ)():function(){if((0,r.Pz)()){if(!(0,r.TJ)()&&"edgeChromium"!==o.jG.AppType)return h();{const t=(0,a.XS)();if((0,u.vs)()&&"MSA"===t.accountType||(0,l.lI)(a.g8))return h()}}return!1}()&&await k(t,e)}async function $(t,e,n){let o=!1;const u=(0,x.Z6)(),l=u&&u.startMeasure("handleSignInStateUpdateAsync").endMeasure;if((0,r.P8)()){const{accessToken:t}=((0,r.hk)()?await(0,v.IY)():(0,r.aS)())||{},e=(0,r.me)(t);(0,S.Z)(e)||(o=!0,(0,i.mS)({id:"AuthHeaders",type:"command",payload:e}))}else if(o=null!=(0,b.ej)(s.m$),(0,r.TJ)()){(0,a.KO)();o=2===(0,a.XS)().isSignedIn}const d=o?2:1;if(n){!1===e&&2===d&&((0,i.mS)({id:"updatemyfeed"}),(0,i.mS)({id:"updatepdp"}),(0,i.mS)({id:"UpdateMyBriefing"}))}(0,c.m)().setSignInState(d),(0,g.KW)(),void 0!==t&&t!==d&&w.M0.addOrUpdateTmplProperty("signInUpdate","1"),l&&l()}function A(){return(0,g.hC)()&&(!(0,r.P8)()||"MSA"===(0,g.xQ)())}function I(){return"AAD"===(0,g.xQ)()}async function P(){if(!(0,r.P8)())return!1;return 2===await(0,g.rr)()&&"AAD"===(0,g.xQ)()}function _(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;w.M0.sendAppErrorEvent({...p._Qv,message:"Error on invoking the 1S appanon endpoint",pb:{...p._Qv.pb,customMessage:(0,m.n)(t)}})}},59637:function(t,e,n){n.d(e,{ID:function(){return a},Vo:function(){return u},yb:function(){return c}});var i=n(77137),r=n(32236),o=n(42167),s=n(21215);function a(){return i.jG.WidgetAttributes&&"shopping"==i.jG.AppType}const c=(0,r.p)((async()=>{let t;const e=(0,s.N)()&&window.__pw_options,n=e&&e.auth&&e.auth.serviceToken;if("object"==typeof n&&n.then){const e=3e3;t=await Promise.race([n,(0,o.Kb)(e).then((()=>null))])}return t||{tokenValue:void 0,accountType:void 0,muid:void 0}}));function u(){c.cache.clear()}},17793:function(t,e,n){n.d(e,{Y:function(){return m}});var i=n(43852),r=n(5302),o=n(77137),s=n(45949),a=n(20076),c=n(5884),u=n(33777),l=n(37955),d=n(23968),f=n(11591),h=n(90326);const p=`apikey=${o.jG.OneServiceApiKey}&ocid=Peregrine&it=${(0,s.E)()}&activityId=${o.jG.ActivityId}`;function m(){return(0,i.fW)((()=>async function(){let t,e;try{t=await fetch(`https://api.msn.${o.jG.IsChinaCompliance?"cn":"com"}/auth/cookie/clearALCookies?${p}`,{method:"DELETE",credentials:"include"}),(0,a.EX)();if((0,a.u6)()){const t=decodeURIComponent((0,l.ej)(c.tX));e=new Error(`Account linking cookie ${t} indicates account is still linked after clearALCookies call`)}}catch(t){e=t}const n=!e&&t&&t.ok&&200===t.status?null:`Error in clearALCookies call. ${e||""}`;n&&(0,d.h)(r.L8S,n),u.$e.addAuthRecord(h.g.clearAccountLinkingCookies,`${n||"Success"}`)}()),"tryDelete1SAcctLnkCookies",(0,f.Z6)())}},23968:function(t,e,n){n.d(e,{h:function(){return d}});var i=n(7677),r=n(32236),o=n(32425),s=n(78018),a=n(44132),c=n(33777),u=n(97268);const l=(0,r.p)((()=>(0,u.vp)((0,o.AE)("MUID"),100)<2));function d(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a.M0.sendAppErrorEvent({...t,message:e,pb:{...t.pb,customMessage:(0,i.n)(n),authRecordTrail:l()&&c.$e.getRecordsTail()||void 0,tokenCacheState:(0,s.wX)()}})}},97268:function(t,e,n){n.d(e,{sm:function(){return C},Li:function(){return m},lx:function(){return v},LT:function(){return y},Df:function(){return b},sA:function(){return S},nt:function(){return x},vp:function(){return k},zK:function(){return g},cY:function(){return T},nq:function(){return p},RH:function(){return w}});var i=n(85856),r=n(77137),o=n(28123),s=n(32425),a=n(68052);const c=()=>{const t=(0,s.AE)("lh",!0),e=t&&(0,a.d)(t),{login_hint:n}=e||{};return n&&e};var u=n(5884),l=n(13432),d=n(20782),f=n(34587),h=n(37955);function p(t){const e=encodeURIComponent(JSON.stringify(t||{}));(0,h.sq)(i.sM,e,i.ac,r.jG.HostPage.topDomain,"/",!1,d.f.Strict),(0,o.yd)()}function m(){(0,h.sq)(i.sM,void 0,-1),(0,o.yd)()}function g(t){return t&&t.tenantId===l.bc}function v(t){if(t)return g(t)?"MSA":"AAD"}async function w(t){let e;if(t){e=(await y()).find((e=>e.username===t))}else{const t=S();if(t){e=(await y()).find((e=>b(e)===t))}}return e}async function y(){const t=await(0,f.Yu)();return await t.handleRedirectPromise(),t.getAllAccounts()}function b(t){return t&&t.idTokenClaims&&t.idTokenClaims[l.an]}function S(){const t=(0,i.x6)();return t&&t.login_hint}function x(){const t=c();return t&&t.login_hint}function C(){(0,h.sq)(u.cs,null,-1,r.jG.HostPage.topDomain,"/")}function k(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=0;for(let e=0,i=t&&t.length;e<i;e++){n=(n<<5)-n+t.charCodeAt(e),n&=n}return n<0&&(n+=2147483647),n%e}async function T(t,e){if(!t||!e)return!1;const n=await w();return n&&n.username===e&&n.tenantId===t}},13432:function(t,e,n){n.d(e,{BS:function(){return s},Ic:function(){return r},QL:function(){return o},an:function(){return i},bc:function(){return u},kQ:function(){return a},rX:function(){return l},w6:function(){return c}});const i="login_hint",r=300,o=3600,s="InteractionRequiredAuthError",a="BrowserAuthError",c="no_tokens_found",u="9188040d-6c67-4c5b-b112-36a304b66dad";var l;!function(t){t[t.NotAttempted=0]="NotAttempted",t[t.Fail=1]="Fail",t[t.FailTrySSO=2]="FailTrySSO",t[t.Success=3]="Success"}(l||(l={}))},33777:function(t,e,n){n.d(e,{$e:function(){return g},pD:function(){return v},yP:function(){return m}});var i=n(13218),r=n(85856),o=n(32425),s=n(68052),a=n(46124),c=n(5884),u=n(76524),l=n(97268),d=n(34587),f=n(5139),h=n(52185),p=n(81489);class m extends f.H{async getState(){var t;const e=i.Al.ClientSettings,n=(0,d.dn)(),f=n&&(0,l.lx)(await(0,l.RH)())||(null===(t=(0,r.x6)())||void 0===t?void 0:t.account_type)||void 0,h=(0,o.AE)(r.sM),{login_hint:p}=h&&(0,s.d)(h)||{},m=p&&0!==Object.keys(p).length;return{isSignedIn:2===(0,a.m)().getSignInState(),accountType:f,signedInAccounts:n?await this.getSignedInAccounts():void 0,storage:{aace:(0,o.AE)(c.m$),ace:(0,o.AE)(c.Li),als:(0,o.AE)(c.tX,!0),child:(0,o.AE)(c.nM),currentAccount:m,loginFlowMarker:(0,u.YU)(),logoutFlowMarker:(0,u.SY)(),editFlowMarker:(0,u.hU)(),osate:(0,o.AE)(c.cs)},appType:e&&e.apptype,pageType:e&&e.pagetype}}async getSignedInAccounts(){if(!await(0,d.Yu)())return[-1];return(await(0,l.LT)()).map((t=>(0,l.vp)(t.username)))}getCompressedResult(t){if(!t)return null;if(t.match(/\bsuccess\b/i))return"S";if(t.match(/\bfailure\b/i))return"F";{let e=t.match(/tryInitiateEarlyAuth: Finalized sign in state (\w+) from auth-(\w+)/);return e?`EarlyAuth: ${e[1]} from ${e[2]}`:(e=t.match(/initiateSSOCore: (\w+) - SSO data from the (\w+) auth flow[^]*/),e?`SSO: ${e[1]} from ${e[2]}`:t.toString())}}static getInstance(){return h.Gq.get("__DualAuthRecordManagerInstance__",(()=>new m))}}const g=(0,p.h)(m),v=g.getCompressedRecords},34587:function(t,e,n){n.d(e,{B8:function(){return U},Bj:function(){return D},Ew:function(){return _},Oo:function(){return N},Xi:function(){return F},Yu:function(){return O},dn:function(){return M},iB:function(){return T},qW:function(){return E},sr:function(){return R}});var i=n(13432),r=n(42122),o=n(242),s=n(86117),a=n(33779),c=n(5302),u=n(7677),l=n(42833),d=n(42167),f=n(99234),h=n(15598),p=n(77137),m=n(13218),g=n(28123),v=n(22680),w=n(21215),y=n(9791),b=n(11935),S=n(11591);const x="2.18.0",C="2.24.0",k="1p-2.24.0",T="2.16";let $,A,I,P;function _(){$="localhost.msn.com"===(0,v.Td)(),P=(0,v.zw)().toLowerCase().endsWith(".cn"),I=((0,v.zp)().match(/\bpr=([\d]+)\b/)||{})[1]}function M(){return A}function R(t){const{tenantScope:e="Dual",tenantId:n}=(null==t?void 0:t.tenantOptions)||{},{appId:o=f.I4}=(null==t?void 0:t.clientOptions)||{};let s;return s=n||("MSA"===e?"consumers":"AAD"===e?"organizations":"common"),{auth:{clientId:o,authority:`https://login.microsoftonline.com/${s}`,redirectUri:U(),navigateToLoginRequestUrl:!0},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(t,e,n)=>{if(!n)switch(t){case"Error":return void r.k.logError("dual-auth: "+e.toString());case"Info":case"Verbose":case"Warning":return void r.k.log("dual-auth: "+e.toString())}}},tokenRenewalOffsetSeconds:i.Ic}}}function E(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const e={scopes:["User.Read"],loginHint:"",redirectUri:U(t)};return t||Object.assign(e,{...B(),extraQueryParameters:{edge_suppress_profile_switch:"1"}}),e}function F(t,e){const n={...B(),account:t,postLogoutRedirectUri:U(),extraQueryParameters:{logout_hint:e,edge_suppress_profile_switch:"1"}};return H()&&(n.logoutHint=e,delete n.extraQueryParameters.logout_hint),n}function D(t){return{scopes:t,forceRefresh:!1,redirectUri:U(!0)}}_();const O=(0,y.Z)((async t=>{await async function(){if(!(0,w.N)())return;let t;(0,g.lT)()&&(await Promise.race([L.getResultAsync(),(0,s.b1)(),(0,d.Kb)(1e4).then((()=>t=!0))]),t&&(0,a.H)(c.gZU,"Loading MSAL before TTVR in delay load"));const e=(0,S.Z6)(),n=e&&e.startMeasure("loadMsalScript").endMeasure;let i;const r=new Promise((t=>{i=t})),o=t=>{n&&n({customSuffix:t}),i()},l=j(`auth/msal-browser-${W()}.min.js`),f=(0,v.b0)(l);return f.onload=()=>o(),f.onerror=t=>{(0,a.H)(c.ydI,"Error in loading MSAL script",(0,u.n)(t)),o("error")},document.head.appendChild(f),await r}();const e=window.msal;A=!!e,e&&!H()&&function(t){const e=(0,h.$o)();e.keys().forEach((t=>{const n=t.match(/-[-]+/),i=n&&n[0].length;i>=2&&(2===i&&t.includes("accesstoken")||3===i&&t.includes("idtoken")||4===i&&t.includes("refreshtoken"))&&e.removeItem(t)}))}();const n=V()?{performanceTelemetryConfiguration:{samplingPrecentage:1}}:void 0;if(e&&e.PublicClientApplication){const i=new e.PublicClientApplication(R(t),n);return function(t){if(!H()||!m.Al.CurrentFlightSet.has("prg-msal224-ts")&&!p.jG.IsDebug)return;let e=1;const n=(0,o.Ou)(),i=(t,i)=>n[`MSAL.${e}.${t}`]=i,r=t=>Math.round(10*t)/10;t.addPerformanceCallback((t=>{t.forEach((t=>{const n=t.name;i(`${n}-start`,r(t.startTimeMs-performance.timeOrigin)),i(n,r(t.durationMs)),i("meta",`c:${t.fromCache?1:0}-v:${t.startPageVisibility}-ok:${t.success?1:0}`),i("cv",t.correlationId);const o="DurationMs";(0,b.Z)(t,((t,e)=>{if(e.endsWith(o)){const n=e.substring(0,e.length-o.length);i(`fn.${n}`,t)}})),e++}))}))}(i),i}}));function N(){L.set()}function U(t){return j(t?"auth/auth-redirect-blank.html":"0/auth/auth-redirect.html","https://"+(!!(0,v.Td)().match(/\.msn\.(com|cn)$/i)?(0,v.zw)():"www.msn."+(P?"cn":"com")),!1)}const L=new l.o;function B(){const t={appType:p.jG.AppType,authRedirJsVer:T,buildVersion:p.jG.BuildVersion,debug:p.jG.IsDebug?1:void 0,msalJsVer:W(),pr:I,returnUrl:(0,v.l4)()};return{state:encodeURIComponent(JSON.stringify(t))}}function W(){return V()?k:z()?C:x}function H(){return z()||V()}function z(){return m.Al.CurrentFlightSet.has("prg-msal224-b")}function V(){return m.Al.CurrentFlightSet.has("prg-msal224-1p")}function j(t){let e="/latest",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://assets.msn."+(P?"cn":"com");I&&(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])?e=`/pr-${I}`:$&&(e="",n=`https://${(0,v.zw)()}`);return`${n}/staticsb/statics${e}/${t}`}},74012:function(t,e,n){n.d(e,{c$:function(){return it},tE:function(){return X},k$:function(){return Z},bW:function(){return Q},n5:function(){return Y},x4:function(){return tt},kS:function(){return et},AU:function(){return V},GQ:function(){return B},pk:function(){return W},hD:function(){return H},bM:function(){return J},Uy:function(){return L},vW:function(){return j},IY:function(){return K}});var i,r=n(13432),o=n(43852),s=n(42122),a=n(7677),c=n(5302),u=n(42833),l=n(42167),d=n(32236),f=n(76524),h=n(25769),p=n(85856),m=n(28123),g=n(78018),v=n(97906),w=n(97268),y=n(34587),b=n(11591),S=n(77137),x=n(5884),C=n(33777),k=n(93483),T=n(37955),$=n(23968),A=n(90326);async function I(t,e){const n=e&&e.accessToken,i="Acquire"===t;if(!n&&i){const t="Invalid access token in jwtSSOCore";return C.$e.addAuthRecord(A.g.jwtSSOService,t),void(0,$.h)(c.fvr,t)}let r,o;try{r=await fetch(`https://api.msn.${S.jG.IsChinaCompliance?"cn":"com"}/auth/token/v2/jwtsso?apikey=${S.jG.OneServiceApiKey}&ocid=${k.GL}&activityId=${S.jG.ActivityId}`,{method:i?"POST":"DELETE",credentials:"include",body:JSON.stringify({userAccessToken:n})||void 0,headers:(0,m.me)(n)||void 0});i!==!!(0,T.ej)(x.cs)&&(o=new Error(`${i?"Expected":"Unexpected"} cookie ${x.cs} is ${i?"missing":"still present"} after ${t} JwtSSO call`))}catch(t){o=t}const s=!o&&r&&r.ok?null:`Error in ${t} mode in jwtSSO call. ${o||""}`;s&&(0,$.h)(c.fvr,s),C.$e.addAuthRecord(A.g.jwtSSOService,`${s||"Success"}`)}!function(t){t.Acquire="Acquire",t.Delete="Delete"}(i||(i={}));var P=n(26448),_=n(21215),M=n(9791),R=n(17793);const E=7e3,F=7e3;let D,O=!1;const N={acquireTokenStatus:0,accessTokenResult1S:null,currentAccountInfo:null};let U=new u.o;const L=(0,d.p)((async()=>{const t=D||await(0,y.Yu)(),e=await(0,o.fW)((()=>null==t?void 0:t.handleRedirectPromise()),"handleRedirect",(0,b.Z6)());if(e)return s.k.log("dual-auth: Signing in through interactive login loginResponse: "+JSON.stringify(e,null,4)),j(e).finally((()=>{(0,f.dy)()})),C.$e.addAuthRecord(A.g.interactiveLogin,"Success"),e;(0,f.dy)()}));async function B(t){const{userName:e,enforceTimeLimit:n}=t||{};O=!0;const i=await L();if(i)return i;let r;return r=e?(0,w.Df)(await(0,w.RH)(e))||e:(0,w.sA)()||(0,h.E1)()||(0,w.nt)(),!r&&(0,p.mb)()?(j(null,!0),void(0,R.Y)()):await nt((()=>z(r)),"ssoSilent",n?F:-1)}async function W(){if(!(0,m.vW)())return C.$e.addAuthRecord(A.g.tryAcquire1STokenLite,"not qualified for lite auth"),N.acquireTokenStatus=0,null;const t=await(0,w.RH)(),e=(0,w.Df)(t);if(!t||!e)return C.$e.addAuthRecord(A.g.tryAcquire1STokenLite,"no valid current account login hint"),N.acquireTokenStatus=0,null;O=!0;const n=(0,f.hU)();if(await G(t,!0,!0,n),n&&(0,f.bq)(),3===N.acquireTokenStatus)return C.$e.addAuthRecord(A.g.tryAcquire1STokenLite,"Success"),await q(N.accessTokenResult1S),N.accessTokenResult1S;if(2===N.acquireTokenStatus){const t=await z(e);return t?(C.$e.addAuthRecord(A.g.tryAcquire1STokenLite,"fallback SSO success"),t):(C.$e.addAuthRecord(A.g.tryAcquire1STokenLite,"fallback SSO also failed"),null)}}async function H(){O=!0;const t=D||await(0,y.Yu)();C.$e.addAuthRecord(A.g.tryAcquire1STokenProfileSwitch,"Attempted");try{const e=t.getAllAccounts();if(e&&1===e.length&&(await G(e[0]),3===N.acquireTokenStatus))return C.$e.addAuthRecord(A.g.tryAcquire1STokenProfileSwitch,"Success"),await q(N.accessTokenResult1S),N.accessTokenResult1S}finally{(0,f.y2)()}}const z=(0,M.Z)((async t=>{var e;let n;t||s.k.log("dual-auth: login_hint is not available. ssoSilent may not work!");const i=D||await(0,y.Yu)(),o=(0,b.Yb)("SSOSilentCoreAndToken"),u=(0,b.Z6)(),l=u&&u.startMeasure("ssoSilentCore").endMeasure,d={...(0,y.qW)(!0),loginHint:t},h=(0,_.N)()&&(null===(e=history)||void 0===e?void 0:e.length);try{n=await i.ssoSilent(d)}catch(e){s.k.log(`dual-auth: ssoSilent failed! : ${e}`),C.$e.addAuthRecord(A.g.ssoSilent,(0,a.n)(e));const n=(0,p.x6)();if(e.name===r.BS&&n){if((0,f.m5)(),!(0,f.jG)()||!(0,m.P8)())return void await q(null,!0);{const e={...(0,y.qW)(),loginHint:t};i.acquireTokenRedirect(e)}}(n||(0,m.iG)())&&e.name!==r.BS&&e.name!==r.kQ&&(0,$.h)(c.WB4,"Error in ssoSilent call",e)}finally{s.k.log(`dual-auth: getAllAccounts AFTER ${n?"SUCCESSFUL":"UNSUCCESSFUL"} ssoSilent: ${JSON.stringify((0,w.LT)(),null,4)}`),n&&(s.k.log(`dual-auth: loginResponse AFTER SUCCESSFUL ssoSilent: ${JSON.stringify(n,null,4)}`),C.$e.addAuthRecord(A.g.ssoSilent,"Success. User: "+(0,w.vp)(n.account.username))),j(n).finally((()=>{o(),(0,f.bf)(),(0,f.bq)()})),l&&l({customSuffix:(n?n.fromCache&&"cache":"error")||void 0})}return h&&history.length===h+1&&dispatchEvent(new CustomEvent("ssoSilentHistChanged")),n}));function V(){return B()}async function j(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await q(t,e);await G(n)}async function q(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){const e=N.currentAccountInfo=t.account,n=(0,w.Df)(e),i=(0,w.lx)(e);return(0,w.nq)({login_hint:n,account_type:i}),e}e&&((0,w.nq)(),(0,g.tx)(null),(0,f.bf)(),(0,f.bq)(),(0,f.hq)(),await Promise.all([(0,o.fW)((()=>I("Delete")),"tryDelete1SJwtCookies",(0,b.Z6)()),(0,R.Y)()]),(0,w.sm)())}async function G(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=N.accessTokenResult1S;const c=new Date(a&&a.expiresOn),u=c&&c.getTime()&&c>new Date;if(a&&3===N.acquireTokenStatus&&u)return void s.k.log(`dual-auth: tryAcquire1STokenSilently: token is still valid - expiry: ${new Date(a&&a.extExpiresOn)}`);const l="AAD"===(0,w.lx)(t),d=l?["https://enterprisenews.microsoft.com/User.Read"]:["https://oneservice.microsoft.com/OneService.Read"];try{if(a=await J(d,t,n,i),a){if(N.acquireTokenStatus=3,N.accessTokenResult1S=a,(0,g.tx)(a),!a.fromCache){const t=+new Date;(0,b.w0)("OSATExpMins",Math.floor((+a.expiresOn-t)/6e4))}f=a,(0,o.fW)((()=>I("Acquire",f)),"tryAcquire1SJwtCookies",(0,b.Z6)()),l&&(0,P.qs)(a.accessToken)}}catch(t){if(a=N.accessTokenResult1S=null,t.name===r.BS&&t.errorCode===r.w6&&e)return void(N.acquireTokenStatus=2);N.acquireTokenStatus=1}var f;U.set(a);const h=function(t){if(!t)return null;const e=t&&t.extExpiresOn,n=e&&new Date(e),i=n&&n.getTime(),o=(new Date).getTime();let s;const a=6e4,c=1e3*(r.QL-r.Ic),u=1e3*r.Ic;i&&i>o?(s=i-o,s<=u&&(s=0)):s=c;return s+a}(a);h&&setTimeout((()=>G(t)),h)}async function J(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e)return void s.k.log("dual-auth: tryAcquireTokenSilently received empty account -- API calls may not be authenticated!");const o=D||await(0,y.Yu)(),u={...(0,y.Bj)(t),forceRefresh:i,account:e};let l;const d=(0,b.Z6)(),h=d&&d.startMeasure("tryAcquireTokenSilently").endMeasure;try{l=await nt((()=>o.acquireTokenSilent(u)),"acquireTokenSilent",n?E:-1)}catch(t){throw s.k.log(`dual-auth: acquireTokenSilent failed! : ${t}`),C.$e.addAuthRecord(A.g.acquireTokenSilent,(0,a.n)(t)),(0,$.h)(c.Bjk,"acquireTokenSilent call failed",t),t.name===r.BS&&(0,f.jG)()&&o.acquireTokenRedirect(u),l=null,t}finally{h&&h({customSuffix:(l?l.fromCache&&"cache":"error")||void 0}),l&&C.$e.addAuthRecord(A.g.acquireTokenSilent,"Success"),s.k.log(`dual-auth: acquireTokenSilent for scopes: ${t} was ${l?"SUCCESSFUL":"UNSUCCESSFUL"} accessTokenResult: ${JSON.stringify(l,null,4)}`)}return l}async function K(){if(N.accessTokenResult1S)return N.accessTokenResult1S;if(!O){const t="Wait for 1SToken failed because auth flow was not started";return s.k.logError(`dual-auth:  ${t} -- so returning early without the 1S access token`),C.$e.addAuthRecord(A.g.waitFor1SToken,t),(0,$.h)(c.YHd,t),void U.set(null)}const t=(0,b.Yb)("Wait1SToken"),e=await(0,o.fW)((()=>U.getResultAsync()),"waitFor1SToken",(0,b.Z6)());return t(),e}function Q(){const{currentAccountInfo:t}=N;if(t)return(0,w.lx)(t);const e=(0,p.x6)();return e?e.account_type:void 0}function X(){return"AAD"===(0,w.lx)(N.currentAccountInfo)?N.currentAccountInfo.tenantId:""}function Y(){return N&&N.currentAccountInfo&&N.currentAccountInfo.idTokenClaims.puid}function Z(){return N&&N.currentAccountInfo&&N.currentAccountInfo.idTokenClaims.ageGroup}async function tt(t){(0,y.Oo)();const{loginHint:e,forceLoginPrompt:n,tenantOptions:i,redirectStartPage:o}=t||{},s=D||await(0,y.Yu)({tenantOptions:i});if(!s)return;const a=n?"login":"select_account",c={...(0,y.qW)(),prompt:a},{tenantScope:u,tenantId:l}=i||{},d=!(!e||!u&&!l);d&&Object.assign(c,{prompt:void 0,loginHint:e,extraQueryParameters:{domain_hint:"MSA"===u||l===r.bc?"consumers":"organizations"}}),o&&(c.redirectStartPage=o),C.$e.addAuthRecord(A.g.interactiveLogin,"Redirect start"+(d?" with login hint":"")),await s.loginRedirect(c)}async function et(t){(0,y.Oo)();const e=D||await(0,y.Yu)();if(!e)return;const n=t?await(0,w.RH)(t):N.currentAccountInfo;(0,w.sm)();(null==n?void 0:n.tenantId)!==r.bc&&(0,P.DW)();const i=(0,w.Df)(n),o=(0,y.Xi)(n,i);(0,v.G)().supported?((0,f.C8)(),C.$e.addAuthRecord(A.g.logout,"Redirect start"),await e.logoutRedirect(o)):await e.logoutPopup(o)}async function nt(t,e,n){let i,r=n,o=!1;return(0,_.N)()&&(location.search.includes(`${e}NoTimeout`)?r=999999999:location.search.includes(`${e}ForceDelay`)?(t=()=>(0,l.Kb)(1e4).then(t),r+=2e4):location.search.includes(`${e}ForceTimeout`)?(r=0,o=!0):n<0&&(r=-1)),r<0?await t():(await Promise.race([t().then((t=>i=t)),(0,l.Kb)(r).then((()=>Promise.reject(new Error(`Operation ${e} timed out after ${r}ms`))))]),o?void 0:i)}function it(){z.cache.clear(),U=new u.o,N.accessTokenResult1S=null}},28920:function(t,e,n){n.d(e,{MK:function(){return l},T3:function(){return d},pd:function(){return c},zj:function(){return u}});var i=n(88099),r=n(19247),o=n(97268),s=n(42122),a=n(74012);async function c(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,a.GQ)({enforceTimeLimit:t}).then(u)}async function u(t){const e=t&&t.account;if(!l(t))return void s.k.log("dual-auth: Auth Response doesn't have all the required fields. authResponse: , "+JSON.stringify(t));const{username:n,homeAccountId:a,idTokenClaims:c}=e,u=a&&a.split("."),d=u&&u.length>0&&u[0].replace("-","").replace("0000000000000000",""),f=await(0,r.a)(t.accessToken,n),h=c.given_name,p=c.family_name;return{ssoStatus:i.y,memberName:n,firstName:h,lastName:p,cid:d,accountType:(0,o.lx)(e),profilePictureUrl:f}}function l(t){const e=t&&t.account;return!!(e&&e.username&&e.idTokenClaims&&t.accessToken)}function d(t){return t&&t.ssoStatus===i.y}},26448:function(t,e,n){n.d(e,{DW:function(){return g},Tt:function(){return v},qs:function(){return m}});var i,r=n(43852),o=n(33779),s=n(5302),a=n(7677),c=n(45949),u=n(77137),l=n(28123),d=n(5884),f=n(93483),h=n(37955),p=n(11591);function m(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(0,r.fW)((()=>w("Acquire",t,e)),"tryAcquire1SWorkIdCookies",(0,p.Z6)())}function g(){return(0,r.fW)((()=>w("Delete")),"tryDelete1SWorkIdCookies",(0,p.Z6)())}async function v(){return(0,r.fW)((()=>w("Reset")),"tryReset1SWidCookies",(0,p.Z6)())}async function w(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i="Reset"===t,r="Acquire"===t||i,p=r?"GET":"DELETE",m=(0,c.E)(),g=`https://api.msn.${u.jG.IsChinaCompliance?"cn":"com"}/auth/cookie/${i?"wid":"AAD"}`;let v=null,w=null;try{const o=new URL(g);o.searchParams.append("apikey",u.jG.OneServiceApiKey),o.searchParams.append("ocid",f.GL),o.searchParams.append("activityId",u.jG.ActivityId),o.searchParams.append("it",m),i&&o.searchParams.append("reset","true");const s={method:p,credentials:"include",headers:(0,l.me)(e)||void 0};v=await fetch(o.toString(),s);const a=m===c.M.Web?d.yz:d.og;if(n){const e=!!(0,h.ej)(a);(r&&!e||!r&&e)&&(w=new Error(`${r?"Expected":"Unexpected"} cookie ${a} is ${r?"missing":"still present"} after ${t} 1S call to ${g} with status ${v.status}`))}}catch(t){w=t}var y;return!w&&v&&v.ok?200===v.status:((0,o.H)(s.FTS,`Error in ${t} mode for API call ${g}. ${(null===(y=w)||void 0===y?void 0:y.message)||""}`,w?(0,a.n)(w):void 0),!1)}!function(t){t.Acquire="Acquire",t.Delete="Delete",t.Reset="Reset"}(i||(i={}))},32830:function(t,e,n){var i;n.d(e,{cN:function(){return o},cq:function(){return r},pb:function(){return i}}),function(t){t[t.Immediately=0]="Immediately",t[t.OnPageLoad=1]="OnPageLoad",t[t.OnUserInteraction=2]="OnUserInteraction",t[t.OnBusinessSearchResultsReady=3]="OnBusinessSearchResultsReady"}(i||(i={}));const r="Search-AutoSuggest",o="q"},89094:function(t,e,n){n.d(e,{fF:function(){return g}});var i,r=n(32830),o=n(77137),s=n(28951),a=n(13218),c=n(21215),u=n(22680),l=n(37955),d=n(85663);class f{constructor(t,e,n,i,r){this.autoSuggestProperties=t,this.osMarket=e,this.osLanguage=n,this.requestId=i,this.isDarkMode=r}addAutoSuggest(t){if(!(0,c.N)())return!1;if(o.jG.CurrentRequestTargetScope&&"kids"===o.jG.CurrentRequestTargetScope.audienceMode)return!1;const e=this.isDisabled(),n=window[f.globalObjectName];if(n)return n.enable(!e),this.updateAutoSuggestSessionId(),!0;if(e)return!1;const i=this.getCompleteUrl(),r=(0,u.b0)(i,void 0,!0,"use-credentials");r.onload=t;return document.getElementsByTagName("head")[0].appendChild(r),!0}invokeCookieSharing(){h((0,l.ej)(f.sharedCookieName),5)||(0,l.sq)(f.sharedCookieName,"SID=00",365,f.cookieDomain,"/")}isDisabled(){return new RegExp("\\b"+f.cookieCrumb+"=0\\b","i").test((0,l.ej)(f.cookieName))}updateAutoSuggestSessionId(){const t=/SID=[\da-z]+/i;if(!this.partnerSessionId){const e=(0,l.ej)(f.sharedCookieName);if(h(e,4)){const n=e.match(t);n&&h(n[0],5)&&(this.partnerSessionId=n[0].substr(4))}}const e=window[f.globalObjectName];if(e){const t=e["sid"];"function"==typeof t&&t(this.partnerSessionId)}}getCompleteUrl(){let t="";const e=s.cX.getParamsFromUrl(location.search);return e.find((t=>"autosuggest_hook"===t.key))?this.getHookUrl(e):(t=this.autoSuggestProperties.useMarketBasedUrl?this.getMarketBasedUrl():this.getUrl(),this.shouldInitializeAutoSuggestOnPageLoad()&&(t+="&onload=1"),this.isDarkMode&&(t+="&rt=1"),(0,d.isNullOrUndefined)(this.autoSuggestProperties.zeroInputItemCount)||(t+=`&zict=${this.autoSuggestProperties.zeroInputItemCount}`),this.autoSuggestProperties.disableSearchHistory&&(t+="&shdis=1"),(0,d.isNullOrUndefined)(this.autoSuggestProperties.maxItemCount)||(t+=`&itemCount=${this.autoSuggestProperties.maxItemCount}`),t)}shouldInitializeAutoSuggestOnPageLoad(){return this.autoSuggestProperties.delayBind===r.pb.Immediately||this.autoSuggestProperties.delayBind===r.pb.OnPageLoad||this.autoSuggestProperties.delayBind===r.pb.OnBusinessSearchResultsReady&&this.autoSuggestProperties.businessSearchResultsEnabled}getMarketBasedUrl(){const t=this.osMarket||"US",e=this.osLanguage||"en-US",n=this.autoSuggestProperties.partnerEndpoint||"msnedgentp",i=(0,a.nP)().Locale;let r=["https","://www.bing.com/as/init?","pt="+n,this.osLanguage?"&setlang="+e:"",this.osMarket?"&cc="+t:"","&refig="+this.requestId].join("");return"en-us"!==e.toLowerCase()&&(r+="&endpt=1"),r+=this.getFeatures(),r+=this.autoSuggestProperties.businessSearchResultsEnabled?"&msbqf=true":"&msbqf=false",this.autoSuggestProperties.disableSuggestionFetchOnEmpty&&i&&"en-us"!==i.toLowerCase()&&(r+="&dfoe=1"),r+=this.getAutosuggestWCMobile(),r}getHookUrl(t){const e="muidflt9-ismsft",n=(0,a.nP)().CurrentFlights,i=t.find((t=>"fdhead"===t.key)),r=i?i.value:"",o=t.find((t=>"asinturl"===t.key)),s=o&&o.value;if((n.indexOf(e)>-1||r.indexOf(e)>-1)&&s){return decodeURIComponent(s)}return this.getUrl()}getUrl(){const t=(0,a.nP)().Locale||"en-us";let e=["https","://www.bing.com/as/init?mkt=",t,"&pt=",this.autoSuggestProperties.partnerEndpoint,"&refig=",this.requestId].join("");return this.autoSuggestProperties.enableNewSnrUrl||"en-us"===t.toLowerCase()||(e+="&endpt=1"),e+=this.getAutosuggestWCMobile(),e}getFeatures(){return this.autoSuggestProperties.enableFeatures&&(this.autoSuggestProperties.features||""===this.autoSuggestProperties.features)?"&features="+this.autoSuggestProperties.features:""}getAutosuggestWCMobile(){return this.autoSuggestProperties.enableAutoSuggestforWCMobile?"&asrt=1":""}}function h(t,e){return"string"==typeof t&&(!e||t.length>=e)}(i=f).cookieCrumb="AS",i.globalObjectName="sa_inst",i.cookieName="SRCHHPGUSR",i.sharedCookieName="_SS",i.cookieDomain="msn.com";var p=n(16243),m=n(81586);function g(t){if(!t||t.disableAutoSuggest)return;const{autoSuggestProperties:e,requestId:n,isDarkMode:i,searchBoxContext:o,startPerfMarkerHandler:s}=t,{osMarket:a,osLanguage:c,useMarketBasedUrl:u,delayBind:l,businessSearchResultsEnabled:d,cookieSharingDelayInSeconds:h}=e,p=new f(e,u&&a,u&&c,n,i);if(l===r.pb.OnUserInteraction||l===r.pb.OnBusinessSearchResultsReady&&!d){o.autoSuggestEventHandler=v.bind(o,p),o.registerAutoSuggestOnSearchEventHandler=w.bind(o,t);const e=b(o.inputRef);null==e||e.addEventListener("keyup",o.autoSuggestEventHandler),null==e||e.addEventListener("click",o.autoSuggestEventHandler)}else l!==r.pb.Immediately&&l!==r.pb.OnPageLoad&&l!==r.pb.OnBusinessSearchResultsReady||(s&&s(r.cq),o.registerAutoSuggestOnSearchEventHandler=w.bind(o,t),p.addAutoSuggest(o.registerAutoSuggestOnSearchEventHandler));1===h&&p.invokeCookieSharing()}function v(t,e){if("keyup"===e.type){const t=e.key;if("Tab"===t||"Escape"===t)return}if(t.addAutoSuggest(this.registerAutoSuggestOnSearchEventHandler)){const t=b(this.inputRef);t.removeEventListener("click",this.autoSuggestEventHandler),t.removeEventListener("keyup",this.autoSuggestEventHandler)}}function w(t){const{autoSuggestProperties:e,endPerfMarkerHandler:n,searchBoxContext:i,searchOpenInNewWindow:s,action:a,telemetryCallback:u,enableDetailLogs:l,suggestionClickCallback:d}=t,{delayBind:f}=e;if(f!==r.pb.OnUserInteraction&&f!==r.pb.OnPageLoad&&f!==r.pb.OnBusinessSearchResultsReady||n&&n(r.cq),s)return;const h=window.sj_evt,g=h&&h.fire;g&&(h.fire=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const[r,s]=e||[];if("AS.Navigate"===r){if(!s)return;const t=b(i.formRef);if(t&&t.attributes&&t.attributes["data-t"]){let e=p.u.get(t);if(!e&&(0,c.N)()&&(window.dispatchEvent(new CustomEvent("telemetrynodeadded",{detail:{element:t}})),e=p.u.get(t)),e.contract.content.type=function(t){if(!t)return m.uH.Undefined;const e=t.toLowerCase();if("hs"===e)return m.uH.SearchHistory;if("pn"===e)return m.uH.TrendingSearch;return m.uH.AutoSuggestSearch}(s.stype),l&&!0===l){const t=s.query??"";if((0,o.Yq)().isAadAccountUser){if(a&&a.startsWith("https://www.bing.com/")){let t=a;const n=s.stype??"",i=new URL(t);i.searchParams.set("astycn",n.toString()),i.searchParams.set("qltype","ccaad"),t=i.href.toString(),e.contract.overrideDestinationUrl=t}}else{let n="";if(s.url&&s.url.length>0&&s.url.startsWith("http")?n=s.url.toString():a&&a.startsWith("https://www.bing.com/")&&(n=a),n&&n.length>0){const i=new URL(n);i.searchParams.set("assgl",t.length.toString()),i.searchParams.set("qltype","ccnotaad"),i.searchParams.set("q",""),n=i.href.toString(),e.contract.overrideDestinationUrl=n}}}p.u.setAttribute(t,e.contract)}}"onSearch"===r&&(i.onAutoSuggestSuggestionClickHandler=y.bind(i,a,u,l,d),i.onAutoSuggestSuggestionClickHandler()),g.apply(i,e)})}function y(t,e,n,i){let r=t;const o=b(this.formRef);if(r){const t=(-1!==r.indexOf("?")?"&":"?")+"msnst=AS";if(r+=t,o.attributes&&o.attributes["data-t"]){const t=p.u.get(o);if(n&&!0===n){const e=t.contract.overrideDestinationUrl;if(e&&e.length>0){const t=(-1!==e.indexOf("?")?"&":"?")+"msnst=AS";r=e+t}}t.contract.overrideDestinationUrl=r,p.u.setAttribute(o,t.contract)}}e(o,m.Aw.Submit,m.wu.TextSearch),null==i||i()}function b(t){return t&&t.current?t.current:t}},11875:function(t,e,n){var i,r;n.d(e,{O:function(){return i},U:function(){return r}}),function(t){t[t.none=0]="none",t[t.enabled=1]="enabled",t[t.saved=2]="saved",t[t.hide=4]="hide",t[t.showMore=8]="showMore",t[t.showFewer=16]="showFewer",t[t.mute=32]="mute",t[t.hidden=64]="hidden",t[t.report=128]="report",t[t.adFeedbackSubmitted=256]="adFeedbackSubmitted",t[t.hideTopic=512]="hideTopic",t[t.dismiss=1024]="dismiss",t[t.adPrivacy=2048]="adPrivacy",t[t.feedback=4096]="feedback",t[t.whyAmISee=8192]="whyAmISee",t[t.followedPublisher=16384]="followedPublisher",t[t.followedTopic=32768]="followedTopic",t[t.hideAds=65536]="hideAds",t[t.blockAdvertiser=131072]="blockAdvertiser"}(i||(i={})),function(t){t.Hide="Hide",t.Like="Like",t.Disabled="Disabled",t.Dislike="Dislike",t.Mute="Mute",t.MuteWebVideo="MuteWebVideo",t.Save="Save",t.Share="Share",t.ShowMore="ShowMore",t.ShowFewer="ShowFewer",t.Divider="Divider",t.Report="Report",t.ManageInterests="ManageInterests",t.ReportAd="ReportAd",t.AdPrivacy="AdPrivacy",t.HideTopic="HideTopic",t.Feedback="Feedback",t.WhyAmISee="WhyAmISee",t.FollowPublisher="FollowPublisher",t.FollowTopic="FollowTopic",t.Upvote="Upvote",t.Downvote="Downvote",t.BlockPublisherWithoutName="BlockPublisherWithoutName",t.Copilot="Copilot",t.OpenNewTab="OpenNewTab",t.OpenNewWindow="OpenNewWindow",t.LocationEdit="LocationEdit",t.LocationManage="LocationManage",t.CopyLink="CopyLink",t.CopyImageLink="CopyImageLink",t.ImageAttribution="ImageAttribution",t.AiDisclaimerAttribution="AiDisclaimerAttribution"}(r||(r={}))},26538:function(t,e,n){n.d(e,{V:function(){return s}});var i,r=n(52185),o=n(24709);class s{static get loadLocalStorage(){return r.Gq.get(this.loadLocalStorageKey,(()=>new o.C("loadLocalStorage")))}static set loadLocalStorage(t){r.Gq.set(this.loadLocalStorageKey,t)}static get marketUpdated(){return r.Gq.get(this.marketUpdatedKey,(()=>new o.C("marketUpdated")))}static set marketUpdated(t){r.Gq.set(this.marketUpdatedKey,t)}static get pageLayoutStateLoaded(){return r.Gq.get(this.pageLayoutStateLoadedKey,(()=>new o.C("PageLayoutStateLoaded")))}static set pageLayoutStateLoaded(t){r.Gq.set(this.pageLayoutStateLoadedKey,t)}static get updateConfigData(){return r.Gq.get(this.updateConfigDataKey,(()=>new o.C("updateConfigData")))}static set updateConfigData(t){r.Gq.set(this.updateConfigDataKey,t)}static get updateConfigDataChanged(){return r.Gq.get(this.updateConfigDataChangedKey,(()=>new o.C("updateConfigDataChanged")))}static set updateConfigDataChanged(t){r.Gq.set(this.updateConfigDataChangedKey,t)}static get updateTopSitesQuickLinkEndMarginUsedPadding(){return r.Gq.get(this.updateTopSitesQuickLinkEndMarginUsedPaddingKey,(()=>new o.C("updateTopSitesQuickLinkEndMarginUsedPadding")))}static set updateTopSitesQuickLinkEndMarginUsedPadding(t){r.Gq.set(this.updateTopSitesQuickLinkEndMarginUsedPaddingKey,t)}static get updateLocalStorage(){return r.Gq.get(this.updateLocalStorageKey,(()=>new o.C("updateLocalStorage")))}static set updateLocalStorage(t){r.Gq.set(this.updateLocalStorageKey,t)}static get updateNtpTheme(){return r.Gq.get(this.updateNtpThemeKey,(()=>new o.C("updateNtpTheme")))}static set updateNtpTheme(t){r.Gq.set(this.updateNtpThemeKey,t)}static get updatePrimaryAccountInfo(){return r.Gq.get(this.updatePrimaryAccountInfoKey,(()=>new o.C("updatePrimaryAccountInfo")))}static set updatePrimaryAccountInfo(t){r.Gq.set(this.updatePrimaryAccountInfoKey,t)}static get updateWPOLayoutPromotion(){return r.Gq.get(this.updateWPOLayoutPromotionKey,(()=>new o.C("updateWPOLayoutPromotion")))}static set updateWPOLayoutPromotion(t){r.Gq.set(this.updateWPOLayoutPromotionKey,t)}static get updateWPOLayoutPromotionSource(){return r.Gq.get(this.updateWPOLayoutPromotionSourceKey,(()=>new o.C("updateWPOLayoutPromotionSource")))}static set updateWPOLayoutPromotionSource(t){r.Gq.set(this.updateWPOLayoutPromotionSourceKey,t)}static get updateWPOTopsitesPromotion(){return r.Gq.get(this.updateWPOTopsitesPromotionKey,(()=>new o.C("updateWPOTopsitesPromotion")))}static set updateWPOTopsitesPromotion(t){r.Gq.set(this.updateWPOTopsitesPromotionKey,t)}static get updateWPOPromotionCoachMark(){return r.Gq.get(this.updateWPOPromotionCoachMarkKey,(()=>new o.C("updateWPOPromotionCoachMark")))}static set updateWPOPromotionCoachMark(t){r.Gq.set(this.updateWPOPromotionCoachMarkKey,t)}static get updateFeedStateOnScroll(){return r.Gq.get(this.updateFeedStateOnScrollKey,(()=>new o.C("updateFeedStateOnScroll")))}static set updateFeedStateOnScroll(t){r.Gq.set(this.updateFeedStateOnScrollKey,t)}}(i=s).loadLocalStorageKey=Symbol("loadLocalStorage"),i.marketUpdatedKey=Symbol("marketUpdated"),i.pageLayoutStateLoadedKey=Symbol("pageLayoutStateLoaded"),i.updateConfigDataKey=Symbol("updateConfigData"),i.updateConfigDataChangedKey=Symbol("updateConfigDataChanged"),i.updateTopSitesQuickLinkEndMarginUsedPaddingKey=Symbol("updateTopSitesQuickLinkEndMarginUsedPadding"),i.updateLocalStorageKey=Symbol("updateLocalStorage"),i.updateNtpThemeKey=Symbol("updateNtpTheme"),i.updatePrimaryAccountInfoKey=Symbol("updatePrimaryAccountInfo"),i.updateWPOLayoutPromotionKey=Symbol("updateWPOLayoutPromotion"),i.updateWPOLayoutPromotionSourceKey=Symbol("updateWPOLayoutPromotionSource"),i.updateWPOTopsitesPromotionKey=Symbol("updateWPOTopsitesPromotion"),i.updateWPOPromotionCoachMarkKey=Symbol("updateWPOPromotionCoachMark"),i.updateFeedStateOnScrollKey=Symbol("updateFeedStateOnScroll")},25487:function(t,e,n){var i,r,o;n.d(e,{HT:function(){return r},Qw:function(){return a}}),function(t){t[t.BOOLEAN_AND_STRING_ENUM=0]="BOOLEAN_AND_STRING_ENUM",t[t.BOOLEAN=1]="BOOLEAN",t[t.STRING_ENUM=2]="STRING_ENUM"}(i||(i={})),function(t){t.redirect="redirect",t.bing="bing"}(r||(r={})),function(t){t[t.user=0]="user",t[t.wpoPrerenderTab=1]="wpoPrerenderTab",t[t.wpoVisibleTab=2]="wpoVisibleTab",t[t.adminPortalVisibleTab=3]="adminPortalVisibleTab",t[t.ntpVisibleTab=4]="ntpVisibleTab"}(o||(o={}));var s;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.CHROME=1]="CHROME",t[t.FIREFOX=2]="FIREFOX",t[t.IEXPLORER=4]="IEXPLORER",t[t.SAFARI=11]="SAFARI",t[t.EDGE=12]="EDGE",t[t.MSEDGE=13]="MSEDGE"}(s||(s={}));const a="00004"},20895:function(t,e,n){var i;n.d(e,{p:function(){return i}}),function(t){t.Desktop="desktop",t.Phone="phone",t.Tablet="tablet"}(i||(i={}))},52998:function(t,e,n){n.d(e,{GB:function(){return a},Km:function(){return c},Oq:function(){return h},Sp:function(){return f},Wc:function(){return u},cm:function(){return d},e_:function(){return m},oH:function(){return p},r7:function(){return s},yL:function(){return l}});var i=n(24358);const r=i.z.Alert,o={build:""};function s(t){Object.assign(o,t)}const a={id:22012,severity:r,pb:o},c={id:22014,severity:i.z.Critical,pb:o},u=(i.z.Deprecated,i.z.Deprecated,i.z.Deprecated,i.z.Deprecated,i.z.Deprecated,i.z.Deprecated,{id:22027,severity:i.z.Critical,pb:o}),l=(i.z.Critical,i.z.Critical,{id:22031,severity:r,pb:o}),d={id:22032,severity:r,pb:o},f={id:22033,severity:r,pb:o},h={id:22034,severity:r,pb:o},p={id:22050,severity:r,pb:o},m={id:22051,severity:i.z.Deprecated,pb:o};i.z.Deprecated,i.z.Deprecated,i.z.HighImpact},52652:function(t,e,n){n.d(e,{j:function(){return h}});var i,r,o,s=n(2907),a=n(90257);!function(t){t.customExperience="customExperience",t.grid="grid",t.horizontalStack="horizontalStack",t.layout="layout",t.rail="rail",t.verticalStack="verticalStack"}(i||(i={})),function(t){t.actionTrigger="ActionTrigger",t.button="Button",t.heading="Heading",t.peregrineExperience="PeregrineExperience",t.typography="Typography",t.webComponentExperience="WebComponentExperience"}(r||(r={})),function(t){t.riverGridChildren="riverGridChildren"}(o||(o={}));var c,u=n(74604),l=n(72263),d=n(52965),f=n(85663);class h{static registerAppValidator(t){this.expValidatorMap=t.getAllValidators()}static processConfig(t,e){if(!this.expValidatorMap||this.expValidatorMap.size<1||!t||!t.childExpValidatorMap)return t;const n=t.childExpValidatorMap;let i=null,r=null;for(const o in n){const s=n[o];if(this.expValidatorMap.has(o)){this.expValidatorMap.get(o)(s.validationArgs)&&(null===r&&(r=this.expConfigMap.get(e)||t),null===i&&(i=(0,d.Z)(r)),t=this.filterConfig(s,r))}}return i?this.expConfigMap.set(e,i):null===r&&this.expConfigMap.has(e)&&(t=this.expConfigMap.get(e)),t}static removeFromRiverGridChildren(t,e){const n=e.riverGridChildren;return n&&n.forEach((e=>{const n=e.children;if(n){const i=t.childExperienceConfigInfo,r=(0,s.M)(i);e.children=n.filter((t=>{const e=t.childExperienceConfigInfo;return!e||!i||i.instanceId!==e.instanceId||r!==(0,s.M)(e)}))}})),e}static getChildrenDataConnectorConfigInfos(t){const e=[];if(t&&t.dataConnectors&&t.dataConnectors.length>0){const n=h.getOrdinalObjectForCurrentBreakpoint(t.dataConnectors);n&&n.children&&n.children.length>0&&n.children.forEach((t=>{e.push(t)}))}return e}static getMetadataByScreenWidth(t,e){return e.find((e=>e.screenWidth===t))||e.find((t=>t.screenWidth===a.I.Any))}static getOrdinalObjectForCurrentBreakpoint(t){switch((0,u.Bn)().currentColumnArrangement){case l.K$.c1:return h.getMetadataByScreenWidth(a.I.OneColumn,t);case l.K$.c2:return h.getMetadataByScreenWidth(a.I.TwoColumn,t);case l.K$.c3:return h.getMetadataByScreenWidth(a.I.ThreeColumn,t);case l.K$.c4:return h.getMetadataByScreenWidth(a.I.FourColumn,t);case l.K$.c5:return h.getMetadataByScreenWidth(a.I.FiveColumn,t);default:return h.getMetadataByScreenWidth(a.I.Any,t)}}static compositionOverrideResolver(t,e){const{getCompositionIdOverride:n}=e||{},{composition:i,compositionOverrides:r}=t;return r&&(0,f.isFunction)(n)&&r[n()]||i}static getChildrenExperienceConfigInfos(t,e){const n=[];if(t&&t.composition){const o=h.compositionOverrideResolver(t,e);switch(o.type){case i.rail:case i.horizontalStack:case i.layout:o.page.children.forEach((t=>{void 0!==t.children&&t.children.forEach((t=>{if(!t.children)return;const{childType:e}=t.children;e?e===r.peregrineExperience&&n.push(t.children.child):n.push(t.children)}))}));break;case i.grid:o.grid.rows.forEach((t=>{void 0!==t.columns&&t.columns.forEach((t=>{const{itemType:e}=t.item;e&&e===r.peregrineExperience&&n.push(t.item.child)}))}));break;case i.customExperience:{const t=o;n.push(t.experience);break}}}return n}static filterConfig(t,e){return t&&"string"==typeof t.sectionName&&t.sectionName.toLowerCase()===o.riverGridChildren.toLowerCase()?this.removeFromRiverGridChildren(t,e):e}static resetValidatorMap(){this.expValidatorMap.clear()}static resetConfigMap(){this.expConfigMap.clear()}}(c=h).expValidatorMap=new Map,c.expConfigMap=new Map},54655:function(t,e,n){n.d(e,{id:function(){return i},ks:function(){return o},pA:function(){return r}});const i="MSCC",r="MUID",o="eupubconsent-v2"},17763:function(t,e,n){n.d(e,{e:function(){return r},n:function(){return i}});const i="consent-banner-container",r="onetrust-sdk"},82218:function(t,e,n){n.d(e,{C:function(){return i},H:function(){return r}});const i="consent.onetrust",r="widgetHost.cookieConsent"},62201:function(t,e,n){var i;n.d(e,{i:function(){return i}}),function(t){t.MSCCBanner="mscc",t.OneTrustBanner="onetrust",t.WidgetHost="widgethost",t.None="none"}(i||(i={}))},62042:function(t,e,n){var i;n.d(e,{_:function(){return i}}),function(t){t[t.Unknown=0]="Unknown",t[t.Required=1]="Required",t[t.NotRequired=2]="NotRequired"}(i||(i={}))},93092:function(t,e,n){var i;n.d(e,{o:function(){return i}}),function(t){t.Essential="ES",t.Advertising="AD",t.SocialMedia="SM",t.ThirdPartyAnalytics="AL"}(i||(i={}))},19517:function(t,e,n){var i;n.d(e,{Q:function(){return i}}),function(t){t.C0001="C0001",t.C0002="C0002",t.C0003="C0003",t.C0004="C0004"}(i||(i={}))},20782:function(t,e,n){var i;n.d(e,{f:function(){return i}}),function(t){t.Lax="lax",t.Strict="strict",t.None="none"}(i||(i={}))},82854:function(t,e,n){n.d(e,{hI:function(){return f},iF:function(){return d},o4:function(){return u},rv:function(){return l}});var i=n(17763),r=n(54655),o=n(33779),s=n(5302),a=n(21215),c=n(37955);function u(){return(0,a.N)()&&null!=document.getElementById(i.n)}function l(){return u()&&null===(0,c.ej)(r.id)}function d(){return(0,a.N)()&&null!=document.getElementById(i.e)}function f(){if(!(0,a.N)())return!!window.__tcfapi&&null===(0,c.ej)(r.ks);if(!((/^f:\s*([^;]+)/i.exec(document.head.dataset.info)||{})[1]||"").toLowerCase().split(",").includes("prg-ad-ot-ip")){let t;try{t=JSON.parse(document.head.getAttribute("data-client-settings"))}catch(t){(0,o.H)(s.GQD,"")}const{locale:e={},geo_country:n,geo_subdivision:i}=t||{},{language:r="",market:a=""}=e;if("ca"===a.toLowerCase()&&("fr"===r.toLowerCase()||"en"===r.toLowerCase())&&"CA"===n&&"Quebec"!==i)return!1}return d()&&null===(0,c.ej)(r.ks)}},32739:function(t,e,n){n.d(e,{x:function(){return r}});var i=n(37955);function r(t,e,n,r){if(!t||0===t.length)return;const o=t.includes(n),s=e?".msn.cn":".msn.com";t.includes(r)?(0,i.sq)("afdprotocol",void 0,-1,s,"/"):o&&(0,i.sq)("afdprotocol","h3",14,s,"/")}},43197:function(t,e,n){n.d(e,{I:function(){return s}});var i=n(93692),r=n(19204),o=n(68052);function s(t,e){let n;const s=decodeURIComponent((0,r.F)(t,"aace")),{child:a}=s&&(0,o.d)(s)||{},c=(0,r.F)(t,i.nM);var u;s&&(1===a||c)?n="kids":n=(null===(u=e.modes)||void 0===u?void 0:u.audienceMode)||e.audienceMode||"adult";return n}},47898:function(t,e,n){n.d(e,{A:function(){return u},U:function(){return i}});var i,r=n(81489),o=n(52185),s=n(62042),a=n(80293);!function(t){t[t.Initialized=1]="Initialized",t[t.CookieConsentProvider=2]="CookieConsentProvider",t[t.CookieConsentStatus=3]="CookieConsentStatus",t[t.ActiveCookieCategories=4]="ActiveCookieCategories"}(i||(i={}));const c=Symbol("cookieManagementState"),u=(0,r.h)({getInstance:()=>o.Gq.get(c,(()=>{const t=new a.v("CookieManagementStateKey");return t.set(i.Initialized,!1),t.set(i.CookieConsentStatus,s._.Unknown),t}))})},17911:function(t,e,n){n.d(e,{Q:function(){return f}});var i=n(62201),r=n(62042),o=n(82218),s=n(93092),a=n(19517);const c={[a.Q.C0001]:s.o.Essential,[a.Q.C0002]:s.o.Advertising,[a.Q.C0003]:s.o.SocialMedia,[a.Q.C0004]:s.o.ThirdPartyAnalytics};var u=n(47898),l=n(82854),d=n(21215);function f(t){if(u.A.get(u.U.Initialized))return;let e=i.i.None,n=r._.NotRequired;(0,d.N)()&&(t&&t.required?(e=i.i.WidgetHost,n=t.categories?r._.NotRequired:r._.Required,h(t.categories),window.addEventListener(o.H,(t=>h(t.detail)))):(0,l.o4)()?(e=i.i.MSCCBanner,n=(0,l.rv)()?r._.Required:r._.NotRequired,n===r._.Required?u.A.set(u.U.ActiveCookieCategories,[s.o.Essential]):u.A.set(u.U.ActiveCookieCategories,[...Object.values(s.o)])):(0,l.iF)()&&(e=i.i.OneTrustBanner,n=(0,l.hI)()?r._.Required:r._.NotRequired,p(),window.addEventListener(o.C,p))),u.A.set(u.U.CookieConsentStatus,n),u.A.set(u.U.CookieConsentProvider,e),u.A.set(u.U.Initialized,!0)}function h(t){const e=t&&Object.keys(t).filter((e=>Object.values(s.o).includes(e)&&1===t[e]))||new Array;e.includes(s.o.Essential)||e.unshift(s.o.Essential),u.A.set(u.U.ActiveCookieCategories,e)}function p(){const t=window.OnetrustActiveGroups,e=t&&t.trim().split(",").filter((t=>{const e=t&&t.trim();return Object.values(a.Q).includes(e)})).map((t=>{const e=t.trim();return c[e]}))||new Array;e.includes(s.o.Essential)||e.unshift(s.o.Essential),u.A.set(u.U.ActiveCookieCategories,e)}},54470:function(t,e,n){n.d(e,{HJ:function(){return i},fY:function(){return o},m0:function(){return r}});const i=["at-bing","elt","eupubconsent-v2","lt","AL","ALS","MSNRPSSecAuth","OSAT"],r=[";",","," "],o=/[;," "]/},37955:function(t,e,n){n.d(e,{ej:function(){return v},jG:function(){return w},aW:function(){return y},sq:function(){return b}});var i=n(54655),r=n(62201),o=n(62042),s=n(93092);const a={[s.o.Essential]:["AL","ALS","AL_ANON","AL_APP_ANNON","AL_STATE","ANON","ANONCKNM","APP_ANON","APP_TWID","APP_WID","BFB","BFBUSR","DefaultLocation","Edgecac","FreWv","GalleryMode","MC1","MS0","MSCC","MSFPC","MSPRequ","MUID","MUIDB","MicrosoftApplicationsTelemetryDeviceId","OSAT","OSATE","OptanonAlertBoxClosed","OptanonConsent","OvrlyTrf","PreferencesMsn","RC","RUM","RecentStocks","SRCHD","SRCHHPGUSR","SRCHUID","SRCHUSR","Sample","TOptOut","TWID","UMH2E","WID","WLMMAC","_EDGE_S","_EDGE_V","_SS","_U","__rubyState","__rubyUX","_cb","_cb_ls","_cb_svref","_copilotDiscoverUX","_hpFeedView","_switchBannerClosed","aace","ace","afdprotocol","ahs-dismissed","ahs-installed","ahs-showings","ai_session","aqp","at-bing","bcookie","bingimage","bwssoc","cac","cb","cbypass","cfrecnt","cg_new_visit_timestamp","cgusc","child","cmdisp","cmwr","currentaccount","ddlcur","df","ecasession","elt","eub","eupubconsent","eupubconsent-v2","gfrecnt","hidebn","i18next","ipt","ipv6","isdomainmigrated","lt","marketPref","mktreset","mniotd","mnmarket","msaOptout","msaoptout","nactk","no_read_more","notiStats","ntps","numac","orfc_feeds","pbmi","pglt-edgeChromium-dhp","pglt-edgeChromium-ntp","pglt-microsoftNews-msnews","pglt-microsoftNews-startpage","pop","refresh-reason","sbc-dismissed","sbc-installed","sbc-showings","smd","sptmarket","sptmarket_restored","theme","timeZoneOffsetInMins","uaid","videoCookiesLastCategory","videoerrorcount","w10rp","w10rpls"],[s.o.Advertising]:["BizoID","adslrid","dub_downlevel","eAPID","ecadprovider","ecisession","ecmsession","ecsession"],[s.o.SocialMedia]:["promptDisplayCount"],[s.o.ThirdPartyAnalytics]:[]};var c=n(20782),u=n(33779),l=n(5302),d=n(47898),f=n(22680),h=n(21215),p=n(54470),m=n(44132),g=n(19204);function v(t){const e=(0,f.G8)();return(0,g.F)(e,t)}function w(){return v(i.pA)}function y(){return v(i.ks)}function b(t,e,n,i,f,g,v){try{if(!d.A.get(d.U.Initialized))return(0,h.N)()&&(0,u.H)(l.lIV,""),!1;if(void 0===n||n>0){if(!function(t){if(!(0,h.N)())return!1;const e=d.A.get(d.U.CookieConsentStatus),n=d.A.get(d.U.CookieConsentProvider),i=d.A.get(d.U.ActiveCookieCategories);let c=!1;switch(n){case r.i.MSCCBanner:case r.i.OneTrustBanner:case r.i.WidgetHost:return function(t,e){for(const n of e){if(a[n].includes(t))return!0}let n=!1;const i=Object.keys(a).filter((t=>!e.includes(s.o[t])));for(const e of i){if(a[e].includes(t)){n=!0;break}}n||(0,u.H)(l.sGX,`Attempting to write a cookie: "${t}" not present in the cookie category mapping.`);return!1}(t,i);default:c=e===o._.NotRequired,c||(0,u.H)(l.fU5,`Consent status should be '2' (NotRequired), but is set to '${e}'`)}return c}(t))return!1;if(null==e)return(0,u.H)(l.AvP,`Cookie value is being set to either 'undefined' or 'null'. cookie name: "${t}", cookie value: "${e}"`),!1;const i=typeof e;"string"!==i&&(e=JSON.stringify(e),(0,u.H)(l.bAs,`Cookie value is not of string type. observed type: "${i}". cookie name: "${t}"`));for(const n of p.m0)if(t.includes(n)||e.includes(n))return(0,u.H)(l.AvP,`Cookie name and/or value contains invalid character: '${n}'. cookie name: "${t}"`),!1;n>365&&(0,u.H)(l.Vwf,`Cookie expiration time: ${n} days is greater than suggested max duration of 365 days (1 year). cookie name: "${t}"`);const c=t.length+(e&&e.length||0);c>1e3&&!p.HJ.includes(t)&&(0,u.H)(l.HFn,`Cookie size: "${c} Bytes" is too big (> 1000 Bytes). cookie name: "${t}"`)}return function(t,e,n,i,r,o,s){let a;const u=[t,"=",e];if(n<0)a="Fri, 31 Dec 1999 23:59:59 GMT";else if(n){const t=new Date;t.setTime(t.getTime()+864e5*n),a=t.toUTCString()}a&&u.push(";expires=",a);i&&u.push(";domain=",i);r&&u.push(";path=",r);o&&u.push(";secure");s&&s!==c.f.Lax&&(u.push(";samesite=",s.toString()),s!==c.f.None||o||u.push(";secure"));document&&(/muid/i.test(t)&&m.M0&&m.M0.addOrUpdateTmplProperty(`cookie_muid_set_${t}_${+new Date}`,"1"),document.cookie=u.join(""))}(t,e,n,i,f,g,v),!0}catch(e){return(0,u.H)(l.sX$,`trySetCookie() failed with error: "${e.message}". cookie name: "${t}"`),!1}}},30172:function(t,e,n){var i;n.d(e,{w:function(){return i}}),function(t){t[t.Production=0]="Production",t[t.Local=1]="Local"}(i||(i={}))},21438:function(t,e,n){var i,r,o,s,a;n.d(e,{Rc:function(){return c}}),function(t){t[t.none=0]="none",t[t.consoleValidation=1]="consoleValidation",t[t.wholePageValidation=2]="wholePageValidation",t[t.uxValidation=3]="uxValidation",t[t.uxToolValidation=4]="uxToolValidation"}(i||(i={})),function(t){t.telemetryValidationResults="telemetryValidationResults",t.telemetryValidationInitStatus="telemetryValidationInitStatus"}(r||(r={})),function(t){t.default="default",t.low="low",t.high="high",t.ignore="ignore"}(o||(o={})),function(t){t.NA="NA",t.Common="Common",t.HomepageRanker="HomepageRanker",t.DataTRules="DataTRules"}(s||(s={})),function(t){t.Passed="pass",t.Failed="fail",t.Aborted="aborted"}(a||(a={}));const c={other:{displayKey:"Other Error"},schema:{getDisplayKey:t=>`${t} (Schema)`},markup:{targetName:"markup",displayKey:"Markup"}}},7677:function(t,e,n){n.d(e,{EZ:function(){return o},Vm:function(){return a},g_:function(){return c},n:function(){return s}});const i=new Map,r=10;function o(t){if(!t)return!0;const e=i.get(t)||0;return e>=r?(console.error(`App Error ${t} throttled: Maximum ${r} events exceeded (current: ${e})`),!1):(i.set(t,e+1),!0)}function s(t,e){if(t instanceof Error){const n=t.toString();return e&&t.stack?`${n}, Stack: ${t.stack}`:n}return"string"==typeof t?t:a(t)}function a(t){if(void 0===t)return"undefined";try{return JSON.stringify(t)}catch{return"[serialization-error]"}}function c(t){return t instanceof Error?t:new Error(s(t))}},19204:function(t,e,n){function i(t,e){if(t){const n=new RegExp("\\b"+e+"\\s*=\\s*([^;]*)","i").exec(t);return n&&n.length>1?n[1]:null}return null}n.d(e,{F:function(){return i}})},32236:function(t,e,n){function i(t){let e,n=!1;const i=function(){return n||(n=!0,e=t()),e};return i.cache={clear:()=>{n=!1,e=void 0}},i}n.d(e,{p:function(){return i}})},67244:function(t,e,n){function i(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!t||r(t,e)&&o(t,e)&&s(t,e)&&a(t,e)&&c(t,e)&&l(t,e,n)&&d(t,e)&&f(t,e)&&h(t,e)&&p(t,e)&&function(t,e){var n;return!t.uxMode||(null==e||null===(n=e.modes)||void 0===n?void 0:n.uxMode)===t.uxMode}(t,e)}function r(t,e){return!t.audienceMode||e.audienceMode===t.audienceMode}function o(t,e){if(!t.browser)return!0;if(!e.browser)return!1;const{browserType:n,version:i}=e.browser,{browserType:r,version:o}=t.browser;if(r&&r!==n)return!1;if(!o)return!0;if("string"==typeof o)return i===o;if("object"==typeof o){const t=parseInt(i);let e;for(e in o){const n=o[e];if(null!=n)switch(e){case"equals":if(t!==n)return!1;break;case"greaterThan":if(!(t>n))return!1;break;case"lessThan":if(!(t<n))return!1;break;case"notEquals":if(t===n)return!1;break;case"oneOf":if(-1===n.indexOf(t))return!1;break;default:return!1}}return!0}return!1}function s(t,e){return!t.deviceFormFactor||e.deviceFormFactor===t.deviceFormFactor}function a(t,e){return!t.domain||e.domain===t.domain}function c(t,e){return e.pageExperiments=e.pageExperiments||[],"string"!=typeof t.experimentId||0===Object.keys(t.experimentId).length||e.pageExperiments.indexOf(t.experimentId)>=0}function u(t,e){return 0===(t||"").localeCompare(e||"",void 0,{sensitivity:"accent"})}function l(t,e,n){const i=t.locale;if(!i)return!0;let r;return e.locale&&(r=n?e.locale.display:e.locale.content),!!r&&!(i.language&&!u(i.language,r.language)||i.market&&!u(i.market,r.market)||i.script&&!u(i.script,r.script))}function d(t,e){return function(t,e){if(!t)return!0;if(!e)return!1;if("string"==typeof t&&u(t,e))return!0;if("object"!=typeof t)return!1;const n=e.toLowerCase();if(t.startsWith&&!n.startsWith(t.startsWith.toLowerCase()))return!1;if(t.endsWith&&!n.endsWith(t.endsWith.toLowerCase()))return!1;if(t.equals&&!u(t.equals,e))return!1;if(t.notEquals&&u(t.notEquals,e))return!1;if(t.contains&&!n.includes(t.contains.toLowerCase()))return!1;if(t.oneOf&&-1===t.oneOf.indexOf(e))return!1;return!0}(t.ocid,e.ocid)}function f(t,e){return!t.os||e.os===t.os}function h(t,e){const n=t.pageType;if(!n)return!0;const i=e.pageType;if(!i)return!1;if("string"==typeof n)return n===i;if(n.exact&&n.exact.toUpperCase()===i.toUpperCase())return!0;if(n.segments){const t=n.segments,e=i.split("::");if(e&&e.length>0){for(const n in t){const i=parseInt(n),r=t[n];if(!r||isNaN(i)||"string"!=typeof r||i>=e.length||r.toUpperCase()!==e[i].toUpperCase())return!1}return!0}}return!1}function p(t,e){return!t.platform||e.platform===t.platform}n.d(e,{Ev:function(){return s},J4:function(){return i},K3:function(){return d},K4:function(){return o},Sh:function(){return u},Uc:function(){return r},W9:function(){return c},fb:function(){return l},hI:function(){return a},jF:function(){return p},oM:function(){return h},zu:function(){return f}})},68052:function(t,e,n){function i(t){try{if(t)return JSON.parse(t)}catch(t){}return null}n.d(e,{d:function(){return i}})},82223:function(t,e,n){var i;n.d(e,{n:function(){return i}}),function(t){const e={};t.loadExperience=async t=>{const n=e[t];if(!n)throw new Error(`Attempted to load unknown dynamic bundle "${t}". Make sure it's a registered dynamic experience bundle.`);return n()},t.registerExperience=(t,n)=>{e[t]=n},t.hasExperienceRegistered=t=>!!e[t]}(i||(i={}))},99147:function(t,e,n){n.d(e,{U:function(){return mt}});var i=n(43852),r=n(42122),o=n(5302),s=n(77137),a=n(79493),c=n(13218),u=n(2907),l=n(28951),d=n(92421),f=n(52185),h=n(81489),p=n(22680),m=n(21215),g=n(32598);class v extends Error{constructor(t,e){super(t),this.isNetworkFailure=e}}var w=n(44132);const y="-start",b="-end",S="CrsConfig",x="AkCrsConfig",C="FDCrsConfig",k={},T={};let $;function A(t){if(t.endsWith(y)){t=t.slice(0,t.length-6);const e={endMeasure:$&&$.startMeasure(t).endMeasure,startTime:performance.now()};k[t]=e}else if(t.endsWith(b)){if(t=t.slice(0,t.length-4),k[t]){const{endMeasure:e,startTime:n}=k[t],i=Math.round(performance.now()-n);return T[t]=i,e&&e(),{name:t,timeTaken:i}}}else;}var I=n(58496),P=n(30172);const _="feature-manifests",M="loc-manifests",R="feature-configs",E="loc-configs",F="default";const D=new class{constructor(){this._mocksEnabled=!1,this._shouldInitializeMockMgrConfig=!1,this._mockConfigDictionary={},this._mocksEnabled=this.areMocksEnabled(),this._shouldInitializeMockMgrConfig&&(this._mockConfigDictionary["MockManager/default"]="MockManager/default")}get mockConfigDictionary(){return this._mockConfigDictionary}get mocksEnabled(){return this._mocksEnabled}initialize(t){if(!t)return void this.addMockQspToDictionary();const e=[];if(new URLSearchParams((0,p.zp)()).getAll("mock").forEach((t=>{t.trim().split(",").forEach((t=>{e.indexOf(t)<0&&e.push(t)}))})),0===e.length)return;const n=t&&t.scenarios;for(const t in n)if(n[t]&&e.indexOf(t)>-1){n[t].forEach((t=>{const{experienceType:e,instanceSrc:n}=t.source.configLink,{experienceType:i,instanceSrc:r}=t.target.configRef;this._mockConfigDictionary[`${e}/${n}`]=`${i}/${r}`}))}this.addMockQspToDictionary()}areMocksEnabled(){const t=new URLSearchParams((0,p.zp)());return this._shouldInitializeMockMgrConfig=!!t.get("mock"),this._shouldInitializeMockMgrConfig||t.getAll("item").some((t=>/^mock:/.test(t)))}addMockQspToDictionary(){new URLSearchParams((0,p.zp)()).getAll("item").filter((t=>/^mock:/.test(t))).forEach((t=>{const[e,n]=t.split(":"),[i,r]=n.split("|");this._mockConfigDictionary[i]=r}))}},O=/^\d{8}\.\d+$/;let N="";function U(t,e){if(!t)return;const{experienceType:n,instanceSrc:i,sharedNs:r}=t,o=[e,n,i];return r&&o.push(r),o.map((t=>t||"")).join("/").toLowerCase()}function L(t){if(!t)return null;if(t.match("^shared/")){const[e,n,i,r]=t.split("/");return{experienceType:i,instanceSrc:r,sharedNs:n}}{const[e,n]=t.split("/");return{experienceType:e,instanceSrc:n}}}function B(t){const e=new Set;if(t&&t.properties)try{W(t.properties,e)}catch(t){}return e}function W(t,e){const n=t.configRef;n&&n.experienceType&&e.add(n);for(const n of Object.values(t))"object"==typeof n&&n&&W(n,e)}function H(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return;const n=(e?F:t.instanceSrc)||F;return!t.sharedNs||e?`${t.experienceType}/${n}`:`shared/${t.sharedNs}/${t.experienceType}/${n}`}function z(t,e){t&&t(e)}function V(t,e){return function(t){return t===R||t===_}(t)?j(e&&e.feature):j(e&&e.loc)}function j(t){return t===P.w.Local}function q(t,e,n){let i=!1;const r=D.mocksEnabled&&D.mockConfigDictionary&&D.mockConfigDictionary[e];let o;r&&(e=r,i=!0),o=i?"mock":t===E?"dev/loc":"prod";return`${o}/${/^shared/.test(e)?e:`${n}/${e}`}`}var G=n(52998);function J(t,e,n){return{...t,message:e||t.message,pb:n?{...t.pb,customMessage:n}:t.pb}}var K=n(24358),Q=n(13578),X=n(16614);class Y{get hadNetworkError(){return this._hadNetworkError}get shouldTryFallbackResolver(){return this._shouldTryFallbackResolver}get configServiceEnabled(){return this.enableConfigService}get configServiceQueryParams(){return this.configServiceParams}get crsActivityId(){return this._crsActivityId}constructor(t){if(this.resolverEnvironment=t,this.configMap=new Map,this.enableConfigService=!0,this.skipBelowTheFold=!1,this.configPromiseMap=new Map,this._shouldTryFallbackResolver=!1,this._hadNetworkError=!1,this._shouldUseCdnFallback=!1,this._initialCrsFetch=!0,this.getCacheKeyFromConfigRef=t=>U(t,this.resolverEnvironment.appType),!(t&&t.configServiceParameters&&t.appType&&t.configServiceParameters.configServiceBaseUrl&&t.targetScope))throw this.enableConfigService=!1,new Error("ResolverEnvironment or configServiceParameters or targetScope does not exist.");t.segmentPlugins&&t.segmentPlugins.skipBelowTheFold&&(this.skipBelowTheFold=!0)}async initialize(){this.shouldUseConfigService(),await this.setConfigServiceParams()}async setConfigServiceParams(){var t,e;const{appType:n,configServiceParameters:i,targetScope:r}=this.resolverEnvironment,{maxDepth:o}=i;let{buildVersion:s}=i,a=`apptype=${n}`;a+=`&v=${s}`;const c=function(t,e){try{if(t&&t.pageExperiments&&t.pageExperiments.includes("prg-crsfdheadrem")&&"weather"!==e&&"finance"!==e){const e={...t};return e.pageExperiments=[],e}}catch(t){}return t}(r,n);c.modes={audienceMode:c.audienceMode||(null===(t=c.modes)||void 0===t?void 0:t.audienceMode),uxMode:null===(e=c.modes)||void 0===e?void 0:e.uxMode},a+="&targetScope="+JSON.stringify(c),o&&(a+=`&maxDepth=${o}`),this.skipBelowTheFold&&(a+="&skipBelowTheFold=true"),this.containsDevOnlyQueryParameters()&&(a+="&citem=dev:true&instance=Int1"),this.configServiceParams=a}sendPerfMarker(t){this.resolverEnvironment.perfMarkerCallback&&this.resolverEnvironment.perfMarkerCallback(t)}shouldUseConfigService(){const t=this.resolverEnvironment&&this.resolverEnvironment.configServiceParameters&&this.resolverEnvironment.queryParams;t&&t.enableConfigService&&(this.enableConfigService="true"===t.enableConfigService)}containsDevOnlyQueryParameters(){const t=this.resolverEnvironment.queryParams;if(!t)return!1;const e=t.item;if(e&&e.length>0)return!0;if(t.citem)return!0;return!!t.pcsonly}getConfigMap(){return this.configMap}tryGetConfigSync(t){if(t){const e=this.getCacheKeyFromConfigRef(t);return this.configMap.get(e)}}async getConfig(t){const{configServiceParameters:e,targetScope:n}=this.resolverEnvironment;if(!e||!n||!t)return Promise.reject(Error("Either of configServiceParameters, targetScope or configRef is not set correctly."));if(!this.enableConfigService)return void(this._shouldTryFallbackResolver=!0);const i=this.getCacheKeyFromConfigRef(t);if(this.configMap.has(i))return this.configMap.get(i);if(this.configPromiseMap.has(i))return this.configPromiseMap.get(i);const r=new Promise((async(e,n)=>{try{this._initialCrsFetch&&this.sendPerfMarker(`${x}${y}`),await this.getConfigTreeFromCrs(t),this._initialCrsFetch&&this.sendPerfMarker(`${x}${b}`),this._shouldTryFallbackResolver&&(this._shouldUseCdnFallback=!0,this._shouldTryFallbackResolver=!1,this._initialCrsFetch&&this.sendPerfMarker(`${C}${y}`),await this.getConfigTreeFromCrs(t),this._initialCrsFetch&&this.sendPerfMarker(`${C}${b}`),this.sendAppError(J(G.Sp,"CRS-AFD Retry",`Retryring to call CRS-AFD with ConfigRef ${this.getCacheKeyFromConfigRef(t)} because Akamai call had an error.`))),this._initialCrsFetch=!1,e(this.configMap.get(i))}catch(t){this.sendAppError(J(G.Km,`Exception in getConfig for ${i}`,t)),n(t)}finally{this.configPromiseMap.delete(i)}}));return this.configPromiseMap.set(i,r),r}async getConfigTreeFromCrs(t){let e="",n="";try{let i;const r=this.getCrsTimeout(),o=performance.now(),s=new Promise((n=>{i=setTimeout((()=>{const i={...G.yL,pb:{...G.yL.pb,errorBehavior:K.C.Fallback,isWebWorker:this.resolverEnvironment.isThisWebWorkerThread}};return this.sendAppError(J(i,"CRS fetch timeout",`ConfigRef: ${this.getCacheKeyFromConfigRef(t)}. CrsUrl: ${e||""}, timeElapsed: ${performance.now()-o}`)),n(null)}),r)}));e=this.generateCrsUrl(t);let a=this.tryGetConfigFromEarlyCrsPromise(t,e);a?n="Prefetch ":a=this.downloadFromCrs(e,r);const c=a.then((t=>(i&&clearTimeout(i),t))),u=await Promise.race([c,s]),l=u&&u.configs;if(!l||(0,Q.Z)(l))return void(this._shouldTryFallbackResolver=!0);this._shouldTryFallbackResolver=!1,this.updateCacheUsingConfigs(l)}catch(i){this._shouldTryFallbackResolver=!0,this.sendAppError(J(G.GB,`${n}CRS fetch network error`,`ConfigRef: ${this.getCacheKeyFromConfigRef(t)}. CrsFetchNetworkError: ${this._hadNetworkError}. Error: ${i}. CrsUrl: ${e||""}`))}}updateCacheUsingConfigs(t){for(const e in t){const n=t[e];if(n&&n.properties){const t=this.getCacheKeyFromConfigRef(L(e));this.configMap.set(t,n)}}}setDownloadFromCrsBeforeNetwork(t){this.downloadFromCrsBeforeNetwork=t}async downloadFromCrs(t,e){if(this.downloadFromCrsBeforeNetwork){const e=await this.downloadFromCrsBeforeNetwork(t);if(e)return e}const{abortableFetchCallback:n,hostHeaderOverride:i}=this.resolverEnvironment,r="afdprotocol",o=f.Gq.get(r);if(o){const e=new URL(t);e.searchParams.append(r,o),t=e.toString()}const s=!(0,m.N)()&&i?{headers:{host:i}}:void 0;return(n?n(t,e,s):fetch(t)).then((e=>this.processCrsResponse(t,e))).catch((t=>this.handleCrsDownloadError(t)))}handleCrsDownloadError(t){throw this._shouldTryFallbackResolver=!1,this._hadNetworkError=!0,t}processCrsResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._crsActivityId=function(t){try{if(t&&"string"==typeof t){const e=t.indexOf("|");return t.substring(0,e)}}catch(t){}return""}(e.headers.get("x-ceto-ref")||"")||function(t){try{if(t&&"string"==typeof t)return t.match(/Ref A: [A-Z0-9]+/)[0].substring(7)}catch(t){}return""}(e.headers.get("x-msedge-ref")||"")||"empty",e.ok)return e.json();const{isWebWorkerPresent:i,isThisWebWorkerThread:r}=this.resolverEnvironment,o=e.headers.get("X-Crs-BuildVersion")||"",s=e.headers.get("X-Crs-Env")||"",a=e.headers.get("x-msedge-ref")||"",c=`Url: ${t}, CRS Version: ${o}, CRS Env: ${s}, isWebWorkerPresent: ${i}`,u={...G.Wc,pb:{...G.Wc.pb,userImpacting:!0,errorBehavior:K.C.Fallback,isWebWorker:r,isEarlyFetch:n,fetchNetworkResponse:{activityId:a,statusCode:e.status}}};return this.sendAppError(J(u,"CRS returned non-200 response",c)),Promise.resolve()}generateCrsUrl(t){const e=t.sharedNs?`&sharedNs=${t.sharedNs}`:"",n=`?${`expType=${t.experienceType}&expInstance=${t.instanceSrc}${e}`}&${this.configServiceParams}`;return(this._shouldUseCdnFallback?new URL(n,this.resolverEnvironment.crsRetryBaseUrl):new URL(n,this.resolverEnvironment.configServiceParameters.configServiceBaseUrl)).toString()}sendAppError(t){this.resolverEnvironment.appErrorCallback&&this.resolverEnvironment.appErrorCallback(t)}getCrsTimeout(){return(0,m.N)()||this.resolverEnvironment&&this.resolverEnvironment.isThisWebWorkerThread?1e4:3e3}tryGetConfigFromEarlyCrsPromise(t,e){if(!(0,m.N)())return null;const{crsPromise:n,crsRequestData:i}=window,r=null==i?void 0:i.url;return n&&r&&(0,X.Z)(t,(0,I.j)())?(setTimeout((()=>{const t=new URL(r).search,n=new URL(e).search;n.indexOf(t)<0&&this.sendAppError(J(G.Oq,"Early CRS URL is different",[t,n].toString()))}),8e3),delete window.crsPromise,delete window.crsRequestData,n.then((t=>this.processCrsResponse(r,t,!0))).catch((t=>this.handleCrsDownloadError(t)))):null}}var Z=n(9791);let tt=async(t,e,n,i)=>{if(!t)throw new Error("BlobFetcher.ts: Fetch Error: Relative Url is null or undefined.");const r=V(e,n)?"https://localhost.msn.com:9000/"+t:N+t.toLowerCase(),o=void 0,s=i?i(r,1e4,o):fetch(r);let a;return a=i?s.then((t=>{if(t.ok)return t.json();return i(r,1e4,o).then((t=>{if(t.ok)return t.json();throw new Error(`Non-200 response, failed to fetch 2nd time, Status: ${t.status}, StatusText: ${t.statusText}, fetch url: ${r}`)}))})).catch((t=>{throw new Error(`BlobFetcher.ts: Fetch Error: fetch url: ${r}, error: ${t}.`)})):s.then((t=>{if(t.ok)return t.json();throw new Error(`Non-200 response, Status: ${t.status}, StatusText: ${t.statusText}, fetch url: ${r}`)})).catch((t=>{throw new Error(`BlobFetcher.ts: Fetch Error: fetch url: ${r}, error: ${t}.`)})),a},et=(0,m.N)()?(0,Z.Z)(tt):tt;class nt{constructor(t,e,n){this.failedConfigIndexFetches=[],this.appType=t,this.configOrigins=e,(0,m.N)()&&(this.fetchAndParseConfigIndex=(0,Z.Z)(this.fetchAndParseConfigIndex,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("/")}))),this.resolverEnvironment=n}async fetchAndParseConfigIndex(t,e,n){const i=V(t,this.configOrigins);if(!n&&!i)return;const r=i?`${q(t,e,this.appType)}/index.json`:`${t}/${e}/index.json/${n}`;try{const e=this.resolverEnvironment&&this.resolverEnvironment.abortableFetchCallback;return await et(r,t,this.configOrigins,e)}catch(t){i||this.failedConfigIndexFetches.push(t)}}getFailedConfigIndexFetches(){return this.failedConfigIndexFetches}}class it{constructor(t,e,n){this.failedConfigFetches=[],this.appType=t,this.configOrigins=e,(0,m.N)()&&(this.fetchAndParseConfig=(0,Z.Z)(this.fetchAndParseConfig,(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.join("/")}))),this.resolverEnvironment=n}async fetchAndParseConfig(t,e,n,i){const r=V(t,this.configOrigins);if(!i&&!r)return;const o=r?`${q(t,e,this.appType)}/${n}`:`${t}/${e}/${n}/${i}`;try{const e=this.resolverEnvironment&&this.resolverEnvironment.abortableFetchCallback;return await et(o,t,this.configOrigins,e)}catch(t){r||this.failedConfigFetches.push(t)}}getFailedConfigFetches(){return this.failedConfigFetches}}class rt{constructor(t,e,n){this.manifestsMap=new Map,this.appType=t,this.configOrigins=e,this.resolverEnvironment=n}async fetchAndParseManifest(t,e){if(V(t,this.configOrigins))return;const n=`${t}/${this.appType}/${e}.json`;if(!this.manifestsMap.has(t))try{const e=this.resolverEnvironment&&this.resolverEnvironment.abortableFetchCallback,i=await et(n,void 0,void 0,e);if(this.manifestsMap.set(t,i),(0,Q.Z)(i))throw new Error(`Manifest response is ok but empty or undefined, relative url: ${n}`)}catch(e){throw this.manifestsMap.set(t,null),new Error(`ManifestService.ts: ${e}`)}return this.manifestsMap.get(t)}getConfigIndexHashedFileName(t,e){if(V(e,this.configOrigins))return;const n=`${t}/index.json`;return this.getFromManifest(n,e)}getConfigHashedFileName(t,e,n){if(V(n,this.configOrigins))return;const i=`${t}/${e}`;return this.getFromManifest(i,n)}getFromManifest(t,e){if(!this.manifestsMap||!this.manifestsMap.get(e))return;const n=this.manifestsMap.get(e);if(n&&n.fileHashes)return n.fileHashes[t.toLowerCase()];throw new Error(`ManifestService.ts: Manifest is defined but does not have fileHashes: ${t}: cacheKey snippet of manifest: ${JSON.stringify(n).substr(0,100)}`)}}var ot=n(30291),st=n(92170);function at(t,e){if((0,st.Z)(t))return e}var ct=n(67244);class ut{constructor(t){if(!(t&&t.configServiceParameters&&t.appType&&t.configServiceParameters.configServiceBaseUrl&&t.targetScope))throw new Error("SingleConfigResolver.ts: ResolverEnvironment or configServiceParameters or targetScope does not exist.");this.appType=t.appType,this.targetScope=t.targetScope,this.buildVersion=t.configServiceParameters.buildVersion,this.configOrigins=t.configOrigins,this.manifestService=new rt(this.appType,this.configOrigins,t),this.configIndexService=new nt(this.appType,this.configOrigins,t),this.configService=new it(this.appType,this.configOrigins,t)}async resolveConfigAsync(t){const e=H(t),n=H(t,!0);this.buildNumber=this.tryGetBuildNumber()||await async function(t,e){let n;const i=new URLSearchParams((0,p.zp)()).getAll("item"),r=i?i.find((t=>t&&0===t.indexOf("spalink:"))):void 0;r&&(n=r.replace("spalink:","").replace("/debug",""));const o=n||t;if(!o||!e||"latest"!==o&&"rolling"!==o&&!O.test(o))throw new Error(`Arguments are incorrect. Check buildVersion: ${o} appType: ${e}`);const s=`https://assets.msn.com/bundles/v1/${e}/${o}/v?${(new Date).getTime()}`;let a;try{if(a=await fetch(s),!a||!a.ok)throw new Error(`Response not OK, Status: ${a.status}, StatusText: ${a.statusText}`);return(await a.text()).trim()}catch(t){throw new Error(`getBuildNumberAsync Fetch Url: ${s}, ${t}`)}}(this.buildVersion,this.appType);const i=this.manifestService.fetchAndParseManifest(_,this.buildNumber),r=this.manifestService.fetchAndParseManifest(M,this.buildNumber);await Promise.all([i,r]);const o=this.manifestService.getConfigIndexHashedFileName(e,_),s=this.manifestService.getConfigIndexHashedFileName(n,M),a=this.configIndexService.fetchAndParseConfigIndex(R,e,o),c=this.configIndexService.fetchAndParseConfigIndex(E,n,s),u=await Promise.all([a,c]).then((t=>({featureIndex:t[0],localizationIndex:t[1]}))),l=u.featureIndex&&u.featureIndex.configs||void 0,d=u.localizationIndex&&u.localizationIndex.configs||void 0,f=[];if(this.fetchMathingConfigs(f,l,_,R,e),this.fetchMathingConfigs(f,d,M,E,n),this.fetchMathingConfigs(f,d,M,E,n,!0),0==f.length)return;return function(t){if(!t||t.length<1)return null;const e=t[0];for(let n=1;n<t.length;n++)e.properties=(0,ot.Z)(e.properties,t[n].properties,at);return e}((await Promise.all(f).then((t=>t))).filter((t=>null!=t)))}fetchMathingConfigs(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e&&0!=e.length&&e.forEach((e=>{if((0,ct.J4)(e.targetScope,this.targetScope,o)){const o=e.src,s=this.manifestService.getConfigHashedFileName(r,o,n);t.push(this.configService.fetchAndParseConfig(i,r,o,s))}}))}getFailedFetches(){const t=[],e=this.configService.getFailedConfigFetches();e.length>0&&t.push(...e);const n=this.configIndexService.getFailedConfigIndexFetches();return n.length>0&&t.push(...n),t}get buildNumber(){return this._buildNumber}set buildNumber(t){this._buildNumber=t}tryGetBuildNumber(){return this.buildNumber?this.buildNumber:this.configOrigins.feature===P.w.Local&&this.configOrigins.loc===P.w.Production?null:this.buildVersion}}class lt{constructor(t){if(this.mergedConfigMap=new Map,this.mockManagerInitialized=!1,!(t&&t.configServiceParameters&&t.appType&&t.configServiceParameters.configServiceBaseUrl&&t.targetScope))throw new Error("Resolver.ts: ResolverEnvironment or configServiceParameters or targetScope does not exist.");this.resolverEnvironment=t,this.appType=t.appType,this.singleConfigResolver=new ut(t)}async getConfig(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U(t,this.appType),{mockManager:i}=this.resolverEnvironment;if(i.mocksEnabled&&!this.mockManagerInitialized){this.mockManagerInitialized=!0;const t={scenarios:(await this.getConfig({experienceType:"MockManager",instanceSrc:"default"})).properties.scenarios};i.initialize(t)}if(!this.mergedConfigMap.has(n)){await this.getConfigRecursive(t,e);const n=this.singleConfigResolver.getFailedFetches();n.length>0&&n.forEach((t=>{z(this.resolverEnvironment.appErrorCallback,{...G.e_,message:"Fetch failed for a config",pb:{...G.e_.pb,customMessage:`Failed fetch url: ${t}`}})}))}return this.mergedConfigMap.get(n)}getConfigMap(){return this.mergedConfigMap}async getConfigRecursive(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=U(t,this.appType);if(n&&!this.mergedConfigMap.has(n))try{const i=await this.singleConfigResolver.resolveConfigAsync(t);if(this.mergedConfigMap.set(n,i),e){const t=B(i);if(0==t.size)return;const n=[];t.forEach((t=>{n.push(this.getConfigRecursive(t,e))})),await Promise.all(n)}}catch(t){z(this.resolverEnvironment.appErrorCallback,{...G.oH,message:"Exception in getConfig.",pb:{...G.oH.pb,customMessage:`CacheKey: ${n} / Error: ${t}`}})}}}class dt{constructor(t){if(this.resolverEnvironment=t,this.fallbackResolverCalled=!1,this.crsInitComplete=!1,this.configResolverMap=new Map,this.configResolverMapSet=!1,!t||!t.targetScope)throw new Error("ResolverEnvironment or targetScope does not exist.");var e;this.configService=new Y(t),e=t.configStaticFallbackBaseUrl,N=e,this.fallbackResolver=new lt(t)}get crsHadNetworkError(){return this.configService.hadNetworkError}get crsActivityId(){return this.configService.crsActivityId}tryGetConfigSync(t){if(t)return this.configService.tryGetConfigSync(t)||this.tryToGetFromInMemory(t)}async getConfig(t){if(this.resolverEnvironment.configOrigins.feature===P.w.Local||this.resolverEnvironment.mockManager.mocksEnabled){const e="function"==typeof this.resolverEnvironment.loggerCallback;try{const n=await this.fallbackResolver.getConfig(t);return n?Promise.resolve(n):(e&&this.resolverEnvironment.loggerCallback(`ConfigResolver: Failed to fetch configs from local configs. Config: ${U(t)}`),Promise.resolve(null))}catch(t){return e&&this.resolverEnvironment.loggerCallback(`${t.message}`),Promise.reject(t)}}if(!this.configResolverMapSet&&null!=t&&t.properties){const e=t.properties;e&&e.configs&&(this.setConfigResolverMap(e.configs),this.configResolverMapSet=!0)}const e=this.configResolverMapSet&&t?this.tryToGetFromInMemory(t):null;if(e)return e;this.crsInitComplete||(this.sendPerfMarker(`${S}${y}`),await this.initiateConfigService(),this.crsInitComplete=!0,this.sendPerfMarker(`${S}${b}`)),this.configResolverMapSet&&this.crsInitComplete&&this.sendAppError(J(G.cm,"Fallback to network call",`Config Ref ${this.getCacheKeyFromConfigRef(t)} not found in prefetched configs. Network Fallback`));const n=t?this.configService.tryGetConfigSync(t):null;return n||new Promise((async e=>{if(this.configService.shouldTryFallbackResolver){this.fallbackResolverCalled=!0;const n=await this.fallbackResolver.getConfig(t);if(n)return e(n)}else{const n=await this.configService.getConfig(t);if(n)return e(n)}return e(null)}))}getConfigServiceObject(){return this.configService}async initiateConfigService(){await this.configService.initialize(),await this.configService.getConfig((0,I.j)())}sendPerfMarker(t){this.resolverEnvironment.perfMarkerCallback&&this.resolverEnvironment.perfMarkerCallback(t)}setConfigResolverMap(t){for(const e in t){const n=t[e];if(n&&n.properties){const t=this.getCacheKeyFromConfigRef(L(e));this.configResolverMap.set(t,n)}}}tryToGetFromInMemory(t){const e=this.getCacheKeyFromConfigRef(t);return this.configResolverMap.get(e)}getCacheKeyFromConfigRef(t){return U(t,this.resolverEnvironment.appType)}sendAppError(t){this.resolverEnvironment.appErrorCallback&&this.resolverEnvironment.appErrorCallback(t)}}const ft="__ResolverInstance__";class ht{constructor(){this.currentTargetScope=s.jG.CurrentRequestTargetScope,this.env=s.jG.Environment||a.q.prod,this.localOverrideMap={},this.isInitialized=!1,this.initializeCaching()}static getInstance(){return f.Gq.get(ft,(()=>new ht))}static resetResolverInstance(){const t=new ht;f.Gq.set(ft,t),pt=(0,h.h)(ht)}getConfigResolver(){return this.configResolver}initializeCaching(){this.setTargetScopeAndConfigServiceParams()}setTargetScopeAndConfigServiceParams(){const{AppType:t,CurrentRequestTargetScope:e,WidgetAttributes:n}=s.jG;this.currentTargetScope=this.currentTargetScopeOverride||e;let i=[];const r=c.Al.AppFlights;if(Array.isArray(r))i=r;else{var o;const e=n&&n.clientPerf&&n.clientPerf.shouldUsePWOnlyFlights||"distribution"===t,r=null===(o=this.currentTargetScope)||void 0===o?void 0:o.pageExperiments,s=(0,g.hJ)(r,e,t);i=(0,g.Mx)(r,s)}this.scopeWithPeregrineFlights={...this.currentTargetScope,domain:n&&(0,p.Td)()||this.currentTargetScope&&this.currentTargetScope.domain,pageExperiments:i}}initialize(t,e){if(this.isInitialized)return;var n;if(this.perfTimeline=(0,i.oA)("Resolver","Resolver",!0),n=this.perfTimeline,$=n,!s.jG.IsGitConfigs)return;const o={buildVersion:s.jG.BuildVersion,configServiceBaseUrl:s.jG.ConfigServiceBaseUrl.toString()},a=s.jG.CrsRetryBaseUrl,{pageExperiments:c}=this.currentTargetScope,u={appType:s.jG.AppType,configServiceParameters:o,targetScope:this.scopeWithPeregrineFlights,env:s.jG.Environment.toString(),featureFlags:s.jG.FeatureFlags,isThisWebWorkerThread:!1,isWebWorkerPresent:this.useWebWorkerToCache,queryParams:l.cX.getParamsObj((0,p.zp)()),appErrorCallback:t,perfMarkerCallback:A,loggerCallback:r.k.log.bind(r.k),logObjectsCallback:r.k.logObjects.bind(r.k),isDebug:r.k.isDebug(),configCacheProperties:undefined,configOrigins:s.jG.ConfigOrigins,segmentPlugins:e,mockManager:D,crsRetryBaseUrl:a,disableInMemoryCache:s.jG.DisableInMemoryCache,useCachedApp:s.jG.UseCachedApp,crsDisableServerCache:s.jG.CrsDisableServerCache,abortableFetchCallback:c&&(c.includes("useabortfetch")||c.includes("prg-1sw-abtfetch"))||!(0,m.N)()?d.Sm:void 0,hostHeaderOverride:s.jG.HostHeaderOverride,configStaticFallbackBaseUrl:s.jG.ConfigStaticFallbackBaseUrl};this.configResolver=new dt(u),this.isInitialized=!0}overrideCurrentRequestTargetScope(t){this.currentTargetScopeOverride=t,this.currentTargetScopeOverride&&(this.currentTargetScope=this.currentTargetScopeOverride)}overrideCurrentRequestEnvironment(t){this.env=t||a.q.prod}overrideConfig(t,e,n){if(this.env!==a.q.prod){const i="string"==typeof t?t:(0,u.B5)(t);this.localOverrideMap[i]={experienceType:e,properties:n,typeVersion:"1.0.0",_name:"index"}}}async getRootConfig(){const t=await this.getEntryPointConfigRef();return await this.getConfig(t.configRef)}async getEntryPointConfigRef(){return(await this.getConfig((0,I.j)())).properties.rootExperience}getConfigSync(t){if(!t||!this.currentTargetScope||!s.jG.IsGitConfigs)return;const e=(0,u.B5)(t),n=e&&this.localOverrideMap[e];if(n)return n;const i=this.configResolver&&this.configResolver.tryGetConfigSync(t);return i?{experienceType:t.experienceType,properties:i.properties||{},typeVersion:"Git",_name:e}:void 0}async getConfig(t){if(!this.currentTargetScope)return Promise.reject(new Error(`getConfig: Invalid target scope when fetching config ${JSON.stringify(t)}`));if(s.jG.IsGitConfigs){if("string"==typeof t){const e="Invalid config Id for Git configs flight";return this.resolverErrors.push({...o.lu7,message:e,pb:{...o.lu7.pb,userImpacting:!0,customMessage:t}}),Promise.reject(new Error(`${e}: ${t}`))}if(!this.configResolver){const e="Invalid configResolver object for Git configs flight";return this.resolverErrors.push({...o.ASE,message:e,pb:{...o.ASE.pb,userImpacting:!0,customMessage:JSON.stringify(t)}}),Promise.reject(new Error(`${e}: ${JSON.stringify(t)}`))}const e=(0,u.B5)(t),n=this.localOverrideMap[e];if(n)return n;const i=this.perfTimeline&&this.perfTimeline.startMeasure("config",e).endMeasure;let r,s;try{s=this.configResolver.tryGetConfigSync(t);let e=s;if(!e){e=await this.configResolver.getConfig(t);const n=this.configResolver.crsActivityId;n&&w.M0.addOrUpdateCustomProperty("crsActivityId",n)}return e?r={experienceType:t.experienceType,properties:e.properties||{},typeVersion:"Git",_name:(0,u.B5)(t)}:Promise.reject(new v(`Could not fetch Git config id ${JSON.stringify(t)}`,this.configResolver.crsHadNetworkError))}finally{if(i){i({customSuffix:`${e}-${(s?"memory":r&&"network")||"error"}`})}}}}useConfigService(){const t=(0,p.zp)();if(t){const e=l.cX.getQueryParameterByName("enableConfigService",t);if(e)return"true"===e.toLocaleLowerCase()}return s.jG.EnableConfigService}getConfigRetrievalMaxDepth(){const t=l.cX.getQueryParameterByName("maxDepth",(0,p.l4)());return t||(s.jG.FeatureFlags&&s.jG.FeatureFlags.crsMaxDepth?s.jG.FeatureFlags.crsMaxDepth:"10")}containsDevOnlyQueryParameters(){const t=(0,p.zp)(),e=l.cX.getQueryParameterByName("item",t);if(e&&e.length>0)return!0;const n=l.cX.getQueryParameterByName("pcsonly",t);return!!(n&&n.length>0)}getConfigTimings(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(s.jG.IsGitConfigs)return void Object.assign(t,T);if(!this.configTimings)return;let n=0,i=0;for(const r of this.configTimings){const o=r.experienceType.toLowerCase(),a=r.cacheFetchDuration,c=r.networkFetchDuration;("entrypoint"===o||"river"===o||"contentpreview"===o||s.jG.IsDebug||e)&&(void 0!==c&&(t["ConfigFetch."+o]=Math.round(c)),void 0!==a&&(t["ConfigCache."+o]=Math.round(a))),void 0!==a&&(n+=a),void 0!==c&&(i+=c)}n&&(t["ConfigCache.All"]=Math.round(n)),i&&(t["ConfigFetch.All"]=Math.round(i))}}let pt=(0,h.h)(ht);const mt={getRootConfig:()=>pt.getRootConfig(),getEntryPointConfigRef:()=>pt.getEntryPointConfigRef(),getConfig:t=>pt.getConfig(t),getConfigSync:t=>pt.getConfigSync(t),getConfigTimings:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return pt.getConfigTimings(t,e)},getInstance:()=>pt,setTargetScopeAndConfigServiceParams:()=>pt.setTargetScopeAndConfigServiceParams(),initialize:(t,e)=>pt.initialize(t,e),overrideConfig:(t,e,n)=>pt.overrideConfig(t,e,n),overrideCurrentRequestTargetScope:t=>pt.overrideCurrentRequestTargetScope(t),overrideCurrentRequestEnvironment:t=>pt.overrideCurrentRequestEnvironment(t),initializeCaching:()=>pt.initializeCaching()}},2907:function(t,e,n){function i(t){return a(t,(t=>t.configRef.experienceType),(t=>t.experienceType),null)}function r(t){return a(t,(t=>t.configRef))}function o(t){return`${t.experienceType}_${t.instanceSrc}_${t.sharedNs||""}`}function s(t){return t&&null!=t.instanceId&&!!a(t,(t=>t.configRef&&t.configRef.experienceType&&t.configRef.instanceSrc),(t=>t.experienceType&&null!=t.href),null)}function a(t,e,n,i,r){if(void 0===r&&(r=null),null!=t){if("string"==typeof t)return i&&i(t)||r;const o=t;if(o.configRef)return e&&e(o)||r;if(n)return n(t)||r}return r}n.d(e,{B5:function(){return o},Fr:function(){return r},M:function(){return i},oO:function(){return s}})},34934:function(t,e,n){n.d(e,{Gg:function(){return a},St:function(){return u},WW:function(){return c},tk:function(){return i}});var i,r=n(52185),o=n(52058);!function(t){t.actionMenuOpen="actionMenuOpen",t.addTopSite="addTopSite",t.coachmark="coachmark",t.editTopSite="editTopSite",t.editWelcomeGreeting="editWelcomeGreeting",t.hamburgerMenu="hamburgerMenu",t.imageSearch="imageSearch",t.locationMarkerCard="locationMarkerCard",t.mobileAppUpsell="mobileAppUpsell",t.msRewards="msRewards",t.museumCard="museumCard",t.navOverflow="navOverflow",t.notificationBell="notificationBell",t.pivot="pivot",t.search="search",t.searchHistoryMoreOptions="searchHistoryMoreOptions",t.settings="settings",t.feedSettings="feedSettings",t.feedbackFaq="feedbackFaq",t.signInControl="signInControl",t.toast="toast",t.topSiteOverflowPanel="topSiteOverflowPanel",t.waffle="waffle",t.recommendedSitesSetting="recommendedSitesSetting",t.weatherOneLinerActionMenu="weatherOneLinerActionMenu",t.pulseActionMenu="pulseActionMenu",t.rewardsDialog="rewardsDialog",t.rewardsSignInDialog="rewardsSignInDialog",t.marketLanguageToggle="marketLanguageToggle"}(i||(i={}));class s{constructor(){this.flyoutOpen=!1,this.openFlyouts=new Set,this.registeredCallbacks=[]}static getInstance(){return r.Gq.get("__FlyoutCoordinationInstance__",(()=>new s))}reportFlyoutOpen(t,e){e?this.openFlyouts.add(t):this.openFlyouts.delete(t),this.flyoutOpen=this.openFlyouts.size>0;for(const n of this.registeredCallbacks)n(t,e)}registerFlyoutListener(t){this.registeredCallbacks.push(t)}unregisterFlyoutListener(t){(0,o.Z)(this.registeredCallbacks,(e=>t===e))}isFlyoutOpen(){return this.flyoutOpen}}function a(t,e){return s.getInstance().reportFlyoutOpen(t,e)}function c(t){return s.getInstance().registerFlyoutListener(t)}function u(t){return s.getInstance().unregisterFlyoutListener(t)}},53030:function(t,e,n){n.d(e,{HB:function(){return w}});var i=n(28951),r=n(7733),o=n(77137),s=n(13218),a=n(21215),c=n(22680);const u="//assets.msn.com",l="//assets.msn.cn",d=t=>"localhost.msn.com"===t.split(":",1)[0];function f(t){if(/^\/[\w.-]+(\/[\w.-]+)*$/.test(t))return!(t.includes("/../")||t.includes("/./")||t.endsWith("/..")||t.endsWith("/."))}function h(t){return t&&!t.startsWith("/")?"/"+t:t}function p(t){return t.endsWith("/")?t:t+"/"}function m(t){return f(h(t))?(e=t).startsWith("/")?e.slice(1):e:null;var e}function g(t){return t?t.split("/")[0]:null}const v=(t,e,n,c)=>{const v=new URLSearchParams(t),w="true"===v.get("renderWidget"),y="true"===v.get("useDeployedBundles");let b=((t,e,n)=>{if(!e){if(n)return u;if(d(t))return`//${t}`}return o.jG.IsChinaCompliance?l:u})(e,w,y);if(c){b=(window.location.protocol||"https:")+b}if(v.has("entry")){const t=h(v.get("entry").split("/").slice(0,-1).join("/"));return b&&f(t)&&(d(e)||t.startsWith("/bundles"))?p(b+t):p(b)}if(b&&d(e)&&!y){if(!(0,a.N)()){return b+__WEBPACK_LOCAL_STATICS_PATH__}if(n)return b+n}else if(b){var S;const e=(t||"").substring(1),o=decodeURIComponent(e);let a;const c=i.cX.getParamsWithItems(o).find((t=>"spalink"===t.key)),u=c&&c.value,l=s.Al.ClientSettings||{},d=null===(S=l.bundleInfo)||void 0===S?void 0:S.alias;if("true"===l.static_page&&d)a=g(d);else if(u)a=g(m(u));else{const t=new r.h(o).get("bundles");t?a=m(t):d&&(a=g(d))}if(n){const t=n.split("/");return t[4]=a||"latest",b+t.join("/")}}return n},w=t=>{n.p=v((0,c.zp)(),(0,c.zw)(),n.p,t)}},98303:function(t,e,n){n.d(e,{DO:function(){return c},Nd:function(){return a},fH:function(){return s}});var i=n(77137),r=n(52475),o=n(94660);class s{constructor(){let{params:t,qspPrefix:e,spec:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.requestData=new r.m4(n||o.j4,e||o.mx),t&&this.requestData.loadQueryParams(t),i&&(this.RequestId=i)}get requestId(){return this.RequestId||this.app.ActivityId}get app(){return i.jG}get data(){return this.requestData.data}}function a(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("function"==typeof t){const e=t();if(e||0===e)return e}if(n)throw new Error("Expected "+e+" to return value. Possible invalid RequestContext spec used or the spec doesn't contain this data.")}function c(t){return a(t.data.locationHref,"locationHref",!1)}},83405:function(t,e,n){n.d(e,{E:function(){return i}});const i={prod:"//img-s-msn-com.akamaized.net/tenant/amp/entityid/"}},42729:function(t,e,n){n.d(e,{k:function(){return a}});var i,r=n(7124);const o=null===(i=n(13218).Al.CurrentFlightSet)||void 0===i?void 0:i.has("prg-scrolldbc"),s=50;function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return o?!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?(0,r.Z)(t,e):(0,r.Z)(t,e,{leading:!0,trailing:!1}):t}},89046:function(t,e){e.Z=function(t){if(t){const r=/{([\d]+)}/g,o=[];let s=r.exec(t),a=0,c=0;for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(;null!==s;)c=s.index,o.push(t.substring(a,c)),o.push(n[s[1]]),a=r.lastIndex,s=r.exec(t);return o.push(t.substring(a)),o}}},33493:function(t,e,n){n.d(e,{B2:function(){return u},__:function(){return c},cy:function(){return a},pd:function(){return f},qG:function(){return h},wz:function(){return l}});var i=n(13218),r=n(22011),o=n(33779),s=n(5302);function a(t){var e,n;if(!(null!==i.Al&&void 0!==i.Al&&null!==(e=i.Al.CurrentFlightSet)&&void 0!==e&&e.has("prg-ad-mon-feedback")||null!==i.Al&&void 0!==i.Al&&null!==(n=i.Al.CurrentFlightSet)&&void 0!==n&&n.has(r.eB)))return!1;if(!t)return!1;const o=/\$\{[A-Z_]+\}/.test(t),s=t.includes("${FEEDBACK}")||t.includes("${RLINK}")||t.includes("${CANVAS}")||t.includes("${ADVERTISER_DOMAIN}");return o&&s}function c(t,e,n,i){return t.includes(e)?t.replace(e,n):t.concat(`&${i}=${n}`)}function u(t,e,n){const i=`&${e}=${n}`;return t.replaceAll(i,"")}function l(t){if(!t)return null;try{const e=new URL(t),n=e.searchParams.get("rlink");if(n)return n;const i=e.searchParams.get("clickenc");if(i)return d(i);const r=t.match(/[&/]clickenc=([^&/]*)/);return r?d(r[1]):null}catch{return null}}function d(t){try{const e=decodeURIComponent(t).match(/[&?]rlink=([^&]*)/);return e?decodeURIComponent(e[1]):null}catch{return null}}function f(t,e){if(t)try{const e=JSON.parse(t);if(null!=e&&e.adDomain)return e.adDomain}catch(e){(0,o.OO)(e,s.PHk,`Failed to parse adSelectionCriteria: ${null==t?void 0:t.substring(0,200)}`)}if(e)try{var n;const t=JSON.parse(e),i=null==t||null===(n=t.ads)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.advertiserDomain;if(i)return i}catch(t){(0,o.OO)(t,s.PHk,`Failed to parse adSelectionReason: ${null==e?void 0:e.substring(0,200)}`)}}function h(t){return null!=t&&""!==t}},99371:function(t,e,n){n.d(e,{b:function(){return a}});var i=n(44132),r=n(17813),o=n(68640),s=n(21215);async function a(t,e,a,c){if(!(0,s.N)())return;const u=await n.e("diagnostic-web-vitals").then(n.bind(n,88512));(0,r.lr)().then((()=>{const n=a?{timeToPageReveal:t[o.Y5],timeToPageVisible:t[o.U4]}:void 0;u.initDiagnosticsWebVitals((t=>{c?c({markers:t}):i.M0.sendLoadTimeEvent({markers:t}),Object.entries(t).forEach((t=>{let[n,i]=t;e[n]=i}))}),t&&t[o.dd]||-1,n)}))}},5302:function(t,e,n){n.d(e,{zzx:function(){return Tx},bQI:function(){return kx},K_t:function(){return Px},j_y:function(){return Ix},XcO:function(){return $x},Was:function(){return Ax},vn7:function(){return _x},X4G:function(){return Mx},iVH:function(){return ji},Evv:function(){return _i},EoX:function(){return Pi},Eh0:function(){return Bi},d1d:function(){return Wi},SSe:function(){return CI},NMS:function(){return Ii},iJb:function(){return Di},Es0:function(){return Fi},AWv:function(){return Li},a4J:function(){return Ri},a2y:function(){return ga},s51:function(){return Aa},S2e:function(){return $a},_ig:function(){return ua},hnc:function(){return la},ZHI:function(){return pa},CBH:function(){return ma},LIN:function(){return ca},N6m:function(){return ya},yyJ:function(){return Ta},YSG:function(){return xa},cL8:function(){return Sa},gAu:function(){return ha},MRH:function(){return fa},bUp:function(){return va},EhB:function(){return wa},EXN:function(){return ka},Vsq:function(){return Ca},CPU:function(){return da},FQ3:function(){return ba},Eol:function(){return Y},qI3:function(){return lx},sNr:function(){return sr},Y57:function(){return ar},bvO:function(){return or},evM:function(){return qs},amS:function(){return _s},YHd:function(){return js},gZU:function(){return zs},Si:function(){return Ds},npG:function(){return Rs},u8h:function(){return Es},_Qv:function(){return Gs},L8S:function(){return Js},G0e:function(){return Ms},KH7:function(){return Hs},_2Z:function(){return Vs},FWA:function(){return Ks},lz:function(){return Fs},fvr:function(){return Bs},Bjk:function(){return Us},ydI:function(){return Ws},D1F:function(){return Ls},WB4:function(){return Ns},ja9:function(){return Os},nrW:function(){return Xs},FTS:function(){return Qs},Zfy:function(){return ob},Mw:function(){return sb},m9g:function(){return Ci},IIV:function(){return Sw},LnJ:function(){return xw},EuY:function(){return Cw},hNw:function(){return $w},BFw:function(){return Iw},SqC:function(){return kw},gjV:function(){return Aw},tvG:function(){return Tw},JTk:function(){return $s},Cy3:function(){return Oi},$eW:function(){return ow},UDB:function(){return ub},Hrk:function(){return cb},MW5:function(){return lb},eBN:function(){return xx},CLx:function(){return Wk},aB8:function(){return Hk},a8F:function(){return zi},yMR:function(){return vv},Mo$:function(){return e$},OtG:function(){return Ha},JWg:function(){return za},Z7:function(){return at},G1z:function(){return ot},na5:function(){return ct},lM0:function(){return ut},yBI:function(){return lt},Xqh:function(){return st},OIz:function(){return dt},Kbm:function(){return rt},rwO:function(){return ft},M2l:function(){return KS},L_o:function(){return JS},eto:function(){return pc},UpF:function(){return Lr},tfk:function(){return Hr},tSD:function(){return Br},XFJ:function(){return Wr},SPE:function(){return Ak},wyy:function(){return Xl},AWk:function(){return Jl},Uf3:function(){return Kl},nZQ:function(){return Vl},kAq:function(){return Hl},ODl:function(){return Ql},czP:function(){return Gl},k2Y:function(){return Yl},DJm:function(){return jl},T4Y:function(){return zl},xEV:function(){return ql},RZW:function(){return $k},j7$:function(){return NT},ATu:function(){return UT},z48:function(){return DT},sq:function(){return OT},L_b:function(){return FT},ZPy:function(){return LT},qir:function(){return BT},Mqi:function(){return Dh},y7V:function(){return Oh},Kp5:function(){return Nh},Hvj:function(){return Uh},uyV:function(){return Lh},aw2:function(){return Wh},_7Q:function(){return Sh},b2C:function(){return KT},Mn5:function(){return JT},jds:function(){return XT},CVs:function(){return QT},OiY:function(){return t$},QPL:function(){return ZT},qd2:function(){return YT},oTO:function(){return By},qXP:function(){return Uy},HKp:function(){return Wy},gEw:function(){return Ny},B$y:function(){return Ly},YVm:function(){return jk},z98:function(){return rw},omk:function(){return et},K0:function(){return Z},IVQ:function(){return tt},Zt_:function(){return Ea},BMt:function(){return rx},OAw:function(){return ZS},Tdm:function(){return tx},a0I:function(){return sx},xeh:function(){return ix},ht:function(){return ex},rnG:function(){return nx},tJi:function(){return ox},PKn:function(){return cx},P2p:function(){return ux},ygS:function(){return ax},QzW:function(){return $},OPR:function(){return fA},fU5:function(){return St},Vwf:function(){return yt},lIV:function(){return bt},sGX:function(){return gt},HFn:function(){return wt},AK8:function(){return mI},WGi:function(){return wI},FvO:function(){return Zi},F0_:function(){return tr},Qsh:function(){return ir},CKi:function(){return nr},EIi:function(){return er},hMS:function(){return sw},TVf:function(){return Pa},O4H:function(){return vI},gS$:function(){return fm},ODI:function(){return TA},Lm2:function(){return AA},JG9:function(){return wA},xeK:function(){return LC},ynv:function(){return UC},i2h:function(){return BC},Bh9:function(){return OC},zFn:function(){return DC},Wom:function(){return NC},yQr:function(){return FC},XY$:function(){return yA},VnR:function(){return xA},Vur:function(){return bA},wt1:function(){return SA},MmB:function(){return uo},PA8:function(){return Zs},FlO:function(){return Ys},pdr:function(){return ta},Lwi:function(){return ea},eck:function(){return C$},h_:function(){return k$},YVg:function(){return wh},Sp0:function(){return le},DQg:function(){return wi},E8Y:function(){return fI},_D4:function(){return dI},cTj:function(){return pI},kpe:function(){return hI},JpF:function(){return _k},F3v:function(){return Ik},nln:function(){return Sn},F1V:function(){return r$},hii:function(){return o$},X9Z:function(){return gw},MD5:function(){return uc},dTs:function(){return qr},huq:function(){return fc},L90:function(){return lc},V3_:function(){return dc},Cn7:function(){return Ja},xXe:function(){return S$},fDq:function(){return x$},GrI:function(){return it},WXX:function(){return nt},jWk:function(){return Ma},I8d:function(){return cw},bKC:function(){return aw},IIT:function(){return Fw},J_l:function(){return bw},fUc:function(){return AC},C35:function(){return IC},lE3:function(){return _C},ZJy:function(){return MC},$n1:function(){return PC},Rln:function(){return ls},u4l:function(){return ds},$8R:function(){return Cs},fCp:function(){return ms},BHd:function(){return gs},DWx:function(){return Ss},_BW:function(){return fs},_bN:function(){return Da},AuD:function(){return hs},EUJ:function(){return V},IrA:function(){return Oa},OcW:function(){return Mw},f7W:function(){return xh},ZG6:function(){return mi},H5g:function(){return qe},Ez4:function(){return Fa},jzM:function(){return vh},P14:function(){return hi},ZSB:function(){return jr},kPC:function(){return Oe},aKV:function(){return ze},l35:function(){return Ne},aO:function(){return Pe},Psw:function(){return Ni},EP$:function(){return CA},Hc7:function(){return H},THK:function(){return z},dQx:function(){return j},MAv:function(){return G},vb1:function(){return q},oor:function(){return J},doX:function(){return ye},y7Z:function(){return Ku},Q$4:function(){return Pu},Ecq:function(){return wu},Bxi:function(){return jp},q8m:function(){return cv},HNI:function(){return lv},GjA:function(){return uv},Kc:function(){return dv},aAG:function(){return Rm},V3R:function(){return $m},DjB:function(){return Cm},Lbg:function(){return km},IKj:function(){return Tm},bOf:function(){return xm},SNZ:function(){return Sc},ITJ:function(){return Cc},TyC:function(){return xc},sqY:function(){return tu},Td5:function(){return av},p74:function(){return sv},XY_:function(){return gu},pcX:function(){return vu},gPB:function(){return dm},zok:function(){return rg},rrV:function(){return eg},vZx:function(){return ig},YNO:function(){return ng},hhM:function(){return tg},cz_:function(){return Xm},wnd:function(){return Zm},Oin:function(){return Ym},m96:function(){return Jm},jvv:function(){return Qm},W7q:function(){return Km},VUW:function(){return cg},OlW:function(){return og},ofB:function(){return ag},kyJ:function(){return sg},mlD:function(){return su},bcY:function(){return Qu},RgZ:function(){return _u},$0o:function(){return bu},i$H:function(){return Cu},hos:function(){return Au},mrR:function(){return nv},sKu:function(){return rv},$nz:function(){return iv},zGZ:function(){return ov},IvS:function(){return Yg},Ra$:function(){return tv},oDx:function(){return Zg},sGw:function(){return ev},qri:function(){return tm},r3t:function(){return nm},_J:function(){return em},LP6:function(){return ru},H_Z:function(){return Ec},IWG:function(){return Dc},rHL:function(){return Fc},VQZ:function(){return ou},IS6:function(){return Oc},SI$:function(){return Uc},rct:function(){return Nc},Z3$:function(){return kg},Uls:function(){return wm},XyK:function(){return bm},dkq:function(){return ym},RfH:function(){return Sm},TXn:function(){return pm},Uwk:function(){return gm},NTN:function(){return mm},tM3:function(){return vm},pd7:function(){return lu},gfJ:function(){return Ru},HxT:function(){return Fu},Ytj:function(){return Eu},wAW:function(){return Ac},TGz:function(){return Pc},z$g:function(){return Ic},La3:function(){return nu},G9t:function(){return Ju},SFF:function(){return Zu},hrj:function(){return au},iyj:function(){return Kc},ZOQ:function(){return Xc},u7v:function(){return Qc},R9Y:function(){return hu},w03:function(){return Em},NP0:function(){return Dm},P5x:function(){return Fm},Pjj:function(){return Jg},mF6:function(){return Qg},JQD:function(){return Kg},SEM:function(){return Xg},pgv:function(){return Lc},a5R:function(){return Wc},mmY:function(){return Bc},Vak:function(){return ew},jx_:function(){return wg},ulx:function(){return Zv},EB:function(){return tw},S5P:function(){return Qv},AC$:function(){return Vv},QAb:function(){return cu},zW$:function(){return Hc},OEA:function(){return Vc},CtU:function(){return zc},S3W:function(){return uu},JDK:function(){return jc},kN4:function(){return Gc},cyG:function(){return qc},dSt:function(){return Yv},EYv:function(){return Lv},pRv:function(){return Wv},sf$:function(){return Gv},jfH:function(){return qv},fy8:function(){return Jv},RXg:function(){return Hv},fLk:function(){return zv},gyk:function(){return Bv},ewo:function(){return O$},VUu:function(){return Eg},UF1:function(){return Dg},Cbq:function(){return Fg},eL3:function(){return Og},IHe:function(){return Pg},FoT:function(){return Mg},jzw:function(){return _g},NvE:function(){return Rg},$We:function(){return iu},Jus:function(){return _c},O3:function(){return Rc},M_5:function(){return Mc},phA:function(){return Yp},o7M:function(){return Zp},c8$:function(){return Vp},pc7:function(){return zp},sjI:function(){return Wp},WlJ:function(){return Lp},h7C:function(){return Hp},DzU:function(){return Bp},jGe:function(){return fu},fNC:function(){return Uu},Q9A:function(){return Bu},VLw:function(){return Lu},Kfe:function(){return du},e1y:function(){return Du},OpM:function(){return Nu},W39:function(){return Ou},TZx:function(){return Tu},GeL:function(){return vc},rbA:function(){return yc},nvX:function(){return wc},blf:function(){return eu},IKo:function(){return Ug},OLX:function(){return Yu},Vft:function(){return tl},M11:function(){return lm},Poh:function(){return am},EVj:function(){return um},dej:function(){return cm},OFV:function(){return Jc},T2w:function(){return xu},X81:function(){return Su},sDZ:function(){return $u},Y_C:function(){return Tg},_xu:function(){return Ag},LFG:function(){return $g},ftv:function(){return Ig},Hhi:function(){return yg},Ng:function(){return Pm},Iyc:function(){return Mm},WuF:function(){return _m},O5R:function(){return kc},U:function(){return $c},Knl:function(){return Tc},VpT:function(){return Zc},L9M:function(){return im},g75:function(){return Vm},Nlf:function(){return qm},dYy:function(){return jm},Obu:function(){return Gm},$zm:function(){return vg},EOy:function(){return Xv},KZG:function(){return bg},tuA:function(){return xg},bY9:function(){return Sg},QLu:function(){return Cg},Kh5:function(){return zm},Ajh:function(){return Bm},_NS:function(){return Hm},SHM:function(){return Wm},bkE:function(){return rm},AdE:function(){return sm},HXH:function(){return om},z_8:function(){return jv},sTZ:function(){return Kp},MXT:function(){return Xp},sEi:function(){return Qp},jjl:function(){return mu},w9b:function(){return qp},_kV:function(){return Jp},shi:function(){return Gp},fIV:function(){return pu},bWr:function(){return Im},uZq:function(){return Mu},DaG:function(){return yu},XAT:function(){return Wu},WOT:function(){return Lg},mr1:function(){return Wg},Ug4:function(){return Bg},uVi:function(){return Hg},MN8:function(){return hg},MAP:function(){return mg},eF:function(){return pg},YwH:function(){return gg},lrD:function(){return zg},NY2:function(){return jg},KVM:function(){return Vg},EtP:function(){return qg},Mm$:function(){return Vu},EeU:function(){return zu},JTZ:function(){return qu},SIq:function(){return ju},bc5:function(){return Hu},mjh:function(){return ug},EFm:function(){return dg},YlQ:function(){return lg},a0p:function(){return fg},EoY:function(){return Om},yKx:function(){return Um},_6u:function(){return Nm},nXl:function(){return Lm},Akr:function(){return Xu},KXt:function(){return ku},uFt:function(){return Iu},k7N:function(){return Gg},GAO:function(){return bc},mOy:function(){return Yc},J_3:function(){return Gu},qjh:function(){return Sk},y3c:function(){return $C},ORJ:function(){return TC},rNk:function(){return yh},tCQ:function(){return Ah},TAR:function(){return ET},yRR:function(){return $h},EF$:function(){return Ch},GJW:function(){return bh},bH3:function(){return kh},jA_:function(){return pC},R6k:function(){return SC},neE:function(){return vC},Xr9:function(){return mC},HOH:function(){return gC},dqy:function(){return wC},AVH:function(){return bC},ZIZ:function(){return yC},vM2:function(){return hC},j3p:function(){return Ve},fzu:function(){return xC},nvk:function(){return kC},FFH:function(){return CC},Nox:function(){return Cx},OjJ:function(){return pd},Cfk:function(){return fi},ldC:function(){return hm},NmA:function(){return Ai},ru5:function(){return $i},Zmj:function(){return li},v73:function(){return di},jZQ:function(){return gi},rmC:function(){return yi},I2B:function(){return bi},ryt:function(){return xi},K8d:function(){return Si},e6B:function(){return vi},HpJ:function(){return mh},lu7:function(){return cr},ASE:function(){return ur},iWd:function(){return rh},h0:function(){return ih},EYh:function(){return sh},O1E:function(){return oh},qtV:function(){return dh},BQe:function(){return ch},ij8:function(){return uh},r6p:function(){return ah},qbQ:function(){return lh},WpO:function(){return Fx},O4Q:function(){return $$},r81:function(){return A$},nCk:function(){return Rx},qut:function(){return Ex},uud:function(){return H$},GX5:function(){return z$},Nu$:function(){return fo},NCs:function(){return gA},JH9:function(){return Mh},NFm:function(){return Ih},Z$l:function(){return Ph},$YQ:function(){return _h},y5w:function(){return kA},_Hx:function(){return $A},Pce:function(){return iI},JHN:function(){return Gi},x4C:function(){return Ji},cgi:function(){return Ew},yVj:function(){return yT},cvW:function(){return W},tyW:function(){return AT},Oz9:function(){return TT},l8i:function(){return kT},DEB:function(){return PT},hB2:function(){return $T},R9p:function(){return IT},YJ7:function(){return Ie},U4N:function(){return Ae},fNQ:function(){return ve},dxF:function(){return Be},aPD:function(){return He},mXp:function(){return ke},ABv:function(){return Te},BnB:function(){return $e},SSg:function(){return Me},DE1:function(){return pe},udk:function(){return Le},yf9:function(){return me},dDG:function(){return be},qQi:function(){return Ce},oxX:function(){return Se},Q3G:function(){return he},QW8:function(){return de},wXh:function(){return fe},sf4:function(){return ge},T4K:function(){return xe},jns:function(){return we},Gm$:function(){return We},lNW:function(){return Fe},kHv:function(){return Tk},J94:function(){return Ki},AIp:function(){return Vi},AvP:function(){return vt},jty:function(){return B$},TBk:function(){return Ti},CBf:function(){return Wa},f_s:function(){return Ba},RLb:function(){return La},SbG:function(){return hw},cS0:function(){return mw},Dpu:function(){return pw},VkE:function(){return Rh},dSm:function(){return Eh},fzU:function(){return Fh},RbM:function(){return fh},OzT:function(){return bI},gzO:function(){return Je},NGC:function(){return Ge},hTy:function(){return nb},l8A:function(){return IA},LoM:function(){return PA},JGn:function(){return eb},h2c:function(){return vT},i05:function(){return n$},Xa2:function(){return i$},hNX:function(){return Bh},c6N:function(){return wx},VzI:function(){return vx},MeS:function(){return X},qzL:function(){return Q},RPj:function(){return rA},duJ:function(){return W$},f3z:function(){return gh},UX3:function(){return Na},MWq:function(){return _a},al0:function(){return Qi},ZSq:function(){return rI},_f_:function(){return dA},VKD:function(){return ee},yXV:function(){return ne},KCt:function(){return cA},KDG:function(){return aA},X1K:function(){return oA},NsM:function(){return sA},Gfj:function(){return ie},Oee:function(){return kn},jjQ:function(){return $n},xz5:function(){return Tn},W9t:function(){return An},ylR:function(){return Fn},xsK:function(){return En},Lyo:function(){return qn},nde:function(){return Zn},XNp:function(){return Qn},fLe:function(){return Xn},wuF:function(){return Dn},qoF:function(){return Vn},arx:function(){return Jn},bvM:function(){return Ln},Emo:function(){return Rn},Pbw:function(){return Nn},Ybf:function(){return On},goy:function(){return pA},yj8:function(){return jn},Y5q:function(){return ti},ELf:function(){return Bn},$$P:function(){return Un},df6:function(){return Wn},HiF:function(){return Yn},fX9:function(){return Mn},CZl:function(){return xn},bf3:function(){return Cn},g_B:function(){return _n},is$:function(){return Pn},lxu:function(){return Hn},zyV:function(){return In},JIe:function(){return Kn},t7r:function(){return zn},C$l:function(){return Gn},XUn:function(){return c$},TnD:function(){return u$},gDO:function(){return s$},BCc:function(){return l$},th:function(){return N},Dl5:function(){return ly},LPQ:function(){return uy},$HI:function(){return Jw},lw5:function(){return Yw},VBI:function(){return Xw},gsz:function(){return Zw},eEN:function(){return Iy},hhW:function(){return _y},aW_:function(){return vy},pf:function(){return gy},gvI:function(){return Gw},v9K:function(){return my},H33:function(){return $y},i04:function(){return Qw},kmu:function(){return ey},I9d:function(){return My},_5B:function(){return wy},Yr5:function(){return py},rgO:function(){return fy},eDJ:function(){return dy},ceH:function(){return Fy},ywN:function(){return Gy},Kz0:function(){return oy},O0V:function(){return ry},wiN:function(){return hy},PwI:function(){return ny},T$L:function(){return Ky},pGg:function(){return ay},sBb:function(){return Jy},xDA:function(){return qw},mqQ:function(){return Ay},H1V:function(){return Sy},RzE:function(){return by},glL:function(){return zy},A9I:function(){return Ry},tpK:function(){return ty},hm9:function(){return sy},rN6:function(){return Oy},IWw:function(){return iy},ViJ:function(){return Py},Ii3:function(){return ky},A5g:function(){return cy},EsL:function(){return Ty},roO:function(){return Kw},Dzt:function(){return yy},QoC:function(){return Ey},PUT:function(){return xy},yFJ:function(){return Cy},Kzn:function(){return Vy},BZ4:function(){return qy},jjy:function(){return Qy},v2h:function(){return Xy},rQV:function(){return zt},w5f:function(){return Ht},fRR:function(){return LA},f_B:function(){return DA},TbJ:function(){return nI},moT:function(){return UA},h9Y:function(){return _A},ibh:function(){return qA},OMw:function(){return QA},qXV:function(){return WA},nNz:function(){return JA},phb:function(){return EA},aWB:function(){return FA},_Ef:function(){return MA},Whs:function(){return RA},_u2:function(){return jA},YWj:function(){return VA},P6v:function(){return YA},i7B:function(){return KA},wF4:function(){return XA},xsx:function(){return HA},pF6:function(){return NA},Oi4:function(){return zA},Txf:function(){return BA},YCW:function(){return OA},l_f:function(){return tI},Wb0:function(){return hA},uW4:function(){return xd},Zdq:function(){return xk},PHk:function(){return kI},v8C:function(){return Ei},SPB:function(){return J$},OEP:function(){return ui},xSo:function(){return ei},yJ4:function(){return Hi},hTi:function(){return G$},VAC:function(){return q$},rEw:function(){return Mi},yOM:function(){return si},vaV:function(){return ai},JVh:function(){return ni},KMm:function(){return ri},Mly:function(){return ii},$Dp:function(){return oi},ebQ:function(){return ci},xKy:function(){return Ui},P0B:function(){return Dr},Yp2:function(){return Ur},DWd:function(){return Or},rJ2:function(){return Nr},DhF:function(){return RT},CJ1:function(){return MT},n7c:function(){return _T},gEs:function(){return WS},bAs:function(){return xt},apB:function(){return Zr},Kuw:function(){return Jr},eE5:function(){return Kr},g52:function(){return Qr},gTq:function(){return Xr},Ub$:function(){return Yr},clq:function(){return eo},l0m:function(){return to},Qc1:function(){return Dy},k8J:function(){return Qf},T5b:function(){return Kf},pCD:function(){return Jf},B7i:function(){return eI},ydb:function(){return Uk},ldR:function(){return Nk},ejn:function(){return Ok},dYp:function(){return Fk},gY$:function(){return Dk},W4C:function(){return Lk},Vmu:function(){return Bk},GYz:function(){return Hh},uCS:function(){return w},u45:function(){return b},yWd:function(){return x},XFR:function(){return S},US9:function(){return k},n82:function(){return v},p3y:function(){return y},pIg:function(){return C},ovB:function(){return T},gX7:function(){return Nl},mjE:function(){return Ll},SyQ:function(){return Ol},Abn:function(){return Bl},qst:function(){return Ul},GQD:function(){return pt},bid:function(){return ht},oh8:function(){return mt},CTH:function(){return B},VHu:function(){return Dv},IU$:function(){return co},UUQ:function(){return Ck},NkG:function(){return Am},Tdk:function(){return mA},mFi:function(){return ki},bfJ:function(){return gn},T16:function(){return vn},A_P:function(){return wn},GH8:function(){return yn},EoU:function(){return dn},AKH:function(){return fn},TXH:function(){return hn},RwL:function(){return ln},lrn:function(){return bn},$2m:function(){return pn},eEO:function(){return mn},MA5:function(){return K},me0:function(){return th},MFQ:function(){return Xf},nS9:function(){return Zf},Fe_:function(){return eh},Aps:function(){return Yf},$9$:function(){return nh},Hif:function(){return ja},sEv:function(){return Ga},vAF:function(){return Va},vwD:function(){return qa},fDI:function(){return Yk},s3v:function(){return uT},rqp:function(){return eT},MTg:function(){return Zk},m_W:function(){return tT},ZCI:function(){return dT},D_G:function(){return hT},eqf:function(){return lT},iPB:function(){return fT},vg:function(){return iT},$Rz:function(){return oT},xQp:function(){return nT},Rv_:function(){return cT},zR4:function(){return sT},iWg:function(){return rT},Or:function(){return aT},m_P:function(){return pT},U_e:function(){return GA},H8e:function(){return Ue},Y9r:function(){return ab},iqH:function(){return Vk},fV1:function(){return Go},AUI:function(){return bs},EEV:function(){return ys},uJy:function(){return qo},$6g:function(){return Ts},fSo:function(){return Jo},AhU:function(){return ws},en9:function(){return As},X7f:function(){return Is},h35:function(){return Ps},ge1:function(){return kS},Bgd:function(){return TS},kaL:function(){return NS},_ni:function(){return Re},mQB:function(){return EC},cct:function(){return RC},_5e:function(){return fx},O0T:function(){return Ee},KWF:function(){return Qk},CTB:function(){return Xk},R6F:function(){return kp},ox:function(){return Tp},NM6:function(){return E$},EY8:function(){return F$},ikf:function(){return fv},jq8:function(){return hv},zeR:function(){return yx},CqX:function(){return bx},tkv:function(){return a$},dHA:function(){return xT},zxc:function(){return CT},WYS:function(){return ST},cg9:function(){return Kt},UHb:function(){return Gt},bwz:function(){return Vt},r_t:function(){return jt},A31:function(){return qt},lZX:function(){return Qt},q6p:function(){return Zt},gr5:function(){return Jt},QUT:function(){return Yt},Aeb:function(){return Xt},oPt:function(){return te},hSL:function(){return zw},FEj:function(){return jw},O1e:function(){return Ow},_5V:function(){return Dw},OFL:function(){return Nw},TqQ:function(){return Uw},P$t:function(){return Ww},pex:function(){return Bw},esH:function(){return Hw},jPm:function(){return Vw},ndL:function(){return mx},paG:function(){return qi},Yg3:function(){return Sd},bio:function(){return ZA},ItM:function(){return Op},eSW:function(){return Np},ViL:function(){return Dp},r8E:function(){return Up},_I9:function(){return Fp},ZAB:function(){return ra},C3T:function(){return oa},V2e:function(){return lo},qbM:function(){return na},O5q:function(){return ia},uZx:function(){return aa},fV6:function(){return sa},Yon:function(){return Rv},ZAq:function(){return Cd},ILq:function(){return kd},cRJ:function(){return on},V$n:function(){return rn},Qhc:function(){return nn},Z1l:function(){return Ze},oYr:function(){return tn},h$p:function(){return Ke},Jap:function(){return Qe},SX$:function(){return Xe},cS6:function(){return en},g2L:function(){return Ye},IgS:function(){return nC},_tv:function(){return De},SAl:function(){return D$},N4g:function(){return Pr},DnH:function(){return kr},Z1G:function(){return Tr},t5z:function(){return Ar},hbd:function(){return _r},hgm:function(){return Ir},Krs:function(){return $r},Y6E:function(){return $p},Q0t:function(){return Mp},dAd:function(){return Rp},RDJ:function(){return Ap},zo9:function(){return Ep},npe:function(){return _p},Vm4:function(){return Pp},Nyv:function(){return Ip},a6r:function(){return Kv},Fst:function(){return nw},sX$:function(){return Ct},G7x:function(){return ph},vp2:function(){return L},FtB:function(){return U},Hcr:function(){return Ng},xpu:function(){return rC},Z6W:function(){return cC},vn6:function(){return uC},uIr:function(){return sC},d7f:function(){return aC},LPj:function(){return oC},qAf:function(){return iC},Niu:function(){return dC},hEV:function(){return lC},LKs:function(){return fC},ozy:function(){return gv},hFn:function(){return pv},GJQ:function(){return mv},cJy:function(){return yr},Agr:function(){return wr},Oek:function(){return gT},AEH:function(){return mT},ufb:function(){return T$},wL1:function(){return Vr},WpB:function(){return mb},E51:function(){return WT},A$h:function(){return zT},_4s:function(){return HT},plI:function(){return mr},fwK:function(){return j$},MpL:function(){return dr},Ldg:function(){return lr},Nb$:function(){return hr},sd7:function(){return fr},bd4:function(){return pr},Zkl:function(){return V$},rY8:function(){return vr},Lvo:function(){return Mk},spi:function(){return zr},sDq:function(){return Rk},god:function(){return Fr},P2T:function(){return gb},mad:function(){return vb},C4I:function(){return hb},rVt:function(){return pb},BPe:function(){return fb},Sky:function(){return db},q_s:function(){return Ek},x_Y:function(){return X$},mvZ:function(){return K$},HRj:function(){return Q$},ZsX:function(){return Y$},QN2:function(){return Z$},E7H:function(){return il},ToT:function(){return vl},Pdg:function(){return Cl},n$r:function(){return kl},ic4:function(){return nl},yRc:function(){return Sl},vHv:function(){return xl},xdR:function(){return yl},tLx:function(){return pl},sWY:function(){return Al},Fyn:function(){return ml},tN1:function(){return al},aHf:function(){return wl},daM:function(){return ol},F7i:function(){return gl},HPv:function(){return fl},Ead:function(){return ul},Ely:function(){return cl},jyo:function(){return bl},pjz:function(){return sl},XDS:function(){return dl},rVI:function(){return hl},nvG:function(){return ll},Gnh:function(){return $l},j3Z:function(){return Tl},See:function(){return Pl},QsR:function(){return Il},xQV:function(){return el},VWS:function(){return rl},KyA:function(){return dw},_yq:function(){return uw},lnl:function(){return lw},Wlm:function(){return fw},$rl:function(){return y$},vHQ:function(){return v$},_dh:function(){return w$},sVY:function(){return b$},xYK:function(){return O},L9E:function(){return uf},Ms:function(){return If},_vs:function(){return $f},JaT:function(){return Tf},Qc7:function(){return Pf},t0C:function(){return Rf},EWv:function(){return _f},WN0:function(){return GC},atB:function(){return sk},NvH:function(){return vf},hnd:function(){return gf},oYh:function(){return kf},HkJ:function(){return yf},l$l:function(){return Cf},eBj:function(){return xf},bfG:function(){return bf},U4S:function(){return Mf},$mw:function(){return Af},PTG:function(){return wf},uSd:function(){return Sf},wAt:function(){return mf},yOL:function(){return lf},tFh:function(){return df},zl4:function(){return af},v3e:function(){return sf},QXe:function(){return ff},TmC:function(){return cf},w9g:function(){return hf},RTd:function(){return pf},Ryx:function(){return jy},Chd:function(){return uk},Ekq:function(){return lk},KnF:function(){return L$},oiw:function(){return Lf},roT:function(){return Vf},eE:function(){return Gf},HN$:function(){return Ef},mkE:function(){return Ff},nIM:function(){return Nf},RD:function(){return Of},DWC:function(){return Uf},zDb:function(){return jf},iNb:function(){return Df},fQA:function(){return Wf},beE:function(){return zf},HgX:function(){return Bf},Huj:function(){return WC},dhI:function(){return nk},$eE:function(){return ik},W56:function(){return rk},HKi:function(){return JC},Nh3:function(){return KC},bV8:function(){return QC},hig:function(){return YC},bIr:function(){return XC},QQY:function(){return ZC},OwG:function(){return ok},rfm:function(){return ek},S8$:function(){return tk},_X1:function(){return qC},I4h:function(){return VC},jhV:function(){return jC},KWu:function(){return zC},Cm8:function(){return HC},xCC:function(){return ak},wBM:function(){return ck},pLA:function(){return Hf},nlN:function(){return GT},JqC:function(){return gI},FwZ:function(){return qf},p0I:function(){return BS},ePq:function(){return Hy},_yr:function(){return vA},voh:function(){return Iv},zfw:function(){return Av},vM:function(){return Pv},Muh:function(){return _v},rNW:function(){return xv},gAV:function(){return Cv},kHA:function(){return $v},j0S:function(){return Sv},MNW:function(){return Tv},e9I:function(){return yv},owD:function(){return kv},Jgi:function(){return bv},pxV:function(){return Mv},i29:function(){return Ia},LRf:function(){return Ra},fG_:function(){return ww},XI8:function(){return bo},Q8W:function(){return ae},EDN:function(){return wT},xK1:function(){return wv},sJW:function(){return DS},Uw1:function(){return Bb},f2c:function(){return zb},dp6:function(){return FS},NF_:function(){return wb},uW3:function(){return Ab},U1E:function(){return SS},Dt$:function(){return _b},np9:function(){return Zb},M6G:function(){return nS},RaX:function(){return Eb},MWw:function(){return tS},ws9:function(){return yS},XbP:function(){return Wb},erD:function(){return hx},hOL:function(){return pS},rYN:function(){return vS},Akl:function(){return gS},R5h:function(){return iS},EkS:function(){return rS},zVA:function(){return mS},FDi:function(){return oS},Jmv:function(){return Gb},KJ$:function(){return dS},md3:function(){return lS},lCX:function(){return jb},_yJ:function(){return aS},w0e:function(){return sS},Kzw:function(){return qb},tYD:function(){return IS},zYr:function(){return uS},Ps3:function(){return cS},N1:function(){return fS},uI4:function(){return hS},z5u:function(){return AS},c2h:function(){return Vb},sDN:function(){return Ib},K0D:function(){return Cb},AeD:function(){return xb},RGj:function(){return kb},jkn:function(){return Tb},hQ9:function(){return CS},vpZ:function(){return Fb},CH5:function(){return Hb},vPg:function(){return Kb},G78:function(){return Qb},xPu:function(){return Xb},R0M:function(){return yb},NtM:function(){return px},WM8:function(){return xS},Fid:function(){return PS},O6X:function(){return Mb},Ipv:function(){return Lb},F4k:function(){return bS},gu7:function(){return Jb},AP6:function(){return Db},RHM:function(){return US},Mcu:function(){return eS},R20:function(){return YS},K4A:function(){return Nb},K$q:function(){return wS},XCT:function(){return Ob},uJS:function(){return Ub},IHr:function(){return _S},lsA:function(){return MS},UNp:function(){return bb},kyM:function(){return Sb},A4x:function(){return $S},iLP:function(){return Rb},Z49:function(){return ES},x4E:function(){return XS},WNm:function(){return Pb},RtG:function(){return Yb},ddY:function(){return GS},Uq0:function(){return RS},ds2:function(){return $b},Vdp:function(){return rb},kzg:function(){return Sx},cZM:function(){return Ua},$Ej:function(){return mc},a3w:function(){return gc},uIV:function(){return uI},DCq:function(){return aI},ior:function(){return cI},eYv:function(){return lI},GeD:function(){return sI},rdv:function(){return oI},OF8:function(){return p},xKE:function(){return h},A$C:function(){return g},VKG:function(){return m},vlt:function(){return Mr},pL3:function(){return Rr},pHN:function(){return Er},fDR:function(){return dx},A9S:function(){return je},Php:function(){return _e},c7c:function(){return id},S5R:function(){return sd},ujK:function(){return vd},m_L:function(){return ad},Y2u:function(){return cd},chk:function(){return ld},J5c:function(){return td},q$m:function(){return ed},jzT:function(){return bd},q4q:function(){return od},PFH:function(){return md},H79:function(){return wd},lou:function(){return yd},Nol:function(){return ud},IE6:function(){return gd},MBw:function(){return tA},Wvf:function(){return iA},_HO:function(){return nA},gRR:function(){return eA},yRT:function(){return U$},KzX:function(){return nd},$AQ:function(){return Zl},bdf:function(){return rd},DWl:function(){return kk},om$:function(){return hd},GKo:function(){return fd},wke:function(){return dd},vYO:function(){return Pw},cXq:function(){return Dx},c$4:function(){return Xx},QYr:function(){return Qx},wop:function(){return Yx},Kdh:function(){return Hx},Pc$:function(){return Wx},xPl:function(){return Nx},LCb:function(){return qx},R9m:function(){return Ox},v2K:function(){return Vx},EuH:function(){return Gx},sTM:function(){return eC},oy8:function(){return Bx},Wtq:function(){return Ux},rHl:function(){return Zx},cNQ:function(){return jx},R4R:function(){return zx},UKl:function(){return tC},k6j:function(){return Jx},M4n:function(){return Lx},EIL:function(){return Kx},COO:function(){return _w},C7r:function(){return xI},R7X:function(){return sn},p_L:function(){return Jk},eUy:function(){return Kk},m8X:function(){return Gk},wMp:function(){return un},QWk:function(){return an},yHB:function(){return cn},Bis:function(){return g$},yJi:function(){return m$},$oH:function(){return p$},qS2:function(){return d$},Ay$:function(){return Th},OC2:function(){return h$},w5E:function(){return f$},THd:function(){return hc},hxo:function(){return Zy},PMq:function(){return Yy},oJ2:function(){return yI},v2g:function(){return SI},srQ:function(){return _l},P$J:function(){return Vd},dw4:function(){return qk},WiH:function(){return tb},Hx8:function(){return ib},lYA:function(){return pi},ybt:function(){return yw},kcp:function(){return Rd},bbx:function(){return Md},NWA:function(){return Ed},h1Z:function(){return bT},jdc:function(){return Td},aQ8:function(){return Yd},sJk:function(){return ce},ohT:function(){return ue},Qfw:function(){return Fd},CCx:function(){return Jd},qIx:function(){return Zd},KX1:function(){return Ld},h58:function(){return Qd},qh1:function(){return Nd},XDD:function(){return _d},NFA:function(){return Ud},IVj:function(){return Od},lyH:function(){return Pd},BNX:function(){return Id},stP:function(){return Wd},ZLh:function(){return Dd},u3:function(){return nf},C9H:function(){return tf},f5c:function(){return rf},lNc:function(){return ef},YYA:function(){return Bd},n_f:function(){return zd},jWK:function(){return Kd},mIN:function(){return Ad},xTX:function(){return $d},DJq:function(){return Xd},nKE:function(){return jd},UWM:function(){return Hd},PYK:function(){return of},SCD:function(){return qd},ox2:function(){return Gd},Ku_:function(){return _t},UT4:function(){return Mt},X1o:function(){return Dt},fHN:function(){return Pt},UaD:function(){return kt},UaQ:function(){return It},mcw:function(){return $t},UH6:function(){return Ft},X9d:function(){return At},JIv:function(){return Wt},CLX:function(){return Lt},$EH:function(){return Bt},gtf:function(){return Ot},NeA:function(){return Ut},Bdo:function(){return Nt},giF:function(){return Rt},oPm:function(){return Et},Ozl:function(){return Tt},FsZ:function(){return Wl},LwW:function(){return so},Nxj:function(){return ao},PL4:function(){return iw},x10:function(){return jS},Aw9:function(){return HS},lxm:function(){return LS},wtK:function(){return VS},kCY:function(){return zS},My6:function(){return OS},xx:function(){return qS},beP:function(){return QS},xuo:function(){return vw},H4x:function(){return D},hT$:function(){return To},pj$:function(){return _o},X4U:function(){return M$},RPe:function(){return Lo},WCL:function(){return Po},b1D:function(){return wo},D6z:function(){return _$},pwT:function(){return Mo},ruE:function(){return Oo},f7t:function(){return No},sq0:function(){return Fv},x8M:function(){return Eo},gJK:function(){return Ho},Xb$:function(){return yo},JIJ:function(){return go},ZX_:function(){return I$},syw:function(){return P$},HEk:function(){return N$},BG4:function(){return VT},jNx:function(){return jT},_Y2:function(){return R},OPi:function(){return I},s$v:function(){return Io},A0i:function(){return Co},qrV:function(){return mo},_h2:function(){return po},nw7:function(){return $o},kgv:function(){return Bo},sCZ:function(){return Wo},TyD:function(){return Uo},mao:function(){return Nv},F$Y:function(){return qT},_Rg:function(){return Ao},nTL:function(){return M},G1Z:function(){return _},_lB:function(){return P},AYT:function(){return E},DyR:function(){return vo},ib1:function(){return Ov},z$F:function(){return A},pBE:function(){return zo},zEz:function(){return xo},kKw:function(){return So},Yis:function(){return F},jUm:function(){return Do},NA9:function(){return ho},zpf:function(){return ko},VW_:function(){return R$},qq_:function(){return Fo},OLe:function(){return Ro},wCt:function(){return jo},mXy:function(){return Vo},fpE:function(){return Uv},ZI3:function(){return no},ckW:function(){return oo},s7S:function(){return ro},Z3R:function(){return io},FLG:function(){return Ev},F$$:function(){return Rw},dVt:function(){return hh},K7e:function(){return ps},sZS:function(){return gx},oo_:function(){return zk},U7j:function(){return El},IVG:function(){return Rl},cM_:function(){return Dl},mfB:function(){return Ml},kiM:function(){return Fl},Q3R:function(){return cs},j0J:function(){return ns},Kdk:function(){return Xo},uBh:function(){return as},m3w:function(){return os},sg4:function(){return ts},B0A:function(){return ss},AWl:function(){return Lw},I9w:function(){return xs},nDr:function(){return Zo},Uqx:function(){return rs},Ijl:function(){return is},Vl:function(){return es},e8l:function(){return Yo},nFE:function(){return us},nnD:function(){return Qo},IX6:function(){return xr},FRB:function(){return Cr},Zsh:function(){return Sr},$Yi:function(){return dk},YhM:function(){return Ko},kwG:function(){return rr},pgW:function(){return vs},tQ2:function(){return ks},Rgo:function(){return gp},Smg:function(){return mp},gqz:function(){return Cp},NZ5:function(){return xp},W1B:function(){return wp},jQb:function(){return pp},QJe:function(){return up},CDI:function(){return ap},eD0:function(){return Vh},y6M:function(){return vp},KEP:function(){return zh},YLV:function(){return fp},VPR:function(){return tp},LLm:function(){return ep},vCG:function(){return qh},V_e:function(){return np},NW0:function(){return Gh},ck_:function(){return cp},iB1:function(){return sp},vxy:function(){return ip},YVN:function(){return yp},jAy:function(){return jh},vif:function(){return bp},a$Z:function(){return hp},v5s:function(){return Sp},RSD:function(){return Jh},bri:function(){return Xh},e88:function(){return Zh},TRT:function(){return lp},TzH:function(){return dp},Fh_:function(){return rp},hqX:function(){return op},vas:function(){return Qh},azB:function(){return Yh},MUC:function(){return Kh},$HJ:function(){return oc},Od5:function(){return Ka},lG7:function(){return cc},yPw:function(){return ac},pOl:function(){return Qa},lGs:function(){return rc},OnJ:function(){return nc},X1V:function(){return Za},rUV:function(){return ic},k28:function(){return sc},_wC:function(){return ec},OE6:function(){return tc},nsS:function(){return Xa},uSS:function(){return Ya},t$S:function(){return lA},BD8:function(){return uA},oq6:function(){return Gr},dy3:function(){return Pk},mnt:function(){return l},NM:function(){return oe},hRf:function(){return re},SNW:function(){return se},EYX:function(){return wk},huY:function(){return hk},hy5:function(){return fk},_l8:function(){return bk},VEM:function(){return yk},NNy:function(){return gk},rey:function(){return vk},czH:function(){return pk},uzv:function(){return mk},M84:function(){return Xi},IUw:function(){return Yi},GQ:function(){return u}});var i=n(24358);const r=i.z.Alert,o=i.z.Deprecated,s=i.z.HighImpact,a=i.z.Critical,c=(i.C.Fallback,i.C.Exceptional,{build:""});function u(t){Object.assign(c,t)}function l(){return c}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.z.Alert,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const s={id:t,severity:e,pb:void 0===n?c:n};return void 0!==r&&(s.message=r),void 0!==o&&(s.source=o),s}function f(t,e){return{build:"",userImpacting:t,errorBehavior:e}}const h=d(8021),p=d(8022),m=d(8027),g=d(8028),v=d(8029),w=d(8030),y=d(8031,s),b=d(8032,s),S=d(8033,s),x=d(8034),C=d(8035),k=d(8036),T=d(8037),$=d(8047),A=d(8100,s,f(!0)),I=d(8101,o),P=d(8102,o),_=d(8103,r,f(!0)),M=d(8104,r,f(!0)),R=d(8105,o),E=d(8107,o),F=d(8108,r,f(!0)),D=d(8109,o),O=d(8126),N=d(8137),U=d(8191),L=d(8192),B=d(8203),W=d(8204),H=d(8214),z=d(8215),V=d(8219),j=d(8222),q=d(8223),G=d(8224),J=d(8225),K=d(8230),Q=d(8260,o),X=d(8261,s),Y=d(8350),Z=d(8363),tt=d(8364),et=d(8366),nt=d(8380),it=d(8381),rt=d(8601),ot=d(8602),st=d(8603),at=d(8604),ct=d(8605),ut=d(8606),lt=d(8607),dt=d(8608,o),ft=d(8611),ht=d(8815,a,c,"Cookie Banner Element is missing"),pt=d(8816,o,c,"Cookie Banner data-client-settings is invalid"),mt=d(8817,o,c,"Fixed TCF string in US locale failed"),gt=d(8841,s),vt=d(8842,a),wt=d(8843),yt=d(8844),bt=d(8845,a),St=d(8846,a),xt=d(8847),Ct=d(8848,s),kt=d(9002),Tt=d(9014),$t=d(9016),At=d(9017),It=d(9026,o),Pt=d(9027),_t=d(9031),Mt=d(9032),Rt=d(9033),Et=d(9034),Ft=d(9055),Dt=d(9057,o),Ot=d(9060),Nt=d(9061),Ut=d(9062),Lt=d(9063),Bt=d(9064),Wt=d(9065),Ht=d(9408),zt=d(9409),Vt=d(9425),jt=d(9426),qt=d(9427),Gt=d(9428),Jt=d(9429),Kt=d(9430),Qt=d(9431),Xt=d(9432),Yt=d(9433),Zt=d(9434),te=d(9437),ee=d(9734),ne=d(9735),ie=d(9781),re=d(9787,o),oe=d(9789,o),se=d(9790,o),ae=d(9798),ce=d(9904),ue=d(9906),le=d(11103),de=d(13e3),fe=d(13001),he=d(13100),pe=d(13101),me=d(13102),ge=d(13103),ve=d(13104),we=d(13105),ye=d(13109),be=d(13110),Se=d(13114),xe=d(13115),Ce=d(13116),ke=d(13117),Te=d(13119),$e=d(13120),Ae=d(13121),Ie=d(13122,s),Pe=d(13125),_e=d(13126),Me=d(13127),Re=d(13128),Ee=d(13129),Fe=d(13131),De=d(13132),Oe=d(13133),Ne=d(13134),Ue=d(13135),Le=d(13136),Be=d(13137),We=d(13138),He=d(13140),ze=d(13141),Ve=d(13142),je=d(13143,o),qe=d(13144),Ge=d(14007),Je=d(14102),Ke=d(15020),Qe=d(15021),Xe=d(15023),Ye=d(15024),Ze=d(15025),tn=d(15026),en=d(15027),nn=d(15029,o),rn=d(15030,o),on=d(15031,o),sn=d(15252),an=d(15410),cn=d(15411),un=d(15412,o),ln=d(18100),dn=d(18103),fn=d(18104),hn=d(18105),pn=d(18106),mn=d(18107),gn=d(18108),vn=d(18109),wn=d(18110),yn=d(18111),bn=d(18113),Sn=d(19023),xn=d(20002),Cn=d(20003),kn=d(20007,o),Tn=d(20008),$n=d(20009),An=d(20011,o),In=d(20014),Pn=d(20018),_n=d(20022),Mn=d(20023),Rn=d(20024),En=d(20051),Fn=d(20053),Dn=d(20054),On=d(20056),Nn=d(20060),Un=d(20061),Ln=d(20062),Bn=d(20063),Wn=d(20064,o),Hn=d(20066),zn=d(20068),Vn=d(20069,i.z.Deprecated),jn=d(20071,o),qn=d(20072,o),Gn=d(20082,o),Jn=d(20087,o),Kn=d(20088),Qn=d(20090,o),Xn=d(20092,o),Yn=d(20089),Zn=d(20091),ti=d(20094,o),ei=d(20139),ni=d(20140),ii=d(20141),ri=d(20142),oi=d(20143),si=d(20144),ai=d(20220),ci=d(21100),ui=d(20138),li=d(20150),di=d(20151),fi=d(20152),hi=d(20153),pi=d(20168),mi=d(20169),gi=d(20165),vi=d(20166),wi=d(20167),yi=d(20154),bi=d(20155),Si=d(20156),xi=d(20157),Ci=d(20158),ki=d(20159),Ti=d(20162,s),$i=d(20164),Ai=d(20137),Ii=d(20171),Pi=d(20172),_i=d(20173),Mi=d(20174),Ri=d(20175),Ei=d(20176),Fi=d(20177),Di=d(20178),Oi=d(20179),Ni=d(20180),Ui=d(20224),Li=d(20181),Bi=d(20182),Wi=d(20184),Hi=d(20186),zi=d(20188),Vi=d(20189),ji=d(20190,o),qi=d(20191,o),Gi=d(20194,s),Ji=d(20195,s),Ki=d(20196),Qi=d(20197),Xi=d(20198),Yi=d(20199),Zi=d(20203),tr=d(20204,o),er=d(20205,o),nr=d(20209,o,c,"Service request failed all retries"),ir=d(20210,o,c,"1S request (assets.msn.*) failed. Retrying using backup domain (assets2.msn.*)"),rr=d(20222),or=d(20302),sr=d(20303),ar=d(20304),cr=d(22029,a),ur=d(22030,a),lr=(i.z.Deprecated,d(24520)),dr=d(24521),fr=d(24522),hr=d(24523),pr=d(24524),mr=d(24526),gr="shopping-card/src/shopping-card.ts",vr=d(24565,r,c,void 0,gr),wr=d(24573),yr=d(24574),br="WindowsShellAccountManager.connector.ts",Sr=d(24580,o,c,void 0,br),xr=d(24583,r,c,void 0,br),Cr=d(24584),kr=d(24601),Tr=d(24602),$r=d(24603),Ar=d(24606),Ir=d(24607),Pr=d(24608),_r=d(24609),Mr=d(24611),Rr=d(24612),Er=d(24613),Fr=d(24904),Dr=d(28e3),Or=d(28001),Nr=d(28002),Ur=d(28003),Lr=d(28100,o),Br=d(28101),Wr=d(28102),Hr=d(28103),zr=d(28110),Vr=d(28111),jr=d(28213,o),qr=d(28216),Gr=d(28217),Jr=d(28401,o),Kr=d(28410),Qr=d(28411,o),Xr=d(28414),Yr=d(28415),Zr=d(28416),to=d(28420),eo=d(28421),no=d(29e3),io=d(29001),ro=d(29002,o),oo=d(29003),so=d(29100,s),ao=d(29101),co=d(29102),uo=d(29103),lo=d(29105,o),fo=d(29300),ho=d(29499,a,f(!0)),po=d(29501,r,f(!0)),mo=d(29502,r,f(!0)),go=d(29503,o),vo=d(29507,r,f(!0)),wo=d(29508,r,f(!0)),yo=d(29522,r,f(!0)),bo=d(29526,r,f(!0)),So=d(29530,o),xo=d(29532,o,f(!1)),Co=d(29533,r,f(!0)),ko=d(29535,s,f(!0)),To=d(29541,o,f(!1)),$o=d(29543,r,f(!0)),Ao=d(29544,o,f(!0)),Io=d(29545,s,f(!0)),Po=d(29547,r,f(!0)),_o=d(29548,s,f(!0)),Mo=d(29549,r,f(!0)),Ro=d(29557,r,f(!0)),Eo=d(29565,r,f(!0)),Fo=d(29566,o,f(!1)),Do=d(29569,r,f(!0)),Oo=d(29580,s,f(!0)),No=d(29582,r,f(!0)),Uo=d(29585,o,f(!1)),Lo=d(29586,r,f(!0)),Bo=d(29590,r,f(!0)),Wo=d(29591,o,f(!0)),Ho=d(29593,o,f(!1)),zo=d(29599,o,f(!0)),Vo=d(295005,o,f(!0)),jo=d(295006,o,f(!0)),qo=d(29610,o),Go=d(29625,o),Jo=d(29635),Ko=d(29729,o),Qo=d(29756,o),Xo=d(29854),Yo=d(29855),Zo=d(29856),ts=d(29857),es=d(29858),ns=d(29860),is=d(29861),rs=d(29862),os=d(29863),ss=d(29864),as=d(29865),cs=d(29866),us=d(29867),ls=d(29901),ds=d(29903),fs=d(29904),hs=d(29905),ps=d(29910),ms=d(29923),gs=d(29924),vs=d(29952),ws=d(29959),ys=d(29960),bs=d(29961),Ss=d(29971),xs=d(29972),Cs=d(29977),ks=d(29980),Ts=d(29992),$s=d(29993),As=d(31100),Is=d(31102),Ps=d(31104),_s=d(33e3,o),Ms=d(33012),Rs=d(33014),Es=d(33015,o),Fs=d(33018,o),Ds=d(33016,o),Os=d(33020),Ns=d(33100),Us=d(33102),Ls=d(33103),Bs=d(33105),Ws=d(33110),Hs=d(33112),zs=d(33113,o),Vs=d(33114),js=d(33130,a,f(!0)),qs=d(33140),Gs=d(33150),Js=d(33151),Ks=d(33152),Qs=d(33160,a,f(!0)),Xs=d(33161,a,f(!0)),Ys=d(33170,a,f(!0)),Zs=d(33171,a,f(!0)),ta=d(33175,a,f(!0)),ea=d(33176,a,f(!0)),na=d(34014,s),ia=d(34015,s),ra=d(34024),oa=d(34027),sa=d(34032),aa=d(34034),ca=d(35001),ua=d(35003,o),la=d(35004),da=d(35006),fa=d(35007),ha=d(35008),pa=d(35009),ma=d(35010),ga=d(35013,o),va=d(35014),wa=d(35015),ya=d(35016),ba=d(35018),Sa=d(35019),xa=d(35020),Ca=d(35022,o),ka=d(35023),Ta=d(35024,o),$a=d(35025,o),Aa=d(35026),Ia=d(35117),Pa=d(35118),_a=d(35119,o),Ma=d(35120),Ra=d(35121),Ea=d(35122),Fa=d(35123),Da=d(35124),Oa=d(35128),Na=d(35129,o),Ua=d(35130),La=d(35131),Ba=d(35132),Wa=d(35133),Ha=d(35403,o),za=d(35404,o),Va=d(35600,o),ja=d(35601,o),qa=d(35602,o),Ga=d(35603,o),Ja=d(36107),Ka=d(36300),Qa=d(36302),Xa=d(36309),Ya=d(36311),Za=d(36313),tc=d(36314,o),ec=d(36315),nc=d(36317,o),ic=d(36319,o),rc=d(36320,o),oc=d(36321),sc=d(36322),ac=d(36323,o),cc=d(36324,o),uc=d(36600),lc=d(36601),dc=d(36602),fc=d(36603),hc=d(36604),pc=d(36605),mc=d(36606),gc=d(36607),vc=d(36904),wc=d(36905),yc=d(36906),bc=d(36907),Sc=d(36908),xc=d(36909),Cc=d(36910),kc=d(36911),Tc=d(36912),$c=d(36913),Ac=d(36914),Ic=d(36915),Pc=d(36916),_c=d(36917),Mc=d(36918),Rc=d(36919),Ec=d(36920),Fc=d(36921),Dc=d(36922),Oc=d(36923),Nc=d(36924),Uc=d(36925),Lc=d(36927),Bc=d(36928),Wc=d(36929),Hc=d(36930),zc=d(36931),Vc=d(36932),jc=d(36933),qc=d(36934),Gc=d(36935),Jc=d(36936),Kc=d(36937),Qc=d(36938),Xc=d(36939),Yc=d(36940,a,f(!0)),Zc=d(36941,a,f(!0)),tu=d(36942,a,f(!0)),eu=d(36943,a,f(!0)),nu=d(36944,a,f(!0)),iu=d(36945,a,f(!0)),ru=d(36946,a,f(!0)),ou=d(36947,a,f(!0)),su=d(36948,a,f(!0)),au=d(36949,a,f(!0)),cu=d(36950,a,f(!0)),uu=d(36951,a,f(!0)),lu=d(36953,a,f(!0)),du=d(36954,a,f(!0)),fu=d(36956,a,f(!0)),hu=d(36957,a,f(!0)),pu=d(36958,a,f(!0)),mu=d(36959,a,f(!0)),gu=d(36960,a,f(!0)),vu=d(36961,a,f(!0)),wu=d(36962,a,f(!0)),yu=d(36963,a,f(!0)),bu=d(36964,a,f(!0)),Su=d(36965,a,f(!0)),xu=d(36966,a,f(!0)),Cu=d(36967,a,f(!0)),ku=d(36968,a,f(!0)),Tu=d(36899,a,f(!0)),$u=d(36898,a,f(!0)),Au=d(36969,a,f(!0)),Iu=d(36970,a,f(!0)),Pu=d(36971,a,f(!0)),_u=d(36972,a,f(!0)),Mu=d(36973,a,f(!0)),Ru=d(36974),Eu=d(36975),Fu=d(36976),Du=d(36977),Ou=d(36978),Nu=d(36979),Uu=d(36980),Lu=d(36981),Bu=d(36982),Wu=d(36983,a,f(!0)),Hu=d(36984,a,f(!0)),zu=d(36985,a,f(!0)),Vu=d(36986,a,f(!0)),ju=d(36987,a,f(!0)),qu=d(36988,a,f(!0)),Gu=d(36990,r,f(!1)),Ju=d(36991,r,f(!1)),Ku=d(36992,a,f(!0)),Qu=d(36993,a,f(!0)),Xu=d(36994,a,f(!0)),Yu=d(36995,a,f(!0)),Zu=d(36996,a,f(!0)),tl=d(36997,r,f(!0)),el=d(37020),nl=d(37021),il=d(37022),rl=d(37023),ol=d(37024),sl=d(37025),al=d(37026),cl=d(37028),ul=d(37029),ll=d(37030),dl=d(37031),fl=d(37032),hl=d(37033),pl=d(37035),ml=d(37036),gl=d(37037),vl=d(37038),wl=d(37039),yl=d(37040),bl=d(37041),Sl=d(37042),xl=d(37043),Cl=d(37044),kl=d(37045),Tl=d(37046),$l=d(37047),Al=d(37048),Il=d(37049),Pl=d(37050),_l=d(37300,o),Ml=(i.z.Deprecated,d(37550)),Rl=d(37551),El=d(37552),Fl=d(37553),Dl=d(37554,o),Ol=d(37560),Nl=d(37561),Ul=d(37562,a),Ll=d(37563),Bl=d(37566),Wl=d(37568),Hl=d(37571,r,f(!0)),zl=d(37573,r),Vl=d(37576),jl=d(37577,r,f(!0)),ql=d(37578,o),Gl=d(37579),Jl=d(37580),Kl=d(37581),Ql=d(37582),Xl=d(37583,o),Yl=d(37584),Zl=d(37601),td=d(37604),ed=d(37605),nd=d(37609),id=d(37610),rd=d(37611),od=d(37612,r,f(!0)),sd=d(37613),ad=d(37614),cd=d(37629),ud=d(37631),ld=d(37632),dd=d(37634,o),fd=d(37635,o),hd=d(37636,o),pd=d(37637),md=d(37638),gd=d(37639),vd=d(37640),wd=d(37641),yd=d(37642),bd=d(37644),Sd=d(38046,a),xd=d(38047),Cd=d(38050),kd=d(38055),Td=d(38100),$d=d(38101),Ad=d(38102),Id=d(38104),Pd=d(38105),_d=d(38106),Md=d(38108),Rd=d(38109),Ed=d(38110),Fd=d(38111),Dd=d(38112),Od=d(38113),Nd=d(38114),Ud=d(38115),Ld=d(38116),Bd=d(38117),Wd=d(38118),Hd=d(38119,o),zd=d(38120),Vd=d(38121),jd=d(38122),qd=d(38124,o),Gd=d(38125),Jd=d(38127),Kd=d(38128,o),Qd=d(38129),Xd=d(38130,o),Yd=d(38131),Zd=d(38132,o),tf=d(38133),ef=d(38134),nf=d(38135),rf=d(38138),of=d(38139,o),sf=d(38300,s,f(!0)),af=d(38301,s,f(!0)),cf=d(38302),uf=d(38303),lf=d(38304),df=d(38305),ff=d(38306),hf=d(38307),pf=d(38318),mf=d(38319,s,f(!0)),gf=d(38320),vf=d(38321,s,f(!0)),wf=d(38322,s,f(!0)),yf=d(38323),bf=d(38324),Sf=d(38325),xf=d(38327,s),Cf=d(38328),kf=d(38329),Tf=d(38331,s,f(!0)),$f=d(38334,r,f(!0)),Af=d(38342),If=d(38344),Pf=d(38345),_f=d(38346),Mf=d(38347),Rf=d(38348),Ef=d(38360),Ff=d(38362),Df=d(38363),Of=d(38364),Nf=d(38365,a),Uf=d(38366),Lf=d(38367),Bf=d(38369),Wf=d(38370),Hf=d(38373),zf=d(38375),Vf=d(38377),jf=d(38378),qf=d(38380),Gf=d(38381),Jf=(i.z.Deprecated,d(38600)),Kf=d(38601),Qf=d(38602),Xf=d(38603),Yf=d(38604),Zf=d(38605),th=d(38606),eh=d(38607),nh=d(38608,o),ih=d(39230),rh=d(39231),oh=d(39232),sh=d(39233),ah=d(39234,o),ch=d(39235,o),uh=d(39236),lh=d(39237,o),dh=d(39238,o),fh=d(39362,o),hh=d(39400),ph=d(39500),mh=d(39501),gh=d(39502),vh=d(39508),wh=d(39509),yh=d(39510),bh=d(39511),Sh=d(39512),xh=d(39513),Ch=d(39514),kh=d(39515),Th=d(39517),$h=d(39518),Ah=d(39519),Ih=d(39600),Ph=d(39601),_h=d(39602),Mh=d(39603),Rh=d(39712),Eh=d(39713,o),Fh=d(39714),Dh=d(39715),Oh=d(39716,o),Nh=d(39717),Uh=d(39718),Lh=d(39719),Bh=d(39720),Wh=d(39722),Hh=d(39901),zh=d(40301,s),Vh=d(40302,s),jh=d(40303,o),qh=d(40304,s),Gh=d(40305,s),Jh=d(40308),Kh=d(40310,o),Qh=d(40312,s),Xh=d(40313,s),Yh=d(40314),Zh=d(40315),tp=d(40318),ep=d(40319),np=d(40320),ip=d(40321,o),rp=d(40322,s),op=d(40323,s),sp=d(40324,o),ap=d(40325,o),cp=d(40326,s),up=d(40327,s),lp=d(40328,o),dp=d(40329,o),fp=d(40331),hp=d(40332),pp=d(40333,o),mp=d(40334,o),gp=d(40335,o),vp=d(40336,s),wp=d(40337,s),yp=d(40338,o),bp=d(40339,o),Sp=d(40340,o),xp=d(40341,o),Cp=d(40342),kp=d(40500),Tp=d(40520,o),$p=d(40600,o),Ap=d(40601),Ip=d(40604),Pp=d(40605),_p=d(40606),Mp=d(40607),Rp=d(40608),Ep=d(40609),Fp=d(40700),Dp=d(40701),Op=d(40702),Np=d(40703),Up=d(40704),Lp=d(41109,a,f(!0)),Bp=d(41110,a,f(!0)),Wp=d(41111,a,f(!0)),Hp=d(41112,a,f(!0)),zp=d(41113,a,f(!0)),Vp=d(41114,a,f(!0)),jp=d(41115,a,f(!0)),qp=d(41140,a,f(!0)),Gp=d(41141,a,f(!0)),Jp=d(41142,a,f(!0)),Kp=d(41143,a,f(!0)),Qp=d(41144,a,f(!0)),Xp=d(41145,a,f(!0)),Yp=d(41147,a,f(!0)),Zp=d(41148,a,f(!0)),tm=d(41149),em=d(41150),nm=d(41151),im=d(41152,a,f(!0)),rm=d(41153),om=d(41154),sm=d(41155),am=d(41156),cm=d(41157),um=d(41158),lm=d(41159,a,f(!0)),dm=d(41160,a),fm=d(41161,a),hm=d(41162,a),pm=d(41163,a),mm=d(41164,a),gm=d(41165,a),vm=d(41166,a),wm=d(41167,a),ym=d(41168,a),bm=d(41169,a),Sm=d(41170,a),xm=d(41172,a),Cm=d(41174,a),km=d(41175,a),Tm=d(41176,a),$m=d(41177,a),Am=d(41184,a),Im=d(41185,a),Pm=d(41186),_m=d(41187),Mm=d(41188),Rm=d(41190,a),Em=d(41191),Fm=d(41192),Dm=d(41193),Om=d(41195,a),Nm=d(41196,a),Um=d(41197,a),Lm=d(41198,a),Bm=d(41208),Wm=d(41209),Hm=d(41210),zm=d(41211,a,f(!0)),Vm=d(41212),jm=d(41213),qm=d(41214),Gm=d(41215,a,f(!0)),Jm=d(41216),Km=d(41217),Qm=d(41218),Xm=d(41220),Ym=d(41221),Zm=d(41222),tg=d(41223,a,f(!0)),eg=d(41224),ng=d(41225),ig=d(41226),rg=d(41227,a,f(!0)),og=d(41228),sg=d(41229),ag=d(41230),cg=d(41231,a,f(!0)),ug=d(41232,a),lg=d(41233,a),dg=d(41234,a),fg=d(41235,a),hg=d(41236,a),pg=d(41237,a),mg=d(41238,a),gg=d(41239,a),vg=d(41245,o),wg=d(41247,o),yg=d(41251,o),bg=d(41253,a),Sg=d(41254,a),xg=d(41255,a),Cg=d(41256,a),kg=d(41257,s),Tg=d(41258,a),$g=d(41259,a),Ag=d(41260,a),Ig=d(41261,a),Pg=d(41263,a),_g=d(41264,a),Mg=d(41265,a),Rg=d(41266,a),Eg=d(41267,a),Fg=d(41268,a),Dg=d(41269,a),Og=d(41270,a),Ng=d(41271,a),Ug=d(41272,a,f(!0)),Lg=d(41273,a),Bg=d(41274,a),Wg=d(41275,a),Hg=d(41276,a),zg=d(41277,a),Vg=d(41278,a),jg=d(41279,a),qg=d(41280,a),Gg=d(41281,a),Jg=d(41282,a),Kg=d(41283,a),Qg=d(41284,a),Xg=d(41285,a),Yg=d(41286,a),Zg=d(41287,a),tv=d(41288,a),ev=d(41289,a),nv=d(41360,a),iv=d(41361,a),rv=d(41362,a),ov=d(41363,a),sv=d(41291,a),av=d(41292,a),cv=d(41294,a),uv=d(41295,a),lv=d(41296,a),dv=d(41297,a),fv=d(41406),hv=d(41407),pv=d(41415),mv=d(41416),gv=d(41417,o),vv=d(41601),wv=d(41611),yv=d(41801),bv=d(41802),Sv=d(41803),xv=d(41804),Cv=d(41805),kv=d(41806),Tv=d(41807),$v=d(41808),Av=d(41809),Iv=d(41810),Pv=d(41811),_v=d(41813),Mv=d(41814),Rv=d(41900),Ev=d(42601),Fv=d(42602),Dv=d(42603),Ov=d(42604),Nv=d(42605),Uv=d(42606),Lv=d(42701),Bv=d(42702,o),Wv=d(42703),Hv=d(42705),zv=d(42706),Vv=d(42707),jv=d(42708),qv=d(42710),Gv=d(42711),Jv=d(42712),Kv=d(43e3),Qv=d(43001),Xv=d(43002),Yv=d(43005),Zv=d(43006),tw=d(43008),ew=d(43011),nw=d(43012,o),iw=d(43225),rw=d(43310),ow=d(43500),sw=d(43511),aw=d(43600),cw=d(43601),uw=d(43968),lw=d(43970),dw=d(43985),fw=d(43986),hw=d(40001),pw=d(40002),mw=d(40003),gw=d(44003),vw=d(44200),ww=d(44300),yw=d(44702),bw=d(44709),Sw=d(44720),xw=d(44721),Cw=d(44722),kw=d(44724),Tw=d(44725),$w=d(44726),Aw=d(44729,o),Iw=d(44730,o),Pw=d(45700),_w=d(45706,r,f(!0)),Mw=d(46216,a),Rw=d(46222,a),Ew=d(46243,o),Fw=d(47101),Dw=(i.z.Deprecated,d(47701,a)),Ow=d(47702,a),Nw=d(47703,a),Uw=d(47704,a),Lw=d(47705,a),Bw=d(47706,a),Ww=d(47707,a),Hw=d(47710,s,f(!0)),zw=d(47712,s,f(!0)),Vw=d(47713,s,f(!0)),jw=d(47716,s,f(!0)),qw=d(5e4),Gw=d(50001),Jw=d(50002),Kw=d(50003),Qw=d(50005),Xw=d(50006),Yw=d(50007),Zw=d(50008),ty=d(50009),ey=d(50010),ny=d(50011,a),iy=d(50012,o),ry=d(50013),oy=d(50014),sy=d(50015),ay=d(50017),cy=d(50018),uy=d(50019),ly=d(50020),dy=d(50021),fy=d(50022),hy=d(50024),py=d(50025,a),my=d(50026),gy=d(50027),vy=d(50028,a),wy=d(50029,a),yy=d(50030),by=d(50031),Sy=d(50032),xy=d(50033),Cy=d(50034),ky=d(50035),Ty=d(50036),$y=d(50038),Ay=d(50039),Iy=d(50040),Py=d(50041),_y=d(50042),My=d(50043),Ry=d(50045),Ey=d(50046),Fy=d(50049),Dy=d(50050),Oy=d(50052),Ny=d(50053,a),Uy=d(50054),Ly=d(50061),By=d(50062),Wy=d(50063),Hy=d(50065),zy=d(50066),Vy=d(50067),jy=d(50068),qy=d(50069),Gy=d(50072),Jy=d(50073),Ky=d(50074),Qy=d(50075),Xy=d(50076),Yy=d(50100),Zy=d(50101),tb=d(50400,o),eb=d(50401),nb=d(50402),ib=d(50403),rb=d(52101),ob=d(53322),sb=d(53323),ab=d(53700),cb=d(53800,r,c,void 0,"libs/feed-layout/.../healthFitnessCardDataMapper.ts"),ub=d(53801),lb=d(53802),db=d(53944),fb=d(53952),hb=d(53972),pb=d(54401),mb=d(54437),gb=d(54440),vb=d(54441),wb=d(60101),yb=d(60102),bb=d(60103),Sb=d(60104),xb=d(60105),Cb=d(60106),kb=d(60107),Tb=d(60108),$b=d(60109),Ab=d(60110),Ib=d(60111),Pb=d(60114),_b=d(60115),Mb=d(60116),Rb=d(60117,o),Eb=d(60118,o),Fb=d(60119),Db=d(60120),Ob=d(60125),Nb=d(60126),Ub=d(60127),Lb=d(60128),Bb=d(60510),Wb=d(60129),Hb=d(60130),zb=d(60132,o),Vb=d(60134,o),jb=d(60135,o),qb=d(60136,o),Gb=d(60137,o),Jb=d(60138,a),Kb=d(60139,o),Qb=d(60140,o),Xb=d(60141,o),Yb=d(60142,s),Zb=d(60143),tS=d(60145,o),eS=d(60146,o),nS=d(60147),iS=d(60148),rS=d(60149),oS=d(60150),sS=d(60151,s),aS=d(60152,s),cS=d(60153,o),uS=d(60154,s),lS=d(60155,o),dS=d(60156,s),fS=d(60157,o),hS=d(60158,o),pS=d(60160,o),mS=d(60161,s),gS=d(60162,o),vS=d(60163,o),wS=d(60165),yS=d(60166),bS=d(60168,o),SS=d(60169),xS=d(60170),CS=d(60171),kS=d(60228),TS=d(60237),$S=d(60239),AS=d(60240),IS=d(60241,o),PS=d(60242),_S=d(60243),MS=d(60244),RS=d(60245),ES=d(60246),FS=d(60247,a),DS=d(60250,o),OS=d(60252,o),NS=d(60254),US=d(60259),LS=d(60260,o),BS=d(60261,o),WS=d(60262,o),HS=d(60265),zS=d(60266),VS=d(60267),jS=d(60268),qS=d(60269),GS=d(60270),JS=d(60271),KS=d(60272),QS=d(60281),XS=d(60282,o),YS=d(60285),ZS=d(60400),tx=d(60401),ex=d(60403),nx=d(60404),ix=d(60406),rx=d(60407),ox=d(60408),sx=d(60409),ax=d(60410),cx=d(60413),ux=d(60414),lx=d(60421),dx=d(60430),fx=d(60475),hx=d(60500),px=d(60550),mx=d(60551),gx=d(60552),vx=d(60800),wx=d(60801),yx=d(60900),bx=d(60901),Sx=d(61e3),xx=d(65001),Cx=d(65004),kx=d(7e4,s),Tx=d(70001,s),$x=d(70010),Ax=d(70011),Ix=d(70012),Px=d(70013),_x=d(70014,a),Mx=d(70015,a),Rx=d(70100),Ex=d(70101),Fx=d(70103),Dx=d(70202),Ox=d(70203),Nx=d(70204),Ux=d(70205),Lx=d(70206),Bx=d(70209),Wx=d(70210),Hx=d(70211),zx=d(70212),Vx=d(70213),jx=d(70214),qx=d(70216),Gx=d(70217),Jx=d(70218),Kx=d(70219),Qx=d(70221),Xx=d(70222),Yx=d(70223),Zx=d(70224),tC=d(70225),eC=d(70227),nC=d(70300),iC=d(70400),rC=d(70401),oC=d(70402),sC=d(70403),aC=d(70404),cC=d(70406,i.z.Deprecated),uC=d(70407,i.z.Deprecated),lC=d(70408),dC=d(70409),fC=d(70410,i.z.Deprecated),hC=(i.z.Deprecated,d(73010,o)),pC=d(73021),mC=d(73030),gC=d(73033),vC=d(73040),wC=d(73052),yC=d(73053),bC=d(73054),SC=d(73065,o),xC=d(73080),CC=d(73081),kC=d(73082),TC=d(73078),$C=d(73079),AC=d(73100),IC=d(73101),PC=d(73102),_C=d(73104),MC=d(73105),RC=d(73116),EC=d(73117),FC=d(73121),DC=d(73122),OC=d(73123),NC=d(73124),UC=d(73125),LC=d(73126),BC=d(73127),WC=d(73209,r,f(!1)),HC=d(73210,r,f(!0)),zC=d(73211),VC=d(73212,s),jC=d(73213,s),qC=d(73215,r,f(!0)),GC=d(73253,s,f(!1)),JC=d(73255,s,f(!0)),KC=d(73256,s,f(!0)),QC=d(73257,s,f(!0)),XC=d(73258,s,f(!0)),YC=d(73259,s,f(!1)),ZC=d(73260),tk=d(73261,r,f(!0)),ek=d(73262,s,f(!0)),nk=d(73263,s,f(!0)),ik=d(73264,s,f(!1)),rk=d(73265),ok=d(73266,s,f(!1)),sk=d(73267,s,f(!1)),ak=d(73307),ck=d(73308),uk=(i.z.HighImpact,i.z.HighImpact,i.z.HighImpact,i.z.HighImpact,d(77025,s)),lk=d(77026,r),dk=d(90108,o),fk=d(90300),hk=d(90301,o),pk=d(90303),mk=d(90305),gk=d(90306),vk=d(90307),wk=d(90308,o),yk=d(90309,o),bk=d(90310,o),Sk=d(91002),xk=d(91005),Ck=d(91006),kk=d(91007),Tk=d(92001),$k=d(100032),Ak=d(100036),Ik=d(102003,o),Pk=d(102300,o),_k=d(102302,o),Mk=d(110022),Rk=d(110043),Ek=d(110044,o),Fk=d(111001,o),Dk=d(111030,o),Ok=d(111043,o),Nk=d(111050,o),Uk=d(111051,o),Lk=d(111060,o),Bk=d(111070,o),Wk=d(111100),Hk=d(111103),zk=d(111106),Vk=d(111110),jk=d(111300),qk=d(112001,o),Gk=d(120001),Jk=d(120002),Kk=d(120003),Qk=d(120010),Xk=d(120011),Yk=d(130002),Zk=d(130003),tT=d(130004,o),eT=d(130005,o),nT=d(130006,o),iT=d(130007,o),rT=d(130008,o),oT=d(130009,o),sT=d(130010,o),aT=d(130011,o),cT=d(130012,o),uT=d(130013,o),lT=d(130014,o),dT=d(130015,o),fT=d(130016,o),hT=d(130017,o),pT=d(130018,o),mT=d(133100),gT=d(133101),vT=d(134e3),wT=d(135020),yT=d(135021),bT=d(135022),ST=d(135040,o),xT=d(135041,o),CT=d(135043),kT=(i.z.Deprecated,d(140100)),TT=d(140101),$T=d(140102),AT=d(140103),IT=d(140104),PT=d(140110),_T=d(140105),MT=d(140106),RT=d(140107),ET=d(140200),FT=d(143e3,o),DT=d(143001,a),OT=d(143007,a),NT=d(143002,a),UT=d(143003,a),LT=d(143005,a),BT=d(143006,a),WT=d(145e3),HT=d(145001),zT=d(145002),VT=d(146e3,r,f(!0)),jT=d(146001,o),qT=d(146002,r,f(!0)),GT=d(222223),JT=d(223e3),KT=d(223001),QT=d(223002),XT=d(223004),YT=d(223005),ZT=d(223006),t$=d(223007),e$=d(223050),n$=d(223060),i$=d(223062,o),r$=d(223100),o$=d(223101),s$=d(223200),a$=d(223201),c$=d(223202),u$=d(223203,a),l$=d(223204),d$=d(223300,o),f$=d(223301),h$=d(223302),p$=d(223303,o),m$=d(223304,o),g$=d(223305,o),v$=d(224100,a,f(!0)),w$=d(224101),y$=d(224102),b$=d(224103),S$=d(224200),x$=d(224201),C$=d(224300),k$=d(224301),T$=d(224302,a),$$=d(224500,a,f(!0)),A$=d(224502),I$=d(295103,o),P$=d(295104,o),_$=d(295100,o),M$=d(295101,o),R$=d(295102),E$=d(295200),F$=d(295201),D$=(i.z.Deprecated,i.z.Deprecated,i.z.Deprecated,d(295205)),O$=d(295206),N$=d(295207),U$=d(295208),L$=d(295209),B$=d(295210),W$=d(295211),H$=d(295212),z$=d(295220),V$=d(295254),j$=d(295255),q$=d(295300),G$=d(295301),J$=d(295302),K$=d(295402),Q$=d(295406),X$=d(295407),Y$=d(295408),Z$=d(295409),tA=d(295500,a),eA=d(295501),nA=d(295502),iA=d(295503),rA=d(295504),oA=d(1600,s),sA=d(1602,s),aA=d(1606,s),cA=d(1612),uA=d(1614,s),lA=d(1615,s),dA=d(1616),fA=d(3e4),hA=d(33e4),pA=d(34e4,o),mA=d(340001,o),gA=d(340002,o),vA=d(345e3,s),wA=d(35e4),yA=d(351e3),bA=d(351001),SA=d(351002),xA=d(351010),CA=d(36e4),kA=d(41e4),TA=d(410001),$A=d(410003),AA=d(410004),IA=d(43e4),PA=d(430001),_A=d(420050,s),MA=d(420051,s),RA=d(420053,s),EA=d(420052,s),FA=d(420054),DA=d(420100,s),OA=d(420101,s),NA=d(420102,s),UA=d(420103,s),LA=d(420055,s),BA=d(420056,s),WA=d(420057,s),HA=d(420058,s),zA=d(420059,s),VA=d(420060,s),jA=d(420061,s),qA=d(420062),GA=d(420105,s),JA=d(420106,s),KA=d(420107),QA=d(420108),XA=d(420109),YA=d(420111),ZA=d(420112),tI=d(420113),eI=d(420115),nI=d(420116),iI=d(440001),rI=d(440003),oI=d(45e4,s,f(!0)),sI=d(450001,s,f(!0)),aI=d(450002,s,f(!0)),cI=d(450003,s,f(!0)),uI=d(450004,s,f(!0)),lI=d(450005,s,f(!0)),dI=d(46e4),fI=d(460001),hI=d(460002),pI=d(460003),mI=d(460004),gI=d(48e4),vI=d(5e5,r,f(!0)),wI=d(51e4,o),yI=d(52e4),bI=d(520001),SI=d(520002),xI=d(55e4),CI=d(56e4),kI=d(560001)},33082:function(t,e,n){n.d(e,{M:function(){return f}});var i=n(1970),r=n(84147),o=n(26482),s=n(95912),a=n(53723);class c extends a.i{constructor(t,e,n,i,r,o,s){super(e,n,i,r,o,s),this.RequestId=t}set isMetrics(t){this._isMetrics=t}get isMetrics(){return this._isMetrics}}var u=n(67509),l=n(21215),d=n(73987);class f{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.requestId=e,(0,l.N)()?(this.logger=o.e.getInstance("ExperienceLogger",r.i.Info,u.N.Browser),this.isDebugEnabled=((0,d._)(t,"debug")||"").toLowerCase()in{1:1,true:1}||"vp"===((0,d._)(window.location.href,"reqsrc")||"").toLowerCase(),this.isDebugEnabled&&!n.g.TEST_ENV&&(window.webpackRequire=n)):(this.logger=o.e.getInstance("ExperienceLogger",r.i.Info,u.N.NodeJs),this.isDebugEnabled=!1),this.setupLogLevel()}getLoggingService(){return this.logger}isDebug(){return this.isDebugEnabled}setDebug(t){this.isDebugEnabled=t,this.setupLogLevel()}setTags(t){this.tags=t}log(t,e){if(!this.tags||!this.tags.length||e&&e.length&&e.filter((t=>this.tags.includes(t))).length>0){const e=new c(this.requestId,t);this.logger.info(e)}}logError(t){const e=new c(this.requestId,t);this.logger.error(e)}logCallback(t){this.logger.infoCallback(t)}logObjects(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];const i=new c(this.requestId,null,e);this.logger.info(i)}logSingleObject(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=new c(this.requestId,null,t);n.isMetrics=e,this.logger.info(n)}setupLogLevel(){this.logger.setLevel(this.isDebug()?r.i.Info:r.i.Error),this.setupAppenders()}setupAppenders(){this.logger.removeAllAppenders(),(0,l.N)()?this.logger.addAppender(new i.N(this.logger.getLevel())):this.logger.addAppender(new s.m(this.logger.getLevel()))}}},33779:function(t,e,n){n.d(e,{H:function(){return a},OO:function(){return s},Tr:function(){return c}});var i=n(44132),r=n(5302),o=n(7677);function s(t,e,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5?arguments[5]:void 0;const u=c(e,n,r||(0,o.n)(t),s,a);u.pb.stack=t&&t.stack||void 0,i.M0&&i.M0.sendAppErrorEvent(u)}function a(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=arguments.length>5?arguments[5]:void 0;i.M0&&i.M0.sendAppErrorEvent(c(t,e,n,r,s),o)}function c(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;const s=(0,r.mnt)();"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("appError",{detail:{errorId:t.id}}));const a=n?{...s,...t.pb,customMessage:n,...i,w:1}:{...s,...t.pb,...i,w:1};return"number"==typeof o&&o>0&&o<100&&(a.samplePct=o),{...t,message:e||t.message,pb:a}}},30490:function(t,e,n){n.d(e,{C:function(){return o}});var i=n(73987),r=n(21215);class o{constructor(){(0,r.N)()?(this.isDebugEnabled=((0,i._)(window.location.href,"debug")||"").toLowerCase()in{1:1,true:1}||"vp"===((0,i._)(window.location.href,"reqsrc")||"").toLowerCase(),this.isDebugEnabled&&!n.g.TEST_ENV&&(window.webpackRequire=n)):this.isDebugEnabled=!1}getLoggingService(){return null}isDebug(){return this.isDebugEnabled}setDebug(t){this.isDebugEnabled=t}setTags(t){}log(t,e){this.isDebug()&&console.info(t)}logError(t){console.error(t)}logCallback(t){this.isDebug()&&console.info(t())}logObjects(){this.isDebug()&&console.log(...arguments)}logSingleObject(t,e){this.isDebug()&&console.log(t)}}},42122:function(t,e,n){function i(t){r=t}n.d(e,{E:function(){return i},k:function(){return r}});let r=new(n(30490).C)},84381:function(t,e,n){n.d(e,{g:function(){return s}});var i=n(22170),r=n(22680);const o=(0,i.pn)();!function(){var t;const e=null===(t=(0,r.l4)())||void 0===t||null===(t=t.match(/ems=([\d]+)/))||void 0===t?void 0:t[1];o.set(e&&parseInt(e)||5)}();const s=t=>Math.floor(101*Math.random())<=(t||o.get())},73987:function(t,e,n){function i(t,e){const n=e.replace(/[[\]]/g,"\\$&"),i=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)").exec(t);if(!i)return null;const r=i[2];return decodeURIComponent(r.replace(/\+/g," "))||""}n.d(e,{_:function(){return i}})},31802:function(t,e,n){n.d(e,{c:function(){return s}});var i=n(242),r=n(90695),o=n(11923);function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={...(0,i.Ou)(),...(0,i.Y9)()},n=[],o={WW:{pid:0},Resolver:{pid:1},Ads:{pid:2},Telemetry:{pid:3},"Content Preview":{pid:4},Images:{pid:5},JS:{pid:6},Statics:{pid:7},Configs:{pid:8},Services:{pid:9},nextPID:{pid:20}},s=100;!function(t,e,n){const i=[{name:"Ads",regex:/(\/srtb\.|taboola|outbrain)/i},{name:"Telemetry",regex:/(otf\.|\/c\.gif)/i},{name:"Content Preview",regex:/\/content\/view\/v[0-9]\/Preview\//i},{name:"Images",regex:/(img-s-msn-com|\.svg)/i},{name:"JS",regex:/\.js/i},{name:"Statics",regex:/statics/i},{name:"Configs",regex:/\/config/i},{name:"Services",regex:/(\/service\/|api|\/getappanoncookie|content|microsoftonline)/i}];let r=performance.getEntriesByType("resource").filter((e=>{const{duration:n,startTime:i}=e;return p(t,i,i+n)}));i.forEach((t=>{f(t.name,n);const i=[];r.filter((e=>{const n=e.name.match(t.regex);return n||i.push(e),n})).forEach(((n,i)=>{const r=new URL(n.name),o=r.pathname.length>1?r.pathname:r.hostname;e.push({async:!0,timelineName:t.name,coreName:o,idSuffix:`-${i}`,from:n.startTime,to:n.startTime+n.duration})})),r=i}))}(t,n,o),function(t,e,n,i){n.forEach((n=>{const{async:r,timelineName:o}=n;r&&f(o,i),p(t,n.from,n.to)&&e.push(n)}))}(t,n,(0,r.iG)(),o),d(t,n,e,o,/^WW\./,"WW");const m={...window._appTimings||{}};d(t,n,m,o,/.*/);const g=[];g.push(c(t,"Global","NavStart",s,0,"g")),Object.keys(e).filter((n=>n.match(/TT/)&&p(t,e[n]))).sort(((t,n)=>e[t]-e[n])).forEach((n=>g.push(c(t,"Global",n,s,e[n],"g")))),Object.keys(e).filter((n=>n.match(/^WW\./i)&&p(t,e[n]))).sort(((t,n)=>e[t]-e[n])).forEach((n=>g.push(c(t,"WW",n,o.WW.pid,e[n],"p")))),g.push(a("process_name",s,{name:"Main"})),g.push(a("process_sort_index",s,{sort_index:s}));const{uploadTrace:v}=t;return l(t,n,!0).forEach(((e,n)=>{const{pid:i}=o[e.name];e.measures.forEach(((e,r)=>{const{timelineName:o,coreName:s,idSuffix:a,from:c,to:l,customData:d}=e,f=("000"+r).substr(-3,3),h=s+a,p=v?function(t){const e=t.lastIndexOf("/");return e>=0?t.substr(e+1):t}(h):h,m=`${f}-${p}`;g.push(...function(t,e,n,i,r,o,s,a,c,l){return[u(t,e,n,l?"B":"b",i,r,s,{id:o}),u(t,e,n,l?"E":"e",i,r,a,{id:o,args:JSON.stringify(c)})]}(t,o,m,i,n,r,c,l,d))})),g.push(a("process_name",i,{name:e.name})),g.push(a("process_sort_index",i,{sort_index:i})),g.push(a("thread_name",i,{name:e.name},n)),g.push(a("thread_sort_index",i,{sort_index:n},n))})),l(t,n,!1).forEach(((e,n)=>{e.measures.forEach((e=>{const{timelineName:i,coreName:r,idSuffix:o,from:s,to:a,customData:c}=e,l=r+o;g.push(function(t,e,n,i,r,o,s,a){const c=h(s-o);return u(t,e,n,"X",i,r,o,{dur:c,args:JSON.stringify(a)})}(t,i,l,100,n,s,a,c))})),g.push(a("thread_name",100,{name:e.name},n)),g.push(a("thread_sort_index",100,{sort_index:n},n))})),g}function a(t,e,n,i){const r={name:t,ph:"M",pid:e,args:n};return null!=i&&(r.tid=i),r}function c(t,e,n,i,r,o){return u(t,e,n,"i",i,null,r,{s:o})}function u(t,e,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>7?arguments[7]:void 0;const a={cat:e,name:n,ph:i,pid:r,tid:o,ts:h(arguments.length>6?arguments[6]:void 0),...s};return null!=o&&(a.tid=o),a}function l(t,e,n){const i=(0,o.Z)(e.filter((e=>!!e.async===n&&p(t,e.from,e.to))),(t=>t.timelineName)),r=[];let s=0;return Object.keys(i).forEach((t=>{const e=i[t].sort(((t,e)=>t.from-e.from));s=Math.max(s,e[e.length-1].to),r.push({name:t,measures:e})})),r.sort(((t,e)=>t.measures[0].from-e.measures[0].from))}function d(t,e,n,i,r,o){const s=/-?[Ss]tart$/,a={"-Start":"-End","-start":"-end",Start:"End",start:"end"},c=[];Object.keys(n).filter((t=>t.match(r))).forEach((r=>{const u=r.match(s);if(!u)return;let l=r.replace(s,"");const d=`${l}${a[u[0]]}`,f=u&&n[d];if(!f)return;c.push(r),c.push(d);let h=o;if(!h){const t=l.match(/(.+)\.(.+)/);if(!t)return;h=t[1],l=t[2]}const m=n[r];p(t,m,f)&&e.push({async:!!i[h],timelineName:h,coreName:l,idSuffix:"",from:m,to:f})}));for(const t of c)delete n[t]}function f(t,e){if(!e[t])return e[t]={pid:e.nextPID.pid++},!0}function h(t){return Math.round(1e3*t)}function p(t,e,n){return!t.uploadTrace||!t.maxTime||(!e||e<=t.maxTime)&&(!n||n<=t.maxTime)}},18538:function(t,e,n){n.d(e,{Y:function(){return i},c:function(){return o}});var i,r=n(42122);function o(t){try{const e=new URL(t).searchParams,n=e.get("expPerf"),r=e.get("expPerfSkip");if("all"==r)return{enablePerfTimeline:!1};if(!r&&!n)return{};const o={enablePerfTimeline:!0,uploadTrace:!1,sampleRate:1,uploadCriteria:{minimumTTVR:0}};if("all"===n)o.trackAllExp=!0,o.experiencesExcludedForPerf={};else if(n){const t=o.experiencesForPerf={};n.split(",").forEach((e=>t[e]=!0))}if(r){const t=o.experiencesExcludedForPerf={};r.split(",").forEach((e=>t[e]=!0))}"true"===e.get("expPerfMarks")&&(o.addPerformanceMarks=!0),"true"===e.get("expPerfTimings")&&(o.addPageTimings=!0);const s=parseInt(e.get("expPerfLevel"));return o.traceLevel=null!=i[s]?s:i.default,o}catch(t){return r.k.logError("Error parsing URL for detecting experience diagnostic switches: "+t),{}}}!function(t){t[t.default=0]="default",t[t.medium=1]="medium",t[t.high=2]="high"}(i||(i={}))},90695:function(t,e,n){n.d(e,{Xn:function(){return _},dj:function(){return $},iG:function(){return P},g7:function(){return T},FH:function(){return A},Im:function(){return I}});var i=n(18538),r=n(43852),o=n(4620),s=n(22170),a=n(21215),c=n(5658),u=n(58420),l=n(242),d=n(73898);const f=(0,s.WG)((()=>new u.K));f.unset();const h="-start",p="-end";class m{constructor(t,e,n,i,r){var o;this.timelineName=t,this.instanceId=e,this.addPerfMarks=n,this.addPageTimings=i,this.async=r,this.measures=new w,this.timeRange=[1/0,-1/0],this.timelineName=(o=t,f.get().qualifyKey(o))}get timeSpan(){const[t,e]=this.timeRange;if(t!==1/0&&e!==-1/0)return[t,e-t]}startMeasure(t,e,n){const{async:i,startTime:r}=n||{},o=b(r);if(null==o)return{endMeasure:d.Z};const{timeRange:s}=this;o<s[0]&&(s[0]=o);const a=v(t,e),c=this.measures.add({coreName:a,from:o,async:null!=i?i:this.async,idSuffix:""},n);return{endMeasure:n=>{const{customSuffix:i,customData:r,endTime:a}=n||{},u=b(a);if(null==u||u<o)return;if(i&&e!==i){const e=v(t,i);this.measures.rename(c,e)}c.to=u,c.customData=r,u>s[1]&&(s[1]=u);!function(t,e,n,i){if(!n&&!i)return;const{from:r,to:o}=e;if(null!=r){const e=t+h,s=(0,l.Ou)();if(n&&(s[e]=r),i&&performance.mark(e,{startTime:r}),null!=o&&(n&&(s[t]=o-r),i)){const n=t+p;performance.mark(n,{startTime:o}),performance.measure(t,e,n)}}}(y(this.timelineName,c),c,this.addPageTimings,this.addPerfMarks)}}}rename(t){if(this.timelineName!==t){if(this.addPageTimings){const e=this.timelineName,n=(0,l.Ou)();this.measures.get().forEach((i=>{const r=y(e,i);delete n[r+h],delete n[r];const o=y(t,i);n[o+h]=i.from,n[o]=i.to-i.from}))}this.timelineName=t}}getPageMeasures(){return this.measures.get().map((t=>({...t,timelineName:this.timelineName})))}getMeasureValues(t){return this.measures.get(t)}instrumentFunc(t,e,n){var i=this;return function(){const r=i.startMeasure(t).endMeasure;try{for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const t=e.apply(n,s);return t instanceof Promise?g(t,r):r(),t}catch(t){r({customSuffix:"error"})}}}instrumentPromise(t,e,n){const i=this.startMeasure(t,null,n).endMeasure;return g(e(),i)}}function g(t,e){return t.then((()=>e())).catch((()=>e({customSuffix:"error"}))),t}function v(t,e){return e?`${t}-${e}`:t}class w{constructor(){this.list=[],this.entList=[],this.map=new Map}add(t,e){return e&&e.entityMeasure?this.entList.push(t):this.list.push(t),this.addToMap(t)}addToMap(t){const e=t.coreName;let n=this.map.get(e);return!n&&this.map.set(e,n=[]),t.idSuffix=(0,u.p)(n.length),n.push(t),t}get(t){const{coreName:e,entityMeasures:n}=t||{};let i;return i=e?this.map.get(e)||[]:n?this.entList:!1===n?this.list:[...this.list,...this.entList],i}rename(t,e){const n=t.coreName;if(n==e)return;const i=this.map.get(n),r=i.indexOf(t);if(r>=0){i.splice(r,1);for(let t=r,e=i.length;t<e;t++)i[t].idSuffix=(0,u.p)(t);t.coreName=e,this.addToMap(t)}}}function y(t,e){return`${t}-${e.coreName}${e.idSuffix}`}function b(t){return null==t?(0,l.UE)():"number"==typeof t&&t>=0?t:void 0}var S=n(37039),x=n(89799);const C=(0,s.pn)(),k=(0,s.WG)((()=>({})));function T(t,e){(0,r.S4)(e),function(t){Object.assign(k.get(),C.set((0,i.c)(t)))}(t)}function $(){return k.get()}function A(t){const e=k.get();e.enablePerfTimeline=t,e.trackAllExp=t,e.enableEntityMetricsTimeline=t,e.traceLevel=i.Y.default,!(0,a.N)()&&(0,x.xb)(t)}const I=(t,e,n)=>function(t){const e=k.get();if(!e.enablePerfTimeline)return!1;const{experiencesForPerf:n}=e;if(n&&n[t])return!0;const{experiencesExcludedForPerf:i}=e;if(i&&i[t])return!1;return e.trackAllExp}(t)?function(t,e,n){const i=M(t,e),o=S.j.get(),s=k.get();return o[i]||(o[i]=(0,r.uk)(m,t,e,s.addPerformanceMarks,s.addPageTimings,n))}(t,e,n):void 0;function P(){const t=[],e=S.j.get();return Object.keys(e).forEach((n=>t.push(...e[n].getPageMeasures()))),t}function _(t){k.get().enableEntityMetricsTimeline&&(0,c.Yt)(t)}function M(t,e){return`${t}-${e||"0"}`}(0,a.N)()&&(window._getEntityMetricsCollection=t=>(0,c.HK)(Object.values(S.j.get()),(0,o.At)(t)))},58420:function(t,e,n){n.d(e,{K:function(){return i},p:function(){return r}});class i{constructor(){this.counts={}}qualifyKey(t){t||(t="NA");return t+this.qualifySuffix(t)}qualifySuffix(t){return r(this.addCount(t)-1)}reset(){this.counts={}}addCount(t){return this.counts[t]=(this.counts[t]||0)+1}}function r(t){return t<=0?"":"-"+(t+1)}},64527:function(t,e,n){n.d(e,{Am:function(){return g},F$:function(){return m},H7:function(){return c},Oq:function(){return u},bM:function(){return a},bg:function(){return o},dw:function(){return d},iA:function(){return f},os:function(){return v},zV:function(){return l}});var i=n(21215);const r=["vendors","microsoft","common","common-daily","common-alternate-daily","common-biweekly","common-monthly","experience","widget-initializer"];function o(t){if(t&&performance.getEntriesByType){const e=y();for(const n of r){const i=w(n,e);i&&h(t,i,n+"JS")}}}const s="resolver/api/resolve";function a(t){if(t&&performance.getEntriesByType){const e=performance.getEntries().find((t=>t.name.indexOf(s)>0));e&&h(t,e,"CrsConfig")}}function c(t){if(t&&performance.getEntriesByType){const e=y();for(const n of r){const i=w(n,e);i&&p(t,i,n+"JS")}}}function u(t){if(t&&performance.getEntriesByType){const e=performance.getEntriesByType("navigation");if(e&&e.length){const n=e[0];n&&(h(t,n,"html"),window.ssrPageGenTime&&(t.htmlCacheAge=Math.round((Date.now()-window.ssrPageGenTime.valueOf())/6e4)))}}}function l(t){if(t&&performance.getEntriesByType){const e=performance.getEntriesByType("resource");if(e&&e.length){const n=e.find((t=>t.name.indexOf("/Feed/me")>=0||t.name.indexOf("/feed/pages/startmhp")>=0));n&&h(t,n,"feed")}}}function d(t){if(!(0,i.N)()||!t)return;const e=navigator;if(e.connection){const n=e.connection;"rtt"in n&&(t.rtt=n.rtt),"downlink"in n&&(t.downlink=n.downlink),"effectiveType"in n&&(t.effectiveType=n.effectiveType)}"hardwareConcurrency"in navigator&&(t.hardwareConcurrency=navigator.hardwareConcurrency)}function f(t){t&&(t.isIDBSupported=window.indexedDB?1:0,t.isSWSupported=window.navigator.serviceWorker?1:0,t.isWWPresent=window._isWebWorkerPresent?1:0)}function h(t,e,n){const i=m(e);null!=i&&(t[n+"Cached"]=i?1:0)}function p(t,e,n){const{startTime:i,fetchStart:r,requestStart:o,responseStart:s,responseEnd:a,duration:c}=e;t[n+"ResponseTime"]=Math.round(a-s),t[n+"ResponseStart"]=Math.round(s),t[n+"ResponseEnd"]=Math.round(a),t[n+"StartTime"]=Math.round(i),t[n+"FetchStart"]=Math.round(r),t[n+"RequestStart"]=Math.round(o),t[n+"Duration"]=Math.round(c)}function m(t){return void 0!==t.transferSize?!(0!==t.transferSize&&300!==t.transferSize):void 0!==t.nextHopProtocol?!(""!==t.nextHopProtocol):void 0}function g(t){if(t&&performance.getEntriesByType){const e=performance.getEntriesByType("navigation");if(e.length){const n=e[0],i="useragent_launch";"type"in n&&(t.isBrowserLaunch=n.type===i?1:0)}}}function v(){return performance.getEntriesByType("navigation")[0]}function w(t,e){const n=e.filter((e=>e.name.indexOf(`/${t}.`)>-1));return n[n.length-1]}function y(){const t=["script","other"];return performance.getEntriesByType("resource").filter((e=>t.includes(e.initiatorType)))}},242:function(t,e,n){n.d(e,{A1:function(){return p},EN:function(){return s},O8:function(){return f},Ou:function(){return u},Th:function(){return m},UE:function(){return h},WP:function(){return d},Y9:function(){return l},fT:function(){return c},pU:function(){return a}});var i=n(21215),r=n(52185);const o="ssrTimeOrigin",s="ssrTimeEnd",a="SSR.InfopaneRendered",c="ssrTimeServerEntry";function u(){return(0,i.N)()?window._pageTimings||(window._pageTimings={}):r.Gq.get("__diagnostics_pageTimings",(()=>({})))}function l(){return(0,i.N)()?window._secondaryPageTimings||(window._secondaryPageTimings={}):r.Gq.get("__diagnostics_secondaryPageTimings",(()=>({})))}function d(){return(0,i.N)()?window._webVitalsPageTimings||(window._webVitalsPageTimings={}):r.Gq.get("__diagnostics_webVitalsPageTimings",(()=>({})))}function f(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=u();if(!t||!n||e&&n.TTVR)return;const i=n[t]||(n[t]=0);n[t]=i+1}function h(){return(0,i.N)()?performance.now():performance.now()-u()[o]}function p(){if((0,i.N)()&&navigator)return{memory:navigator.deviceMemory,cpu:navigator.hardwareConcurrency,networkSpeed:navigator.connection&&navigator.connection.effectiveType}}function m(){if(!(0,i.N)())return;const t=(performance.getEntriesByType("navigation")||[])[0],e={};for(const n in t){const i=t[n];e[n]="number"==typeof i?Math.round(i):i}return e}},79403:function(t,e,n){n.d(e,{FF:function(){return s},hf:function(){return a},v0:function(){return c}});var i=n(242),r=n(86117),o=n(90631);function s(t,e){const n=performance.now(),i=e&&e.firstTimeOnly;e&&e.logStart&&a(`${t}-start`,n,i);const r=e&&e.perfTimeline,o=r&&r.startMeasure(t).endMeasure;return function(){const r=performance.now();e&&e.logEnd&&a(`${t}-end`,r,i),e&&!e.logDuration||a(t,r-n,i),o&&o()}}function a(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:performance.now(),n=arguments.length>2?arguments[2]:void 0;const r=(0,i.Ou)();return n&&void 0!==r[t]?r[t]:(r[t]=Math.round(10*e)/10,e)}function c(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:performance.now();const n=t&&(0,r.TZ)(o.DB)||0;return e+(n>0?-n:0)}},64107:function(t,e,n){n.d(e,{A:function(){return s}});var i=n(42122);const r="-start";class o{constructor(){this.endMarkSuffix="-end","undefined"!=typeof window&&this.initialize(window.performance)}static getInstance(){return o.instance||(o.instance=new o),o.instance}initialize(t){this.performance=t}startMark(t){this.singleMark(t+r)}endMark(t){this.singleMark(t+this.endMarkSuffix),this.measureStartEnd(t)}singleMark(t){const e=this.performance;e&&e.mark&&(e.mark(t),i.k.log(`[PerfMarker] ${t}`))}clearMark(t){const e=this.performance;e&&e.clearMarks&&e.clearMarks(t)}clearMeasures(t){const e=this.performance;e&&e.clearMeasures&&e.clearMeasures(t)}async measurePromise(t,e){this.startMark(t);const n=await e();return this.endMark(t),n}measurePerfMarker(t){if(!this.performance)return;const e={},n=this.performance.getEntriesByType("mark");if(!n)return e;for(let i=0;i<n.length;i++){let r=n[i].name;if(!r||null==n[i].startTime)continue;if(r=r.replace(/-(end|start)$/i,""),!r.startsWith(t))continue;const o=e[r]||new a(r);o.processPerfEntry(n[i]),o.isValid&&(e[r]=o)}return e}measureStartEnd(t){const e=this.performance;if(e&&e.measure)try{e.measure(t,t+r,t+this.endMarkSuffix)}catch(e){i.k.logError(`Error while attempting to measure start/end of '${t}'. Error: ${e}`)}}}const s=o.getInstance();class a{constructor(t){this.duration=0,this.markerName=t}get isValid(){return null!=this.startTime}processPerfEntry(t){t.name.endsWith(r)?(this.firstStartTime||(this.firstStartTime=t.startTime),this.startTime=t.startTime):null!=this.startTime&&(this.duration+=t.startTime-this.startTime,this.startTime=null)}}},90631:function(t,e,n){n.d(e,{DB:function(){return s},Fz:function(){return d},Hm:function(){return l},IP:function(){return c},MV:function(){return i},P9:function(){return m},Wk:function(){return p},fR:function(){return u},iL:function(){return f},kc:function(){return o},pJ:function(){return a},qh:function(){return r},w:function(){return h},zJ:function(){return g}});const i="TTVR",r="TTVS",o="htmlCached",s="pageRevealStart",a="protocolLaunchStart",c="FromProtocolLaunchStart",u="userAgentStart",l="FromUserAgentStart",d="PCSToJSStart",f="JSStartToOnLoad",h="TTJSStart",p="timeToOnLoad",m="timeToFirstByte",g="FCP_Old"},86117:function(t,e,n){n.d(e,{BW:function(){return j},Gb:function(){return V},IJ:function(){return Q},IO:function(){return tt},Nv:function(){return rt},O0:function(){return yt},OB:function(){return ut},OZ:function(){return bt},O_:function(){return X},S_:function(){return at},TZ:function(){return wt},Xl:function(){return et},YJ:function(){return it},_E:function(){return ct},a8:function(){return E},aR:function(){return Ct},b1:function(){return st},bO:function(){return ft},bP:function(){return lt},cd:function(){return J},e3:function(){return ot},gh:function(){return dt},l6:function(){return St},mb:function(){return G},nz:function(){return O},oN:function(){return i},o_:function(){return q},su:function(){return Y},sx:function(){return Tt},tW:function(){return nt},v9:function(){return xt},wS:function(){return kt}});var i,r=n(90631),o=n(21215),s=n(72465),a=n(242),c=n(64107),u=n(43225),l=n(34960);let d,f,h,p,m,g,v;!function(t){t.Primary="primary",t.Secondary="secondary"}(i||(i={}));const w=new Map,y=new Map,b=new Map;let S,x,C,k,T,$,A,I,P=new Map,_=new Map,M=[];const R="TTF.",E="TTVR.",F="TTVS.",D="TTPR.",O="TTSR.";let N="",U=!1,L=!1,B="",W=!1;const H={};let z;function V(){return H}function j(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;(0,o.N)()&&(n=n||performance.now(),Z(R,t,e,W?(0,l.F)(n):n))}function q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if((0,o.N)()){if(n=n||performance.now(),i&&W&&n>0){const i=(0,l.F)(n);return Z(E,t,e,i),K(t),i}return Z(E,t,e,n),K(t),n}}function G(t){M.push(t)}function J(t){M=M.filter((e=>e!==t))}function K(t){if(M.length)try{M.map((e=>e(t)))}catch(t){}}function Q(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;(0,u.c)((()=>q(t,e,n)))}function X(t,e,n){Y(t,n-e)&&(0,s.QP)({name:t,startTime:e,endTime:n})}function Y(t,e){if(_.get(t))return!1;const n=performance.getEntriesByName&&performance.getEntriesByName(t);let i;return Boolean(n&&n.length)?_.has(t)||(_.set(t,Math.round(n[0].startTime)),i=!0):(c.A.singleMark(t),_.set(t,isNaN(e)?-1:Math.round(e)),i=!0),f&&f.delete(t)&&0===f.size&&$&&$(dt()),i}function Z(t,e,n,i){if(!e||!e.length)return;if(!t||!t.length)return;const o=t+e;if(o.startsWith(E)&&(!m||!m.has(o))&&g&&g.has(o))return void Y(o,n?-1:i);if(b.has(o)&&b.get(o)(o),P.get(o))return;const s=performance.getEntriesByName&&performance.getEntriesByName(o);Boolean(s&&s.length)?P.set(o,Math.round(s[0].startTime)):(c.A.singleMark(o),n?P.set(o,-1):P.set(o,Math.round(i))),o.startsWith(E)&&(H.marker=o,H.value=P.get(o)),h&&h.delete(o)&&0===h.size&&x&&x(mt()),d&&d.delete(o)&&0===d.size&&k&&k(ut()),t===F&&(Y("TTVS",n?-1:i),I&&I(gt(F,r.qh)))}function tt(t){d=ht(t),h=ht(t,"TTVR"),p=ht(t,"TTPR"),m=new Set(vt(t,"TTVR")),x&&0===h.size&&k(mt()),k&&0===d.size&&k(ut()),U=!0}function et(t){f||(f=new Set,g=new Set,t.forEach((t=>{_.get(t)||f.add(t),t.startsWith(E)&&g.add(t)})),0===f.size&&$&&$(dt()))}function nt(t){v||(v=t)}function it(t){t&&U&&d&&h&&(t.startsWith(E)||(t=E+t),P.has(t)||(d.add(t),h.add(t)),m.add(t))}function rt(){return(0,o.N)()?function(){if(!(0,o.N)())return null;if(C)return C;if(d&&0===d.size)return Promise.resolve(ut());return C=new Promise((t=>{k=t})),C}():null}function ot(){return(0,o.N)()?T||(f&&0!==f.size?(T=new Promise((t=>{$=t})),T):Promise.resolve(dt())):null}function st(){return(0,o.N)()?S||(h&&0===h.size?Promise.resolve(mt()):(S=new Promise((t=>{x=t})),S)):Promise.resolve([])}function at(){return(0,o.N)()?A||(A=new Promise((t=>{I=t})),A):null}function ct(t){return(mt().find((e=>e[0]===t))||[])[1]}function ut(){return[...mt(),...pt()]}function lt(){return[...mt(!1),...pt()]}function dt(){return[..._]}function ft(t){return t===i.Primary?Array.from(d||[]):Array.from(f||[])}function ht(t,e){const n=new Set;for(const i of vt(t,e))P.get(i)||n.add(i);return n}function pt(){return gt(R)}function mt(){return(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&!1!==z?gt(E,r.MV,!0):gt(E)}function gt(t,e,n){const i=[];let o=0;if(P.forEach(((e,n)=>{if(n.startsWith(t)){var r,s;i.push([n,e]);const t=n.startsWith("TTVR");e>o&&(!t||null!==(r=m)&&void 0!==r&&null!==(s=r.has)&&void 0!==s&&s.call(r,n))&&(o=e,t&&(N=n));const a=w.get(n);null!=a&&a.name&&(y.get(a.name)<e&&y.set(a.name,e),a.preserve||i.pop())}})),y.forEach(((e,n)=>{n.startsWith(t)&&i.push([n,e])})),e&&i.push([e,o]),n&&e===r.MV){const t=(0,a.Ou)().refreshDelay||0;i.push(["TTVR.WithRefreshDelay",o+t])}return i}function vt(t,e){let n=[],i=[],r=[];return!t||!t.TTVR||e&&"TTVR"!==e||(n=t.TTVR.map((t=>E+t))),!t||!t.TTF||e&&"TTF"!==e||(r=t.TTF.map((t=>R+t))),t&&t.TTPR&&"TTPR"===e&&(i=t.TTPR.map((t=>D+t))),[...n,...r,...i]}function wt(t){const e=performance.getEntriesByName(t);return e&&e[0]&&e[0].startTime?e[0].startTime:-1}function yt(t){const e=_.get(t);return null!=e?e:-1}function bt(){return v}function St(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=t;r.startsWith(E)||(r=E+t),U&&(m.has(r)||L)&&""!==t?q(t,e,n,i):K(t)}function xt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=t;i.startsWith(E)||(i=E+t),U&&(m.has(i)||L)&&""!==t?Q(t,e,n):K(t)}function Ct(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=t,o=e;U&&""!==t&&""!==e&&(L||e!==B)&&(r.startsWith(E)||(r=E+t),o.startsWith(E)||(o=E+e),d.has(r)||P.has(r)||m.has(r)||(it(r),w.set(r,{name:o,preserve:n}),y.set(o,-1),i&&b.set(r,i)))}function kt(){return W}function Tt(){return N}},43852:function(t,e,n){function i(t,e,n){return new t(e,n,arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}n.d(e,{S4:function(){return o},fW:function(){return a},oA:function(){return s},uk:function(){return i}});const r=(0,n(22170).U1)();function o(t){r.set(t)}const s=(t,e,n)=>r.call(t,e,n);function a(t,e,n){return n?n.instrumentPromise(e,t):t()}},37039:function(t,e,n){n.d(e,{j:function(){return i}});const i=(0,n(22170).WG)((()=>({})))},43225:function(t,e,n){n.d(e,{c:function(){return r},u:function(){return o}});var i=n(21215);function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,i.N)()&&window.requestAnimationFrame((()=>window.setTimeout((()=>t()),e)))}async function o(){return new Promise((t=>r(t)))}},34960:function(t,e,n){function i(t){const e=performance.getEntriesByType("visibility-state").filter((e=>e.startTime<t));if(0===e.length)return t;let n=0;for(let r=0;r<e.length;r++){const o=e[r];var i;if("visible"===o.name)n+=((null===(i=e[r+1])||void 0===i?void 0:i.startTime)??t)-o.startTime}return n}n.d(e,{F:function(){return i}})},33117:function(t,e,n){n.d(e,{Dd:function(){return p},d0:function(){return m},n1:function(){return h}});var i=n(43852),r=n(22170),o=n(21215),s=n(43225),a=n(18538),c=n(90695),u=n(242),l=n(8114);const d=(0,r.WG)((()=>({}))),f=new WeakMap;function h(){if(!(0,o.N)())return;const{enablePerfTimeline:t,traceLevel:e}=(0,c.dj)();if(!t||"undefined"==typeof customElements||e<a.Y.high)return;const n=customElements.define;customElements.define=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const[r,o]=e,s="connectedCallback",a=o.prototype[s];return"function"!=typeof a||"getExperienceType"in o.prototype||(o.prototype[s]=function(){const t=p(this.localName,this.instanceId),e=t&&t.startMeasure("init").endMeasure;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];const o=a.apply(this,i);return e&&e(),m(this,t),(0,u.O8)("WC.Count"),o}),n.apply(customElements,e)}}function p(t,e){const n=d.get(),r=1===(n[t]=(n[t]||0)+1)?e:(0,l.Z)(e);return(0,i.oA)(t,r)}function m(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.u;if(!t||!t.shadowRoot||!e)return;const i=new g("update",e);i.tryStartMeasure(),n().then((()=>i.tryEndMeasure()));const{traceLevel:r}=(0,c.dj)();r&&function(t,e,n){let i=f.get(t);if(i)return;let r=0;i=new MutationObserver((t=>{e.tryStartMeasure();const i=t.reduce(((t,e)=>(e.addedNodes.forEach((e=>t.added.push(e.nodeName))),e.removedNodes.forEach((e=>t.removed.push(e.nodeName))),e.attributeName&&t.attrs.push(e.attributeName),t)),{added:[],removed:[],attrs:[]}),o={added:i.added.length?i.added.join(","):void 0,removed:i.removed.length?i.removed.join(","):void 0,attrs:i.attrs.length?i.attrs.join(","):void 0};e.addCustomData("mutation"+ ++r,o),n().then((()=>e.tryEndMeasure()))})),i.observe(t.shadowRoot,{childList:!0,subtree:!0,attributes:!0}),i.observe(t,{attributes:!0}),f.set(t,i)}(t,i,n||w)}class g{constructor(t,e){this.measureName=t,this.perfTimeline=e,this.customData={}}tryStartMeasure(){if(!this.coreEndMeasure){const t=this.perfTimeline.startMeasure(this.measureName).endMeasure;this.coreEndMeasure=()=>t({customData:this.customData})}}addCustomData(t,e){this.customData[t]=e}tryEndMeasure(){this.coreEndMeasure&&(this.coreEndMeasure(),this.customData={},this.coreEndMeasure=null)}}let v;function w(){return v||(v=new Promise((t=>(0,s.c)((()=>{v=null,t()})))))}},10530:function(t,e,n){n.d(e,{m:function(){return s}});var i=n(72465),r=n(242),o=n(7677);function s(t){const e=t||performance.now();return{end:t=>{const n=performance.now(),s="ClientInit";try{if(!t){(0,r.Ou)()[s]=Math.round(n-e)}(0,i.QP)({name:s,startTime:e,endTime:n,customSuffix:t?"error":void 0})}catch(t){console.error("ClientInit span error: "+(0,o.n)(t))}}}}},72465:function(t,e,n){n.d(e,{DY:function(){return c},Ep:function(){return d},QP:function(){return u},ee:function(){return l},el:function(){return h},m8:function(){return f}});var i=n(4620),r=n(22170);const o=(0,r.pn)(),s=(0,r.pn)(),a=(0,r.pn)();function c(t){s.set([]),a.set([]),o.set(t)}function u(t){var e;null===(e=o.get())||void 0===e||e.startMeasure(t.name,void 0,{entityMeasure:!0,startTime:p(t.startTime,-1)}).endMeasure({endTime:p(t.endTime,-1)})}function l(t){const e=o.get();return e?(0,i.fJ)(e.getMeasureValues({entityMeasures:!0}),t,"from",!1):[]}function d(t){let e;const n=a.get();n&&null!=(e=m(t.time))&&n.push({name:t.name,time:e})}function f(t){const e=s.get();return e?(0,i.fJ)(e,t,"time",!0):[]}function h(t){const e=a.get();return e?(0,i.fJ)(e,t,"time",!1):[]}function p(t,e){return null!=t?t:e}function m(t){if("number"==typeof t&&t>=0)return t}},5658:function(t,e,n){n.d(e,{TG:function(){return dt},Yt:function(){return ht},HK:function(){return ft}});var i=n(4620),r=n(44132),o=n(21492),s=n(22170),a=n(5302);const c=Object.freeze({experience:"e",page:"p",other:"o",script:"js",service:"s",container:"c",custom:"x"});var u;!function(t){t[t.keepPrevious=1]="keepPrevious",t[t.keepThis=2]="keepThis",t[t.keepAll=3]="keepAll"}(u||(u={}));var l=n(89799),d=n(22680),f=n(21215),h=n(72465),p=n(242),m=n(90631),g=n(58420),v=n(64527),w=n(42122);const y=new Map([["min",t=>t.length?t.reduce(((t,e)=>Math.min(t,e)),1/0):void 0],["max",t=>t.length?t.reduce(((t,e)=>Math.max(t,e)),-1/0):void 0],["first",t=>{for(const e of t)if(null!=e)return e}]]),b={clientrtt:"tcp",origin:"origin",cdntime:"self"},S=/\/\/([^/]+)\/([^?&#]+)/,x=/^assets\.msn\.(com|cn)/i,C=/^(ent-)?api\.msn\.(com|cn)/i,k="service",T="[cdn]/",$="[1s]/",A="[self]/",I=`${A}[root]`,P="[1s-cdn]/",_=(0,s.pn)();function M(t,e,n,r){const o=(0,p.UE)(),s=function(t){const e=new Map,n=t=>function(t,e){const{name:n}=e;let i=t.get(n);i||t.set(n,i=[]);i.push(e)}(e,t);performance.getEntriesByType("navigation").forEach((t=>{n(function(t,e){return{name:t.name,startTime:t.startTime,requestStart:t.requestStart,responseEnd:t.responseEnd,transferSize:t.transferSize,duration:t.duration,serverTiming:t.serverTiming,initiatorType:t.initiatorType,nextHopProtocol:t.nextHopProtocol,...e}}(t,{name:I}))}));const r=(0,i.fJ)(performance.getEntriesByType("resource"),t,"startTime",!0);return r.forEach(n),e}(r),a={networkCounter:new g.K,networkMap:s,filterContext:r},u=function(t,e){const n={name:"experiences",data:{type:c.container}};return t&&t.forEach((t=>{const i=function(t,e){const{filterContext:n,networkMap:i}=e,r=q(t,["min",[["first","scripts","from"],["first","config","from"]]]),o=r?q(t,["max",[["first","scripts","to"],["first","config","to"]]]):void 0,s=r&&o?B(r,o,void 0,n):void 0;let a=G(t,["first","render","to"]);J(a)||(a=G(t,["first","update","to"]),a&&w.k.log(`${t.timelineName} is missing 'render' mark`));const u=a&&q(t,["min",[["first","render","from"],["first","update","from"]]]),d=u?B(u,a,void 0,n):void 0;if(!s&&!d)return;const f={name:t.timelineName,data:{type:c.experience}};L(f,"init",s),L(f,"render",d),s&&d&&L(f,"_self",B(r,a,void 0,n));const h=t.getMeasureValues({coreName:l.JS});h.forEach((t=>{const n=t.customData,r=function(t,e,n){const i=t&&e.get(t);if(!i)return;const r=N(i,(t=>Math.abs(t.startTime-n.from)));if(r>=0){const n=i.splice(r,1)[0];return i.length||e.delete(t),n}}(n&&n.url,i,t);F(E(t)||l.JS,c.service,f,r,t,e)}));const p=t.getMeasureValues({entityMeasures:!0});if(p.length){const t=U(f,{name:"custom",data:{type:c.custom}});p.forEach((e=>{D(t,e,n)}))}return f}(t,e);i&&U(n,i)})),n}(e,a),d=function(t){const e={name:"scripts",data:{type:c.container}},n={name:"services",data:{type:c.container}},i={name:"other",data:{type:c.container}};return(0,f.N)()?function(t,e,n,i){const{networkMap:r}=t;r.forEach((o=>{o.forEach((o=>{const{initiatorType:s,name:a}=o;if("img"===s)return;let u,d,f,h;const p=R(a);if(p&&p.endsWith(".js")){d=p.replace(/(\.[0-9a-f]{20})?\.js$/,"").replace(/bundles\/v1\/\w+\/[\w.]+\//,""),u=e,f=c.script}else if("css"===s||"iframe"===s||"other"===s||"beacon"===s)u=i,f=c.other;else{var m;u=n,f=c.service;const t=null===(m=(0,l.o4)())||void 0===m?void 0:m.getMeasureValues({coreName:a});if(t&&t.length){const{startTime:e}=o;h=t[N(t,(t=>{let{from:n}=t;return Math.abs(n-e)}))],d=E(h)}}let g=d||p;g&&(g=g.toLowerCase(),F(g,f,u,o,h,t),r.delete(a))}))}))}(t,e,n,i):function(t,e,n){var i;const r=null===(i=(0,l.o4)())||void 0===i?void 0:i.getMeasureValues({entityMeasures:!1});r&&r.forEach((i=>{var r;const{coreName:o,from:s,to:a}=i,u=null===(r=R(o))||void 0===r?void 0:r.toLowerCase();if(!u)return;let l,d;o.endsWith(".js")?(l=e,d=c.script):(l=n,d=c.service);F(u,d,l,{startTime:s,duration:a-s},void 0,t)}))}(t,e,n),[e,n,i]}(a),v=function(t){const e={name:"custom",data:{type:c.custom}};(0,h.ee)(t).forEach((n=>D(e,n,t))),(0,h.m8)(t).forEach((t=>{let{name:n,duration:i}=t;return function(t,e,n){W(t,e,n)}(e,n,i)})),(0,h.el)(t).forEach((n=>{let{name:i,time:r}=n;return H(e,i,r,t)}));const n=t===i.d9;if(n){const n=(0,p.Ou)();O(e,m.P9,t,n,m.P9,p.fT),O(e,m.MV,t,n,m.MV,p.EN)}else H(e,m.MV,t.timeFilter.end,t);return e}(r),y={name:"",data:{type:c.container}};L(y,"calc",B(o,(0,p.UE)(),void 0,i.d9));const b={metrics:y.data,...t||{}},S={_meta:b};let x=!1;if([v,u,...d].forEach((t=>{const{data:e}=t;(e.children||e.spans||e.durations||e.scalars||e.instants)&&(S[t.name]=e,x=!0)})),x)return n&&n.length&&(b.pivots=n.map((t=>t.key)),b.pivots64=n.map((t=>t.key64))),S}function R(t){if(t){const e=t.match(S);if(e){let[,t,n]=e;return n=n.toLowerCase(),t.match(x)?n=(n.startsWith(k)?P:T)+n:t.match(C)?n=$+n:t===_.get()&&(n=A+n),n}return t.toLowerCase()}}function E(t){const e=t&&t.customData;if(e){const{requestName:t,url:n,mappedUrl:i}=e;return t||R(i||n)}}function F(t,e,n,i,r,o){const{networkCounter:s,filterContext:a}=o,c=s.qualifyKey(t),u={name:c,data:{type:e}},l=function(t,e){if(!e)return;const{startTime:n,requestStart:i,responseEnd:r,transferSize:o,duration:s,serverTiming:a}=e,c=!!i,u={name:t,hasFullTimings:c,networkDur:s,networkStart:n};if(c){u.connectDur=i-n,u.requestDur=r-i;const t=(0,v.F$)(e);null!=t&&(u.cached=t?1:0,t||(u.transferSize=o))}if(!u.cached&&(t.startsWith(T)||t.startsWith(P))&&a&&a.length){const t=u.cdn={};a.forEach((e=>{let{name:n,duration:i}=e;const r=b[n];r&&(t[r]=i)}))}return u}(c,i);if(l){const{cdn:t,networkStart:e,networkDur:n}=l;L(u,"network",B(e,void 0,n,a))&&(l.hasFullTimings&&(W(u,"connect",l.connectDur),W(u,"request",l.requestDur),z(u,"size",l.transferSize),z(u,"cache",l.cached)),t&&(W(u,"cdnTCP",t.tcp),W(u,"cdnSelf",t.self),W(u,"cdnOrigin",t.origin)))}if(r&&L(u,"app",B(r.from,r.to,void 0,a))){const t=r.customData,{perfCritical:e,error:n}=t||{};e&&z(u,"critical",1),n&&z(u,"error",1)}u.data.spans&&U(n,u)}function D(t,e,n){const i=B(e.from,e.to,void 0,n);if(i){L(t,e.coreName+e.idSuffix,i)}}function O(t,e,n,i,r,o){H(t,e,i[(0,f.N)()?r:o],n)}function N(t,e){const n=t&&t.length||0;if(n<=1)return n-1;let i=1/0,r=0;return t.length>1&&t.forEach(((t,n)=>{const o=e(t);o<i&&(i=o,r=n)})),r}function U(t,e){return j(t,"children",e.name,e.data),e}function L(t,e,n){return n?j(t,"spans",e,n):void 0}function B(t,e,n,i){let{spanMapperFn:r}=i;return r(t,e,n)}function W(t,e,n){return V(t,e,n,"durations")}function H(t,e,n,i){let{timeFilterFn:r,timeMapperFn:o}=i;if(r(n))return V(t,e,o(n),"instants")}function z(t,e,n){return V(t,e,n,"scalars")}function V(t,e,n,r){if(J(n)){return j(t,r,e,(0,i.NM)(n))}}function j(t,e,n,i){return(t.data[e]||(t.data[e]={}))[n]=i,i}function q(t,e){const[n,i]=e,r=[];for(const e of i){const n=G(t,e);null!=n&&r.push(n)}const o=y.get(n),s=o&&o(r);return J(s)?s:void 0}function G(t,e){const[n,i,r]=e,o=t.getMeasureValues({coreName:i});if(o&&o.length){const e=y.get(n);if(e){const n=function(t,e,n){return t.getMeasureValues({coreName:e}).map((t=>t[n])).filter((t=>null!=t))}(t,i,r),o=e(n);if(J(o))return o}}}function J(t){return null!=t&&!isNaN(t)}_.set((0,d.zw)());var K=n(98968),Q=n(33779),X=n(73898),Y=n(37039),Z=n(84381);const tt=6e4,et=(0,s.U1)(),nt=(0,s.pn)(),it=(0,s.U1)(),rt=(0,s.U1)(),ot=(0,s.pn)(),st=(0,s.pn)(),at=()=>{},ct=(0,s.oN)(),ut=(0,s.oN)(),lt=(0,s.oN)();function dt(t,e,n,i,r){if([ct,ut,lt,nt,et,st,ot].forEach((t=>t.unset())),rt.set(i||X.Z),it.set(r||X.Z),!i||!r||!e)return;const{bundleInfo:s,pcsInfo:a}=e.ClientSettings||{};st.set({buildAlias:s&&s.alias,env:a&&a.env});const{pivotsFinalized:c}=(0,o.MB)(t,e,n),u=!t&&(0,Z.g)(),l=t&&(0,o._P)();ot.set(!0),l&&c.then((()=>{(0,o._P)()||pt()})),(u||l)&&(nt.set(!0),et.set(mt({props:{},dedupeBehavior:2,startTime:0,getMatches:()=>l?(0,o.aM)():[]})))}function ft(t,e,n){if(ot.get())return n=n||(0,o.aM)(),M(st.get(),t,n,e)}function ht(t){if(pt()&&t){vt(t,Object.values(Y.j.get()),(0,i.At)())}}function pt(){if(et.get())return et.call(!0),nt.unset(),et.unset(),!0}function mt(t){0===ct.size&&(!nt.get()&&performance.clearResourceTimings(),rt.call());const{props:e,dedupeBehavior:n,groupId:o,traceId:s}=t,c=(0,K.s)(e)+`|${s||""}|${o||""}`,u=ct.get(c);if(u&&u.size)if(n&&2!==n){if(1===n)return at}else{const t=o&&lt.get(o);t&&t.size&&u.forEach((e=>t.delete(e)));const e=s&&ut.get(s);e&&e.size&&u.forEach((t=>e.delete(t))),u.clear()}let l;return l=e=>{const n=ct.get(c);if(n&&n.delete(l)){const u=s&&ut.get(s);u&&u.delete(l);const d=o&&lt.get(o);d&&(e?d.delete(l):(d.forEach((t=>t!==l&&t(!0))),d.clear())),n.size||!ct.delete(c)||ct.size||it.call(),e||function(t){const e=(0,i.At)({start:t.startTime,end:performance.now()}),{spanFilterFn:n}=e,o=Object.values(Y.j.get()).filter((t=>{const{timeSpan:e}=t;return e&&n(e[0],void 0,e[1])})),s={},c=t.getMatches();if(!vt(s,o,e,c))return;try{r.M0.sendLoadTimeEvent({markers:s})}catch(t){(0,Q.H)(a.GrI,"Failed to upload entity-metrics for manual trace",`Matches: ${c.map((t=>t.key)).join("|")}`)}}(t)}},gt(ct.getObj(),c,l),gt(ut.getObj(),s,l),gt(lt.getObj(),o,l),setTimeout((()=>l(!0)),t.stopTimeout||tt),l}function gt(t,e,n){if(e){let i=t.get(e);!i&&t.set(e,i=new Set),void 0!==n&&i.add(n)}}function vt(t,e,n,i){if(t&&ot.get()){const r=ft(e,n,i);if(r)return t.entityMetrics=r,!0}}},21492:function(t,e,n){n.d(e,{aM:function(){return $},_P:function(){return T},MB:function(){return k},nm:function(){return I},Pj:function(){return P}});var i=n(32236),r=n(67244),o=n(22170),s=n(21215),a=n(64527);const c=/^winp(\d)/i;function u(t){if(!(0,s.N)())return;const{referrer:e}=document;if(e){if(e===location.href)return"self";const t=function(t){try{return new URL(t)}catch{return}}(e);if(t){const{host:e,pathname:n}=t,{host:i,pathname:r}=window.location;let o,s;if(s=e.match(/^([a-z]+)\.msn\.(com|cn)$/)){const[,t]=s;if("ntp"===t)return"edge-hp";if("www"===t){let t;if(!n||"/"===n)return"msn-hp";if(t=n.match(/^\/[a-z]{2}-[a-z]{2}(\/feed)?\/?$/i))return t[1]?"win-hp":"msn-hp";if(n.match(/\/(ar|ss|vi)-[A-Za-z0-9]+$/))return"msn-views"}return e===i&&l(n)===l(r)?"same-seg1-seg2":"msn-other"}if(o=e.match(/\.(bing|google|yahoo)\.com$/))return"search-engine"}}else{const{ocid:e}=t;let n;if(e&&(n=e.match(c)))return`prong-${n[1]}`}return"unknown"}function l(t){const e=t&&t.match(/^\/([^/]+(\/[^/]+)?)?/);return e&&e[0]}var d=n(98968),f=n(5302),h=n(242),p=n(33779),m=n(84381);const g=(0,o.oN)(),v=(0,o.oN)(),w=(0,o.oN)(),y=(0,o.sR)(),b=null,S=(0,o.pn)(),x=(0,o.U1)(),C=(0,o.WG)((()=>new Promise((t=>x.set(t)))));function k(t,e,n){const{pivots:o,manualPivots:s}=t||{},l={pivotsFinalized:C.get()};if(!(t&&(o&&o.length||s&&s.length)&&e&&n))return l;const d=(0,h.A1)()||{},f=function(t){if(t){const{cpu:e}=t;if(e>=1&&e<=4)return"1-4";if(e>=6&&e<=8)return"6-8";if(e>=10)return"10+"}}(d),p=(0,i.p)((()=>u(n))),g=(0,i.p)((()=>function(t){const{ocid:e}=t;return e&&("windirect"===e||e.match(c))?"winfeed":"default"}(n))),v=(0,i.p)((()=>function(){let t,e=0,n=0;const i=/\/(vendors|microsoft|experience|common)\./,r=performance.getEntriesByType("resource");for(const o of r)if("script"===o.initiatorType&&(t=o.name.match(i))&&((0,a.F$)(o)?e++:n++,e+n>=4))break;return 4===e?"warm":4===n?"cold":n+e===4?"partial":void 0}()));D("audienceMode",(t=>(0,r.Uc)({audienceMode:t},n))),D("browser",(t=>(0,r.K4)({browser:t},n))),D("deviceFormFactor",(t=>(0,r.Ev)({deviceFormFactor:t},n))),D("displayLocale",(t=>(0,r.fb)({locale:t},n,!0))),D("domain",(t=>(0,r.hI)({domain:t},n))),D("experimentId",(t=>(0,r.W9)({experimentId:t},n))),D("locale",(t=>(0,r.fb)({locale:t},n,!1))),D("ocid",(t=>(0,r.K3)({ocid:t},n))),D("os",(t=>(0,r.zu)({os:t},n))),D("platform",(t=>(0,r.jF)({platform:t},n))),D("referrer",(t=>t===p())),D("ocidGroup",(t=>t===g())),D("network",(t=>t===d.networkSpeed)),D("cpu",(t=>t===d.cpu)),D("cpuGroup",(t=>t===f)),D("memory",(t=>t===d.memory)),D("coreJSCache",(t=>t===v()));const{pcsInfo:w,bundleInfo:y}=e.ClientSettings;return D("env",(t=>(0,r.Sh)(t,w&&w.env))),D("buildAlias",(t=>(0,r.Sh)(t,y&&y.alias))),F("pageType",((t,e)=>(0,r.oM)({pageType:e},{pageType:t}))),F("pageProduct",r.Sh),F("pageName",r.Sh),P("preRender",!!e.IsPrerender),S.set(function(t){const e=[],n=[],{pivots:i,manualPivots:r,_sampleRate:o}=t,s=(t,e)=>{t&&t.forEach((t=>{t&&(0,m.g)(t._sampleRate||o)&&e(t)}))},a=t=>{for(const{key:e,matcher:n}of R(t))n||O(e)};return s(i,(t=>{a(t);const n={config:t},i=A(n);(i||i===b)&&e.push(n)})),s(r,(t=>{a(t),n.push(t)})),{defaultPivots:e,manualPivotConfigs:n}}(t)),M(),l}function T(){var t;return!(null===(t=S.get())||void 0===t||!t.defaultPivots.some((t=>t.success||t.success===b)))}function $(){const t=S.get();if(!t)return[];const e=[];for(const n of t.defaultPivots)A(n)&&e.push(E(n.config));return y.size&&(0,p.H)(f.WXX,"Missing pivot field values",[...y.getObj()].toString()),e}function A(t){let{success:e}=t;if(null!=e)return e;e=!0;for(const{key:n,value:i,matcher:r}of R(t.config)){const t=r&&r.matchFn(i);if(t===b)e=b,y.add(n);else if(!t){e=!1;break}}return t.success=e}function I(t,e){w.set(t,e),_(t)}function P(t,e){null!=e&&(v.set(t,e),_(t))}function _(t){S.get()&&y.delete(t)&&M()}function M(){const t=S.get();if(t&&y.size<=0){for(const e of t.defaultPivots)A(e);x.call()}}function*R(t){for(const e in t)if((0,d.L)(e)){const n=g.get(e);yield{key:e,value:t[e],matcher:n}}}function E(t){const e=(0,d.s)(t);return{key:e,key64:btoa(e)}}function F(t,e){D(t,(n=>{const i=w.get(t);return i==b?b:e(i,n)}))}function D(t,e){N(t,(()=>e))}function O(t){N(t,(()=>function(t){return e=>{const n=v.get(t);return n==b?b:n===e}}(t)))}function N(t,e){g.get(t)||g.set(t,{matchFn:e()})}},89799:function(t,e,n){n.d(e,{JS:function(){return c},Ud:function(){return f},ny:function(){return a},o4:function(){return s},xb:function(){return d}});var i=n(22170),r=n(21215);const o=(0,i.pn)(),s=o.get;function a(t){o.set(t)}const c="service",u=p().fetch;let l=u;function d(t){Object.defineProperty(p(),"fetch",{value:t?function(){return f()(...arguments)}:u})}function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{perfTimeline:e=s()}=t,n=t.fetchImpl||l;return e?h.bind(h,e,n):n}async function h(t,e,n,i){const r=(n.url||n).toString(),o={url:r};if(i){o.requestName=i.requestName,o.perfCritical=i.perfCritical,delete i.requestName,delete i.perfCritical;const{urlMapper:t}=i;t&&(o.mappedUrl=t(r),delete i.urlMapper)}const a=t===s()?r:c,u=t&&t.startMeasure(a).endMeasure;let l;try{const t=await e(n,i);return l=!t||!t.ok,t}catch(t){throw l=!0,t}finally{l&&(o.error=!0),u&&u({customData:o})}}function p(){return(0,r.N)()?window:globalThis}},98968:function(t,e,n){n.d(e,{L:function(){return o},s:function(){return r}});var i=n(42122);function r(t){const e=[];return t&&s(t,e),e.join(",")}function o(t){return t&&!t.startsWith("_")}function s(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=Object.keys(t).filter(o).sort();for(const o of r){const r=t[o];if(null==r)continue;const a=`${n}${n?".":""}${o}`;if("object"==typeof r)s(r,e,a);else{if(!(e.length<100)){i.k.logError("getSortedObjectKeyValuesDeep: circular reference suspect");break}e.push(`${a}=${r.toString().toLowerCase()}`)}}}},4620:function(t,e,n){n.d(e,{At:function(){return f},NM:function(){return h},d9:function(){return a},fJ:function(){return u}});var i=n(51727),r=n(37641);const o=(t,e)=>n=>n>=t&&n<=e,s={start:-1/0,end:1/0},a={timeFilter:s,spanFilterFn:()=>!0,spanMapperFn:(t,e,n)=>l(t,e,n),timeMapperFn:t=>t,timeFilterFn:()=>!0},c={timeFilter:{start:1/0,end:-1/0},spanFilterFn:()=>!1,spanMapperFn:()=>{},timeMapperFn:()=>{},timeFilterFn:()=>!1};function u(t,e,n,a){let{timeFilter:c}=e;if(t&&n&&c!==s){const{start:e,end:s}=c;if(a){const o=(0,i.Z)(t,{[n]:e},n),a=(0,r.Z)(t,{[n]:s},n);t=t.slice(o,a)}else{const i=o(e,s);t=t.filter((t=>i(t[n])))}}return t}function l(t,e,n,i){if(null!=t&&(null!=e&&(n=e-t),null!=n&&n>=0)){if(i&&null==(t=i(t)))return;return[h(t),h(n)]}}function d(t,e){return(n,i,r)=>{if(t(n,i,r))return l(n,i,r,e)}}function f(t){if(!t)return a;const{start:e,end:n}=t;if(null==e||null==n||e>n)return c;const i=o(e,n),r=t=>h(t-e),s=function(t){const{start:e,end:n}=t;return(t,i,r)=>{if(null==t)return!1;let o;if(null!=i)o=i;else{if(null==r)return!1;o=t+r}return!(o<t)&&t<=n&&o>=e}}(t);return{timeFilter:t,spanFilterFn:s,spanMapperFn:d(s,r),timeMapperFn:r,timeFilterFn:t=>i(t)}}const h=t=>t<5?Math.round(10*t)/10:Math.round(t)},8887:function(t,e,n){n.d(e,{N:function(){return a}});var i=n(5302),r=n(33779),o=n(44132),s=n(21215);class a{constructor(t,e,n,i){this.chromiumApiRetryCount=5,this.isNtpPrivateApiAvailable=t=>window&&window.chrome&&window.chrome.ntpSettingsPrivate&&"function"==typeof window.chrome.ntpSettingsPrivate[t],this.prefSettingKey=t,this.searchForKeyName=e,this.targetKeyName=n,this.defaultItem=i}async getPreferenceSetting(t,e){try{const n=await this.getPreferenceSettingValueArray(e),i=n.findIndex((e=>e[this.searchForKeyName]===t));return i>-1?n[i]:null}catch(e){const n=`Failed to find user preference key: ${t}`;return this.logAppError(i.Aps,n,e),null}}async savePreferenceSetting(t,e){try{const n=await this.getPreferenceSettingValueArray()||[],i=n.findIndex((e=>e[this.searchForKeyName]===t));if(i>-1){const t={...n[i],...e};n[i]=t}else{const i={...this.defaultItem,...e};i[this.searchForKeyName]=t,n.push(i)}return this.setAndSavePreferenceSetting(n)}catch(e){const n="Failed to store user preference setting";return this.logAppError(i.nS9,n,`Key:${t}.Error:${e}`),!1}}isApiAvailableToUse(){return new Promise((t=>{const e="Error in isApiAvailableToUse";try{this.isGoodToUseNtpSettingsPrivate("getAllPrefs")?void 0===this.isPrefSettingKeyAvailable?window.chrome.ntpSettingsPrivate.getAllPrefs((n=>{if(this.isPrefSettingKeyAvailable=n&&n.findIndex((t=>t.key===this.prefSettingKey))>-1,!this.isPrefSettingKeyAvailable){let t="";try{n&&n.forEach((e=>t+=`${e.key}+`))}catch(t){this.logAppError(i.Aps,"Error: Can not log keylist from preference setting",t)}this.logAppError(i.me0,e,`missing preference key: ${this.prefSettingKey}, available keys: ${t}`)}t(this.isPrefSettingKeyAvailable)})):t(this.isPrefSettingKeyAvailable):(this.logAppError(i.MFQ,e,"getAllPrefs not present"),t(!1))}catch(e){this.logAppError(i.MFQ,"Error: Unexpected throw in isApiAvailableToUse",e),t(!1)}}))}logAppError(t,e,n){null===o.M0||void 0===o.M0||o.M0.sendAppErrorEvent({...t,message:e,pb:{...t.pb,customMessage:n,stack:Error().stack}})}async getPreferenceSettingValueArray(t){try{if(this.settingValuesArray&&!t)return this.settingValuesArray;{const t=await this.getPreferenceValueFromBrowser();return this.settingValuesArray=t||[],this.settingValuesArray}}catch(t){const e=`Failed to read ${this.prefSettingKey} preference setting`;return this.logAppError(i.k8J,e,t),[]}}setAndSavePreferenceSetting(t){if(!(0,s.N)())return!1;try{if(this.isGoodToUseNtpSettingsPrivate("setPref"))return this.settingValuesArray=t,window.chrome.ntpSettingsPrivate.setPref(this.prefSettingKey,this.settingValuesArray,c),!0;{const t="window.chrome.ntpSettingsPrivate.setPref does not exist.";return this.logAppError(i.T5b,t,`Key:${this.prefSettingKey}`),!1}}catch(t){return!1}}isGoodToUseNtpSettingsPrivate(t){let e=this.isNtpPrivateApiAvailable(t),n=0;for(;n<this.chromiumApiRetryCount&&!e;)n++,setTimeout((()=>{e=this.isNtpPrivateApiAvailable(t),e&&(0,r.H)(i.$9$,`Chromium API retry succeed after ${n} retry`)}),50);if(!e){const e=`functionName: ${t},\n            canUseDOM: ${(0,s.N)()},\n            windows: ${window},\n            document: ${window&&window.document},\n            createElement: ${window&&window.document&&window.document.createElement},\n            chrome: ${window&&window.chrome},\n            ntpSettingsPrivate: ${window&&window.chrome&&window.chrome.ntpSettingsPrivate},\n            ntpSettingsPrivate funtions: ${window&&window.chrome&&window.chrome.ntpSettingsPrivate&&Object.getOwnPropertyNames(window.chrome.ntpSettingsPrivate).toString()}\n            `;(0,r.H)(i.Fe_,"Failed to get funtion from window.chrome.ntpSettingsPrivate.",void 0,{...i.Fe_.pb,customMessage:e,stack:Error().stack})}return e}getPreferenceValueFromBrowser(){return new Promise(((t,e)=>{if(this.isGoodToUseNtpSettingsPrivate("getPref"))window.chrome.ntpSettingsPrivate.getPref(this.prefSettingKey,(function(e){e&&e.value?t(e.value):t(null)}));else{const t="window.chrome.ntpSettingsPrivate.getPref does not exist.";this.logAppError(i.pCD,t,""),e(t)}}))}}let c=t=>{}},69931:function(t,e,n){n.d(e,{m:function(){return h}});var i=n(13218),r=n(21298),o=n(3637),s=n(34254),a=n(17813),c=n(33779),u=n(5302);const l=[];function d(){const t=i.Al&&i.Al.Diagnostics||{};return t&&(0,r.fB)(JSON.stringify(t))}function f(){const t=f;return new Promise((e=>{void 0!==t.cache&&e(t.cache);const n=i=>{i>3&&(t.cache=null,e(null));const r=document.getElementById("ntp-diagnostics");r&&r.innerText?(t.cache=r,e(r)):(i++,setTimeout((()=>n(++i)),3e3))};n(0)}))}async function h(t,e,n,i){try{(t||e)&&l.push({id:t,debug:e}),await Promise.all([(0,s.F_)(),(0,a.lr)()]);const r=await f();if(r&&r.innerText){const t=JSON.parse(r.innerText);Object.assign(t,{traceInfo:l}),Object.assign(t,{prgDiagnostics:d()}),Object.assign(t,{authTrail:n}),Object.assign(t,{countryConfidenceFactor:(0,o.q)()}),i&&Object.assign(t,{ocvSource:i}),r.innerText=JSON.stringify(t)}}catch(t){(0,c.OO)(t,u.vxy,"Error throwed during update idxid into diagnostic element")}}},26156:function(t,e,n){n.d(e,{Kr:function(){return M},RV:function(){return F},Zb:function(){return O},zx:function(){return S},IS:function(){return x},He:function(){return N},P:function(){return $},rc:function(){return z},aA:function(){return B},_P:function(){return V},ZR:function(){return H},hp:function(){return U},UU:function(){return I},H1:function(){return E},a:function(){return C},i9:function(){return J},Qw:function(){return _},fw:function(){return j},gk:function(){return L},Wb:function(){return y},Nd:function(){return R},VS:function(){return k},OM:function(){return T},I9:function(){return A},D7:function(){return G},SA:function(){return q},nz:function(){return D}});var i=n(28951),r=n(42833),o=n(55447),s=n(77137),a=n(33779),c=n(5302),u=n(242),l=n(52185),d=n(21215),f=n(95603),h=n(13218),p=n(15598),m=n(44132);function g(t){if("undefined"==typeof window||!window.document||window.isRenderServiceEnv)return void(0,a.OO)(new Error("DOM is not available"),c.$oH,"DOM is not available to use trusted types API.");const e=window.trustedTypes;if(!e)return void(0,a.OO)(new Error("Trusted types API is not available"),c.yJi,"Trusted types API is not available to use.");if(!e.createPolicy)return void(0,a.OO)(new Error("Trusted types API createPolicy function is not available"),c.Bis,"Trusted types API createPolicy function is not available to use.");const n=window.trustedTypePolicies||(window.trustedTypePolicies={});if(n[t])return n[t];const i=e.createPolicy(t,{createScriptURL:t=>{const e=function(t){const e=["ntp.msn.com","ntp.msn.cn","assets.msn.cn","assets.msn.com","www.bing.com","assets2.msn.com","assets2.msn.cn","int.msn.com","r.bing.com","business.bing.com","staticview.msn.com","staticview.msn.cn",document.location.hostname],n=["clarity.ms"];let i;try{i=new URL(t,location.origin)}catch(e){return(0,a.OO)(new Error("Failed to construct URL"),c.OC2,"URL is invalid",`Invalid URL: ${t}`),"about:blank#error"}if(i.hostname){const t=e.includes(i.hostname),r=n.some((t=>i.hostname.endsWith(`.${t}`)));if(!t&&!r)return(0,a.OO)(new Error("URL violates Trusted Types"),c.w5E,"URL hostname is not allowed",`Invalid URL hostname: ${i.hostname}`),"about:blank#error"}return t}(t);return e}});return n[t]=i,i}n(98675);var v=n(22624),w=n(16495);const y="isCoordsCacheInvalid";const b="__cachedClientFeaturesKey__";async function S(){var t;const e=x();if(e)return e;const n=(null===(t=h.Al.EdgeNTPHeader)||void 0===t?void 0:t.enabledFeatures)||[],i=window.chrome;let r={enabled:n,disabled:[]};if(i){const t=i.ntpSettingsPrivate;if(t&&"function"==typeof t.getConfigData){const e=await new Promise((e=>t.getConfigData(e)));r={enabled:(null==e?void 0:e.enabledFeatures)||[],disabled:(null==e?void 0:e.disabledFeatures)||[]}}}return l.Gq.set(b,r),r}function x(){return l.Gq.get(b)}async function C(){const{enabled:t}=await S();return null==t?void 0:t.filter((t=>t.includes("msNtpExp")))}async function k(){const{enabled:t}=await S();return null==t?void 0:t.includes("msReducedNtpAdsForNewDevice_BlockAllAds")}async function T(){const{enabled:t}=await S();return null==t?void 0:t.includes("msReducedNtpAdsForNewDevice_BlockOnly3PAds")}async function $(){const{enabled:t}=await S(),e=null==t?void 0:t.filter((t=>t.startsWith("msNtpReducedAdsSdCards")));return e&&e.length>0?e[0]:null}function A(){var t;if("1"===new URLSearchParams(null===(t=window)||void 0===t||null===(t=t.location)||void 0===t?void 0:t.search).get("lowend"))return!0;if(window&&window.deviceMemory)return window.deviceMemory<=4;const e=window&&window.navigator;if(!e)return!1;const{deviceMemory:n=-1}=e;return n<=4}function I(){let t=!1;const e="os-sku";if(!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv))try{if(window&&window.external&&window.external.getHostEnvironmentValue(e)){const n=JSON.parse(window.external.getHostEnvironmentValue(e));t=n&&"192"===n[e]}}catch(t){}return t}async function P(){const t=await w.U.getPreferenceSetting(f.Xm.layoutHistory,!0);return t&&t.value}async function _(){const t=await w.U.getPreferenceSetting(f.Xm.wpo),e=t&&t.value,n=e&&e.recommendedLayoutRetargetHistory&&e.recommendedLayoutRetargetHistory.length;return n?n+"":"0"}function M(){const t=(0,p.$o)().getObject("AdminPortalSettings");if(!t)return!1;const{isOfficeContentEnabled:e,isShowCompanyAndIndustry:n}=t;return!e&&!n}async function R(){const{enabled:t}=await S();return!(null==t||!t.length)&&t.includes("msNtpExpBlockLayoutPromotions")}async function E(t){try{var e,n;const i=await P();let r=i&&i.wpoLayoutHistory,o=i&&i.userLayoutHistory;const s={};return r||(r=await async function(t){const e=await w.U.getPreferenceSetting(f.Xm.wpo),n=e&&e.value,i=n&&n.layoutHistory;if(i&&i.length){const e=t?i[i.length-1]:i[0];return{time:e.time,changeKey:"layout",from:f.Uq[e.from],to:f.Uq[e.to]}}return null}(t)),t||o||(o=await async function(){const t=await v.L.getPreferenceSetting(f.nc.layout_mode,!0),e=t&&t;return e?{time:e.timestamp,changeKey:"layout",from:8,to:e.value}:null}()),null!==(e=r)&&void 0!==e&&e.time&&(s.promotion=`${r.time}_${"layout"==r.changeKey?"l":"f"}_${r.from}_${r.to}`),null!==(n=o)&&void 0!==n&&n.time&&(s.selection=`${o.time}_${"layout"==o.changeKey?"l":"f"}_${o.from}_${o.to}`),s}catch(t){return{}}}async function F(){}function D(t,e){const n=g(e);return n?n.createScriptURL(t):((0,a.OO)(new Error("Trusted Types policy creation error"),c.qS2,"Trusted Types policy creation failed, Trusted Types API is unavailable."),t)}async function O(){var t;const e=await w.U.getPreferenceSetting("background_setting_preferences",!0);return null==e||null===(t=e.value)||void 0===t?void 0:t.backgroundSelectionMetadata}async function N(){const t=window&&window.chrome&&window.chrome.ntpSettingsPrivate;if(t&&t.getPref)return new Promise((e=>{t.getPref("ntp.background_image",(function(t){e(null==t?void 0:t.value)}))}))}(0,d.N)()&&"visible"===document.visibilityState&&async function(){var t;const e=null===(t=window)||void 0===t||null===(t=t.chrome)||void 0===t||null===(t=t.embeddedSearch)||void 0===t||null===(t=t.newTabPage)||void 0===t?void 0:t.getTabTimings;if(!e)return;const n=(0,u.Ou)();e(((t,e)=>{t&&e&&void 0!==e.tabStartToNavigationStart&&(n.tabStartToNavigationStart=Math.round(e.tabStartToNavigationStart))}))}();async function U(t){let e;var n;if((h.Al.EdgeNTPHeader||await v.L.isApiAvailableToUse())&&(e=null===(n=h.Al.EdgeNTPHeader)||void 0===n||null===(n=n.freSeenCount)||void 0===n?void 0:n.toString(),!e)){const t=await v.L.getPreferenceSetting(f.nc.seen_interest_fre_count,!0);e=t&&t.value?t.value.toString():"0"}const r=await B(),o=await async function(){const{enabled:t}=await S();return null==t?void 0:t.includes("msNtpExpDisableFre")}(),s=r&&Date.now()-r<864e5,u=i.cX.getQueryParameterByName("firstlaunch",window.location.href),l=!e||!isNaN(parseInt(e))&&parseInt(e)<3;t||"1"===u||s||o?e="10":L()&&l&&((0,a.H)(c.tyW,"FRE overlay is disabled because of auth refresh",`{"seenCountToSend": ${e}}`),e="20");const d=i.cX.getQueryParameterByName("overlay",window.location.href);return d&&(e=d),e}function L(){var t;const e=l.Gq.get("authRefreshing"),n=null===(t=m.M0.getPageMetadata())||void 0===t||null===(t=t.contract)||void 0===t||null===(t=t.page)||void 0===t?void 0:t.isAutoRefresh;return!(!e&&!n)&&(m.M0.addOrUpdateTmplProperty("isauthrefreshing","1"),!0)}async function B(){return await W()||await z()}async function W(){var t;if(null===(t=window)||void 0===t||null===(t=t.chrome)||void 0===t||null===(t=t.ntpSettingsPrivate)||void 0===t||!t.getConfigData)return;const e=new r.o;return window.chrome.ntpSettingsPrivate.getConfigData((t=>{e.set((null==t?void 0:t.newProfileFreSeenTime)||null)})),e.getResultAsync()}async function H(){var t,e;return null!==(t=h.Al.EdgeNTPHeader)&&void 0!==t&&t.newProfFreTime?null===(e=h.Al.EdgeNTPHeader)||void 0===e?void 0:e.newProfFreTime:await W()}async function z(){var t,e,n,i,o,s;if(null!==(t=h.Al.EdgeNTPHeader)&&void 0!==t&&t.seenNewDevFre&&null!==(e=h.Al.EdgeNTPHeader)&&void 0!==e&&e.newDevFreTime)return null===(s=h.Al.EdgeNTPHeader)||void 0===s?void 0:s.newDevFreTime;if(null===(n=window)||void 0===n||null===(n=n.chrome)||void 0===n||null===(n=n.ntpSettingsPrivate)||void 0===n||!n.getPref||null===(i=window)||void 0===i||null===(i=i.chrome)||void 0===i||null===(i=i.ntpSettingsPrivate)||void 0===i||!i.getConfigData)return;const a=new r.o;return null===(o=window)||void 0===o||null===(o=o.chrome)||void 0===o||null===(o=o.ntpSettingsPrivate)||void 0===o||o.getPref(f._9.hasUserSeenNewFre,(t=>a.set(null==t?void 0:t.value))),a.getResultAsync().then((t=>{if(!t)return null;const e=new r.o;return window.chrome.ntpSettingsPrivate.getConfigData((t=>{e.set((null==t?void 0:t.newDeviceFreSeenTime)||null)})),e.getResultAsync()}))}async function V(){var t;if(null===(t=window)||void 0===t||null===(t=t.chrome)||void 0===t||null===(t=t.ntpSettingsPrivate)||void 0===t||!t.getConfigData)return;const e=new r.o;return window.chrome.ntpSettingsPrivate.getConfigData((t=>{e.set((null==t?void 0:t.profileCreationTime)||null)})),e.getResultAsync()}async function j(){return new Promise((t=>{var e;const n=null===(e=window)||void 0===e||null===(e=e.chrome)||void 0===e?void 0:e.ntpSettingsPrivate;n?n.getPref(f._9.widgetsRegion,(function(e){t(!1!==(null==e?void 0:e.value))})):t(!1)}))}const q=(t,e)=>{var n;if(null!==(n=window.chrome)&&void 0!==n&&null!==(n=n.ntpSettingsPrivate)&&void 0!==n&&n.launchEdgeFeedback){const n=new CustomEvent("EdgeFeedbackDialogOpened");document.dispatchEvent(n);const i=(0,o.NJ)();if(i){const n=new URL(window.location.href),r=n.hash;n.hash=t||`${e}${i}`,history.replaceState(history.state,void 0,n),window.location.reload(),window.chrome.ntpSettingsPrivate.launchEdgeFeedback(),window.stop(),n.hash=r||"",history.replaceState(history.state,void 0,n)}else window.chrome.ntpSettingsPrivate.launchEdgeFeedback()}},G=t=>window&&window.chrome&&window.chrome.ntpSettingsPrivate&&"function"==typeof window.chrome.ntpSettingsPrivate[t];function J(){const t=navigator.deviceMemory<=4,e=!1;if(h.Al.CurrentFlightSet.has("ntp-swsr-ledvc")&&t)return{enableNTPLowEndStaticRoutes:!0,enableStaticAdsRouting:e};if(h.Al.CurrentFlightSet.has("ntp-swsr-alldc")){if(t)return{enableNTPLowEndStaticRoutes:!0,enableStaticAdsRouting:e};if("ru-ru"!==s.jG.CurrentMarket)return{enableNTPStaticRoutes:!0,enableStaticAdsRouting:e}}}},1713:function(t,e,n){n.d(e,{RN:function(){return a},e2:function(){return s},oc:function(){return c}});var i=n(95603),r=n(16495);const o=async()=>{let t,e={v:"2"};var n,o;await r.U.isApiAvailableToUse()&&(t=null===(n=await r.U.getPreferenceSetting(i.Xm.wpo_nx))||void 0===n?void 0:n.value,t&&(e="2"===(null===(o=t)||void 0===o?void 0:o.v)?t:{lyp:t,v:"2"}));return e},s=async()=>{const t=await o();if(t){return t.wgt}},a=async t=>{if(await r.U.isApiAvailableToUse()){const e=await o(),n={lyp:null==e?void 0:e.lyp,wgt:t,cpt:null==e?void 0:e.cpt,fdc:null==e?void 0:e.fdc,v:"2"};r.U.savePreferenceSetting(i.Xm.wpo_nx,n)}},c=async()=>{const t=await o();if(t){return t.cpt}return!1}},8170:function(t,e,n){n.d(e,{MN:function(){return a},j0:function(){return i}});var i,r,o,s=n(21215);!function(t){t.NTP_TOP_SITES_CLICK="NTP_TopSites_Click"}(i||(i={})),function(t){t.FunctionalNotification="ntp_profile_scope_tab_functional_notification",t.FeatureCampaign="ntp_profile_scope_tab_feature_campaign",t.PureFunctionalNotification="ntp_profile_scope_tab_pure_functional_notification"}(r||(r={})),function(t){t.PrimaryCTAClicked="PrimaryCTA_Clicked",t.DismissedCTA_Clicked="DismissedCTA_Clicked",t.Notification_Ignored="Notification_Ignored"}(o||(o={}));class a{static isEdgeNurturingAvailable(){var t;return(0,s.N)()&&(null===(t=window.chrome)||void 0===t?void 0:t.edgeNurturingPrivate)}static async getToken(t,e){return new Promise((n=>{var i;(0,s.N)()?"function"==typeof(null===(i=window.chrome)||void 0===i||null===(i=i.edgeNurturingPrivate)||void 0===i?void 0:i.GetToken)?window.chrome.edgeNurturingPrivate.GetToken(t,e,"NTP",(t=>{n(t)})):n({Message:"window.chrome.edgeNurturingPrivate.GetToken API Unavailable"}):n({Message:"Cannot use DOM"})}))}static updateCTA(t,e){var n;(0,s.N)()&&"function"==typeof(null===(n=window.chrome)||void 0===n||null===(n=n.edgeNurturingPrivate)||void 0===n?void 0:n.UpdateCTA)&&window.chrome.edgeNurturingPrivate.UpdateCTA(t,e)}static notifyTriggerEvent(t){return new Promise((e=>{var n;(0,s.N)()&&"function"==typeof(null===(n=window.chrome)||void 0===n||null===(n=n.edgeNurturingPrivate)||void 0===n?void 0:n.NotifyTriggerEvent)&&window.chrome.edgeNurturingPrivate.NotifyTriggerEvent(t,(t=>{e(t)}))}))}}},10545:function(t,e,n){var i;function r(t,e){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:performance.now();const r=null===(n=window)||void 0===n||null===(n=n.chrome)||void 0===n||null===(n=n.embeddedSearch)||void 0===n?void 0:n.newTabPage;r&&(r.logEventWithTimestamp?r.logEventWithTimestamp(t,i,e):r.logEvent(t))}n.d(e,{f:function(){return r}}),function(t){t[t.NTP_ALL_TILES_LOADED=11]="NTP_ALL_TILES_LOADED",t[t.NTP_BACKGROUND_IMAGE_LOADED=60]="NTP_BACKGROUND_IMAGE_LOADED",t[t.NTP_VISUALLY_READY=62]="NTP_VISUALLY_READY",t[t.NTP_SEARCH_BOX_VISUALLY_READY=63]="NTP_SEARCH_BOX_VISUALLY_READY",t[t.NTP_NATIVE_AD_VISUALLY_READY=64]="NTP_NATIVE_AD_VISUALLY_READY"}(i||(i={}))},12286:function(t,e,n){n.d(e,{S:function(){return l}});var i=n(44132),r=n(16495),o=n(95603),s=n(5302),a=n(52185),c=n(81489);class u{constructor(t){this.userNurturingManager=t}static getInstance(){return a.Gq.get("__LocalCoachmarkStorageManager__",(()=>new u(r.H.getInstance())))}async getAllLocalCoachmarkCampaignsByKey(t){if(!await this.userNurturingManager.isApiAvailableToUse())return this.sendClientLogEvent(`User's preference for local campaign ${t} could not be fetched.`),this.buildKeyErrorResponse();const e=await this.userNurturingManager.getPreferenceSetting(t);return e&&e.value}async getLocalCoachmarkCampaignByKeyAndName(t,e){if(!await this.userNurturingManager.isApiAvailableToUse())return this.sendClientLogEvent(`User's preference for local campaign ${t} and name ${e} could not be fetched.`),this.buildErrorResponse();const n=await this.userNurturingManager.getPreferenceSetting(t),i=n&&n.value;return i&&i.find((t=>t&&t.name===e))}async setLocalCoachmarkCampaignByKeyAndName(t,e,n,i){if(!await this.userNurturingManager.isApiAvailableToUse())return void this.sendClientLogEvent(`User's preference for local campaign key ${t} and name ${e} could not be set.`);const r=await this.userNurturingManager.getPreferenceSetting(t),o=r&&r.value?r.value:[],s=o.find((t=>t&&t.name===e)),a=o.indexOf(s),c=s&&s.count||0,u={name:e,count:c+1,source:n,time:i||(new Date).getTime()};a>-1?o[a]=u:o.push(u),this.userNurturingManager.savePreferenceSetting(t,o)}async clearLocalCoachmarkCampaignByKeyAndName(t,e){if(!await this.userNurturingManager.isApiAvailableToUse())return void this.sendClientLogEvent(`User's preference for local campaign ${t} and name ${e} could not be cleared.`);const n=await this.userNurturingManager.getPreferenceSetting(t),i=n&&n.value,r=i&&i.filter((t=>t&&t.name!==e));r&&this.userNurturingManager.savePreferenceSetting(t,r)}async clearAllLocalCoachmarkCampaignsByKey(t){await this.userNurturingManager.isApiAvailableToUse()?this.userNurturingManager.deleteKeyValueFromPSL(t):this.sendClientLogEvent(`User's preference for local campaign ${t} could not be cleared.`)}sendClientLogEvent(t,e){const n={message:t,type:"information",pb:{...(0,s.mnt)(),customMessage:e}};i.M0.sendClientLogEvent(n)}buildKeyErrorResponse(){return[this.buildErrorResponse(!0)]}buildErrorResponse(){const t=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"getAllLocalCoachmarkCampaignsByKey":"clearLocalCoachmarkCampaignByKeyAndName";return{count:-1,name:o.rr.apiError,source:t,time:(new Date).getTime()}}}const l=(0,c.h)(u)},22624:function(t,e,n){n.d(e,{L:function(){return c}});var i=n(52185),r=n(81489),o=n(8887),s=n(5302);class a extends o.N{constructor(){super("ntp.record_user_choices","setting","value",{setting:"default",source:"default layout",timestamp:0,value:-1})}static getInstance(){return i.Gq.get("__RecordUserChoicesManager__",(()=>new a))}async deleteKeyValueFromPSL(t){return this.deleteEntriesFromPSL([t])}async deleteEntriesFromPSL(t){try{if(null==t||!t.length)return;const e=(await this.getPreferenceSettingValueArray()||[]).filter((e=>e&&!t.includes(e[this.searchForKeyName])));return this.setAndSavePreferenceSetting(e)}catch(e){const n="Failed to delete user preference setting";return this.logAppError(s.nS9,n,`Key:${t.join(",")}.Error:${e}`),!1}}}const c=(0,r.h)(a)},34839:function(t,e,n){n.d(e,{FI:function(){return Y}});var i=n(52185),r=n(49494),o=n(13218),s=n(77137),a=n(24032);function c(){var t,e;return Boolean((null===(t=o.Al.ClientSettings)||void 0===t||null===(t=t.detection)||void 0===t?void 0:t.isMsft)||(null===(e=o.Al.ClientSettings)||void 0===e||null===(e=e.detection)||void 0===e?void 0:e.isCorpNet))&&!location.search.includes("msftuser=false")}var u,l=n(37955),d=n(17911),f=n(33972),h=n(8830),p=n(33779),m=n(5302),g=n(26156),v=n(44132);!function(t){t[t.Unknown=1]="Unknown",t[t.OptIn=2]="OptIn",t[t.OptOut=3]="OptOut",t[t.ExplicitOptIn=4]="ExplicitOptIn"}(u||(u={}));class w{get isRuby(){return(0,f.fw)()}get isRubyEligible(){return!this._isLoggingOnly&&!!this._isRubyEligible}get isLoggingOnly(){return!!this._isLoggingOnly}get _isRubyInternal(){return!this._isLoggingOnly&&!!this._isRuby}get isUserOptedOut(){var t;return(null===(t=this._rubyState)||void 0===t?void 0:t.userSelection)===u.OptOut}constructor(){var t;this._isMsftInternal=c(),this.rsmDebugMarkers=new Set,this.getIsRubyEligible=()=>this.ensureInit().then((()=>this.isRubyEligible)),this.update=t=>{this.ensureInit().then((()=>this.updateImpl(t)))},this.updateImpl=t=>{if(!y()||this._isForcedOnWithoutCookie||(0,f.KX)())return;const e={...f.t8,...this._rubyState,...this.rubyStateUpdateFrom1s,...this._rubyStateUpdateFromUntargetedFlight,...this._rubyStateUpdateFromShippedCases,...this._rubyStateUpdateFromRubyOptParam,...this.rubyStateUpdateFromUserSelection};this.setRubyStateCookie(e);const{isRuby:n,reason:i}=S(e,this.pageSettings,this.isEdgeExpIsolationFlagEnabled,this._isForcedOn,this.isEnvironmentSupported);this.setIsRubyCookie(n,e.cohortStatus,t,i),this.rsmDebugMarkers.add("up"),(0,f.kk)("RSM2",this.rsmDebugMarkers)},this.isIsRubyChangingByForceOrEnvironment=()=>this._isRuby&&!this.isEnvironmentSupported||!this._isRuby&&this._isForcedOn,this.setRubyStateCookie=t=>{let{userSelection:e,cohortStatus:n}=t;const i=`${e}${f.vM}${n}`;this._rubyStateCookieValue!==i&&((0,f.QI)({cookieValue:this._rubyStateCookieValue,newCookieValue:i}),this._rubyState.cohortStatus===f.KO.In1SCohortForAB&&n===f.KO.Out1SCohortForAB&&(0,p.H)(m.bio,"Server side signal indicates user is no longer in the Ruby cohort"),this._isLoggingOnly||(this._isRubyCookieValue=i,(0,l.sq)(f.PI,i,f.M)))},this.setIsRubyCookie=(t,e,n,i,s)=>{const a=String(t);if(this._isRubyEligible&&((0,f.NE)()&&e===f.KO.In1SCohortForAB||(0,f.dw)()&&e===f.KO.In1SCohortForAA)?(0,f.YW)(!0):(0,f.YW)(t),this._isRubyCookieValue!==a){let e=!1;if(this._isRuby!==t&&((0,f.eg)(t),o.Al.IsPrerender&&"visible"!==document.visibilityState||(0,r.yV)(14),t&&(0,f.Y7)(),n&&(e=!0)),!this._isLoggingOnly||s){this._finalRubyCookieStatus=t;(0,f.c_)(a,f.M)?(this._isRubyCookieValue=a,this.lastRubyCookieChangeReason=i,i&&(0,f._M)("rubyrc",String(i)),(0,f.NA)(i)):(0,f._M)("rubyrc",String(15)),e&&(0,f.EF)("usel",void 0,300)}}a&&(0,f.uF)(a)},this.onVisibilityChange=()=>{"visible"===document.visibilityState&&this.handleVariantEnablementMismatch()},this.handleVariantEnablementMismatch=()=>{var t;const e="ruby"===(null===(t=o.Al.ClientSettings)||void 0===t||null===(t=t.bundleInfo)||void 0===t?void 0:t.variant);this._isRuby!==e&&(0,f.EF)("var",2,300)},this.refreshRubyStateUpdateFromShippedCases=t=>{var e;this._isRubyEligible&&k(this.pageSettings,this.isEdgeExpIsolationFlagEnabled,$(this._rubyState)).isRuby&&this._isMsftInternal&&f.l7.has(null===(e=t||s.jG.CurrentMarket)||void 0===e?void 0:e.toLocaleLowerCase())?this._rubyStateUpdateFromShippedCases={cohortStatus:f.KO.InMsftShipped,shouldReload:!this.isRuby}:this._rubyState.cohortStatus===f.KO.InMsftShipped?this._rubyStateUpdateFromShippedCases={shouldReload:this.isRuby}:this._rubyStateUpdateFromShippedCases=void 0},y()&&(this._isForcedOn=(0,f.L0)("prg-rn-frc"),this._isForcedOnWithoutCookie="1"===(0,a.L)().get("fcruby"),this._isLoggingOnly=!this._isForcedOn&&!this._isForcedOnWithoutCookie&&(0,f.dw)(),this.rsmDebugMarkers.add("c"),(0,f.kk)("RSM2",this.rsmDebugMarkers),(0,f.uT)()&&(0,f.ZW)(),(0,d.Q)(),this._rubyStateCookieValue=(0,l.ej)(f.PI),this._rubyState=(0,f.Ji)(this._rubyStateCookieValue),this._isRubyCookieValue=(0,l.ej)(f.Uw),this._isRuby="true"===this._isRubyCookieValue||this._isForcedOnWithoutCookie,this.isEnvironmentSupported=(0,f.I2)(void 0),this._isRubyEligible=!(!this._isRuby&&!this.isEnvironmentSupported),this._rubyStateUpdateFromRubyOptParam=(0,f.Jy)(),this.handleVariantEnablementMismatch(),null===(t=document)||void 0===t||t.addEventListener("visibilitychange",this.onVisibilityChange,{once:!0}),(0,f.DP)(this._isRubyCookieValue),this.ensureInit())}ensureInit(){return this.initCompletedPromise||(this.initCompletedPromise=this.init()),this.initCompletedPromise}async init(){var t;this.pageSettings=await(0,f.Tp)(),(0,f.Tv)((0,f.J)(this.pageSettings)),this.isEdgeExpIsolationFlagEnabled=null===(t=await(0,g.zx)())||void 0===t?void 0:t.enabled.includes("msRubyFlightingAllowed"),this._rubyStateUpdateFromUntargetedFlight=b(this._rubyState,this.pageSettings),this.refreshRubyStateUpdateFromShippedCases(),this.setupPageSettingsListener();let e=!1;var n,i;this._isLoggingOnly?e=this._isRuby:e=!(!(null!==(n=this._rubyStateUpdateFromUntargetedFlight)&&void 0!==n&&n.shouldReload||null!==(i=this._rubyStateUpdateFromShippedCases)&&void 0!==i&&i.shouldReload||this._rubyStateUpdateFromRubyOptParam)&&this.isEnvironmentSupported);this.isIsRubyChangingByForceOrEnvironment()&&(e=!0),this.updateImpl(e),this._isLoggingOnly&&this._isRuby&&!this._isForcedOnWithoutCookie&&this.setIsRubyCookie(!1,this._rubyState.cohortStatus,!0,21,!0),window.addEventListener("beforeunload",(()=>{const t={rsmDbg:Array.from(this.rsmDebugMarkers).join(",")};this.lastRubyCookieChangeReason&&this.isRuby&&!1===this._finalRubyCookieStatus&&(t.lastCookieChangeReason=this.lastRubyCookieChangeReason),v.M0.sendLoadTimeEvent({markers:t})}),{once:!0})}setupPageSettingsListener(){if(!(0,f.NE)()&&!(0,f.AC)()&&!this._isMsftInternal)return;const t=this._rubyState.cohortStatus;(0,f.n7)(this.pageSettings,(e=>{if(this.refreshRubyStateUpdateFromShippedCases(),(0,f.AC)()){const e=this.isRuby&&"off"===this.pageSettings.feedSetting&&t===f.KO.InUntargetedCohort;this.update(e)}else this.update(!1);this.isRuby&&"Theme"===e.backgroundImageProvider&&(0,f.z)(this.pageSettings)&&o.Al.IsPrerender&&"hidden"===document.visibilityState&&(0,r.yV)(14)}))}updateUserSelection(t,e){const n=t?u.ExplicitOptIn:u.OptOut;this.isEnvironmentSupported&&!this._isLoggingOnly&&this._rubyState.userSelection!==n&&h.N.updateFeedPreference(t),this.rubyStateUpdateFromUserSelection={userSelection:n},this.update(!e)}async update1sCohort(t,e){var n,i,r;if(!(0,f.I2)()||!y()||!t)return;if(null!=t&&t.isStatic||null!=t&&t.swCacheEnabled)return;this.rsmDebugMarkers.add("1s");let o={};const s=(null==t||null===(n=t.serviceContext)||void 0===n?void 0:n.rubyTargetedVersion)||null,a=null==t||null===(i=t.serviceContext)||void 0===i?void 0:i.rubyEverSelected,c=null==t||null===(r=t.serviceContext)||void 0===r?void 0:r.isTestRubyVersion;if(this.isEnvironmentSupported&&(0,f.uT)()&&(0,f.qe)(s,!!c),(0,f.qe)(s,!!c,"rubyTargetedVersionExt"),(0,f.MY)(t),!C(this._rubyState)){var l;const t=null==e||null===(l=e.allowedRubyTargetedVersions)||void 0===l?void 0:l.split(","),n=((0,f.z8)()||(0,f.T1)())&&!0===a||!(!s||!("all"===(null==t?void 0:t[0])||null!=t&&t.includes(s))),i=A(n);(0,f.uT)()&&(0,f.V6)(this._rubyState.cohortStatus,i!==f.KO.In1SCohortForAB),o={cohortStatus:i},T(this._rubyState.cohortStatus).isRuby&&!T(o.cohortStatus).isRuby&&this._rubyState.userSelection===u.OptIn&&(o.userSelection=u.Unknown)}this.rubyStateUpdateFrom1s=o,this.update(this.isIsRubyChangingByForceOrEnvironment())}updateMarket(t,e){this.isEnvironmentSupported=(0,f.I2)(t),this.refreshRubyStateUpdateFromShippedCases(t),this.update(!e&&!this._isLoggingOnly)}get isRejectedByEdgeExpIsolation(){return(0,f._Z)()&&!1===this.isEdgeExpIsolationFlagEnabled}static getInstance(){return i.Gq.get(f.ab,(()=>new w))}}const y=()=>f.wc.has(s.jG.AppType),b=(t,e)=>(0,f.AC)()?{cohortStatus:f.KO.InUntargetedCohort,shouldReload:t.cohortStatus===f.KO.InUntargetedCohort&&"Theme"===e.backgroundImageProvider}:t.cohortStatus===f.KO.InUntargetedCohort?t.userSelection===u.OptIn?{userSelection:u.Unknown,cohortStatus:f.KO.Unknown}:{cohortStatus:f.KO.Unknown}:void 0,S=(t,e,n,i,r)=>{let{userSelection:o,cohortStatus:s}=t;if(i)return{isRuby:!0,reason:4};if(!r)return{isRuby:!1,reason:1};if(o===u.ExplicitOptIn)return{isRuby:!0,reason:5};if(o===u.OptIn)return{isRuby:!0,reason:6};const{isRuby:a,reason:c}=k(e,n,$({userSelection:o,cohortStatus:s}));return a?o===u.OptOut?{isRuby:!1,reason:10}:T(s):{isRuby:!1,reason:c}},x=t=>[f.KO.InDogfoodingCohort,f.KO.InAlphaDogfoodingCohort,f.KO.ExternalOptIn].includes(t),C=t=>t.userSelection!==u.OptOut&&x(t.cohortStatus),k=(t,e,n)=>t&&!((t,e)=>{const n=(0,f.J)(t);return!((0,f.NE)()&&!n||(e||(0,f.AC)())&&!n)})(t,n)?{isRuby:!1,reason:8}:(0,f._Z)()&&!1===e?{isRuby:!1,reason:7}:(0,f.Ig)()?{isRuby:!1,reason:9}:{isRuby:!0},T=t=>t===f.KO.InMsftShipped?{isRuby:!0,reason:19}:x(t)?{isRuby:!0,reason:12}:(0,f.dw)()&&t===f.KO.In1SCohortForAA?{isRuby:!0,reason:20}:(0,f.Yk)()&&t===f.KO.In1SCohortForAB?{isRuby:!0,reason:11}:(0,f.AC)()&&t===f.KO.InUntargetedCohort?{isRuby:!0,reason:14}:{isRuby:!1,reason:2},$=t=>{let{userSelection:e,cohortStatus:n}=t;return e!==u.OptOut&&n===f.KO.InMsftShipped},A=t=>(0,f.Yk)()?t?f.KO.In1SCohortForAB:f.KO.Out1SCohortForAB:(0,f.dw)()?t?f.KO.In1SCohortForAA:f.KO.Out1SCohortForAA:f.KO.Unknown;class I{constructor(){this.getIsRubyEligible=()=>Promise.resolve(this.isRubyEligible)}get isRuby(){return!0}get isUserOptedOut(){return!1}get isRubyEligible(){return!0}get isLoggingOnly(){return!1}updateUserSelection(t,e){}update1sCohort(t,e){}updateMarket(t){}get isRejectedByEdgeExpIsolation(){return!1}static getInstance(){return i.Gq.get(f.ab,(()=>new I))}}var P=n(21215),_=n(22680),M=n(81489),R=n(95603),E=n(28951),F=n(7124),D=n(22624),O=n(16495),N=n(93692);const U=["edgeChromium","views","msn","winWidgets","msnStudio"],L="_copilotDiscoverUX";var B;!function(t){t.UserSelection="usel"}(B||(B={}));class W{constructor(){var t,e;if(this.getIsRubyEligible=()=>Promise.resolve(this.isRubyEligible),!U.includes(s.jG.AppType))return;(0,d.Q)(),this.isRubyVariant="ruby"===(null===(t=o.Al.ClientSettings)||void 0===t||null===(t=t.bundleInfo)||void 0===t?void 0:t.variant),this._isRubyEligible=!s.jG.IsHeroNTP&&"kids"!==(null===(e=s.jG.CurrentRequestTargetScope)||void 0===e?void 0:e.audienceMode);const n=(0,l.ej)(L);this._userChoice=null===n?null:"true"===n,(0,v.dK)().then((()=>{var t,e;"kids"===(null===(t=s.jG.CurrentRequestTargetScope)||void 0===t?void 0:t.audienceMode)&&this.isRubyVariant&&((0,p.H)(m.Pce,"Kids user hit ruby bundle","",{aace:(0,l.ej)("aace"),childCookie:(0,l.ej)(N.nM),pcdMode:(null===(e=o.Al.ClientSettings.modes)||void 0===e?void 0:e.audienceMode)||o.Al.ClientSettings.audienceMode}),this.updateUserSelection(!1,!0))}))}get isRuby(){return this.isRubyVariant||this._isRubyEligible&&!1!==this._userChoice}get isUserOptedOut(){return!1===this._userChoice}get isRubyEligible(){return this._isRubyEligible}get isLoggingOnly(){return!1}updateUserSelection(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&!this.isRubyEligible)return;const n=(0,l.ej)(L),i=String(t);n!==i&&((0,l.sq)(L,i,365),(0,f.YW)(t),o.Al.IsPrerender&&"visible"!==document.visibilityState||(0,r.yV)(14),e||window.setTimeout((()=>this.safeReload("usel")),100))}update1sCohort(t,e){var n;const i=(0,a.L)().get("testRubyVersion"),r=(null==t||null===(n=t.serviceContext)||void 0===n?void 0:n.rubyTargetedVersion)||i;this._isRubyEligible&&(0,f.uT)()&&(0,f.qe)(r,!!i),(0,f.qe)(r,!!i,"rubyTargetedVersionExt")}updateMarket(t){}safeReload(t){if(!(0,P.N)())return;const e=new URL(window.location.href),n=`sr${t}`,i=Number(e.searchParams.get(n))||0;e.searchParams.set(n,String(i+1)),e.searchParams.delete("rubyopt"),window.location.href=e.href}get isRejectedByEdgeExpIsolation(){return!1}static getInstance(){return i.Gq.get(f.ab,(()=>new W))}}class H{constructor(){this._rsmDebugMarkers=new Set,this._rubyStateCookieValue=(0,l.ej)(f.PI),this._rubyState={...f.t8,...(0,f.Ji)(this._rubyStateCookieValue)},this._isEnvironmentSupported=(0,f.I2)(void 0,!0),(0,f.PN)(),(0,f.uT)()&&(0,f.ZW)(),(0,d.Q)(),(0,f.Tp)().then((t=>{this._pageSettings=t,this._arePageSettingsEligibleForImplicitRuby=(0,f.J)(t),(0,f.Tv)(this._arePageSettingsEligibleForImplicitRuby),(0,f.n7)(this._pageSettings,this.updatePageSettings.bind(this))})),this._rsmDebugMarkers.add("c"),(0,f.kk)("RSRC",this._rsmDebugMarkers);{const t=(0,f.Jy)();if(t){const e={...this._rubyState,...t};this._rubyState.cohortStatus===e.cohortStatus&&this._rubyState.userSelection===e.userSelection||(this._rubyState=e,this.persistRubyState(this._rubyState),z("usero",1))}(0,f.c_)(String(!!this.isRuby),f.M)}}get isRuby(){return(0,f.fw)()}get isRubyEligible(){return this.isRuby||this._isEnvironmentSupported}getIsRubyEligible(){return Promise.resolve(this.isRubyEligible)}get isLoggingOnly(){return!1}get isUserOptedOut(){var t;return(null===(t=this._rubyState)||void 0===t?void 0:t.userSelection)===u.OptOut}updateUserSelection(t,e){var n;const i=t?u.ExplicitOptIn:u.OptOut;i!==(null===(n=this._rubyState)||void 0===n?void 0:n.userSelection)&&(h.N.updateFeedPreference(t),this.persistRubyState({...this._rubyState,userSelection:i}),e||z("uselo"))}update1sCohort(t,e){}updateMarket(t,e){this._isEnvironmentSupported=(0,f.I2)(t,!0),e||z("uselm")}updatePageSettings(t){this._pageSettings={...this._pageSettings,...t};const e=(0,f.J)(this._pageSettings);e!==this._arePageSettingsEligibleForImplicitRuby&&(this._arePageSettingsEligibleForImplicitRuby=e,z("uselp"))}persistRubyState(t){let{userSelection:e,cohortStatus:n}=t;const i=`${e}${f.vM}${n}`;this._rubyStateCookieValue!==i&&(0,f.QI)({cookieValue:this._rubyStateCookieValue,newCookieValue:i}),(0,l.sq)(f.PI,i,f.M)}get isRejectedByEdgeExpIsolation(){return!1}static getInstance(){return i.Gq.get(f.ab,(()=>new H))}}function z(t,e){(0,r.yV)(14),(0,f.EF)(t,e??30,300)}const V=new Set(["en-us"]),j=new Set(["en-us","en-ca","en-au","en-gb","en-in","zh-cn"]),q=()=>"1"===(0,a.L)().get("fcruby"),G=[],J=(t,e)=>{var n;if(v.M0){for(;G.length>0;){var i;const[t,e]=G.shift();null===v.M0||void 0===v.M0||null===(i=v.M0.addOrUpdateTmplProperty)||void 0===i||i.call(v.M0,t,e)}null===v.M0||void 0===v.M0||null===(n=v.M0.addOrUpdateTmplProperty)||void 0===n||n.call(v.M0,t,e)}else G.push([t,e])},K=t=>{const e=String(t);J("rubyUX",e),(0,f.uT)()&&D.L.savePreferenceSetting(R.nc.ruby_ux_history,{setting:R.nc.ruby_ux_history,value:e,timestamp:Date.now(),source:"ntp"})},Q=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rubyTargetedVersion";const i=Date.now(),r=`${t}|${v.M0.getRequestId()}|${e}|${i}`;J(n,r);const o={value:r};O.U.savePreferenceSetting(R.Xm.rubyTargetedVersion,o)};class X{get isRuby(){return(0,f.fw)()}get _isRubyInternal(){return this._isRuby}get isRubyEligible(){return this._enableToggleButton}async getIsRubyEligible(){return await this.init(),this.isRubyEligible}get isRejectedByEdgeExpIsolation(){return(0,f._Z)()&&!1===this.isEdgeExpIsolationFlagEnabled}get enableToggleButton(){return this._enableToggleButton}get isEnvironmentSupported(){return this.isEnvironmentSupportedInternal()}isEnvironmentSupportedInternal(t){var e;const n=t||s.jG.CurrentMarket;return j.has(n)&&!s.jG.IsHeroNTP&&"kids"!==(null===(e=s.jG.CurrentRequestTargetScope)||void 0===e?void 0:e.audienceMode)&&this.isSupportedDeviceType()&&!(0,f.Qt)()}isSupportedDeviceType(){var t;return(0,f.Iu)()||!s.jG.isMobile&&"tablet"!==(null===(t=o.Al.ClientSettings)||void 0===t?void 0:t.deviceFormFactor)}get isOptIn(){return"1"===(0,a.L)().get("rubyopt")}get isExternalOptIn(){return"2"===(0,a.L)().get("rubyopt")&&!(0,a.L)().get("srusel")}get isOptedOutByDogfooding(){return this._isOptedOutByDogfooding}get isInRubyDogfoodFlight(){return(0,f.Nl)()||this.isOptIn||!1}get isRubySupported(){return this.isRubySupportedInternal()}get isUserOptedOut(){return this.rubyState.userSelection===f.fz.OptOut}get isLoggingOnly(){return(0,f.dw)()}isRubySupportedInternal(t){return this.isEnvironmentSupportedInternal(t)}get isExternalOptInCohort(){return this.rubyState.cohortStatus===f.KO.ExternalOptIn}get isIn1SCohortForAB(){return this.rubyState.cohortStatus===f.KO.In1SCohortForAB}get isIn1SCohortForAA(){return this.rubyState.cohortStatus===f.KO.In1SCohortForAA}get isDogfoodingCohort(){return this.rubyState.cohortStatus===f.KO.InDogfoodingCohort||this.rubyState.cohortStatus===f.KO.InAlphaDogfoodingCohort}get isInTargetCohort(){return this.isIn1SCohortForAB&&(0,f.Yk)()?{isRuby:!0,reason:11}:this.isDogfoodingCohort&&this.isInRubyDogfoodFlight?{isRuby:!0,reason:12}:this.isExternalOptInCohort?{isRuby:!0,reason:13}:(0,f.AC)()&&this.isInUntargetedCohort?{isRuby:!0,reason:14}:{isRuby:!1,reason:2}}get isInUntargetedCohort(){return this.rubyState.cohortStatus===f.KO.InUntargetedCohort}constructor(){if(this.rubyState={userSelection:f.fz.Unknown,cohortStatus:f.KO.Unknown},this._isRuby=!1,this._enableToggleButton=!1,this._isOptedOutByDogfooding=!1,this.didInit=!1,this.forceRubyPage=q(),this.rsmDebugMarkers=new Set,this.isMsftInternal=c(),this.removeCookieListener=()=>{var t,e,n,i;null===(t=document)||void 0===t||null===(e=t.removeEventListener)||void 0===e||e.call(t,"visibilitychange",this.onRubyCookieChanged),null===(n=window)||void 0===n||null===(n=n.cookieStore)||void 0===n||null===(i=n.removeEventListener)||void 0===i||i.call(n,"change",this.onRubyCookieChanged)},this.onRubyCookieChanged=(0,F.Z)((t=>{var e;if((0,f.OL)(t))return;if([f.KO.In1SCohortForAA,f.KO.Out1SCohortForAA,f.KO.In1SCohortForAB,f.KO.Out1SCohortForAB,f.KO.InUntargetedCohort].includes(this.rubyState.cohortStatus))return;const n=this.getIsRubyFromCookie(),i="ruby"===(null===(e=o.Al.ClientSettings)||void 0===e||null===(e=e.bundleInfo)||void 0===e?void 0:e.variant);"visible"===document.visibilityState&&(this._isRuby!==n||!n&&i)&&(0,f.EF)("rc",void 0,300)}),100),"edgeChromium"!==s.jG.AppType&&"msnStudio"!==s.jG.AppType)return;this.rsmDebugMarkers.add("c"),(0,f.kk)("RSM",this.rsmDebugMarkers);const t=this.getIsRubyFromCookie();this.isEnvironmentSupported?((0,f.DP)(String(t)),this.init()):t&&(0,P.N)()&&!(0,f.KX)()&&((0,d.Q)(),(0,f.c_)("false",-1),this.setIsRubyAndReloadIfNeeded(void 0,!0))}async init(){var t;if(!this.didInit){if(this.didInit=!0,this.pageSettings=await(0,f.Tp)(),J("rubyset",String((0,f.J)(this.pageSettings))),this.isEdgeExpIsolationFlagEnabled=null===(t=await(0,g.zx)())||void 0===t?void 0:t.enabled.includes("msRubyFlightingAllowed"),(0,d.Q)(),(0,a.L)().get("rubyopt")&&(0,r.yV)(14),!this.forceRubyPage){if(!this.updateCookieAndStates())return}this.setIsRuby(),this.forceRubyPage||(this._enableToggleButton=this.checkIsEnableToggleButton(),this.addCookieListener()),window.addEventListener("beforeunload",(()=>{const t={rsmDbg:Array.from(this.rsmDebugMarkers).join(",")};this.lastRubyCookieChangeReason&&this.isRuby&&!this._isRuby&&(t.lastCookieChangeReason=this.lastRubyCookieChangeReason),v.M0.sendLoadTimeEvent({markers:t})}),{once:!0})}}updateCookieAndStates(){var t;if("-1"===(0,a.L)().get("rubyopt"))return this._isOptedOutByDogfooding=this.getRubyStateCookie().hasRubyCookie,this.removeCookie(16),!1;const{userSelection:e,cohortStatus:n}=this.getRubyStateCookie();if("ruby"===(null===(t=o.Al.ClientSettings)||void 0===t||null===(t=t.bundleInfo)||void 0===t?void 0:t.variant)&&!this.getIsRubyFromCookie()&&!q()&&(0,P.N)()){if(n===f.KO.InDogfoodingCohort)return this.setRubyStateCookie({userSelection:f.fz.OptIn,cohortStatus:f.KO.InDogfoodingCohort}),(0,f.EF)("frv",void 0,300),!1;(0,f.EF)("frv",void 0,300)}this.rubyState={userSelection:e,cohortStatus:n},this.isExternalOptIn&&this.setExternalOptInCohort();const i=this.isExternalOptIn||this.rubyState.cohortStatus===f.KO.ExternalOptIn;return this.setUntargetedCohortIfNeeded(),this.setShippedCohortIfNeeded(),(e===f.fz.ExplicitOptIn||!this.shouldCleanupStateAndExitOutsideFlights(n))&&(this.isInRubyDogfoodFlight||(0,f.Yk)()||(0,f.dw)()||i||(0,f.AC)()||j.has(s.jG.CurrentMarket)?((0,f.uT)()&&(0,f.ZW)(),this.isOptIn&&this.setOptInCohort(),(i||this.isOptIn)&&this.initRubyCoachmark(),this.update1SCohortStatusBasedOnPageSettings(),!0):("ruby"===(null===(r=o.Al.ClientSettings)||void 0===r||null===(r=r.bundleInfo)||void 0===r?void 0:r.variant)&&!q()&&this.removeCookie(17),!1));var r}shouldCleanupStateAndExitOutsideFlights(t){if(!(0,f.Yk)()&&(t===f.KO.In1SCohortForAB||t===f.KO.Out1SCohortForAB))return this.removeCookie(18),this.rubyState={userSelection:f.fz.Unknown,cohortStatus:f.KO.Unknown},!0}setIsRuby(t){const{isRuby:e,reason:n}=this.checkIsRuby(t);this._isRuby=e,this.forceRubyPage||(q()||this.setIsRubyCookie(this._isRuby,void 0,n),this.isEnvironmentSupportedInternal()&&((0,f.Yk)()&&this.isIn1SCohortForAB||(0,f.dw)()&&this.isIn1SCohortForAA)?K(!0):K(this._isRuby))}getIsRubyFromCookie(){return"true"===(0,l.ej)(f.Uw)}initRubyCoachmark(){const{isRuby:t}=this.checkIsRuby();this._isRuby=t;!this.getIsRubyFromCookie()&&this._isRuby&&(0,f.Y7)()}checkIsEnableToggleButton(){return this._isRuby||this.isRubySupported}checkIsRuby(t){return this.isRubySupportedInternal(t)?this.forceRubyPage?{isRuby:!0,reason:4}:this.rubyState.userSelection===f.fz.ExplicitOptIn?{isRuby:!0,reason:5}:this.rubyState.userSelection===f.fz.OptIn?{isRuby:!0,reason:6}:this.isRejectedByEdgeExpIsolation?{isRuby:!1,reason:7}:this.pageSettings&&!this.arePageSettingsEligibleForCohort(this.pageSettings)?{isRuby:!1,reason:8}:this.rubyState.userSelection!==f.fz.OptOut&&this.rubyState.cohortStatus===f.KO.InMsftShipped?{isRuby:!0,reason:19}:(0,f.Ig)()?{isRuby:!1,reason:9}:this.rubyState.userSelection===f.fz.OptOut?{isRuby:!1,reason:10}:this.isInTargetCohort:{isRuby:!1,reason:1}}setUserSelection(t){const e=t?f.fz.ExplicitOptIn:f.fz.OptOut,n=this.getRubyStateCookie().cohortStatus;e===f.fz.OptOut&&this.setIsRubyCookie(!1,-1,10),this.setRubyStateCookie({userSelection:e,cohortStatus:n}),h.N.updateFeedPreference(t)}updateUserSelection(t,e){this.setUserSelection(t),e||this.setIsRubyAndReloadIfNeeded(void 0,!0)}updateMarket(t,e){this.setIsRubyAndReloadIfNeeded(t,!1,e)}setIsRubyAndReloadIfNeeded(t,e,n){this.init();const i=this._isRubyInternal;this.setIsRuby(t),(e||!n&&i!==this._isRubyInternal)&&(0,f.EF)("usel",void 0,300)}update1sCohort(t,e){this.set1SCohort(t,e),(t=>{var e,n;const i=null==t||null===(e=t.serviceContext)||void 0===e?void 0:e.rubyTargetedVersion,r=null==t||null===(n=t.serviceContext)||void 0===n?void 0:n.isTestRubyVersion;i&&Q(i,!!r,"rubyTargetedVersionExt")})(t),(0,f.kk)("RSM",this.rsmDebugMarkers)}async set1SCohort(t,e){var n,i,r,o,s;if(!t)return;if(this.rsmDebugMarkers.add("1s"),(0,f.MY)(t),!this.isEnvironmentSupportedInternal())return;if(!(0,f.dw)()&&!(0,f.Yk)())return;if(this.isDogfoodingCohort||this.isExternalOptInCohort)return;if((null===(n=this.rubyState)||void 0===n?void 0:n.cohortStatus)===f.KO.InMsftShipped)return;if(null!=t&&t.isStatic||null!=t&&t.swCacheEnabled)return;const a=(null==t||null===(i=t.serviceContext)||void 0===i?void 0:i.rubyTargetedVersion)||null,c=null==t||null===(r=t.serviceContext)||void 0===r?void 0:r.isTestRubyVersion,u=null==t||null===(o=t.serviceContext)||void 0===o?void 0:o.rubyEverSelected,l=null==e||null===(s=e.allowedRubyTargetedVersions)||void 0===s?void 0:s.split(","),d=((0,f.z8)()||(0,f.T1)())&&!0===u||!(!a||null==l||!l.some((t=>"all"===t||t===a)));(0,f.uT)()&&((0,f.V6)(this.rubyState.cohortStatus,!d),Q(a,!!c));const[h,g]=(0,f.dw)()?[f.KO.In1SCohortForAA,f.KO.Out1SCohortForAA]:[f.KO.In1SCohortForAB,f.KO.Out1SCohortForAB],v=d?h:g;v===f.KO.Out1SCohortForAB&&this.rubyState.userSelection!==f.fz.ExplicitOptIn&&(this.rubyState.userSelection=f.fz.Unknown),this.rubyState.cohortStatus===f.KO.In1SCohortForAB&&v===f.KO.Out1SCohortForAB&&(0,p.H)(m.bio,"Server side signal indicates user is no longer in the Ruby cohort",void 0,{...m.bio.pb});const w={userSelection:this.rubyState.userSelection,cohortStatus:v};this.setRubyStateCookie(w)}setExternalOptInCohort(){this.rubyState.cohortStatus=f.KO.ExternalOptIn,this.setRubyStateCookie({userSelection:f.fz.OptIn,cohortStatus:this.rubyState.cohortStatus})}setOptInCohort(){var t;const e=(0,f.Ku)()?f.KO.InAlphaDogfoodingCohort:f.KO.InDogfoodingCohort;this.rubyState.cohortStatus=e,this.setRubyStateCookie({userSelection:this.rubyState.userSelection,cohortStatus:e});const n=Date.now()+5184e6;var i;null===(t=window.cookieStore)||void 0===t||t.set({name:"_EDGE_S",value:"O="+(i=e,i===f.KO.InAlphaDogfoodingCohort?"prg-ntprubyalpha":"prg-ntp1sruby"),expires:n})}update1SCohortStatusBasedOnPageSettings(){(0,f.Yk)()&&(0,f.n7)(this.pageSettings,(t=>{const{isRuby:e,reason:n}=this.checkIsRuby();this.setIsRubyCookie(e,void 0,n),"Theme"===t.backgroundImageProvider&&(0,f.z)(this.pageSettings)&&o.Al.IsPrerender&&"hidden"===document.visibilityState&&(0,r.yV)(14)}))}setUntargetedCohortIfNeeded(){if((0,f.AC)()){const t=this.rubyState.cohortStatus,e=this.isRuby;if(this.rubyState.cohortStatus===f.KO.Unknown&&(this.rubyState.cohortStatus=f.KO.InUntargetedCohort,this.setRubyStateCookie(this.rubyState)),"Theme"===this.pageSettings.backgroundImageType&&t===f.KO.InUntargetedCohort&&e){const{isRuby:t,reason:e}=this.checkIsRuby();this.setIsRubyCookie(t,void 0,e),(0,r.yV)(14),(0,f.EF)("rthm",void 0,300)}(0,f.n7)(this.pageSettings,(n=>{const{isRuby:i,reason:s}=this.checkIsRuby();this.setIsRubyCookie(i,void 0,s),"visible"===document.visibilityState&&"off"===this.pageSettings.feedSetting&&t===f.KO.InUntargetedCohort&&e&&this.rubyState.userSelection!==f.fz.OptOut&&((0,r.yV)(14),(0,f.EF)("roff",void 0,300)),e&&"Theme"===n.backgroundImageType&&o.Al.IsPrerender&&"hidden"===document.visibilityState&&(0,r.yV)(14)}))}else this.rubyState.cohortStatus===f.KO.InUntargetedCohort&&(this.rubyState.cohortStatus=f.KO.Unknown,this.rubyState.userSelection===f.fz.OptIn&&(this.rubyState.userSelection=f.fz.Unknown),this.setRubyStateCookie(this.rubyState))}setShippedCohortIfNeeded(){(0,f.J)(this.pageSettings)&&(!(0,f._Z)()||this.isEdgeExpIsolationFlagEnabled)&&this.isMsftInternal&&V.has(s.jG.CurrentMarket)?(this.rubyState.cohortStatus=f.KO.InMsftShipped,this.setRubyStateCookie(this.rubyState),this.isRuby||this.setIsRubyAndReloadIfNeeded()):this.rubyState.cohortStatus===f.KO.InMsftShipped&&(this.rubyState.cohortStatus=f.KO.Unknown,this.setRubyStateCookie(this.rubyState))}arePageSettingsEligibleForCohort(t){const e=(0,f.J)(t);return!((0,f.Yk)()&&!e)&&!((0,f.AC)()&&!e)}checkIsRubySupportedMarket(t){return this.isInRubyDogfoodFlight&&j.has(t)}addCookieListener(){var t,e,n,i,r;null===(t=document)||void 0===t||null===(e=t.addEventListener)||void 0===e||e.call(t,"visibilitychange",this.onRubyCookieChanged),null===(n=window)||void 0===n||null===(n=n.cookieStore)||void 0===n||null===(i=n.addEventListener)||void 0===i||i.call(n,"change",this.onRubyCookieChanged),null===(r=window)||void 0===r||r.addEventListener("beforeunload",this.removeCookieListener,{once:!0})}getRubyStateCookie(){const t=(0,l.ej)(f.PI);if(!t)return{userSelection:f.fz.Unknown,cohortStatus:f.KO.Unknown,hasRubyCookie:!1};const[e,n]=t.split("_").map(Number);return{userSelection:e,cohortStatus:n,hasRubyCookie:!0}}setRubyStateCookie(t){if((0,f.KX)())return;this.rubyState=t;const e=`${t.userSelection}_${t.cohortStatus}`;(t=>{const{updatedRubyStateString:e,currentRubyStateString:n}=t,i=Date.now(),r=`${n}->${e}|${i}`;J("rubyState",r),(0,f.uT)()&&D.L.savePreferenceSetting(R.nc.ruby_state_history,{setting:R.nc.ruby_state_history,value:r,timestamp:i,source:"ntp"})})({updatedRubyStateString:e,currentRubyStateString:(0,l.ej)(f.PI)}),(0,P.N)()&&(0,l.sq)(f.PI,e,60);const{isRuby:n,reason:i}=this.checkIsRuby();this.setIsRubyCookie(n,void 0,i)}setIsRubyCookie(t,e,n){if((0,f.KX)())return;this.rsmDebugMarkers.add("up"),(0,f.kk)("RSM",this.rsmDebugMarkers);const i=(0,l.ej)(f.Uw),s="true"===i,a=String(t);if(i!==a&&(s!==t&&((0,f.eg)(t),(!o.Al.IsPrerender||"visible"===document.visibilityState)&&(0,r.yV)(14),t&&(0,f.Y7)()),this.removeCookieListener(),(0,P.N)())){const i=(0,f.c_)(a,e??60);return i?(this._isRuby=t,this.lastRubyCookieChangeReason=n,n&&J("rubyrc",String(n)),(0,f.NA)(n)):J("rubyrc",String(15)),i}return a&&(0,f.uF)(a),!0}removeCookie(t){var e;(0,P.N)()&&(this.lastRubyCookieChangeReason=t,(0,f.c_)(null,-1),(0,l.sq)(f.PI,null,-1),null===(e=window.cookieStore)||void 0===e||e.delete("_EDGE_S"),window.setTimeout((()=>this.onRubyCookieChanged()),100))}static getInstance(){return i.Gq.get(f.ab,(()=>{const t=(0,_.zp)();return["half","full"].includes(E.cX.getQueryParameterByName("ucexperience",t))?new I:(0,f.U)()?new W:(0,f.zC)()?new H:(0,f.Qp)()?new w:new X}))}}const Y=(0,M.h)(X,{bindMethod:!0,forceLazy:!0})},33972:function(t,e,n){n.d(e,{KO:function(){return T},l7:function(){return S},PI:function(){return $},wc:function(){return x},Uw:function(){return A},fz:function(){return k},_M:function(){return G},J:function(){return Z},M:function(){return P},t8:function(){return _},Tp:function(){return K},Ji:function(){return lt},Jy:function(){return pt},OP:function(){return Rt},Yk:function(){return gt},I2:function(){return dt},L0:function(){return tt},zC:function(){return Mt},Ku:function(){return $t},dw:function(){return bt},NE:function(){return St},Ig:function(){return yt},Nl:function(){return Tt},T1:function(){return xt},_Z:function(){return kt},Iu:function(){return Pt},U:function(){return It},Qp:function(){return At},Qt:function(){return Et},c8:function(){return wt},AC:function(){return Ct},OL:function(){return E},KX:function(){return D},uT:function(){return Q},fw:function(){return st},z8:function(){return vt},z:function(){return Y},n7:function(){return X},V6:function(){return at},eg:function(){return N},Tv:function(){return U},PN:function(){return q},DP:function(){return it},NA:function(){return B},MY:function(){return V},ZW:function(){return j},QI:function(){return L},kk:function(){return z},qe:function(){return H},YW:function(){return O},c_:function(){return nt},EF:function(){return rt},vM:function(){return I},ab:function(){return M},uF:function(){return et},Y7:function(){return R}});var i=n(15598),r=n(13218),o=n(59465),s=n(77137),a=n(24032),c=n(96315),u=n(21215),l=n(44132),d=n(95603),f=n(16495),h=n(22624),p=n(26156),m=n(68640);const g=t=>(t?(0,i.$o)().removeObject(m.Z6):(0,i.$o)().getObject(m.Z6))??void 0;var v,w=n(37955),y=n(33779),b=n(5302);!function(t){t[t.UnsupportedEnvironment=1]="UnsupportedEnvironment",t[t.UnsupportedCohortConditions=2]="UnsupportedCohortConditions",t[t.UnsupportedMarket=3]="UnsupportedMarket",t[t.PageForced=4]="PageForced",t[t.ExplicitOptIn=5]="ExplicitOptIn",t[t.UserSelectionOptIn=6]="UserSelectionOptIn",t[t.BlockedByEdgeIsolation=7]="BlockedByEdgeIsolation",t[t.PageSettingsIneligible=8]="PageSettingsIneligible",t[t.InControlFlight=9]="InControlFlight",t[t.UserSelectionOptOut=10]="UserSelectionOptOut",t[t.OneServiceABCohort=11]="OneServiceABCohort",t[t.DogfoodingCohort=12]="DogfoodingCohort",t[t.ExternalOptInCohort=13]="ExternalOptInCohort",t[t.UntargetedCohort=14]="UntargetedCohort",t[t.TrySetCookieFailed=15]="TrySetCookieFailed",t[t.RemovedDueToDogfoodOptOut=16]="RemovedDueToDogfoodOptOut",t[t.RemovedDueToNoValidFlights=17]="RemovedDueToNoValidFlights",t[t.RemovedDueToStaleABState=18]="RemovedDueToStaleABState",t[t.InMsftShipped=19]="InMsftShipped",t[t.OneServiceAACohort=20]="OneServiceAACohort",t[t.ExitFromRubyInLoggingMode=21]="ExitFromRubyInLoggingMode"}(v||(v={}));const S=Object.freeze(new Set(["en-us"])),x=Object.freeze(new Set(["edgeChromium","msn","msnStudio"])),C=Object.freeze(new Set(["en-us","en-ca","en-au","en-gb","en-in","zh-cn"]));var k,T;!function(t){t[t.Unknown=1]="Unknown",t[t.OptIn=2]="OptIn",t[t.OptOut=3]="OptOut",t[t.ExplicitOptIn=4]="ExplicitOptIn"}(k||(k={})),function(t){t[t.Unknown=1]="Unknown",t[t.In1SCohortForAA=2]="In1SCohortForAA",t[t.Out1SCohortForAA=3]="Out1SCohortForAA",t[t.InDogfoodingCohort=4]="InDogfoodingCohort",t[t.InAlphaDogfoodingCohort=5]="InAlphaDogfoodingCohort",t[t.ExternalOptIn=6]="ExternalOptIn",t[t.In1SCohortForAB=7]="In1SCohortForAB",t[t.Out1SCohortForAB=8]="Out1SCohortForAB",t[t.InUntargetedCohort=9]="InUntargetedCohort",t[t.InMsftShipped=12]="InMsftShipped"}(T||(T={}));const $="__rubyState",A="__rubyUX",I="_",P=60,_=Object.freeze({userSelection:k.Unknown,cohortStatus:T.Unknown}),M=Symbol("rubySwitchManager"),R=()=>{!(0,i.$o)().getObject("showRubyCoachmark")&&(0,i.$o)().setObject("showRubyCoachmark","true")},E=t=>{if(t&&t.changed&&t.deleted){const e=t,n=t=>t.name===$||t.name===A;if(!e.changed.some(n)&&!e.deleted.some(n))return!0}return!1};function F(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;if(!(0,u.N)()||null!==(e=window.location.hostname)&&void 0!==e&&null!==(n=e.startsWith)&&void 0!==n&&n.call(e,"localhost"))return;const r=new URL(window.location.href),o=`sr${t}`,s=Number(r.searchParams.get(o))||0;s<i&&(r.searchParams.set(o,String(s+1)),r.searchParams.delete("rubyopt"),window.location.href=r.href)}const D=()=>!(!r.Al.IsPrerender||!function(){const t=g(!1);return!!(t&&t.time>performance.timeOrigin)}()),O=t=>{const e=String(t);G("rubyUX",e),J(d.nc.ruby_ux_history,e)},N=t=>{const e=String(t);G("rubyAwt",e)},U=t=>{const e=String(t);G("rubyset",e)},L=t=>{let{cookieValue:e,newCookieValue:n}=t;const i=Date.now(),r=`${e}->${n}|${i}`;G("rubyState",r),J(d.nc.ruby_state_history,r,i)},B=async t=>{const e=t=>[t,Date.now(),"hidden"===document.visibilityState?1:0].join("|"),n=await h.L.getPreferenceSetting(d.nc.ruby_cookie_change_history,!0),i=`${null==n?void 0:n.value}->${e(t)}`;J(d.nc.ruby_cookie_change_history,e(t)),G("rubyCookieChangeHistory",i)},W=async()=>{const t=await h.L.getPreferenceSetting(d.nc.ruby_cookie_change_history,!0);null!=t&&t.value&&G("rubyCookieChangeHistory",String(null==t?void 0:t.value))},H=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rubyTargetedVersion";const i=`${t}|${l.M0.getRequestId()}|${e}|${Date.now()}`;G(n,i),f.U.savePreferenceSetting(d.Xm.rubyTargetedVersion,{value:i})},z=(t,e)=>{var n;const i=`${t}|${null===(n=Array.from(e||[]).filter((t=>null!=t)))||void 0===n?void 0:n.join(",")}`;G("rubyRsmDbg",i)},V=t=>{if(null==t||!t.serviceContext)return;const{rubySeenOrSelectedPrevious:e,rubySampleSelected:n,rubyEverSelected:i,rubyEverSelectedSync:r}=t.serviceContext;i&&G("rubyEverSelected"),r&&G("rubyEverSelectedSync"),G("rubyUXSelected",String(i)),G("rubyUXSelectedSync",String(r)),G("rubyUXSeenOrSelectedPrevious",String(e)),G("rubyUXSampleSelected",String(n))},j=async()=>{var t,e;const[n,i,o,s]=await Promise.all([h.L.getPreferenceSetting(d.nc.ruby_ux_history,!0),h.L.getPreferenceSetting(d.nc.ruby_state_history,!0),f.U.getPreferenceSetting(d.Xm.rubyTargetedVersion,!0),f.U.getPreferenceSetting(d.Xm.rubyFlightHistory,!0)]),a=(null==n?void 0:n.value)||"",c=(null==i?void 0:i.value)||"",u=(null==o||null===(t=o.value)||void 0===t?void 0:t.value)||"",l=(null==s||null===(e=s.value)||void 0===e?void 0:e.value)||"";G("rubyUXHistory",a),G("rubyStateHistory",c),G("rubyTargetedVersionHistory",u),function(t){var e;if(null!==(e=r.Al.ClientSettings)&&void 0!==e&&e.isStatics)return;const n=mt();(t||n)&&G("rubyFlightHistory",`${t}->${n}`),n?f.U.savePreferenceSetting(d.Xm.rubyFlightHistory,{setting:d.Xm.rubyFlightHistory,value:n,timestamp:Date.now(),source:"ntp"}):t&&f.U.deleteKeyValueFromPSL(d.Xm.rubyFlightHistory)}(l)};function q(){var t;const e=null===(t=r.Al.ClientSettings)||void 0===t?void 0:t.rubyAdvRouting;if(e)G("rubyAdvRouting",e);else{const t=(0,w.ej)("aace"),e=["child:1","child=1"].some((e=>null==t?void 0:t.includes(e)));(0,y.H)(b.ZSq,"Expected rubyAdvRouting was missing. Defaulting to Classic NTP.",void 0,{hasChildCookie:e})}}const G=(t,e)=>{l.M0?l.M0.addOrUpdateTmplProperty(t,e):window.addEventListener("telemetryInitialized",(()=>l.M0.addOrUpdateTmplProperty(t,e)),{once:!0})},J=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();Q()&&h.L.savePreferenceSetting(t,{setting:t,value:e,timestamp:n,source:"ntp"})};async function K(){var t;const e=await async function(){return new Promise((t=>{var e;(0,u.N)()&&null!==(e=window.chrome)&&void 0!==e&&e.ntpSettingsPrivate?window.chrome.ntpSettingsPrivate.getAllPrefs((e=>{t(e)})):t([])}))}(),n=e.find((t=>"ntp.background_image"===t.key)),i=e.find((t=>"ntp.news_feed_display"===t.key)),r=e.find((t=>"ntp.background_image_type"===t.key));return{backgroundImageProvider:null==n||null===(t=n.value)||void 0===t?void 0:t.provider,backgroundImageType:null==r?void 0:r.value,feedSetting:null==i?void 0:i.value}}const Q=()=>(0,p.D7)("setPref");function X(t,e){var n,i;(0,u.N)()&&(null===(n=window.chrome)||void 0===n||null===(n=n.ntpSettingsPrivate)||void 0===n||null===(n=n.onPrefsChanged)||void 0===n||null===(i=n.addListener)||void 0===i||i.call(n,(n=>{if(!n||!n.length)return;const i={};n.forEach((e=>{var n,r;"ntp.background_image"===e.key?(null===(n=e.value)||void 0===n?void 0:n.provider)!==t.backgroundImageProvider&&(i.backgroundImageProvider=null===(r=e.value)||void 0===r?void 0:r.provider):"ntp.background_image_type"===e.key?e.value!==t.backgroundImageType&&(i.backgroundImageType=e.value):"ntp.news_feed_display"===e.key&&e.value!==t.feedSetting&&(i.feedSetting=e.value)})),Object.keys(i).length&&(Object.assign(t,i),e(i))})))}function Y(t){return"Theme"===t.backgroundImageProvider&&"theme"===t.backgroundImageType}function Z(t){return!Y(t)&&!["Video","BrowserLocal"].includes(t.backgroundImageProvider)&&"off"!==t.feedSetting&&"headingsonly"!==t.feedSetting}const tt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.some((t=>{var e,n;return!(null===(e=r.Al.CurrentFlightSet)||void 0===e||null===(n=e.has)||void 0===n||!n.call(e,t))}))};function et(t){null!==t?h.L.savePreferenceSetting(d.nc.is_ruby,{setting:d.nc.is_ruby,value:t,timestamp:Date.now(),source:"ntp"}):h.L.deleteKeyValueFromPSL(d.nc.is_ruby)}function nt(t,e){const n=(0,w.sq)(A,t,e);return Q()&&et(t),n}function it(t){G("rubyc",t),h.L.getPreferenceSetting(d.nc.is_ruby).then((t=>{t&&G("rubyp",String(t.value))})),W()}function rt(t,e,n){void 0===n?F(t,e):window.setTimeout((()=>F(t,e)),n)}const ot=async()=>{var t;const e=(null===(t=await h.L.getPreferenceSetting(d.Xm.rubyCohortOptOutThreshold))||void 0===t?void 0:t.value)||0;return G("rbtc",String(e)),"number"!=typeof e||(e>=3?(ct(),!1):(h.L.savePreferenceSetting(d.Xm.rubyCohortOptOutThreshold,{setting:d.Xm.rubyCohortOptOutThreshold,value:e+1,timestamp:Date.now(),source:"ntp"}),!0))};function st(){return(0,o.Q7)()||(0,o.nH)()}async function at(t,e){const n=st()&&wt()&&e;if(!st()&&yt()&&t==T.In1SCohortForAB&&e||n){const t=await ot();G("rbtr",String(t?0:1))}else ct()}const ct=()=>{h.L.deleteKeyValueFromPSL(d.Xm.rubyCohortOptOutThreshold)},ut=t=>{const e={};return null!=k[t.userSelection]&&t.userSelection!==k.Unknown&&(e.userSelection=t.userSelection),null!=T[t.cohortStatus]&&t.cohortStatus!==T.Unknown&&(e.cohortStatus=t.cohortStatus),n=e,0===Object.keys(n).length?void 0:e;var n},lt=t=>{if(t){const[e,n]=t.split(I).map(Number);return{..._,...ut({userSelection:e,cohortStatus:n})}}return _},dt=(t,e)=>{var n;t=(t||s.jG.CurrentMarket).toLocaleLowerCase();const i=C.has(t)||tt("prg-rn-allmkt")||_t(),o=null===(n=s.jG.CurrentRequestTargetScope)||void 0===n?void 0:n.audienceMode;return i&&!s.jG.IsHeroNTP&&"kids"!==o&&(!e||"enterprise"!==o)&&(tt("prg-rn-mob")||!s.jG.isMobile&&"tablet"!==(null===(a=r.Al.ClientSettings)||void 0===a?void 0:a.deviceFormFactor))&&!Et();var a},ft={"-1":k.OptOut,0:k.Unknown,1:k.OptIn,2:k.OptIn},ht={1:T.InDogfoodingCohort,2:T.ExternalOptIn},pt=()=>{const t=(0,a.L)().get("rubyopt");if(null!=t){const e=ft[t],n=ht[t];return null==n?{userSelection:e}:{userSelection:e,cohortStatus:n}}},mt=()=>["prg-rubyntp8","prg-ctrl4rubyntp","prg-rubyntp9","prg-ctrl5rubyntp","prg-cdynrbctrl","prg-dynrbchlr"].map((t=>tt(t)&&t||"")).filter((t=>t)).join(","),gt=()=>{var t;const e="adult"===(null===(t=s.jG.CurrentRequestTargetScope)||void 0===t?void 0:t.audienceMode)&&(wt()||yt()),n=vt();return e||n},vt=()=>{var t;return"adult"===(null===(t=s.jG.CurrentRequestTargetScope)||void 0===t?void 0:t.audienceMode)&&s.jG.CurrentMarket===c.IY.ENUS},wt=()=>tt("ruby-ntp"),yt=()=>tt("ruby-ntp-ctrl2","prg-ctrlrubyntp","prg-ctrl1rubyntp","prg-ctrlrubyntp3"),bt=()=>tt("ruby-ntp-aa","ruby-ntp-ctrl"),St=()=>wt()||yt(),xt=()=>tt("prg-rn-codynamic"),Ct=()=>tt("prg-rn-untgt"),kt=()=>tt("prg-ctrl5rubyntp","prg-rubyntp9"),Tt=()=>tt("prg-ntp-ruby"),$t=()=>tt("prg-ntprubyalpha"),At=()=>tt("prg-rsm2","prg-rsmi2")||Ct(),It=()=>tt("prg-ncrs"),Pt=()=>tt("prg-rn-mob"),_t=()=>tt("prg-untgt-ar-t"),Mt=()=>_t()||tt("prg-untgt-ar-c"),Rt=()=>tt("prg-rv-p0uxurl"),Et=()=>tt("prg-vb-rn-off")},16495:function(t,e,n){n.d(e,{H:function(){return p},U:function(){return m}});var i=n(52185),r=n(81489),o=n(5302),s=n(8887),a=n(42833),c=n(44132),u=n(21215),l=n(52965),d=n(77137);function f(t,e){return(t||[]).find((t=>(null==t?void 0:t.key)===e))||null}function h(t,e){const{key:n,value:i,deleteKey:r=!1}=e;let o=t||[];if(r)o=o.filter((t=>t&&(null==t?void 0:t.key)!==n));else{const t=o.findIndex((t=>(null==t?void 0:t.key)===n));if(t>-1)o[t]={...o[t],value:i};else{const t={key:n,value:i};o.push(t)}}return o}class p extends s.N{constructor(){super("ntp.user_nurturing","key","value",{key:"default",value:"none"}),this._latestItems=[],this._initializeCachedItemsPromise=new a.o,this.disablePreferences="edgeChromium"!==(0,d.Yq)().AppType}static getInstance(){return i.Gq.get("__UserNurturingManager__",(()=>new p))}async savePreferenceSetting(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.disablePreferences)return!1;try{return await this._initializeCachedItems(),this._updateCachedItems({key:t,value:e,deleteKey:n}),await this._updatePersistedItems({key:t,value:e,deleteKey:n})}catch(e){const n="Failed to store user nurturing preference";return this.logAppError(o.nS9,n,`Key:${t}.Error:${e}`),!1}}async getPreferenceSetting(t,e){if(this.disablePreferences)return null;try{if(await this._initializeCachedItems(),e){const e=await this._getPersistedItemByKey(t);return this._updateCachedItems({key:t,value:null==e?void 0:e.value,deleteKey:!1}),e}return this._getCachedItemByKey(t)}catch(e){const n=`Failed to find user preference key: ${t}`;return this.logAppError(o.Aps,n,e),null}}async getClonedPreferenceSetting(t,e){const n=await this.getPreferenceSetting(t,e);return(0,l.Z)(n)}async _initializeCachedItems(){if(this._initializeCachedItemsPromise.wasSet())return this._initializeCachedItemsPromise.getResultAsync();try{this._items=await this.getPreferenceValueFromBrowser()||[],this.checkIfNurturingCampaignsExist(this._items,!0),this._latestItems=(0,l.Z)(this._items)}catch(t){const e="Failed to initialize cached items for UserNurturingManager";this.logAppError(o.Aps,e,t)}this._initializeCachedItemsPromise.set(),this._listenToPreferenceChange()}_getCachedItemByKey(t){return f(this._items,t)}async _getPersistedItemByKey(t){return f(this._latestItems,t)}_updateCachedItems(t){this._items=h(this._items,t)}async _updatePersistedItems(t){const e=this._latestItems;return this.setAndSavePreferenceSetting(h(e,(0,l.Z)(t)))}deleteKeyValueFromPSL(t){this.savePreferenceSetting(t,null,!0)}_listenToPreferenceChange(){(0,u.N)()&&window.chrome&&window.chrome.ntpSettingsPrivate&&window.chrome.ntpSettingsPrivate.onPrefsChanged.addListener((t=>{const e=(t||[]).find((t=>(null==t?void 0:t.key)===this.prefSettingKey));e&&(this.checkIfNurturingCampaignsExist(e.value||[],!1),this._latestItems=(0,l.Z)(e.value||[]))}))}checkIfNurturingCampaignsExist(t,e){var n;const i=t.find((t=>"nurturing_campaigns"===(null==t?void 0:t.key))),r=i?"1":"0",o=(null==i||null===(n=i.value)||void 0===n?void 0:n.trace_id)||-1;e?c.M0.addOrUpdateTmplProperty("nf_usernurturing_init",`${r}_${o}`):c.M0.addOrUpdateTmplProperty("nf_usernurturing_changed_"+ +new Date,`${r}_${o}`)}}const m=(0,r.h)(p)},95603:function(t,e,n){n.d(e,{QO:function(){return h},Uq:function(){return d},Xm:function(){return i},_9:function(){return u},dE:function(){return f},nc:function(){return a},rr:function(){return s},sj:function(){return o},ui:function(){return l}});const i={campaigns:"campaigns",feedLayout:"feed_layout",nonDAU7d:"non_dau_7d",nonDAU30d:"non_dau_30d",renderSingleColumn:"render_single_column",wpo:"wpo",wpoLytTmpl:"wpo_lyt_tmpl",topSites:"top_sites",recommendedSites:"recommended_sites",viewport:"viewport",wpo_nx:"wpo_nx",layoutPromotion:"layoutPromotion",layoutHistory:"layoutHistory",sptmarket:"sptmarket",userMuid:"user_muid",rubyTargetedVersion:"ruby_targeted_version",widgetsUpsell:"widgets_upsell",companionAutoOpenDismiss:"cmp_auto_open_dismiss",rubyCohortOptOutThreshold:"ruby_cohort_optout_threshold",rubyFlightHistory:"ruby_flight_history"};var r,o,s;!function(t){t.Ntp="ntp",t.Wpo="wpo"}(r||(r={})),function(t){t.MultiColumn="multi",t.SingleColumn="single"}(o||(o={})),function(t){t.apiError="api_error"}(s||(s={}));const a={tscollapsed:"tscollapsed",layout_mode:"layout_mode",left_rail:"left_rail",quick_links_options:"quick_links_options",single_column:"single_column",recommended_sites:"recommended_sites",news_below_searchbox:"news_below_searchbox",ntp_tips:"ntp_tips",search_history:"search_history",current_location_enabled:"current_location_enabled",enable_sponsored_content:"enable_sponsored_content",enable_pulse:"enable_pulse",seen_interest_fre_count:"seen_interest_fre_count",visited_following_feed:"visited_following_feed",dismiss_scroll_down_button:"dismiss_scroll_down_button",breaking_news_dismissed:"breaking_news_dismissed",topsites_open_in_new_tab:"ntp.topsites_open_in_new_tab",show_copilot_suggestions_toggle:"ntp.show_copilot_suggestions_toggle",ruby_ux_history:"ruby_ux_history",ruby_state_history:"ruby_state_history",is_ruby_page:"is_ruby_page",is_ruby:"ntp.is_ruby",ruby_cookie_change_history:"ruby_cookie_change_history"};var c;!function(t){t.User="user",t.Wpo="wpo",t.Lpo="lpo",t.adminPortal="adPortal",t.ntpVisibleTab="ntpVisTab"}(c||(c={}));const u={backgroundImageTypePolicy:"ntp.background_type_blocked_by_policy",currentBackgroundImageType:"ntp.background_image_type",hideDefaultTopSites:"ntp.hide_default_top_sites",customBackgroundImageInfo:"ntp.local_background_image",layout:"ntp.layout_mode",quickLinksDisplaySetting:"ntp.quick_links_options",imageOfTheDay:"ntp.show_image_of_day",feeds:"ntp.news_feed_display",greeting:"ntp.show_greeting",showSettings:"ntp.show_settings",verticalTabsCollapsed:"edge.vertical_tabs.collapsed",verticalTabsOpened:"edge.vertical_tabs.opened",singleColumnEnabled:"ntp.single_column.enabled",userNurturingUpdated:"ntp.user_nurturing",hasUserSeenNewFre:"new_device_fre.has_user_seen_new_fre",defaultBrowserSettingEnabled:"browser.default_browser_setting_enabled",showAppLauncher:"ntp.enable_app_launcher",userChoices:"ntp.record_user_choices",selectedFeedPivot:"ntp.selected_feed_pivot",widgetsRegion:"ntp.enable_widgets_region",recommendedWidgetsSettings:"ntp.recommended_widgets_region"};var l,d,f,h;!function(t){t.NotInChinaCoachMarkButton="notInChinaCoachMarkButton",t.FeedbackLink="feedbackLink"}(l||(l={})),function(t){t[t.focused=0]="focused",t[t.inspirational=1]="inspirational",t[t.informational=2]="informational",t[t.custom=3]="custom"}(d||(d={})),function(t){t.MANUAL="manual",t.WPO_OPEN="wpo_open",t.WPO_CLOSE="wpo_close",t.REVERT="revert"}(f||(f={})),function(t){t[t.MANUAL=0]="MANUAL",t[t.WPO_BEFORE_CLOSE=1]="WPO_BEFORE_CLOSE",t[t.WPO_CLOSED=2]="WPO_CLOSED",t[t.WPO_BEFORE_OPEN=3]="WPO_BEFORE_OPEN",t[t.WPO_OPENED=4]="WPO_OPENED",t[t.REVERT_WPO_CLOSE=5]="REVERT_WPO_CLOSE"}(h||(h={}))},3385:function(t,e,n){n.d(e,{h:function(){return H}});var i=n(74604),r=n(72263),o=n(62201),s=n(82218),a=n(47898),c=n(13218),u=n(77137),l=n(33294),d=n(28123),f=n(98303),h=n(86117),p=n(33779),m=n(5302),g=n(44132),v=n(71903),w=n(40373),y=n(39399),b=n(24025),S=n(94769);S.kP&&(window.telemetryEventsClear=()=>{window.telemetryEvents=[]},window.telemetryEventsFlush=()=>{const t={...window.telemetryEvents};return window.telemetryEventsClear(),t});const x=function(t){S.kP&&(window.telemetryEvents=window.telemetryEvents||[],window.telemetryEvents.push(t))},C=[{type:b.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.msn.com/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:b.G.Debug,mapper:new y.k,transporterConfig:{callback:x}},{type:b.G.Debug,mapper:new v.P,transporterConfig:{callback:x}},{type:b.G.Debug,mapper:new w.O,transporterConfig:{callback:x}}],k=[{type:b.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.msn.cn/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:b.G.Debug,mapper:new y.k,transporterConfig:{callback:x}},{type:b.G.Debug,mapper:new v.P,transporterConfig:{callback:x}},{type:b.G.Debug,mapper:new w.O,transporterConfig:{callback:x}}],T=[{type:b.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.microsoftstart.com/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:b.G.Debug,mapper:new y.k,transporterConfig:{callback:x}},{type:b.G.Debug,mapper:new v.P,transporterConfig:{callback:x}},{type:b.G.Debug,mapper:new w.O,transporterConfig:{callback:x}}],$=[{type:b.G.OneDS,transporterConfig:{key:"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028",endpoint:"https://events-sandbox.data.microsoftstart.cn/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}},{type:b.G.Debug,mapper:new y.k,transporterConfig:{callback:x}},{type:b.G.Debug,mapper:new v.P,transporterConfig:{callback:x}},{type:b.G.Debug,mapper:new w.O,transporterConfig:{callback:x}}],A=[{type:b.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],I=[{type:b.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.cn/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],P=[{type:b.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.msn.com/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],_=[{type:b.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.msn.cn/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.msn.cn/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],M=[{type:b.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.microsoftstart.com/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],R=[{type:b.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.microsoftstart.cn/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],E=[{type:b.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.microsoftstart.com/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.com/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],F=[{type:b.G.OneDS,transporterConfig:{key:"c498711f02654edca8a715ca6e1cb4d4-dc31da17-845c-4cca-84e5-547d05dad708-6945",endpoint:"https://browser.events.data.microsoftstart.cn/OneCollector/1.0"}},{type:b.G.CTag,transporterConfig:{endpoint:"https://c.microsoftstart.cn/c.gif"}},{type:b.G.Comscore,transporterConfig:{endpoint:"https://sb.scorecardresearch.com/b"}}],D=[{type:b.G.SuperApp,transporterConfig:{enableConsoleLog:!0}}],O=[{type:b.G.SuperAppBridge,transporterConfig:{enableConsoleLog:!0}}],N=[{type:b.G.OneDS,transporterConfig:{key:"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279",endpoint:"https://browser.events.data.msn.com/OneCollector/1.0"}}],U={};U.enterprise=P,U.enterpriseCN=_,U.enterpriseMicrosoftStart=E,U.enterpriseCNMicrosoftStart=F,U.int=C,U.intCN=k,U.intMicrosoftStart=T,U.intCNMicrosoftStart=$,U.prod=A,U.prodCN=I,U.prodMicrosoftStart=M,U.prodCNMicrosoftStart=R,U.superApp=D,U.superAppWeb=N,U.superAppBridge=O;var L=n(21215);var B=n(32598),W=n(54584);class H{static initPage(t,e,n){const i=c.Al&&c.Al.ClientSettings||{},{pageGenTime:r=null,detection:o=null}=i||{},{tier:s}=o||{};g.M0.initPage(t,n||u.jG.ActivityIdLowerCaseNoHypens,u.jG.BuildVersion,u.jG.FrontDoorMuid,r,s),e&&(0,h.b1)().then((()=>g.M0.initScrollPerformanceTrackers())),a.A.subscribe(a.U.Initialized,z)}static getAppTypeTelemetryContract(t,e,n,i){const r=(null==i?void 0:i.syncStorage)??l.bN;let o={aadState:t.userAadState,isSignedIn:t.userSignInStatus,isSso:t.userSsoStatus,loginState:t.userLoginState};if((0,d.Yc)())try{const t=(0,l.pB)(r);if(t){const e=V(t);e&&(o={...o,...e})}}catch(t){(0,p.OO)(t,m.pdr,"digital-id: failed to retrieve digital ID cache")}return this.buildTelemetryContract(t,e,n,o,i)}static async getAppTypeTelemetryContractAsync(t,e,n,i){const r=(null==i?void 0:i.asyncStorage)??(0,l.GW)(l.y1);let o={aadState:t.userAadState,isSignedIn:t.userSignInStatus,isSso:t.userSsoStatus,loginState:t.userLoginState};if((0,d.Yc)())try{const t=await(0,l.dJ)(r);if(t){const e=V(t);e&&(o={...o,...e})}}catch(t){(0,p.OO)(t,m.pdr,"digital-id: failed to retrieve digital ID cache (async)")}return this.buildTelemetryContract(t,e,n,o,i)}static buildTelemetryContract(t,e,n,i,r){var o;const s=(null===c.Al||void 0===c.Al?void 0:c.Al.ClientSettings)??{},a=(null===c.Al||void 0===c.Al?void 0:c.Al.Diagnostics)??{},{mc:l={}}=a||{},{geo_citycf:d,geo_countrycf:h,requestTrailInfo:p={},travelInfo:m={},detection:g={},modes:v}=s??{},{cdn:w=null}=p??{},{cnex:y=null}=m??{},{ip:b}=g??{},S=function(t,e){let n;switch(t){case"explicit":{const t="homePage"===u.jG.AppType;n={cookieSource:t?"marketPref":"ntps",cookieValue:t?e&&e.marketPref:e&&e.ntps};break}case"implicitNew":case"implicitExisting":case"implicitReset":{const t=decodeURI(null==e?void 0:e.spt)||"",[i,r]=function(t){if(!t)return["",""];const e=t.split("|");return[e[2]||"",e[7]||""]}(t);n={cookieSource:"sptmarket",cookieValue:t,mktgeoCountryCode:i,mktgeoCountryCodeCf:r};break}}return n}(u.jG.MarketDetectionType,l),x="true"===(null===(o=s.browser)||void 0===o?void 0:o.ismobile)||"phone"===s.deviceFormFactor,C="true"===s.static_page,k=(null==r?void 0:r.locale)??u.jG.CurrentMarket;let T;const $=(null==r?void 0:r.pageUrl)??((0,L.N)()?document.URL:(0,f.DO)(e)),A=$&&($.includes("vptest=1")||$.includes("reqsrc=vp")),I=H.hasFlight("prg-1sw-logbat"),P=H.hasFlight("tellog10")||void 0,_=(null==v?void 0:v.uxMode)||void 0;return!A&&I&&(T={isRestrictClientLogSize:P,maxClientLogSize:6144}),{browser:{isMobile:x},flight:{id:void 0},locale:{mkt:k,lang:u.jG.MarketRequestInputLanguage,region:u.jG.MarketRequestInputRegion,geo_cc:u.jG.MarketRequestInputGeoCountry,mktReason:u.jG.MarketDetectionType},page:{appType:u.jG.AppType,canvas:t.pageCanvas,config:t.pageConfiguration,content:{title:(null==r?void 0:r.pageContentTitle)??((0,L.N)()?document.title:""),...!j(t.pageContentCategory)&&{category:t.pageContentCategory},...!j(t.pageContentSubCategory)&&{subcategory:t.pageContentSubCategory},...!j(t.pageContentDomainId)&&{domainId:t.pageContentDomainId},...!j(t.pageContentId)&&{id:t.pageContentId},...!j(t.pageContentVertical)&&{vertical:t.pageContentVertical}},isAdEnabled:!1,isAutoRefresh:!1,isJSEnabled:!0,isStatic:C,name:t.pageName,ocid:t.pageOcid,product:t.pageProduct,type:(null==r?void 0:r.pageType)||s.pagetype,url:$,viewType:(null==r?void 0:r.pageViewType)??H.trackCallbacks(n),...!j(t.pageTheme)&&{theme:t.pageTheme},...!j(t.pageHas3PSearch)&&{has3PSearch:t.pageHas3PSearch},uxMode:_},debug:{cetoId:u.jG.ActivityIdLowerCaseNoHypens||null,cdn:w,geoCityCf:d,geoCountryCf:h,langMismatch:u.jG.MarketMismatchDetail||void 0,detectedDetails:S||void 0,hasTravelerException:y||void 0,detectedIP:b||void 0},...(!j(t.userSignInStatus)||!j(t.userSsoStatus)||!j(t.userAadState))&&{user:i},featureFlags:T}}static getAppTypeTrackingSystemConfig(t){const e=function(t,e,n,i){const r=t&&t.includes("microsoftstart.com")?"MicrosoftStart":"";let o;return o="prod"===e?i?"enterprise":"prod":"int",U[`${o}${n?"CN":""}${r}`]}(c.Al&&c.Al.ClientSettings&&c.Al.ClientSettings.domain,u.jG.Environment,u.jG.IsChinaCompliance,t);return(0,W.E)(e),e}static trackCallbacks(t){let e="";switch((0,i.Bn)().currentColumnArrangement){case t.singleColSupported&&r.K$.c1:e="size1column";break;case!t.singleColSupported&&r.K$.c1:case r.K$.c2:e="size2column";break;case r.K$.c3:e="size3column";break;case r.K$.c4:e="size4column";break;case t.fiveColSupported&&r.K$.c5:e="size5column"}return e}static hasFlight(t){const e=u.jG.CurrentRequestTargetScope&&u.jG.CurrentRequestTargetScope.pageExperiments,n=(0,B.Mx)(e);return n&&n.includes(t)}}function z(t){if(t){a.A.get(a.U.CookieConsentProvider)===o.i.OneTrustBanner&&window.addEventListener(s.C,(()=>{const t=g.M0.getPageMetadata();t&&t.contract&&t.contract.page&&(t.contract.page.consentChanged="occ")}))}}function V(t){if(!t)return;const e=function(t){if(t)switch(t.at){case"AAD-AL":return"AAD-AL";case"AAD":return"AAD";case"MSA":return"MSA";case"NA":return"NA";default:return}}(t);return{...{aadState:"AAD"===e?1:0,isSignedIn:"MSA"===e,isSso:["AAD","AAD-AL","MSA"].includes(e)},loginState:e,wid:t.wid?t.wid.replace(/^m-/,"").toUpperCase():void 0}}function j(t){return null==t}},54584:function(t,e,n){n.d(e,{f:function(){return c},E:function(){return s}});var i=n(39399);var r=n(24025),o=n(50747);function s(t){!t||(0,o.c)()<=0||t.push({type:r.G.Automation,mapper:new i.k,transporterConfig:{callback:a}})}function a(t){c.dispatch({type:r.G.OneDS,payload:t})}const c=new class{constructor(){this.history=[],this.listeners=[]}dispatch(t){this.history.push(t),this.listeners.forEach((e=>e(t)))}listen(t){return this.listeners.push(t),this.history.forEach(t),{remove:()=>{const e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}}}}},32257:function(t,e,n){n.d(e,{o:function(){return s}});var i=n(7124),r=n(33779),o=n(5302);class s{constructor(t){this.bannerHeight=0,this.handleViewportRequest=()=>{this.notifyPageContentViewport()},this.debouncedViewportRequest=(0,i.Z)(this.handleViewportRequest,100),this.queryParent=t.queryParent,this.handleHeader(t.headerSelector,t.isHeaderHeightDynamic),document.addEventListener("requestPageContentViewport",this.debouncedViewportRequest)}updatePageContentViewport(t){this.bannerHeight=t.bannerHeight,this.notifyPageContentViewport()}dispose(){this.headerResizeObserver&&this.headerResizeObserver.disconnect(),document.removeEventListener("requestPageContentViewport",this.debouncedViewportRequest)}notifyPageContentViewport(){if(this.headerElement){const t=this.bannerHeight,e=this.headerElement.offsetHeight||0;document.dispatchEvent(new CustomEvent("pageContentViewportUpdated",{detail:{rootMargin:`-${t+e}px 0px 0px 0px`}}))}}handleHeader(t,e){var n;if(this.headerElement=null===(n=this.queryParent)||void 0===n?void 0:n.querySelector(t),!this.headerElement)return void(0,r.H)(o.OPR,"Unable to find header element",`Shadow root available: ${!!this.queryParent}, Header selector: ${t}`);this.headerElement&&e&&"ResizeObserver"in window?(this.headerResizeObserver=new ResizeObserver((()=>{this.notifyPageContentViewport()})),this.headerResizeObserver.observe(this.headerElement)):this.notifyPageContentViewport()}}},3046:function(t,e,n){n.d(e,{z:function(){return p}});var i=n(90695),r=n(33117),o=n(72465),s=n(5658),a=n(89799),c=n(43852);var u=n(18538),l=n(43225),d=n(31802),f=n(21215),h=n(66200);function p(t,e,n,p,g){(0,i.g7)(t,e),(0,r.n1)(),function(t,e,n,i,r){(0,s.TG)(t,n,e,i,r),(0,a.ny)((0,c.oA)("fetch","fetch",!0)),(0,o.DY)((0,c.oA)("custom-em","custom-em",!0))}(g,p,n,(()=>(0,i.FH)(!0)),(()=>(0,i.FH)(!1))),(0,i.dj)().traceLevel>=u.Y.high&&(m("RAF",requestAnimationFrame),m("RAFTimer",l.c)),(0,f.N)()&&((0,h._)(),window._getAppPerfTrace=d.c)}function m(t,e){const n=(0,c.oA)(t,t);n&&function t(){const{endMeasure:i}=n.startMeasure("frame");e((()=>{i(),t()}))}()}},35472:function(t,e,n){n.d(e,{sG:function(){return H},ql:function(){return z},If:function(){return W}});var i=n(86117),r=n(242),o=n(5302),s=n(33779),a=n(90631),c=n(72465);const u=t=>{let e=-1;const n=t[a.w],i=t[a.P9];n&&i&&(e=n-i),t[a.Fz]=e,(0,c.QP)({name:a.Fz,startTime:i,endTime:n})},l=t=>{let e=-1;const n=t[a.w],i=t[a.Wk];i&&n&&(e=i-n),t[a.iL]=e,(0,c.QP)({name:a.iL,startTime:n,endTime:i})};var d=n(64527);function f(t){window.windowsPerfMarker&&window.windowsPerfMarker(t)}function h(){const t=`${a.MV}.BasicFeed`;!function(t){const e=(0,r.Ou)();for(const[n,i]of t)for(const t of i){const i=e[t];if(null!=i){e[n]=i;break}}}([[t,["TTVR.River","TTVR.GridViewFeed","TTVR.StripeFeed","TTVR.WaterfallViewFeed"]]]);const e=(t,e,i)=>{const r=i&&e?i-e:-1;n[t]=r,(0,c.QP)({name:t,startTime:e,endTime:i})},n=(0,r.Ou)(),i=n[t],o=n[`${a.MV}.SearchBox`],s=n[`${a.MV}.SDCards`],u=n.WpoResponseBack;e("SearchBoxToFeed",o,i),e("FeedSDRender",i,s),e("FeedBasicRender",u,i)}var p=n(90061),m=n(34254),g=n(93441),v=n(21215);let w=!1,y=!1,b=!1;function S(){!w&&document.hidden?y=!0:"visible"===document.visibilityState&&(b=!0)}function x(){return y}(0,v.N)()&&(window.addEventListener&&window.addEventListener("beforeunload",(function(){w=!0})),void 0!==document.hidden&&null!==document.hidden&&document.addEventListener("visibilitychange",S),S());var C=n(99147),k=n(82588),T=n(77137),$=n(16986),A=n(47581),I=n(27566),P=n(17813);const _={prefix:"SW",startTime:"StartTime",navigationFetchTime:"NavigationFetchTime",navigationCacheReadTime:"NavigationCacheReadTime",navFeedHandlerComplete:"NavFeedHandlerComplete",navFeedHandlerWillRespond:"NavFeedHandlerWillRespond",navFeedHandlerDidRespond:"NavFeedHandlerDidRespond",navFeedHandlerStart:"NavFeedHandlerStart",navFeedCacheDuration:"NavFeedCacheDuration",navParseDuration:"NavParseDuration",navFeedCachedStatus:"NavFeedCachedStatus",navFeedCacheReadTime:"NavFeedCacheReadTime",navFeedFetchTime:"NavFeedFetchTime",navFeedCacheOpenDuration:"NavFeedCacheOpenDuration",navCachedResponseAge:"NavCachedResponseAge",navRoutingReason:"NavRoutingReason",navRoutingDuration:"NavRoutingDuration",clientNavCacheReadStart:"clientNavCacheReadStart",clientNavFetchStart:"clientNavFetchStart"};function M(t){return[_.prefix,t].filter((t=>t.length>0)).join(".")}function R(t,e){return new Promise((n=>{const i=new MessageChannel;i.port1.onmessage=t=>{n(t.data)},t.postMessage(e,[i.port2])}))}async function E(){return function(t){if(!navigator.serviceWorker)return;const e=navigator.serviceWorker.controller;return e?R(e,t):navigator.serviceWorker.ready.then((e=>{const n=e.active;if(n)return R(n,t)}))}({type:"NAV_PERF_DATA"})}var F=n(44132);const D={hit:1,"hit-mem":2,miss:0};function O(t){const e=(0,r.Th)();N(e)&&(t[M(_.startTime)]=function(t){return t.requestStart-t.workerStart}(e),t[M(_.navigationFetchTime)]=function(t){const e=t.transferSize;if(0===e||300===e)return-1;return t.responseStart-t.requestStart}(e),t[M(_.navigationCacheReadTime)]=function(t){const e=t.transferSize;return 0===e||300===e?t.responseStart-t.requestStart:-1}(e),async function(t){if(!N())return;const e=await E();if(!e)return;e.cacheLookupStatus&&(t[a.kc]=D[e.cacheLookupStatus]);let n={};if(e&&e.swTimeOrigin){const t=e.swTimeOrigin;e.resourceTiming=U(e.resourceTiming,t),n=U(e,t,"SW."),n.clientTimeOrigin=performance.timeOrigin}F.M0.sendLoadTimeEvent({markers:n}),window._swTimings=n}(t))}function N(t){return!!(t=t||(0,r.Th)())&&Boolean(t.workerStart)}function U(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t)return;const i={};for(const r in t){const o=t[r];"number"!=typeof o||o<0?i[`${n}${r}`]=o:r.endsWith("Start")||r.endsWith("End")?i[`${n}${r}`]=Math.round(o+e-performance.timeOrigin):r.endsWith("Time")?i[`${n}${r}`]=Math.round(o):i[`${n}${r}`]=o}return i}var L=n(44653),B=n(42632);function W(t,e,n){var a;if(!(0,v.N)())return;const c=(0,m.S0)();c&&e===i.oN.Primary&&g.g.updateAboveTheFoldVisuallyReady.getActionSender(c).send(performance.now());const u=e===i.oN.Primary,l=(0,i.bO)(e),d=(0,r.Ou)();if(d.IncompleteMarkers=null==l?void 0:l.join(","),x())return void t([]);let f=[];const h=u?o.LwW:o.Nxj;f=u?(0,i.bP)():(0,i.gh)();const w=(0,i.Gb)(),y=w.marker||"None",b=w.value||"None";let S=", Visual dependency callback was unavailable.";if(n){const t=n();S=t.length?`, Incomplete visual dependencies: ${JSON.stringify(t)}.`:", No pending visual dependencies."}if((0,s.H)(h,"Missing perf markers",`Missing perf markers: ${JSON.stringify(l)}${S} Last Marked: ${y} ${b}`),null===(a=window)||void 0===a||a.dispatchEvent(new Event("PerfMarkMissErr")),window.isSSRCompleted&&l.includes("TTF")){const t=[...(0,p.SM)().entries()].map((t=>{let[e,n]=t;return`${e}:${n}`})).join(",");(0,s.H)(o.V2e,"Missing TTF marker in SSR page",`Elements that are still in top-down hydration process: ${t}`)}const C=(0,i.OZ)();C&&u&&l.includes(`TTVR.${C}`)&&((0,s.H)(o.MmB,"Expected feed timed out while loading",`Expected feed timed out while loading: ${C}`),d&&console.log(JSON.stringify(d))),window.renderCacheEnabled&&u&&(0,L.cB)(),t(f)}async function H(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,r.Ou)(),{onAfterPageTimingsUpdated:o,disableLoadTimeEvent:s,reportEntityMetrics:c}=e,p=(0,r.Th)();if(p){const{domComplete:t,loadEventStart:e,responseStart:i,domainLookupEnd:r,domainLookupStart:o,domInteractive:s,domContentLoadedEventStart:c,domContentLoadedEventEnd:f,fetchStart:h,connectEnd:m,connectStart:g,workerStart:v,responseEnd:w,requestStart:y,unloadEventStart:b,unloadEventEnd:S,type:x,systemEntropy:C,secureConnectionStart:k,redirectCount:$,redirectEnd:A,redirectStart:I}=p;n.timeToFirstByte=i,n.timeToDomComplete=t,n.timeToOnLoad=e,n.domainLookupTime=r-o,n.timeToFetchStart=h,n.timeToWorkerStart=v,n.connectStart=g,n.connectTime=m-g,n.requestStart=y,n.requestTime=i-y,n.responseStart=i,n.responseTime=w-i,n.requestResponseTime=w-y,n.fetchTime=w-h,n.swInitTime=h-v,n.swFetchTime=o-h,n.timeToUnload=S-b,n.timeToInteractive=s,n.domContentLoadedEventStart=c,n.domContentLoadedEventEnd=f,n.navigationType=x,n.systemEntropy=C,n.timeToSecureConnection=k-g,n.redirectStart=I,n.redirectEnd=A,n.redirectCount=$,function(t){t.buildVer=T.jG.BuildVersion||-1}(n),function(t){if(performance.getEntriesByType){const e=performance.getEntriesByType("paint").filter((t=>"first-contentful-paint"===t.name));e.length>0&&(t[a.zJ]=Math.round(e[0].startTime))}}(n),(0,d.Oq)(n),(0,d.bg)(n),(0,d.H7)(n),(0,d.zV)(n),(0,d.Am)(n),u(n),(0,d.bM)(n),l(n)}(0,d.dw)(n),(0,d.iA)(n);for(const e of t){const t=e[0];n[t]||(n[t]=e[1])}const m=(0,i.sx)();m&&(n.ReasonForTTVR=m);const g=n[$.dd];g&&(f($.jh),f($.H$),(0,A.Eu)(g),function(t){if(performance&&performance.getEntriesByType&&t&&t[a.MV]){const e=performance.getEntriesByType("navigation");if(e.length){const n=e[0];let i=0,r=0;a.pJ in n&&a.fR in n&&(i=n[a.pJ],r=n[a.fR]),i<0&&r<0&&(t["TTVR."+a.IP]=Math.round(t[a.MV]-i),t["TTVR."+a.Hm]=Math.round(t[a.MV]-r))}}}(n)),C.U.getConfigTimings(n),O(n),n.wasBrowserHiddenAtLeastOnce=x(),h(),o&&o(),(0,P.wY)(),Promise.all([(0,I.o)(),(0,P.lr)()]).then((()=>{(0,A.fv)(n),s||(0,B.J)(window,{reportEntityMetrics:c})})),(0,k.mS)({id:"PostTtvr",type:"command"})}async function z(t,e,n){const i=(0,r.Ou)(),o=(0,r.Y9)();if((t=t.filter((t=>!(t[0]in i)))).forEach((t=>{const e=t[0];e in i||(o[e]=t[1],i[e]=t[1])})),k.yb){const t=await(0,k.ot)({id:"perfmarkers"},4e3);if(t&&t.fetched){const e=t.payload;e&&e["WW.MyFeed"]&&(e.FeedRequest=e["WW.MyFeed"]),Object.assign(o,t.payload),Object.assign(i,t.payload)}}o.TimeToSendSecondaryPerfMarkers=Math.round(performance.now()),e&&e(),n||Promise.all([(0,I.o)(),(0,P.lr)()]).then((()=>{(0,B.J)(window,{isSecondaryBeacon:!0})}))}},23946:function(t,e,n){n.d(e,{c:function(){return f},f:function(){return h}});var i=n(35472),r=n(34960),o=n(33779),s=n(5302),a=n(86117),c=n(44132),u=n(89658),l=n(42833),d=n(21215);function f(t,e){let n,i=e,o=(0,r.F)(performance.now());const s=()=>{const e=(0,r.F)(performance.now());i-=e-o,i<=0?t():(o=e,requestAnimationFrame((()=>{n=window.setTimeout(s,i)})))};return requestAnimationFrame((()=>{n=window.setTimeout(s,i)})),()=>{clearTimeout(n)}}async function h(t){if(!(0,d.N)())return;const e=new l.o;t=t||{};let n=!1;async function r(n){var r,a;null===(r=f)||void 0===r||r(),c.M0.config.autoCaptureContentView=!0,c.M0.observeElementTree(document);const l=!!t.pageLoadEventsAvailableCallback&&!t.pageLoadEventsAvailableCallback();l||c.M0.scheduleContentViewEvent(u.NS.Load);const{contentViewTimeoutOverride:d,onBeforeNotifyCallback:h,reportEntityMetrics:p,maxValidTTVR:m}=t;d&&c.M0.setContentViewTimeout(d);const g=null===(a=window.performance)||void 0===a?void 0:a.getEntriesByType("visibility-state").find((t=>"hidden"===t.name));if(m&&!g){const t=n.find((t=>"TTVR"===t[0])),e=null==t?void 0:t[1];null!=e&&("number"!=typeof e||isNaN(e)||e<0||e>m)&&(t[1]=void 0,(0,o.H)(s.nln,`Invalid TTVR: ${e}. Expected a number between 0 and ${m}.`,void 0,{ttvr:e}))}(0,i.sG)(n,{onAfterPageTimingsUpdated:h&&(()=>{h(n)}),disableLoadTimeEvent:l,reportEntityMetrics:p}),e.set()}let f;const h=window.setTimeout((()=>{n=!0,(0,i.If)((t=>r(t)),a.oN.Primary,t.incompleteVisualDependencyCallback)}),t.timeoutOverride||2e4);return f=()=>window.clearTimeout(h),(0,a.Nv)().then((t=>{n||r(t)})),await e.getResultAsync()}},65685:function(t,e,n){n.d(e,{S:function(){return u}});var i=n(242),r=n(86117),o=n(35472),s=n(21215),a=n(13218),c=n(16986);async function u(t){if(!(0,s.N)())return;if(t=t||{},a.Al.IsPrerender){(0,i.Y9)()[c.C7]=1}let e=!1;return new Promise((n=>{const i=setTimeout((()=>{n(),e=!0,(0,o.If)(s,r.oN.Secondary,t.incompleteVisualDependencyCallback)}),t.timeoutOverride||2e4);async function s(e){i&&clearTimeout(i);const n=!!t.pageLoadEventsAvailableCallback&&!t.pageLoadEventsAvailableCallback();(0,o.ql)(e,t.onBeforeNotifyCallback&&(()=>{t.onBeforeNotifyCallback(e)}),n)}(0,r.e3)().then((t=>{n(),e||s(t)}))}))}},66200:function(t,e,n){n.d(e,{_:function(){return h}});var i=n(21438),r=n(42122),o=n(7677),s=n(42833),a=n(54584),c=n(21215),u=n(50747),l=n(9791);const d=new s.o;let f;async function h(){const t=(0,u.c)();if(0===t)return void await w(!1);let e,i;const o=performance.now();try{const{telemetryValidationPackage:t}=await n.e("telemetry-validation").then(n.bind(n,85455)),r={telemetryPayloadListener:a.f},o=await t.initializePackage(r);({error:e,manager:i}=o)}catch(t){e=t}finally{f=v(o)}if(i){if(d.set(i),t>=3){const e=4===t;await i.enableUXValidation({loadToolsUX:e})}}else{var s;const t=(null===(s=e)||void 0===s?void 0:s.message)||"No error was provided.";d.setError(e=new Error(`TelemetryValidationManager initialization error: ${t}`))}e&&r.k.logError(e.message),w(!!i)}const p=async t=>await g({args:t}),m=(0,l.Z)((async()=>await g({uxValidationOptions:{wholePageValidation:!0}})));async function g(t){let e,n;const r=performance.now();return await async function(t,e){const n=performance.now();try{const e=await d.getResultAsync();await t(e)}catch(t){const r=(0,o.g_)(t);e({status:"aborted",groupKey:i.Rc.other.displayKey,error:r,errorString:(0,o.n)(r),timeTaken:v(n)},v(n))}}((async i=>{!t.args&&t.uxValidationOptions&&await i.enableUXValidation(t.uxValidationOptions),({results:e,next:n}=i.getValidationResultsSync(t.args))}),(t=>e=[t])),{results:e,next:n,timeTaken:v(r)+(t.args?0:f)}}function v(t){return Math.round(10*(performance.now()-t))/10}async function w(t){t&&await d.getResultAsync(),window._telemetryValidationEnabled=t,window.dispatchEvent(new CustomEvent("telemetryValidationInitStatus"))}(0,c.N)()&&(window._getValidationResults=p,window._getWholePageValidationResults=m)},50747:function(t,e,n){n.d(e,{c:function(){return o}});var i=n(21215),r=n(22680);const o=(0,n(9791).Z)((()=>{if((0,i.N)()){const e=(0,r.zp)();if(e.includes("item=tvux:1"))return 4;if(e.includes("reqsrc=vp"))return e.includes("item=tvwp:1")?2:3;{var t;const n=null===(t=e.match(/item=tv:(\d+)/))||void 0===t?void 0:t[1];if(n)return parseInt(n)}}return 0}))},42632:function(t,e,n){n.d(e,{J:function(){return d},O:function(){return c}});var i=n(44132),r=n(242),o=n(90695),s=n(5302),a=n(18875);const c={};let u=!1;function l(){c.primaryLoadTimeEventSent=!1,c.secondaryLoadTimeEventSent=!1,u=!1}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isSecondaryBeacon:n,reportEntityMetrics:a}=e,l=Object.assign({},n?(0,r.Y9)():(0,r.Ou)());u||!a&&!n||((0,o.Xn)(l),u=!0),Object.keys(l).length&&(n?c.primaryLoadTimeEventSent||(l.isPrimaryLoadTimeEventSent=!1):l.TimeToSendPrimaryPageTimings=Math.round(performance.now()),t.liteLoadTimeSentKey&&t.liteLoadTimeSentKey.forEach((t=>{delete l[t]})),function e(){try{if(i.M0&&i.M0.getPageMetadata()){const e=(0,r.A1)()||{};if(n){if(c.secondaryLoadTimeEventSent)return;c.secondaryLoadTimeEventSent=!0}else{if(c.primaryLoadTimeEventSent||t.__peregrine_liteTtvrSent)return;c.primaryLoadTimeEventSent=!0,t.__peregrine_normalTtvrSent=!0}i.M0.sendLoadTimeEvent({markers:l,deviceCapabilities:e});const o=(0,r.Ou)();o&&n&&(o.telemetryBeaconFireTime=Math.round(performance.now()))}else t.setTimeout(e,500)}catch(t){i.M0&&i.M0.sendAppErrorEvent({...s.IU$,message:"Unable to send load time event"})}}())}l(),(0,a.U)(l)},13425:function(t,e,n){n.d(e,{L:function(){return o}});var i,r=n(24709);class o{}(i=o).addVisuallyReadyDependencies=new r.C("AddVisuallyReadyDependencies"),i.markVisuallyReadyComplete=new r.C("MarkVisuallyReadyComplete")},99683:function(t,e,n){n.d(e,{P:function(){return s}});var i=n(38947),r=n(13425),o=n(17813);class s{reduce(t,e){if(!t)return{visuallyReadyDependencies:new Map};if(!e)return t;let n=!1;const s={...t};return n=n||i.G.handleAction(e,r.L.addVisuallyReadyDependencies,(t=>{t&&t.forEach((t=>{t&&!s.visuallyReadyDependencies.has(t)&&s.visuallyReadyDependencies.set(t,{experienceType:t,visuallyReady:!1})}))})),n=n||i.G.handleAction(e,r.L.markVisuallyReadyComplete,((t,e)=>{if(t){const e=s.visuallyReadyDependencies.get(t);e&&(e.visuallyReady=!0,"GridViewFeed"!==t&&"WaterfallViewFeed"!==t||(0,o.Bj)())}})),n?s:t}}},54072:function(t,e,n){n.d(e,{w:function(){return m}});var i,r=n(34254),o=n(91661),s=n(93441),a=n(86117),c=n(39607);!function(t){t.VISUALLY_READY_WILL_FIRE="visuallyReadyWillFire",t.VISUALLY_READY_DID_FIRE="visuallyReadyDidFire",t.PAGE_REVEAL_START_WILL_FIRE="pageRevealStartWillFire",t.PAGE_REVEAL_START_DID_FIRE="pageRevealStartDidFire",t.PAGE_REVEAL_COMPLETE_WILL_FIRE="pageRevealCompleteWillFire",t.PAGE_REVEAL_COMPLETE_DID_FIRE="pageRevealCompleteDidFire"}(i||(i={}));var u=n(30666),l=n(13425);class d extends u.e{constructor(){super(...arguments),this.ttvrMarkers=[],this.getIncompleteVisualDependencies=()=>{const{visuallyReadyDependencies:t}=this.getCurrentState(),e=[];return t.forEach((t=>{t.visuallyReady||e.push(t.experienceType)})),e}}addVisuallyReadyDependencies(t){l.L.addVisuallyReadyDependencies.getActionSender(this).send(t),t.forEach((t=>{this.ttvrMarkers.push(t),(0,c.w)(t,!0)}))}registerVisuallyReadyObserver(){s.g.updateVisuallyReadyTiming.registerObserver((t=>{const e=t.params[0];if(!e)return;const{experienceType:n,endTime:i}=e;if(null!=i){this.getCurrentState().visuallyReadyDependencies.has(n)&&this.markVisuallyReadyComplete(n)}}))}registerMarkersIfNecessary(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!(this.ttvrMarkers&&0!==this.ttvrMarkers.length||t&&0!==t.length||e&&0!==e.length))return;const i={};i.TTVR=e?[...this.ttvrMarkers,...e]:this.ttvrMarkers,t&&(i.TTF=t),n&&(i.TTPR=[...this.ttvrMarkers],i.TTPR.push("OverlayRemoval")),(0,a.IO)(i)}registerSecondaryPerfMarkers(t){(0,a.Xl)(t)}registerFeedPerfMarker(t){(0,a.tW)(t)}async markVisuallyReadyComplete(t){const{visuallyReadyDependencies:e}=this.getCurrentState();if(e.get(t).visuallyReady)return;l.L.markVisuallyReadyComplete.getActionSender(this).send(t);for(const t of e.values())if(!t.visuallyReady)return;const n=(0,r.S0)();n&&(await(0,r.FQ)(i.VISUALLY_READY_WILL_FIRE),performance.measure("VisuallyReady"),s.g.updateAboveTheFoldVisuallyReady.getActionSender(n).send(performance.now()),await(0,r.FQ)(i.VISUALLY_READY_DID_FIRE))}}var f=n(77137),h=n(70041),p=n(98675);class m extends d{async initialize(t){var e;const{deviceFormFactor:n,pageExperiments:i}=(null===f.Yq||void 0===f.Yq||null===(e=(0,f.Yq)())||void 0===e?void 0:e.CurrentRequestTargetScope)||{},{isWaterfallDep:a,isRubyMode:c,disableFeed:u}=t||{},l="phone"===n,d=[];l?d.push(h.o9I):(a||null!=i&&i.includes("prg-hp-cmnhdr")?d.push(h.Mys):d.push(h.Wfs),a?-1!==location.pathname.indexOf("/personalize")?d.push(h.eHH):u||-1===location.pathname.indexOf("/interest/following")?-1!==location.pathname.indexOf("/navigation_page")?d.push(h.E6M):u||d.push(h.F11):d.push(h.wge):d.push(h.Kls)),this.addVisuallyReadyDependencies(d);const m=(0,r.S0)(),g=[];if(m){const t={eventType:o.Gg.aboveTheFoldVisuallyReady},e=[];l?(e.push((0,r.Qz)(t,h.nUs)),e.push((0,r.Qz)(t,h.v61))):(a||(e.push((0,r.Qz)(t,h.NGN)),e.push((0,r.Qz)(t,h.kPE)),e.push((0,r.Qz)(t,h.$38))),e.push((0,r.Qz)(t,h.X$j)),e.push((0,r.Qz)(t,h.UxP)),e.push((0,r.Qz)(t,h.UC2)),e.push((0,r.Qz)(t,h.QF7)),e.push((0,r.Qz)(t,h.PbC)),e.push((0,r.Qz)(t,h.HxI)),e.push((0,r.Qz)(t,h.PVl)),e.push((0,r.Qz)(t,h.n65)),e.push((0,r.Qz)(t,h.eMK)),e.push((0,r.Qz)(t,h.F$x)),e.push((0,r.Qz)(t,h.r9S)),e.push((0,r.Qz)(t,h.Uhi)),e.push((0,r.Qz)(t,h.WBD)),e.push((0,r.Qz)(t,h.Ntf)),e.push((0,r.Qz)(t,h.CdR)),e.push((0,r.Qz)(t,h.Mjw)),e.push((0,r.Qz)(t,h.ebN)),e.push((0,r.Qz)(t,h.bUs)),e.push((0,r.Qz)(t,h.qZt)),e.push((0,r.Qz)(t,h.GHS)),e.push((0,r.Qz)(t,h.PcW)),e.push((0,r.Qz)(t,h.isq)),e.push((0,r.Qz)(t,h.nUs)),e.push((0,r.Qz)(t,h.wr4)),e.push((0,r.Qz)(t,h.wwX)),e.push((0,r.Qz)(t,h.Tu3)),e.push((0,r.Qz)(t,h.YD1)),e.push((0,r.Qz)(t,h.rnA)),e.push((0,r.Qz)(t,h.jK4))),s.g.updateExperienceLoadDeferralState.getActionSender(m).send(e)}l||(g.push("TTNativeAd.Request"),g.push("NAdFetch"),g.push("TTNativeAd.Response"),a&&c&&(0,p.qq)((0,p.dq)(location.href))||g.push("TTVR.MeStripe"),this.registerSecondaryPerfMarkers(g)),this.registerVisuallyReadyObserver(),this.registerMarkersIfNecessary()}}},5104:function(t,e,n){n.r(e),n.d(e,{ExperienceTrackerHomePageDataConnector:function(){return i.w},ToolingInfo:function(){return r}});var i=n(54072);const r={experienceConfigSchema:{}}},68178:function(t,e,n){n.d(e,{S1:function(){return a},Yc:function(){return s}});var i=n(77137),r=n(22680);function o(){var t;return(null===(t=(0,i.Yq)().WidgetAttributes)||void 0===t||null===(t=t.propertyBag)||void 0===t?void 0:t.theme)||new URLSearchParams((0,r.zp)()).get("theme")}function s(){var t;if(null===(t=window)||void 0===t||!t.matchMedia)return;const e=o();if(e)return"dark"===e;const n=window.matchMedia("(prefers-color-scheme: dark)");return n?!!n.matches:void 0}function a(t){return!(null==t||!t.useMobile||null==t||!t.isDarkModeForMobile)}},65517:function(t,e,n){n.d(e,{P5:function(){return u},Ve:function(){return c},Yw:function(){return a},dw:function(){return s},m0:function(){return o}});var i=n(33442),r=n(92531);const o="#000000",s="#FFFFFF",a=(0,i.l$)((()=>o))(r.ZP),c=(0,i.s5)((()=>o))(r.ZP),u=(0,i.$B)((()=>s))(r.ZP)},72263:function(t,e,n){n.d(e,{GQ:function(){return f},K$:function(){return i},QM:function(){return b},aK:function(){return y},eH:function(){return x},hg:function(){return m},q7:function(){return p},rA:function(){return c},vW:function(){return S}});var i,r=n(58106),o=n(52185),s=n(59465),a=n(42166);!function(t){t.c1="c1",t.c2="c2",t.c3="c3",t.c4="c4",t.c5="c5"}(i||(i={}));const c={c1:1,c2:2,c3:3,c4:4,c5:5},u="__minViewportWidthOverrides__",l="__columnArrangementDefinitions__",d="__columnArrangementMap__",f=()=>(o.Gq.get(l)||v(),o.Gq.get(l)),h=()=>(o.Gq.get(d)||v(),o.Gq.get(d));function p(t){o.Gq.set(u,t)}function m(){const t=f(),e=h();if(s.pf.fiveColSupported()&&4===t.length){const n=new g(i.c5,r.sc);t.push(n),e[i.c5]=n}}class g{constructor(t,e,n){this.arrangement=t,this.contentSizePx=e,this.isFirstBreakpoint=n}get minViewportWidthPx(){if(this.isFirstBreakpoint)return 0;const t=o.Gq.get(u);if(t){const e=t.get(this.arrangement);if(e)return e}return this.contentSizePx+w}}function v(){const t=[];t.push(new g(i.c1,r.xs,!0)),t.push(new g(i.c2,r._3)),t.push(new g(i.c3,r.Xn)),t.push(new g(i.c4,r.xX)),s.pf.fiveColSupported()&&t.push(new g(i.c5,r.sc));const e={};for(const n of t)e[n.arrangement]=n;o.Gq.set(l,t),o.Gq.set(d,e)}const w=32;!function(){const t=[0],e=f();for(let i=1;i<e.length;i++){var n;t.push(null===(n=e[i])||void 0===n?void 0:n.minViewportWidthPx)}}();function y(t,e){const n=[],i=f(),r=h();if(t){const e=r[t],i=null==e?void 0:e.minViewportWidthPx;i>0&&n.push(`(min-width: ${(0,a.a)(i)})`)}if(e){const t=r[e],s=i.indexOf(t);var o;if(s<i.length-1)n.push(`(max-width: ${(0,a.a)((null===(o=i[s+1])||void 0===o?void 0:o.minViewportWidthPx)-1)})`)}return n.join(" and ")}function b(t){return y(t,t)}function S(t,e){const n=y(t,e);return n?"@media "+n:""}function x(t){return S(t,t)}},58106:function(t,e,n){n.d(e,{O7:function(){return p},Xn:function(){return a},_3:function(){return s},_s:function(){return h},iN:function(){return d},jU:function(){return m},nL:function(){return f},sc:function(){return u},xX:function(){return c},xs:function(){return o}});const i=1272,r=1596;let o=300,s=624,a=948,c=i,u=r,l=null,d=24,f=612,h=924,p=1236;function m(t,e){const n=[];for(let i=0;i<6;i++)n.push(o*(i+1)+t*i+2*(e||0));e&&(o=n[0]),s=n[1],a=n[2],c=n[3],u=n[4],l=n[5],d=t}},74604:function(t,e,n){n.d(e,{Bn:function(){return d}});var i=n(72263),r=n(80329),o=n(20654),s=n(98303),a=n(21215),c=n(52185);const u="__FastBreakpointManager__";class l{get currentColumnArrangement(){return this.indexToStandardConverter(this.breakpointTracker.currentBreakpoint())}constructor(t){this.useRequestIsolatedTracker=!1,this.callbackMap=new Map,this.refreshBreakpoints(t)}refreshBreakpoints(t){const e=[0],n=(0,i.GQ)();(0,i.hg)();for(let t=1;t<n.length;t++){var r;e.push(null===(r=n[t])||void 0===r?void 0:r.minViewportWidthPx)}this.breakpointTracker.breakpoints=e,this.breakpointTracker.defaultBreakpoint=void 0!==t?(0,s.Nd)(t.data.breakpoint,"breakpoint"):0}set breakpoints(t){if(this.breakpointTracker.breakpoints=t,r.R1&&Array.isArray(r.R1)){const e=r.R1.length;for(let t=0;t<e;t++)r.R1.pop();t.forEach((t=>r.R1.push(t)))}}get breakpoints(){return this.breakpointTracker.breakpoints}updateBreakpointsBasedFromContainerWidth(t){const e=(0,i.GQ)();if(t>=e[3].contentSizePx)return;const n=[];for(let i=0;i<this.breakpoints.length;i++)(0===i||t>=e[i].contentSizePx)&&n.push(e[i].contentSizePx);this.breakpoints=n}subscribe(t){const e=e=>{t(this.indexToStandardConverter(e))};this.callbackMap.set(t,e),this.breakpointTracker.subscribe(e)}unsubscribe(t){this.breakpointTracker.unsubscribe(this.callbackMap.get(t)),this.callbackMap.delete(t)}unsubscribeAll(){this.callbackMap.forEach((t=>{this.breakpointTracker.unsubscribe(t)})),this.callbackMap.clear()}indexToStandardConverter(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=(0,i.GQ)();return e&&t>=e.length&&e[e.length-1]?e[e.length-1].arrangement:e[t].arrangement}get breakpointTracker(){return!(0,a.N)()&&this.useRequestIsolatedTracker?c.Gq.get("__FastBreakpointManager_breakpointTracker__",(()=>new o.Z.constructor)):o.Z}}const d=(t,e)=>(e&&c.Gq.set(u,new l(t)),c.Gq.get(u,(()=>new l(t))))},90061:function(t,e,n){n.d(e,{$L:function(){return y},Bg:function(){return u},NU:function(){return v},SM:function(){return k},ZH:function(){return h},_U:function(){return d},bE:function(){return m},iA:function(){return l},l_:function(){return p},po:function(){return w},zb:function(){return A}});var i=n(242),r=n(86117),o=n(42833),s=n(21215),a=n(52185);const c="defer-hydration",u="needs-hydration",l=window.location.search.includes("ssrhydrateperf"),d=new Map,f=t=>e=>{if(!e.hasAttribute(t))return Promise.resolve();const n=new o.o;return new MutationObserver(((i,r)=>{e.hasAttribute(t)||(n.set(),r.disconnect())})).observe(e,{attributeFilter:[t]}),n.getResultAsync()},h=f(c),p=f(u),m=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,s.N)())return{start:()=>{},markEnd:()=>{}};const n=`${t}.start`;return{start:()=>{var t;return null===(t=performance)||void 0===t?void 0:t.mark(n)},markEnd:function(){var r,o;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"end",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const c=`${t}.${s}`;var u;(null===(r=performance)||void 0===r||r.mark(c),null===(o=performance)||void 0===o||o.measure(`${t}.${s}:duration`,n,c),a)&&((0,i.Ou)()[`${t}.${s}:duration`]=null===(u=performance)||void 0===u?void 0:u.getEntriesByName(`${t}.${s}:duration`)[0].duration)}}};let g=new Set;const v=t=>g=new Set(t.map((t=>t.toLocaleLowerCase()))),w=t=>{d.clear(),t.forEach((t=>{d.set(t.toLocaleLowerCase(),{selfHydrationComplete:new o.o,topDownHydrateComplete:new o.o})}))},y=t=>{t.forEach((t=>{var e,n;const i=t.toLocaleLowerCase();null===(e=d.get(i))||void 0===e||e.selfHydrationComplete.set(),null===(n=d.get(i))||void 0===n||n.topDownHydrateComplete.set()}))};var b;!function(t){t[t.Immediate=0]="Immediate",t[t.Never=1]="Never",t[t.IdleAfterTtvr=2]="IdleAfterTtvr",t[t.OnInteraction=3]="OnInteraction",t[t.OnHover=4]="OnHover",t[t.OnPageResize=5]="OnPageResize"}(b||(b={}));const S=["click","keydown"],x=["mouseenter","focusin"],C=Symbol("topDownHydratingComponents"),k=()=>a.Gq.get(C,(()=>new Map)),T=t=>{const e=k(),n=(e.get(t)??0)+1;e.set(t,n)},$=t=>{const e=k(),n=(e.get(t)??0)-1;n>0?e.set(t,n):e.delete(t)};async function A(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=t.hasAttribute(c);if(i){var o;null==e||e.start(),t.removeAttribute(c);const i=t.tagName.toLocaleLowerCase();T(i),await p(t).then((()=>{var i;null===(i=n.onHydrationCallback)||void 0===i||i.call(n,t),null==e||e.markEnd("selfHydrationComplete")})),null===(o=d.get(i))||void 0===o||o.selfHydrationComplete.set()}let s;var a;t.hasAttribute("needs-recreation")?s=[]:s=Array.from((null===(a=t.shadowRoot)||void 0===a?void 0:a.children)??[]).concat(Array.from(t.children));return Promise.all(s.map(((e,i)=>{var o;let s;const a=e.tagName.toLocaleLowerCase(),c=new AbortController,u=()=>{if(!c.signal.aborted)return c.abort(),g.has(a)?s=m(`${a}:hydration`,!0):l&&(s=m(`${t.tagName.toLocaleLowerCase()}>${a}[${i}]`,!1)),A(e,s,n)},d={once:!0,passive:!0,capture:!0,signal:c.signal},f=null===(o=n.hydrationModes)||void 0===o?void 0:o[a];var h;if(1!==(null==f?void 0:f.mode)){if(!Array.isArray(null==f?void 0:f.mode))return u();var p;null==f||null===(p=f.markTtvr)||void 0===p||p.call(f,e);for(const t of f.mode)switch(t){case 2:(0,r.b1)().then((()=>requestIdleCallback(u)));break;case 3:S.forEach((t=>{e.addEventListener(t,u,d)}));break;case 4:x.forEach((t=>{e.addEventListener(t,u,d)}));break;case 5:window.addEventListener("resize",u,d)}}else null==f||null===(h=f.markTtvr)||void 0===h||h.call(f,e)}))).then((()=>{if(i){var n;null==e||e.markEnd("topDownHydrateComplete");const i=t.tagName.toLocaleLowerCase();$(i),null===(n=d.get(i))||void 0===n||n.topDownHydrateComplete.set()}}))}},46997:function(t,e,n){n.d(e,{KJ:function(){return o},Pi:function(){return r}});var i=n(1815);function r(t,e){s("property",t,e)}function o(t,e){s("name",t,e)}function s(t,e,n){if(!(0,i.T)(e)){let i=a(t,e);i?i.setAttribute("content",n):(i=document.createElement("meta"),i.setAttribute(t,e),i.setAttribute("content",n),document.querySelector("head").appendChild(i))}}function a(t,e){return document.head.querySelector(`meta[${t}='${e}']`)}},1815:function(t,e,n){function i(t){return!t||!function(t){if(!t)return t;if(t.trim)return t.trim();return t.replace(/^\s+|\s+$/g,"")}(t)}n.d(e,{T:function(){return i}})},38300:function(t,e,n){n.d(e,{Bs:function(){return m},E7:function(){return p},EH:function(){return g},Eg:function(){return h},Lr:function(){return i},S7:function(){return f},Se:function(){return b},WX:function(){return v},Wi:function(){return l},ZG:function(){return a},d5:function(){return r},f2:function(){return y},hE:function(){return o},il:function(){return c},mw:function(){return w},rO:function(){return d},yV:function(){return u}});const i={PrivacyUrl:"https://go.microsoft.com/fwlink/?LinkID=286759",SamDomain:"https://srtb.msn.com/",SamEndpoint:"auction",SamOpenRtbEndpoint:"auctionopenrtb",LeadgenEndpoint:"leadgenads",AppId:"msnappid",PublisherId:"msn",Ecasession:"init",RiverRegion:"river",RiverDoubleWide:"river-dbl",RiverHalfTextOnly:"river-half-textonly",RiverHalf:"river-half",ReservedRiver:"resriver",UserOptOut:"userOptOut",UserOptOutOptions:"userOptOutOptions",DefaultPartnerCookieSyncTimeout:500,BulkCookieSyncTimeout:1e3,WaitForAdResponseAfterWPOResponseTimeout:1500,DefaultContentServiceBaseUrl:"https://assets.msn.com/content/",SamOpenRTBMinTimeout:800,LeadgenAdServiceTimeout:3e3},r={river:"oneriver.main",infopane:"oneriver.spartan.infopane","infopane-tab":"oneriver.spartan.tabinfopane",rivert:"oneriver.maint"},o={BeaconFormatDecoded:"decoded",BeaconFormatEncoded:"encoded",BeaconTypeAdServed:"adserved",BeaconTypeClick:"click",BeaconTypeJsTracker:"jsTracker",BeaconTypeVisibility:"visibility",BeaconTypeVideoProgress:"videoProgress",StartEvent:"start",FirstQuartileEvent:"firstquartile",ThirdQuartileEvent:"thirdquartile",MidPointEvent:"midpoint",CompleteEvent:"complete",ProgressEvent:"progress",UserActionEvent:"userAction"};var s;!function(t){t.Click="click",t.Ready="ready",t.Play="play",t.Pause="pause",t.Ended="ended",t.Telemetry="telemetry",t.VolumeChange="volumechange",t.TimeUpdate="timeupdate",t.Error="error",t.CanPlay="canplay",t.CanPlayThrough="canplaythrough"}(s||(s={}));const a={CMSListServiceUrl:"v1/cms/api/amp/Document/",CMSContentServiceURl:"view/v1/Preview/",DefaultProviderName:"Microsoft"},c={ContentType:"application/json",Method:"POST",CacheControl:"no-cache",Skipsessioncall:"false",ContentTypeKey:"Content-Type",FlightIdKey:"x-ms-flightId",CacheControlKey:"Cache-Control",ClientIdKey:"X-MSEdge-ClientID",MarketKey:"X-MSEdge-Market",AuthCookieNameKey:"x-ms-authCookieName",Timeout:3e3,BCPCookieKey:"BCP",UserAgent:"User-Agent",AdsNumberLineKey:"X-ms-numberline"},u={MSAOptOut:"msaoptout",BrowserOptOut:"TOptOut",AppAnonCookieExist:"aace",TaboolaSessionCookieName:"ecasession",CookieDomain:"msn.com",AnonCookieName:"ANON",LiverampEnvelopeId:"adslrid"},l={"de-de":"BBGgbuP","en-gb":"BBI4NMr","en-us":"BBI4MeJ","it-it":"BBH0fea","de-at":"BBIbKRf","de-ch":"BBH6mkD","pl-pl":"BBGgsgw","tr-tr":"BBH3vBx","es-es":"BBGdmuQ","en-au":"BBGfT6j","es-ar":"BBH69zf","es-cl":"BBH6qTU","es-co":"BBH3TQV","es-pe":"BBIbVzn","es-mx":"BBGg7xs","pt-br":"BBI4jJ6","en-ca":"BBI4FN9","he-il":"BBIbHNd","fr-ch":"BBIfDNl","nl-be":"BBH6zcN","fr-be":"BBIclrE","fr-fr":"BBI4XBF","nl-nl":"BBGgoUg","pt-pt":"BBH3qlj","zh-cn":"BBPRWnl","ja-jp":"AAvs5xw","ko-kr":"AAvrTXp","en-xl":"AAxzSQi","es-us":"AAuAfA8","fr-ca":"BBH6Awm","es-xl":"BBIfH5i","cs-cz":"BBPwecC","da-dk":"BBGKGmb","el-gr":"BBIc8WA","fi-fi":"BBH6Cse","hu-hu":"BBPw6XX","nb-no":"BBI4EVt","ru-ru":"BBH3gvW","sv-se":"BBH3vHp","ar-ae":"BBIf1cG","ar-eg":"BBIcggw","ar-sa":"BBIc6wN","en-ae":"BBIbBRO","en-ie":"BBIclgh","en-za":"BBIc5NR","en-in":"BBGeThK","en-sg":"BBIfqX9","en-nz":"BBIc483","zh-hk":"BBIbPBb","hi-in":"BBH85g2","mr-in":"BBU7J93","te-in":"BBU7JcP","bn-in":"BBU7Qw4","id-id":"BBIc9Ls","th-th":"BBIbPH4","vi-vn":"BBIcbQS","es-ve":"BBIcaTp","fr-xl":"AAD4nFo","en-my":"BBIclH7","en-ph":"BBIcbaP","zh-tw":"BBH3qpv"},d={"de-de":"Gesponsert","en-gb":"Sponsored","en-us":"Sponsored","it-it":"Sponsorizzato","de-at":"Gesponsert","de-ch":"Gesponsert","pl-pl":"Sponsorowane","tr-tr":"Sponsorlu","es-es":"Patrocinado","en-au":"Sponsored","es-ar":"Patrocinado","es-cl":"Patrocinado","es-co":"Patrocinado","es-pe":"Patrocinado","es-mx":"Patrocinado","pt-br":"Patrocinado","en-ca":"Sponsored","he-il":"ממומן","fr-ch":"Sponsoroitu","nl-be":"Gesponsord","fr-be":"Sponsoroitu","fr-fr":"Sponsoroitu","nl-nl":"Gesponsord","pt-pt":"Patrocinado","zh-cn":"赞助","ja-jp":"スポンサー","ko-kr":"광고","en-xl":"Sponsored","es-us":"Patrocinado","fr-ca":"Sponsoroitu","es-xl":"Patrocinado","cs-cz":"Sponzorováno","da-dk":"Sponsoreret","el-gr":"Με χορηγό","fi-fi":"Sponsoroitu","hu-hu":"Hirdetés","nb-no":"Sponset","ru-ru":"Спонсируемые ссылки","sv-se":"Sponsrad","ar-ae":"مموّل","ar-eg":"مموّل","ar-sa":"مموّل","en-ae":"Sponsored","en-ie":"Sponsored","en-za":"Sponsored","en-in":"Sponsored","en-sg":"Sponsored","en-nz":"Sponsored","zh-hk":"贊助廠商","hi-in":"प्रायोजित केलेली","mr-in":"प्रायोजित केलेली","te-in":"ప్రాయోజితులు","bn-in":"স্পনসর করা","id-id":"Disponsori","th-th":"ได้รับการสนับสนุน","vi-vn":"Được tài trợ","es-ve":"Patrocinado","fr-xl":"Sponsoroitu","en-my":"Sponsored","en-ph":"Sponsored","zh-tw":"贊助廠商"},f={"de-de":"Anzeige","en-gb":"Ad","en-us":"Ad","it-it":"Ann.","de-at":"Anzeige","de-ch":"Anzeige","pl-pl":"Reklama","tr-tr":"R","es-es":"Publicidad","en-au":"Ad","es-ar":"Patrocinado","es-cl":"Patrocinado","es-co":"Patrocinado","es-pe":"Patrocinado","es-mx":"Patrocinado","pt-br":"Publicidade","en-ca":"Ad","he-il":"מודעה","fr-ch":"Sponsorisé","nl-be":"Advertentie","fr-be":"Sponsorisé","fr-fr":"Sponsorisé","nl-nl":"Advertentie","pt-pt":"Pub","zh-cn":"广告","ja-jp":"PR","ko-kr":"AD","en-xl":"Ad","es-us":"Patrocinado","fr-ca":"Pub","es-xl":"Patrocinado","cs-cz":"Reklama","da-dk":"Annonce","el-gr":"Ad","fi-fi":"Mainos","hu-hu":"Hird.","nb-no":"Annonse","ru-ru":"Реклама","sv-se":"Annons","ar-ae":"إعلان","ar-eg":"إعلان","ar-sa":"إعلان","en-ae":"Ad","en-ie":"Ad","en-za":"Ad","en-in":"Ad","en-sg":"Ad","en-nz":"Ad","zh-hk":"廣告","hi-in":"एड","mr-in":"जाहिरात","te-in":"ప్రకటన","bn-in":"বিজ্ঞাপন","id-id":"Ad","th-th":"Ad","vi-vn":"Ad","es-ve":"Patrocinado","fr-xl":"Sponsorisé","en-my":"Ad","en-ph":"Ad","zh-tw":"廣告"},h=["ja-jp","ko-kr","zh-cn"],p={MyFeedPivotId:"oneriver.myfeed",StripeMyFeedPivotId:"stripe.myfeed",EditInterestPivotId:"oneriver.editinterests"};var m;!function(t){t[t.AdBuffering=1]="AdBuffering",t[t.ContentBuffering=2]="ContentBuffering",t[t.AdError=10]="AdError",t[t.AdPlayStarted=11]="AdPlayStarted",t[t.AdPlayCompleted=13]="AdPlayCompleted",t[t.AdSkipped=15]="AdSkipped",t[t.AdTimeout=16]="AdTimeout",t[t.AdPause=17]="AdPause",t[t.AdResume=18]="AdResume",t[t.ContentError=20]="ContentError",t[t.ContentStart=21]="ContentStart",t[t.ContentContinue=22]="ContentContinue",t[t.ContentComplete=23]="ContentComplete",t[t.CC=30]="CC",t[t.Pause=31]="Pause",t[t.Seek=32]="Seek",t[t.Mute=33]="Mute",t[t.FullScreenEnter=34]="FullScreenEnter",t[t.Info=35]="Info",t[t.VideoQuality=36]="VideoQuality",t[t.Resume=37]="Resume",t[t.FullScreenExit=38]="FullScreenExit",t[t.Replay=39]="Replay",t[t.Unmute=40]="Unmute",t[t.ContentImpression3PP=41]="ContentImpression3PP",t[t.Facebook=51]="Facebook",t[t.Twitter=52]="Twitter",t[t.Email=53]="Email",t[t.CommonPlayerImpression=61]="CommonPlayerImpression",t[t.EndslateVideos=64]="EndslateVideos",t[t.EndslateContinuous=65]="EndslateContinuous",t[t.EndslateCancelCountdown=66]="EndslateCancelCountdown",t[t.EndslateShown=67]="EndslateShown",t[t.PlayerStarting=90]="PlayerStarting",t[t.AdLoading=91]="AdLoading",t[t.AdLoaded=92]="AdLoaded",t[t.VideoLoading=93]="VideoLoading",t[t.ContentOpen=101]="ContentOpen",t[t.Content25Percent=102]="Content25Percent",t[t.Content50Percent=103]="Content50Percent",t[t.Content75Percent=104]="Content75Percent",t[t.Canplay=105]="Canplay",t[t.Canplaythrough=106]="Canplaythrough"}(m||(m={}));const g=["en-it","de-at","fr-be","nl-be","cs-cz","da-dk","fi-fi","fr-fr","de-de","el-gr","hu-hu","it-it","nl-nl","no-no","pl-pl","pt-pt","es-es","sv-se","de-ch","de-fr","en-gb"],v=["cs-cz","da-dk","de-at","de-ch","de-de","en-gb","el-gr","fi-fi","fr-be","fr-ch","fr-fr","hu-hu","it-it","nb-no","nl-be","nl-nl","pl-pl","pt-br","pt-pt","ru-ru","sv-se","tr-tr","zh-cn"],w=["en-us","es-us"],y=20,b=280},61932:function(t,e,n){var i,r,o,s;n.d(e,{j3:function(){return c},sS:function(){return a}}),function(t){t._lowerBound="invalid",t._1by191="1x1.91",t._9by16="9x16",t._3by4="3x4",t._1by1="1x1",t._4by3="4x3",t._16by9="16x9",t._191by1="1.91x1"}(i||(i={})),function(t){t.Adult="adult",t.Enterprise="enterprise"}(r||(r={})),function(t){t.AdFeedV2="feedv2-template",t.Default="msft-content-card",t.PatternOverlay="msn-pattern-overlay-card",t.PseudoVideo="msn-pseudo-video-card",t.Slideshow="msn-slideshow-card",t.ZIndex="msn-z-index-card",t.AdCarousel="msn-ad-carousel",t.AnimatedImagery="msn-animated-imagery",t.InfopaneHorizontal_1by1="msn-info-pane-horizontal-1-by-1",t.InfopaneHorizontal_3by4="msn-info-pane-horizontal-3-by-4",t.InfopaneHorizontal_4by3="msn-info-pane-horizontal-4-by-3",t.InfopaneHorizontal_9by16="msn-info-pane-horizontal-9-by-16",t.InfopanePatternOverlay_1by1="msn-info-pane-pattern-overlay-1-by-1",t.InfopanePatternOverlay_4by3="msn-info-pane-pattern-overlay-4-by-3",t.InfopaneDoubleCard_19by10="msn-card-19-by-10",t.RiverAnimatedImagery_9by16="msn-river-animated-imagery-9-by-16",t.RiverZIndex_9by16="msn-river-z-index-9-by-16",t.RiverZIndex_3by4="msn-river-z-index-3-by-4",t.HotspotSingle="msn-hotspot-single",t.BrandStory="msn-brand-story",t.CallToAction="msn-ad-cta",t.CallToActionLearnMore="msn-ad-cta-learn-more",t.CallToActionDarkMode="msn-ad-cta-learn-more-dark-mode",t.CallToActionIcon="msn-ad-cta-icon",t.CallToActionShortTitle="msn-ad-cta-short-title",t.CallToActionMaskMode="msn-ad-cta-mask-mode",t.ContentReveal="msn-content-reveal",t.DiscountScribble="msn-discount-scribble",t.BrandStoryNoDeco="msn-brand-story-no-deco",t.BrandStoryNoProgressiveDisplay="msn-brand-story-no-progressive-display",t.Gamification="msn-gamification",t.HighlightRating="msn-highlight-rating-card",t.DecorationDynamic="msn-decoration-dynamic",t.TitleMaxLine2="msn-title-max-line-2",t.TitleMaxLine2C="msn-title-max-line-2-c",t.InfopaneDynamicRendering="msn-info-pane-dynamic-rendering",t.Logo="msn-native-ad-logo",t.LogoWithBorderRadius="msn-native-ad-logo-radius",t.ShortTitle="msn-native-ad-short-title",t.Spotlight="msn-spotlight-image",t.Disclaimer="msn-ad-disclaimer",t.ZIndexV2Original="msn-ad-zindex-v2-original",t.ZIndexV2Polygon="msn-ad-zindex-v2-polygon",t.AdSlugV3="msn-ad-slug-v3",t.AdSlugV4="msn-ad-slug-v4",t.DrPerf="msn-ad-dr-perf",t.Video="msn-video",t.VideoIAS="msn-video-ias",t.Amplify="msn-amplify",t.SpecialOfferNonDR="msn-special-offer-nondr",t.SpecialOfferNonDRWithExp="msn-special-offer-nondr-with-exp",t.RatingHighlightRedNonDR="msn-highlight-rating-nondr-red",t.RatingHighlightYellowNonDR="msn-highlight-rating-nondr-yellow",t.RatingHighlightYellowNonDRStatic="msn-highlight-rating-nondr-yellow-static",t.RatingDefaultYellowNonDRStatic="msn-default-rating-nondr-yellow-static",t.FreeShippingPlainTextNonDR="msn-freeshipping-plain-text-nondr",t.FreeShippingInlineNonDR="msn-freeshipping-inline-nondr",t.FreeShippingTopLeftNonDR="msn-freeshipping-top-left-nondr",t.FreeShippingTopRightNonDR="msn-freeshipping-top-right-nondr",t.FreeShippingDR="msn-freeshipping-dr",t.ConditionNonDR="msn-condition-nondr",t.ConditionNonDRControl="msn-condition-nondr-c",t.ReturnPolicyNonDR="msn-return-policy-nondr",t.ReturnPolicyNonDRControl="msn-return-policy-nondr-c",t.SoldNonDR="msn-sold-nondr",t.SoldNonDRControl="msn-sold-nondr-c",t.EliteBadge="msn-elite-badge",t.RatingDR="msn-rating-dr",t.Trending="msn-trending",t.LikeButton="msn-like-button",t.SaleHighlightV1="msn-sale-highlight-v1",t.SaleHighlightV1Control="msn-sale-highlight-v1-c",t.SaleHighlightV3="msn-sale-highlight-v3",t.SaleHighlightV4="msn-sale-highlight-v4",t.SaleHighlightV3V4Control="msn-sale-highlight-v3v4-c",t.ShortTitleControl="msn-short-title-c",t.SpecialOfferControl="msn-special-offer-c",t.LogoControl="msn-logo-c",t.FreeShippingControl="msn-freeshipping-c",t.ZIndexControl="msn-z-index-c",t.RatingControl="msn-rating-c",t.TrendingControl="msn-trending-c",t.CallToActionControl="msn-cta-c",t.HoverEffectControl="msn-hover-effect-c",t.HoverEffect="msn-hover-effect",t.ComboRating="msn-combo-rating",t.ComboFreeShipping="msn-combo-freeshipping",t.ComboSpecialOffer="msn-combo-special-offer",t.ComboRatingNonDR="msn-combo-rating-nondr",t.ComboFreeShippingNonDR="msn-combo-freeshipping-nondr",t.ComboSpecialOfferNonDR="msn-combo-special-offer-nondr",t.ComboSaleHighlightNonDR="msn-combo-sale-highlight-nondr",t.ComboRatingNonDRControl="msn-combo-rating-nondr-c",t.ComboFreeShippingNonDRControl="msn-combo-freeshipping-nondr-c",t.ComboSpecialOfferNonDRControl="msn-combo-special-offer-nondr-c",t.ComboSaleHighlightNonDRControl="msn-combo-sale-highlight-nondr-c",t.CallToActionV2="msn-call-to-action-v2",t.CallToActionV3="msn-call-to-action-v3",t.CallToActionV3PA="msn-call-to-action-v3-pa",t.PESeasonalAds="msn-pe-seasonal",t.PESeasonalAdsV1="msn-pe-seasonal-v1",t.PESeasonalAdsV1P="msn-pe-seasonal-v1p",t.PESeasonalAdsControl="msn-pe-seasonal-control",t.ComboSoldNonDR="msn-combo-sold-nondr",t.ComboReturnPolicyNonDR="msn-combo-return-policy-nondr",t.ComboConditionNonDR="msn-combo-condition-nondr",t.ComboSoldNonDRControl="msn-combo-sold-nondr-c",t.ComboReturnPolicyNonDRControl="msn-combo-return-policy-nondr-c",t.ComboConditionNonDRControl="msn-combo-condition-nondr-c",t.ResponsiveImageSizing="msn-responsive-image-sizing",t.ResponsiveDescription="msn-responsive-description",t.GeometricAdWaves1="msn-geometric-ad-waves-1",t.GeometricAdWaves3="msn-geometric-ad-waves-3",t.GeometricAdWaves4="msn-geometric-ad-waves-4",t.GeometricAdNature3="msn-geometric-ad-nature-3",t.GeometricAdSparkles1="msn-geometric-ad-sparkles-1",t.GeometricAdSparkles2="msn-geometric-ad-sparkles-2",t.GeometricAdSparkles3="msn-geometric-ad-sparkles-3",t.GeometricAdSparkles4="msn-geometric-ad-sparkles-4",t.GeometricAdSparkles5="msn-geometric-ad-sparkles-5",t.GPTTitle="msn-native-ad-gpt-title",t.AlignmentRF="msn-native-ad-align-rf",t.AIImg="msn-native-ad-ai-img",t.VAPhase2="msn-native-ad-va-phase2"}(o||(o={})),function(t){t.ScaleUp="scale-up",t.ScaleDown="scale-down",t.ScaleUpDown="scale-up-down"}(s||(s={}));const a={infopane:{w:612,h:304},river:{w:300,h:304}},c={templateType:"msft-content-card",animatedImage:"",landscapeOverlay:!1,allowedAssets:null,nativeAdMode:"adult",adCarousel:!1,progressiveDisplay:!1,discountThreshold:1,imageSizeConfig:{infopane:{w:604,h:296},river:{w:300,h:174}},badgeStyle:"blendedIn",useClickInGamify:!0,configType:void 0}},75115:function(t,e,n){n.d(e,{K9:function(){return l},W3:function(){return o},XY:function(){return f},aT:function(){return d},bZ:function(){return i},fs:function(){return p},g2:function(){return u},hy:function(){return c},jY:function(){return r},xs:function(){return h}});const i=["HotelAd"],r={img:{required:1,img:{type:3}},title:{required:1,title:{len:100}},providerName:{required:1,data:{type:1}},logo:{required:0,img:{w:16,h:16,type:1}},disclaimer:{required:0,data:{type:513}}};var o;!function(t){t.PopupDisclaimer="popupDisclaimer",t.ReviewRatingItem="reviewRatingItem",t.WorkingHoursItem="workingHoursItem",t.Callout="callout"}(o||(o={}));const s={price:{required:0,data:{type:6}},city:{required:0,data:{type:9}},review:{required:0,data:{type:510}},disclaimer:{required:0,data:{type:513}},[o.Callout]:{required:0,data:{type:517}},workingHours:{required:0,data:{type:536}},[o.ReviewRatingItem]:{required:0,data:{type:556}},[o.WorkingHoursItem]:{required:0,data:{type:557}}},a={[o.PopupDisclaimer]:{required:0,data:{type:555}}},c={...r,...s,callToAction:{required:0,data:{type:12,len:15}},advertiserLogo:{required:0,img:{type:501,w:16,h:16}},cashback:{required:0,data:{type:516}},...a},u={city:"location.svg",destinationCity:"location.svg",serviceArea:"location.svg",fuelEfficiency:"gas-pump.svg",fuelType:"gas-can.svg",transmission:"transmission.svg",co2Emissions:"cloud.svg",interiorColor:"paint-bucket.svg",exteriorColor:"paint-bucket.svg",range:"battery.svg",trim:"vehicle-car-front.svg",bodyStyle:"vehicle-car-side.svg",autoCondition:"vehicle-car-side.svg",condition:"vehicle-car-side.svg",dealer:"building.svg",duration:"clock.svg",itineraryDays:"clock.svg",workingHours:"clock.svg",departureDestinationPort:"vehicle-ship.svg",debitCardMontlyServiceFee:"wallet-credit-card.svg",annualFee:"wallet-credit-card.svg",price:"money.svg",cardCategory:"money.svg",mileage:"odometer.svg",dealerName:"building.svg",year:"calendar.svg",debitCardCategory:"payment.svg",callout:"megaphone.svg",yearsOfExp:"person-star.svg",services:"briefcase.svg",languages:"local-language.svg",specialties:"ribbon-star.svg",category:"book.svg",serviceSubCategories:"book.svg",port:"vehicle-ship.svg",inclusion:"add-square.svg",toursActivityCategory:"ticket.svg",doctorClinicCategory:"doctor.svg"},l={price:t=>t.split(".")[0],review:t=>{const e=parseInt(t,10);if(e>=1e3){const t=["","k","M","B","T"],n=Math.floor(Math.log10(e)/3);return(e/Math.pow(1e3,n)).toFixed(1)+t[n]}return t.toString()}},d={providerName:"data-1",description:"data-2",rating:"data-3",likes:"data-4",price:"data-6",salePrice:"data-7",city:"data-9",callToAction:"data-12",installmentPrice:"data-500",priceDrop:"data-501",freeShipping:"data-502",viewed:"data-503",sold:"data-504",specialOffer:"data-505",eliteBadge:"data-506",condition:"data-507",localInventory:"data-508",curbsidePickup:"data-509",review:"data-510",shortTitle:"data-511",returnPolicy:"data-512",disclaimer:"data-513",cashback:"data-516",callout:"data-517",fuelEfficiency:"data-518",co2Emissions:"data-519",mileage:"data-520",bodyStyle:"data-521",dealerName:"data-522",fuelType:"data-523",interiorColor:"data-524",trim:"data-525",year:"data-526",exteriorColor:"data-527",transmission:"data-528",range:"data-529",autoCondition:"data-530",yearsOfExp:"data-533",services:"data-534",languages:"data-535",workingHours:"data-536",workingHoursStatus:"data-537",workingHoursIsOpen:"data-538",serviceArea:"data-539",serviceSubCategories:"data-540",specialties:"data-541",category:"data-542",port:"data-543",inclusion:"data-544",departureDestinationPort:"data-545",itineraryDays:"data-546",toursActivityCategory:"data-547",destinationCity:"data-548",duration:"data-549",cardCategory:"data-550",annualFee:"data-551",debitCardCategory:"data-552",debitCardMontlyServiceFee:"data-553",doctorClinicCategory:"data-554",popupDisclaimer:"data-555",reviewRatingItem:"data-556",workingHoursItem:"data-557",discount:"data-600",title:"data-601",logo:"image-1",img:"image-3",transparentImage:"image-500",advertiserLogo:"image-501"},f={font:"p1",shipping:"p2",ratings:"p3"},h=["specialOffer"],p=[d.disclaimer]},69497:function(t,e,n){var i;n.d(e,{_:function(){return i}}),function(t){t.clientAuctionAd="clientAuctionAd",t.oneServiceAd="oneServiceAd",t.cmsAd="cmsAd"}(i||(i={}))},93692:function(t,e,n){var i,r;n.d(e,{nM:function(){return o}}),function(t){t.Anon="ANON",t.AppAnon="APP_ANON",t.Unknown=""}(i||(i={})),function(t){t.AnonCookieExists="ace",t.AppAnonCookieExists="aace"}(r||(r={}));const o="child"},523:function(t,e,n){n.d(e,{$_:function(){return P},AL:function(){return l},Dw:function(){return m},GL:function(){return k},IU:function(){return d},Ou:function(){return S},Py:function(){return s},RL:function(){return c},S$:function(){return M},TA:function(){return E},U6:function(){return R},Ur:function(){return T},Wv:function(){return C},X:function(){return b},X1:function(){return v},Z$:function(){return w},Z3:function(){return a},_8:function(){return y},_S:function(){return i},_h:function(){return r},hZ:function(){return p},hz:function(){return I},l2:function(){return f},qy:function(){return _},rz:function(){return h},sM:function(){return $},v6:function(){return g},x0:function(){return A},xE:function(){return o},yj:function(){return u},zz:function(){return x}});const i="AdminPortalData",r="AdsManager",o="BackgroundData",s="CategoryData",a="ChannelData",c="ChromiumPageSettings",u="DisplayAdsManager",l="ExperienceTrackerHomePageData",d="FeedbackData",f="IrisData",h="LayoutPreferenceData",p="LocationData",m="MilestoneData",g="NavigationData",v="NurturingPlacementManager",w="PlacementManager",y="Preload",b="RewardsData",S="SearchHistoryEdgenextData",x="SharedState",C="SharedStringsUtil",k="ShellNewTabData",T="SmartListSharedData",$="TelemetryData",A="TopicData",I="TopSitesLayoutData",P="VerticalPropertyData",_="WeatherData",M="WeatherCardData",R="FinanceData",E="SocialData"},70041:function(t,e,n){n.d(e,{$38:function(){return Kc},$58:function(){return _a},$Ot:function(){return zr},$Uw:function(){return ta},$WY:function(){return Ku},$aC:function(){return zn},$el:function(){return mi},$h8:function(){return mc},$sA:function(){return j},$z3:function(){return zo},A0u:function(){return ue},A1U:function(){return ke},A9U:function(){return Qu},AQ0:function(){return ks},AQ8:function(){return Mo},A_l:function(){return w},Af8:function(){return uo},B$S:function(){return Xr},B5t:function(){return Wu},BFg:function(){return _n},BKx:function(){return xo},BV5:function(){return o},Bm$:function(){return Ia},Bqp:function(){return Go},Bu7:function(){return Bo},CG8:function(){return xn},CRe:function(){return jr},CSR:function(){return as},CVw:function(){return Zi},CdR:function(){return ze},Cdl:function(){return ti},Cg6:function(){return Kr},Cmj:function(){return go},Cx3:function(){return ia},CxH:function(){return _s},Czh:function(){return En},D6P:function(){return pu},D7S:function(){return Vi},DIt:function(){return ws},DJ7:function(){return It},DYF:function(){return ve},DbV:function(){return Br},DeS:function(){return bo},DoE:function(){return la},Dx$:function(){return ft},Dzg:function(){return Li},E1P:function(){return Zs},E6M:function(){return hi},EEj:function(){return Ms},EFl:function(){return O},EMK:function(){return fc},EVj:function(){return Fo},EYD:function(){return Bc},EeD:function(){return yr},EjJ:function(){return va},EpM:function(){return ce},Es2:function(){return Io},Esr:function(){return $r},F$x:function(){return Me},F11:function(){return Gc},F73:function(){return js},F8w:function(){return Ks},F9x:function(){return ts},FHt:function(){return ar},FJH:function(){return Zt},FRx:function(){return Yo},FYi:function(){return Bi},FZm:function(){return an},F_I:function(){return ko},FbH:function(){return gs},Fj8:function(){return Ni},FoC:function(){return H},GHS:function(){return vi},GOh:function(){return bs},Gcu:function(){return Jo},GgE:function(){return Du},GzM:function(){return Oa},HBJ:function(){return qn},HBe:function(){return E},HH0:function(){return g},HTd:function(){return Tr},HUp:function(){return Xt},Hmd:function(){return Xu},Hpz:function(){return tu},Htk:function(){return ms},HxI:function(){return b},HzA:function(){return Jr},IF2:function(){return wr},IFz:function(){return S},INF:function(){return Ye},IOi:function(){return Ne},ISs:function(){return Se},IUC:function(){return ru},IhH:function(){return wi},Inx:function(){return Na},ItY:function(){return Ao},J$A:function(){return Zn},J1W:function(){return Ei},J3F:function(){return Lr},J4S:function(){return et},J6h:function(){return Ls},JK5:function(){return sr},JKj:function(){return su},JPw:function(){return $},JTG:function(){return on},JVb:function(){return ys},JVh:function(){return or},JYk:function(){return Mi},JZn:function(){return de},JiM:function(){return Di},JkB:function(){return y},JqL:function(){return Iu},Jvt:function(){return Qr},Jzc:function(){return lc},K1C:function(){return Zr},KEM:function(){return Ri},KPU:function(){return qu},KfJ:function(){return We},Kfg:function(){return Rr},KgY:function(){return Qn},Kls:function(){return La},KpP:function(){return Un},Kww:function(){return Hn},LDe:function(){return oe},LHB:function(){return ie},LIg:function(){return Ka},LRP:function(){return be},Lfv:function(){return Ya},LjU:function(){return fi},LnM:function(){return kn},LoE:function(){return kr},LrE:function(){return No},LxE:function(){return ha},M6f:function(){return Qt},MAN:function(){return rr},MHK:function(){return Ds},MIk:function(){return At},MLM:function(){return no},MPR:function(){return ka},MTL:function(){return ho},Mb7:function(){return Ar},Mjw:function(){return pn},Mys:function(){return it},N2F:function(){return Bs},N6:function(){return P},N6K:function(){return zc},NDs:function(){return Vt},NGK:function(){return ni},NGN:function(){return Pe},Nh8:function(){return ut},Ntf:function(){return Pc},Nty:function(){return du},NuV:function(){return he},Nyn:function(){return lo},ODX:function(){return Tn},OF7:function(){return An},OTW:function(){return p},OX5:function(){return oc},Obu:function(){return Su},OiM:function(){return yn},OuO:function(){return lr},OvS:function(){return hu},PAH:function(){return Ho},PCA:function(){return Aa},PE$:function(){return nr},PLO:function(){return oa},PP6:function(){return Fr},PVl:function(){return u},PWY:function(){return $t},PYn:function(){return Fe},PbC:function(){return Ai},PcW:function(){return bi},Ph9:function(){return gr},PjF:function(){return dr},PkV:function(){return gc},Pqz:function(){return sc},Pte:function(){return Tu},PvM:function(){return ps},PwP:function(){return Co},Q16:function(){return Dn},QE3:function(){return Ba},QF7:function(){return On},QI2:function(){return Cr},QMX:function(){return Gn},QTZ:function(){return Re},QWn:function(){return cr},QZE:function(){return cs},Qd1:function(){return M},QnV:function(){return Hc},Qwq:function(){return mo},R5X:function(){return kc},R9w:function(){return fa},RGQ:function(){return $i},RMj:function(){return Vr},RSh:function(){return Wo},RU_:function(){return Xs},RfQ:function(){return fo},RmL:function(){return Dt},RnN:function(){return os},Rx9:function(){return Mc},Ry6:function(){return Hs},RzN:function(){return Fa},S5B:function(){return tn},S65:function(){return jc},S9H:function(){return Yc},SA8:function(){return vs},SAx:function(){return Vs},SH9:function(){return Ir},SJ$:function(){return wa},SNA:function(){return Ft},SOf:function(){return hs},SVM:function(){return tr},SYh:function(){return qi},SdM:function(){return Uu},Sjk:function(){return ss},Sq1:function(){return Ie},T4c:function(){return ao},T5A:function(){return si},T9u:function(){return Yt},TGc:function(){return Os},TOy:function(){return to},TSk:function(){return un},TWs:function(){return Gs},TY:function(){return De},TbX:function(){return Da},Ti2:function(){return Ut},Tk6:function(){return qr},Tlv:function(){return Sa},Tu3:function(){return qt},Tx5:function(){return rs},UC2:function(){return Te},UE:function(){return fn},UKI:function(){return Je},UWU:function(){return vn},Ugt:function(){return Ra},UhP:function(){return Uo},Uhi:function(){return Fn},Ujj:function(){return ju},Uoh:function(){return Fu},Uon:function(){return V},Up2:function(){return Lt},Uq1:function(){return _u},UtR:function(){return $u},Uu8:function(){return xe},UxP:function(){return Ii},V7e:function(){return I},VWZ:function(){return pi},V_q:function(){return Ou},VaA:function(){return Rs},Vdi:function(){return Fi},Vhw:function(){return Ws},VnC:function(){return Zc},Vrn:function(){return Er},VtB:function(){return Ve},Vve:function(){return A},VyG:function(){return eu},WBD:function(){return li},WGZ:function(){return ne},WJ2:function(){return _},WK0:function(){return na},WLc:function(){return ou},WMP:function(){return Y},WMv:function(){return en},WOb:function(){return vr},WTs:function(){return Ot},WfD:function(){return Cc},Wfs:function(){return ln},Wm6:function(){return Ju},X$j:function(){return T},X8y:function(){return Za},XIX:function(){return yt},Xz8:function(){return io},Y8d:function(){return _i},YB9:function(){return us},YD1:function(){return yu},YDB:function(){return Q},YDV:function(){return Kn},YGz:function(){return ht},YJ5:function(){return qs},YJV:function(){return Wn},YWQ:function(){return s},YdT:function(){return re},YfO:function(){return Mt},YtU:function(){return Ke},YuV:function(){return wc},ZTk:function(){return so},ZZI:function(){return ja},ZjC:function(){return Xa},ZwZ:function(){return br},ZyT:function(){return xi},_2w:function(){return Wc},_8p:function(){return xr},_9V:function(){return c},_Dk:function(){return f},_FV:function(){return J},_Xv:function(){return Ro},_eh:function(){return da},_hl:function(){return cn},_jE:function(){return $o},_lg:function(){return ee},a7N:function(){return Au},aGd:function(){return es},aJp:function(){return Ee},aNp:function(){return Ma},aol:function(){return ns},ar_:function(){return Qs},b0A:function(){return bt},b1M:function(){return ye},bN3:function(){return Wi},bNS:function(){return jn},bOQ:function(){return Ac},bUs:function(){return mu},bru:function(){return ds},bsP:function(){return yo},c8c:function(){return Ha},c8i:function(){return aa},cNB:function(){return As},cTk:function(){return Fc},cWp:function(){return Oc},cdX:function(){return Oe},cey:function(){return nn},ckV:function(){return qe},ckf:function(){return le},cvo:function(){return ro},cwF:function(){return ci},d22:function(){return ur},dMV:function(){return ge},dMz:function(){return Pu},dT1:function(){return X},dTK:function(){return Nu},dVd:function(){return ic},dub:function(){return Ga},dxZ:function(){return Eu},e0Y:function(){return ua},e8Z:function(){return Zo},e9S:function(){return Hu},eHH:function(){return Sn},eMK:function(){return _r},eN3:function(){return ls},ebN:function(){return Gt},etp:function(){return Kt},exU:function(){return rt},fJE:function(){return mt},fPu:function(){return eo},fcD:function(){return Rt},ffn:function(){return gi},fqP:function(){return Bt},fwY:function(){return iu},fyI:function(){return te},fyJ:function(){return Ki},g3x:function(){return st},gDP:function(){return Do},gLP:function(){return tc},gOk:function(){return xc},gOp:function(){return a},gRh:function(){return oo},gTT:function(){return vu},gYv:function(){return Oi},gk:function(){return jt},guo:function(){return ei},gv3:function(){return Qc},h0c:function(){return Hr},h1P:function(){return ct},hDJ:function(){return Xc},hO3:function(){return Ko},hRd:function(){return ae},hch:function(){return Nt},hiu:function(){return d},hn8:function(){return mr},i$x:function(){return N},i2:function(){return pa},i5N:function(){return cu},iEA:function(){return h},iJ8:function(){return za},iOK:function(){return hn},iS1:function(){return Cs},iUi:function(){return at},ieX:function(){return U},ihw:function(){return lu},isq:function(){return Si},iuJ:function(){return Gi},iw_:function(){return Z},j62:function(){return Pn},j9B:function(){return ku},j9W:function(){return Tt},j9d:function(){return ea},jK4:function(){return tt},jXL:function(){return v},jZ0:function(){return Nr},jb:function(){return Dc},jhm:function(){return _c},jjB:function(){return Uc},jls:function(){return r},jri:function(){return Mu},k0t:function(){return Cu},kAw:function(){return fs},kFj:function(){return $s},kJd:function(){return Bn},kM8:function(){return Sc},kPE:function(){return Jc},kWS:function(){return bn},koT:function(){return qo},kvh:function(){return pr},ky5:function(){return vo},l0e:function(){return C},l1J:function(){return Ae},l1V:function(){return zt},l6J:function(){return po},lBi:function(){return Qe},lCU:function(){return yi},lEL:function(){return Nc},lIM:function(){return Po},lIP:function(){return fe},lJY:function(){return Pt},lQV:function(){return Is},lTG:function(){return bu},leK:function(){return lt},ljh:function(){return Ca},lvU:function(){return So},m2P:function(){return Ru},m6X:function(){return dt},m8e:function(){return sn},mLM:function(){return Ui},mVg:function(){return Ht},mnK:function(){return Xn},mo8:function(){return _e},mqM:function(){return ba},n65:function(){return Pr},nA9:function(){return Lo},nUs:function(){return _o},nXC:function(){return l},nZh:function(){return Ua},n_R:function(){return wo},nam:function(){return fu},ne0:function(){return Pi},niV:function(){return $a},nii:function(){return Wr},nmZ:function(){return Ti},o1e:function(){return Hi},o4h:function(){return ki},o9I:function(){return Rc},oBI:function(){return Sr},oR0:function(){return Be},oSF:function(){return Le},oeN:function(){return co},og3:function(){return xs},oi0:function(){return Vo},ooB:function(){return se},opx:function(){return dc},p66:function(){return Lc},pDE:function(){return zs},pZ3:function(){return er},p_9:function(){return nt},pn3:function(){return Ln},poX:function(){return Eo},pru:function(){return z},q31:function(){return m},q7$:function(){return uc},q7R:function(){return we},q8y:function(){return Jt},qAv:function(){return Ss},qBv:function(){return Js},qGw:function(){return pc},qHB:function(){return F},qHN:function(){return kt},qZg:function(){return Xi},qZt:function(){return Qa},q_M:function(){return ri},q_V:function(){return ca},qmE:function(){return In},qrd:function(){return W},qwu:function(){return Pa},qym:function(){return ji},r9S:function(){return ai},rAA:function(){return pe},rC1:function(){return pt},rER:function(){return oi},rEn:function(){return vc},rGG:function(){return Xe},rJS:function(){return Ps},rXk:function(){return dn},r_z:function(){return Jn},rc4:function(){return Gu},rdu:function(){return To},rfA:function(){return ga},riL:function(){return Ts},rnA:function(){return Wa},s3P:function(){return Ec},s67:function(){return je},s76:function(){return cc},sAu:function(){return Gr},sGB:function(){return Oo},sJx:function(){return wu},sKb:function(){return bc},sMx:function(){return Fs},sPK:function(){return Qi},sPg:function(){return Ea},sVH:function(){return ec},sVW:function(){return Wt},sXS:function(){return xa},s_p:function(){return Ue},saD:function(){return qc},sc_:function(){return ac},sgW:function(){return Nn},sh6:function(){return ui},srZ:function(){return Dr},ssN:function(){return wt},sth:function(){return Yu},tCy:function(){return Et},tH5:function(){return Ce},tHe:function(){return nu},tJU:function(){return ii},tJk:function(){return D},tNG:function(){return au},tpX:function(){return Bu},u1Z:function(){return mn},u4d:function(){return Rn},u5K:function(){return St},u8s:function(){return Tc},uB2:function(){return Vu},uG1:function(){return $n},uT1:function(){return Qo},uT9:function(){return Or},udo:function(){return Ys},us7:function(){return rn},utF:function(){return G},uuz:function(){return Va},v$Q:function(){return vt},v61:function(){return di},vFd:function(){return Ci},vG7:function(){return Mn},vJu:function(){return L},vOu:function(){return Lu},vPc:function(){return zi},vTu:function(){return uu},vb7:function(){return jo},veL:function(){return Es},veX:function(){return Ic},vk4:function(){return sa},vsY:function(){return i},vx_:function(){return me},wM3:function(){return Vc},wQF:function(){return Ge},wRF:function(){return Yn},wRm:function(){return xt},wSV:function(){return ir},wUc:function(){return R},w_L:function(){return ma},w_t:function(){return hr},we$:function(){return ya},wge:function(){return He},wiB:function(){return Cn},wlz:function(){return _t},wr4:function(){return Ji},wrw:function(){return Yr},wwX:function(){return wn},x6e:function(){return Mr},xGt:function(){return B},xQZ:function(){return is},xXj:function(){return nc},xYH:function(){return gt},x_j:function(){return xu},xbu:function(){return Ja},xeP:function(){return Ns},xh6:function(){return qa},xhj:function(){return Ur},xju:function(){return K},xl0:function(){return yc},y2o:function(){return x},yHC:function(){return Yi},yHN:function(){return Xo},yLt:function(){return k},yR8:function(){return Ct},ySJ:function(){return $e},ySq:function(){return Ze},ya$:function(){return q},yjx:function(){return gu},yn7:function(){return rc},yuv:function(){return fr},z7Q:function(){return Us},zA:function(){return gn},zBK:function(){return Ta},zK8:function(){return ot},zTi:function(){return $c},zUe:function(){return ra},zgP:function(){return Vn},zk5:function(){return zu},zu2:function(){return hc}});const i="ShoppingCategoryPage",r="AboveRiverBlock",o="ActionTray",s="ArticleCloseButton",a="ArticleRelatedStories",c="ArticleTopComment",u="AutosCard",l="AutosCarousel",d="AutosEntityCardWC",f="AutosEntitySpan",h="BackToTopButton",p="BackgroundGallery",m="BackgroundImageWC",g="BingDailyQuizCard",v="BingHealthCard",w="BingHealthFitnessCard",y="BingHomepageFeed",b="BingWebSSO",S="BoostAd",x="BoostAdCard",C="BreakingNewsWC",k="CalendarCard",T="CardActionWC",$="CashbackCarousel",A="CashbackCarouselCard",I="CasualGamesBanner",P="CasualGamesCard",_="CasualGamesCarouselCard",M="CasualGamesZhCarousel",R="CasualGamesFeed",E="CasualGamesFrame",F="CasualGamesGameCardCarousel",D="CasualGamesGameplay",O="CasualGamesGameplayRightRail",N="CasualGamesHub",U="CasualGamesLandingV2",L="CasualGamesProng2CarouselCard",B="CasualGamesStripeCarouselCard",W="CasualGamesUserProfilePreview",H="ChannelEntryPoint",z="ChannelFilterCard",V="ChannelInterestsManager",j="ChannelMobileContent",q="ChannelPage",G="ChannelStore",J="ChromeExtensionPage",K="TrackerCreate",Q="TrackerPage",X="TrackerTopic",Y="CmsBaseExperience",Z="CmsExperience",tt="CodexBingChat",et="ColdStartWC",nt="CommonAutoSuggest",it="CommonHeader",rt="CommonHeaderWC",ot="CommonSearchBoxEdgeNext",st="CommonSettingsEdgeNext",at="CommunityCard",ct="CommunityComposeCopilotWC",ut="CommunityInfoCard",lt="CommuteCard",dt="CompanionWidget",ft="ComplexContentPreview",ht="ConditionalBannerHpWC",pt="ConditionalBannerWC",mt="ConsumptionFeedWC",gt="ConsumptionPage",vt="ContentFlexInfoPane",wt="ContentGroup",yt="ContentGroupCard",bt="ContentPreview",St="ContentTts",xt="ContextualFeedbackWC",Ct="CopilotConsumptionLandingPage",kt="CopilotFeedViewWC",Tt="CopilotRubyCard",$t="CopilotSuggestionPrompts",At="CpcMonetizationDashboard",It="CreatorSpotlightCard",Pt="DailyBriefCard",_t="DailyBriefFullPagePlayer",Mt="DailyGreetingCard",Rt="DailyGreetingWindowsShell",Et="DailyMomentsCard",Ft="DailyWonderCard",Dt="DailyWonderCopilotCard",Ot="DashboardFallback",Nt="DashboardSettings",Ut="DebugButton",Lt="DenseCard",Bt="DesktopFeedHubWC",Wt="DesktopFeedViewsWC",Ht="DesktopFeedWC",zt="DevTools",Vt="DidYouKnowImageWCExperience",jt="DidYouKnowWCExperience",qt="DigestCard",Gt="DisplayAds",Jt="DisplayAdsWC",Kt="DisplayAdsWithContentFallback",Qt="DistributionFeed",Xt="DistributionHeader",Yt="DistributionPage",Zt="DistributionPivotsNav",te="DonationNpoCard",ee="EdgeChromiumPageWC",ne="EdgeShopping",ie="ElectionCard",re="EmmxEntrypoint",oe="EntertainmentCard",se="EntertainmentIntent",ae="EntertainmentPremierCard",ce="EntryPointHpMobile",ue="EntryPointHpWC",le="EntryPointHpRuby",de="EntryPointMobileHub",fe="EntryPointViewsWC",he="EsportsCard",pe="EsportsCasualGamesCard",me="ExamPage",ge="ExampleOfferCard",ve="ExperiencePreviewCta",we="ExternalContentPreview",ye="FamilyCard",be="FeedContainer",Se="FeedLevelFeedbackWC",xe="FeedNavigationHp",Ce="FeedbackCard",ke="FeedbackDialogWC",Te="FeedbackLink",$e="FeedbackLinkWC",Ae="ProactiveFeedbackWC",Ie="FinanceCarousel",Pe="FinanceIndicesCard",_e="FloatButtonGroupWC",Me="FlyoutCard",Re="FollowingFreConfirmation",Ee="FollowingFreFullWidth",Fe="FoodSimilarItems",De="FreEntrypoint",Oe="FrequentSitesCardWC",Ne="GamingChannel",Ue="GamingDiscoverStrip",Le="GamingPage",Be="GamingRecentlyPlayedCard",We="GeneralElections",He="GridViewFeed",ze="HeaderNavigationLogo",Ve="HeaderWindowsShellWC",je="HealthArticlesCardWC",qe="HealthAugmentCard",Ge="HealthDietPlanScheduleWC",Je="HealthFeedbackWC",Ke="HealthFitnessCarousel",Qe="HealthFoodHealtheffectsWC",Xe="HealthFoodRecipesWC",Ye="HealthHubHealthapp",Ze="HealthInterestsManager",tn="HealthQnAWCExperience",en="HealthRiverWC",nn="HealthTipReact",rn="HealthTipWC",on="HealthTopSpan",sn="HealthTopicFlyout",an="HealthTranslationWC",cn="HeroContainerWC",un="HomepageFooter",ln="HomepageHeader",dn="HomepagePwaMobile",fn="HoroscopeAnswerCardWC",hn="HotListCard",pn="HpFeedSwitch",mn="ImmersiveFullscreen",gn="Infopane",vn="InspirationCard",wn="InterestFreCard",yn="InterestManagementCard",bn="InterestsManager",Sn="InterestsWC",xn="IosPwaInstallInstructions",Cn="IssueReportingWC",kn="KaSocialBuzz",Tn="KeyTakeawaysWC",$n="LanguageToggleWC",An="LinkedInCard",In="LocalHubHeader",Pn="LocalizeStringsTempExperience",_n="MailSignoutBanner",Mn="MangaCard",Rn="MangaCarousel",En="MarketLanguageToggleWC",Fn="MarketSelector",Dn="MarketplaceCardWC",On="MeControl",Nn="MeControlWC",Un="MeStripeWC",Ln="MicrosoftEdgeWidget",Bn="MobileAppUpsell",Wn="MobileConsumptionPage",Hn="MobileFeedHub",zn="MobileFeedWC",Vn="MobileFooter",jn="MobileHeader",qn="MobileMarketSelector",Gn="MobileNotification",Jn="MobilePopupWindow",Kn="MobileTip",Qn="MobileTrendingSearchCard",Xn="MobileVideoSdCard",Yn="MomentInTimeHero",Zn="MoneyAugmentCard",ti="MoneyCopilotWC",ei="MoneyInfo",ni="MoneyInfoCard",ii="MoneyInfoCardWC",ri="MoneyInfoSpan",oi="MsRewardsWC",si="MsnFeed",ai="MsnSettingMenu",ci="MsnStudio",ui="MyBriefRiverCard",li="NativeAd",di="NativeAdWC",fi="NativeTopAd",hi="NavigationPageExperience",pi="NewsletterSignup",mi="NewsletterSignupPage",gi="NextdoorPage",vi="NotificationBellWC",wi="NotificationMiniCard",yi="NudgeSpotlightCard",bi="NurturingBanner",Si="NurturingCoachMark",xi="OfficeAppsWC",Ci="OfficeCoachmark",ki="OfficeDocumentsTableWC",Ti="OfficeLeftRail",$i="OnThisDayCardWC",Ai="OneFooter",Ii="PageRefresh",Pi="PageRefreshWC",_i="PanoPage",Mi="PersonalFinanceExpenseDistribution",Ri="PersonalFinanceTransactionsCard",Ei="PersonalizeNavButton",Fi="PhotoCard",Di="PillWC",Oi="PivotsMobileWC",Ni="PollsCardWC",Ui="PoweredbyLegendWC",Li="PremiumProfilePromoCard",Bi="PrideEventCard",Wi="PrismCarouselCard",Hi="PrismFeed",zi="PrismSdCard",Vi="ProductivityHub",ji="ProfileArticles",qi="PromotedAdWC",Gi="PublisherList",Ji="PublisherSubscribeFollowButton",Ki="PullToRefresh",Qi="PulseEdgenext",Xi="PulseProng",Yi="Qna",Zi="QnaFeed404Page",tr="QnaFeedCard",er="QnaFeedCardMenu",nr="QnaFeedCarousel",ir="QnaFeedCategoriesMenu",rr="QnaFeedExploreTopics",or="QnaFeedList",sr="QnaFeedMyTopics",ar="QnaFeedRelatedQuestions",cr="QnaFeedReportCard",ur="QnaFeedSuggestedTopics",lr="QnaFeedTopicDetail",dr="QnaFeedTrendingQuestions",fr="QuizCard",hr="ReactionBreakdownDialog",pr="RealEstateCard",mr="RecipesSdCard",gr="RecommendedInterests",vr="RecommendedSitesWC",wr="RewardsCardWC",yr="RewardsFlyout",br="RichCalendarCard",Sr="RichCalendarLandingPage",xr="RichCalendarWindowsShell",Cr="RightRailProviderCarousel",kr="RubyPage",Tr="RubyBoardHomePage",$r="ScrollDownButton",Ar="SdCardMaskWC",Ir="SearchBoxWC",Pr="SearchHistoryCommon",_r="SearchHistoryEdgeNextWC",Mr="SelectCarousel",Rr="SharedHeroNewsCard",Er="SharedLinks",Fr="SharepointNewsCard",Dr="ShoppingAllStoresPage",Or="ShoppingArticlePage",Nr="ShoppingAugmentCard",Ur="ShoppingBannerSdCard",Lr="ShoppingBingProductDetails",Br="ShoppingBlackjackDealPage",Wr="ShoppingBlackjackPage",Hr="ShoppingBuyingGuide",zr="ShoppingBuyingGuidePremiumCard",Vr="ShoppingBuyingGuidesCard",jr="ShoppingCardActions",qr="ShoppingCardWC",Gr="ShoppingCarousel",Jr="ShoppingCarouselOfferCard",Kr="ShoppingCarouselProngWC",Qr="ShoppingCarouselWC",Xr="ShoppingCheckoutModal",Yr="ShoppingColdStart",Zr="ShoppingCouponsPage",to="ShoppingDealsHomePage",eo="ShoppingDebugPage",no="ShoppingEntryBaseExperience",io="ShoppingEventsDealCard",ro="ShoppingFashionCarouselWC",oo="ShoppingGemHeroCard",so="ShoppingGrid",ao="ShoppingGroupedCarousel",co="ShoppingGuidesPage",uo="ShoppingHomepage",lo="ShoppingInspiration",fo="ShoppingLeaderboard",ho="ShoppingModal",po="ShoppingModelOverlay",mo="ShoppingMomentInTimePage",go="ShoppingOfferCard",vo="ShoppingPageBase",wo="ShoppingPageContent",yo="ShoppingPivotFeed",bo="ShoppingProductDetailPage",So="ShoppingRiverCard",xo="ShoppingSdCard",Co="ShoppingSearch",ko="ShoppingShopTheLookPage",To="ShoppingTopSpan",$o="SignInControlWC",Ao="SignInFlyoutWC",Io="SignalOverlay",Po="SocialAvatar",_o="SocialBarWC",Mo="SocialCommentBox",Ro="SocialCommentWC",Eo="SocialEndorsements",Fo="SocialEntrypoint",Do="SocialLeadGenInArticle",Oo="SocialNotification",No="SocialPostEditorWC",Uo="SocialProfileActionMenu",Lo="SocialProfileAppeal",Bo="SocialProfileCard",Wo="SocialProfilePromotion",Ho="SocialProfileRejectionDetails",zo="SocialProfileTopics",Vo="SocialRelatedSources",jo="SocialReportMenu",qo="SocialRewardsMedal",Go="SocialRewardsPromotion",Jo="SocialStarRating",Ko="SocialSubscriptionBanner",Qo="SocialSubscriptionNotification",Xo="SocialSubscriptionOverlay",Yo="SocialSubscriptionOverlaySummary",Zo="SocialSubscriptionUpsell",ts="SocialSupportResult",es="SocialTipHistory",ns="SocialTipIntroduction",is="SocialTipPromotion",rs="SocialTipPromotionInArticle",os="SocialTipSelection",ss="SportsAroundTheLeague",as="SportsAugmentCard",cs="SportsBackgroundUx",us="SportsBrackets",ls="SportsCard",ds="SportsCardWC",fs="SportsCommentary",hs="SportsCopilotNavigation",ps="SportsCountdownTimer",ms="SportsCricketLayoutManager",gs="SportsCricketLeagueStats",vs="SportsCricketMatchRow",ws="SportsCricketPartnerships",ys="SportsCricketRankings",bs="SportsCricketScorecard",Ss="SportsCricketScoresAndSchedule",xs="SportsEntityHeader",Cs="SportsFeaturedMatchesCard",ks="SportsFeaturedTeamList",Ts="SportsFrePanel",$s="SportsFullStandings",As="SportsFullStats",Is="SportsGameInformation",Ps="SportsGameScore",_s="SportsGameSummary",Ms="SportsGameSummaryFull",Rs="SportsGameTimeline",Es="SportsGcPlayerStats",Fs="SportsGcTeamStats",Ds="SportsGenUiPage",Os="SportsGptAnalysis",Ns="SportsHeadlinesHeader",Us="SportsHeadlinesMainStory",Ls="SportsHeadlinesStoryCarousel",Bs="SportsHeadlinesTimelines",Ws="SportsInfo",Hs="StackCard",zs="SportsInfoSpan",Vs="SportsLayoutRenderer",js="SportsMatchRow",qs="SportsMatchupCard",Gs="SportsMedalCountList",Js="SportsMedalSummaryList",Ks="SportsMedalTrackerList",Qs="SportsMobileTabPanel",Xs="SportsOlympicCard",Ys="SportsOlympicCardWC",Zs="SportsOlympicsHeaderRow",ta="SportsOlympicsResultFull",ea="SportsOlympicsScheduleFull",na="SportsPersonMatchRow",ia="SportsPersonalizationStrip",ra="SportsPickWinner",oa="SportsPlayerBio",sa="SportsPlayerInsights",aa="SportsPopularCardWx",ca="SportsPreviousMatchups",ua="SportsPromoCard",la="SportsRankingsFull",da="SportsRetentionFull",fa="SportsScoresAndSchedule",ha="SportsScoresAndScheduleFull",pa="SportsScoringSummary",ma="SportsSquad",ga="SportsStandings",va="SportsStandingsList",wa="SportsStatLeaders",ya="SportsStats",ba="SportsStoryPlayer",Sa="SportsTabLayout",xa="SportsTeamFormation",Ca="SportsTeamProbability",ka="SportsTennisScoresAndScheduleFull",Ta="SportsTennisTournamentInfo",$a="SportsTournamentInfo",Aa="SportsTournamentLeaderboard",Ia="SportsTournamentMatchRow",Pa="SportsTournamentResultsAndSchedule",_a="SportsTournamentSchedule",Ma="SportsTournamentStandings",Ra="SportsTrendingCarousel",Ea="SportsUnavailablePlayers",Fa="SportsVideoList",Da="SpotlightCard",Oa="SpotlightCardWC",Na="StarterKitWC",Ua="StreaksBadgeWC",La="StripeWC",Ba="SummaryCardWC",Wa="SuperBreakingNews",Ha="SuperNav",za="SuperNavCoachMark",Va="SuperappBannerWC",ja="SuperappUpsellCardWC",qa="TabbedInfopane",Ga="TabbedInfopaneTabPreview",Ja="ThemePickerWC",Ka="TipsCard",Qa="ToastWC",Xa="TodoCardWC",Ya="TopCommentsCard",Za="TopSitesBookmarks",tc="TopSitesEdgeNextWC",ec="TopSitesNewsbar",nc="TopicTags",ic="TrafficCard",rc="TrafficCardWC",oc="TrafficHero",sc="TranslateTemporary",ac="TravelArticlePageCard",cc="TravelCard",uc="TravelCarousel",lc="TravelCollectionCard",dc="TravelDestination",fc="TravelDestinationBanner",hc="TravelDestinationDetailsBanner",pc="TravelFeed",mc="TravelFlightCarousel",gc="TravelHotelCarousel",vc="TravelInspirationCard",wc="TravelInspirationCardWC",yc="TravelLandingPage",bc="TravelMsnHpCard",Sc="TravelSdCarrentalsCard",xc="TravelSdDestinationsCard",Cc="TravelSdFlightsCard",kc="TravelSdHotelsCard",Tc="TravelSdThemesCard",$c="TravelTourActivityCard",Ac="TrendingNowWC",Ic="TrendingSearchCard",Pc="TripleCard",_c="UgcCreatorHomepage",Mc="UnifiedComposerPersonalization",Rc="UnifiedMobileFeed",Ec="VerticalLeftNav",Fc="VideoCardWC",Dc="VideoDetails",Oc="VideoDetailsKit",Nc="ViewsCoachmark",Uc="ViewsNativeAd",Lc="ViewsRail",Bc="WaffleWC",Wc="WalletPersonalizedOfferSdCardWC",Hc="WatchFilterChannel",zc="WatchTakeABreakHeader",Vc="WatchVideoCard",jc="WatchWC",qc="WaterTrackerCard",Gc="WaterfallViewFeed",Jc="WeatherCard",Kc="WeatherCardWC",Qc="WeatherFeedWC",Xc="WeatherForecastDayWC",Yc="WeatherForecastPerHourWC",Zc="WeatherHeroExperience",tu="WeatherHistoricalTemperatureWC",eu="WeatherHourlyHistogramWC",nu="WeatherImmersiveForecastWC",iu="WeatherInfoCard",ru="WeatherLocationCardWC",ou="WeatherMapGroupSwitcherButtonWC",su="WeatherMapLegendWC",au="WeatherMapTimelineWC",cu="WeatherMapWC",uu="WeatherMinimapWC",lu="WeatherOneLiner",du="WeatherOverviewWC",fu="WeatherPageWC",hu="WeatherReportIssueDialog",pu="WeatherTodayHistoryWC",mu="WeatherTodayMini",gu="WeatherTodayMiniWC",vu="WeatherTopSectionCard",wu="WeatherVideoEntryWC",yu="WelcomeGreetingLight",bu="WelcomeGreetingWC",Su="WidgetPickerWC",xu="WidgetsDynamicFeed",Cu="WidgetsConsumptionPage",ku="WidgetsHomePage",Tu="WidgetsPrivacy",$u="WidgetsRegion",Au="WidgetsNotificationsCard",Iu="WidgetsStartFeed",Pu="WinAppWC",_u="WindowsOfficeFeed",Mu="WindowsShellBannersManager",Ru="WindowsShellColdStartCard",Eu="WindowsShellEntry",Fu="WindowsShellHeader",Du="WindowsShellHotList",Ou="WindowsShellInfopane",Nu="WindowsShellLocationDialog",Uu="WindowsShellMorningDigest",Lu="WindowsShellNewsPromoCard",Bu="WindowsShellNotificationCard",Wu="WindowsShellNotificationSettings",Hu="WindowsShellRecommendedInterests",zu="WindowsShellSettingsMenu",Vu="WindowsShellSoftLanding",ju="WindowsShellTopicsCard",qu="XboxFeedWC",Gu="XfeedWC",Ju="ConsumptionLandingPage",Ku="MsnRouter",Qu="MsnUxAiStarterKitWCE",Xu="UnifiedConsumption",Yu="GemConsumptionPage"},22011:function(t,e,n){n.d(e,{$e:function(){return h},NH:function(){return f},PC:function(){return c},PQ:function(){return i},Qr:function(){return v},RX:function(){return l},SD:function(){return a},SL:function(){return r},dN:function(){return s},eB:function(){return y},gv:function(){return w},mX:function(){return o},my:function(){return u},oS:function(){return m},pN:function(){return d},sj:function(){return g},tC:function(){return p}});const i="v3",r="v3.1",o="/resolver/api/resolve/",s="prg-pr2-",a="prg-pw-",c="prg-",u="prg-crsfdheadrem",l="prg-1sw-",d="https://assets.msn.com",f="https://assets.msn.cn",h="remflighthead",p="prg-ad-astmsn",m="prg-ad-ast1pend-rf",g="prg-ad-dispflts-t",v="prg-ad-astce",w="prg-ad-lvrmp",y="ads-xandr-t"},84362:function(t,e,n){var i;n.d(e,{U:function(){return i}}),function(t){t.AFDProtocolKey="afdprotocol",t.BackfillContentDueToSSRAdsFailed="__backfillContentDueToSSRAdsFailed__",t.DelayNtpSSRFeedDuration="__DelayNtpSSRFeedDuration__",t.ErrorLogHistory="__ErrorLogHistory__",t.HydrationPromise="__hydrationPromise__",t.IsSSRWpoFeedConsumed="__isSSRWpoFeedConsumed__",t.NavEventEnabled="__navEventEnabled__",t.OriginalRequest="__originalRequest__",t.PlaceHolderResponse="__placeHolderResponse__",t.XmlBuilder2Import="__XmlBuilder2Import__",t.CustomSVGBuilder="__CustomSVGBuilder__",t.WeatherDataConnectorPromise="__WeatherDataConnectorPromise__",t.CopilotAPISupported="__CopilotAPISupported__"}(i||(i={}))},97205:function(t,e,n){n.d(e,{UH:function(){return i},lU:function(){return r}});const i="news",r="feed/personalize/settings"},14214:function(t,e,n){var i;n.d(e,{d:function(){return i}}),function(t){t.PageInit="AST.CustomEvent.msnPageInit",t.AdTargettingPageKeywordsReady="AST.CustomEvent.msnKeywordReady"}(i||(i={}))},98:function(t,e,n){n.d(e,{B:function(){return i}});const i=new Set(["AD","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BW","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CO","CR","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GT","GU","GW","GY","HK","HN","HR","HT","HU","ID","IE","IM","IN","IO","IQ","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PR","PT","PW","PY","QA","RE","RO","RS","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW","EN-US","JA-JP","DE-DE"])},56121:function(t,e,n){var i,r;n.d(e,{_:function(){return a},do:function(){return s},et:function(){return o},zy:function(){return c}}),function(t){t.Weather="Weather",t.Weather_Nowcast="Weather_Nowcast",t.Weather_TeaserRain="Weather_TeaserRain",t.Sports="Sports",t.Finance="Finance",t.CasualGame="CasualGame",t.Shopping="Shopping",t.DailyBrief="DailyBrief",t.DailyMoment="DailyMoment",t.CreatorSpotlight="CreatorSpotlight"}(i||(i={})),function(t){t.Weather_SevereWeather="Weather_SevereWeather",t.News_CatchUpStack="News_CatchUpStack",t.News_TopStories="News_TopStories",t.News_TrendingNow="News_TrendingNow",t.News_SaveForLater="News_SaveForLater",t.News_CopilotDaily="News_CopilotDaily",t.News_BreakingNews="News_BreakingNews",t.News_ForYouNews="News_ForYouNews",t.Finance_PriceMovement="Finance_PriceMovement",t.Sports_SportsMatch="Sports_ScoreUpdates",t.MomentInTime="MomentInTime",t.News_CreatorSpotlight="News_CreatorSpotlight",t.News_DailyWonder="News_DailyWonder",t.News_WatchGoldShorts="News_WatchGoldShorts"}(r||(r={}));const o=["msnruby","edgntpruby","edgdhpruby","edgentntpruby","edgentdhpruby","ma13x3","cp_msn_cmc"],s=Object.freeze([{id:"watch",localizationKey:"watchText",href:"https://www.msn.com/video"},{id:"weather",localizationKey:"weatherText",href:"https://www.msn.com/weather"},{id:"money",localizationKey:"moneyText",href:"https://www.msn.com/money"},{id:"games",localizationKey:"gamesText",href:"https://www.msn.com/play"}]),a="gemSnapshotKey",c="uxmode"},62907:function(t,e,n){var i,r,o;n.d(e,{Hy:function(){return i},mv:function(){return o}}),function(t){t[t.Unknown=0]="Unknown",t[t.NotSignedIn=1]="NotSignedIn",t[t.SignedIn=2]="SignedIn"}(i||(i={})),function(t){t.MSA="MSA",t.AAD="AAD",t.AAD_AL="AAD-AL",t.NA="NA",t.UNSUPPORTED_SOVEREIGNTY="UNSUPPORTED_SOVEREIGNTY"}(r||(r={})),function(t){t[t.NonAadAccount=0]="NonAadAccount",t[t.AadAccount=1]="AadAccount",t[t.Unknown=2]="Unknown"}(o||(o={}))},30594:function(t,e,n){n.d(e,{$n:function(){return i},bT:function(){return r},cN:function(){return o}});const i=[{id:"ar-ae",value:"ar-ae",displayString:"الإمارات العربية المتحدة (العربية)",direction:"rtl"},{id:"ar-eg",value:"ar-eg",displayString:"مصر (العربية)",direction:"rtl"},{id:"ar-sa",value:"ar-sa",displayString:"المملكة العربية السعودية (العربية)",direction:"rtl"},{id:"bn-in",value:"bn-in",displayString:"India (বাংলা)",direction:"ltr"},{id:"cs-cz",value:"cs-cz",displayString:"Česká republika (čeština)",direction:"ltr"},{id:"da-dk",value:"da-dk",displayString:"Danmark (Dansk)",direction:"ltr"},{id:"de-at",value:"de-at",displayString:"Österreich (Deutsch)",direction:"ltr"},{id:"de-ch",value:"de-ch",displayString:"Schweiz (Deutsch)",direction:"ltr"},{id:"de-de",value:"de-de",displayString:"Deutschland (Deutsch)",direction:"ltr"},{id:"el-gr",value:"el-gr",displayString:"Ελλάδα (ελληνικά)",direction:"ltr"},{id:"en-ae",value:"en-ae",displayString:"United Arab Emirates (English)",direction:"ltr"},{id:"en-au",value:"en-au",displayString:"Australia (English)",direction:"ltr"},{id:"en-ca",value:"en-ca",displayString:"Canada (English)",direction:"ltr"},{id:"en-gb",value:"en-gb",displayString:"United Kingdom (English)",direction:"ltr"},{id:"en-ie",value:"en-ie",displayString:"Ireland (English)",direction:"ltr"},{id:"en-in",value:"en-in",displayString:"India (English)",direction:"ltr"},{id:"en-my",value:"en-my",displayString:"Malaysia (English)",direction:"ltr"},{id:"en-nz",value:"en-nz",displayString:"New Zealand (English)",direction:"ltr"},{id:"en-ph",value:"en-ph",displayString:"Philippines (English)",direction:"ltr"},{id:"en-sg",value:"en-sg",displayString:"Singapore (English)",direction:"ltr"},{id:"en-us",value:"en-us",displayString:"United States (English)",direction:"ltr"},{id:"en-xl",value:"en-xl",displayString:"International Edition (English)",direction:"ltr"},{id:"en-za",value:"en-za",displayString:"South Africa (English)",direction:"ltr"},{id:"es-ar",value:"es-ar",displayString:"Argentina (español)",direction:"ltr"},{id:"es-cl",value:"es-cl",displayString:"Chile (español)",direction:"ltr"},{id:"es-co",value:"es-co",displayString:"Colombia (español)",direction:"ltr"},{id:"es-es",value:"es-es",displayString:"España (español)",direction:"ltr"},{id:"es-mx",value:"es-mx",displayString:"México (español)",direction:"ltr"},{id:"es-pe",value:"es-pe",displayString:"Perú (español)",direction:"ltr"},{id:"es-us",value:"es-us",displayString:"United States (español)",direction:"ltr"},{id:"es-ve",value:"es-ve",displayString:"Venezuela (español)",direction:"ltr"},{id:"es-xl",value:"es-xl",displayString:"América Latina (español)",direction:"ltr"},{id:"fi-fi",value:"fi-fi",displayString:"Suomi (suomi)",direction:"ltr"},{id:"fr-be",value:"fr-be",displayString:"Belgique (français)",direction:"ltr"},{id:"fr-ca",value:"fr-ca",displayString:"Canada (français)",direction:"ltr"},{id:"fr-ch",value:"fr-ch",displayString:"Suisse (français)",direction:"ltr"},{id:"fr-fr",value:"fr-fr",displayString:"France (français)",direction:"ltr"},{id:"fr-xl",value:"fr-xl",displayString:"Afrique francophone (français)",direction:"ltr"},{id:"he-il",value:"he-il",displayString:"ישראל (עברית)",direction:"rtl"},{id:"hi-in",value:"hi-in",displayString:"India (हिंदी)",direction:"ltr"},{id:"hu-hu",value:"hu-hu",displayString:"Magyarország (magyar)",direction:"ltr"},{id:"id-id",value:"id-id",displayString:"Indonesia (Bahasa Indonesia)",direction:"ltr"},{id:"it-it",value:"it-it",displayString:"Italia (italiano)",direction:"ltr"},{id:"ja-jp",value:"ja-jp",displayString:"日本 (日本語)",direction:"ltr"},{id:"ko-kr",value:"ko-kr",displayString:"한국 (한국어)",direction:"ltr"},{id:"mr-in",value:"mr-in",displayString:"India (मराठी)",direction:"ltr"},{id:"nb-no",value:"nb-no",displayString:"Norge (norsk, bokmål)",direction:"ltr"},{id:"nl-be",value:"nl-be",displayString:"België (Nederlands)",direction:"ltr"},{id:"nl-nl",value:"nl-nl",displayString:"Nederland (Nederlands)",direction:"ltr"},{id:"pl-pl",value:"pl-pl",displayString:"Polska (polski)",direction:"ltr"},{id:"pt-br",value:"pt-br",displayString:"Brasil (português)",direction:"ltr"},{id:"pt-pt",value:"pt-pt",displayString:"Portugal (Português)",direction:"ltr"},{id:"ru-xl",value:"ru-xl",displayString:"Международное издание (Pусский)",direction:"ltr"},{id:"ru-ru",value:"ru-ru",displayString:"Россия (Pусский)",direction:"ltr"},{id:"sv-se",value:"sv-se",displayString:"Sverige (svenska)",direction:"ltr"},{id:"te-in",value:"te-in",displayString:"India (తెలుగు)",direction:"ltr"},{id:"th-th",value:"th-th",displayString:"ไทย (ไทย)",direction:"ltr"},{id:"tr-tr",value:"tr-tr",displayString:"Türkiye (Türkçe)",direction:"ltr"},{id:"vi-vn",value:"vi-vn",displayString:"Việt Nam (Tiếng Việt)",direction:"ltr"},{id:"zh-cn",value:"zh-cn",displayString:"中华人民共和国 (简体中文)",direction:"ltr"},{id:"zh-hk",value:"zh-hk",displayString:"香港特别行政區 (繁體中文)",direction:"ltr"},{id:"zh-tw",value:"zh-tw",displayString:"台灣 (繁體中文)",direction:"ltr"}];function r(t,e){return t.displayString<e.displayString?-1:t.displayString>e.displayString?1:0}function o(t){if(""!==document.dir)return"rtl"===document.dir;const e=i.find((e=>e.id===t));return e&&"rtl"===e.direction}},91042:function(t,e,n){n.d(e,{$j:function(){return i},Di:function(){return r},Of:function(){return s},Qx:function(){return a},fw:function(){return o}});const i="peregrine-widgetgroup",r="peregrine-widgets",o="peregrine-widget-settings",s="expected-widget-cards",a="widgets-cards-args"},5813:function(t,e,n){var i;n.d(e,{$s:function(){return m},$v:function(){return F},CO:function(){return O},GR:function(){return r},H0:function(){return p},I1:function(){return g},IA:function(){return N},J8:function(){return d},L3:function(){return l},LJ:function(){return M},Mo:function(){return c},Mt:function(){return $},P$:function(){return P},Pg:function(){return y},Qn:function(){return k},Qs:function(){return T},S1:function(){return W},SE:function(){return o},SO:function(){return R},Td:function(){return w},UW:function(){return f},UY:function(){return C},YU:function(){return _},_O:function(){return H},eK:function(){return x},gr:function(){return D},hM:function(){return A},hZ:function(){return h},hk:function(){return u},i9:function(){return B},kJ:function(){return I},kX:function(){return S},lP:function(){return E},ly:function(){return v},n9:function(){return b},os:function(){return L},pQ:function(){return a},vy:function(){return U},yS:function(){return s}}),function(t){t.activityId="activityId",t.apiKey="apikey",t.audienceMode="audienceMode",t.bypassTrigger="bypass_trigger",t.cm="cm",t.complexInfoPaneEnabled="cipenabled",t.contentType="contentType",t.delta="delta",t.disableContent="disablecontent",t.disableTypeSerialization="DisableTypeSerialization",t.dprValue="dprValue",t.duotone="duotone",t.infopaneCount="infopaneCount",t.fdhead="fdhead",t.feedLayoutRequestType="t",t.filter="$filter",t.includeFollowingFilters="iff",t.ids="ids",t.interestIds="InterestIds",t.location="location",t.market="market",t.newsSkip="newsSkip",t.newsTop="newsTop",t.ocid="ocid",t.pageConfiguration="pgc",t.parentContentId="parent-content-id",t.parentNamespace="parent-ns",t.parentTitle="parent-title",t.providerId="ProviderId",t.queryQ="q",t.query="query",t.queryType="queryType",t.qScope="qscope",t.requestId="rid",t.responseSchema="responseschema",t.select="$select",t.session="session",t.signInCookieName="scn",t.skip="$skip",t.source="source",t.timeOut="timeOut",t.top="$top",t.type="type",t.user="user",t.wrapOData="wrapodata",t.wpoitems="wpoitems",t.wpoPageId="wpopageid",t.wpoSchema="wposchema",t.caller="caller",t.dhp="dhp",t.webWorker="webWorker",t.edgeNoAds="edgenoads",t.edgeReduceAds="edgereduceads",t.column="column",t.anaheimPageLayout="anaheimPageLayout",t.adRefreshVariant="adRefreshVariant",t.gdpr="gdpr",t.verticalName="verticalName"}(i||(i={}));const r="0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM",o="r3HOPDA7wzesCD1BWVDtCJY24KnBcvx7vLcbGvb7YU",s="cp_msn_news",a="cp_msn_gems",c="service/news/feed/pages/",u="serviceak/news/feed/pages/",l="news/feed/pages/",d="ntpxfeed",f="wpoxfeed",h="news/feed/pages/",p="winxfeed",m="wpodhp",g="gamingfeed",v="ntpfollowfeed",w="filteredfollowingchannels",y="prong1followfeed",b="prong1xfeed",S="prong2followfeed",x="followingxfeed",C="weblayout",k="ntpxfeed",T="prong2xfeed",$="news/feed/Segments",A="https://api.msn.com",I="https://sf-ppe.oneservice-test.msn.com",P="wpo-usebasedomain",_="wpo-useintdomain",M="https://ppe-api.msn.com",R="news/feed/pages/ntpxfeed",E="news/feed/pages/",F="xbox-browser",D="jY4a3fYtgzb7PIcW0Kj6amp5k6LwDefg6RSnkmxjto",O="prg-useakmaipath",N="prg-ssr-ext1sdns",U="msnkids",L="dy0rQcQaYj5cKZ2Cy0cdaRDJcC5maS5hPj9w2SbeRf",B="anaheim-ntp-following",W="vevII5dbHfpd1fHIMlPxbas6GZQEFOm4CozFHehOgW";function H(t,e){e.set("wrapodata","false").set("DisableTypeSerialization","true").set("queryType",t.queryType||"myfeed").set("timeOut",`${function(t){const{timeoutMs:e,query:n,customFeedTimeoutMs:i}=t;return n&&i?i:e}(t)}`).set("contentType",t.contentType).set("apikey",r),(t.useDelta||t.sessionId)&&(e.set("delta","true"),t.sessionId&&e.set("session",t.sessionId)),t.ocid&&e.set("ocid",t.ocid)}},22745:function(t,e,n){n.d(e,{T3:function(){return c},Uo:function(){return s},q1:function(){return a},tz:function(){return o}});var i=n(52185);let r;function o(t){r=t}function s(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=u();let o=i[t];if(o||(o=[],i[t]=o),o.push(e),n){const n=r(t);if(n){const t=n.getCurrentState();t&&e(t)}}}function a(t,e){const n=u(),i=n[t];if(i&&i.length){for(let t=0;t<i.length;t++)if(i[t]===e){i.splice(t,1);break}n[t]=i}}function c(t,e){const n=u()[t];if(n&&e)for(const t of n)t(e)}function u(){return i.Gq.get("reducers__callbackMap",(()=>({})))}},77016:function(t,e,n){n.d(e,{_:function(){return b}});var i=n(27670),r=n(45529),o=n(44446),s=n(90351),a=n(25514),c=n(46728),u=n(21215);const l=new Map;function d(t){return t+"."+r.B.connectorStateKey}const f={registerInjection:function(t,e){let n=l.get(e);n||(n=new Set,l.set(e,n)),n.add(d(t))},initializeExperience:function(t,e,n){const i=d(e),r={...(0,s.Z)(t,i,void 0),[n]:(0,s.Z)(t,d(n),void 0)};(0,a.Z)(t,i,r)},reportStateChange:function(t,e,n){const i=l.get(e);if(i)for(const r of i){const i=(0,s.Z)(t,r,void 0);i&&(0,a.Z)(t,r,{...i,[e]:n})}}};var h=n(85663),p=n(22745);class m{constructor(){this._connectorMap={},this._globalConnectors=[],this._allConnectors=[],this._getDataConnectorPendingPromises=new Map,this.reduce=this.reduce.bind(this)}connectors(){return this._allConnectors}connector(t){return this._connectorMap[t]}globalConnectors(){return this._globalConnectors}getDataConnector(t){const e=this.connector(t);if(e)return Promise.resolve(e);const n=this._getDataConnectorPendingPromises.get(t);if(n)return n.promise;let i,r;const o=new Promise(((t,e)=>{i=t,r=e}));return this._getDataConnectorPendingPromises.set(t,{promise:o,resolve:i,reject:r}),o}reduce(t,e){(0,h.isNullOrUndefined)(t)&&(t={});let n={...t},i=!1;const l=e.key;if(void 0!==e&&void 0!==l){const d="string"==typeof e.type;if(d&&e.type.endsWith(r.B.renderAction)){const e=l+"."+r.B.connectorStateKey,c=(0,o.Z)({},(0,s.Z)(t,e,void 0));(0,a.Z)(n,e,c),i=!0}else if(d&&e.type.endsWith(r.B.dataConnectorMergeInitAction)){const t=l,r=e.params[0];r&&(f.initializeExperience(n,t,r),i=!0)}else{const t=this._connectorMap[l];if(t){t.isGlobal&&(n=(0,c.Z)({},n));const r=this.computeNextStateForConnector(n,l,e);i=r.stateChanged,i&&(f.reportStateChange(n,l,r.newState),(0,u.N)()&&(0,p.T3)(l,r.newState))}else if(!(0,u.N)())throw new Error("Reducer for: "+l+" must not return undefined.")}}else Object.keys(this._connectorMap).forEach((t=>{this.computeNextStateForConnector(n,t,e).stateChanged&&(i=!0)}));return i?n:t}addSubReducerForConnector(t){if(!t)throw new Error("The parameter 'connector' cannot be null.");this.addConnectorToCollection(t),t.store.dispatch({key:t.fullNamespace,type:"@@connector-view/INIT"})}addConnectorToCollection(t){if(this._connectorMap[t.fullNamespace]=t,this._allConnectors.push(t),t.isGlobal&&this._globalConnectors.push(t),this._getDataConnectorPendingPromises.has(t.namespace)){const e=this._getDataConnectorPendingPromises.get(t.namespace);try{e.resolve(t)}catch(t){e.reject(t)}this._getDataConnectorPendingPromises.delete(t.namespace)}}computeNextStateForConnector(t,e,n){const i=this._connectorMap[e];if(!i.reducer)return{stateChanged:!1,newState:null};const o=e+"."+r.B.connectorStateKey,c=(0,s.Z)(t,o,void 0),u=this.subReduce(i.reducer,c,n);if(void 0===u)throw new Error("Reducer for: "+e+" must not return undefined.");const l=u!==c;return l&&(0,a.Z)(t,o,u),{newState:u,stateChanged:l}}subReduce(t,e,n){const i=t.reduce(e,n);return i!==e?i:e}}var g=n(11365),v=n(42122),w=n(52185);const y="__PageBaseInstance__";class b{constructor(t){let e;const n=[];if(void 0!==v.k&&v.k&&v.k.isDebug()){e=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25})||i.qC)((0,g.md)(...n))}else e=(0,g.md)(...n);this._rootReducer=new m,this._store=(0,i.MT)(this.rootReducer.reduce,t,e)}static resetPageBaseInstance(t){w.Gq.set(y,new b(t))}static deletePageBaseInstance(){w.Gq.delete(y)}get store(){return this._store}get rootReducer(){return this._rootReducer}static getInstance(t){return w.Gq.get(y,(()=>new b(t)))}start(){this.rootReducer.connectors().forEach((t=>t.onApplicationStart()))}}},45529:function(t,e,n){var i;n.d(e,{B:function(){return i}}),function(t){t.connectorStateKey="_@STATE@_",t.renderAction="@@connector-view/RENDER",t.dataConnectorMergeInitAction="@@data-connector/MERGE-INIT"}(i||(i={}))},30666:function(t,e,n){n.d(e,{e:function(){return l}});var i=n(45529),r=n(22745),o=n(89799),s=n(43852),a=n(11365),c=n(25514),u=n(82928);(0,r.tz)(u.K0);class l{get store(){return this._subspace}get fullNamespace(){return this._fullNamespace}get configHref(){return this._configHref}set configHref(t){this._configHref=t}constructor(t,e,n,i,r,s,c){let u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.namespace=t,this.parentNamespace=e,this.rootReducer=n,this.reducer=i,this.config=s,this.requestContext=c,this.isGlobal=u,this._fullNamespace=void 0!==e&&""!==e?e+"."+t:t,this.selectState=this.selectState.bind(this),this._subspace=(0,a.Z)(this.selectState,this.namespace)(r);const l=this.perfTimeline=this.tryGetPerfTimeline(t);this.fetch=(0,o.Ud)({perfTimeline:l}),n.addSubReducerForConnector(this)}getCurrentState(){const t=this.store.getState()[i.B.connectorStateKey];if(!this.isGlobal){const e=this.rootReducer.globalConnectors();0!==e.length&&e.forEach((e=>{(0,c.Z)(t,e.namespace,e.getCurrentState())}))}return t}onApplicationStart(){}selectState(t){return t[this.namespace]}tryGetPerfTimeline(t){const e=t.split("_"),[n]=e,i=e[e.length-1];return(0,s.oA)(n,i)}}},93686:function(t,e,n){n.d(e,{F:function(){return o}});var i=n(77016);class r{constructor(t,e){this.namespace=t,this.config=e,this.store=null,this.parentNamespace=null,this.reducer=null,this.isGlobal=!1,this.requestContext=null,this.onApplicationStart=()=>{},this.configHref=null,this.fullNamespace=t,i._.getInstance().rootReducer.addConnectorToCollection(this)}getCurrentState(){throw new Error("Not implemented")}}r.isWCConnector=!0;class o extends r{getCurrentState(){return null}}},38947:function(t,e,n){n.d(e,{G:function(){return o}});var i=n(58043),r=n(55600);class o{static handleAction(t,e,n){return!!o.endsWith(t.type+"",e.type)&&(n.apply(n,t.params),!0)}static handleActions(t,e,n){const r=t.type+"";return!!(0,i.Z)(e,(t=>o.endsWith(r,t.type)))&&(n.apply(n,t.params),!0)}static safeHandleAction(t,e,n){if(!o.endsWith(t.type+"",e.type))throw"The action payload does not match the action type.";return n.apply(n,t.params),!0}}o.endsWith=String.prototype.endsWith?function(t,e){return t.endsWith(e)}:r.Z},24709:function(t,e,n){n.d(e,{C:function(){return h}});var i=n(77016);function r(t,e,n,i){let r;return t&&(r=t.parentNamespace?t.parentNamespace+"."+t.namespace:t.namespace),{key:r,experienceInstanceId:i,type:e,params:n}}function o(t,e){return t?t.store.dispatch(e):i._.getInstance().store.dispatch(e)}var s=n(45529);class a{get send(){return this.dispatchAction()}constructor(t,e,n){this.type=t,this.observers=e,this.connector=n}dispatchAction(){return function(){const t=this.tryGetPerfTimeline(),e=t&&t.startMeasure("action",this.type).endMeasure;for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];const{payload:c,result:u}=this.getDispatchResult(i);return this.observers.forEach((t=>{try{t.filterConnector&&this.connector!==t.filterConnector||t.observer(c)}catch(e){console.log(`Error calling observer: ${JSON.stringify(t.observer)}, with error: ${e}`)}if(t.dispatchConnector){const e=r(t.dispatchConnector,s.B.renderAction,[],void 0);o(t.dispatchConnector,e)}})),e&&e(),u}}}class c extends a{constructor(t,e,n){super(t,e,n)}getDispatchResult(t){const e=r(this.connector,this.type,t,void 0);return{payload:e,result:o(this.connector,e)}}tryGetPerfTimeline(){return this.connector.perfTimeline}}var u=n(43852);class l extends a{constructor(t,e,n){super(t,e,null),this.experienceInstanceId=n}getDispatchResult(t){const e=r(void 0,this.type,t,this.experienceInstanceId);return{payload:e,result:o(void 0,e)}}tryGetPerfTimeline(){return(0,u.oA)("GlobalActionSender",this.experienceInstanceId||"unknown")}}var d=n(52185);let f=1;class h{get observers(){return d.Gq.get(this.observerKey,(()=>[]))}set observers(t){d.Gq.set(this.observerKey,t)}constructor(t){this.type=t,this.observerKey=`__ActionMap_${t}_${f++}`}getActionSender(t){let e;if(e="string"==typeof t?i._.getInstance().rootReducer.connector(t):t,e)return new c(this.type,this.observers,e)}getGlobalActionSender(t){return new l(this.type,this.observers,t)}registerObserver(t,e){const{dispatchConnector:n,filterConnector:i}=e||{};this.observers.push({observer:t,dispatchConnector:n,filterConnector:i})}unregisterObserver(t){const e=this.observers.findIndex((e=>e.observer===t));e>-1&&this.observers.splice(e,1)}unregisterObservers(){this.observers=[]}}},82928:function(t,e,n){n.d(e,{K0:function(){return g},Ki:function(){return v},oU:function(){return m}});var i=n(2907),r=n(82223),o=n(99147),s=n(98303),a=n(5302),c=n(33779),u=n(77016),l=n(52185),d=n(21215),f=n(22745);const h="GetDataConnector.skippedConnectors",p={};async function m(t){return t?await u._.getInstance().rootReducer.getDataConnector(t):null}function g(t){return u._.getInstance().rootReducer.connector(t)}async function v(t){const e=(0,i.M)(t);if(l.Gq.get(h,(()=>new Set)).has(e))return Promise.resolve();const n=l.Gq.get("dataConnectorLoadPromiseMap",(()=>({})));let m=n[e];if(m)return m;let g=p[e];return g||(g=r.n.loadExperience(e).catch((()=>{delete p[e]})),p[e]=g),m=new Promise((async e=>{try{const e=(0,i.M)(t),n=(0,i.Fr)(t),r=o.U.getConfig(n),a=await Promise.all([r,g]),c=a[0].properties,l=a[1],h=u._.getInstance(),p=l[e+"Connector"];if(!0===p.isWCConnector)new p(e,c);else{const t=l[e+"Reducer"],n=new p(e,"",h.rootReducer,new t(c),h.store,c,new s.fH);(0,d.N)()&&(0,f.T3)(e,n.getCurrentState())}}catch(t){const e={...a.NGC};(0,c.OO)(t,e,"Loading data connector failed.")}e()})),n[e]=m,m}},55584:function(t,e,n){n.d(e,{s:function(){return o}});var i,r=n(24709);class o{}(i=o).signedInStatus=new r.C("SignedInStatus"),i.signedInStatusConfirmed=new r.C("SignedInStatusConfirmed"),i.useEnterpriseCompliance=new r.C("UseEnterpriseCompliance"),i.updateLocation=new r.C("UpdateLocation")},69739:function(t,e,n){n.d(e,{n:function(){return w}});var i=n(523),r=n(30666),o=n(28123),s=n(48593),a=n(85856),c=n(77137),u=n(21215),l=n(16415),d=n(38947),f=n(55584),h=n(37955);class p{reduce(t,e){if(!t){return{signedIn:this.getSignInStatus(),useEnterpriseCompliance:!1}}if(!e)return t;let n,i=!1;return i=d.G.handleAction(e,f.s.signedInStatus,(e=>{n={...t,signedIn:e}})),i=i||d.G.handleAction(e,f.s.useEnterpriseCompliance,(e=>{n={...t,useEnterpriseCompliance:e}})),i=i||d.G.handleAction(e,f.s.updateLocation,(e=>{n={...t,location:e}})),n||t}getSignInStatus(){if((0,o.TJ)()){return(0,s.XS)().isSignedIn}if(!(0,u.N)()){const{oneServiceHeaders:t}=(0,l.sL)();if(t&&Object.keys(t).length>0&&t.authorization)return 2}if((0,o.hk)())return 0;if((0,o.P8)())return(0,a.x6)()?2:1;const t=c.jG.AuthCookieName;if(""==t)return 1;const e="app_anon"==t?"aace":"ace";return(0,h.ej)(e)?2:1}}var m=n(46124),g=n(44132);class v extends r.e{constructor(t,e,n,i,r,o,s){super(t,e,n,i,r,o,s,!0),this.initOverrides=()=>{}}static initialize(t,e,n){let r=t.connector(i.zz);return r||(r=new v(i.zz,"",t,new p,e,void 0,n)),(0,m.A)(r),r}getSignInState(){return this.getCurrentState().signedIn}setSignInState(t){const e=this.getCurrentState().signedIn;e!==t?(f.s.signedInStatus.getActionSender(this).send(t),g.M0.addOrUpdateTmplString(`auth-stateChange-${e}-${t}`)):f.s.signedInStatusConfirmed.getActionSender(this).send()}useEnterpriseCompliance(){return this.getCurrentState().useEnterpriseCompliance}}const w=v.initialize},45798:function(t,e,n){n.d(e,{Am:function(){return i},Zw:function(){return o},x1:function(){return r}});const i=s.bind(null,"object"),r=s.bind(null,"number"),o=s.bind(null,"string");function s(t,e){return("object"!=typeof e||null!==e)&&typeof e===t}},56037:function(t,e,n){function i(t,e,n,i,r,o,s,a,c,u){return{...{name:e||"",action:r,behavior:n,content:a,destinationUrl:o,ext:u,overrideDestinationUrl:s,type:i,feed:c},...t||{}}}n.d(e,{p:function(){return s},l:function(){return a}});var r=n(45798);const o=void 0;function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e||e.length<2||!(0,r.Zw)(e[0])||!(0,r.Am)(e[1]))throw new Error("Invalid arguments");const s=e[0],a=e[1],c=(0,r.x1)(e[2])?e[2]:o,u=(0,r.Zw)(e[3])?e[3]:o,l=(0,r.x1)(e[3])?e[3]:(0,r.x1)(e[4])?e[4]:o,d=(0,r.Zw)(e[4])?e[4]:(0,r.Zw)(e[5])?e[5]:o,f=(0,r.Zw)(e[6])?e[6]:o,h=(0,r.Am)(e[4])?e[4]:(0,r.Am)(e[5])?e[5]:(0,r.Am)(e[6])?e[6]:(0,r.Am)(e[7])?e[7]:o;return i(o,s,c,l,u,f,d,a,o,h)}function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e||e.length<1||!(0,r.Zw)(e[0]))throw new Error("Invalid arguments");const s=e[0],a=(0,r.x1)(e[1])?e[1]:o,c=(0,r.Zw)(e[2])?e[2]:o,u=(0,r.x1)(e[2])?e[2]:(0,r.x1)(e[3])?e[3]:o,l=(0,r.Am)(e[3])?e[3]:o;return i(o,s,a,u,c,o,o,o,o,l)}},57627:function(t,e,n){n.d(e,{X:function(){return s},c:function(){return a}});var i=n(78058),r=n(45798),o=n(56037);function s(){return new i.D((0,o.p)(...arguments))}function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e||e.length<3||!(0,r.Am)(e[e.length-1]))throw new Error("Invalid arguments");const s=e.pop(),a=(0,o.p)(...e),c=Object.assign(a,s);return new i.D(c)}},70970:function(t,e,n){n.d(e,{V:function(){return a},u:function(){return s}});var i=n(78058),r=n(45798),o=n(56037);function s(){return new i.D((0,o.l)(...arguments))}function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!e||e.length<2||!(0,r.Am)(e[e.length-1]))throw new Error("Invalid arguments");const s=e.pop(),a=(0,o.l)(...e),c=Object.assign(a,s);return new i.D(c)}},43522:function(t,e,n){n.d(e,{c:function(){return s},w:function(){return o}});var i=n(34800);const r={article:"ArticlePreview",video:"VideoPreview",slideshow:"SlideshowPreview",webcontent:"WebContentPreview"},o=(t,e)=>{var n,r;const o=t||{},a=e||{},c=o.provider,u=o.category;let l,d;"string"==typeof u?d=l=u:u&&(l=u.label,d=u.product);const f=c&&c.name,h=c&&c.id,p=a.subCategory||l,m=a.category||d,g=o.title,v=o.id,w=o.isLocalContent||a.isLocalContent,y=null===(n=o.stringAttributes)||void 0===n?void 0:n.vertical_tera,b=null===(r=o.stringAttributes)||void 0===r?void 0:r.subvertical_tera,S=s(o.type)||o.type,x=S&&(0,i.ne)(S)||void 0;return function(t,e,n,i,r,o,s,a,c,u,l,d,f){return{...f,category:i,headline:r,id:t,type:e,vertical:n,brand:o,brandId:s,partnerId:a,partnerName:c,isLocal:u,teraVertical:l,teraCategory:d}}(null!=v?v.toString():void 0,x,m,p,g,f,h,void 0,void 0,w,y,b)};function s(t){return r[t]||""}},16929:function(t,e,n){n.d(e,{g:function(){return r}});var i=n(2907);function r(t){return"string"==typeof(e=(0,i.Fr)(t))?e:e.instanceSrc;var e}},10290:function(t,e,n){n.d(e,{ITY:function(){return o}});var i=n(70041);const r={[i.jls]:"above-river-block",[i.BV5]:"action-tray",[i.YWQ]:"article-close-button",[i.gOp]:"article-related-stories",[i._9V]:"article-top-comment",[i.nXC]:"autos-carousel",[i.hiu]:"autos-entity-card-wc",[i._Dk]:"autos-entity-span",[i.iEA]:"back-to-top-button",[i.OTW]:"background-gallery",[i.q31]:"background-image",[i.HH0]:"bing-daily-quiz-card",[i.jXL]:"bing-health-card",[i.A_l]:"bing-health-fitness-card",[i.JkB]:"bing-homepage-feed",[i.y2o]:"boost-ad-card",[i.l0e]:"breaking-news-wc",[i.yLt]:"calendar-card",[i.X$j]:"card-action",[i.Vve]:"cashback-carousel-card",[i.V7e]:"casual-games-banner",[i.N6]:"casual-games-card",[i.WJ2]:"casual-games-carousel-card",[i.Qd1]:"casual-games-zh-carousel",[i.wUc]:"casual-games-feed",[i.HBe]:"casual-games-frame",[i.qHB]:"casual-games-game-card-carousel",[i.tJk]:"casual-games-gameplay",[i.EFl]:"casual-games-gameplay-right-rail",[i.i$x]:"casual-games-hub",[i.ieX]:"casual-games-landing-v2",[i.vJu]:"casual-games-prong2-carousel-card",[i.xGt]:"casual-games-stripe-carousel-card",[i.qrd]:"casual-games-user-profile-preview",[i.FoC]:"channel-entry-point",[i.pru]:"channel-filter-card",[i.TY]:"fre-entrypoint",[i.Uon]:"channel-interests-manager",[i.$sA]:"channel-mobile-content",[i.ya$]:"channel-page",[i.utF]:"channel-store",[i._FV]:"chrome-extension-page",[i.WMP]:"cms-base-experience",[i.iw_]:"shopping-cms",[i.jK4]:"codex-bing-chat",[i.J4S]:"cold-start",[i.p_9]:"common-auto-suggest",[i.exU]:"common-header",[i.zK8]:"common-search-box-edgenext",[i.g3x]:"common-settings-edgenext",[i.iUi]:"community-card",[i.h1P]:"community-compose-copilot",[i.leK]:"commute-card",[i.m6X]:"companion-widget",[i.YGz]:"conditional-banner-hp-wc",[i.rC1]:"conditional-banner-wc",[i.fJE]:"consumption-feed-wc",[i.xYH]:"consumption-page",[i.v$Q]:"content-flex-info-pane",[i.ssN]:"content-group",[i.XIX]:"content-group-card",[i.u5K]:"content-tts",[i.wRm]:"contextual-feedback-wc",[i.yR8]:"copilot-consumption-landing-page",[i.qHN]:"copilot-feed-view",[i.j9W]:"copilot-ruby-card",[i.PWY]:"copilot-suggestion-prompts",[i.MIk]:"cpc-monetization-dashboard",[i.DJ7]:"creator-spotlight-card",[i.lJY]:"daily-brief-card",[i.wlz]:"daily-brief-full-page-player",[i.YfO]:"daily-greeting-card",[i.tCy]:"daily-moments-card",[i.SNA]:"daily-wonder-card",[i.RmL]:"daily-wonder-copilot-card",[i.WTs]:"dashboard-fallback",[i.hch]:"dashboard-settings",[i.Ti2]:"debug-button",[i.Up2]:"dense-card",[i.fqP]:"desktop-feed-hub",[i.sVW]:"desktop-feed-views",[i.mVg]:"desktop-feed",[i.l1V]:"dev-tools",[i.NDs]:"did-you-know-image-wc-experience",[i.gk]:"did-you-know-wc-experience",[i.Tu3]:"digest-card",[i.q8y]:"display-ads",[i.M6f]:"distribution-feed",[i.HUp]:"distribution-header",[i.T9u]:"distribution-page",[i.FJH]:"distribution-pivots-nav",[i.fyI]:"donation-npo-card",[i._lg]:"edge-chromium-page",[i.WGZ]:"edge-shopping",[i.LHB]:"election-card",[i.YdT]:"emmx-entrypoint",[i.LDe]:"entertainment-card",[i.ooB]:"entertainment-intent",[i.hRd]:"entertainment-premier-card",[i.EpM]:"entry-point-hp-mobile",[i.A0u]:"entry-point",[i.ckf]:"entry-point-hp-ruby",[i.JZn]:"entry-point-mobile-hub",[i.lIP]:"entry-point-views",[i.NuV]:"esports-card",[i.dMV]:"example-offer-card",[i.DYF]:"experience-preview-cta",[i.b1M]:"family-card",[i.LRP]:"feed-container",[i.ISs]:"feed-level-feedback-wc",[i.Uu8]:"feed-navigation-hp",[i.tH5]:"feedback-card",[i.A1U]:"feedback-dialog-wc",[i.ySJ]:"feedback-link",[i.Sq1]:"finance-carousel",[i.mo8]:"float-button-group",[i.QTZ]:"following-fre-confirmation",[i.aJp]:"following-fre-full-width",[i.PYn]:"food-similar-items",[i.cdX]:"frequent-sites-card",[i.IOi]:"gaming-channel",[i.s_p]:"gaming-discover-strip",[i.oSF]:"gaming-page",[i.oR0]:"gaming-recentlyplayed-card",[i.KfJ]:"general-elections",[i.wge]:"grid-view-feed",[i.VtB]:"header-windows-shell-wc",[i.s67]:"health-articles-card",[i.ckV]:"health-augment-card",[i.wQF]:"health-diet-plan-schedule",[i.UKI]:"health-feedback",[i.YtU]:"health-fitness-carousel",[i.lBi]:"health-food-healtheffects",[i.rGG]:"health-food-recipes",[i.INF]:"healthhub-healthapp",[i.ySq]:"health-interests-manager",[i.S5B]:"health-qna-card-wc",[i.us7]:"health-tip-wc",[i.JTG]:"health-top-span",[i.m8e]:"health-topic-flyout",[i.FZm]:"health-translation",[i._hl]:"hero-container-wc",[i.TSk]:"homepage-footer",[i.Wfs]:"homepage-header",[i.rXk]:"homepage-pwa-mobile",[i.UE]:"horoscope-answer-card",[i.iOK]:"hot-list-card",[i.Mjw]:"hp-feed-switch",[i.u1Z]:"immersive-fullscreen",[i.UWU]:"inspiration-card",[i.wwX]:"interest-fre-card",[i.OiM]:"interest-management-card",[i.kWS]:"interests-manager",[i.eHH]:"interests-wc",[i.CG8]:"ios-pwa-install-instructions",[i.wiB]:"issue-reporting",[i.LnM]:"ka-social-buzz",[i.ODX]:"key-takeaways-wc",[i.uG1]:"language-toggle",[i.OF7]:"linked-in-card",[i.qmE]:"local-hub-header",[i.j62]:"localize-strings-temp-experience",[i.BFg]:"mail-signout-banner",[i.vG7]:"manga-card",[i.u4d]:"manga-carousel",[i.Czh]:"market-language-toggle",[i.Q16]:"marketplace-card",[i.sgW]:"me-control",[i.KpP]:"me-stripe",[i.pn3]:"microsoft-edge-widget",[i.kJd]:"mobile-app-upsell",[i.YJV]:"mobile-consumption-page",[i.Kww]:"mobile-feed-hub",[i.$aC]:"mobile-feed-wc",[i.zgP]:"mobile-footer",[i.bNS]:"mobile-header",[i.HBJ]:"mobile-market-selector",[i.QMX]:"mobile-notification",[i.r_z]:"mobile-popup-window",[i.YDV]:"mobile-tip",[i.KgY]:"mobile-trending-search-card",[i.mnK]:"mobile-video-sd-card",[i.wRF]:"moment-in-time-hero",[i.J$A]:"money-augment-card",[i.Cdl]:"money-copilot",[i.guo]:"money-info",[i.tJU]:"money-info-card",[i.q_M]:"money-info-span",[i.rER]:"ms-rewards",[i.T5A]:"msn-feed",[i.cwF]:"msn-studio",[i.v61]:"native-ad-wc",[i.E6M]:"navigation-page-experience",[i.VWZ]:"newsletter-signup",[i.$el]:"newsletter-signup-page",[i.ffn]:"nextdoor-page",[i.xju]:"tracker-create",[i.YDB]:"tracker-page",[i.dT1]:"tracker-topic",[i.GHS]:"notification-bell",[i.IhH]:"notification-mini-card",[i.lCU]:"nudge-spotlight-card",[i.PcW]:"nurturing-banner",[i.isq]:"nurturing-coach-mark",[i.ZyT]:"office-apps",[i.vFd]:"office-coachmark",[i.o4h]:"office-documents-table",[i.nmZ]:"office-leftrail",[i.RGQ]:"on-this-day-card",[i.ne0]:"page-refresh",[i.Y8d]:"pano-page",[i.JYk]:"personal-finance-expense-distribution",[i.KEM]:"personal-finance-transactions-card",[i.J1W]:"personalize-nav-button",[i.Vdi]:"photo-card",[i.JiM]:"pill-wc",[i.gYv]:"pivots-mobile",[i.Fj8]:"polls-card",[i.Dzg]:"premium-profile-promo-card",[i.FYi]:"pride-event-card",[i.bN3]:"prism-carousel-card",[i.o1e]:"prism-feed",[i.vPc]:"prism-sd-card",[i.l1J]:"proactive-feedback-wc",[i.D7S]:"productivity-hub",[i.qym]:"profile-articles",[i.SYh]:"promoted-ad-wc",[i.iuJ]:"publisher-list",[i.wr4]:"publisher-subscribe-follow-button",[i.fyJ]:"pull-to-refresh",[i.sPK]:"pulse-edgenext",[i.qZg]:"pulse-prong",[i.yHC]:"qna-card",[i.CVw]:"qna-feed-404-page",[i.SVM]:"qna-feed-card",[i.pZ3]:"qna-feed-card-menu",[i.PE$]:"qna-feed-carousel",[i.wSV]:"qna-feed-categories-menu",[i.MAN]:"qna-feed-explore-topics",[i.JVh]:"qna-feed-list",[i.JK5]:"qna-feed-my-topics",[i.FHt]:"qna-feed-related-questions",[i.QWn]:"qna-feed-report-card",[i.d22]:"qna-feed-suggested-topics",[i.OuO]:"qna-feed-topic-detail",[i.PjF]:"qna-feed-trending-questions",[i.yuv]:"quiz-card",[i.w_t]:"reaction-breakdown-dialog",[i.kvh]:"real-estate-card",[i.hn8]:"recipes-sd-card",[i.Ph9]:"recommended-interests",[i.WOb]:"recommended-sites",[i.IF2]:"rewards-card",[i.EeD]:"rewards-flyout",[i.ZwZ]:"rich-calendar-card",[i.oBI]:"rich-calendar-landing-page",[i.vx_]:"exam-page",[i.QI2]:"right-rail-provider-carousel",[i.HTd]:"ruby-board-home-page",[i.LoE]:"ruby-page",[i.Esr]:"scroll-down-button",[i.Mb7]:"sd-card-mask",[i.SH9]:"search-box-wc",[i.eMK]:"search-history-edgenext",[i.x6e]:"select-carousel",[i.Kfg]:"shared-hero-news-card",[i.Ry6]:"stack-card",[i.Vrn]:"shared-links",[i.PP6]:"sharepoint-news-card",[i.srZ]:"shopping-all-stores-page",[i.uT9]:"shopping-article-page",[i.jZ0]:"shopping-augment-card",[i.xhj]:"shopping-banner-sd-card",[i.J3F]:"shopping-bing-product-details",[i.DbV]:"shopping-blackjack-deal-page",[i.nii]:"shopping-blackjack-page",[i.h0c]:"shopping-buying-guide",[i.$Ot]:"shopping-buying-guide-premium-card",[i.RMj]:"shopping-buying-guides-card",[i.CRe]:"shopping-card-actions",[i.Tk6]:"shopping-card-wc",[i.Cg6]:"shopping-carousel-prong-wc",[i.Jvt]:"shopping-carousel",[i.vsY]:"shopping-category-page",[i.B$S]:"shopping-checkout-modal",[i.wrw]:"shopping-cold-start",[i.K1C]:"shopping-coupons-page",[i.TOy]:"shopping-deals-home-page",[i.fPu]:"shopping-debug-page",[i.MLM]:"shopping-entry-base-experience",[i.Xz8]:"shopping-events-deal-card",[i.cvo]:"shopping-fashion-carousel",[i.gRh]:"shopping-gem-hero-card",[i.ZTk]:"shopping-grid",[i.T4c]:"shopping-grouped-carousel",[i.oeN]:"shopping-guides-page",[i.Af8]:"shopping-homepage",[i.Nyn]:"shopping-inspiration",[i.RfQ]:"shopping-leaderboard",[i.MTL]:"shopping-modal",[i.l6J]:"shopping-model-overlay",[i.Qwq]:"shopping-moment-in-time-page",[i.Cmj]:"shopping-offer-card",[i.ky5]:"shopping-page-base",[i.n_R]:"shopping-page-content",[i.bsP]:"shopping-pivot-feed",[i.DeS]:"shopping-product-detail-page",[i.lvU]:"shopping-river-card",[i.BKx]:"shopping-sd-card",[i.PwP]:"shopping-search",[i.F_I]:"shopping-shopthelook-page",[i.rdu]:"shopping-top-span",[i._jE]:"sign-in-control",[i.ItY]:"sign-in-flyout",[i.Es2]:"signal-overlay",[i.lIM]:"social-avatar",[i.nUs]:"social-bar-wc",[i.AQ8]:"social-comment-box",[i._Xv]:"social-comment-wc",[i.poX]:"social-endorsements",[i.EVj]:"social-entrypoint",[i.gDP]:"social-lead-gen-in-article",[i.sGB]:"social-notification",[i.LrE]:"social-post-editor",[i.UhP]:"social-profile-action-menu",[i.nA9]:"social-profile-appeal",[i.Bu7]:"social-profile-card",[i.RSh]:"social-profile-promotion",[i.PAH]:"social-profile-rejection-details",[i.$z3]:"social-profile-topics",[i.oi0]:"social-related-sources",[i.vb7]:"social-report-menu",[i.koT]:"social-rewards-medal",[i.Bqp]:"social-rewards-promotion",[i.Gcu]:"social-star-rating",[i.hO3]:"social-subscription-banner",[i.uT1]:"social-subscription-notification",[i.yHN]:"social-subscription-overlay",[i.FRx]:"social-subscription-overlay-summary",[i.e8Z]:"social-subscription-upsell",[i.F9x]:"social-support-result",[i.aGd]:"social-tip-history",[i.aol]:"social-tip-introduction",[i.xQZ]:"social-tip-promotion",[i.Tx5]:"social-tip-promotion-in-article",[i.RnN]:"social-tip-selection",[i.Sjk]:"sports-around-the-league",[i.CSR]:"sports-augment-card",[i.QZE]:"sports-background-ux",[i.YB9]:"sports-brackets",[i.bru]:"sports-card",[i.kAw]:"sports-commentary",[i.SOf]:"sports-copilot-navigation",[i.PvM]:"sports-countdown-timer",[i.Htk]:"sports-cricket-layout-manager",[i.FbH]:"sports-cricket-league-stats",[i.SA8]:"sports-cricket-match-row",[i.DIt]:"sports-cricket-partnerships",[i.JVb]:"sports-cricket-rankings",[i.GOh]:"sports-cricket-scorecard",[i.qAv]:"sports-cricket-scores-and-schedule",[i.og3]:"sports-entity-header",[i.iS1]:"sports-featured-matches-card",[i.AQ0]:"sports-featured-team-list",[i.riL]:"sports-fre-panel",[i.kFj]:"sports-full-standings",[i.cNB]:"sports-full-stats",[i.lQV]:"sports-game-information",[i.rJS]:"sports-game-score",[i.CxH]:"sports-game-summary",[i.EEj]:"sports-game-summary-full",[i.VaA]:"sports-game-timeline",[i.veL]:"sports-gc-player-stats",[i.sMx]:"sports-gc-team-stats",[i.MHK]:"sports-gen-ui-page",[i.TGc]:"sports-gpt-analysis",[i.xeP]:"sports-headlines-header",[i.z7Q]:"sports-headlines-main-story",[i.J6h]:"sports-headlines-story-carousel",[i.N2F]:"sports-headlines-timelines",[i.Vhw]:"sports-info",[i.pDE]:"sports-info-span",[i.SAx]:"sports-layout-renderer",[i.F73]:"sports-match-row",[i.TWs]:"sports-medal-count-list",[i.qBv]:"sports-medal-summary-list",[i.F8w]:"sports-medal-tracker-list",[i.ar_]:"sports-mobile-tab-panel",[i.udo]:"sports-olympic-card",[i.E1P]:"sports-olympics-header-row",[i.$Uw]:"sports-olympics-result-full",[i.j9d]:"sports-olympics-schedule-full",[i.WK0]:"sports-person-match-row",[i.Cx3]:"sports-personalization-strip",[i.zUe]:"sports-pick-winner",[i.PLO]:"sports-player-bio",[i.vk4]:"sports-player-insights",[i.c8i]:"sports-popular-card-wx",[i.q_V]:"sports-previous-matchups",[i.e0Y]:"sports-promo-card",[i.DoE]:"sports-rankings-full",[i._eh]:"sports-retention-full",[i.R9w]:"sports-scores-and-schedule",[i.LxE]:"sports-scores-and-schedule-full",[i.i2]:"sports-scoring-summary",[i.w_L]:"sports-squad",[i.rfA]:"sports-standings",[i.EjJ]:"sports-standings-list",[i.SJ$]:"sports-stat-leaders",[i.we$]:"sports-stats",[i.mqM]:"sports-story-player",[i.Tlv]:"sports-tab-layout",[i.sXS]:"sports-team-formation",[i.ljh]:"sports-team-probability",[i.MPR]:"sports-tennis-scores-and-schedule-full",[i.zBK]:"sports-tennis-tournament-info",[i.niV]:"sports-tournament-info",[i.PCA]:"sports-tournament-leaderboard",[i.Bm$]:"sports-tournament-match-row",[i.qwu]:"sports-tournament-result-and-schedule",[i.$58]:"sports-tournament-schedule",[i.aNp]:"sports-tournament-standings",[i.Ugt]:"sports-trending-carousel",[i.sPg]:"sports-unavailable-players",[i.RzN]:"sports-video-list",[i.GzM]:"spotlight-card",[i.Inx]:"starter-kit",[i.nZh]:"streaks-badge",[i.Kls]:"stripe-wc",[i.QE3]:"summary-card-wc",[i.rnA]:"super-breaking-news",[i.c8c]:"super-nav",[i.iJ8]:"super-nav-coach-mark",[i.uuz]:"superapp-banner",[i.xbu]:"theme-picker",[i.LIg]:"tips-card",[i.qZt]:"ms-toast",[i.ZjC]:"todo-card",[i.Lfv]:"top-comments-card",[i.X8y]:"top-sites-bookmarks",[i.gLP]:"top-sites-edgenext",[i.sVH]:"top-sites-newsbar",[i.xXj]:"topic-tags",[i.yn7]:"traffic-card",[i.OX5]:"traffic-hero",[i.Pqz]:"translate-temporary",[i.sc_]:"travel-article-page-card",[i.s76]:"travel-card",[i.q7$]:"travel-carousel",[i.Jzc]:"travel-collection-card",[i.opx]:"travel-destination",[i.EMK]:"travel-destination-banner",[i.zu2]:"travel-destination-details-banner",[i.qGw]:"travel-feed",[i.$h8]:"travel-flight-carousel",[i.PkV]:"travel-hotel-carousel",[i.YuV]:"travel-inspiration-card-wc",[i.xl0]:"travel-landing-page",[i.sKb]:"travel-msn-hp-card",[i.kM8]:"travel-sd-carrentals-card",[i.gOk]:"travel-sd-destinations-card",[i.WfD]:"travel-sd-flights-card",[i.R5X]:"travel-sd-hotels-card",[i.u8s]:"travel-sd-themes-card",[i.zTi]:"travel-tour-activity-card",[i.bOQ]:"trending-now-card",[i.veX]:"trending-search-card",[i.jhm]:"ugc-creator-homepage",[i.Rx9]:"unified-composer-personalization",[i.o9I]:"unified-mobile-feed",[i.s3P]:"vertical-left-nav",[i.cTk]:"video-card",[i.jb]:"video-details",[i.cWp]:"video-details-kit",[i.lEL]:"views-coachmark",[i.jjB]:"views-native-ad",[i.p66]:"views-rail",[i.EYD]:"waffle-wc",[i._2w]:"wallet-personalized-offer-sd-card-wc",[i.QnV]:"watch-filter-channel",[i.N6K]:"watch-take-a-break-header",[i.S65]:"watch-wc",[i.saD]:"water-tracker-card",[i.F11]:"waterfall-view-feed",[i.$38]:"weather-card",[i.gv3]:"weather-feed-wc",[i.hDJ]:"weather-forecast-day",[i.S9H]:"weather-forecast-per-hour",[i.VnC]:"weather-hero-experience",[i.Hpz]:"weather-historical-temperature",[i.VyG]:"weather-hourly-histogram",[i.tHe]:"weather-immersive-forecast-wc",[i.IUC]:"weather-location-card",[i.WLc]:"weather-map-group-switcher-button",[i.JKj]:"weather-map-legend",[i.tNG]:"weather-map-timeline",[i.i5N]:"weather-map",[i.vTu]:"weather-minimap",[i.ihw]:"weather-one-liner",[i.Nty]:"weather-overview",[i.nam]:"weather-page",[i.OvS]:"weather-report-issue-dialog",[i.D6P]:"weather-today-history",[i.yjx]:"weather-today-mini",[i.gTT]:"weather-top-section-card",[i.sJx]:"weather-video-entry",[i.YD1]:"welcome-greeting-light",[i.lTG]:"welcome-greeting",[i.Obu]:"widget-picker-wc",[i.x_j]:"widgets-dynamic-feed",[i.k0t]:"widgets-consumption-page",[i.j9B]:"widgets-home-page",[i.a7N]:"widgets-notifications-card",[i.Pte]:"widgets-privacy",[i.UtR]:"widgets-region",[i.JqL]:"widgets-start-feed",[i.dMz]:"win-app-wc",[i.Uq1]:"windows-office-feed",[i.jri]:"windows-shell-banners-manager",[i.dxZ]:"windows-shell-entry",[i.Uoh]:"windows-shell-header",[i.dTK]:"windows-shell-location-dialog",[i.B5t]:"windows-shell-notification-settings",[i.zk5]:"windows-shell-settings-menu",[i.uB2]:"windows-shell-soft-landing",[i.KPU]:"xbox-feed-wc",[i.rc4]:"xfeed-wc",[i.Wm6]:"consumption-landing-page",[i.$WY]:"msn-router",[i.A9U]:"msn-ux-ai-starter-kit-wce",[i.Hmd]:"msn-unified-consumption",[i.sth]:"gem-consumption-page"};function o(t){return r[t]}},20850:function(t,e,n){n.d(e,{Fg:function(){return S}});var i=n(43852),r=n(5302),o=n(33779),s=n(2907),a=n(82223),c=n(99147),u=n(52652),l=n(34254),d=n(10290),f=n(82928),h=n(9791),p=n(51389);const m={DisplayAdsWC:(0,p.V8)("display-ads"),ViewsNativeAd:(0,p.V8)("views-native-ad")};var g=n(21215),v=n(52185);const w="WebComponentLoader.SkippedExperience",y="WebComponentLoader.LoadedExperience",b="WebComponentLoader.ModuleLoadPromiseMap",S=(0,g.N)()?(0,h.Z)(C,(t=>(0,s.B5)(t.configRef))):C,x=()=>v.Gq.get(y,(()=>[]));async function C(t){try{const{configRef:e,configRef:{experienceType:r}}=t;if(v.Gq.get(w,(()=>new Set)).has(r))return;const o=(0,l.gy)(r);o&&o.shouldResolve&&await o.shouldResolve();const s=(0,i.oA)(r,t.instanceId);if((0,g.N)()||x().push(t),window.customElements.get((0,d.ITY)(r)))return void await k(e,s);const c=k(e,s),u=function(t,e){const n=v.Gq.get(b,(()=>({})));let r=n[t];if(r)return r;return r=(0,i.fW)((()=>a.n.loadExperience(t)),"scripts",e),n[t]=r,r}(r,s),f=(await Promise.all([c,u]))[1];await async function(t,e){const i=e[t],r=e[t+"Template"];let o=e[t+"Styles"];if(!(0,g.N)()){const n=e[t+"SSRStyles"];o=n||o}const s=(0,d.ITY)(t),a=function(t,e){if(void 0!==e)return{DisplayAdsWC:(0,p.V8)("display-ads",e),ViewsNativeAd:(0,p.V8)("views-native-ad",e)}[t];return m[t]}(t),c=await Promise.resolve().then(n.bind(n,62074));if(c.FASTElement.define(i,{name:s,template:r,styles:o,...i.definition}),a){class t extends i{}c.FASTElement.define(t,{name:a,template:r,styles:o,...i.definition})}}(r,f)}catch(e){const n={...r.gzO};(0,o.OO)(e,n,"Loading web component experience failed.",void 0,{configInfo:t})}}async function k(t,e){const n=await(0,i.fW)((()=>c.U.getConfig(t)),"config",e);if(!n)return;const r=n.properties;if(!r||!r.dataConnectors||r.dataConnectors.length<=0)return;const o=e&&e.startMeasure("loadDataConnectors").endMeasure,s=u.j.getChildrenDataConnectorConfigInfos(r).map((t=>(0,f.Ki)(t)));await Promise.all(s),o&&o()}},51653:function(t,e,n){n.d(e,{l:function(){return P}});var i=n(33940),r=n(99147),o=n(28904),s=n(42590),a=n(33117),c=n(89799),u=n(242),l=n(33779),d=n(5302),f=n(86117),h=n(43225),p=n(93441),m=n(34254),g=n(81586),v=n(90061);class w extends Event{constructor(t){super(w.type,{bubbles:!0,composed:!0}),this.complete=t}static isPendingTask(t){var e;return t.type===w.type&&"function"==typeof(null===(e=t.complete)||void 0===e?void 0:e.then)}}w.type="pending-task";var y=n(78058),b=n(21215),S=n(52185);const x="__propsMap__",C="__currentPropsToken__",k=()=>(S.Gq.get(x)||S.Gq.set(x,{}),S.Gq.get(x));S.Gq.set(x,{}),S.Gq.set(C,1);var T=n(42833);let $=[];new Set,new T.o;var A=n(72685);const I="props-token";class P extends o.H{constructor(){super(...arguments),this.ensureObservableBeforeConnect=!1,this.hydratable=!1,this.isSSRRendered=!1,this.useTTSRMarker=!1,this.needPendingTask=!1}connectedCallback(){this.initializeCore().then((()=>{var t;return this.ttvrEnd=null===(t=this.perfTimeline)||void 0===t?void 0:t.startMeasure("render").endMeasure}))}async initializeCore(){const t=this.getExperienceType(),e=this.perfTimeline=(0,a.Dd)(t,this.instanceId);if(this.initStart=e&&(()=>this.initEnd=e.startMeasure("init").endMeasure),this.fetch=(0,c.Ud)({perfTimeline:e}),(0,u.O8)("WCE.Count"),(0,b.N)())this.hydratable=this.hasAttribute("defer-hydration")||this.hasAttribute("needs-hydration"),this.isSSRRendered=this.hasAttribute("needs-hydration"),this.useTTSRMarker=this.hasAttribute("use-ttsr")||this.hasAttribute("needs-hydration"),this.initializeAsync();else{const t=this.initializeOnServerSide();this.needPendingTask&&this.dispatchEvent(new w(t))}}async initializeOnServerSide(){var t;null===(t=this.initStart)||void 0===t||t.call(this),this.needPendingTask=!1;const e=this.getExperienceType();try{var n;const t=this.getConfigRef();if(!this.config){let e;if("string"!=typeof t)try{e=r.U.getConfigSync(t)}catch(t){}e||(this.needPendingTask=!0,e=await r.U.getConfig(t)),this.config=e.properties}if(this.strings=this.config.localizedStrings,!this.telemetryObject){const t=this.getTelemetryContract();this.telemetryObject=new y.D(t)}const e=this.experienceConnected();e&&(this.needPendingTask=!0,await e),super.connectedCallback(),this.shadowDomPopulated(),null===(n=this.initEnd)||void 0===n||n.call(this)}catch(t){var i,o;if(null===(i=this.initEnd)||void 0===i||i.call(this,{customSuffix:"error"}),(0,l.OO)(t,d.xuo,`Exception web component experience(${e}) initializeOnServerSide.`,`ssrLayout:${null===(o=window.ssrLayoutState)||void 0===o?void 0:o.selectedFeedDisplaySetting};edgeHeader:${JSON.stringify(window.edgeNTPHeader)}`),this.lifecycleExceptionToThrowErrorOnServerSide)throw t.message=`InitializeOnServerSide exception in ${e}: ${t.message}`,t}}async initializeAsync(){var t;this.hydratable&&await(0,v.ZH)(this),null===(t=this.initStart)||void 0===t||t.call(this),this.reportStartTimeToMilestoneConnector(p.g.updateVisuallyReadyTiming);const e=this.getExperienceType();try{var n;const t=this.getConfigRef();if(!this.config){const e=await r.U.getConfig(t);this.config=e.properties}if(this.strings=this.config.localizedStrings,!this.telemetryObject){const t=this.getTelemetryContract();this.telemetryObject=new y.D(t)}const{stalenessInfo:i}=this.config;i&&i.isStaleCheckRequired&&(s={experienceType:e,thresholdMinutes:i.staleThreshold,criticalCallback:()=>this.prerenderRefreshCritical(),delayCallback:()=>this.prerenderRefresh(),isRequiredForInitialRendering:i.isRequiredForInitialRendering},$.push(s)),this.ensureObservableBeforeConnect&&this.$fastController.bindObservables();const o=this.experienceConnected();if(o){const t=this.hydratable&&v.iA?(0,v.bE)(`${this.getExperienceType()}:experienceConnected`):void 0;null==t||t.start(),await o,null==t||t.markEnd()}if(this.hydratable){const t=v.iA?(0,v.bE)(`${this.getExperienceType()}:beforeHydration`):void 0;null==t||t.start(),await this.beforeHydration(),null==t||t.markEnd()}super.connectedCallback(),this.shadowDomPopulated(),this.hydratable&&await this.afterHydration(),this.perfTimeline&&(0,a.d0)(this,this.perfTimeline,A.y),null===(n=this.initEnd)||void 0===n||n.call(this)}catch(t){var i,o;(0,l.OO)(t,d.xuo,`Exception web component experience initializeAsync. ExperienceType: ${e}`,`ssrLayout:${null===(i=window.ssrLayoutState)||void 0===i?void 0:i.selectedFeedDisplaySetting};edgeHeader:${JSON.stringify(window.edgeNTPHeader)}`),this.processExperienceInitializeError(),null===(o=this.initEnd)||void 0===o||o.call(this,{customSuffix:"error"})}var s}experienceConnected(){}beforeHydration(){}afterHydration(){}shadowDomPopulated(){}prerenderRefreshCritical(){return Promise.resolve(void 0)}prerenderRefresh(){}processExperienceInitializeError(){}getConfigRef(){return{instanceSrc:this.instanceSrc,experienceType:this.getExperienceType(),sharedNs:this.sharedNs}}getTelemetryContract(){return{type:g.c9.Module,name:this.getExperienceType()}}getApproxTTVRValue(t){const e=(0,u.Ou)();if(this.useTTSRMarker&&e.isSSRCompleted)return e[f.nz+(t||this.getExperienceType())]||e[f.nz+"Complete"]}markVisuallyReady(t,e){var n,i;const r=this.getApproxTTVRValue();e??(e=void 0===r),t=r||t;const o=(0,f.o_)(this.getExperienceType(),!1,t,e);return this.reportEndTimeToMilestoneConnector(p.g.updateVisuallyReadyTiming,t),null===(n=this.ttvrEnd)||void 0===n||n.call(this,{endTime:t}),null===(i=this.visualReadinessCallback)||void 0===i||i.call(this),o}markVisuallyReadyRaf(t){(0,h.c)((()=>this.markVisuallyReady(t)))}reportStartTimeToMilestoneConnector(t){this.reportTimeToMilestoneConnector(t,performance.now())}reportEndTimeToMilestoneConnector(t,e){this.reportTimeToMilestoneConnector(t,void 0,e||performance.now())}reportTimeToMilestoneConnector(t,e,n){const i=(0,m.S0)();i&&t.getActionSender(i).send({experienceType:this.getExperienceType(),experienceInstance:this.instanceId,startTime:e,endTime:n})}attributeChangedCallback(t,e,n){if(super.attributeChangedCallback(t,e,n),t===I){const t=function(t){const e=k(),n=e[t];return delete e[t],n}(n);Object.assign(this,t)}}}(0,i.gn)([(0,s.Lj)({attribute:"config-instance-src"})],P.prototype,"instanceSrc",void 0),(0,i.gn)([(0,s.Lj)({attribute:"config-shared-ns"})],P.prototype,"sharedNs",void 0),(0,i.gn)([(0,s.Lj)({attribute:"instance-id"})],P.prototype,"instanceId",void 0),(0,i.gn)([(0,s.Lj)({attribute:I})],P.prototype,"propsToken",void 0)},49903:function(t,e,n){n.d(e,{Ot:function(){return y}});var i=n(31699),r=n(85594),o=n(49218),s=n(2907),a=n(16929),c=n(10290),u=n(20850),l=n(44132),d=n(81586),f=n(78058),h=n(5302),p=n(86117),m=n(21215);const g={};function v(t,e){if(!e)return;const{properties:n,attributes:r}=e;if(n&&Object.assign(t,n),r)for(const[e,n]of Object.entries(r))"boolean"==typeof n?i.S.setBooleanAttribute(t,e,n):"number"==typeof n?t.setAttribute(e,n.toString()):t.setAttribute(e,n)}class w extends r.Pq{bind(t){t.onUnbind(this);const e=t.targets[this.targetNodeId],{events:n,properties:i,instanceKey:r}=this.options||{};if(n)for(const[t,i]of Object.entries(n))e.addEventListener(t,i);let o;if(r&&(o=g[r]),o)return o.elements.push(e),!e.telemetryObject&&null!=i&&i.telemetryObject&&(e.telemetryObject=i.telemetryObject),void v(e,o.options);Object.assign(e,i)}unbind(t){var e,n;const i=t.targets[this.targetNodeId];if(null!==(e=this.options)&&void 0!==e&&e.events)for(const[t,e]of Object.entries(null===(r=this.options)||void 0===r?void 0:r.events)){var r;i.removeEventListener(t,e)}const o=null===(n=this.options)||void 0===n?void 0:n.instanceKey;if(o){const t=g[o];if(t){const e=t.elements.indexOf(i);e>=0&&t.elements.splice(e,1)}}}}function y(t,e){if(!t)return;if(!t.configRef||!t.configRef.experienceType)return void l.M0.sendAppErrorEvent({...h.tkv,message:`ConfigRef for InstanceId "${null==t?void 0:t.instanceId}" is ${null!=t&&t.configRef?"invalid":"missing"}`});e&&e.ttvrMarkerAggregate&&(0,p.aR)(t.configRef.experienceType,e.ttvrMarkerAggregate,!0);const n=function(t,e){const{configRef:n}=t,i=function(t){const e=null==t?void 0:t.properties;return null==e?void 0:e.cardLayout}(e),r=function(t){const e=null==t?void 0:t.properties;return null==e?void 0:e.cardType}(e),o=r?`_${r}`:"";return`${n.experienceType}_${n.instanceSrc}_${n.sharedNs||""}_${t.instanceId}_${i||""}${o}`}(t,e);if(!1!==(null==e?void 0:e.memoize)&&(0,m.N)()){const i=g[n];let r;if(i){if(e)for(const t of i.elements)v(t,e);i.options=e,r=i.template}else r=b(t,n,e),g[n]={template:r,options:e,elements:[]};return r}return b(t,n,e)}function b(t,e,n){let i=null==n?void 0:n.telemetryObject;if(!i){const e={type:d.c9.Module,name:t.configRef.experienceType};i=new f.D(e)}const r={...null==n?void 0:n.properties,telemetryObject:i};let l;!1!==(null==n?void 0:n.includeTelemetryTag)&&(l=i.getMetadataTag());const h={instanceKey:e,events:null==n?void 0:n.events,properties:r},p=(0,s.M)(t),m=(0,a.g)(t),g=(0,c.ITY)(p);(0,u.Fg)(t);const v=Object.entries((null==n?void 0:n.attributes)??{}).map((t=>{let[e,n]=t;return"boolean"==typeof n?n?e:"":`${e}=${n}`})).join(" ");return o.dy`<${o.dy.partial(g)} config-instance-src=${o.dy.partial(m)} config-shared-ns=${e=>{var n;return null===(n=t.configRef)||void 0===n?void 0:n.sharedNs}} instance-id=${o.dy.partial(t.instanceId)} data-t=${t=>l} ${function(t){return t?new w(t):""}(h)} ${o.dy.partial(v)}></${o.dy.partial(g)}>`}r.m0.define(w)},72685:function(t,e,n){n.d(e,{y:function(){return r}});var i=n(58968);function r(){return new Promise((t=>i.H.enqueue((()=>t()))))}},32598:function(t,e,n){n.d(e,{Mx:function(){return r},hJ:function(){return o}});var i=n(22011);function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PC;const n=e.length,r=[];return t&&t.length&&(t.forEach((t=>{const i=t&&t.trim();i&&i.length>=n&&i.substring(0,n).toLowerCase()===e&&r.push(i.toLowerCase())})),r.sort()),r}function o(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=i.PC;var o,s;return e?r=i.SD:n.toLocaleLowerCase()==="windowsShell".toLocaleLowerCase()||n.toLocaleLowerCase()==="windowsShellV2".toLocaleLowerCase()?r=i.RX:n.toLocaleLowerCase()!=="winWidgets".toLocaleLowerCase()||(null===(o=window)||void 0===o||null===(o=o.location)||void 0===o||null===(o=o.search)||void 0===o?void 0:o.includes("reqsrc=vp"))||null!==(s=window)&&void 0!==s&&null!==(s=s.location)&&void 0!==s&&null!==(s=s.search)&&void 0!==s&&s.includes("vptest")||(r=i.dN),r}},35587:function(t,e,n){n.d(e,{q:function(){return A}});var i=n(5813),r=n(52541),o=n(77137),s=n(7733),a=n(13218),c=n(28951),u=n(97265),l=n(88048),d=n(70249),f=n(22680),h=n(21215),p=n(52185);var m=n(62328),g=n(52211),v=n(82854),w=n(44132),y=(n(33779),n(5302),n(77062)),b=n(17813),S=n(26156);const x="gaming",C="following",k="filteredChannels",T="outlookchannels",$=new Map([["msNtpReducedAdsSdCards_stage1","reducedadss1"],["msNtpReducedAdsSdCards_stage2_group1","reducedadss2g1"],["msNtpReducedAdsSdCards_stage2_group2","reducedadss2g2"],["msNtpReducedAdsSdCards_stage3","reducedadss3"]]);var A;!function(t){async function e(t,e,l){var m;const I=new s.h((0,f.zp)()),P=o.jG.UserId,{CurrentRequestTargetScope:_={},WidgetAttributes:M={},CurrentMarket:R}=o.jG;let E=e&&e.flightData;if(M.telemetry&&M.telemetry.tmpl&&M.telemetry.tmpl.includes("pwbingads2")){const t="prg-binghplite";E=E?`${E},${t}`:t}let F=new s.h(t);if(e.nextPageUrl)F=new s.h(new URL(e.nextPageUrl).search),!o.jG.SendFeedCallActivityIdInHeader&&o.jG.ActivityId&&(!n()||!function(){const t=a.Al.CurrentFlightSet.has("prg-prsw");return"edgeMobile"!==o.jG.AppType&&"winWidgets"!==o.jG.AppType&&(!t||"edgeChromium"!==o.jG.AppType)}()&&F.get("activityId")||F.set("activityId",o.jG.ActivityId));else{let t=!1;if("bingHomepage"===o.jG.AppType){const e=window._model;t=!(null!=e&&e.EnforceNotSignedIn||"msa"!==(null==e?void 0:e.UserType)&&"msb"!==(null==e?void 0:e.UserType))}const s=2===await(0,g.XJ)()||t;d.n.publish(d.j.userIsSignedIn,{isSignedIn:s,src:"main"});(s?u.$D.getOneServiceParamsWithAuth(P,e.ocid,!1,E||null):u.$D.getOneServiceParamsWithoutAuth(P||e.muidFallback&&`m-${o.jG.ActivityId}`,e.ocid,!1,E||null,!1,!1,"homePage"===o.jG.AppType||"bingHomepage"===o.jG.AppType)).forEach((t=>t.value&&F.set(t.key,t.value))),F.set("contentType",e.contentType),e.requestType===r.xd.wpoService&&function(t,e,r,o){["bing-widgetfeed-Peregrine","winp2","anaheim-ntp-feeds","rubyntp","rubyprong2"].includes(t.ocid)||((0,u.Mo)(t.ocid)?e.set("apikey",i.SE):e.set("apikey",i.GR));(t.useDelta||t.sessionId)&&(e.set("delta","true"),t.sessionId&&e.set("session",t.sessionId));!e.get("newsTop")&&n()&&t.feedName!==k&&e.set("newsTop",null==(s=t.numberOfCards)||""===s||"string"!=typeof s&&"number"!=typeof s||isNaN(s)?"48":t.numberOfCards);var s;!e.get("newsSkip")&&n()&&t.feedName!==k&&e.set("newsSkip","0");if(!e.get("User")){const t=e.get("userid");t?e.set("User",`m-${t}`):r&&e.set("User",r)}e.delete("user")}(e,F,P);if(e.feedName&&"default"!=e.feedName&&e.feedName===x){const t=I.get("gamingInterestId");if(t)F.set("query",t);else{var D;const t=window.widget__interestIds??e.interestIds;t&&(F.delete("query"),F.set("InterestIds",t));const{pageType:n}=M;"gamingfeed-widget"!==n&&"widget"!==(null===(D=a.Al.ClientSettings)||void 0===D?void 0:D.pagetype)||F.set("wpopageid","wponoads");const i=window.widget__satoriId;"string"==typeof i&&F.set("satoriId",i)}}e.feedName===T&&(F.set("channels","true"),F.set("followersCount","true"),F.set("iff","true")),e.additionalFdhead&&F.set("fdhead",e.additionalFdhead),e.msnup&&F.set("msnup",e.msnup)}(null==e?void 0:e.shouldAddTelemetryParameters)&&function(t){var e;const{appType:n,type:i,name:r}=(null===(e=w.M0.getPageMetadata())||void 0===e||null===(e=e.contract)||void 0===e?void 0:e.page)||{};n&&t.set("apptype",n),i&&t.set("pgtype",i),r&&t.set("pgname",r)}(F);const O=e.feedName===C||e.feedName===k;if(e.feedId){const t=e.useProviderKey||O&&!e.feedId.startsWith("Y_")?"ProviderId":"InterestIds";F.set(t,e.feedId)}1===e.edgeMobile&&F.set("edgeMobile","1"),1===e.edgeMobileAds&&F.set("edgeMobileAds","1"),1===e.oneULayout&&F.set("oneULayout","1"),O&&F.set("iff","true");const N=I.get("OneSvc-Uni-Feat-Tun");N?F.set("OneSvc-Uni-Feat-Tun",N):"url"===p.Gq.get("oneSvcUniTunMode")&&F.set("OneSvc-Uni-Feat-Tun",await u.$D.getUniFeatTunHeader()),!0===e.disableContent&&F.set("disablecontent","true"),e.contentId&&F.set("contentId",e.contentId),e.widgetsOn&&F.set("widgetsOn","true"),e.renderedSegments&&F.set("renderedSegments",e.renderedSegments),e.copilotApiSupported&&F.set("copilotApiSupported","true"),e.edgExpMask&&F.set("edgExpMask",e.edgExpMask),e.adsTimeout&&F.set("adsTimeout",e.adsTimeout.toString()),e.timeoutMs&&F.set("timeOut",e.timeoutMs.toString()),e.clientUtcOffset&&F.set("clientUtcOffset",e.clientUtcOffset),e.clientTimeStamp&&F.set("clientTimeStamp",encodeURIComponent(encodeURIComponent(e.clientTimeStamp))),e.unusedDocIds&&F.set("unusedDocIds",e.unusedDocIds),e.aspectratio&&F.set("aspectratio",e.aspectratio);const U=(0,y.Ee)();U>0&&F.set("cbypass",U.toString()),e.wpoPageId&&("wpoads"===e.wpoPageId.toLowerCase()&&"en-us"!==(null==R?void 0:R.toLowerCase())?F.set("wpopageid","wponoads"):F.set("wpopageid",e.wpoPageId)),(e.wpoSchema||e.wposchema)&&F.set("wposchema",e.wpoSchema??e.wposchema),e.newsTop&&n()&&F.set("newsTop",e.newsTop.toString()),e.newsSkip&&null==e.nextPageUrl&&n()&&F.set("newsSkip",e.newsSkip.toString()),(e.enableRightRailColumn||e.renderSingleColumn||e.renderEnterpriseSingleColumn)&&F.set("wpopageid",e.wpoPageId),e.installedWidgets&&e.installedWidgets.length&&F.set("installedWidgets",e.installedWidgets.join(",")),e.clientLayoutVersion&&F.set("clv",e.clientLayoutVersion),e.layout&&F.set("layout",e.layout),o.jG.SendFeedCallActivityIdInHeader&&F.delete("activityId"),o.jG.SendUserIdInHeader&&F.delete("User"),(0,h.N)()?e.isRetry?F.set("caller","retryForTimeout"):e.refreshType&&F.set("caller",e.refreshType):(F.set("caller","ssr"),window.isCacheRevalidateRequest&&F.set("ssrcache","1")),e.isDhp&&F.set("dhp","1"),e.isXFeed&&F.set("rid",e.requestId),e.private&&F.set("private","1"),e.viewportSize&&F.set("vpSize",e.viewportSize),e.apiKey&&F.set("apikey",e.apiKey),e.audienceMode&&(F.set("audienceMode",(null==_?void 0:_.audienceMode)||e.audienceMode),"kids"===e.audienceMode&&A()&&(F.set("apikey",i.os),F.set("ocid",i.vy),F.set("disablecontent","true"))),e.feedId&&e.feedName===C&&A()&&(F.set("ocid",i.i9),F.set("apikey",i.S1));const L=(0,S.UU)();if(e.feedName===x&&"anaheim-ntp-feeds"===e.ocid&&L&&(F.set("ocid",i.$v),F.set("apikey",i.gr)),e.enableWpoAdPlacements){var B,W;const t="true"===(null===(B=a.Al.ClientSettings)||void 0===B||null===(B=B.browser)||void 0===B?void 0:B.ismobile)||"phone"===(null===(W=a.Al.ClientSettings)||void 0===W?void 0:W.deviceFormFactor)?"true":"false";F.set("mobile",t);const e=(0,v.rv)()||(0,v.hI)();F.set("cookieWallPresent",e.toString())}const H=I.get("wpoitems");H&&F.set("wpoitems",H.toString());const z=I.get("bypass_trigger");z&&!e.feedId&&F.set("bypass_trigger",z.toString());for(const t in I.getAllSearchParams())if(t.toLowerCase().includes("adppc")){const e=I.get(t);e&&(F.set("adppc",e),w.M0.addOrUpdateTmplProperty("adppc","1"));break}(0,b.TR)()&&F.set("prerender","1"),e.adRefreshVariant&&F.set("adRefreshVariant",e.adRefreshVariant),e.anaheimPageLayout&&F.set("anaheimPageLayout",e.anaheimPageLayout),e.feedYOffset&&F.set("feedYOffset",`${e.feedYOffset}`),e.gdpr&&F.set("gdpr","1"),e.verticalName&&F.set("verticalName",e.verticalName),e.freScenario&&F.set("freScenario",e.freScenario),e.freMode&&F.set("freMode",e.freMode),e.aver&&F.set("aver",e.aver),e.theme&&F.set("theme",e.theme),e.over&&F.set("over",e.over),e.oem&&F.set("oem",e.oem),e.devicetype&&F.set("devicetype",e.devicetype),e.smode&&F.set("smode",e.smode),e.usri&&F.set("usri",e.usri),e.duotone&&F.set("duotone",e.duotone.toString()),e.cardIds&&F.set("cardIds",e.cardIds),e.column&&F.set("column",e.column),void 0!==e.renderedAdCount&&F.set("renderedAdCount",e.renderedAdCount.toString()),e.feedColumn&&F.set("feedColumn",e.feedColumn),void 0!==e.cardsHeight&&F.set("cardsHeight",e.cardsHeight.toString()),e.lastRowAdColumns&&F.set("lastRowAdColumns",e.lastRowAdColumns),e.fcl&&F.set("fcl","true"),e.idfc&&F.set("idfc","true"),e.layout&&F.set("layout",e.layout),e.colstatus&&F.set("colstatus",e.colstatus),e.colwidth&&F.set("colwidth",e.colwidth.toString()),e.adoffsets&&F.set("adoffsets",e.adoffsets),e.l3v&&F.set("l3v",e.l3v.toString()),e.wpoux&&F.set("wpoux",e.wpoux.toString()),e.interestCount&&F.set("interestCount",`${e.interestCount}`),e.providerId&&F.set("ProviderId",e.providerId),e.gemId&&F.set("gemId",e.gemId),e.topicId&&F.set("TopicId",e.topicId),"viewslayout"===e.pageScenario&&e.start&&F.set("$skip",`${e.start}`),"freinterests"===e.pageScenario&&(e.start&&F.set(e.freV2Params?"interestSkip":"$skip",`${e.start}`),e.count&&F.set(e.freV2Params?"interestCount":"$top",`${e.count}`),e.InterestIds&&F.set("InterestIds",`${e.InterestIds}`)),"providerfullpage"===e.pageScenario&&(e.communityProfileId&&F.set("communityProfileId",`${e.communityProfileId}`),e.query&&F.set("query","newest")),"channelfeed"===e.pageScenario&&e.interestIds&&F.set("InterestIds",`${e.interestIds}`),"me"===e.pageScenario&&e.interestIds&&F.set("ids",`${e.interestIds}`),e.webUrl&&F.set("WebUrl",e.webUrl),"number"==typeof e.pageConfiguration&&F.set("pgc",e.pageConfiguration.toString());const V=function(){var t;if(null!==(t=window)&&void 0!==t&&t.deviceMemory)return window.deviceMemory;return window&&window.navigator&&window.navigator.deviceMemory}();V&&n()&&F.set("memory",V.toString()),e.forceDisableAds&&F.set("edgenoads","1");(a.Al.CurrentFlightSet.has("prg-forcenoads")||await(0,S.VS)())&&(F.set("edgenoads","1"),w.M0.addOrUpdateTmplProperty("edgenoads","1"));if((a.Al.CurrentFlightSet.has("prg-forceredads")||await(0,S.OM)())&&F.set("edgereduceads","1"),null!==(m=a.Al.CurrentFlightSet)&&void 0!==m&&m.has("tbingwebp")){(function(){const t=(0,f.ij)();if(!t)return!1;const e=t.toLowerCase(),n=e.match(/edg\/(\d+)/);if(n)return parseInt(n[1],10)>=79;const i=e.match(/edge\/(\d+)/);if(i)return parseInt(i[1],10)>=18;if(e.includes("opera")||e.includes("opr/")){const t=e.match(/(?:opera|opr)[\s/](\d+)/);return!t||parseInt(t[1],10)>=15}const r=e.match(/samsungbrowser\/(\d+)/);if(r)return parseInt(r[1],10)>=4;const o=e.match(/chrome\/(\d+)/);if(o)return parseInt(o[1],10)>=32;if(e.includes("android")){const t=e.match(/android (\d+)(?:\.(\d+))?/);if(t){const e=parseInt(t[1],10),n=parseInt(t[2]||"0",10);return e>4||4===e&&n>=2}}const s=e.match(/firefox\/(\d+)/);if(s)return parseInt(s[1],10)>=65;if(e.includes("iphone")||e.includes("ipad")){const t=e.match(/os (\d+)_(\d+)/);if(t)return parseInt(t[1],10)>=14}const a=e.match(/version\/(\d+).*safari/);if(a&&e.includes("safari")&&!e.includes("chrome")){const t=parseInt(a[1],10),n=e.match(/mac os x (\d+)[._](\d+)/);if(n){const e=parseInt(n[1],10);return t>=16||t>=14&&e>=11}return t>=16}return!1})()||(F.set("isWebPDisabled","1"),w.M0.addOrUpdateTmplProperty("isWebPDisabled","1"))}if(!a.Al.CurrentFlightSet.has("prg-noreduce")){const t=await(0,S.P)();if(t&&$.has(t)){const e=$.get(t);F.set(e,"1"),w.M0.addOrUpdateTmplProperty(e,"1");const n=`prg-${e}`;a.Al.CurrentFlights=a.Al.CurrentFlights?`${a.Al.CurrentFlights},${n}`:n}a.Al.CurrentFlightSet.has("prg-reducedads")&&F.set("reducedadss1","1")}e.anaheimLayoutPromotion&&(F.set("promotion",e.anaheimLayoutPromotion),w.M0.addOrUpdateTmplProperty("qpromotion",e.anaheimLayoutPromotion)),e.anaheimContentSelection&&(F.set("selection",e.anaheimContentSelection),w.M0.addOrUpdateTmplProperty("qselection",e.anaheimContentSelection)),void 0!==e.backgroundImageIsSet&&F.set("backgroundImageIsSet",e.backgroundImageIsSet.toString()),void 0!==e.inEdgeFeatures&&(F.set("inEdgeFeatures",e.inEdgeFeatures.toString()),w.M0.addOrUpdateTmplProperty("inEdgeFeatures",e.inEdgeFeatures?"1":"0")),void 0!==e.isAdb&&F.set("isAdb",e.isAdb.toString()),e.revertTimes&&(F.set("revertTimes",e.revertTimes),w.M0.addOrUpdateTmplProperty("revertTimes",e.revertTimes)),void 0!==e.adminDisabled&&(F.set("adminDisabled",e.adminDisabled.toString()),w.M0.addOrUpdateTmplProperty("adminDisabled",e.adminDisabled?"1":"0")),e.newProfFreTime&&(F.set("newProfFreTime",e.newProfFreTime.toString()),w.M0.addOrUpdateTmplProperty("newProfFreTime",e.newProfFreTime.toString())),e.newDevFreTime&&(F.set("newDevFreTime",e.newDevFreTime.toString()),w.M0.addOrUpdateTmplProperty("newDevFreTime",e.newDevFreTime.toString())),e.pageOcid&&F.set("pageOcid",e.pageOcid),e.segment&&F.set("segment",e.segment),e.context&&F.set("Context",e.context),e.scenario&&F.set("scenario",e.scenario),e.assetId&&F.set("assetId",e.assetId),e.calendarStartDate&&F.set("calendarStartDate",e.calendarStartDate),e.calendarEndDate&&F.set("calendarEndDate",e.calendarEndDate),e.calendarDate&&F.set("calendarDate",e.calendarDate),(e.overlay||0===e.overlay)&&F.set("overlay",e.overlay.toString()),e.enableRuby&&F.set("enableRuby",e.enableRuby.toString()),e.uxMode&&F.set("uxmode",e.uxMode.toString());const j=a.Al.ClientSettings&&a.Al.ClientSettings.queryparams?a.Al.ClientSettings.queryparams:"",q=new s.h(j).get("canid");q&&F.set("triggerModules","promoxfeedupsell".concat(":",q)),await async function(t,e){const{doNotTriggerFREInSession:n,feedName:i,enableFREOverlayMyFeed:r,sendFRESeenCount:s}=t;i===C&&w.M0.addOrUpdateTmplProperty("following-feed","1");if("edgeChromium"!==o.jG.AppType||"default"!==i||!r||!s)return;const a=await(0,S.hp)(n);p.Gq.set("overlayQspSent",a),w.M0.addOrUpdateTmplProperty("ovrly-qsp",a),a&&(e.set("overlay",a),parseInt(a)<3&&w.M0.addOrUpdateTmplProperty("fre-seen-ct","1"))}(e,F);const G=c.cX.getParamsWithItems(location.search);if(G){const t=G.find((t=>t.key===r.Ow));t&&t.value&&F.set("installedWidgets",t.value)}const J=new URLSearchParams((0,f.zp)()).get("feedParams");if(J){J.split(",").forEach((t=>{if(t.includes("=")){const[e,n]=t.split("=");F.set(e.trim(),n.trim())}}))}return e.dprValue&&F.set("dprValue",e.dprValue.toString()),F.toString()}function n(){return"channelmobile"!==o.jG.AppType}function A(){return n()}t.requestInit=async function(t){t=t||{};const e={method:"GET"},n=await u.$D.getOneServiceFeedCallHeaders((0,m.VQ)(),t.feedName,t.useXboxAccessToken);e.headers={...n,...t.additionalHeaders},t.credentialsOverride?e.credentials=t.credentialsOverride:e.credentials="include",t.enableWpoAdPlacements&&(e.headers["ads-referer"]=location.href,e.headers["taboola-sessionId"]=t.taboolaSessionId||"init");const i=o.jG.UserId;return o.jG.SendUserIdInHeader&&i&&(e.headers.MUID=i),e},t.buildRequestURLForOneService=async function(t){let n,r;if((t=t||{}).feedName===C)r=t.feedId?i.eK:i.ly;else r=t.pageScenario;const o=`${i.lP}${r}`;return n=new s.h((0,f.zp)()).get(i.YU)?new URL(o,i.LJ):(0,l.fU)(o),n.search=await e(n.search,t,n.href),n.searchParams.sort(),n},t.buildServiceRequestURL=async function(t){let n;t=t||{};const{CurrentRequestTargetScope:r={},ConfigServiceBaseUrl:c}=o.jG,u=new s.h((0,f.zp)());let d=t.pageScenario??(t.shouldUseNewWpoEndpoint?i.UY:i.$s);"ntp"===t.pageScenario&&(d=i.UY);let p=t.requestPathOverride?`${t.requestPathOverride}${d}`:`${i.Mo}${d}`;p=function(t){return t&&t===`${i.Mo}${i.UY}`&&a.Al&&a.Al.CurrentFlightSet&&a.Al.CurrentFlightSet.has(i.CO)&&"edgeChromium"===o.jG.AppType?`${i.hk}${i.UY}`:t}(p);const m=t.feedName&&"default"!=t.feedName;if(t.feedId||m)switch(t.feedName){case k:case"dynamicfilteredchannels":p=`${i.Mo}${i.Td}`;break;case C:var g,v,y;if(t.feedId)p=`${i.Mo}${i.eK}`,w.M0.addOrUpdateTmplProperty("filtered-feed","1"),(null!==(g=t.nextPageUrl)&&void 0!==g&&g.includes(i.ly)||null===(v=t.nextPageUrl)||void 0===v||!v.includes(t.feedId))&&(t.nextPageUrl="");else p=`${i.Mo}${i.ly}`,null!==(y=t.nextPageUrl)&&void 0!==y&&y.includes(i.eK)&&(t.nextPageUrl="");break;case x:p=`${i.Mo}${i.I1}`;break;case"sports":p=`${i.Mo}${i.Qn}`;break;case T:p=`${i.Mo}${T}`;break;default:p="work"===t.feedSource?`${i.Mo}${i.UW}`:`${i.Mo}${i.J8}`}t.isXFeed&&t.xFeedPageScenario&&(p=`${i.Mo}${t.xFeedPageScenario}`);const b=(0,h.N)();if(b&&["enabled","true"].includes(u.get(i.YU)))"kids"===t.audienceMode||"kids"===(null==r?void 0:r.audienceMode)||t.feedId?n=new URL(i.SO,i.LJ):(p=`${i.lP}${d}`,n=new URL(p,i.LJ));else if(b&&"enabled"===u.get(i.P$))n=new URL(p,c.origin);else if(function(t){return!t&&"edgeChromium"===o.jG.AppType&&o.jG.OneServiceOverride&&a.Al&&a.Al.CurrentFlightSet&&a.Al.CurrentFlightSet.has(i.IA)}(b))p=`${i.L3}${i.UY}`,n=new URL(p,o.jG.OneServiceOverride);else{const e=t.domainOverride?t.domainOverride:(0,l.qQ)().origin;n=new URL(p,e)}return n.search=await e(n.search,t,n.href),n.searchParams.sort(),n}}(A||(A={}))},70249:function(t,e,n){n.d(e,{j:function(){return a},n:function(){return s}});var i=n(45970),r=n(81489),o=n(52185);const s=(0,r.h)({getInstance:()=>o.Gq.get("__feed-card-provider__serviceRequestAuthSubscription__",(()=>new i.X))}),a={userIsSignedIn:"userIsSignedIn"}},52541:function(t,e,n){var i,r,o,s;n.d(e,{Ow:function(){return a},xd:function(){return o}}),function(t){t.activityId="x-client-activityid",t.authorization="Authorization",t.entAuthorization="Ent-Authorization",t.muid="MUID",t.adsReferer="ads-referer",t.taboolaSessionId="taboola-sessionId"}(i||(i={})),function(t){t.actionType="actionType",t.activityId="activityId",t.adsTimeout="adsTimeout",t.apiKey="apikey",t.appType="apptype",t.audienceMode="audienceMode",t.aver="aver",t.bypassTrigger="bypass_trigger",t.cacheBypassQueryStringParamName="cbypass",t.cardsHeight="cardsHeight",t.channel="channel",t.channels="channels",t.cm="cm",t.complexInfoPaneEnabled="cipenabled",t.contentId="contentId",t.contentType="contentType",t.copilotApiSupported="copilotApiSupported",t.delta="delta",t.devicetype="devicetype",t.disableContent="disablecontent",t.dhp="dhp",t.disableTypeSerialization="DisableTypeSerialization",t.dprValue="dprValue",t.duotone="duotone",t.edgExpMask="edgExpMask",t.edgeSignalAdppc="adppc",t.widgetsOn="widgetsOn",t.gamingInterestId="gamingInterestId",t.infopaneCount="infopaneCount",t.fcl="fcl",t.fdhead="fdhead",t.feedColumn="feedColumn",t.feedParams="feedParams",t.feedLayoutRequestType="t",t.filter="$filter",t.followersCount="followersCount",t.feedYOffset="feedYOffset",t.idfc="idfc",t.ids="ids",t.infoPaneItemCount="t =InfoPane.itemCount",t.isAdb="isAdb",t.lastRowAdColumns="lastRowAdColumns",t.location="location",t.market="market",t.memory="memory",t.msnup="msnup",t.newsTop="newsTop",t.newsSkip="newsSkip",t.ocid="ocid",t.oem="oem",t.oneSvcUni="OneSvc-Uni-Feat-Tun",t.over="over",t.overlay="overlay",t.pageName="pgname",t.pageType="pgtype",t.parentContentId="parent-content-id",t.parentNamespace="parent-ns",t.parentTitle="parent-title",t.queryQ="q",t.query="query",t.queryType="queryType",t.qScope="qscope",t.renderedAdCount="renderedAdCount",t.responseSchema="responseSchema",t.satoriId="satoriId",t.select="$select",t.session="session",t.signInCookieName="scn",t.skip="$skip",t.smode="smode",t.source="source",t.targetType="targetType",t.theme="theme",t.timeOut="timeOut",t.top="$top",t.type="type",t.User="User",t.user="user",t.userid="userid",t.usri="usri",t.wpoitems="wpoitems",t.wpoPageId="wpopageid",t.wpoSchema="wposchema",t.wrapOData="wrapodata",t.caller="caller",t.installedWidgets="installedWidgets",t.clientLayoutVersion="clv",t.pageConfiguration="pgc",t.requestId="rid",t.interestIds="InterestIds",t.providerId="ProviderId",t.topicId="TopicId",t.includeFollowingFilters="iff",t.freScenario="freScenario",t.freMode="freMode",t.mobile="mobile",t.clientLocation="clientLocation",t.clientLocationProvider="clientLocationProvider",t.clientLocationAccuracy="clientLocationAccuracy",t.clientLocationTimeStamp="clientLocationTimeStamp",t.clientUtcOffset="clientUtcOffset",t.clientTimeStamp="clientTimeStamp",t.collectionIds="collectionIds",t.endTime="EndTime",t.eventType="EventType",t.exchangeCode="ExchangeCode",t.listIds="listIds",t.requireQuoteDetail="requireQuoteDetail",t.skipNum="skip",t.startTime="StartTime",t.topNum="top",t.prerender="prerender",t.layout="layout",t.triggerModules="triggerModules",t.promoXFeed="promoxfeedupsell",t.canid="canid",t.edgeNoAds="edgenoads",t.edgeReduceAds="edgereduceads",t.edgeMobile="edgeMobile",t.edgeMobileAds="edgeMobileAds",t.oneULayout="oneULayout",t.private="private",t.viewportSize="vpSize",t.promotion="promotion",t.selection="selection",t.cardIds="cardIds",t.renderedSegments="renderedSegments",t.column="column",t.colstatus="colstatus",t.colwidth="colwidth",t.adoffsets="adoffsets",t.l3v="l3v",t.wpoux="wpoux",t.cookieWallPresent="cookieWallPresent",t.anaheimPageLayout="anaheimPageLayout",t.adRefreshVariant="adRefreshVariant",t.gdpr="gdpr",t.verticalName="verticalName",t.pageOcid="pageOcid",t.scenario="scenario",t.calendarStartDate="calendarStartDate",t.calendarEndDate="calendarEndDate",t.calendarDate="calendarDate",t.segment="segment",t.context="Context",t.backgroundImageIsSet="backgroundImageIsSet",t.inEdgeFeatures="inEdgeFeatures",t.revertTimes="revertTimes",t.adminDisabled="adminDisabled",t.interestCount="interestCount",t.interestSkip="interestSkip",t.communityProfileId="communityProfileId",t.newProfFreTime="newProfFreTime",t.newDevFreTime="newDevFreTime",t.webUrl="WebUrl",t.enableRuby="enableRuby",t.assetId="assetId",t.uxMode="uxmode",t.isWebPDisabled="isWebPDisabled",t.unusedDocIds="unusedDocIds",t.gemId="gemId",t.aspectratio="aspectratio",t.ssrcache="ssrcache"}(r||(r={})),function(t){t[t.oneService=0]="oneService",t[t.wpoService=1]="wpoService"}(o||(o={})),function(t){t.Bgtask="bgtask",t.Api="api",t.App="app",t.RetryFetch="retryFetch",t.Scroll="scroll",t.Init="init",t.BgRefresh="bgRefresh"}(s||(s={}));const a="installedWidgetsOverride"},96204:function(t,e,n){n.d(e,{$Y:function(){return i},Fi:function(){return r},Q8:function(){return a},jz:function(){return c},pj:function(){return s}});var i,r,o=n(77137);function s(t){return t?[{isDarkMode:!0,hexColor:r.imgDark},{isDarkMode:!1,hexColor:r.imgLight}]:[{isDarkMode:!0,hexColor:r.noImgDark},{isDarkMode:!1,hexColor:r.noImgLight}]}function a(t){return t.enableAnimatedShowMoreBtn?"animated":t.enableFilledIconOnHover?"fillediconhover":t.noBackPlateOnRest?"nobackplate":"default"}function c(t){return`https://www.msn.com/${o.jG.CurrentMarket}/community/channel/${t}`}!function(t){t.default="default",t.condensed="condensed",t.infoPane="infoPane",t.infoPane1x3y="infoPane1x3y",t.infoPaneSplitVertical="infoPaneSplitVertical",t.infoPaneSplitHorizontal="infoPaneSplitHorizontal"}(i||(i={})),function(t){t.imgLight="#F5F5F5",t.imgDark="#2E2E2E",t.noImgLight="#DEDEDE",t.noImgDark="#222"}(r||(r={}))},17814:function(t,e,n){n.d(e,{B:function(){return i}});const i={_60x60:{width:60,height:60},_82x82:{width:82,height:82},_100x100:{width:100,height:100},_104x84:{width:104,height:84},_141x250:{width:141,height:250},_180x88:{width:180,height:88},_203x114:{width:203,height:114},_216x114:{width:216,height:114},_220x124:{width:220,height:124},_220x178:{width:220,height:178},_238x120:{width:238,height:120},_240x129:{width:240,height:129},_240x253:{width:240,height:253},_242x144:{width:242,height:144},_242x176:{width:242,height:176},_300x156:{width:300,height:156},_300x169:{width:300,height:169},_300x174:{width:300,height:174},_300x179:{width:300,height:179},_300x180:{width:300,height:180},_300x200:{width:300,height:200},_300x225:{width:300,height:225},_300x282:{width:300,height:282},_300x304:{width:300,height:304},_300x326:{width:300,height:326},_300x462:{width:300,height:462},_306x174:{width:306,height:174},_306x197:{width:306,height:197},_385x225:{width:385,height:225},_362x272:{width:362,height:272},_406x304:{width:406,height:304},_486x304:{width:486,height:304},_468x304:{width:468,height:304},_604x296:{width:604,height:296},_612x304:{width:612,height:304},_612x326:{width:612,height:326},_612x328:{width:612,height:328},_612x462:{width:612,height:462},_628x372:{width:628,height:372}}},39079:function(t,e,n){n.d(e,{C7:function(){return s},Ey:function(){return c},Nv:function(){return i},OO:function(){return a},U5:function(){return u},X9:function(){return l},sn:function(){return o}});var i,r=n(9791);!function(t){t.pill="pill",t._1x_halfy="_1x_halfy",t._2x_halfy="_2x_halfy",t._1x_1y="_1x_1y",t._1x_2y="_1x_2y",t._1x_3y="_1x_3y",t._1x_4y="_1x_4y",t._1x_5y="_1x_5y",t._2x_1y="_2x_1y",t._2x_2y="_2x_2y",t._2x_3y="_2x_3y",t._2x_4y="_2x_4y",t._2x_6y="_2x_6y",t._3x_1y="_3x_1y",t._3x_2y="_3x_2y",t._3x_3y="_3x_3y",t._4x_1y="_4x_1y",t._4x_2y="_4x_2y",t._5x_1y="_5x_1y",t._5x_2y="_5x_2y",t._25u="0.25u",t._05u="0.5u",t._075u="0.75u",t._1u="1u",t._125u="1.25u",t._15u="1.5u",t._175u="1.75u",t._2c="_2x_2y",t._2u="_1x_4y",t._3u="_1x_6y"}(i||(i={}));const o=146,s=300,a=12,c=306,u=16,l=(0,r.Z)((t=>Array(t).fill(o)))},24640:function(t,e,n){var i;n.d(e,{U:function(){return i}}),function(t){t.TopicFeedCard="topic-feed-card",t.articleFreCard="article-fre-card",t.autosCarouselCard="autos-carousel-card",t.bingDailyQuizCard="bing-daily-quiz-card",t.bingVideoCarousel="bing-video-carousel",t.boostAdCard="boost-ad-card",t.cashbackCarouselCard="cashback-carousel-card",t.casualGamesCard="casual-games-card",t.casualGamesCarouselCard="casual-games-carousel-card",t.casualGamesProng2CarouselCard="casual-games-prong2-carousel-card",t.casualGamesStripeCarouselCard="casual-games-stripe-carousel-card",t.channelFilterCard="channel-filter-card",t.coldStartCard="cold-start-card",t.comicsCarouselCard="comics-carousel-card",t.communityCard="community-card",t.commuteCard="commute-card",t.contentCard="content-card",t.contentCardPreview1x="content-card-preview-1x",t.contentGroup="content-group",t.contentGroupCard="content-group-card",t.creatorSpotlightCard="creator-spotlight-card",t.dailyBriefCard="daily-brief-card",t.dailyFixGamesCarouselCard="daily-fix-games-carousel-card",t.dailyGreetingCard="daily-greeting-card",t.dailyGreetingWindowsShell="daily-greeting-windows-shell",t.dailyMomentsCard="daily-moments-card",t.dailyWonderCard="daily-wonder-card",t.dailyWonderCopilotCard="daily-wonder-copilot-card",t.dailyWonderHeroVideo="daily-wonder-hero-video",t.dailyWonderQuoteCard="daily-wonder-quote-card",t.dailyWonderVideoListCard="daily-wonder-video-list-card",t.denseCard="dense-card",t.digestCard="digest-card",t.displayAdCard="display-ad-card",t.donationNpoCard="donation-npo-card",t.edgeShoppingCard="edge-shopping-card",t.editorsPickCarouselCard="editors-pick-carousel-card",t.electionCard="election-card",t.electionsCard="elections-card",t.entertainmentPremierCard="entertainment-premier-card",t.esportsCard="esports-card",t.flexArticleCard="flex-article-card",t.followingFREInlineCard="following-fre-inline-card",t.gamingRecentlyPlayedCard="gaming-recentlyplayed-card",t.gemGreetingCard="gem-greeting-card",t.healthArticlesCard="health-articles-card",t.healthCard="health-card",t.healthFitnessCard="health-fitness-card",t.healthRiverCard="health-river-card",t.healthTipCard="health-tip-card",t.hideStoryCard="hide-story-card",t.horoscopeAnswerCard="horoscope-card",t.hotListCard="hot-list-card",t.infopaneCard="infopane-card",t.infopaneSlideCard="infopane-slide-card",t.interestManagementCard="interest-management-card",t.linkedInCard="linked-in-card",t.localNewsCarCard="local-news-carousel-card",t.mangaCard="manga-card",t.mangaCarousel="manga-carousel",t.marketplaceCard="marketplace-card",t.mobileTrendingSearchCard="mobile-trending-search-card",t.momentInTimeHero="moment-in-time-hero",t.moneyAddWatchlistCard="money-add-watchlist-card",t.moneyCard="money-card",t.moneyEdgeCard="money-edge-card",t.moneyInfoCardWC="money-info-card",t.moneyTopicStripeCarouselCard="money-topic-stripe-carousel-card",t.nativeAdCard="native-ad-card",t.nativeTopAdCard="native-top-ad-card",t.onThisDayCard="on-this-day-card",t.panoCard="pano-card",t.perspectiveCard="perspective-card",t.placeholderCard="placeholder-card",t.pollsCard="polls-card",t.prismCard="prism-card",t.prismCarouselCard="prism-carousel-card",t.profileCarouselCard="profile-carousel-card",t.promotedAdCard="promoted-ad-card",t.publisherListCard="publisher-list-card",t.qnaCard="qna-card",t.quizCard="quiz-card",t.realEstateCard="real-estate-card",t.recipesCard="recipes-card",t.recommendedInterestsCard="recommended-interests-card",t.relatedNewsCard="related-news-card",t.responsiveAdCard="responsive-ad-card",t.responsiveCard="responsive-card",t.responsiveInfopaneCard="responsive-infopane",t.rewardsCard="rewards-card",t.richCalendarCard="rich-calendar-card",t.richCalendarWindowsShell="rich-calendar-windows-shell",t.sectionHeaderCard="section-header-card",t.selectCarouselCard="select-carousel-card",t.serendipityCard="serendipity-card",t.sharedHeroNewsCard="shared-hero-news-card",t.shoppingBannerSdCard="shopping-banner-sd-card",t.shoppingBuyingGuidePremiumCard="shopping-buying-guide-premium-card",t.shoppingCard="shopping-card",t.shoppingCarouselCard="shopping-carousel-card",t.shoppingCarouselProngWC="shopping-carousel-prong-wc",t.shoppingEventsDealCard="shopping-events-deal-card",t.shoppingFashionCarouselWC="shopping-fashion-carousel-wc",t.shoppingRiverCard="shopping-river-card",t.shoppingSdCard="shopping-sd-card",t.shoppingVideoCarouselCard="shopping-video-carousel-card",t.shoppingTopSectionCard="shopping-gem-hero-card",t.shortsGrouping="shorts-grouping",t.sportsCard="sports-card",t.sportsOlympicCard="sports-olympic-card",t.sportsTopicStripeCarouselCard="sports-topic-stripe-carousel-card",t.spotlightCard="spotlight-card",t.superappUpsellCard="superapp-upsell-card",t.tabbedInfopaneCard="tabbed-infopane-card",t.topCommentsCard="top-comments-card",t.topPicksCard="top-picks-card",t.topSitesCard="top-sites-card",t.topStoriesCard="top-stories-card",t.trafficCard="traffic-card",t.trafficHero="traffic-hero",t.travelDestinationCard="travel-destination-card",t.travelDestinationCarouselCard="travel-destination-carousel-card",t.trendingNowCard="trending-now-card",t.trendingSearchCard="trending-search-card",t.videoCard="video-card",t.videoGrouping="video-grouping",t.weatherCard="weather-card",t.weatherHeroExperience="weather-hero-experience",t.weatherHeroExperienceCarouselCard="weather-hero-experience-carousel-card",t.webContentCard="web-content-card",t.widgetPlaceholderCard="widget-placeholder-card",t.widgetsNotificationsCard="widgets-notifications-card",t.winAppCard="win-app-card"}(i||(i={}))},29218:function(t,e,n){n.d(e,{J:function(){return ue},Q:function(){return le}});var i=n(24640),r=n(34800),o=n(32236);const{TopicFeedCard:s,articleFreCard:a,autosCarouselCard:c,bingDailyQuizCard:u,bingVideoCarousel:l,boostAdCard:d,cashbackCarouselCard:f,casualGamesCard:h,casualGamesCarouselCard:p,casualGamesProng2CarouselCard:m,casualGamesStripeCarouselCard:g,channelFilterCard:v,comicsCarouselCard:w,communityCard:y,commuteCard:b,contentCard:S,contentGroupCard:x,creatorSpotlightCard:C,dailyBriefCard:k,dailyFixGamesCarouselCard:T,dailyGreetingCard:$,dailyMomentsCard:A,dailyWonderCard:I,dailyWonderCopilotCard:P,dailyWonderHeroVideo:_,dailyWonderQuoteCard:M,dailyWonderVideoListCard:R,denseCard:E,digestCard:F,displayAdCard:D,donationNpoCard:O,editorsPickCarouselCard:N,electionCard:U,electionsCard:L,entertainmentPremierCard:B,esportsCard:W,followingFREInlineCard:H,gamingRecentlyPlayedCard:z,gemGreetingCard:V,healthCard:j,healthFitnessCard:q,healthRiverCard:G,healthTipCard:J,horoscopeAnswerCard:K,infopaneCard:Q,interestManagementCard:X,localNewsCarCard:Y,mangaCard:Z,mangaCarousel:tt,marketplaceCard:et,mobileTrendingSearchCard:nt,momentInTimeHero:it,moneyCard:rt,moneyInfoCardWC:ot,moneyTopicStripeCarouselCard:st,nativeAdCard:at,nativeTopAdCard:ct,onThisDayCard:ut,placeholderCard:lt,pollsCard:dt,prismCard:ft,prismCarouselCard:ht,profileCarouselCard:pt,promotedAdCard:mt,publisherListCard:gt,qnaCard:vt,quizCard:wt,realEstateCard:yt,recipesCard:bt,recommendedInterestsCard:St,relatedNewsCard:xt,rewardsCard:Ct,richCalendarCard:kt,sectionHeaderCard:Tt,selectCarouselCard:$t,serendipityCard:At,sharedHeroNewsCard:It,shoppingBannerSdCard:Pt,shoppingBuyingGuidePremiumCard:_t,shoppingCard:Mt,shoppingCarouselCard:Rt,shoppingCarouselProngWC:Et,shoppingEventsDealCard:Ft,shoppingFashionCarouselWC:Dt,shoppingRiverCard:Ot,shoppingSdCard:Nt,shoppingTopSectionCard:Ut,shoppingVideoCarouselCard:Lt,shortsGrouping:Bt,sportsCard:Wt,sportsOlympicCard:Ht,sportsTopicStripeCarouselCard:zt,spotlightCard:Vt,tabbedInfopaneCard:jt,topCommentsCard:qt,topPicksCard:Gt,topStoriesCard:Jt,trafficCard:Kt,trafficHero:Qt,travelDestinationCard:Xt,travelDestinationCarouselCard:Yt,trendingNowCard:Zt,trendingSearchCard:te,videoGrouping:ee,weatherCard:ne,weatherHeroExperience:ie,weatherHeroExperienceCarouselCard:re,webContentCard:oe,widgetPlaceholderCard:se,widgetsNotificationsCard:ae,winAppCard:ce}=i.U,ue={[r.PL.DailyMomentsCard]:A,[r.PL.DailyMomentsCard1]:it,[r.PL.DailyMomentsCard2]:it,[r.PL.DailyMomentsCard3]:it,[r.PL.DailyWonderCard]:I,[r.PL.NewsDailyWonderCard]:I,[r.PL.DailyWonderCopilotCard]:P,[r.PL.DailyWonderHeroVideo]:_,[r.PL.DailyWonderQuoteCard]:M,[r.PL.DailyWonderVideoListCard]:R,[r.PL.ShoppingBannerSdCard]:Pt,[r.PL.DailyBriefCard]:k,[r.PL.DailyGreetingCard]:$,[r.PL.WidgetsNotificationsCard]:ae,[r.PL.NotificationCard]:ae,[r.PL.DonationNpoCard]:O,[r.PL.EntertainmentPremierCard]:B,[r.PL.EventSDCardOscarsPrm]:B,[r.PL.BingDailyQuizCard]:u,[r.PL.EventSDCardElectionMIT1]:U,[r.PL.EventSDCardElectionMIT2]:U,[r.PL.EventSDCardElectionMIT3]:U,[r.PL.RichCalendarCard]:kt,[r.PL.CommunityCard]:y,[r.PL.TabbedInfopaneCard]:jt,[r.PL.MangaCard]:Z,[r.PL.MangaCarousel]:tt,[r.PL.RealEstateCard]:yt,[r.PL.RealEstateCarousel]:yt,[r.PL.PrismCarouselCard]:ht,[r.PL.TrendingSearchCard]:te,[r.PL.CommuteCard]:b,[r.PL.DigestCard]:F,[r.PL.RelatedNewsCard]:xt,[r.PL.CopilotCard]:Vt,[r.PL.CreatorSpotlight]:C,[r.PL.NewsCreatorSpotlight]:C,[r.PL.Article]:S,[r.PL.Slideshow]:S,[r.PL.Video]:S,[r.PL.Infopane]:Q,[r.PL.GroupedContent]:x,[r.PL.UserInterestTopic]:x,[r.PL.UserInterestNTPProvider]:x,[r.PL.LittleKnownFactsCard]:x,[r.PL.NewsLittleKnownFactsCard]:x,[r.PL.UserInterestTopicAndProvider]:H,[r.PL.ColdStartArticleFreCard]:a,[r.PL.HalfPane]:null,[r.PL.HeadToHead]:null,[r.PL.Mosaic]:null,[r.PL.Triptych]:null,[r.PL.DenseList]:null,[r.PL.WebContent]:oe,[r.PL.ExternalLink]:null,[r.PL.TabbedInfopane]:null,[r.PL.TabbedInfopaneTab]:null,[r.PL.PlaceholderCard]:lt,[r.PL.BingHealthCovid19StatsCard]:j,[r.PL.BingHealthFitnessCard]:q,[r.PL.HealthTipCard]:J,[r.PL.HealthRiverCard]:G,[r.PL.AutosCarousel]:c,[r.PL.BingVideoCarousel]:l,[r.PL.CashbackAds]:f,[r.PL.CasualGamesCarousel]:p,[r.PL.CasualGamesProng2Carousel]:m,[r.PL.CasualGamesStripeCarousel]:g,[r.PL.ChannelFilterCard]:v,[r.PL.DynamicFilteredChannel]:v,[r.PL.WatchVideoCard]:W,[r.PL.EsportsCasualGames]:h,[r.PL.EsportsCasualGamesMiniWidget]:h,[r.PL.GamingRecentlyPlayed]:z,[r.PL.StockQuote]:rt,[r.PL.MoneyInfo]:ot,[r.PL.FinanceSpotlightHeroPrice]:ot,[r.PL.FinanceSpotlightHeroMarket]:ot,[r.PL.FinanceSpotlightHeroRadarGraph]:ot,[r.PL.FinanceHeroMarket]:ot,[r.PL.FinanceHeroMarketChart]:ot,[r.PL.FinanceHeroNews]:It,[r.PL.FinanceHeroMovers]:ot,[r.PL.FinanceHerowlsummary]:ot,[r.PL.FinanceHeroSuggested]:ot,[r.PL.FinanceHeroWatchlistIdeas]:ot,[r.PL.FinanceHeroUpcomingEarnings]:ot,[r.PL.FinanceHeroCurrencies]:ot,[r.PL.FinanceHeroCrypto]:ot,[r.PL.MoneyTopicStripe]:st,[r.PL.WeatherHero]:re,[r.PL.WeatherCurrent]:ie,[r.PL.WeatherForecast]:ie,[r.PL.WeatherMap]:ie,[r.PL.SportsTopicStripe]:zt,[r.PL.MoneyPreWL]:ot,[r.PL.MoneyCrypto]:ot,[r.PL.MoneyMarketBrief]:ot,[r.PL.MoneyMoreForYouCard]:ot,[r.PL.SportsMatch]:Wt,[r.PL.SportsOlympics]:Ht,[r.PL.SportsHeroFre]:Wt,[r.PL.SportsHeroLeagueTodaysEvents]:Wt,[r.PL.SportsHeroMatch1SeasonStats]:Wt,[r.PL.SportsHeroMatch1Stats]:Wt,[r.PL.SportsHeroMatch2SeasonStats]:Wt,[r.PL.SportsHeroMatch2Stats]:Wt,[r.PL.SportsHeroMatch3SeasonStats]:Wt,[r.PL.SportsHeroMatch3Stats]:Wt,[r.PL.SportsHeroMatchStatistics]:Wt,[r.PL.SportsSpotlight2Match1]:Wt,[r.PL.SportsSpotlight2Match2]:Wt,[r.PL.SportsHeroNews]:It,[r.PL.SportsHeroOneVsManyEventResult]:Wt,[r.PL.SportsHeroOneVsOneEventResult]:Wt,[r.PL.SportsHeroSeasonStatistics]:Wt,[r.PL.SportsHeroStandingsRankings]:Wt,[r.PL.SportsHeroTeamStandings]:Wt,[r.PL.SportsHeroTeamStandingWithEvents]:Wt,[r.PL.SportsHeroTeamStandingWithMedals]:Wt,[r.PL.SportsHeroMatchCard]:Wt,[r.PL.SportsHeroTeamVsTeam]:Wt,[r.PL.SportsHeroTeamVsTeamEventResult]:Wt,[r.PL.SportsHeroVideo]:Wt,[r.PL.EventSDCardSportsMIT1]:Wt,[r.PL.EventSDCardSportsMIT2]:Wt,[r.PL.EventSDCardSportsMIT3]:Wt,[r.PL.MyBriefRiverCard]:Gt,[r.PL.TrafficDelays]:Kt,[r.PL.TrafficInfo]:Kt,[r.PL.Transit]:Kt,[r.PL.TrafficIncidents]:Qt,[r.PL.TrafficCameras]:Qt,[r.PL.TrafficCamerasWithSummary]:Qt,[r.PL.TravelTimes]:Qt,[r.PL.TravelTimesWithSummary]:Qt,[r.PL.TrafficMap]:Qt,[r.PL.TrafficNews]:Qt,[r.PL.TrafficTransit]:Qt,[r.PL.TrafficSummary]:Qt,[r.PL.WeatherSummary]:ne,[r.PL.ShoppingCard]:Nt,[r.PL.EdgeShoppingCard]:Rt,[r.PL.ShoppingCarousel]:Rt,[r.PL.ShoppingCarousel2]:Rt,[r.PL.Shopping1688Carousel]:Rt,[r.PL.ShoppingVideoCarousel]:Lt,[r.PL.ShoppingRiver]:Ot,[r.PL.ShoppingRiver1]:Ot,[r.PL.ShoppingRiver2]:Ot,[r.PL.ShoppingRiver3]:Ot,[r.PL.ShoppingTopSectionCard]:Ut,[r.PL.EventSDCardShopping]:Ft,[r.PL.ComicsCarousel]:w,[r.PL.SelectCarousel]:$t,[r.PL.EditorsPickCarousel]:N,[r.PL.DailyFixGamesCarousel]:T,[r.PL.SageGroupedFeed]:F,[r.PL.TopicFeed]:s,[r.PL.NewsWatchShorts]:s,[r.PL.NewsWatchVideo]:s,[r.PL.WatchNewsShorts]:s,[r.PL.ShoppingProng2c]:_t,[r.PL.ShoppingMerchantCategoryDeals]:Mt,[r.PL.ShoppingProngCardResponse]:Et,[r.PL.ShoppingProngTracking]:Et,[r.PL.ShoppingProngCarousel]:Dt,[r.PL.SectionHeader]:Tt,[r.PL.TrendingInTenMinutes]:Zt,[r.PL.TopicFeedTrendingNow]:Zt,[r.PL.TopicFeedTopStories]:Zt,[r.PL.TopStories]:Jt,[r.PL.WorkHeadlines]:Jt,[r.PL.Trending]:At,[r.PL.Horoscope]:K,[r.PL.Elections]:L,[r.PL.RecommendedInterests]:St,[r.PL.MobileTrendingSearchCard]:nt,[r.PL.OnThisDay]:ut,[r.PL.Dense]:E,[r.PL.Qna]:vt,[r.PL.quizcard]:wt,[r.PL.Recipes]:bt,[r.PL.Inspiration]:ft,[r.PL.InterestManagementCard]:X,[r.PL.GemGreeting]:V,[r.PL.Rewards]:Ct,[r.PL.TravelDestinationCard]:Xt,[r.PL.TravelDestinationCarouselCard]:Yt,[r.PL.LocalNewsFeed]:Y,[r.PL.BeaconProviderUpsell]:pt,[r.PL.Marketplace]:et,[r.PL.MarketplaceEvent]:et,[r.PL.PollsCard]:dt,[r.PL.PromotedAd]:mt,[r.PL.TopicFeedDiversity]:F,[r.PL.TopicFeedLearnSomethingNew]:F,[r.PL.TopicFeedWeekends]:F,[r.PL.TopicFeedMomentInTime1]:Vt,[r.PL.TopicFeedShopping]:Vt,[r.PL.TopicFeedWeather]:Vt,[r.PL.WinAppAds]:ce,[r.PL.MiTHeroContent]:it,[r.PL.MiTHeroFollow]:x,[r.PL.MiTHeroAction]:it,[r.PL.MiTHeroSpotlight]:it,[r.PL.NativeAd]:at,[r.PL.CmsAd]:at,[r.PL.FirstPartyAd]:at,[r.PL.AmplifyAd]:at,[r.PL.EventSDCardAmplifyAds]:at,[r.PL.NativeTopAd]:ct,[r.PL.BoostAd]:d,[r.PL.Promotion]:f,[r.PL.DisplayAdBanner]:D,[r.PL.DisplayAdCard]:D,[r.PL.DisplayAd]:D,[r.PL.Calendar]:se,[r.PL.Entertainment]:se,[r.PL.Family]:se,[r.PL.M365]:se,[r.PL.Photos]:se,[r.PL.ThirdPartyWidget]:se,[r.PL.Tips]:se,[r.PL.ToDo]:se,[r.PL.XboxGamePass]:se,[r.PL.Tombstone]:se,[r.PL.UserInterestProvider]:gt,[r.PL.TopCommentsCard]:qt,[r.PL.OnThisDaySDCard]:Vt,[r.PL.DailyQuizSdCard]:Vt,[r.PL.LocalEventsSDCard]:Vt,[r.PL.PublisherSpotlightCard]:Vt,[r.PL.FollowedPublishersCard]:Vt,[r.PL.WatchVideoHeavy]:ee,[r.PL.WatchGoldShorts]:Bt},le=(0,o.p)((()=>{const t=new de;for(const[e,n]of Object.entries(ue))t.set(e,n);return t}));class de extends Map{set(t,e){return super.set(t.toLowerCase(),e)}get(t){return super.get(t.toLowerCase())}}},1962:function(t,e,n){n.d(e,{Ae:function(){return w},Cs:function(){return R},Ed:function(){return D},Jl:function(){return O},K7:function(){return C},Nn:function(){return M},P9:function(){return $},PZ:function(){return T},UN:function(){return y},Xe:function(){return A},Xh:function(){return m},Xq:function(){return L},al:function(){return E},e_:function(){return I},i2:function(){return g},ji:function(){return S},lP:function(){return x},mQ:function(){return B},pt:function(){return p},sA:function(){return N},sE:function(){return W},sG:function(){return U},s_:function(){return _},sw:function(){return F},un:function(){return P},wZ:function(){return b}});var i=n(34800),r=n(9378),o=n(96204),s=n(73344),a=n(77137),c=n(28951),u=n(11875),l=n(44132),d=n(62512),f=n(68178);const h=new Set;function p(t){if(!t)return;if(h.has(t))return;const e=document.createElement("link");e.rel="preload",e.as="image",e.href=t,document.head.appendChild(e),h.add(t)}function m(t){try{const e=new Date(t),n=(new Date).getTime()-e.getTime();return Math.ceil(n/864e5)>3}catch(t){return!0}}function g(t,e,n,i,r){if(!t)return{logoImage:"",name:void 0};const o=i??16;let c="";const u={width:o,height:o,enableDpiScaling:!1,quality:100,format:s.D3.PNG},l="zh-cn"===(0,a.Yq)().CurrentMarket;!e&&t.logo&&t.logo.id?c=(0,s.zz)(t.logo.id,u):r&&!l?c=`${(0,a.Yq)().StaticsUrl}latest/views/img/yt-16.png`:(t.logoUrl||t.logo&&t.logo.url)&&(c=(0,s.mL)(t.logoUrl||t.logo.url,u));const d={logoImage:c,id:t.id,name:t.name,profileId:t.profileId};return n&&(d.immersiveCardSvgLogo=v(n,t.darkThemeSVGLogo),d.svgLogo=(0,f.Yc)()?d.immersiveCardSvgLogo:v(n,t.lightThemeSVGLogo)),d}function v(t,e){if(!e)return e;const n=e.width&&e.height?t*e.width/e.height:void 0;return{url:e.url,height:t,width:n}}function w(t){var e,n,i,r;if(null!=t&&null!==(e=t.cardContent)&&void 0!==e&&e.isPanoCard&&1==(null==t||null===(n=t.cardContent)||void 0===n?void 0:n.panocardType))t.cardContent.images=[{url:null===(i=t.cardContent)||void 0===i||null===(i=i.panoCaption)||void 0===i||null===(i=i.thumbnail)||void 0===i?void 0:i.url,title:null===(r=t.cardContent)||void 0===r||null===(r=r.panoCaption)||void 0===r?void 0:r.title,width:2e3,height:3e3}];else if(!(t&&t.cardContent&&t.cardContent.images&&t.cardContent.images.length&&t.cardContent.images[0]&&t.cardContent.images[0].url)){var o,s;return null!=t&&null!==(o=t.cardContent)&&void 0!==o&&o.isPanoCard&&2==(null==t||null===(s=t.cardContent)||void 0===s?void 0:s.panocardType)&&(t.cardContent.isPanoCard=!1,t.cardContent.panoCaption=null),null}return t.cardContent.images[0]}function y(t){return t&&t.images&&t.images.length&&t.images[0]&&t.images[0].url?t.images[0]:null}function b(t,e){var n,r;const{type:o,cardContent:s}=t;return e&&o==i.PL.Article&&s&&(null==s||null===(n=s.panoCaption)||void 0===n||null===(n=n.publishers)||void 0===n?void 0:n.length)&&(null==s||null===(r=s.panoCaption)||void 0===r?void 0:r.eventId)}function S(t,e){null==e||e.preventDefault(),t&&t.panoCaption&&window.open(t.panoCaption.destinationUrl.toString(),"_blank"),null!=e&&e.currentTarget&&(e.currentTarget.classList.add("clicked"),l.M0.sendActionEvent(null==e?void 0:e.currentTarget))}function x(t,e){t.panoCaption.articleDestinationUrl&&(t&&t.panoCaption&&window.open(t.panoCaption.articleDestinationUrl.toString(),"_blank"),l.M0.sendActionEvent(null==e?void 0:e.currentTarget))}function C(t,e){return"bing"===(null==t?void 0:t.toLowerCase())&&a.jG.IsChinaCompliance&&e}var k;function T(t,e){var n;if(null!=t&&null!==(n=t.placement)&&void 0!==n&&n.isAdFeedbackEnabled&&(e|=u.O.enabled),!(e&&e&u.O.enabled))return u.O.none;let{actions:i=[]}=t.metadata||t;const r=t.cardContent?t.cardContent.badges:t.badges,o=t.metadata?t.metadata.reasons:t.reasons;(r&&r.some((t=>"followedPublisher"===t.type))||o&&o.some((t=>"followPublisher"===t.type)))&&(i=[...i||[],k.followedPublisher]),o&&o.some((t=>"followTopic"===t.type))&&(i=[...i||[],k.followedTopic]);let s=u.O.enabled;return i.forEach((t=>{"save"===t&&(t="saved"),"liked"!==t&&"like"!==t||(t="showMore");const n=u.O[t];n&e&&(s|=n)})),s}function $(t,e,n){if(!t)return;if(!e)return t.cardActionsTooltips;const{cardActionsTooltips:i,showMoreV2:o,showFewerV2:s,undoShowMoreV2:a}=t,c=i&&(e.enableSaveButton||!o),u=((e,i,o)=>{switch(null==n?void 0:n.type){case r.pR.FOLLOWEDPUBLISHER:case r.pR.FOLLOWEDTOPIC:return t.followConfirmationText&&(null===(e=n.follow)||void 0===e?void 0:e.name)&&(0,d.WU)(t.followConfirmationText,n.follow.name);case r.pR.LOCAL:return null===(i=t.cardActionsTooltips)||void 0===i?void 0:i.whyAmISeeLocal;case r.pR.TRENDING:return null===(o=t.cardActionsTooltips)||void 0===o?void 0:o.whyAmISeeTrending;case r.pR.EXPLORE:{var s,a;const e=null===(s=t.cardActionsTooltips)||void 0===s?void 0:s.whyAmISeeExplore;return e&&(null==n||null===(a=n.follow)||void 0===a?void 0:a.name)&&(0,d.WU)(e,n.follow.name)}}})()??(null==i?void 0:i.whyAmISee);return{...i,showMore:c?i.showMore:o,showFewer:c?i.showFewer:s,undoShowMore:c?i.undoShowMore:a,whyAmISee:u}}function A(t,e){if(t&&t.cardContent){const e=t.cardContent.destinationUrl;return t.type===i.PL.EventInfopaneShoppingAI&&(t.cardContent.isShoppingArticleCard=!0),e&&(t.cardContent.destinationUrl=I(e)),t}const n=t;let r;r=n.type===i.PL.Slideshow?"SlideshowPreview":n.type===i.PL.Video?"VideoPreview":n.type===i.PL.WebContent?"WebContentPreview":"ArticlePreview",n.cardContent={id:n.id,destinationUrl:I(n.url),type:r,title:n.title,aiComments:n.aiComments,abstract:n.abstract,customTransitionSpeed:n.customTransitionSpeed,provider:n.provider,locale:n.locale,images:n.images,publishedDateTime:n.publishedDateTime,colorSamples:n.colorSamples,badges:n.badges,topics:n.topics,videoFiles:n.externalVideoFiles||[],videoMetadata:n.videoMetadata||{},isLocalContent:n.isLocalContent};const o=n.type;return n.metadata||o===i.PL.AmplifyAd||o===i.PL.NativeAd||o===i.PL.CmsAd||o===i.PL.IntraNativeAd&&e||(n.metadata=function(t){var e,n,r,o,s,a,c;if(t&&t.metadata)return t.metadata;const u=t;if(!u)return null;const l=u.type===i.PL.EventInfopaneShoppingAI?/[/?]/:"/",d=null===(e=u.cardContent)||void 0===e||null===(e=e.destinationUrl)||void 0===e?void 0:e.split(l);return{abstract:u.abstract,abstractLength:null===(n=u.abstract)||void 0===n?void 0:n.length,titleLength:null===(r=u.title)||void 0===r?void 0:r.length,category:u.category||(null==d?void 0:d.length)>=5&&d[4],subCategory:(null==d?void 0:d.length)>=6&&d[5],primaryImage:{height:u.images&&(null===(o=u.images[0])||void 0===o?void 0:o.height),width:u.images&&(null===(s=u.images[0])||void 0===s?void 0:s.width)},locale:u.locale,feed:{id:null===(a=u.feed)||void 0===a?void 0:a.id},kicker:[u.feed],actions:null===(c=u.actions)||void 0===c?void 0:c.map((t=>k[t]||t)),reactionStatus:u.reactionStatus,commentStatus:u.commentStatus,reactionSummary:u.reactionSummary,commentSummary:u.commentSummary,topComments:u.topComments,reasons:u.reasons,source:u.source,ref:u.ref,relatedCards:u.relatedCards,topics:u.topics,topQuestions:u.topQuestions,highlights:u.highlights,debugId:u.debugId,isFirstSectionCard:u.isFirstSectionCard,videoMetadata:u.videoMetadata}}(n)),n}function I(t){if(!t)return;const e=new URLSearchParams(window.location.search),n=new URL(t);if(M()){const t=e.get("ocid");if(t){const e=new URLSearchParams(n.search);e.set("ocid",t),n.search=`?${e.toString()}`}}const i=e.getAll("item");return i&&i.length?(i.forEach((t=>{const e=n.search?"&":"?";-1===n.search.indexOf(t)&&(n.search+=`${e}item=${t}`)})),n.toString()):n.toString()}function P(){return null!==c.cX.getQueryParameterByName("edge",window.location.href)}function _(){return null!==c.cX.getQueryParameterByName("launcher",window.location.href)}function M(){const t=window.location.href;return null!==c.cX.getQueryParameterByName("disti",t)}function R(t){const{followText:e,followingText:n,followSuccessMessage:i,unfollowSuccessMessage:r,interestErrorMessage:o}=t;return{followText:e,followingText:n,followSuccessMessage:i,unfollowSuccessMessage:r,interestErrorMessage:o}}function E(t,e){const n=t===i.PL.WebContent,r=n&&Boolean(e);return{isVideo:r||t===i.PL.Video,isWebContent:n,isWebVideo:r}}function F(t){return t&&t.length&&t[0]&&t[0].url?t[0]:null}function D(t,e,n,i){var r,o,a;const{attribution:c,title:u=t.title,url:l,focalRegion:d}=(null===(r=t.images)||void 0===r?void 0:r[0])||(null===(o=t.cardContent.images)||void 0===o?void 0:o[0])||{},f=[];let h;u&&f.push(u),c&&f.push(c),f.length&&(h=f.join(" - "));let p=90;const m=null===(a=window)||void 0===a||null===(a=a.navigator)||void 0===a||null===(a=a.connection)||void 0===a?void 0:a.effectiveType;if(m){p={"slow-2g":20,"2g":40,"3g":60,"4g":80}[m]}else(P()||_()||M())&&(p=70);const{width:g,height:v}=e,w=(0,s.mL)(l,{width:g,height:v,focalRegion:d,enableDpiScaling:!1,quality:p,devicePixelRatio:1,enableWebpFormat:i});return{imageWidth:g.toString(),imageHeight:v.toString(),source:w,altText:h,visualReadinessCallback:n}}function O(t,e,n,i){if(!t||null==e||!e.name||null==n||!n.contentProviderAttributionLabel||i&&(null==n||!n.contentTypeFormattingAriaLabel))return null;const r=N(n,i);return r?(0,d.WU)(null==n?void 0:n.contentTypeFormattingAriaLabel,r,t,e.name):(0,d.WU)(n.contentProviderAttributionLabel,t,e.name)}function N(t,e){return e===i.PL.Slideshow?null==t?void 0:t.galleryAriaLabel:e===i.PL.Video?null==t?void 0:t.videoAriaLabel:e===i.PL.WebContent?null==t?void 0:t.crawledContentLabel:void 0}function U(t,e){var n,i;return null!=t&&null!==(n=t.find((t=>t.isDarkMode)))&&void 0!==n&&n.hexColor&&null!=t&&null!==(i=t.find((t=>!t.isDarkMode)))&&void 0!==i&&i.hexColor?t:(0,o.pj)(e)}function L(t,e,n){if(!t||!e||!n)return;const i=(0,r.wc)(e,n);return i&&(i.type,r.gZ.OPINION,i.localizedLabel=t[i.type+"BadgeLabel"]),i}function B(t){return t.enableUltraCards}function W(t){return!!t&&("play"===(null==t?void 0:t.category)&&"games"===(null==t?void 0:t.subCategory))}!function(t){t.liked="like",t.unliked="unlike",t.saved="save",t.followedPublisher="followedPublisher",t.followedTopic="followedTopic"}(k||(k={}))},10105:function(t,e,n){n.d(e,{l:function(){return l}});var i=n(84381),r=n(33779),o=n(5302),s=n(13218),a=n(77137),c=n(21215),u=n(44132);async function l(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{CurrentFlightSet:n,ClientSettings:l}=s.Al;if(!(0,c.N)()||"true"===(null==l?void 0:l.static_page))return;const d=(0,i.g)(20),{debugId:f,fdHead:h,fdFlightingVersion:p,requestHeaderMuid:m}=t||{};if(!h)return;const{requestMuid:g,requestTrailInfo:v}=l,w=null==v?void 0:v.flightVersion,y=null==g?void 0:g.toLowerCase(),b=null==m?void 0:m.replace(/-/g,"").toLowerCase(),S=new Set(h.toLocaleLowerCase().split(",")),x={pcsMuid:y,oneServiceMuid:b,pcsFlightBlobVersion:w,oneServiceFlightBlobVersion:p,oneServiceDebugId:f},C=[],k=n||new Set;if(!k||!k.size)return void(d&&(0,r.H)(o.UUQ,"PCS flights are empty",`ClientSettings.static_page = ${null==l?void 0:l.static_page}`,x));y&&b&&b!==y&&d&&(0,r.H)(o.Zdq,"Muid mismatch between PCS and 1S",void 0,x);const T=function(){const t=a.jG.AppType;if("winWidgets"===t)return"prg-pr2";if("windowsShell"===t||"windowsShellV2"==t)return"prg-1sw-";return"prg-"}();for(const t of k)t.startsWith(T)&&!S.has(t)&&C.push(t);for(const t of S)t.startsWith(T)&&!k.has(t)&&C.push(t);C&&C.length>0&&(e&&u.M0.addOrUpdateTmplProperty("flight-mismatch"),d&&(0,r.H)(o.qjh,"Flight mismatch between PCS and 1S",void 0,{missingPrgFlights:C.join(","),commonProps:x}))}},93348:function(t,e,n){n.d(e,{p:function(){return c}});var i=n(84381),r=n(33779),o=n(5302),s=n(21215),a=n(13218);function c(t){var e;const{tier:n}=t||{},{ClientSettings:c}=a.Al;if(!(0,s.N)()||!c||c.static_page||!(0,i.g)(5))return;const u=null===(e=c.detection)||void 0===e?void 0:e.tier;u&&n&&u!==n&&(0,r.H)(o.DWl,"Traffic tier mismatch between PCS and 1S",void 0,{pcsTrafficTier:u,oneServiceTrafficTier:n})}},2221:function(t,e,n){n.d(e,{L:function(){return o}});var i=n(77137),r=n(59571);const o=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{isMobile:e}=i.jG;return t?e?r.N.MobileApp:r.N.DesktopApp:e?r.N.MobileWeb:r.N.DesktopWeb}},94289:function(t,e,n){n.d(e,{L:function(){return s}});var i=n(52185),r=n(81489);class o{constructor(){this.metadataStore={}}static getInstance(){return i.Gq.get("__AdPageMetadataHubInstance__",(()=>new o))}setMetadata(t,e){this.metadataStore[t]=e}setMetadatas(t){for(const e in t)this.metadataStore[e]=t[e]}getMetadata(t){return this.metadataStore[t]}setRulesOverride(t){this.rulesOverride=t}getRulesOverride(){return this.rulesOverride}}const s=(0,r.h)(o)},59571:function(t,e,n){var i,r;n.d(e,{N:function(){return i},l:function(){return r}}),function(t){t.MobileApp="mobileapp",t.MobileWeb="mobileweb",t.DesktopWeb="desktopweb",t.DesktopApp="desktopapp"}(i||(i={})),function(t){t.Publisher="Publisher",t.Language="Language",t.Market="Market",t.PageType="PageType",t.DeviceType="DeviceType",t.ContentCategory="ContentCategory",t.ContentSubcategory="ContentSubcategory",t.ProviderId="ProviderId",t.ContentTopic="ContentTopic",t.GameTitle="GameTitle",t.GameGenre="GameGenre"}(r||(r={}))},82449:function(t,e,n){n.d(e,{N5:function(){return a},lG:function(){return s},m$:function(){return o}});var i=n(52185),r=n(59571);const o=(0,i.TG)({[r.l.Publisher]:"pub",[r.l.Language]:"lang",[r.l.Market]:"market",[r.l.PageType]:"sales_page_type",[r.l.DeviceType]:"device_type",[r.l.ContentCategory]:"cat",[r.l.ContentSubcategory]:"subcat",[r.l.ContentTopic]:"cont_topic",[r.l.ProviderId]:"sales_provider_id",[r.l.GameTitle]:"game_title",[r.l.GameGenre]:"game_genre"});var s;!function(t){t.PlacementRegion="PlacementRegion",t.PlacementPosition="PlacementPosition"}(s||(s={}));const a=(0,i.TG)({[s.PlacementRegion]:"plcmnt_region",[s.PlacementPosition]:"sales_pos"})},87797:function(t,e,n){n.d(e,{km:function(){return l}});var i,r=n(94289),o=n(59571),s=n(82449);!function(t){t.TruncateArray="TruncateArray"}(i||(i={}));const a={[i.TruncateArray]:(t,e)=>Array.isArray(t)?t.slice(0,e):t},c=(t,e)=>e.reduce(((t,e)=>a[e.type](t,e.config)),t),u={[o.l.ContentTopic]:[{type:i.TruncateArray,config:3}]},l=t=>{const e=[];for(const n in s.m$.current){const i=s.m$.current[n],o=r.L.getMetadata(n),a=r.L.getRulesOverride()??u;if(o){const r=t(i,c(o,(null==a?void 0:a[n])||[]));void 0!==r&&e.push(r)}}return e}},43579:function(t,e,n){n.d(e,{F:function(){return o},_:function(){return s}});var i=n(82449),r=n(87797);const o=()=>(0,r.km)(((t,e)=>({key:t,value:Array.isArray(e)?e:[e]}))),s=t=>{const{region:e}=t;return(t=>{let{region:e}=t;return[[i.lG.PlacementRegion,e]].filter((t=>{let[e,n]=t;return n})).map((t=>{let[e,n]=t;return{key:i.N5.current[e],value:Array.isArray(n)?n:[n]}}))})({region:e})}},15848:function(t,e,n){n.d(e,{Qg:function(){return c},W_:function(){return a},z1:function(){return o}});var i=n(82449),r=n(87797);const o=()=>{const t=(0,r.km)(((t,e)=>[t,e]));return Object.fromEntries(t)},s=t=>{let{region:e,position:n}=t;const r=[[i.lG.PlacementRegion,e],[i.lG.PlacementPosition,n]].filter((t=>{let[e,n]=t;return n}));return Object.fromEntries(r.map((t=>{let[e,n]=t;return[i.N5.current[e],n]})))},a=t=>{const e=t.adName;let n="BTF";return-1===e.indexOf("banner1")&&-1===e.indexOf("rectangle1")||(n="ATF"),s({position:n})},c=t=>{const{region:e,position:n}=t;return s({region:e,position:n})}},77137:function(t,e,n){n.d(e,{Vh:function(){return M},jG:function(){return E},Yq:function(){return R}});var i,r,o,s=n(99234),a=n(22011),c=n(5302),u=n(242),l=n(30172);!function(t){t.WWW="www",t.MicrosoftStart="microsoftstart",t.INT="int",t.INT1="int1",t.MicrosoftStartINT="microsoftstart-int",t.MicrosoftStartINT1="microsoftstart-int1"}(i||(i={})),function(t){t.MSN="msn",t.MicrosoftStart="microsoftstart"}(r||(r={})),function(t){t.COM="com",t.CN="cn"}(o||(o={}));var d,f=n(79493),h=n(56985),p=n(21215),m=n(22680),g=n(52185),v=n(81489),w=n(37955),y=n(43197),b=n(97634),S=n(58009);!function(t){t.prod="prod",t.prodssr="prod-ssr",t.staging="staging",t.int1="int1",t.int="int",t.intpr="intpr",t.intperf="intperf"}(d||(d={}));var x=n(5884);var C=n(28951),k=n(55025),T=n(28123),$=n(25769),A=n(13218);var I=n(79022),P=n(52998);const _="__AppEnvironmentInstance__";class M{get ShouldUseFdheadQsp(){return this.shouldUseFdheadQsp}set ShouldUseFdheadQsp(t){this.shouldUseFdheadQsp=t}get DisableInMemoryCache(){return!!this.disableInMemoryCache}set DisableInMemoryCache(t){this.disableInMemoryCache=t}get CanvasTheme(){return this.canvasTheme}set CanvasTheme(t){this.canvasTheme=t}get OneServiceContentMarketQspKey(){return this.oneServiceContentMarketQspKey}get Ecasession(){return void 0===this.ecasession&&(this.ecasession=(0,w.ej)("ecasession")||"init"),this.ecasession}get BrowserOptOut(){return void 0===this.browserOptOut&&(this.browserOptOut="1"===(0,w.ej)("TOptOut")),this.browserOptOut}get MachineId(){return this.machineId}set MachineId(t){this.machineId=t}get isMobile(){var t,e;const n=(null===A.Al||void 0===A.Al||null===(t=A.Al.ClientSettings)||void 0===t?void 0:t.ocid)||"",i=(null===A.Al||void 0===A.Al||null===(e=A.Al.ClientSettings)||void 0===e?void 0:e.deviceFormFactor)||"";return n.startsWith("msnaroverlay")||"phone"===i}get isMiniProgram(){var t;const e=A.Al.ClientSettings||{ocid:"",deviceFormFactor:""},n=(0,p.N)()?"weatherminiprogram"===e.ocid||((null===(t=navigator)||void 0===t?void 0:t.userAgent)||"").indexOf("miniProgram")>-1:"weatherminiprogram"===e.ocid;return"phone"===e.deviceFormFactor&&n}get isOverlayFrame(){var t;return((null===A.Al||void 0===A.Al||null===(t=A.Al.ClientSettings)||void 0===t?void 0:t.ocid)||"").startsWith("msnaroverlay")}get ActivityId(){return this.activityId}set ActivityId(t){this.activityId=t,A.Al.ClientSettings={...A.Al.ClientSettings,aid:t}}get FrontDoorMuid(){return this.frontDoorMuid}get EnvironmentConfigUrl(){const t=new URL("",this.environmentConfigUrl);"dev"===new URLSearchParams((0,m.zp)()).get("env")&&t.searchParams.set("env.config","dev");const e=new URLSearchParams((0,m.zp)()).get("env.config");return e&&t.searchParams.set("env.config",e),t}get ContentServiceUrlBase(){const t=new URL("",this.contentServiceUrlBase);"dev"===new URLSearchParams((0,m.zp)()).get("env")&&t.searchParams.set("env.content","dev");const e=new URLSearchParams((0,m.zp)()).get("env.content");return e&&t.searchParams.set("env.content",e),t}get CurrentRequestTargetScope(){return this.currentRequestTargetScope}set CurrentRequestTargetScope(t){this.currentRequestTargetScope=t}get LocaleContentMarket(){var t,e;return(0,b.He)(A.Al.ClientSettings&&A.Al.ClientSettings.locale)||(null===(t=this.currentRequestTargetScope)||void 0===t||null===(t=t.locale)||void 0===t?void 0:t.content)||(null===(e=this.currentRequestTargetScope)||void 0===e?void 0:e.locale)}get LocaleDisplayLanguage(){return(0,b.He)(A.Al.ClientSettings&&A.Al.ClientSettings.locale,!0)||this.LocaleContentMarket}get LocaleContentMarketString(){const t=this.LocaleContentMarket;return t&&t.language&&t.market?(0,b.py)(t):""}get LocaleDisplayLanguageString(){const t=this.LocaleDisplayLanguage;return t&&t.language&&t.market?(0,b.py)(t):""}get SourceUrl(){let t=E.HostPage.originalUrl;const e=E.CurrentRequestTargetScope.pageType,n=E.HostPage.verticalKey;if("localhost.msn.com"===E.HostPage.hostName&&"ntp"===e)return t="https://ntp.msn.com/edge/ntp",t;if(e&&n){const i=e.toLowerCase();(i.indexOf("dhp")>-1||i.indexOf("ntp")>-1)&&(t="https://"+E.HostPage.hostName+"/"+n+"/"+e)}return t}get CurrentMarket(){return this.currentMarket}set CurrentMarket(t){this.currentMarket=t}get EnableFiveColLayout(){return this.enableFiveColLayout}set EnableFiveColLayout(t){this.enableFiveColLayout=t}get Environment(){return this.environment}set Environment(t){this.environment=t}get StaticDomain(){return this.staticDomain}get HostPage(){return this.hostPage}set HostPage(t){this.hostPage=t}get AppType(){return this.appType}get MiniAppId(){return this.miniAppId}get AuthCookieName(){return this.authCookieName}set AuthCookieName(t){this.authCookieName=t}get UseAuthFetch(){return this.useAuthFetch}set UseAuthFetch(t){this.useAuthFetch=t}get AccountInfoPromise(){return this.accountInfoPromise}set AccountInfoPromise(t){this.accountInfoPromise=t}get ResolvedAccountInfo(){return this.resolvedAccountInfo}set ResolvedAccountInfo(t){this.resolvedAccountInfo=t}get BuildVersion(){return this.buildVersion||""}get ClarityEnabled(){return this.clarityEnabled}set ClarityEnabled(t){this.clarityEnabled=t}get IsWinAADUser(){return this.isWinAADUser}set IsWinAADUser(t){this.isWinAADUser=t}get RootTelemetryId(){return this.rootTelemetryId}set RootTelemetryId(t){this.rootTelemetryId=t}get TrackInfo(){return this.trackInfo}set TrackInfo(t){this.trackInfo=t}get UserId(){return this.getUserMuid()||this.userId}set UserId(t){this.userId=t}get OneServiceApiKey(){return this.oneServiceApiKey}set OneServiceApiKey(t){this.oneServiceApiKey=t}get OneServiceOverride(){return this.oneServiceOverride}set OneServiceOverride(t){this.oneServiceOverride=t}get EnvInstanceOverride(){return this.envInstanceOverride}get IsDebug(){return this.isDebug}get NavTargetHostName(){return this.navTargetHost}get UseCachedApp(){return(0,p.N)()&&!!window.__useCachedApp}get NavTargetUrlWithLocale(){return`https://${this.NavTargetHostName}/${this.CurrentMarket}`}get IsChinaCompliance(){return this.isChinaCompliance}get IsCaliforniaRegion(){return this.isCaliforniaRegion}get AssetsUrl(){return this.staticAssetsUrl}set AssetsUrl(t){this.staticAssetsUrl=t}get StaticsUrl(){return this.staticsUrl}get StaticsUrlWithBuild(){return this.staticsUrlWithBuild}get topDomain(){return this.isChinaCompliance?o.CN:o.COM}get OptOutOfPersonalization(){return this.optOutOfPersonalization}set OptOutOfPersonalization(t){this.optOutOfPersonalization=t}get OptOutOfModelTraining(){return this.optOutOfModelTraining}set OptOutOfModelTraining(t){this.optOutOfModelTraining=t}get isGccModUser(){if((0,T.TJ)()){const t=(0,$.yL)();Promise.resolve(t===s.iN.GCC_MODERATE)}if(this.AccountInfoPromise)return this.AccountInfoPromise.then((t=>(null==t?void 0:t.region_scope)===s.iN.GCC_MODERATE))}get unsupportedEnterpriseCloud(){if((0,T.TJ)()){const t=(0,$.yL)();Promise.resolve(!(t===s.iN.GLOBAL))}if(this.AccountInfoPromise)return this.AccountInfoPromise.then((t=>!((null==t?void 0:t.region_scope)===s.iN.GLOBAL)))}get WidgetAttributes(){return this.widgetAttributes}set WidgetAttributes(t){this.widgetAttributes=t}get ServiceUrlBase(){const t=new URL("",this.serviceUrlBase);"dev"===new URLSearchParams((0,m.zp)()).get("env")&&t.searchParams.set("env.service","dev");const e=new URLSearchParams((0,m.zp)()).get("env.service");return e&&t.searchParams.set("env.service",e),t}get FeedServiceUrlBase(){if(!this.feedServiceUrlBase)return null;const t=new URL("",this.feedServiceUrlBase);"dev"===new URLSearchParams((0,m.zp)()).get("env")&&t.searchParams.set("env.service","dev");const e=new URLSearchParams((0,m.zp)()).get("env.service");return e&&t.searchParams.set("env.service",e),t}get EnterpriseServiceUrlBase(){if(!this.enterpriseServiceDomainUrl)return;const t=new URL("",this.enterpriseServiceDomainUrl);"dev"===new URLSearchParams((0,m.zp)()).get("env")&&t.searchParams.set("env.service","dev");const e=new URLSearchParams((0,m.zp)()).get("env.service");return e&&t.searchParams.set("env.service",e),t}get isAadAccountUser(){return this.CurrentRequestTargetScope&&"enterprise"===this.CurrentRequestTargetScope.audienceMode&&this.ResolvedAccountInfo&&this.ResolvedAccountInfo.account_type&&"AAD"===this.ResolvedAccountInfo.account_type}get IsFrePage(){return this.isFrePage}get DisableCachingConfigs(){return this.disableCachingConfigs}get EnableConfigService(){const t=C.cX.getQueryParameterByName("enableConfigService",(0,m.zp)());return t?"true"===t.toLocaleLowerCase():this.enableConfigService}get EnableCMSPPEConfigs(){return A.Al&&A.Al.EnableCMSPPEConfigs}get IsMultiConfigRetrievalEnabled(){return this.isMultiConfigRetrievalEnabled}get SendFeedCallActivityIdInHeader(){return this.sendFeedCallActivityIdInHeader}get SendUserIdInHeader(){return this.sendUserIdInHeader}set SendUserIdInHeader(t){this.sendUserIdInHeader=t}get ConfigServiceBaseUrl(){return this.configServiceBaseUrl}get CrsRetryBaseUrl(){return this.crsRetryBaseUrl}get FeatureFlags(){return this.featureFlags}get HostHeaderOverride(){return this.hostHeaderOverride}get ConfigRootUrl(){if(!this.configRootUrl)return null;const t=new URL("",this.configRootUrl);"dev"===new URLSearchParams((0,m.zp)()).get("env")&&t.searchParams.set("env.config","dev");const e=new URLSearchParams((0,m.zp)()).get("env.config");return e&&t.searchParams.set("env.config",e),t}get CacheBustingIdentifier(){return this.cacheBustingIdentifier}get IsGitConfigs(){return this.isGitConfigs}get CountryCode(){return this.countryCode}set CountryCode(t){this.countryCode=t}get ActivityIdLowerCaseNoHypens(){return(A.Al&&A.Al.ClientSettings&&A.Al.ClientSettings.aid||"").toLowerCase()}get Latitude(){return this.latitude}get Longitude(){return this.longitude}get ConfigOrigins(){return this.configOrigins}get CrsVersion(){return this.crsVersion}get CrsPath(){return this.crsPath}get CrsDisableServerCache(){return this.crsDisableServerCache}set CrsDisableServerCache(t){this.crsDisableServerCache=t}get LanguageRegionMismatch(){return this.findLanguageRegionMismatch()?"marketmismatch":""}get isWindowsDashboard(){return"windowsNewsPlus"===E.AppType||"winWidgets"===E.AppType}get LanguageRegionMismatchExplicit(){return this.findLanguageRegionMismatchExplicit()?"marketmismatch":""}get MarketRequestInputLanguage(){return this.marketRequestInputLanguage}get MarketRequestInputRegion(){return this.marketRequestInputRegion}get MarketRequestInputGeoCountry(){return this.marketRequestInputGeoCountry}get MarketDetectionType(){return this.marketDetectionType}get TelemetryInitOptions(){return this.telemetryInitOptions}get BatchedEvents(){const t=(null===A.Al||void 0===A.Al?void 0:A.Al.CurrentFlightSet)||new Set("");return t.has("telbatloadtime")?["LoadTime","LoadTimeDiag"]:t.has("telbaterrors")?["AppError"]:t.has("telbatdiag")?["AppError","ClientLog","LoadTime","LoadTimeDiag","TraceInfo"]:t.has("telbatmost")?["AppError","ClientLog","LoadTime","LoadTimeDiag","TraceInfo","ContentView"]:t.has("telbatcontentvw")?["ContentView"]:t.has("telbatlogs")?["AppError","ClientLog","TraceInfo"]:void 0}get ConfigStaticFallbackBaseUrl(){return`${this.IsChinaCompliance?a.NH:a.pN}/periconfigs/`}findLanguageRegionMismatch(){var t,e,n,i,r,o;if(A.Al.ClientSettings&&"true"===A.Al.ClientSettings.static_page)return!1;const s=A.Al.ClientSettings&&(null===(t=A.Al.ClientSettings)||void 0===t?void 0:t.market)&&(null===(e=A.Al.ClientSettings)||void 0===e||null===(e=e.market)||void 0===e?void 0:e.detection),a=A.Al.ClientSettings&&(null===(n=A.Al.ClientSettings)||void 0===n?void 0:n.market)&&(null===(i=A.Al.ClientSettings)||void 0===i||null===(i=i.market)||void 0===i?void 0:i.requestInput),c=(0,b.He)(A.Al.ClientSettings&&(null===(r=A.Al.ClientSettings)||void 0===r?void 0:r.locale)&&(null===(o=A.Al.ClientSettings)||void 0===o||null===(o=o.locale)||void 0===o?void 0:o.content)),u=s&&(null==s?void 0:s.recommendLanguageCoachmark);if(s&&("implicitExisting"===s.type||"implicitNew"===s.type||"cm"===s.type||"implicitReset"===s.type)&&a){if(c){if(a.language.toLowerCase()!==c.language.toLowerCase()||"true"===u)return this.marketMismatchDetails.type="language",this.marketMismatchDetails.mismatchItem1=a.language.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.language.toLowerCase(),!0;if(a.region&&a.region.toLowerCase()!==c.market.toLowerCase())return this.marketMismatchDetails.type="region",this.marketMismatchDetails.mismatchItem1=a.region.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.market.toLowerCase(),!0}if("implicitExisting"===s.type&&s.geo_country&&""!==s.geo_country&&a.geo_country.toLowerCase()!==s.geo_country.toLowerCase())return this.marketMismatchDetails.type="geo_country",this.marketMismatchDetails.mismatchItem1=a.geo_country.toLowerCase(),this.marketMismatchDetails.mismatchItem2=s.geo_country.toLowerCase(),!0}return!1}get MarketMismatchDetail(){return this.findLanguageRegionMismatch()||this.findLanguageRegionMismatchExplicit()?this.marketMismatchDetails:null}findLanguageRegionMismatchExplicit(){var t,e,n,i,r,o;if(A.Al.ClientSettings&&"true"===A.Al.ClientSettings.static_page)return!1;const s=A.Al.ClientSettings&&(null===(t=A.Al.ClientSettings)||void 0===t?void 0:t.market)&&(null===(e=A.Al.ClientSettings)||void 0===e||null===(e=e.market)||void 0===e?void 0:e.detection),a=A.Al.ClientSettings&&(null===(n=A.Al.ClientSettings)||void 0===n?void 0:n.market)&&(null===(i=A.Al.ClientSettings)||void 0===i||null===(i=i.market)||void 0===i?void 0:i.requestInput),c=(0,b.He)(A.Al.ClientSettings&&(null===(r=A.Al.ClientSettings)||void 0===r?void 0:r.locale)&&(null===(o=A.Al.ClientSettings)||void 0===o||null===(o=o.locale)||void 0===o?void 0:o.content));if(s&&"compliance"!==s.type&&"url"!==s.type&&a){if(c){if(a.language.toLowerCase()!==c.language.toLowerCase())return this.marketMismatchDetails.type="language",this.marketMismatchDetails.mismatchItem1=a.language.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.language.toLowerCase(),!0;if(a.region&&a.region.toLowerCase()!==c.market.toLowerCase())return this.marketMismatchDetails.type="region",this.marketMismatchDetails.mismatchItem1=a.region.toLowerCase(),this.marketMismatchDetails.mismatchItem2=c.market.toLowerCase(),!0}if(a.geo_country.toLowerCase()!==s.geo_country.toLowerCase())return this.marketMismatchDetails.type="geo_country",this.marketMismatchDetails.mismatchItem1=a.geo_country.toLowerCase(),this.marketMismatchDetails.mismatchItem2=s.geo_country.toLowerCase(),!0}return!1}setConfigOrigin(){const t={feature:l.w.Production,loc:l.w.Production};return this.IsGitConfigs&&!this.EnableConfigService||(t.feature=l.w.Production,t.loc=l.w.Production),t}constructor(t,e,n,i,r){this.assetsGlobalUrl="https://assets.msn.com",this.assetsCNUrl="https://assets.msn.cn",this.heroOcids=["widgetonlockscreen","widgetonlockscreenwin10","calendarontaskbar","winp2fpwidgetboard","wind_spot_2","webwidgetonboard","webwidgetonlockscreen","wind_spot_desktop"],this.optOutOfPersonalization=!1,this.optOutOfModelTraining=!1,this.marketMismatchDetails={type:"",mismatchItem1:"",mismatchItem2:""},this.initializeAppEnvironment(t,e,n,i,r)}static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return g.Gq.get(_,(()=>new M(t,e,n,i,r)))}static resetInstance(){const t=new M(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null);return g.Gq.set(_,t),E=(0,v.h)(M),E}get IsHeroNTP(){return this.isHeroNTP}set IsHeroNTP(t){this.isHeroNTP=t}get IsUCBased(){return this.isUCBased}set IsUCBased(t){this.isUCBased=t}get IsUCPeekMode(){return this.isUCPeekMode}set IsUCPeekMode(t){this.isUCPeekMode=t}get IsHalfViewportUC(){return this.isHalfViewportUC}set IsHalfViewportUC(t){this.isHalfViewportUC=t}get UxMode(){var t;return null===(t=this.currentRequestTargetScope)||void 0===t||null===(t=t.modes)||void 0===t?void 0:t.uxMode}initializeAppEnvironment(t,e,n,i,r){var o,s,u,l;const d=(0,m.Td)(),g=(0,p.N)()?(0,m.$w)(x.Xs):null,v=(0,m.l4)(),w=(0,m.Dp)(),y=(0,m.zp)(),b=function(t){const e=t||(0,m.Td)();return(0,p.N)()?e.includes("localhost.msn.com"):e.includes("localhost")}(d);let k=null;const T=A.Al&&A.Al.ClientSettings,$=C.cX.getParamsWithItems(y,!0);let I=!1;if(T){this.isCaliforniaRegion=T.geo_subdivision&&"california"==T.geo_subdivision.toLocaleLowerCase(),this.isChinaCompliance=function(t,e){return!!(t.hostname.toLowerCase().endsWith(".cn")||e.isChinaCompliance||e.useCnDomain||t.search.match(/isChinaBuild=true/i)||t.search.match(/item=revip:cn/))}({hostname:d,search:y},T),(0,S.sV)(this.isChinaCompliance),this.activityId=this.tryReformatGuid(T.aid),this.currentMarket=this.LocaleContentMarketString||T.apps_locale,this.countryCode=T.geo_country,this.frontDoorMuid=T.fd_muid,this.latitude=T.geo_lat,this.longitude=T.geo_long,this.configRootUrl=T.configRootUrl?new URL("",T.configRootUrl):null,k=(0,f.s)(T.pcsInfo&&T.pcsInfo.env||"prod"),this.setAccountInfoPromise(),this.appType=T.apptype||"",this.miniAppId=T.miniAppId||"",this.authCookieName=this.getAuthCookieName(),this.useAuthFetch=!1;const{featureFlags:t}=T;this.featureFlags=t,I=t&&"true"===t.disableCachingConfigs,this.enableConfigService=!t||!t.enableConfigService||"true"===t.enableConfigService,this.sendFeedCallActivityIdInHeader=(!t||!t.disableActivityIdInHeader||"true"!==t.disableActivityIdInHeader)&&"hub"===this.appType,this.cacheBustingIdentifier=T.cbid;const{bundleInfo:e,pcsInfo:n}=T||{};this.isDebug=(C.cX.getQueryParameterByName("debug",v)||"").toLowerCase()in{1:1,true:1}||(C.cX.getQueryParameterByName("item",v)||"").toLowerCase().indexOf("/debug")>0||b;const i=this.getRunTimePropertyBag(e,n);(0,c.GQ)(i),(0,P.r7)(i),this.configIndexDocId=T.configIndexDocId,this.widgetAttributes=T.widgetAttributes}const _=(0,f.s)(C.cX.getQueryParameterByName("env",v));this.environment=_||k||f.q.prod,this.envInstanceOverride=C.cX.getQueryParameterByName("instance",v);const M=T&&T.servicesEndpoints,R=M&&M.feedService&&M.feedService.domain||w;this.serviceDomainUrl=n||R,this.oneServiceOverride=r,this.staticDomain=new URL(R).host,this.staticAssetsUrl=function(t,e){return t||(e?"https://assets.msn.cn":"https://assets.msn.com")}(null==M||null===(o=M.staticConfig)||void 0===o?void 0:o.domain,this.isChinaCompliance),this.staticsUrl=function(t,e,n){return(t&&!0!==(null===globalThis||void 0===globalThis?void 0:globalThis.isSSREnabled)?n:e)+"/staticsb/statics/"}(b,this.staticAssetsUrl,w);const E=null===(s=$.find((t=>"pr"===t.key)))||void 0===s?void 0:s.value,F=E&&`pr-${E}`||"latest";this.staticsUrlWithBuild=this.staticsUrl+F+"/",this.enterpriseServiceDomainUrl=M&&M.enterpriseFeedService&&M.enterpriseFeedService.domain;const{crs:D={}}=M||{},{v:O,domain:N,path:U}=D;this.crsVersion=O,this.crsDomain=N,this.crsPath=U||a.mX;const{requestInput:L={},detection:B={}}=T&&T.market||{},{language:W="",region:H="",geo_country:z=""}=L||{},{type:V=""}=B||{};this.marketRequestInputLanguage=W,this.marketRequestInputRegion=H,this.marketRequestInputGeoCountry=z,this.marketDetectionType=V,this.serviceUrlBase=t||g&&g.getAttribute(x.X8)&&new URL("",g.getAttribute(x.X8))||new URL("/service/",this.serviceDomainUrl),this.feedServiceUrlBase=this.serviceDomainUrl&&new URL("/service/",this.serviceDomainUrl)||void 0,this.hostPage=h.N.getHostPageFromUrl(v),this.isFrePage="1"===C.cX.getQueryParameterByName("fre",v),this.userId=this.getUserMuid(),this.rootTelemetryId=g?Number(g.getAttribute(x.DB)):0;const j=g&&g.getAttribute(x.uw),q=g&&g.getAttribute(x.Kz);this.trackInfo={sitePage:{page_product:j,page_type:q}},this.setNavTargetHostName(),this.setTargetScope();const G=this.currentRequestTargetScope&&this.currentRequestTargetScope.pageExperiments||[];this.disableCachingConfigs=I||(0,p.N)()&&G.includes("inlincrscall"),this.crsVersion=function(t,e,n){try{return t&&e&&e.includes(a.my)&&"weather"!==n&&"finance"!==n?a.SL:t}catch(t){}return t}(this.crsVersion||"",G,this.appType||""),this.isGitConfigs=this.useGitConfigs(),this.configOrigins=this.setConfigOrigin(),this.contentServiceUrlBase=this.serviceDomainUrl?new URL("/content/",this.serviceDomainUrl):void 0,this.isMultiConfigRetrievalEnabled=this.useMultiConfigsRetrieval();const J=this.getConfigServiceBaseUrl(this.isMultiConfigRetrievalEnabled,e);this.configServiceBaseUrl=J?new URL("",J):null,this.environmentConfigUrl=this.serviceDomainUrl?new URL("/config/v1/",this.serviceDomainUrl):void 0,this.oneServiceApiKey=this.getOneServiceApiKey(),this.enableFiveColLayout=!1,i&&(this.hostHeaderOverride=i);const K={appType:this.appType,flights:A.Al.CurrentFlights,itemOverrides:$},Q=y&&(y.includes("vptest=1")||y.includes("reqsrc=vp")),X="edgeChromium"===this.appType&&!(0,p.N)();this.shouldUseFdheadQsp=Q||function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{itemOverrides:n}=t||{},i=n&&n.find((t=>"should1sUseFdheadQsp"===t.key));if(i&&i.value)return"true"===i.value;if(e)return!1;const r=n&&n.find((t=>"flights"===t.key||"appendflights"===t.key.toLowerCase()));return!!(r&&r.value&&r.value.length>0)}(K,X),this.oneServiceContentMarketQspKey=Q?"market":"cm";const Y="homePage"===this.appType&&y&&y.includes("segment="),Z=C.cX.getQueryParameterByName("ucexperience",(0,m.l4)());this.isHeroNTP=this.heroOcids.includes(null===A.Al||void 0===A.Al||null===(u=A.Al.ClientSettings)||void 0===u?void 0:u.ocid)&&("edgeChromium"===this.appType||Y),this.isHalfViewportUC="half"===Z,this.isUCBased="full"===Z||this.isHalfViewportUC,this.isUCPeekMode="peek"===C.cX.getQueryParameterByName("exp",(0,m.l4)()),this.telemetryInitOptions={excludeCsMetaData:null===(l=A.Al.CurrentFlightSet)||void 0===l?void 0:l.has("telnometadata")}}getOneServiceApiKey(){var t,e;if(this.widgetAttributes&&this.widgetAttributes.feed&&this.widgetAttributes.feed.apiKey)return this.widgetAttributes.feed.apiKey;const n="0QfOX3Vn51YCzitbLaRkTTBadtWpgTN8NZLW0C1SEM";let i;const r=["gaming","gaming::car","gaming::ai","gaming::deepseek"];switch(this.appType){case"windowsShell":case"windowsShellV2":i="pWw5OmQehOA0XNfgcgrTrwEJZJJJzE83ovtTQx6JRG";break;case"windowsNewsPlus":case"winWidgets":case"webWidgets":i="AEbyVYqTQAPvg4lWwMSFHaLkDzl3weRKKIDDInLQUj";break;case"edgeChromium":i="1hYoJsIRvPEnSkk0hlnJF2092mHqiz7xFenIFKa9uc";break;case"bingHomepage":case"distribution":i="lenovo"===A.Al.ClientSettings.pagetype?"OrorOEMX3w4Hsk49OXMM6YayCYQw3OHcpzqiXEk9xd":"edgewelcome"===A.Al.ClientSettings.pagetype?"oPFhbDSAghltCuG6UvQCcxmngSVye65eXQHHu3voxZ":"QMmdky7jrTlM4mWJmMYQTi71lp678KyZJBKHCAyKCg";break;case"sharedWidgets":i="hFWgtnoLG1BXruRRhEVJo5ACP8414XUG0Ric6JbyND";break;case"gaming":i="play"===(null===(t=this.currentRequestTargetScope)||void 0===t?void 0:t.pageType)?n:r.includes(null===(e=this.currentRequestTargetScope)||void 0===e?void 0:e.pageType)?"1hYoJsIRvPEnSkk0hlnJF2092mHqiz7xFenIFKa9uc":"Uj7u7bqBgMhDGBUVPSbcHUe0pU7X8TbVRviCO2fojo";break;case"travel":i="8RwD77wJgNQmmVBdGmZsK6vvPCrG58iRCQRoPsE4JJ";break;case"health":i="FywQv6H345wNCU4yKWraF2esI9qiMQFx90v53mMHrm";break;default:i=n}return i}getUserMuid(){let t;const e=(0,w.jG)();return(0,I.Z)(e)&&(t="m-"+e),t}getConfigServiceBaseUrl(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e){case d.prod:case d.prodssr:case d.staging:return t;default:return n?location.origin||null:(0,m.Dp)()||null}}(this.crsDomain||(this.isChinaCompliance?a.NH:a.pN),this.environment),i=this.isGitConfigs?`${this.crsPath}${this.crsVersion||a.PQ}/config/`:`${this.crsPath}${t?"v2/":""}configindex/`,r=(0,m.Dp)();if(this.crsRetryBaseUrl=r?r+i:null,e)return e+i;if((0,p.N)()&&(this.renderWidgets()||"sharedWidgets"===this.appType||"bingHomepage"===this.appType||"distribution"===this.appType||"gaming"===this.appType||("sports"===this.appType||"finance"===this.appType||"weather"===this.appType)&&this.widgetAttributes)){const t=(this.crsDomain||"https://www.msn."+(this.IsChinaCompliance?"cn":"com"))+i;return this.crsRetryBaseUrl=t,n?`${n}`+i:t}return n||(0,m.Dp)()?(n||(0,m.Dp)())+i:null}useMultiConfigsRetrieval(){const t=(0,m.zp)();if(t){const e=C.cX.getQueryParameterByName("isMultiConfigRetrievalEnabled",t);if(e)return"true"===e.toLocaleLowerCase()}return!this.featureFlags||!this.featureFlags.isMultiConfigRetrievalEnabled||"true"===this.featureFlags.isMultiConfigRetrievalEnabled}useGitConfigs(){const t=(0,m.zp)();if(t){const e=C.cX.getQueryParameterByName("isGitConfig",t);if(e)return"true"===e.toLocaleLowerCase()}return e=this.crsVersion,n=this.configIndexDocId,!(!this.appType||!e||e<a.PQ||n);var e,n}renderWidgets(){const t=(0,m.zp)();if(t){const e=C.cX.getQueryParameterByName("renderWidget",t);if(e)return"true"===e.toLocaleLowerCase()}return!1}getAuthCookieName(){if(this.authCookieName)return this.authCookieName;let t;switch((A.Al&&A.Al.ClientSettings).apptype||""){case"windows":t="windowshp"===A.Al.ClientSettings.pagetype?"anon":"app_anon";break;case"bingHomepage":case"community":case"contentTools":case"finance":case"gaming":case"health":case"homePage":case"hub":case"personalize":case"sharedWidgets":case"shopping":case"sports":case"traffic":case"travel":case"ugc":case"views":case"weather":default:t="anon";break;case"edgeChromium":case"edgeMobile":case"distribution":case"windowsNewsPlus":case"winWidgets":case"webWidgets":case"windowsShell":case"windowsShellV2":case"office":case"channelmobile":case"superApp":t="app_anon"}return t}setAccountInfoPromise(){this.ResolvedAccountInfo=null,this.AccountInfoPromise=new Promise((t=>{if(!((0,p.N)()&&window.chrome&&window.chrome.authPrivate&&window.chrome.authPrivate.getPrimaryAccountInfo))return t(null);const e=Math.round(performance.now());window.chrome.authPrivate.getPrimaryAccountInfo((n=>{const i=Math.round(performance.now());return(0,u.Ou)()["Auth.GetPrimaryAccountInfo"]=i-e,this.ResolvedAccountInfo=n,t(n)}))})),this.AccountInfoPromise}tryReformatGuid(t){if(t&&32===t.length){const e=t.match(/(\w{8})(\w{4})(\w{4})(\w{4})(\w{12})/i);e&&(t=e.slice(1).join("-"))}return t}setTargetScope(){if(!A.Al||!A.Al.ClientSettings)return;const t=(0,y.I)((0,m.G8)(),A.Al.ClientSettings),{browser:e,deviceFormFactor:n,domain:i,ocid:r,os:o,modes:s,pagetype:a}=A.Al.ClientSettings,c=A.Al.CurrentFlights.split(",");if(this.currentRequestTargetScope={audienceMode:t,browser:e,deviceFormFactor:n,domain:i,locale:{content:this.LocaleContentMarket,display:this.LocaleDisplayLanguage},ocid:r,os:o,modes:s,platform:"web",pageType:a,pageExperiments:c},!this.currentRequestTargetScope.locale&&k.b.stringHasData(this.LocaleContentMarketString)){const t=this.LocaleContentMarketString.split("-");t.length>1&&(this.currentRequestTargetScope.locale={language:t[0],market:t[t.length-1],content:{language:t[0],market:t[t.length-1]},display:{language:t[0],market:t[t.length-1]}})}}setNavTargetHostName(){let{subDomain:t,domainName:e,topLevelDomain:n}={subDomain:i.WWW,domainName:r.MSN,topLevelDomain:o.COM};const s="homePage"!==this.appType&&A.Al&&A.Al.CurrentFlightSet&&A.Al.CurrentFlightSet.has("1s-viewurldomain");switch(this.environment){case f.q.prod:case f.q.staging:t=s?i.MicrosoftStart:i.WWW;break;case f.q.int1:t=s?i.MicrosoftStartINT1:i.INT1;break;case f.q.int:case f.q.intpr:case f.q.intperf:t=s?i.MicrosoftStartINT:i.INT}this.isChinaCompliance&&(n=o.CN),this.navTargetHost=`${t}.${e}.${n}`}getRunTimePropertyBag(t,e){const n={appType:this.appType};e&&(n.pcsVersion=e.v,n.pcsEnv=e.env);const{alias:i,v:r}=t||{};this.buildVersion=r||"",n.build=this.buildVersion,i&&(n.buildAlias=i),this.isDebug&&(n.isDebugPage=!0);const o=A.Al.CurrentFlights;return o&&(n.shouldDelayUntilLoadTime="edgeChromium"===this.appType&&A.Al.IsPrerender,n.shouldSampleErrorsForTreatement1=o.includes("apperror1")||o.includes("errorsamplingb")),n}getStaticUrls(t){return{com:`${this.assetsGlobalUrl}/staticsb/statics/${t}`,cn:`${this.assetsCNUrl}/staticsb/statics/${t}`}}}const R=M.getInstance;let E=(0,v.h)(M)},47655:function(t,e,n){n.d(e,{Qe:function(){return a}});var i=n(68052),r=n(21215),o=n(5884),s=n(91042);function a(){var t;return(0,r.N)()?(window._clientSettings=window._clientSettings||(0,i.d)(document.head.dataset.clientSettings||(null===(t=document.getElementsByClassName(s.fw)[0])||void 0===t?void 0:t.getAttribute(o.nr))),window._clientSettings):null}},46723:function(t,e,n){function i(){var t,e;return(null===(t=window)||void 0===t||null===(t=t.__SSRUserConfigEarlyLog)||void 0===t?void 0:t.consistentMuid)||(null===(e=window)||void 0===e?void 0:e.__muid)||""}n.d(e,{JG:function(){return i}})},3637:function(t,e,n){n.d(e,{q:function(){return r}});var i=n(13218);const r=()=>{const t=i.Al&&i.Al.ClientSettings||{},{geo_citycf:e,geo_countrycf:n}=t;return t&&{citycf:e,countrycf:n}}},99234:function(t,e,n){var i;n.d(e,{Ak:function(){return s},I4:function(){return r},d3:function(){return o},iN:function(){return i},oD:function(){return a}}),function(t){t.GLOBAL="GLOBAL",t.GCC_MODERATE="GCC_MODERATE"}(i||(i={}));const r="d7b530a4-7680-4c23-a8bf-c52c121d2e87",o="https://enterprisenews.microsoft.com",s="EnterpriseOneService",a=87},79493:function(t,e,n){var i;function r(t){switch(t){case i.prod:case i.staging:return i.prod;case i.int1:return i.int1;case i.int:case i.intpr:case i.intperf:return i.int;default:return null}}n.d(e,{q:function(){return i},s:function(){return r}}),function(t){t.prod="prod",t.staging="staging",t.int1="int1",t.int="int",t.intpr="intPR",t.intperf="intPerf"}(i||(i={}))},13218:function(t,e,n){n.d(e,{nP:function(){return T},Al:function(){return $}});var i=n(22011),r=n(38300),o=n(52185),s=n(81489),a=n(22680),c=n(21215),u=n(5884),l=n(97634),d=n(28951),f=n(15598),h=n(97906),p=n(68052),m=n(33779),g=n(5302),v=n(42122),w=n(67850);function y(t){return"shd_"+t}var b=n(99234),S=n(91042),x=n(44132);const C="__HeadDataInstance__";class k{get Locale(){return this.locale}get MarketDir(){return this.marketDir}set MarketDir(t){this.marketDir=t}get CurrentFlights(){return this.currentFlights||""}set CurrentFlights(t){var e;this.currentFlights=t,this.currentFlightSet=new Set((t||"").split(",")),null!==(e=this.currentFlightSet)&&void 0!==e&&e.has(i.$e)||this.setSweeperStoredHeadData(r.il.FlightIdKey,this.currentFlights)}get AppFlights(){return this.appFlights}get CurrentFlightSet(){return this.currentFlightSet}get ClientSettings(){return this.clientSettings}set ClientSettings(t){this.clientSettings=t}get Diagnostics(){return this.diagnostics}set Diagnostics(t){this.diagnostics=t}get EnableCMSPPEConfigs(){return this.enableCMSPPEConfigs}get EdgeNTPHeader(){return this.edgeNTPHeader}set EdgeNTPHeader(t){this.edgeNTPHeader=t}get UserIsSignedIn(){return this.userIsSignedIn}get IsPreload(){return this.isPreload}set IsPreload(t){this.isPreload=t}get IsPrerender(){return this.isPrerender}set IsPrerender(t){this.isPrerender=t}get IsBlendedEnterprise(){return this.isBlendedEnterprise}set IsBlendedEnterprise(t){this.isBlendedEnterprise=t}get IsServiceWorkerCache(){return this.isServiceWorkerCache}get LastKnownAppVersion(){return this.lastKnownAppVersion}get AnonCookieName(){return this.anonCookieName}set AnonCookieName(t){this.anonCookieName=t}get SsoComplete(){return this.ssoComplete}get AadState(){return this.aadState}set AadState(t){this.aadState=t}set LocaleName(t){this.locale=t}get SelectedFeedPivot(){return this.selectedFeedPivot}set SelectedFeedPivot(t){this.selectedFeedPivot=t}get LastSelectedPivot(){return this.lastSelectedPivot}set LastSelectedPivot(t){this.lastSelectedPivot=t}get SwitchedPivot(){return this.switchedPivot}set SwitchedPivot(t){this.switchedPivot=t}get AdsNumberLines(){return this.adsNumberLines||""}set AdsNumberLines(t){this.adsNumberLines=t}constructor(t){this.currentFlightSet=new Set,this.enableCMSPPEConfigs=!1,this.initializeHeadData(t)}static getInstance(){return o.Gq.get(C,(()=>new k))}static resetInstance(t){const e=new k(t);return o.Gq.set(C,e),$=(0,s.h)(k),$}initializeHeadData(t){if(t)return void this.initializeFromData(t);if(this.newRidNeeded=void 0,this.lastUsedActivityIdBacking=void 0,this.locationSearch=(0,a.zp)(),this.htmlElement=(0,c.N)()?(0,a.SV)(u.x$.html)[0]:null,this.headElement=(0,c.N)()?(0,a.SV)(u.x$.head)[0]:null,this.applicationCache=(0,c.N)()?window.applicationCache:null,this.selectedFeedPivot="",this.widgetSettingsElement=(0,c.N)()?(0,a.ZI)(S.fw)[0]:null,!this.htmlElement||!this.headElement)return;this.initializeFromDom(),window&&window.navigator&&window.navigator.serviceWorker&&window.navigator.serviceWorker.controller&&(this.isServiceWorkerCache=!0),(this.isServiceWorkerCache||window.__useCachedApp)&&(this.initializeFromStorage(),this.initializeLastUsedActivityId());const e=(0,l.He)(this.clientSettings&&this.clientSettings.locale),n=this.clientSettings&&e&&e.language&&e.market;this.locale=n?(0,l.py)(e):"";const i=this.htmlElement.getAttribute(u.cp);this.marketDir=i&&i.toLocaleLowerCase()||"",this.setQueryItemProvidedValues();const r=(this.widgetSettingsElement||this.headElement).getAttribute(u.js);if(r){const t=(0,p.d)(r);this.anonCookieName=t.anonckname,this.userIsSignedIn=1===t.signedin}d.cX.getQueryParameterByName("backgroundpreload",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPreload=!0,this.logDocumentVisibility()),d.cX.getQueryParameterByName("prerender",this.locationSearch)&&"hidden"===document.visibilityState&&(this.isPrerender=!0,this.logDocumentVisibility()),(0,c.N)()&&window.ShellFeedsApp&&window.ShellFeedsApp.shellFeedsExperienceInfo&&!window.ShellFeedsApp.shellFeedsExperienceInfo.isWebviewVisible&&0===window.ShellFeedsApp.shellFeedsExperienceInfo.buttonInteraction&&(this.isPreload=!0),this.setIsBlendedEnterprise(),this.maybeUpdateNewTabPageLinkIcon()}get lastUsedActivityId(){if(this.lastUsedActivityIdBacking)return this.lastUsedActivityIdBacking;const t=this.getStoredActivityIdKey(),e=(0,f.$o)().getItem(t);return e&&(this.lastUsedActivityIdBacking=(0,p.d)(e)),this.lastUsedActivityIdBacking}set lastUsedActivityId(t){const e=this.getStoredActivityIdKey();if(t){if(t.id&&t.ts){try{(0,f.$o)().setItem(e,JSON.stringify(t),!1)}catch(t){const e=t&&t.message;(0,x.dK)().then((()=>{(0,m.H)(g.dw4,e)}))}this.lastUsedActivityIdBacking=t}}else(0,f.$o)().removeItem(e)}get storedHeadData(){return function(t){const e=y(t),n=(0,f.$o)().getItem(e);return n?(0,p.d)(n):null}(this.clientSettings.pagetype)}set storedHeadData(t){!function(t,e){const n=y(t);e?(0,f.$o)().setItem(n,JSON.stringify(e)):(0,f.$o)().removeItem(n)}(this.clientSettings.pagetype,t)}initializeFromData(t){var e,n;this.clientSettings=t.clientSettings,this.edgeNTPHeader=t.edgeNTPHeader,this.selectedFeedPivot=null===(e=t.edgeNTPHeader)||void 0===e?void 0:e.selectedFeedPivot,this.setFlights(t.clientInfo),this.appFlights=(0,l.vF)(t.canvasInfo),this.setQueryItemProvidedValues();const i=(0,l.He)(this.clientSettings&&(null===(n=this.clientSettings)||void 0===n?void 0:n.locale)),r=this.clientSettings&&i&&i.language&&i.market;this.locale=r?(0,l.py)(i):"",this.marketDir=t.marketDir&&t.marketDir.toLocaleLowerCase()||"",this.setIsBlendedEnterprise()}initializeFromDom(){const t=this.widgetSettingsElement||this.headElement;this.setFlights(t.getAttribute(u.um)),this.appFlights=(0,l.vF)(t.getAttribute(u.go)),this.setAdsNumberLines(t.getAttribute(u.Nf));const e=t.getAttribute(u.nr);if(!e)return;if(this.clientSettings=(0,p.d)(e),!this.clientSettings)return;const n=t.getAttribute(u.IX);this.diagnostics=(0,p.d)(n),this.calculateForwardableParams();const{pagetype:i}=this.clientSettings;if(!i){const e=t.getAttribute(u.AU);this.clientSettings.pagetype=null==e?void 0:e}if(i)try{const t=(0,f.$o)().getObject(u.It.pageVersions)||{};this.lastKnownAppVersion=t[i];const{bundleInfo:e}=this.clientSettings;e&&this.lastKnownAppVersion!==e.v&&(t[i]=e.v,(0,f.$o)().setObject(u.It.pageVersions,t))}catch{v.k.log(`${this.logPrefix()} couldn't complete local storage related operation.`)}}initializeFromStorage(){const t=this.storedHeadData;t&&this.populateFromApiResponse(t)}populateFromApiResponse(t){if(!t)return;const e=t.clientSettings,n=t.info;if(this.appFlights=(0,l.vF)(t.canvasInfo),!e||!n)return;if(this.clientSettings.pageGenTime>=e.pageGenTime)return void(this.storedHeadData=null);const i=this.clientSettings.queryparams,r=this.clientSettings&&this.clientSettings.bundleInfo&&this.clientSettings.bundleInfo.v;this.clientSettings=e,this.clientSettings.bundleInfo=Object.assign(this.clientSettings.bundleInfo||{},{v:r}),this.clientSettings.queryparams=i,this.calculateForwardableParams(),this.setFlights(n)}calculateForwardableParams(){const t=this.clientSettings?this.clientSettings.queryparams:"";if(!t)return;const e=t.toLocaleLowerCase(),n=["fdhead","item"].map((t=>{const n=d.cX.getQueryParameterByName(t,e);return n?`${t}=${encodeURIComponent(n)}`:null})).filter((t=>t));this.clientSettings.forwardablequeryparams=n.join("&")}initializeLastUsedActivityId(){const t=this.lastUsedActivityId,e=this.clientSettings.aid,n=(0,w.Z)(this.clientSettings.pageGenTime).getTime();this.newRidNeeded=!(!t||!n||t.id!==e);const i="edgeChromium"!==this.clientSettings.apptype||window.ssrExtensionLoaded;n&&(!t||n>t.ts)&&i&&(this.lastUsedActivityId={id:e,ts:n})}setFlights(t){this.CurrentFlights=((/f:\s*([^;]+)/i.exec(t)||{})[1]||"").toLowerCase(),this.currentFlightSet=new Set(this.currentFlights.split(","))}setSweeperStoredHeadData(t,e){if(!t)return;const n=y("sweeper"),i=h.y7.getObject(n)||{};e?i[t]=e:delete i[t],h.y7.setObject(n,i)}setIsBlendedEnterprise(){this.IsBlendedEnterprise=this.clientSettings&&"enterprise"===this.clientSettings.audienceMode&&this.clientSettings.browser&&"edgeChromium"===this.clientSettings.browser.browserType&&parseInt(this.clientSettings.browser.version)>=b.oD}setQueryItemProvidedValues(){const t=d.cX.getParamsWithItems((0,a.zp)(),!0),e=t.find((t=>"cms"===t.key));this.enableCMSPPEConfigs=e&&"ppe"===e.value,this.setCurrentFlightsTestOverride(t)}setCurrentFlightsTestOverride(t){if((0,a.Td)().toLowerCase().includes("localhost")&&t){const e=t.find((t=>"flights"===t.key));e&&(this.currentFlights=e.value,this.currentFlightSet=new Set(this.currentFlights.split(",")))}}setAdsNumberLines(t){this.AdsNumberLines=(/^f:\s*([^;]+)/i.exec(t)||{})[1]||""}getStoredActivityIdKey(){return"sai_"+this.clientSettings.pagetype}logPrefix(){return"HeadData:"+((0,c.N)()?"":` [Head:${this.widgetSettingsElement||this.headElement}] and [Html:${this.htmlElement}]`)}logDocumentVisibility(){(0,c.N)()&&((0,g.GQ)({isVisible:"visible"===document.visibilityState}),document.addEventListener("visibilitychange",(()=>{(0,g.GQ)({isVisible:"visible"===document.visibilityState})})))}maybeUpdateNewTabPageLinkIcon(){var t,e,n;if(null===(t=this.CurrentFlightSet)||void 0===t||!t.has("prg-newntpicon")||"edgeChromium"!==(null===(e=this.clientSettings)||void 0===e?void 0:e.apptype))return;const i="localhost.msn.com"===(0,a.Td)()?"https://assets.msn.com/statics/icons/ntp-favicon.png":"https://assets.msn.com/statics/icons/favicon_newtabpage.png",r=Array.from((null===(n=document)||void 0===n||null===(n=n.head)||void 0===n?void 0:n.getElementsByTagName("link"))||[]).find((t=>t.href===i));r&&(r.href="https://assets.msn.com/staticsb/statics/pr-5433783/edge-favicon/edge_ntp_favicon.png")}}const T=k.getInstance;let $=(0,s.h)(k)},56985:function(t,e,n){n.d(e,{N:function(){return i}});var i,r=n(5884);!function(t){t.getHostPageFromUrl=function(t){if(!t)return;const e=new URL(t),n=e.hostname,i=e.pathname.split("/"),o=(n.match(/[^.]+\.[^.\d]+$/)||{})[0]||"";if(i.length<=r.Qw)return{originalUrl:t,categoryKey:null,verticalKey:null,hostName:n,topDomain:o};const s=5===i[1].length&&2===i[1].split("-").length?1:0,a={originalUrl:t,categoryKey:i[2+s],verticalKey:i[1+s],hostName:n,topDomain:o};return i.length>=r.Qw&&(a.subcategoryKey=i[3+s]),a}}(i||(i={}))},96315:function(t,e,n){var i;n.d(e,{EB:function(){return c},IY:function(){return i},Lk:function(){return r},Nq:function(){return u},O5:function(){return l},SY:function(){return a},UW:function(){return d},X7:function(){return o},Xk:function(){return s},pV:function(){return f}}),function(t){t.BR="pt-br",t.DEDE="de-de",t.ENAU="en-au",t.ENCA="en-ca",t.ENGB="en-gb",t.ENIN="en-in",t.ENUS="en-us",t.ENIE="en-ie",t.ESES="es-es",t.ESMX="es-mx",t.FRCA="fr-ca",t.FRFR="fr-fr",t.ITIT="it-it",t.IN="en-in",t.HUHU="hu-hu",t.KOKR="ko-kr",t.JAJP="ja-jp",t.PLPL="pl-pl",t.PTBR="pt-br",t.RURU="ru-ru",t.RUXL="ru-xl",t.ZHCN="zh-cn"}(i||(i={}));const r="de-de",o="en-us",s="en-in",a="en-xl",c="es-mx",u="ja-jp",l="ko-kr",d="pt-br",f="zh-cn"},90257:function(t,e,n){var i;n.d(e,{I:function(){return i}}),function(t){t.OneColumn="OneColumn",t.TwoColumn="TwoColumn",t.ThreeColumn="ThreeColumn",t.FourColumn="FourColumn",t.FiveColumn="FiveColumn",t.Any="Any"}(i||(i={}))},28123:function(t,e,n){n.d(e,{ML:function(){return L},P8:function(){return T},Pz:function(){return E},TJ:function(){return P},Yc:function(){return _},aS:function(){return F},bD:function(){return H},hk:function(){return I},iG:function(){return A},kD:function(){return W},lT:function(){return $},me:function(){return D},qn:function(){return C},rN:function(){return R},t0:function(){return N},t9:function(){return S},tx:function(){return O},vW:function(){return U},yd:function(){return B}});var i=n(91042),r=n(97205),o=n(47655),s=n(5884),a=n(78018),c=n(85856),u=n(21215),l=n(22680),d=n(76524),f=n(32425),h=n(16715),p=n(32236);const m=(0,o.Qe)()||{};let g=null;const v={winWidgets:1,webWidgets:1,windowsShell:1,windowsShellV2:1,distribution:1,superApp:1,channelmobile:1,edgeMobile:1},w={edgeChromium:1},y={winWidgets:1,webWidgets:1},b={edgeChromium:1,shopping:1,winWidgets:1,webWidgets:1,windowsShell:1,windowsShellV2:1,msn:1},S={edgeChromium:1,channelmobile:1,cgHomePage:1,distribution:1,winWidgets:1,webWidgets:1,windowsShell:1,windowsShellV2:1,superApp:1,edgeMobile:1},x=(0,p.p)((()=>m&&m.apptype)),C=(0,p.p)((()=>(0,u.N)()&&x()in y)),k=(0,p.p)((()=>(0,u.N)()&&!(0,h.pE)()&&!(x()in v)&&!P()&&!M())),T=(0,p.p)((()=>k()&&!(x()in w))),$=((0,p.p)((()=>k()&&(!(x()in w)||!(0,c.mb)()))),(0,p.p)((()=>k()&&!N()&&!L())));function A(){return!!(0,f.AE)(s.Li)}const I=(0,p.p)((()=>L()||N())),P=(0,p.p)((()=>!(x()in b)&&W()&&function(){if("homePage"==x())return!0;const t=new URLSearchParams((0,l.zp)()).get("ocid")||(null==m?void 0:m.ocid),e=null==t?void 0:t.toLowerCase();if(s.Oj.has(e))return!0;return!s.up.has(e)}()&&!function(){const t="homePage"==x()&&"hp"==(m&&m.pagetype)&&(0,l.l4)().includes(`${r.lU}`);return t}()));function _(t){return!t&&(null===g&&(g=!function(){if(!(0,u.N)())return!1;const t=(0,l.l4)();return["vptest=1","reqsrc=vp","vpFreeze=1"].some((e=>null==t?void 0:t.includes(e)))}()),g)}const M=()=>(0,u.N)()&&document&&document.body&&document.body.getElementsByClassName(i.Di).length>0,R=()=>M()&&"bingHomepage"===x(),E=(0,p.p)((()=>x()in S||P()));function F(){const t=(0,a.nh)();if(t)return t;const e=(0,a.Wl)();return e||void 0}function D(t){const e={};return t&&(e[s.Yu.authorization]=`Bearer ${t}`),e}function O(t){const e={};return t&&(e[s.Yu.entAuthorization]=t),e}function N(){return T()&&(0,d.YU)()||U()||(0,d.SY)()||(0,d.jG)()}function U(){return T()&&!z()&&!(0,d.YU)()&&(0,c.x6)()&&("expired"==(0,a.wX)()||(0,d.hU)())}function L(){return T()&&!(0,c.x6)()&&(0,d.KK)()}function B(){(0,c.$v)(),T.cache.clear()}const W=(0,p.p)((()=>{const{browser:t}=m,{browserType:e="",detected:n={}}=t||{},{browserType:i=""}=n||{};return/edgeChromium/i.test(e)||/edgeAndroid/i.test(e)||/edgeiOS/i.test(e)||/edge/i.test(i)}));const H=(0,p.p)((()=>T()&&!P())),z=()=>{const t=(0,c.x6)();if(!t)return!1;let e;switch(t.account_type){case"MSA":e=T()?s.Li:s.m$;break;case"AAD":e=T()?s.yz:s.og;break;default:return!1}return!!(0,f.AE)(e)}},78018:function(t,e,n){n.d(e,{Wl:function(){return c},nh:function(){return f},tx:function(){return d},wX:function(){return u}});var i=n(15598);const r="1s-tokens";var o;let s,a;function c(){return s=l(),s&&s.accessToken?s:void 0}function u(){if(s=l(),!s)return"notAvailable";const t=s.expiresOn,e=new Date(t),n="expired";if(!e.getTime())return n;return e>new Date?"valid":n}function l(){return s=s||void 0===s&&(0,i.$o)().getObject(r)||null,s}function d(t){s=void 0,a=t;const{accessToken:e,expiresOn:n}=t||{};e&&n?(0,i.$o)().setObject(r,{accessToken:e,expiresOn:n}):(0,i.$o)().removeItem(r)}function f(){return a}!function(t){t.NotAvailable="notAvailable",t.Expired="expired",t.Valid="valid"}(o||(o={}))},85856:function(t,e,n){n.d(e,{$v:function(){return l},ac:function(){return a},mb:function(){return u},sM:function(){return s},x6:function(){return c}});var i=n(32425),r=n(32236),o=n(68052);const s="currentaccount",a=365,c=(0,r.p)((()=>{const t=(0,i.AE)(s,!0),e=t&&(0,o.d)(t),{login_hint:n}=e||{};return n&&e})),u=(0,r.p)((()=>!!(0,i.AE)(s)));function l(){u.cache.clear(),c.cache.clear()}},48593:function(t,e,n){n.d(e,{KO:function(){return d},XS:function(){return l},g8:function(){return u}});var i=n(32425),r=n(68052);const o=()=>{const t=(()=>{const t=(0,i.AE)("els",!0),e=t&&(0,r.d)(t);return e&&Object.prototype.hasOwnProperty.call(e,"account_type")&&e})();if(t){if("MSA"===t.account_type)return"MSA";if("AAD"===t.account_type)return"AAD"}};var s=n(25769),a=n(32236),c=n(5884);const u="lt",l=(0,a.p)((()=>{let t,e;return(0,s.vs)()?(t=2,e=(0,s.Yn)()):(0,i.AE)("els")?(e=o(),t=e?2:1):(0,i.AE)(u)||(0,i.AE)("aace")?(e="MSA",t=2):(0,i.AE)(c.og)?(e="AAD",t=2):t=1,{isSignedIn:t,accountType:e}}));function d(){l.cache.clear()}},25769:function(t,e,n){n.d(e,{E1:function(){return c},Rn:function(){return s},Yn:function(){return a},co:function(){return o},vs:function(){return l},yL:function(){return u}});var i=n(32425),r=n(68052);const o="elt",s=()=>{const t=(0,i.AE)(o,!0),e=t&&(0,r.d)(t),{access_token:n,account_type:s,login_hint:a,region_scope:c}=e||{};return(n||s||a||c)&&e},a=()=>{const t=s();if(t){if("MSA"===t.account_type)return"MSA";if("AAD"===t.account_type)return"AAD"}},c=()=>{const t=s();return t&&t.login_hint},u=()=>{const t=s();return t&&t.region_scope},l=()=>!!(0,i.AE)(o)},61494:function(t,e,n){n.d(e,{Nv:function(){return a}});var i=n(52185),r=n(21215);const o="__PageExperimentInstance__";function s(t){i.Gq.set(o,t)}function a(t){if(!i.Gq.has(o)&&(0,r.N)()){var e;s(c(document.head.dataset.info||(null===(e=window.document.getElementsByClassName("peregrine-widget-settings")[0])||void 0===e||null===(e=e.dataset)||void 0===e?void 0:e.info)||""))}const n=i.Gq.get(o);return n&&n.has(t)}function c(t){const e=(t||"").replace(/(^f:|;.*$)/g,"").split(",");return new Set(e)}},46124:function(t,e,n){var i;n.d(e,{A:function(){return a},m:function(){return s}});class r{constructor(){this._signInState=0,this.initOverrides=()=>{}}getSignInState(){return this._signInState}setSignInState(t){this._signInState=t}useEnterpriseCompliance(){return!1}}(i=r)._instance=new i;let o=r._instance;function s(t){if(o!==r._instance||!t)return o;t()}function a(t){o=t}},45949:function(t,e,n){n.d(e,{E:function(){return s},M:function(){return i}});var i,r=n(28123),o=n(32236);!function(t){t.App="app",t.EdgeId="edgeid",t.Web="web"}(i||(i={}));const s=(0,o.p)((()=>(0,r.rN)()||(0,r.P8)()?i.Web:(0,r.TJ)()?i.EdgeId:i.App))},20076:function(t,e,n){n.d(e,{EX:function(){return h},YY:function(){return f},u6:function(){return l}});var i=n(5884),r=n(77137),o=n(58009),s=n(32425),a=n(32236),c=n(68052),u=n(37955);function l(t){const e=t||(0,o.g8)()||"al_app_anon",n=d();return!!(n&&(["anon","al_anon"].includes(e)&&n.AL_ANON||["app_anon","al_app_anon"].includes(e)&&n.AL_APP_ANON))}const d=(0,a.p)((()=>{const t=(0,s.AE)(i.tX,!0);return(0,c.d)(t)}));function f(){(0,u.sq)(i.tX,"",-1,r.jG.HostPage.topDomain,"/"),h()}function h(){d.cache.clear()}},76524:function(t,e,n){n.d(e,{C8:function(){return g},KK:function(){return x},SY:function(){return p},YU:function(){return f},bf:function(){return m},bq:function(){return w},dy:function(){return h},hU:function(){return v},hq:function(){return b},jG:function(){return y},m5:function(){return S},y2:function(){return C}});var i=n(28525),r=n(21215),o=n(61494),s=n(32236);const a="uxlogin",c="uxlogout",u="uxedit",l="useRedirect",d="uxswitch",f=(0,s.p)((()=>{const t=(0,i.U)();return t&&"1"===t.getItem(a)||(0,r.N)()&&location.search&&location.search.includes(`${a}=1`)}));function h(){const t=(0,i.U)();t&&f()&&(t.removeItem(a),f.cache.clear())}const p=(0,s.p)((()=>{const t=(0,i.N)();return t&&!!t.getItem(c)}));function m(){const t=(0,i.N)();t&&p()&&(t.removeItem(c),p.cache.clear())}function g(){const t=(0,i.N)();t&&t.setItem(c,"1"),p.cache.clear()}const v=(0,s.p)((()=>{const t=(0,i.U)();return t&&"1"===t.getItem(u)}));function w(){const t=(0,i.U)();t&&v()&&(t.removeItem(u),v.cache.clear())}const y=(0,s.p)((()=>{const t=(0,i.U)();return!(0,o.Nv)("prg-noredirect")&&t&&"1"===t.getItem(l)&&function(){const{browser:t}=window._clientSettings||{},{browserType:e=""}=t||{};return!!/safari/i.test(e)}()}));function b(){const t=(0,i.U)();t&&"1"===t.getItem(l)&&(t.removeItem(l),y.cache.clear())}function S(){const t=(0,i.U)();t&&t.setItem(l,"1"),y.cache.clear()}const x=(0,s.p)((()=>{const t=(0,i.U)();return t&&"1"===t.getItem(d)}));function C(){const t=(0,i.U)();t&&x()&&(t.removeItem(d),x.cache.clear())}},33294:function(t,e,n){n.d(e,{DA:function(){return m},GW:function(){return u},In:function(){return p},bN:function(){return c},dJ:function(){return h},pB:function(){return f},y1:function(){return d}});var i=n(33779),r=n(5302),o=n(15598);const s="digital-id-cache";let a;const c={getItem:t=>(0,o.$o)().getItem(t),setItem:(t,e)=>{(0,o.$o)().setItem(t,e)},removeItem:t=>{(0,o.$o)().removeItem(t)}},u=t=>({getItem:async e=>await t.getItem(e),setItem:async(e,n)=>await t.setItem(e,n),removeItem:t.removeItem?async e=>await t.removeItem(e):void 0}),l=new Map,d=u({getItem:async t=>Promise.resolve(l.get(t)||null),setItem:async(t,e)=>(l.set(t,e),Promise.resolve()),removeItem:async t=>(l.delete(t),Promise.resolve())});function f(){const t=v(arguments.length>0&&void 0!==arguments[0]?arguments[0]:c);return t&&Object.keys(t).length>0&&t.at?t:void 0}async function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const e=await w(t);return e&&Object.keys(e).length>0&&e.at?e:void 0}function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;try{const n=g(t,v(e));e.setItem(s,JSON.stringify(n)),a=void 0}catch(t){(0,i.H)(r.Lwi,"Error updating digital ID cache",t.message)}}async function m(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;try{const n=g(t,await w(e));await e.setItem(s,JSON.stringify(n)),a=void 0}catch(t){(0,i.H)(r.Lwi,"Error updating async digital ID cache",t.message)}}function g(t,e){var n;const i={...e,...t,lastUpdated:(new Date).toISOString()};return null===(n={NA:["anid","wid"],MSA:["wid"],AAD:["anid"]}[t.at])||void 0===n||n.forEach((t=>delete i[t])),i}function v(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;if(void 0!==a)return a;try{const e=t.getItem(s);a=e?JSON.parse(e):null}catch(t){(0,i.H)(r.pdr,"Error reading digital ID cache",t.message),a=null}return a}async function w(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;if(void 0!==a)return a;try{const e=await t.getItem(s);a=e?JSON.parse(e):null}catch(t){(0,i.H)(r.pdr,"Error reading async digital ID cache",t.message),a=null}return a}},90830:function(t,e,n){n.d(e,{eS:function(){return f},m7:function(){return d},t:function(){return h}});var i=n(33779),r=n(5302),o=n(52185),s=n(81489),a=n(45970),c=n(28123);const u=Symbol("__DigitalIdSubscription__"),l=Symbol("__DigitalIdSubscriptionEvents__"),d=o.Gq.get(l,(()=>({DigitalIdUpdate:"DigitalIdUpdate"}))),f=(0,s.h)({getInstance:()=>o.Gq.get(u,(()=>new a.X))}),h=t=>{if(!(0,c.Yc)()||!t)return;const e="string"==typeof t?function(t){if(!t||"string"!=typeof t)return;const e=new Set(["muid","anid","wid","at","it","picassoId"]),n=t.split(";").map((t=>t.trim())),i={};for(const t of n){const[n,r]=t.split("="),o=null==n?void 0:n.trim(),s=null==r?void 0:r.trim();o&&s&&e.has(o)&&(i[o]=s)}if(i.at)return i}(t):t;e&&0!==Object.keys(e).length?(e.at||(0,i.H)(r.PA8,"No account type in digital ID payload"),f.publish(d.DigitalIdUpdate,e)):(0,i.H)(r.FlO,"No digital ID payload")}},5884:function(t,e,n){n.d(e,{AU:function(){return d},Cd:function(){return U},Cw:function(){return x},DB:function(){return h},Eo:function(){return D},FP:function(){return H},IX:function(){return a},Ib:function(){return N},It:function(){return R},Ji:function(){return w},Kj:function(){return O},Kz:function(){return m},Li:function(){return b},Nf:function(){return g},Oj:function(){return W},Qw:function(){return v},X8:function(){return f},Xs:function(){return i},Yu:function(){return I},cp:function(){return c},cs:function(){return S},go:function(){return o},js:function(){return l},m$:function(){return y},nM:function(){return C},nr:function(){return s},og:function(){return $},rD:function(){return P},tX:function(){return k},uD:function(){return L},um:function(){return u},up:function(){return B},uw:function(){return p},wG:function(){return A},x$:function(){return r},yz:function(){return T}});const i="msnewsroot",r={html:"html",head:"head",body:"body"},o="data-canvas-info",s="data-client-settings",a="data-diagnostics",c="dir",u="data-info",l="data-js",d="data-pagetype",f="data-service-url",h="data-telemetry-id",p="data-page-product",m="data-page-type",g="data-ads-numberline",v=2,w="APP_ANON",y="aace",b="ace",S="OSATE",x="OSAT",C="child",k="AL_STATE",T="WID",$="APP_WID",A="search-history-enabled",I={activityId:"x-client-activityid",adsReferer:"ads-referer",authorization:"Authorization",entAuthorization:"Ent-Authorization",muid:"MUID",rpsToken:"UserAuthToken",taboolaSessionId:"taboola-sessionId",xboxToken:"s-xbox-token",traceParent:"traceparent",uniFeatTun:"OneSvc-Uni-Feat-Tun"},P={traceId:"ddd-activityid",debugId:"ddd-debugid",afdRefStr:"x-msedge-ref",userType:"ddd-usertype",isStatic:"X-Statics-Fallback",authFeatures:"ddd-auth-features",akamai_cache_status:"akamai-cache-status",akamai_grn:"akamai-grn",akamai_request_bc:"akamai-request-bc",akamai_request_id:"akamai-request-id",akamai_server_ip:"akamai-server-ip",digitalId:"X-1S-Digital-ID"};var _,M;!function(t){t.Presentation="presentation"}(_||(_={})),function(t){t.Unknown="Unknown",t.Portrait="Portrait",t.Landscape="Landscape"}(M||(M={}));const R={pageVersions:"pageVersions"},E={instanceId:"InterestsWC",configRef:{experienceType:"InterestsWC",instanceSrc:"default"}},F={instanceId:"InterestsWC",configRef:{experienceType:"InterestsWC",instanceSrc:"default",sharedNs:"msn-ns"}},D=t=>{let e;switch(t){case"default":e=E;break;case"shared":e=F;break;default:e=void 0}return e},O="switchedPivot",N="pivotSelectionSource";var U,L;!function(t){t[t.Undefined=0]="Undefined",t[t.Basic=1]="Basic",t[t.Advanced=2]="Advanced",t[t.Premium=3]="Premium"}(U||(U={})),function(t){t.Init="init",t.Config="config",t.Targeted="targeted",t.Sticky="sticky",t.NoSticky="no_sticky",t.Admin="admin",t.Forced="forced",t.Manual="manual"}(L||(L={}));const B=new Set(["finance-app-win","weather-app-win","winpstoreapp"]),W=new Set(["hpmsn"]),H=new Set(["chromentpnews"])},24032:function(t,e,n){n.d(e,{L:function(){return o}});var i=n(21215);let r;function o(){var t,e;if(!(0,i.N)())return new URLSearchParams(null===(t=window)||void 0===t?void 0:t.location.search);r||(r=new URLSearchParams(null===(e=window)||void 0===e?void 0:e.location.search));return r}},24417:function(t,e,n){function i(t){return new Promise((e=>setTimeout(e,t)))}n.d(e,{qn:function(){return r},rh:function(){return i}});const r=async(t,e,n)=>{if(!e||isNaN(t))return;if(!t&&0!==t||t<0||t===1/0)return await e;const i=(t=>{let e,n=()=>{},i=()=>!1;const r=new Promise(((r,o)=>{n=()=>{e&&(clearTimeout(e),e=null,o())},i=()=>null!==e,e=setTimeout((()=>{e=null,r()}),t)}));return{cancel:n,isActive:i,promise:r}})(t),r=await Promise.race([e,i.promise]);return i.isActive()?i.cancel():n&&n(),r}},92421:function(t,e,n){n.d(e,{Sm:function(){return y},br:function(){return S},cb:function(){return b}});var i=n(16415);function r(t){const e=(0,i.sL)();return function(n,i){if(i||(i={}),!o(i,"Referer")){const t="string"==typeof n?n:n.url;!function(t,e,n,i){const r=(a[i]||a[s])(t,e);if(delete n.referrerPolicy,!r)return;n.headers=n.headers||{},n.headers.Referer=r}(e.url,t,i,i.referrerPolicy)}return o(i,"User-Agent")||function(t,e){t.headers=t.headers||{},t.headers["User-Agent"]=`${e} (via node-fetch)`}(i,e.userAgent),t(n,i)}}function o(t,e){return t.headers&&void 0!==t.headers[e]}const s="strict-origin-when-cross-origin",a={"no-referrer":(t,e)=>{},"no-referrer-when-downgrade":(t,e)=>c(t,e)?void 0:t.href,origin:(t,e)=>t.origin+"/","origin-when-cross-origin":(t,e)=>u(t,e)?t.href:t.origin+"/","same-origin":(t,e)=>u(t,e)?t.href:void 0,"strict-origin":(t,e)=>c(t,e)?void 0:t.origin+"/","strict-origin-when-cross-origin":(t,e)=>u(t,e)?t.href:a["strict-origin"](t,e),"unsafe-url":(t,e)=>t.href};function c(t,e){return"https:"===t.protocol&&e.startsWith("http:")}function u(t,e){return e.startsWith(t.origin+"/")}n(73040),n(91898);var l=n(52185),d=n(21215);class f{constructor(){this.cacheMap=new Map}async has(t){return!!this.cacheMap[t]}async get(t){return this.cacheMap[t]}async set(t,e,n){return this.cacheMap[t]=e,!0}async mSet(t,e){return Object.keys(t).forEach((e=>{this.cacheMap[e]=t[e]})),!0}async del(t){delete this.cacheMap[t]}async itemCount(){return Object.keys(this.cacheMap).length}async reset(){this.cacheMap=new Map}}const h="__ServerCacheUpdateMap__";let p,m;const g=(0,d.N)()?null:{emitUpdate:async function(){if(!l.Gq.has(h))return;const t=l.Gq.get(h),e=[];return t.forEach(((t,n)=>{const i=m.mSet(t,n).then((()=>{const t=l.Gq.get(h);t&&t.delete(n)}));e.push(i)})),Promise.all(e)},initialize:function(t){m=t,p=arguments.length>1&&void 0!==arguments[1]&&arguments[1]},reset:async function(){await m.reset()},set:async function(t,e,n){if(p)return function(t,e,n){const i=l.Gq.get(h,(()=>new Map)),r=i.get(n);i.set(n,{...r,[t]:e})}(t,e,n);await m.set(t,e,n)},get:async function(t){return await m.get(t)},has:async function(t){return await m.has(t)},del:async function(t){return await m.del(t)},itemCount:async function(){return await m.itemCount()}};n.g.TEST_ENV&&!(0,d.N)()&&g.initialize(new f);n(28951),n(42122),n(7677);let v;class w{constructor(){"undefined"!=typeof AbortController&&(this.controller=new AbortController)}abort(){return!!this.controller&&(this.controller.abort(),!0)}setAbortSignal(t){this.controller&&(t.signal=this.controller.signal)}}async function y(t,e,n,i,r,o){r||(r=fetch);const s=()=>async function(t,e,n,i,r,o){r||(r=fetch),i||(i=new w),o=!1;let s=null,a=null;void 0===e?e=v:v>0&&(e=Math.min(e,v)),e>0&&(s=1e4,s=setTimeout((()=>{a=setTimeout((()=>{if(!i.abort())throw new Error(`Fetch for ${t} aborted due to timeout of ${e} ms. AbortController is not supported.`)}),0)}),e)),n||(n={method:"GET"}),n.signal||i.setAbortSignal(n),performance.now();let c,u=0;const l={};let d;const f=()=>{s&&clearTimeout(s),a&&clearTimeout(a)};return r(t,n).then((t=>{var e,n;return u=t.status,d=null===(e=t.headers)||void 0===e?void 0:e.get("onewebservicelatency"),o&&(l.cluster=t.headers.get("x-fabric-cluster")||(null===(n=t.headers.get("ddd-debugid"))||void 0===n||null===(n=n.split("|"))||void 0===n?void 0:n[3]),l.afd=t.headers.get("x-msedge-ref"),l.dddDebugId=t.headers.get("ddd-debugid"),l.wpoId=t.headers.get("x-wpo-activityid")),t})).catch((n=>{if(c=n,"AbortError"===n.name)throw new Error(`Fetch for ${t} aborted due to timeout of ${e} ms.`);throw new Error(n)})).then((t=>(f(),t)),(t=>{throw f(),t}))}(t,e,n,i,r,o);return s()}function b(){return{abortToken:null,timeoutMs:900,fetchImpl:r(fetch)}}async function S(t,e,n){return n||(n=b()),y(t,n.timeoutMs,e,n.abortToken,n.fetchImpl,n.trackApiClusterInServer)}},32425:function(t,e,n){n.d(e,{AE:function(){return o},lI:function(){return s}});var i=n(21298);let r;function o(t,e){if(!t)return null;if(e)return s(t);if(!r){const t="undefined"!=typeof document&&document.cookie.split("; ");r={};const e=t&&t.length;for(let n=0;n<e;n++){const e=t[n].indexOf("=");r[t[n].slice(0,e).toLocaleLowerCase()]=(0,i.fB)(t[n].slice(e+1))}}const n=t.toLocaleLowerCase();return r[n]||null}function s(t){var e;const n=null===(e=document.cookie)||void 0===e?void 0:e.match(`\\b${t}=([^;]*)`);return n?(0,i.fB)(n[1]):null}},78288:function(t,e,n){n.d(e,{dI:function(){return o},mv:function(){return a},q6:function(){return s}});var i=n(59465),r=n(16715);const o="prg-ctbr-t1";function s(){return"localhost.msn.com"===window.location.hostname||(0,i.vD)()}function a(){return s()&&(0,i.nH)()||(0,r.P4)()||(0,r.OO)()}},77775:function(t,e,n){n.d(e,{m:function(){return o}});var i=n(13218),r=n(77137);function o(){const t=i.Al&&i.Al.Diagnostics||{},e=i.Al&&i.Al.ClientSettings,{mc:n={}}=t||{},{pageGenTime:o="",geo_citycf:s="",geo_countrycf:a="",requestTrailInfo:c,detection:u}=e||{},{cdn:l=""}=c||{},d={refs:{refA:r.jG.ActivityIdLowerCaseNoHypens||"",refC:o},cookies:n,geoConfidence:{cityConfidence:s,countryConfidence:a},langMismatch:r.jG.MarketMismatchDetail,cdn:l};return JSON.stringify(d)}},54076:function(t,e,n){n.d(e,{L:function(){return i}});const i=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},59942:function(t,e,n){n.d(e,{Xw:function(){return u},Z3:function(){return d},h_:function(){return f},nF:function(){return h},rP:function(){return l}});var i=n(97205),r=n(28951),o=n(77137),s=n(22680);const a="{hostName}",c=/\{localeCode\}|\{0\}/;function u(t,e){const n=r.cX.encodeURIComponentForPrime(e).toLowerCase(),{HostPage:i}=o.jG;if(i){const e=new URL(i.originalUrl);return e.origin+"/"+i.verticalKey+"/"+i.categoryKey+"/interests/"+n+"/"+o.jG.CurrentMarket+"/f-"+t+e.search}return"https://www.msn.com"}function l(){return`${o.jG.NavTargetUrlWithLocale}/${i.lU}`}function d(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.UH;return`${o.jG.NavTargetUrlWithLocale}/${t}`}function f(t){return t&&(t=t.replace(a,o.jG.NavTargetHostName).replace(c,o.jG.CurrentMarket)),t||""}function h(t){if(!t)return;const{Environment:e,EnvInstanceOverride:n}=o.jG;n===e&&(t.host=(0,s.zw)(),t.searchParams.set("instance",n))}},28525:function(t,e,n){function i(){try{return localStorage}catch(t){return null}}function r(){try{return sessionStorage}catch(t){return null}}n.d(e,{N:function(){return r},U:function(){return i}})},16715:function(t,e,n){n.d(e,{E4:function(){return _},H2:function(){return P},Ko:function(){return U},OO:function(){return T},P4:function(){return A},RG:function(){return I},Rz:function(){return M},aH:function(){return z},b5:function(){return E},ce:function(){return O},eh:function(){return W},lI:function(){return H},nT:function(){return $},pE:function(){return V},s_:function(){return L},tr:function(){return k},tu:function(){return D},wq:function(){return F},xc:function(){return B},yE:function(){return R}});var i=n(52185),r=n(21215),o=n(32236);const s="OnOOutlookMobile",a="OnOStartApp",c="emmxFre",u="xmweather-",l="launcherntp",d="launcherInterests",f="swiftKey",h="superappdhp",p="cp_msn_cmc",m="oppowx",g="_ocidIsomorphicKey",v=()=>(i.Gq.get(g)||i.Gq.set(g,j("ocid").toLowerCase()),i.Gq.get(g)),w="_platformFlagKey",y="_hostAppNameKey",b="_clientTypeKey",S=()=>(i.Gq.get(w)||i.Gq.set(w,j("chpltfm")),i.Gq.get(w)),x=()=>{if(!i.Gq.get(y)){const t=S();i.Gq.set(y,t.toLowerCase().split("-")[0])}return i.Gq.get(y)},C=()=>{if(!i.Gq.get(b)){const t=S();i.Gq.set(b,t.toLowerCase().split("-")[1])}return i.Gq.get(b)};function k(){if(!(0,r.N)()||B())return!1;const t=window.sapphireWebViewBridge,e=window.webkit,n=t&&t.send,i=e&&e.messageHandlers&&e.messageHandlers.send&&e.messageHandlers.send.postMessage;return!(!n&&!i)}function T(){return!!(0,r.N)()&&v()===p}function $(){return!!(0,r.N)()&&(v()===p&&"true"===j("hasBridge"))}function A(){return window&&!!window._isCopilotBridge||"copilot"===j("MBApp")}function I(){var t;return"localhost.msn.com"===(null===(t=window.location)||void 0===t?void 0:t.hostname)}function P(){const t=S()&&"outlook"===x()&&["ios","android","ipados"].includes(C()),e=v()===s.toLowerCase();return t||e}function _(){return v()===m}function M(){return P()}function R(){return"true"===j("is2ndWV")}function E(){return v()===c.toLowerCase()}function F(){return!(!(0,r.N)()||B())&&(k()||v()===a.toLowerCase()||v()===h.toLowerCase())}function D(){return"mmx"===v()}function O(){const t=j("edge");return("emmx"===x()||"1"===t)&&F()||D()}function N(){return"3rdp"===x()||v().startsWith(u)||B()}function U(){return"vivo"===v()&&N()}function L(){return[l.toLowerCase(),d.toLowerCase()].includes(v())&&F()}function B(){return v().toLowerCase()===f.toLowerCase()||"swiftkey"==x().toLowerCase()}function W(){var t;if(!(0,r.N)())return!1;if("bingHomepageMobile"===(null===(t=window._clientSettings)||void 0===t?void 0:t.pagetype))return!0;{var e;const t=null===(e=document.getElementsByClassName("peregrine-widget-settings")[0])||void 0===e?void 0:e.getAttribute("data-client-settings");if(t){const e=JSON.parse(t);return e&&e.pagetype&&"bingHomepageMobile"===e.pagetype}return!1}}function H(){return-1!==window.location.href.indexOf("metaos=true")}function z(){return F()&&!("emmxinterests"===v())&&!(v()===d.toLowerCase())&&!N()&&!O()}const V=(0,o.p)((()=>k()||P()||F()||v()==="weather-app-win".toLowerCase()||v()==="finance-app-win".toLowerCase()||O()||N()||L()||B()||H()||A()||$()));function j(t){try{return new URL(location.href).searchParams.get(t)||""}catch(t){return""}}},59465:function(t,e,n){n.d(e,{Q7:function(){return u},nH:function(){return c},pf:function(){return i},vD:function(){return l}});var i,r=n(77137),o=n(13218),s=n(5232),a=n(22680);function c(){var t;const e="msnStudio"===(0,r.Yq)().AppType&&(0,a.l4)().includes("uxmode=ruby");return"ruby"===(null===o.Al||void 0===o.Al||null===(t=o.Al.ClientSettings)||void 0===t||null===(t=t.modes)||void 0===t?void 0:t.uxMode)||e}function u(){var t;return"ruby"===(null===o.Al||void 0===o.Al||null===(t=o.Al.ClientSettings)||void 0===t||null===(t=t.bundleInfo)||void 0===t?void 0:t.variant)}function l(){return c()||(0,s.aw)()||u()}!function(t){t.isDhpPage=function(){return"dhp"===o.Al.ClientSettings.pagetype},t.isNtpPage=function(){return"ntp"===o.Al.ClientSettings.pagetype},t.fiveColSupported=function(){return r.jG.EnableFiveColLayout}}(i||(i={}))},21298:function(t,e,n){function i(t,e){const n=parseInt(t);return isNaN(n)?e:n}function r(t){try{return decodeURIComponent(t)}catch(t){}}n.d(e,{fB:function(){return r},hh:function(){return i}})},45970:function(t,e,n){n.d(e,{X:function(){return i}});class i{constructor(t){this.onSubscriptionCallbackError=t,this.eventLookup={}}publish(t,e){let n=this.eventLookup[t];if(void 0!==n){n=n.slice();let i=n.length;for(;i-- >0;)try{n[i](e)}catch(n){this.onSubscriptionCallbackError&&this.onSubscriptionCallbackError(n,t,i,e)}}}subscribe(t,e){void 0===this.eventLookup[t]&&(this.eventLookup[t]=[]);const n=this.eventLookup[t];return n.push(e),{dispose(){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}}subscribeOnce(t,e){const n=this.subscribe(t,(function(t){n.dispose(),e(t)}));return n}}},12812:function(t,e,n){n.d(e,{Z:function(){return o}});n(21215);var i=n(15598);let r={};function o(t){t=t||{},(async()=>{const{newUrl:e,invalidatePageCache:n=!0}=t;if(n){const{invalidatePageCacheHandler:t}=r;if(t){const e=t();e&&e.then&&await e}}e?((0,i.$o)().setItem("reloadPage","refreshPagewithNewUrl"),window.location.replace(e)):((0,i.$o)().setItem("reloadPage","refreshPageNoNewUrl"),window.location.reload(n))})()}},79678:function(t,e,n){n.d(e,{C:function(){return i}});const i=t=>"function"==typeof window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,0)},55447:function(t,e,n){n.d(e,{$z:function(){return f},NJ:function(){return p},SD:function(){return d},cf:function(){return h},kJ:function(){return m},ll:function(){return g},nl:function(){return v}});var i=n(5884),r=n(15598),o=n(21215),s=n(24032),a=n(13218),c=n(77137);const u="ntp.selected_feed_pivot",l="selectedPivot";function d(){h("myFeed")}function f(){var t,e;let n=null===a.Al||void 0===a.Al?void 0:a.Al.SelectedFeedPivot;const i=(0,s.L)().get("selectedNavItemMock");if(i&&(n=i),(0,o.N)()){const t=(0,r.$o)().getItem(l);n&&t!==n?h(n):n=t}const u=null===(t=n)||void 0===t?void 0:t.toLowerCase();return["myfeed","productivityhub","iframe.office","stripe.myfeed"].includes(u)||(n="myFeed",h(n)),null!==(e=(0,c.Yq)())&&void 0!==e&&e.IsChinaCompliance&&"productivityhub"==u&&(n="myFeed",h(n)),n}function h(t){if(m(t),(0,o.N)()){const e="undefined"!=typeof window&&window&&window.chrome&&window.chrome.ntpSettingsPrivate;e&&e.setPref&&e.setPref(u,t)}a.Al.SelectedFeedPivot=t,(0,r.$o)().setItem(l,t)}function p(){return(0,r.$o)().getItem(i.Kj)}function m(t){(0,r.$o)().setItem(i.Kj,t)}function g(){return(0,r.$o)().getItem(i.Ib)??i.uD.Init}function v(t){(0,r.$o)().setItem(i.Ib,t)}},42833:function(t,e,n){n.d(e,{o:function(){return i}});class i{constructor(t){this.promise=new Promise(((t,e)=>{this.resolver=t,this.reject=e})),t&&setTimeout((()=>this.set(void 0)),t)}set(t){this.resolver(t),this.valueSet=!0}setError(t){this.reject(t)}wasSet(){return this.valueSet}getResultAsync(){return this.promise}}},18875:function(t,e,n){n.d(e,{U:function(){return r}});const i=[];function r(t){i.push(t)}},79070:function(t,e,n){n.d(e,{v:function(){return c}});var i=n(33779),r=n(5302),o=n(21215),s=n(22680),a=n(24417);async function c(t){if(!(0,o.N)())return;const{src:e,id:n,async:c=!0,container:l=document.head,loadMode:d="skipIfExists",retryNumber:f=0,retryDelayMs:h=0}=t;if("skipIfExists"==d&&(u.has(n)||Boolean(document.getElementById(n))))return u.get(n);try{const t=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;if(e<=1)return t();let i,r=1;do{try{i=await t()}catch(t){if(r===e)throw t&&t.message&&(t.message=`${t.message} after ${r} attempts`),t;await(0,a.rh)(n)}}while(!i&&++r<=e);return i}((()=>function(t,e,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise(((r,o)=>{const a=(0,s.b0)(t,e,i,void 0,void 0,(()=>r(!0)));a.crossOrigin=void 0,a.onerror=o,n.append(a)}))}(e,n,l,c)),f,h);u.set(n,t),await t}catch(t){var p;throw(0,i.OO)(t,r.Sp0,"Failed to download Static JS",void 0,{scriptId:n,scriptSrc:e}),null===(p=document.getElementById(n))||void 0===p||p.remove(),t}finally{u.delete(n)}}const u=new Map},41780:function(t,e,n){n.d(e,{x:function(){return r}});var i=n(2605);function r(){return(0,i.Qb)(...arguments).class||""}},5232:function(t,e,n){n.d(e,{GI:function(){return d},Qc:function(){return u},aw:function(){return f},cM:function(){return l},ku:function(){return a},w_:function(){return c}});var i=n(56121),r=n(44132),o=n(77137),s=n(5884);function a(){var t;if(!r.M0)return;const e=null===(t=r.M0.getPageMetadata)||void 0===t?void 0:t.call(r.M0);return e&&e.contract&&e.contract.page?e.contract.page.ocid:void 0}function c(t){if("windowsShell"===o.jG.AppType||"windowsShellV2"===o.jG.AppType)return u(t);const e=a(),n=t.toLowerCase();if(!e||-1!=n.indexOf("?ocid=")||-1!=n.indexOf("&ocid="))return t;const i=-1==t.indexOf("?")?"?":"&";return`${t}${i}ocid=${encodeURIComponent(e)}`}function u(t){if(!t)return t;try{const e=new URL(t),n=e.searchParams;return a()&&n.set("ocid",a()),n.set("cvid",r.M0.getRequestId()),e.toString()}catch{return t}}function l(t){try{const e=new URL(t),n=a();n&&e.searchParams.set("ocid",n);const i=function(){var t;if(r.M0)return null===(t=r.M0.getRequestId)||void 0===t?void 0:t.call(r.M0)}();i&&e.searchParams.set("cvid",i);const s=null===o.jG||void 0===o.jG?void 0:o.jG.UxMode;s&&e.searchParams.set(r.G3,s);const c=r.M0.getCurrentEventIndex()+1;return c&&e.searchParams.set("ei",c.toString()),e.toString()}catch(e){return t}}function d(t){if(!t)return null;const e={...t};return e[s.Yu.entAuthorization]&&(e[s.Yu.entAuthorization]="*****"),e[s.Yu.rpsToken]&&(e[s.Yu.rpsToken]="*****"),e[s.Yu.authorization]&&(e[s.Yu.authorization]="*****"),e}function f(){const t=a();return!!t&&i.et.includes(t.toLowerCase())}},42167:function(t,e,n){n.d(e,{Kb:function(){return r}});setTimeout;let i=setTimeout;async function r(t){return new Promise(((e,n)=>{i(e,t)}))}},7733:function(t,e,n){n.d(e,{h:function(){return i}});class i{constructor(t){this.searchParams=Object.create(null),this.parseQueryString(t)}set(t,e){return null!=e&&(this.searchParams[t]=e),this}get(t){return this.searchParams[t]}getAllSearchParams(){return this.searchParams}delete(t){delete this.searchParams[t]}toString(){const t=Object.keys(this.searchParams);return t.length?t.sort().map((t=>`${t}=${this.searchParams[t]}`)).join("&"):""}parseQueryString(t){if(!t)return;const e=t.indexOf("?");e>-1&&(t=t.substring(e+1)),t.split("&").forEach((t=>{const e=t.split("="),n=e[0];this.get(n)||(this.searchParams[n]=e[1])}))}}},28951:function(t,e,n){n.d(e,{Kk:function(){return p},cX:function(){return i},e_:function(){return m}});var i,r=n(55025),o=n(79022),s=n(54433),a=n(92170),c=n(13578),u=n(50769),l=n(37242),d=n(42122),f=n(7677),h=n(22680);function p(t,e){try{const n=new URL(t,(0,h.Dp)());return e&&e.forEach((t=>{let[e,i]=t;return e&&null!=i&&n.searchParams.append(e,i)})),n}catch(t){d.k.logError((0,f.n)(t))}}function m(t){if(!t)return;const e=new URLSearchParams(window.location.search),n=new URL(t);if(function(){const t=window.location.href;return null!==i.getQueryParameterByName("disti",t)}()){const t=e.get("ocid");if(t){const e=new URLSearchParams(n.search);e.set("ocid",t),n.search=`?${e.toString()}`}}const r=e.getAll("item");return r&&r.length?(r.forEach((t=>{const e=n.search?"&":"?";-1===n.search.indexOf(t)&&(n.search+=`${e}item=${t}`)})),n.toString()):n.toString()}!function(t){const e=/[^A-Za-z0-9]+/g;function n(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(0,o.Z)(t))return null;return d((t||"").split("?")[1],e)}function i(t){return t=t.replace(/\+/g," "),t=decodeURIComponent(t)}function d(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[];if(t&&t.startsWith("?")&&(t=t.substring(1)),t){const r=(t=t.split("#")[0]).split("&");for(let t=0;t<r.length;t++){const o=r[t].split("=");let a=o[0],c=o[1];e&&(a=i(a),c&&(c=i(c)));const u={key:a,value:c},l=(0,s.Z)(n,(t=>t.key===u.key));-1===l?n.push(u):n[l]=u}}return n}t.getParamsFromUrl=n,t.encodeURIComponentForPrime=function(t){return encodeURIComponent(t.replace(e,"-"))},t.getParams=d,t.getParamsWithItems=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"item";const r=[];if(t){t.startsWith("?")&&(t=t.substring(1));const o=(t=t.split("#")[0]).split("&");for(let t=0;t<o.length;t++){const s=o[t].split("=");let a=s[0],c=s[1];if(e&&(a=i(a),c&&(c=i(c))),a.toLowerCase()===n){c=c.replace("::::",";;;;");const t=c.split(":");if(2===t.length){a=t[0],c=t[1].replace(";;;;","::::");const e={key:a,value:c};-1===r.findIndex((t=>t.key===e.key))&&r.push(e)}}}}return r};const f={};function p(t){const e={},i=n(t,!0);return i&&i.length&&i.forEach((t=>e[t.key]=t.value)),e}t.getQueryParameterByName=function(t,e){f[e]||(f[e]=p(e));const n=f[e][t];return void 0!==n?n:null},t.isValidUrl=function(t,e){return(0,o.Z)(t)&&t.length>0&&(!e||e&&0===t.indexOf("http"))},t.keyValueArrayToQueryString=function(t){return!(0,a.Z)(t)||(0,c.Z)(t)?"":t.filter((t=>r.b.isKeyValuePair(t,(t=>"string"==typeof t),(t=>"string"==typeof t)))).map((t=>t.key+"="+t.value)).join("&")},t.getParamsObj=p,t.joinSubpathToURL=function(t,e){const n=t.href,i=(0,u.Z)(n,"/"),r=(0,l.Z)(e,"/");return new URL(`${i}/${r}`)},t.updateSearchParam=function(t,e,n){return t&&t.searchParams&&t.searchParams.get(e)&&t.searchParams.set(e,n),t},t.appendSearchParam=function(t,e,n,i){return t&&(t.searchParams||i?t.searchParams.append(e,n):t=new URL(t.href+(t.search.indexOf("?")>=0?"&":"?")+e+"="+n)),t},t.getAbsoluteUrl=function(t){return t.indexOf("://")>0||0===t.indexOf("//")?t:(0,h.Dp)()+t};const m=new Set(["/","$","^","+",".","(",")","=","!","|"]);t.urlPatternToRegExp=function(t){if(0==t.indexOf("/")&&t.lastIndexOf("/")>0){const e=t.slice(1,t.lastIndexOf("/")),n=t.substring(t.lastIndexOf("/")+1)||void 0;return new RegExp(e,n)}return function(t){const e=["^"];let n;for(let i=0;i<t.length;++i){const r=t[i];if(m.has(r))e.push("\\"+r);else if("*"!==r)switch(r){case"?":e.push(".");break;case"{":n=!0,e.push("(");break;case"}":n=!1,e.push(")");break;case",":if(n){e.push("|");break}e.push("\\"+r);break;default:e.push(r)}else{const n=t[i-1];let r=1;for(;"*"===t[i+1];)r++,i++;const o=t[i+1];!(r>1)||"/"!==n&&void 0!==n||"/"!==o&&void 0!==o?e.push("([^/]*)"):(e.push("((?:[^/]*(?:/|$))*)"),i++)}}return e.push("$"),new RegExp(e.join(""))}(t)},t.compareURLs=function(t,e){try{const n=new URL(t),i=new URL(e),r=n.searchParams,o=i.searchParams,s=[],a=[],c=[];return r.forEach(((t,e)=>{o.has(e)?o.get(e)!==r.get(e)&&c.push(e):a.push(e)})),o.forEach(((t,e)=>{r.has(e)||s.push(e)})),{hostMismatch:n.hostname!==i.hostname,pathMismatch:n.pathname!==i.pathname,paramsMissingLeft:s.join(","),paramsMissingRight:a.join(","),paramsDiff:c.join(",")}}catch(t){return{}}}}(i||(i={}))},55025:function(t,e,n){n.d(e,{b:function(){return i}});var i,r=n(79022),o=n(43698);!function(t){function e(t){return null!=t}t.isNotNullOrUndefined=e,t.isDefined=function(t){return void 0!==t},t.isKeyValuePair=function(e,n,i){return t.isNonNullObject(e)&&n(e.key)&&i(e.value)},t.isNonNullObject=function(t){return t&&"object"==typeof t},t.isNotNull=function(t){return null!==t},t.isNullOrWhiteSpace=function(t){return!(0,r.Z)(t)||""===t.trim()},t.toNumber=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(!t)return e;const n=(0,o.Z)(t);return isNaN(n)?e:n},t.arrayHasData=function(t){return!!e(t)&&(t.constructor===Array&&t.length>0)},t.stringHasData=function(t){return(0,r.Z)(t)&&t.trim().length>0},t.objectToString=function t(e){let n="",i=!0;if("object"!=typeof e)return n;for(const r in e)"object"==typeof e[r]?n+=i?`${t(e[r])}`:`-${t(e[r])}`:n+=i?`${e[r]}`:`-${e[r]}`,i=!1;return n},t.removeHyphens=function(t){if(t)return t.replace(/-/g,"")}}(i||(i={}))},82588:function(t,e,n){n.d(e,{Fr:function(){return m},R0:function(){return l},mS:function(){return v},ot:function(){return g},rh:function(){return w},yb:function(){return u}});var i=n(43852),r=n(5302),o=n(42122),s=n(7677),a=n(21215),c=n(77137);let u,l;const d=new Map;let f;const h=(0,i.oA)("WebWorkerUtility","WebWorkerUtility",!0),p=new Map,m=t=>{if(!t)return;const e=p.get(t);return e?(p.delete(t),e):void 0};function g(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s={id:t&&t.id||"",fetched:!1,payload:null};if(!t||!t.id)return Promise.resolve(s);if(!u&&(!l||l&&"appanoncookie"!==t.id))return Promise.resolve(s);const a=h&&h.startMeasure(t.id).endMeasure,c=p.get(t.id);if(c)return i&&p.delete(t.id),a&&a({customSuffix:"standbymessage"}),Promise.resolve(c);let m,g;e&&(g=new Promise((i=>{m=setTimeout((()=>{d.delete(t.id);const c=`Web worker request timed out after ${e}ms for request id: [${t.id}]`;n&&(f?f({...r.s7S,message:"Web worker request timed out",pb:{...r.s7S.pb,customMessage:c}}):o.k.logError(c)),a&&a({customSuffix:"timeout"}),i({...s,timeout:!0})}),e)})));const v=new Promise((e=>{d.set(t.id,{type:t.type||"data",callback:t=>{m&&clearTimeout(m),a&&a(),e(t)}})}));return window.webWorker.postMessage({id:t.id,type:t.type||"data",payload:t.payload}),e?Promise.race([v,g]):v}function v(t){u&&t&&t.id&&window.webWorker.postMessage({id:t.id,type:t.type||"command",payload:t.payload||null})}function w(t){if(!u||!t||"function"!=typeof t)return;f=function(e){try{t(e)}catch(t){o.k.logError(`Failed to log web worker AppError. Error: ${(0,s.n)(t)}`)}},window.webWorker.onerror=y;var e,n;e={id:"WebWorkerError",type:"subscription"},n=t=>{if(t.payload&&"object"==typeof t.payload){const e=t.payload;e.pb={...e.pb,...(0,r.mnt)()},f(e)}else f({...r.ckW,message:"Web worker error",pb:{...r.ckW.pb,customMessage:JSON.stringify(t.payload||"")}})},u&&e&&"subscription"===e.type&&n&&(d.set(e.id,{type:"subscription",callback:n}),window.webWorker.postMessage(e)),setTimeout((()=>{window.webWorkerErrors&&Array.isArray(window.webWorkerErrors)&&(window.webWorkerErrors.forEach((t=>{y(t)})),delete window.webWorkerErrors)}))}function y(t){if(!t.filename)return u=!1,window._isWebWorkerPresent=u,window.webWorker.terminate(),void f({...r.ZI3,message:"Web worker script not found",pb:{...r.ZI3.pb,customMessage:JSON.stringify(b(t))}});f({...r.Z3R,message:"Web worker runtime error",pb:{...r.Z3R.pb,customMessage:JSON.stringify(b(t))}})}function b(t){return JSON.stringify({filename:t.filename,message:t.message,lineno:t.lineno})}var S;u=!1,l=!1,(0,a.N)()&&(u=void 0!==S?S:!!window.webWorker,window._isWebWorkerPresent=u,l=u),"edgeChromium"===c.jG.AppType&&(u=!1,c.jG.StaticDomain&&c.jG.StaticDomain.endsWith("cn")&&(l=!1)),(u||l)&&(window.webWorker.onmessage=t=>{const{data:e}=t,n=d.get(e.id);if(!n)return void p.set(e.id,e);"data"===n.type&&d.delete(e.id);const i=n.callback;i&&i(e)},setTimeout((()=>{window.webWorkerMessages&&Array.isArray(window.webWorkerMessages)&&(window.webWorkerMessages.forEach((t=>{t.id&&p.set(t.id,t)})),delete window.webWorkerMessages)})))},80986:function(t,e,n){var i;n.d(e,{K:function(){return i}}),function(t){t[t.Banner=999999]="Banner",t[t.CookieWall=1100]="CookieWall",t[t.Dialog=900]="Dialog",t[t.Flyout=700]="Flyout",t[t.Overlay=600]="Overlay",t[t.Nav=500]="Nav",t[t.Over=300]="Over",t[t.Above=100]="Above",t[t.Default=0]="Default",t[t.Below=-1]="Below",t[t.Buried=-2]="Buried"}(i||(i={}))},2513:function(t,e,n){n.d(e,{j:function(){return o}});var i=n(92421),r=n(21215);function o(){return(0,r.N)()?window.fetch.bind(window):i.br}},30688:function(t,e,n){n.d(e,{C:function(){return r}});var i=n(28951);function r(){return"vp"===i.cX.getQueryParameterByName("reqsrc",location.href)||"1"===i.cX.getQueryParameterByName("vptest",location.href)}},15598:function(t,e,n){n.d(e,{$o:function(){return s}});var i=n(25036),r=n(21215);class o extends i.C{constructor(){let t=null;if((0,r.N)())try{t=localStorage}catch(t){}super(t)}}function s(){return a}let a=new o},31371:function(t,e,n){n.d(e,{D:function(){return a},z:function(){return c}});var i=n(5302),r=n(21215),o=n(15598),s=n(79678);function a(t){if((0,r.N)()){const e="storageTest";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){(t||"function"==typeof t)&&t({...i.F0_,message:`Local Storage is not defined ${e}`})}}return!1}function c(t,e,n){const i=(0,o.$o)();return null!=i&&i.supported?()=>{let r;const o=i.getObject(t,null);let a=null;return o&&o.version===e&&null!==o.value?(a=o.value,r=n):(a=n(),r=()=>a),(0,s.C)((()=>i.setObject(t,{version:e,value:r()}))),a}:n}},97906:function(t,e,n){n.d(e,{G:function(){return a},y7:function(){return s}});var i=n(25036),r=n(21215);class o extends i.C{constructor(){let t=null;if((0,r.N)())try{t="sessionStorage"in window&&window.sessionStorage}catch(t){}super(t)}}let s=new o;function a(){return s}},72913:function(t,e,n){n.d(e,{g:function(){return o}});var i=n(5302),r=n(21215);function o(t){if((0,r.N)()){const e="storageTest";try{return window.sessionStorage.setItem(e,e),window.sessionStorage.removeItem(e),!0}catch(e){(t||"function"==typeof t)&&t({...i.EIi,message:`Session Storage is not defined: ${e}`})}}return!1}},25036:function(t,e,n){n.d(e,{C:function(){return o}});var i=n(68052),r=n(42122);class o{get supported(){return!!this.storage}constructor(t){this.storage=t}getItem(t){if(this.supported)return this.storage.getItem(t)}getObject(t,e){const n=this.getItem(t);if(null!=n){const t=(0,i.d)(n);if(null!=t)return t}return e}key(t){if(this.supported&&t>=0)return this.storage.key(t)}keys(){return this.supported?Object.keys(this.storage):[]}setObject(t,e){void 0!==e?this.setItem(t,JSON.stringify(e)):this.removeItem(t)}removeObject(t){const e=this.removeItem(t);if(null!=e)return(0,i.d)(e)}setItem(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.supported)try{if(!e)throw"Attempted to store null/undefined value: "+e;this.storage.setItem(t,e)}catch(t){if(!n)throw t;r.k.logError(t)}else if(!n)throw new Error("WebStorage not supported")}get length(){if(this.supported)return this.storage.length}removeItem(t){if(this.supported){const e=this.getItem(t);return this.storage.removeItem(t),e}}clear(){this.supported&&this.storage.clear()}removeSubstringKeys(t){if(!this.supported||!t)return;const e=[];for(let n=0;n<this.storage.length;n++){const i=this.key(n);i&&i.includes(t)&&e.push(i)}for(let t=0;t<e.length;t++)this.removeItem(e[t])}}},26197:function(t,e,n){n.d(e,{_:function(){return i}});const i={backgroundInnerHolder:"backgroundInnerHolder",backgroundOuterHolder:"backgroundOuterHolder",cardAction:"cardAction",complianceHyperlink:"complianceHyperlink",dailyStreaks:"dailyStreaks",feedToggle:"feedToggle",financeGreeting:"financeGreeting",following:"following",myInterests:"myInterests",gaming:"gaming",gridViewFeed:"gridViewFeed",headerSpaceHolder:"headerSpaceHolder",locationGreeting:"locationGreeting",marketSelector:"marketSelector",myFeed:"myFeed",msnFeed:"msnFeed",navBar:"navBar",notificationBell:"notificationBell",nurturingCoachMark:"nurturingCoachMark",office365:"office365",overlayArticleReader:"overlayArticleReader",personalizeButton:"personalizeButton",pillWC:"pillWC",recommendedSites:"recommendedSites",rewardsIcon:"rewardsIcon",rewardsButton:"rewardsButton",rightRailSectionKey:"rightRailSectionKey",scrollableContainer:"scrollableContainer",searchBox:"search-box-edgenext",searchBoxInput:"searchBoxInput",searchBoxVoiceButton:"searchBoxVoiceButton",searchHistory:"searchHistoryEdgeNext",settingsButton:"SettingsButton",settingsCloseButton:"settingsCloseButton",settingsInformationalButton:"settingsInformationalButton",shoppingNav:"shoppingNav",signInButton:"signInButton",singleColumnFeedRoot:"singleColumnFeedRoot",superCoachMark:"superCoachMark",topSites:"topSites",unifiedMobileFeed:"unifiedMobileFeed",weatherNav:"weatherNav",waffle:"waffle",watchNav:"watchNav",waterfallViewFeed:"waterfallViewFeed",welcomeGreeting:"welcomeGreeting",navigationPage:"navigationPage",videoPlayButton:"videoPlayButton",imageEditButton:"imageEditButton",headerGrid:"headerGrid",floatButtonGroupWC:"floatButtonGroupWC",weatherHeroExperience:"weatherHeroExperience",pr2RefreshReminder:"pr2RefreshReminder",widgetsRegion:"widgetsRegion",rubyPage:"rubyPage",rubyContentConsumption:"rubyContentConsumption",casualGamesLandingV2:"casualGamesLandingV2",casualGamesLandingMainComponent:"casualGamesLandingMainComponent"}},98604:function(t,e,n){n.d(e,{FY:function(){return a},b_:function(){return c},h_:function(){return u}});var i=n(42833),r=n(52185);const o=()=>r.Gq.get("__global-element-map_elementMap__",(()=>new Map)),s=()=>r.Gq.get("__global-element-map_waitForElementMap__",(()=>new Map));function a(t,e){if(!e)return;o().set(t,e);const n=s().get(t);n&&n.set(e)}function c(t){return t?o().get(t):null}function u(t){if(!t)return Promise.reject(null);const e=c(t);if(c(t))return Promise.resolve(e);const n=s();if(n.has(t))return n.get(t).getResultAsync();const r=new i.o;return n.set(t,r),r.getResultAsync()}},22680:function(t,e,n){n.d(e,{$w:function(){return m},Dp:function(){return u},FK:function(){return h},G8:function(){return p},J3:function(){return b},SJ:function(){return f},SV:function(){return g},Td:function(){return a},Wo:function(){return d},ZI:function(){return v},b0:function(){return S},bs:function(){return w},ij:function(){return o},l4:function(){return s},x_:function(){return y},zp:function(){return l},zw:function(){return c}});var i=n(21215),r=n(16415);function o(){return(0,i.N)()?window.navigator.userAgent:(0,r.sL)().userAgent}function s(){return(0,i.N)()?window.location.href:(0,r.sL)().url.href}function a(){return(0,i.N)()?window.location.hostname:(0,r.sL)().url.hostname}function c(){return(0,i.N)()?window.location.host:(0,r.sL)().url.host}function u(){return(0,i.N)()?window.location.origin:(0,r.sL)().url.origin}function l(){return(0,i.N)()?window.location.search:(0,r.sL)().url.search}function d(){return(0,i.N)()?window.location.pathname:(0,r.sL)().url.pathname}function f(){return(0,i.N)()?window.location.protocol:(0,r.sL)().url.protocol}function h(){return(0,i.N)()?window.location.hash:(0,r.sL)().url.hash}function p(){return(0,i.N)()?window.document.cookie:(0,r.sL)().cookie}function m(t){if(!(0,i.N)())throw new Error("getDocumentElementById is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementById(t)}function g(t){if(!(0,i.N)())throw new Error("getDocumentElementsByTagName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByTagName(t)}function v(t){if(!(0,i.N)())throw new Error("getDocumentElementsByClassName is unsupported server side. This call should be wrapped in canUseDOM().");return window.document.getElementsByClassName(t)}function w(){return(0,i.N)()?window.indexedDB:null}function y(){return(0,i.N)()?window.devicePixelRatio:(0,r.sL)().devicePixelRatio}function b(){if(!(0,i.N)())throw new Error("SSR currently does not support custom fonts.");return!!(window.CSS&&window.CSS.supports&&CSS.supports("(font-variation-settings: normal)"))}function S(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"anonymous",o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;if(!(0,i.N)())throw new Error("createScriptTag is unsupported server side. This call should be wrapped in canUseDOM().");const a=document.createElement("script");return e&&(a.id=e),o&&a.setAttribute("class",o),s&&(a.onload=s),a.type="text/javascript",t&&(window&&window.trustedTypesURLValidation?a.src=window.trustedTypesURLValidation(t,"scriptSrcUrlPolicy"):a.src=t,a.async=n,a.crossOrigin=r),window&&window.NONCE_ID&&(a.nonce=window.NONCE_ID),a}},21215:function(t,e,n){function i(){return!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv)}n.d(e,{N:function(){return i}})},52185:function(t,e,n){n.d(e,{Gq:function(){return r},TG:function(){return o}});let i=new Map;const r=Object.freeze({set(t,e){return i.set(t,e),this},get:function(t,e){let n=i.get(t);return void 0===n&&e&&(n=e(),i.set(t,n)),n},clear(){i.clear()},delete:t=>i.delete(t),has:t=>i.has(t)});function o(t){const e=Symbol();return{get current(){return r.get(e,(()=>t))},set current(t){r.set(e,t)}}}},22170:function(t,e,n){n.d(e,{U1:function(){return d},WG:function(){return l},oN:function(){return f},pn:function(){return u},sR:function(){return h}});var i=n(52185);let r=0;function o(){return r>1e8&&(r=0),"__mlv-"+r++}const{get:s,set:a,delete:c}=i.Gq,u=()=>v(p()),l=t=>v(m(t));function d(){const t=p();return v(t,{call:function(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null===(e=t.get())||void 0===e?void 0:e(...i)}})}function f(){const t=m((()=>new Map));return v(g(t),{getObj:()=>t.get(),set:(e,n)=>t.get().set(e,n),get:e=>t.get().get(e)})}function h(){const t=m((()=>new Set));return v(g(t),{getObj:()=>t.get(),add:e=>t.get().add(e)})}function p(){const t=o();return{get:()=>s(t),set:e=>(a(t,e),e),unset:()=>{c(t)}}}function m(t){const e=o();return{get:()=>s(e,t),unset:()=>{c(e)}}}function g(t){const e=()=>t.get();return{has:t=>e().has(t),get size(){return e().size},delete:t=>e().delete(t),unset:()=>t.unset()}}function v(t,e){return Object.freeze(e?Object.assign(t,e):t)}},94660:function(t,e,n){n.d(e,{Cw:function(){return s},cs:function(){return o},j4:function(){return a},mx:function(){return r}});var i=n(77072);const r="rd",o="OSATE",s="OSAT",a={ver:"0.1.0",spec:{innerWidth:{clientValue:()=>window.innerWidth},innerHeight:{clientValue:()=>window.innerHeight},outerWidth:{clientValue:()=>window.outerWidth},breakpoint:{clientValue:()=>function(t,e){for(let n=e.length-1;n>=0;n--)if(t>=e[n])return n}(window.innerWidth,i.A)},locationHash:{clientValue:()=>window.location.hash},locationHref:{clientValue:()=>window.location.href},locationHost:{clientValue:()=>window.location.host},locationHostName:{clientValue:()=>window.location.hostname},locationOrigin:{clientValue:()=>window.location.origin},locationPathName:{clientValue:()=>window.location.pathname},locationProtocol:{clientValue:()=>window.location.protocol},locationSearch:{clientValue:()=>window.location.search},screenTop:{clientValue:()=>window.screenTop},screenY:{clientValue:()=>window.screenY},canUseCssGrid:{clientValue:()=>window.CSS&&window.CSS.supports&&CSS.supports("display","grid")||!1},devicePixelRatio:{clientValue:()=>window.devicePixelRatio},language:{clientValue:()=>document.documentElement.lang},direction:{clientValue:()=>document.documentElement.dir}}}},77072:function(t,e,n){n.d(e,{A:function(){return i}});const i=[0,656,980,1304]},81489:function(t,e,n){n.d(e,{h:function(){return r}});var i=n(21215);function r(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bindMethod:!0,forceLazy:!1};return"object"!=typeof n.g||!n.g.TEST_ENV||n.g.TEST_SINGLETONPROXY||e.forceLazy?(0,i.N)()&&!e.forceLazy?t.getInstance():new Proxy(t,{get(t,n,i){const r=t.getInstance(),o=Reflect.get(r,n,r);return e.bindMethod&&"function"==typeof o?o.bind(r):o},set(t,e,n,i){const r=t.getInstance();return Reflect.set(r,e,n,r)}}):t.getInstance()}},16415:function(t,e,n){n.d(e,{sL:function(){return l}});var i=n(52185),r=n(94660);const o="__RequestDataInstance__";class s{constructor(t,e){if(this.url=new URL(t.href),this.innerHeight=t.innerHeight,this.devicePixelRatio=t.devicePixelRatio,this.canUseCssGrid=t.canUseCssGrid,this.requestId=t.requestId,this.cookie=t.cookie,this.referer=t.referer,this.userAgent=t.userAgent,this.clientData=t.clientData,this.vpCetoToken=t.vpCetoToken,this.oneServiceHeaders=c(t.oneServiceHeaders)||{},this.isPssrMode=e,e){const t=a(r.cs,this.cookie),e=!!t&&"1"===t,n=a(r.Cw,this.cookie);if(e&&n||!t&&!n)return this.msalAuthReady=!0,void(n&&(this.oneServiceHeaders.Authorization=`Bearer ${n}`));this.msalAuthReady=!1,this.pssrRejectedReason=t&&!e?"interactiveLogin":t&&!n?"missOSAT":"missOSATE"}}static getInstance(){const t=i.Gq.get(o);return t||(n.g.TEST_ENV?u({href:"http://localhost:8080/",innerHeight:768,devicePixelRatio:1,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:"",vpCetoToken:""}):u({href:"http://localhost:8080/",innerHeight:0,devicePixelRatio:0,canUseCssGrid:!1,requestId:"0",cookie:"",userAgent:"",referer:"",oneServiceHeaders:"",vpCetoToken:""}))}static resetInstance(t){const e=new s(t,arguments.length>1&&void 0!==arguments[1]&&arguments[1]);return i.Gq.set(o,e),e}}function a(t,e){if(e&&t){const n=new RegExp("\\b"+t+"\\s*=\\s*([^;]*)","i").exec(e);return n&&n.length>1?n[1]:null}return null}function c(t){try{if(t)return JSON.parse(t)}catch(t){}}const u=s.resetInstance,l=()=>s.getInstance()},80293:function(t,e,n){n.d(e,{v:function(){return o}});var i=n(5302),r=n(44132);class o extends Map{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.identifier=t,this.subscriptions=new Map,e.initialState&&Object.keys(e.initialState).forEach((t=>{super.set(t,e.initialState[t])}))}set(t,e){super.set(t,e);const n=this.subscriptions.get(t);return n&&n.size?(n.forEach((n=>{try{n&&n(e)}catch(e){r.M0.sendAppErrorEvent({...i.fG_,message:"Failed to execute subscription callback",pb:{...i.fG_.pb,customMessage:`Error executing subscription callback for key [${t}]`,instanceId:this.identifier,errorMessage:e&&e.message}})}})),this):this}subscribe(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||"function"!=typeof e)return;let i=this.subscriptions.get(t);i||(this.subscriptions.set(t,new Set),i=this.subscriptions.get(t)),i.add(e),this.has(t)&&!1!==n.fireImmediately&&e(this.get(t)),n.signal&&n.signal.addEventListener("abort",(()=>{this.unsubscribe(t,e)}))}unsubscribe(t,e){const n=this.subscriptions.get(t);n&&n.delete(e)}reset(){this.clear(),this.subscriptions.clear()}}},52:function(t,e,n){n.d(e,{$N:function(){return p},$_:function(){return m},Uq:function(){return o},Wi:function(){return b},_9:function(){return y}});var i,r,o,s,a,c,u,l,d,f=n(77137);!function(t){t[t.MicrosoftNews=0]="MicrosoftNews",t[t.Office365=1]="Office365",t[t.Gaming=2]="Gaming",t[t.Play=3]="Play",t[t.NavigationPage=4]="NavigationPage",t[t.Following=5]="Following"}(i||(i={})),function(t){t.Enforced="ENFORCED",t.Recommended="RECOMMENDED"}(r||(r={})),function(t){t[t.focused=0]="focused",t[t.inspirational=1]="inspirational",t[t.informational=2]="informational",t[t.custom=3]="custom"}(o||(o={})),function(t){t[t.always=0]="always",t[t.peek=1]="peek",t[t.headingsonly=2]="headingsonly",t[t.onscroll=3]="onscroll",t[t.off=4]="off"}(s||(s={})),function(t){t.focused="focused",t.inspirational="inspirational",t.informational="informational",t.custom="custom"}(a||(a={})),function(t){t.bing="bing",t.custom="custom",t.iris="iris",t.off="off",t.theme="theme",t.enterprise="enterprise",t.imageAndVideo="imageAndVideo",t.hero="hero"}(c||(c={})),function(t){t[t.allowAll=0]="allowAll",t[t.disableImageOfTheDay=1]="disableImageOfTheDay",t[t.disableCustomImage=2]="disableCustomImage",t[t.disableAll=3]="disableAll"}(u||(u={})),function(t){t[t.off=0]="off",t[t.onerow=1]="onerow",t[t.tworows=2]="tworows",t[t.top=3]="top"}(l||(l={})),function(t){t.off="off",t.onerow="onerow",t.tworows="tworows",t.top="top"}(d||(d={}));var h;!function(t){t.off="off",t.onerow="onerow",t.tworows="tworows",t.threerows="threerows"}(h||(h={}));const p={off:0,tworows:1,threerows:2,onerow:3},m={0:"off",1:"tworows",2:"threerows",3:"onerow"};var g,v,w;!function(t){t.off="off",t.on="on"}(g||(g={})),function(t){t.default="default",t.user="user-2",t.wpo="wpo",t.user_old="user"}(v||(v={})),function(t){t.Unknown="0",t.EdgeFlight="1",t.UserChoices="2",t.InvalidFeedLayout="3",t.NoRecommendedData="4",t.NoNeedToPromote="5"}(w||(w={}));const y={backgroundImage:"ntp.background_image",backgroundImageTypePolicy:"ntp.background_type_blocked_by_policy",currentBackgroundImageType:"ntp.background_image_type",currentBackgroundImageOption:"ntp.background_image",hideDefaultTopSites:"ntp.hide_default_top_sites",customBackgroundImageInfo:"ntp.local_background_image",layout:"ntp.layout_mode",quickLinksDisplaySetting:"ntp.quick_links_options",imageOfTheDay:"ntp.show_image_of_day",feeds:"ntp.news_feed_display",greeting:"ntp.show_greeting",showSettings:"ntp.show_settings",showQuickBrief:"ntp.show_quick_brief",verticalTabsCollapsed:"edge.vertical_tabs.collapsed",verticalTabsOpened:"edge.vertical_tabs.opened",singleColumnEnabled:"ntp.single_column.enabled",userNurturingUpdated:"ntp.user_nurturing",hasUserSeenNewFre:"new_device_fre.has_user_seen_new_fre",defaultBrowserSettingEnabled:"browser.default_browser_setting_enabled",showAppLauncher:"ntp.enable_app_launcher",userChoices:"ntp.record_user_choices",selectedFeedPivot:"ntp.selected_feed_pivot",layoutModeInstrumentation:"instrumentation.ntp.layout_mode",newsFeedDsiplayInstrumentation:"instrumentation.ntp.news_feed_display",gamerModeEnabled:"browser.gamer_mode_enabled",codexBingUpsellEnabled:"ntp.enable_bing_chat_by_policy",companyLogoEnabled:"ntp.enable_company_logo_by_policy",companyLogoBackplateColor:"ntp.company_logo_backplate_color",windowsIndexerPromotedTopSites:"ntp.promoted_top_sites",minVisitAffiliateSites:"ntp.min_visit_affiliate_sites",widgetsRegion:"ntp.enable_widgets_region",widgetsInPartialEnabled:"ntp.enable_wid_in_partial_view"},b=(f.jG.CurrentRequestTargetScope&&f.jG.CurrentRequestTargetScope.audienceMode,{focused:{feeds_position:"headingsonly",current_background_image_type:"off",greeting:!0,hide_promoted_links:!1},inspirational:{feeds_position:"peek",current_background_image_type:"imageAndVideo",greeting:!0,hide_promoted_links:!1},informational:{feeds_position:"always",current_background_image_type:"imageAndVideo",greeting:!0,hide_promoted_links:!1}});b.informational.current_background_image_type,b.informational.hide_promoted_links,b.informational.feeds_position,b.informational.greeting},69991:function(t,e,n){n.d(e,{K:function(){return o}});var i=n(242),r=n(44132);(new Date).getTime();function o(t,e,n,o,s){if(!0===window.__peregrine_litePVSent)r.M0.getPageMetadata().updateContract();else{(0,i.Ou)().TimeToSendPageView=Math.round(performance.now()),r.M0.sendPageView(t,e,n,o,s),window.__peregrine_normalPVSent=!0}}},22421:function(t,e,n){n.d(e,{B8:function(){return r}});function i(){window.standbyClickEventsHandler&&(window.removeEventListener("click",window.standbyClickEventsHandler),window.removeEventListener("auxclick",window.standbyClickEventsHandler),window.removeEventListener("contextmenu",window.standbyClickEventsHandler),delete window.standbyClickEventsHandler)}function r(t){window.standbyClickEventsHandler&&(t&&t instanceof Promise?t.then((()=>{i()})):i())}},17602:function(t,e,n){n.d(e,{xI:function(){return i}});const i=()=>{const[t]=performance.getEntriesByType("navigation");if(!t)return!1;if("cache"===t.deliveryType||200===t.responseStatus&&0===t.transferSize)return!0;const e=t.serverTiming;return!(!e||!e.length)&&!!e.find((t=>t&&"cache"===t.name))}},88011:function(t,e,n){n.d(e,{b:function(){return T}});var i=n(21215),r=n(52185),o=n(87507),s=n(74288),a=n(77137),c=n(59398);const u=new Set(["河北省","山西省","辽宁省","吉林省","黑龙江省","江苏省","浙江省","安徽省","福建省","江西省","山东省","河南省","湖北省","湖南省","广东省","海南省","四川省","贵州省","云南省","陕西省","甘肃省","青海省","台湾省","内蒙古自治区","广西壮族自治区","西藏自治区","宁夏回族自治区","新疆维吾尔自治区"]);function l(t,e){var n;const i=null===a.jG||void 0===a.jG||null===(n=a.jG.LocaleContentMarket)||void 0===n?void 0:n.market,r=(t.isoCode||"").toUpperCase(),o=r&&i&&i.substr(-r.length).toUpperCase()===r,s=[t.addressLine,t.locality,!(0,c.vt)(t.isoCode)&&t.subRegion,!(null!=e&&e.skipRegionAndCountry)&&t.region,!(null!=e&&e.skipRegionAndCountry)&&!o&&t.country].filter((t=>!!t));return s.filter(((t,e)=>t!==s[e+1]))}var d,f,h=n(28951),p=n(13218),m=n(33779),g=n(5302),v=n(88048),w=n(97265);class y{constructor(t,e,n,i,r,o,s,a){this.fetchImpl=t,this.host=e,this.api=n,this.appId=i,this.excludeSubTypes=r,this.flightId=o,this.useOneService=s,this.includeSubTypes=a,this.filterSuggestion=t=>-1===this.excludeSubTypes.indexOf(t.subType)&&(!this.includeSubTypes||!t.subType||-1!==this.includeSubTypes.indexOf(t.subType)),this._parseLocationFromAS=!0}addExtraASParams(t,e){return t}_getDefaultSuggestions(){return[]}async getSuggestions(t,e){if(t.disableThisRequest)return null;if((!t.searchText||""===t.searchText.trim())&&(t.disableFavorites||!this._useFavoriteSuggestions))return{suggestions:[]};const n=this._constructASRequestUrl(t);return this.fetchImpl(n.href).then((t=>t.json())).then((e=>{const n=this.useOneService?this._parseOneServiceSuggestions(e):this._parseSuggestionsV6(e),i=t.searchText&&""!==t.searchText.trim()?[]:this._getDefaultSuggestions();return n.suggestions=this._combineSuggestions(n.suggestions,i),this._updateSuggestionsRank(n.suggestions),n})).catch((n=>{if(e){const e=this._constructASRequestUrl({...t,searchText:""});(0,m.H)(g.hTy,"Autosuggest request failed for client v6",JSON.stringify({urlWithoutQuery:e&&e.href,error:n}))}return null}))}getHistorySuggestions(t){return[]}_constructASRequestUrl(t){let e,n;return this.useOneService?(e=this.getOneServiceQueryParams(t),n=(0,v.PH)(this.api,(0,v.qQ)())):(e=this.getBingQueryParams(t),n=new URL(this.api,this.host)),n.search=h.cX.keyValueArrayToQueryString(e),n}getBingQueryParams(t){return[{key:"appid",value:this.appId},{key:"count",value:""+t.maxResults},{key:"q",value:t.searchText},{key:"localcircularview",value:t.userLocation&&`${t.userLocation},100`},{key:"setmkt",value:p.Al.Locale},{key:"setlang",value:p.Al.Locale},{key:"types",value:t.suggestionTypes||""},{key:"abbrtext",value:t.abbrSuggestions?"1":""},{key:"structuredaddress",value:"true"},{key:"strucaddrread",value:"1"},{key:"setflight",value:this.flightId}]}getOneServiceQueryParams(t){return[{key:"apikey",value:a.jG.OneServiceApiKey},{key:"type",value:t.suggestionTypes||""},{key:"$top",value:""+t.maxResults},{key:"q",value:t.searchText},{key:"location",value:t.userLocation&&`${t.userLocation}`},{key:a.jG.OneServiceContentMarketQspKey,value:p.Al.Locale},{key:"setflight",value:this.flightId},{key:"qscope",value:"locations"},{key:"activityId",value:a.jG.ActivityId},{key:"ocid",value:w.$D.getOneServiceOCID(a.jG.TrackInfo,"feeds")}]}_combineSuggestions(t,e){let n=[];if(e&&e.length){n=e;let i=!1;for(let r=0;r<t.length;r++){t[r].root;const o=t[r].address,s=o&&o.streetAddress,a=o&&o.addressLocality,c=t[r].name;for(let t=0;t<e.length;t++){const n=e[t];if(s&&n.formatedAddress&&n.formatedAddress.indexOf(s)>-1&&(a&&n.formatedAddress.indexOf(a)>-1||c&&n.title&&n.title.indexOf(c)>-1)){i=!0;break}}i?i=!1:n.push(t[r])}}else n=t;return n}_updateSuggestionsRank(t){for(let e=0;e<t.length;e++)t[e].suggestionRank=e}_parseSuggestionsV6(t){const e={},n=[];if(t){const i=t.instrumentation;e.formattingRules=this._createFormattingRulesV6(t.formattingRules);const r=this._getDefaultFormattingRuleV6(e.formattingRules),s=t.value;for(let t=0;t<s.length;t++){const a={},c=s[t];try{a.root=c,a.type=c._type,a.readLink=c.readLink,a.readLinkPingSuffix=c.readLinkPingSuffix,a.instrumentationInfo=i,a.suggestionRank=t,a.formattingRuleId=c.formattingRuleId,a.formattingRule=a.formattingRuleId&&e.formattingRules[a.formattingRuleId]||r,a.entityId=c.id,a.name=c.name,a.query=c.query;const s=c.categories;a.primaryCategoryPath=s&&s.length&&s[0],a.entityId&&0===a.entityId.indexOf("local_geoid")&&(a.geoId=a.entityId,a.entityId="");const u=c.entityPresentationInfo;u&&u.entitySubTypeHints&&u.entitySubTypeHints.length&&(a.subType=u.entitySubTypeHints[0]);const l=c.geo;if(l&&this._parseLocationFromAS){const t=l.latitude,e=l.longitude;t&&e&&(a.location={latitude:t,longitude:e})}c.address?(a.address=c.address,a.address.addressRegion=o.abbreviateUSState(a.address.addressRegion,p.Al.Locale,a.address.countryIso)):c.location&&c.location.length?a.address=c.location[0].address:"PostalAddress"===a.type&&(a.address=c),"Favorite"==a.type&&(a.alternateName=c.alternateName,a.subType=c.subType,this._processFavoriteItemId(c,a)),n.push(a)}catch(t){}}}return e.suggestions=n.filter(this.filterSuggestion),e}_parseOneServiceSuggestions(t){const e={},n=t.value[0].groups[0].suggestionItems;for(let t=0;t<n.length;t++){const e={},i=n[t];try{e.readLink=i.dataUrl,e.suggestionRank=t,e.name=i.name,e.entityId=i.id,e.formattingRuleId=i.metadata.formattingRuleId,e.formattingRule=i.metadata.formattingRules&&JSON.parse(i.metadata.formattingRules),e.address=i.metadata,e.address.addressRegion=o.abbreviateUSState(i.metadata.addressRegion,p.Al.Locale,i.metadata.countryIso);const r=i.metadata.latitude,s=i.metadata.longitude;r&&s&&(e.location={latitude:r,longitude:s}),e.subType=i.metadata.entitySubTypeHints,n[t]=e}catch(t){}}return e.suggestions=n.filter(this.filterSuggestion),e}_createFormattingRulesV6(t){const e={};if(t)for(let n=0;n<t.length;n++){const i=JSON.parse(t[n]);e[i.identifier]=i}return e}_getDefaultFormattingRuleV6(t){let e=t&&t.Default||null;for(const n in t){e||(e=t[n]);if(p.Al.Locale.indexOf(n.toLowerCase())>-1){e=t[n];break}}return e}_processFavoriteItemId(t,e){const n=t.bingId;!n||0!==n.indexOf("local_ypid:")&&0!==n.indexOf("sid")&&0!==n.indexOf("local_vdpid")||(e.entityId=n),e.bingId=n}}y.autosuggestCallerId="autosug";class b{constructor(t,e){this.key=t,this.fetchImpl=e,this.geocode=async(t,e,n,i,r)=>{const o={success:!1,statusCode:null,authenticationResultCode:null,statusDescription:null,name:t,results:null};if(!location)return null;const s=n&&n<=b._maxNumberOfResults?n:b._defaultResultCount,a=[{key:"key",value:this.key},{key:"maxResults",value:""+s},{key:"q",value:encodeURIComponent(t)},{key:"inclnb",value:i?"1":"0"},{key:"incl",value:r?"ciso2":""},{key:"userMapView",value:b._getBoundsString(e)},{key:"culture",value:p.Al.Locale}],c=new URL(b.geoApi,b.geoHost);return c.search=h.cX.keyValueArrayToQueryString(a),this.fetchImpl(c.href).then((t=>t.json())).then((t=>{if(t&&t.authenticationResultCode===b._validAuthenticationCode&&t.statusCode===b._validStatusCode&&t.statusDescription===b._validStatusDescription&&t.resourceSets&&0!==t.resourceSets.length){let e;o.success=!0,o.statusCode=b._validStatusCode,o.authenticationResultCode=b._validAuthenticationCode,o.statusDescription=b._validStatusDescription;for(let n=0,i=t.resourceSets.length;n<i;n++)if(e=t.resourceSets[n].resources,e&&0!==e.length){o.results=e;break}o.traceId=t.traceId}else t?(o.statusCode=t.statusCode,o.authenticationResultCode=t.authenticationResultCode,o.statusDescription=t.statusDescription,o.errorMessage=t.errorDetails&&t.errorDetails.length>0&&t.errorDetails[0],o.traceId=t.traceId):(o.statusCode=400,o.authenticationResultCode="Unknown",o.statusDescription="Unknown");return o})).catch((t=>(o.authenticationResultCode="Unknown",o.statusCode=404,o.statusDescription="Http Error",o)))}}static _getBoundsString(t){return t?t.south+","+t.west+","+t.north+","+t.east:""}}(d=b)._validAuthenticationCode="ValidCredentials",d._validStatusCode=200,d._validStatusDescription="OK",d._defaultResultCount=5,d._maxNumberOfResults=20,d.geoHost="https://dev.virtualearth.net",d.geoApi="/REST/v1/Locations";class S{constructor(t){this.suggestion=t,this._formatSuggestion(this.suggestion),this.setSimpleSearchText(),this._setDisplayName()}_setDisplayName(){const t=this._formattingRule&&this._formattingRule["b:groupSeparator"]||", ";this.suggestionTextLine2?this.suggestion.displayName=this.suggestionTextLine1+t+this.suggestionTextLine2:this.suggestion.displayName=this.suggestionTextLine1}setSimpleSearchText(){const t=this._formattingRule&&this._formattingRule["b:groupSeparator"]||", ";if("Favorite"===this.suggestion.type){const e=this.suggestion,n=e.name,i=e.address&&e.address.streetAddress;this._searchText=n!==i&&i?n+t+i:n}else this.suggestionTextLine2?this._searchText=this.suggestionTextLine2+t+this.suggestionTextLine1:this._searchText=this.suggestionTextLine1;this.suggestion&&(this.suggestion.searchText=this._searchText)}_removeCountry(t){let e=", ";this._formattingRule&&(e=this._formattingRule["b:groupSeparator"]||this._formattingRule.groupSeparator||", ");const n=this.suggestion.address||this.suggestion.root,i=n&&n.addressCountry;if(i&&t&&t.slice(t.length-i.length)===i){const n=t.slice(0,t.length-i.length);return n.slice(n.length-e.length)===e?n.slice(0,n.length-e.length):n}return t}_formatSuggestion(t){const e=this.suggestion.formattingRule,n=t;if("Favorite"===t.type)return n.alternateName?this.suggestionTextLine1=n.alternateName:this.suggestionTextLine1=n.name,this.suggestionTextLine2=n.address&&n.address.streetAddress,this.suggestion.formatedAddress=n.address&&n.address.streetAddress,void(this.suggestion.title=n.name);n.name&&(this.suggestionTextLine1=n.name,t.title=n.name),n.query&&(this.suggestionTextLine1=n.query),e?(this._formattingRule=e,this.suggestion.address?this._applyFormattingRule(this.suggestion.address):this._applyFormattingRule(t.root)):(this.suggestionTextLine1=t.title,this.suggestionTextLine2=t.formatedAddress),this.suggestion.formatedLine1=this.suggestionTextLine1,this.suggestion.formatedLine2=this.suggestionTextLine2,this.suggestion.formatedLine2WithoutCountry=this._removeCountry(this.suggestionTextLine2)}_applyFormattingRule(t){let e=0;const n=this._formattingRule["b:fieldGroups"]||this._formattingRule.fieldGroups;if(!this.suggestionTextLine1)for(;e<n.length;e++){const i=this._getFormattedGroupString(t,n[e]);if(i){this.suggestionTextLine1=i,this.suggestion.title=i,++e;break}}const i=[];for(;e<n.length;e++){const r=this._getFormattedGroupString(t,n[e]);r&&i.push(r)}const r=this._formattingRule["b:groupSeparator"]||this._formattingRule.groupSeparator||", ";this.suggestionTextLine2=i.join(r),this.suggestion.formatedAddress=this.suggestionTextLine2}_getFormattedGroupString(t,e){const n=[];let i;const r=e.fields;for(let e=0;e<r.length;e++)i=this._getPrimaryField(t,r[e]),i||(i=this._getAlternateField(t,r[e])),i&&n.push(i);const o=e.fieldSeparator||" ";return n.join(o)}_getPrimaryField(t,e){let n;return t&&e&&(n=t[e.name]),n}_getAlternateField(t,e){let n;if(t&&e){const i=e.alternateField;if(i){const e=i.split(",");for(let i=0;i<e.length&&(n=t[e[i]],!n);i++);}}return n}}S.HistorySuggestionType="history";class x{static get defaultConfig(){return r.Gq.get(this.defaultConfigKey,(()=>({num:5,appId:"D41D8CD98F00B204E9800998ECF8427E1FBE79C2",geocoderKey:"AnTcaqBi2ypp0xI-OZNi4W_ik2KhjgpqioTAtXLC8GzkMBQRMlyxvxyTnd5b73im ",suggestionTypes:"Place,Address,Business",endpoint:"https://www.bing.com",excludeSubTypes:["CountryRegion","AdminDivision1"],flightId:""})))}constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.fetchImpl=t,this.userLocation=n,this.xhrFetch=i,this._translateSuggestion=t=>{var e,n;const i=t.suggestion.address||t.suggestion.root,r=null===(e=t.suggestion.location)||void 0===e?void 0:e.latitude,a=null===(n=t.suggestion.location)||void 0===n?void 0:n.longitude,c={language:p.Al.Locale,addressLine:t.suggestion.name||(null==i?void 0:i.streetAddress)||(null==i?void 0:i.postalCode),locality:null==i?void 0:i.addressLocality,region:(0,o.abbreviateUSState)(null==i?void 0:i.addressRegion,p.Al.Locale,null==i?void 0:i.countryIso),subRegion:null==i?void 0:i.addressSubregion,country:i&&(i.addressCountry||""),latitude:r&&Number(r).toString(),longitude:a&&Number(a).toString(),typeV6:t.suggestion.type,subType:t.suggestion.subType,searchText:t.suggestion.searchText,formattedAddress:t.suggestion.formatedAddress,readLink:t.suggestion.readLink,locationType:(0,s.GM)(t.suggestion.type,t.suggestion.subType),isoCode:i&&(i.countryIso||""),entityId:t.suggestion.entityId,geoId:t.suggestion.geoId};return!c.locality&&c.addressLine&&(c.locality=c.addressLine,c.addressLine=void 0),c.firstLine=function(t){return l(t)[0]}(c),c.secondLine=function(t){return l(t).slice(1).join(", ")}(c),c},this.cfg={...x.defaultConfig,...e||{}},"CN"==(null==n?void 0:n.isoCode)||a.jG.IsChinaCompliance?this.cfg.endpoint="https://cn.bing.com":this.cfg.endpoint="https://www.bing.com",this._extraResult=this.cfg.latinPercentageLimit>0?5:0,this._geocoder=new b(this.cfg.geocoderKey,t),this._autoSuggestModel=new y(t,this.cfg.endpoint,x[this.cfg.useOneServiceProxy?"oneServiceAutosuggestApi":"bingAutosuggestApi"],this.cfg.appId,this.cfg.excludeSubTypes,this.cfg.flightId,this.cfg.useOneServiceProxy,this.cfg.includeSubTypes)}getLocationSearchResponse(t){return Promise.resolve(null)}async getAutoSuggestResponse(t,e){if(t){var n,i;const r="zh-cn"===(null===p.Al||void 0===p.Al||null===(n=p.Al.Locale)||void 0===n?void 0:n.toLowerCase())&&"zh"!==(null===p.Al||void 0===p.Al||null===(i=p.Al.ClientSettings)||void 0===i||null===(i=i.geo_country)||void 0===i?void 0:i.toLowerCase())?"40,116":this.userLocation&&`${this.userLocation.latitude},${this.userLocation.longitude}`,o={searchText:t,maxResults:this.cfg.num+this._extraResult,userLocation:r,suggestionTypes:this.cfg.suggestionTypes,abbrSuggestions:!0,localMapView:null},s=await this._autoSuggestModel.getSuggestions(o,e);return this._parseSuggestions(s)}}_latinPercentage(t){const e=t.locality+t.country+t.region+t.subRegion;if(!e)return 0;return e.match(x.latinParttern).join("").length/e.length}_parseSuggestions(t){const e=[],n=null==t?void 0:t.suggestions;if(n&&n.length>0)for(let t=0;t<n.length;t++)e.push(this._getSuggestionResult(n[t]));let i=e.map(this._translateSuggestion);return this.cfg.latinPercentageLimit>0&&i.length>this.cfg.num&&(i=i.filter((t=>this._latinPercentage(t)>this.cfg.latinPercentageLimit)).slice(0,this.cfg.num)),i=i.filter((t=>function(t){var e;if("zh-cn"===(null==t||null===(e=t.language)||void 0===e?void 0:e.toLowerCase())){if(null==t||!t.country){var n;if("cn"!==(null==t||null===(n=t.isoCode)||void 0===n?void 0:n.toLowerCase()))return!1;t.country="中华人民共和国"}if(null!=t&&t.addressLine){if((null==t||!t.locality)&&(null==t||!t.subRegion)&&(null==t||!t.region)&&u.has(t.addressLine))return!1}else if((null==t||!t.subRegion)&&(null==t||!t.region)&&u.has(null==t?void 0:t.locality))return!1}return!(!t||!t.addressLine&&!t.locality)}(t))),i}_getSuggestionResult(t){return new S(t)}async _getLatLongFromReadLink(t){if(!t.readLink)return null;const e=new URL(t.readLink);return e.searchParams.append("appid",this.cfg.appId),this.fetchImpl(e.href).then((t=>t.json())).then((e=>{var n;const i=e.geo||(null===(n=e.value)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.geo);if(i&&i.latitude&&i.longitude)return{...t,latitude:i.latitude.toString(),longitude:i.longitude.toString()}})).catch((t=>null))}async geocodeSuggestion(t){try{const e=await this._doGeoCodeSuggestion(t);if(null!==e)return{...t,longitude:e.longitude,latitude:e.latitude};(0,m.H)(g.H4x,"failed to fetch location latitude and longitude in auto suggestion v6",void 0,{...g.H4x.pb,customMessage:t.searchText})}catch(t){(0,m.OO)(t,g.H4x,"error in library [location-service],Geocoder exception for autosuggestion v6")}return null}async _doGeoCodeSuggestion(t){const e=t;if(e.longitude&&e.latitude)return e;const n=await this._getLatLongFromReadLink(t);if(n)return n;const i=this._getSuggestionAddress(e);return this._geocoder.geocode(i,null,1).then((t=>{if(t.success&&t.results&&t.results.length>0){const n=t.results[0];n.bbox;if(n.point){const t=n.point.coordinates;return e.latitude=t[0].toString(),e.longitude=t[1].toString(),e}}return null}))}_getSuggestionAddress(t){return t&&"LocalBusiness"===t.typeV6&&t.formattedAddress?t.formattedAddress:t&&t.searchText}}(f=x).bingAutosuggestApi="/api/v6/Places/AutoSuggest",f.oneServiceAutosuggestApi="msn/suggestions",f.defaultConfigKey=Symbol("defaultConfig"),f.latinParttern=/[\u00C0-\u00ff\w\s\d.,/#!$%^&*;:{}=\-_`~()]+/gu;var C=n(92421),k=n(22887);function T(t){const e=(0,i.N)()?window.fetch.bind(window):C.br;return new x(e,t,(0,k.qE)())}},88357:function(t,e,n){n.d(e,{ye:function(){return r}});const i=[];function r(t){for(const e of i)e(t)}},91592:function(t,e,n){n.d(e,{L:function(){return m},S:function(){return p}});var i=n(59398),r=n(22887),o=n(16946),s=n(8830),a=n(33779),c=n(5302),u=n(13218),l=n(77137),d=n(21298),f=n(87507),h=n(88357);var p;!function(t){t[t.AutoDetectLoc=1]="AutoDetectLoc",t[t.SpecifyLoc=2]="SpecifyLoc"}(p||(p={}));class m{constructor(){this.instance=s.N}async getUserDefaultLocation(t){let e,n;try{const n=await this.instance.getUserDefaultLocation(t);if(null==n)throw"Location response returned null or undefined";e=await n.json()}catch(n){(0,a.OO)(n,c.WiH,`User's default location fetch request failed. Autodetect forced: ${!0===t}`),e=null}return e&&e.length&&e[0]&&(n={latitude:`${e[0].latitude}`,longitude:`${e[0].longitude}`,isDetected:t,isBlisDetected:t,locality:e[0].city,region:f.abbreviateUSState(e[0].state,u.Al.Locale,e[0].countryCode),country:e[0].country,isoCode:e[0].countryCode,language:l.jG.CurrentMarket,accuracy:e[0].accuracy},n.displayName=(0,i.Gf)(n)),n}getGeoLocation(){const t=(0,r.qE)();return(0,i.JY)(t)?t:((0,a.H)(c.Hx8,"Failed to get valid user geo location from PCS head data"),null)}async updateUserSettings(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,r=!1;try{r=await this.instance.updateWeatherSettings(t,e,n,i)}catch(t){(0,a.OO)(t,c.DyR,"error in library [location-service],Weather or location user settings update failed"),r=!1}return r}async setHomeLocation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=!1;const s=(0,o.eD)()&&t.isDetected?p.AutoDetectLoc:p.SpecifyLoc;try{await Promise.all([this.instance.updateWeatherSettings(null,`${s}`),this.instance.updatePdpHomeLocation(m.buildMetaData(t),t.definitionName||`${t.latitude},${t.longitude}`,e,n,i)]),r=!0}catch(t){(0,a.OO)(t,c.G1Z,"error in library [location-service],Home Location Update Failed"),r=!1}return r&&(0,h.ye)(t),r}async setSpecifyLocationMode(){let t=!1;try{t=await this.instance.updateWeatherSettings(null,`${p.SpecifyLoc}`)}catch(e){(0,a.OO)(e,c.DyR,"error in library [location-service],Weather user settings update failed"),t=!1}return t}async setAutoDetectLocationMode(){let t=!1;try{t=await this.instance.updateWeatherSettings(null,`${p.AutoDetectLoc}`)}catch(e){(0,a.OO)(e,c.DyR,"error in library [location-service],Weather user settings update failed"),t=!1}return t}async addFavoriteLocation(t){const e=`${t.latitude},${t.longitude}`,n=await this.instance.addToFavoriteLocation(m.buildMetaData(t),e);return n||(0,a.H)(c.DyR,"error in library [location-service],Weather user add favorite location failed"),n}async removeFavoriteLocation(t){const e=t.definitionName||`${t.latitude},${t.longitude}`,n=await this.instance.removeFavoriteLocation(e);return n?t.definitionName=null:(0,a.H)(c.DyR,"error in library [location-service],Weather user remove favorite location failed"),n}async removeLocation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t.definitionName||`${t.latitude},${t.longitude}`,i=await this.instance.removeLocation(n,e);return i?t.definitionName=null:(0,a.H)(c.DyR,"error in library [location-service],Weather user remove favorite location failed"),i}static buildMetaData(t){const e=t.language||u.Al.Locale||"";return JSON.parse(JSON.stringify({geoCoordinates:{latitude:parseFloat(t.latitude),longitude:parseFloat(t.longitude)},addressLine:t.addressLine,subRegion:t.subRegion,readLink:t.readLink,city:t.locality,state:t.region,countryRegion:t.country,postalCode:t.postalCode,isoCode:t.isoCode,locationType:"number"==typeof t.locationType?t.locationType||1:(0,d.hh)(""+t.locationType,1),locationTypeId:[t.locality,t.region,t.country].filter((t=>!!t)).join(","),language:e||void 0,properties:{locationType:t.typeV6,entitySubTypeHints:t.subType,confirmed:t.confirmed,tag:t.tag,reportTime:t.reportTime}}))}}},42532:function(t,e,n){n.d(e,{QA:function(){return r},WM:function(){return s},_n:function(){return i},rd:function(){return o}});const i=new(n(80293).v)("LocationState");var r,o;function s(t,e,n){(arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]).some((t=>!1===t))||i.set(o.Location,{source:n,location:t,locationMode:e})}!function(t){t[t.LocationEditor=1]="LocationEditor",t[t.WelcomeGreeting=2]="WelcomeGreeting",t[t.Feed=3]="Feed"}(r||(r={})),function(t){t[t.Location=1]="Location"}(o||(o={}))},22735:function(t,e,n){n.d(e,{TU:function(){return y},r4:function(){return w},ag:function(){return v}});var i=n(33779),r=n(5302),o=n(49494),s=n(98937),a=n(77137),c=n(12812);const u="ntps",l="marketPref",d=182;var f=n(37955),h=n(44132),p=n(8830),m=n(22624);const g=["windowsShell","windowsShellV2","winWidgets"];async function v(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};const n=a.jG.AppType;p.N.updateMarketPreference(t).then((async u=>{if(u||(0,i.H)(r.CTH,"PDP Service failed to update market preference from CommonSettings",`market: ${t}`),g.includes(n))e();else{var l;if(a.jG.IsUCBased)null===(l=s.q.getInstance())||void 0===l||l.notify("onContentReload");await w(t),function(t){const e=a.jG.AppType,n=a.jG.CurrentMarket,i=location.href.includes(`/${n}`);if("edgeChromium"==e)return function(t){const e=`/${a.jG.CurrentMarket}/`;if(!location.pathname.startsWith(e))return void(0,c.Z)();const n=new URL(location.href);n.pathname=n.pathname.replace(e,`/${t}/`),(0,c.Z)({newUrl:n.href})}(t),void(0,o.yV)(2);i?location.href=location.href.replace(`/${n}`,`/${t}`):location.assign(`${location.origin}/${t}${location.search}`)}(t)}}))}async function w(t,e){const[n,i,r]=function(t,e){const n=`.${a.jG.HostPage.topDomain}`,i=y(e),r="homePage"===a.jG.AppType||e?t:JSON.stringify({m:t});return[n,i,r]}(t,e),o=a.jG.AppType;(0,f.sq)(i,"",-1),(0,f.sq)(i,"",-1,void 0,"/edge"),(0,f.sq)(i,r,d,n,"/"),"edgeChromium"==o&&(await m.L.savePreferenceSetting(i,{setting:i,source:"ntp",timestamp:(new Date).getTime(),value:r}),h.M0.addOrUpdateTmplProperty("marketSetToExplicitSelection","1")),e||"homePage"==a.jG.AppType||(0,f.ej)(l)&&w(t,!0)}function y(t){return"homePage"===a.jG.AppType||t?l:u}},34254:function(t,e,n){n.d(e,{Qz:function(){return b},bn:function(){return S},v:function(){return x},FQ:function(){return m},gy:function(){return h},S0:function(){return d},F_:function(){return p}});var i,r=n(91661);!function(t){t[t.StandardEventBasedDeferral=0]="StandardEventBasedDeferral",t[t.CustomEventBasedDeferral=1]="CustomEventBasedDeferral"}(i||(i={}));var o=n(93441),s=n(38961),a=n(523),c=n(77016),u=n(56973);const l={filter:(t,e)=>t.filter((t=>e in t))};function d(){return c._.getInstance().rootReducer.connector(a.Dw)}function f(t){const e=d();if(!e)return;const n=e.getCurrentState().perExperienceMilestones,i=n&&n.get(t);let r;return i&&(r=i.perInstanceMilestones.get(s.t)),r}function h(t){const e=f(t);if(!e||function(t){let e;switch(t.loadAfter.eventType){case r.Gg.pageVisuallyReady:e=function(){const t=d();if(!t)return!1;const{pageCompleteTiming:e}=t.getCurrentState();return Boolean(e&&e.endTime!==s.n)}();break;case r.Gg.aboveTheFoldVisuallyReady:e=g();break;case r.Gg.belowTheFoldTransitionStart:e=v();break;case r.Gg.hydrationComplete:e=y();break;default:e=(0,u.c)(t.loadAfter.experienceType,t.loadAfter.eventType)}return e}(e))return null;if(e.shouldLoad&&e.loadAfter){return{deferralType:w(e.loadAfter),shouldResolve:e.shouldLoad}}return null}function p(){return d()?g()?Promise.resolve():new Promise((t=>{o.g.updateAboveTheFoldVisuallyReady.registerObserver((e=>{t()}))})):Promise.resolve()}async function m(t){const e=d();if(!e)return;const n=e.getCurrentState().plugins;if(!n||0===n.length)return;const i=l.filter(n,t);for(const e of i)void 0!==e[t]&&await e[t].call(e)}function g(){const t=d();if(!t)return!1;const{aboveTheFoldVisuallyReady:e}=t.getCurrentState();return Boolean(e&&e.endTime!==s.n)}function v(){const t=d();return!!t&&t.getCurrentState().belowTheFoldTransitionStart}function w(t){return t.eventType in r.ic?i.CustomEventBasedDeferral:i.StandardEventBasedDeferral}function y(){const t=d();return!!t&&t.getCurrentState().hydrationComplete}function b(t,e,n,i){return{deferralInfo:t,experienceType:e,experienceGroup:n,experienceInstance:i}}function S(t,e,n,i){return{experienceType:t,currentState:e,experienceGroup:n,experienceInstance:i}}function x(t,e,n,i,r){return{experienceType:t,experienceGroup:e,experienceInstance:n,startTime:i,endTime:r}}},93441:function(t,e,n){n.d(e,{g:function(){return o}});var i=n(24709);class r{constructor(){this.updateHydrationComplete=new i.C("updateHydrationRenderComplete"),this.updateRiverHydrationComplete=new i.C("updateRiverHydrationRenderComplete"),this.updateAboveTheFoldVisuallyReady=new i.C("updateAboveTheFoldVisuallyReady"),this.updateBelowTheFoldTransitionStart=new i.C("updateBelowTheFoldTransitionStart"),this.updateExperienceLoadDeferralState=new i.C("updateExperienceLoadDeferralState"),this.updateExperienceCurrentState=new i.C("updateExperienceCurrentState"),this.updateExperiencePublicState=new i.C("updateExperiencePublicState"),this.updateExperienceRenderDeferralState=new i.C("updateExperienceRenderDeferralState"),this.updateInitTiming=new i.C("UpdateInitTiming"),this.updatePageComplete=new i.C("updatePageCompleteTiming"),this.updateRenderTiming=new i.C("UpdateRenderTiming"),this.updateVisuallyReadyTiming=new i.C("UpdateVisuallyReadyTiming"),this.updateStartLoadingTiming=new i.C("UpdateStartLoadingTiming"),this.updateMediaContentReadyTiming=new i.C("UpdateMediaContentReadyTiming"),this.updateDomCompleteTiming=new i.C("UpdateDomCompleteTiming"),this.updateMilestonePlugins=new i.C("updateMilestonePlugin")}resetInstance(){this.updateHydrationComplete.unregisterObservers(),this.updateRiverHydrationComplete.unregisterObservers(),this.updateAboveTheFoldVisuallyReady.unregisterObservers(),this.updateBelowTheFoldTransitionStart.unregisterObservers(),this.updateExperienceLoadDeferralState.unregisterObservers(),this.updateExperienceCurrentState.unregisterObservers(),this.updateExperiencePublicState.unregisterObservers(),this.updateExperienceRenderDeferralState.unregisterObservers(),this.updateInitTiming.unregisterObservers(),this.updatePageComplete.unregisterObservers(),this.updateRenderTiming.unregisterObservers(),this.updateVisuallyReadyTiming.unregisterObservers(),this.updateDomCompleteTiming.unregisterObservers(),this.updateMilestonePlugins.unregisterObservers(),o=new r}}let o=new r},53447:function(t,e,n){n.d(e,{m:function(){return p}});var i=n(93441),r=n(91661),o=n(34254),s=n(91682),a=n(56973),c=n(39607);function u(t,e){t.registerObserver((t=>{((t.params||[])[0]||[]).forEach((t=>{let{deferralInfo:n,experienceType:i}=t;n&&i&&function(t,e,n){if(!t||!e||!(e.eventType in r.Gg)||!e.experienceType&&!e.experienceGroup)return;const{eventType:i,experienceType:o}=e,u=o||e.experienceGroup,l=a.v.get(u);if(l&&l.referencedDependentsDeferralMap){if(l.currentState<i){const e=l.referencedDependentsDeferralMap.get(i);e?e.size>0&&e.set(t,n):l.referencedDependentsDeferralMap.set(i,new Map([[t,n]]))}}else a.v.set(u,{currentState:s.D.notStarted,referencedDependentsDeferralMap:new Map([[i,new Map([[t,n]])]])}),o&&(0,c.w)(o,!0)}(i,n,e)}))}))}function l(){u(i.g.updateExperienceLoadDeferralState,s.D.loadDeferred),u(i.g.updateExperienceRenderDeferralState,s.D.renderDeferred),i.g.updateExperienceCurrentState.registerObserver((t=>{const e=[];if(((t.params||[])[0]||[]).forEach((t=>{let{experienceType:n,currentState:i}=t;if(!n||!i)return;const c=a.v.get(n);if(!c)return;c.currentState=i;const u=r.ez.get(i),l=u&&c.referencedDependentsDeferralMap.get(u);l&&l.forEach(((t,n)=>{if(!n)return;const i=t===s.D.loadDeferred?s.D.resolvedForLoad:s.D.resolvedForRender;e.push((0,o.bn)(n,i))}))})),e.length){const t=(0,o.S0)();t&&i.g.updateExperienceCurrentState.getActionSender(t).send(e)}}))}var d=n(18875);let f=new Map;(0,d.U)((()=>{f=new Map}));var h=n(30666);class p extends h.e{constructor(t,e,n,r,a,c,u){super(t,e,n,r,a,c,u),this.startObservers(),i.g.updateInitTiming.registerObserver((t=>this.updateExperienceTiming(t.params[0],s.D.initialized))),i.g.updateRenderTiming.registerObserver((t=>this.updateExperienceTiming(t.params[0],s.D.rendered))),i.g.updateVisuallyReadyTiming.registerObserver((t=>this.updateExperienceTiming(t.params[0],s.D.visuallyReady))),i.g.updateStartLoadingTiming.registerObserver((t=>this.updateExperienceTiming(t.params[0],s.D.startLoading))),i.g.updateMediaContentReadyTiming.registerObserver((t=>this.updateExperienceTiming(t.params[0],s.D.mediaContentReady))),i.g.updateDomCompleteTiming.registerObserver((t=>this.updateExperienceTiming(t.params[0],s.D.domComplete))),i.g.updateExperienceLoadDeferralState.registerObserver((t=>{const e=((t.params||[])[0]||[]).map((t=>{let{experienceType:e,experienceGroup:n,experienceInstance:i}=t;return(0,o.bn)(e,s.D.loadDeferred,n,i)}));e.length&&i.g.updateExperienceCurrentState.getActionSender(this).send(e)})),i.g.updateExperienceRenderDeferralState.registerObserver((t=>{const e=((t.params||[])[0]||[]).map((t=>{let{experienceType:e,experienceGroup:n,experienceInstance:i}=t;return(0,o.bn)(e,s.D.renderDeferred,n,i)}));e.length&&i.g.updateExperienceCurrentState.getActionSender(this).send(e)}))}startObservers(){l(),i.g.updateExperienceCurrentState.registerObserver((t=>{((t.params||[])[0]||[]).forEach((t=>{t.currentState===s.D.domComplete&&f.forEach(((e,n)=>{let i=!0;const{DomCompleteDependencies:r,DomCompleteCallback:o}=e;for(const e of r.values()){const{dependencyId:{experienceType:n,experienceGroup:r,experienceNamespace:o}}=e;if(n&&n!==t.experienceType||r&&r!==t.experienceGroup||o&&o!==t.experienceInstance||(e.milestoneReached=!0),!e.milestoneReached){i=!1;break}}i&&(e.dependenciesMet=!0,o&&(f.delete(n),o()))}))}))}))}updateExperienceTiming(t,e){t&&t.endTime&&i.g.updateExperienceCurrentState.getActionSender(this).send([(0,o.bn)(t.experienceType,e,t.experienceGroup,t.experienceInstance)])}}},38961:function(t,e,n){n.d(e,{n:function(){return r},t:function(){return i}});const i="default",r=-1},17280:function(t,e,n){n.d(e,{c:function(){return b}});var i,r=n(38947),o=n(93441);!function(t){t[t.domComplete=0]="domComplete",t[t.error=1]="error",t[t.initialized=2]="initialized",t[t.rendered=3]="rendered",t[t.visuallyReady=5]="visuallyReady",t[t.startLoading=6]="startLoading",t[t.mediaContentReady=7]="mediaContentReady"}(i||(i={}));var s=n(91682),a=n(42122);function c(){return p(o.g.updatePageComplete,(()=>!0))}function u(){return p(o.g.updateAboveTheFoldVisuallyReady,(()=>!0))}function l(){return p(o.g.updateBelowTheFoldTransitionStart,(()=>!0))}function d(t){return h(t,s.D.resolvedForLoad)}function f(t){return h(t,s.D.resolvedForRender)}function h(t,e){return p(o.g.updateExperienceCurrentState,(n=>((n.params||[])[0]||[]).some((n=>n.currentState===e&&n.experienceType===t))))}function p(t,e){return new Promise(((n,i)=>{try{t.registerObserver((t=>{e(t)&&n(!0)}))}catch(t){a.k.logError(t),i(!1)}}))}function m(){return new Promise(((t,e)=>{try{o.g.updateHydrationComplete.registerObserver((()=>{t(!0)}))}catch(t){a.k.logError(t),e(!1)}}))}var g=n(38961),v=n(91661);class w{static updateExperienceCurrentState(t,e,n,i,r){const o=this.getOrCreateExperienceInstanceMilestone(t,e,i,r);o&&(o.currentState=n)}static updateMilestoneTiming(t,e,n,r,o,a,c){const u=this.getOrCreateExperienceInstanceMilestone(t,e,a,c);let l;if(u)switch(n){case i.initialized:l=u.initializationTime;break;case i.rendered:l=u.renderTime;break;case i.visuallyReady:l=u.visuallyReadyTime;break;case i.domComplete:l=u.domCompleteTime;break;case i.startLoading:return void(l=u.startLoadingTime);case i.error:return void(u.currentState=s.D.error);case i.mediaContentReady:l=u.mediaContentReadyTime;break;default:throw new Error("Invalid Argument: Unrecognized eventType")}if(!l)throw new Error(`Invalid experience time object while processing timing update for ${n}`);r&&(l.startTime=r),o&&(l.endTime=o)}static updateHydrationComplete(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);t.hydrationComplete=e}static updateBelowTheFoldTransitionStart(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);t.belowTheFoldTransitionStart=e}static updateMilestonePlugin(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);t.plugins&&0!==t.plugins.length?t.plugins=t.plugins.concat(e):t.plugins=e}static updateAboveTheFoldVisuallyReady(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);if(!t.aboveTheFoldVisuallyReady)throw new Error("AboveTheFold start not set");t.aboveTheFoldVisuallyReady.startTime=0,t.aboveTheFoldVisuallyReady.endTime=e}static updatePageComplete(t,e){if(!t)throw new Error(w.invalidMilestoneModelMessage);if(!t.aboveTheFoldVisuallyReady)throw new Error("AboveTheFold start not set");t.pageCompleteTiming.startTime=0,t.pageCompleteTiming.endTime=e}static deferExperienceLoad(t,e,n,i,r){const o=this.getOrCreateExperienceInstanceMilestone(t,e,i,r);o.loadAfter={experienceType:n.experienceType,experienceGroup:n.experienceGroup,eventType:n.eventType},w.updateLoadDeferralHandler(o,e)}static deferExperienceRender(t,e,n,i,r){const o=this.getOrCreateExperienceInstanceMilestone(t,e,i,r);o.renderAfter={experienceType:n.experienceType,experienceGroup:n.experienceGroup,eventType:n.eventType},w.updateRenderDeferralHandler(o,e)}static getOrCreateExperienceMilestone(t,e,n){if(!e)throw new Error("Invalid Argument: experienceType");t||(t={aboveTheFoldVisuallyReady:void 0,pageCompleteTiming:void 0,perExperienceMilestones:void 0}),t.perExperienceMilestones||(t.perExperienceMilestones=new Map);let i=t.perExperienceMilestones.get(e);return i||(i={experienceType:e,experienceGroup:n,perInstanceMilestones:new Map},t.perExperienceMilestones.set(e,i)),i}static getOrCreateExperienceInstanceMilestone(t,e,n,i){const r=this.getOrCreateExperienceMilestone(t,e,n),o=i||g.t;let a=r.perInstanceMilestones.get(o);return a||(a={currentState:s.D.notStarted,initializationTime:{endTime:g.n,startTime:g.n},loadAfter:{experienceType:void 0,eventType:void 0},renderAfter:{experienceType:void 0,eventType:void 0},renderTime:{endTime:g.n,startTime:g.n},visuallyReadyTime:{endTime:g.n,startTime:g.n},startLoadingTime:{endTime:g.n,startTime:g.n},mediaContentReadyTime:{endTime:g.n,startTime:g.n},domCompleteTime:{endTime:g.n,startTime:g.n}},r.perInstanceMilestones.set(o,a)),a}static updateLoadDeferralHandler(t,e){switch(t.loadAfter.eventType){case v.Gg.pageVisuallyReady:t.shouldLoad=c;break;case v.Gg.aboveTheFoldVisuallyReady:t.shouldLoad=u;break;case v.Gg.belowTheFoldTransitionStart:t.shouldLoad=l;break;case v.Gg.hydrationComplete:t.shouldLoad=m;break;default:return void(t.shouldLoad=d.bind(this,e))}}static updateRenderDeferralHandler(t,e){switch(t.renderAfter.eventType){case v.Gg.aboveTheFoldVisuallyReady:t.shouldRender=u;break;case v.Gg.belowTheFoldTransitionStart:t.shouldRender=l;break;case v.Gg.hydrationComplete:t.shouldRender=m;break;default:return void(t.shouldRender=f.bind(this,e))}}}w.invalidMilestoneModelMessage="Invalid Argument: milestoneModel";var y=n(85663);class b{reduce(t,e){let n;if(n=t?{...t}:{aboveTheFoldVisuallyReady:{endTime:g.n,startTime:g.n},pageCompleteTiming:{endTime:g.n,startTime:g.n},perExperienceMilestones:new Map},!e)return n;let i=!1;return i=i||this.handlePageLevelActions(i,e,n),i=i||this.handleExperienceLevelActions(i,e,n),n||t}handleExperienceLevelActions(t,e,n){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t||r.G.handleAction(e,o.g.updateInitTiming,(t=>this.updateTiming(i.initialized,n,t))))||r.G.handleAction(e,o.g.updateRenderTiming,(t=>this.updateTiming(i.rendered,n,t))))||r.G.handleAction(e,o.g.updateVisuallyReadyTiming,(t=>this.updateTiming(i.visuallyReady,n,t))))||r.G.handleAction(e,o.g.updateStartLoadingTiming,(t=>this.updateTiming(i.startLoading,n,t))))||r.G.handleAction(e,o.g.updateMediaContentReadyTiming,(t=>this.updateTiming(i.mediaContentReady,n,t))))||r.G.handleAction(e,o.g.updateDomCompleteTiming,(t=>this.updateTiming(i.domComplete,n,t))))||r.G.handleAction(e,o.g.updateExperienceLoadDeferralState,(t=>t.forEach((t=>{let{deferralInfo:e,experienceType:i,experienceGroup:r,experienceInstance:o}=t;e&&i&&w.deferExperienceLoad(n,i,e,r,o)})))))||r.G.handleAction(e,o.g.updateExperienceRenderDeferralState,(t=>t.forEach((t=>{let{deferralInfo:e,experienceType:i,experienceGroup:r,experienceInstance:o}=t;e&&i&&w.deferExperienceRender(n,i,e,r,o)})))))||r.G.handleAction(e,o.g.updateExperienceCurrentState,(t=>t.forEach((t=>{let{experienceType:e,currentState:i,experienceGroup:r,experienceInstance:o}=t;i&&e&&w.updateExperienceCurrentState(n,e,i,r,o)})))))||r.G.handleAction(e,o.g.updateExperiencePublicState,(t=>{}))}handlePageLevelActions(t,e,n){return t=(t=(t=(t=(t=t||r.G.handleAction(e,o.g.updatePageComplete,(t=>w.updatePageComplete(n,t))))||r.G.handleAction(e,o.g.updateAboveTheFoldVisuallyReady,(t=>w.updateAboveTheFoldVisuallyReady(n,t))))||r.G.handleAction(e,o.g.updateBelowTheFoldTransitionStart,(t=>{(0,y.isNullOrUndefined)(t)||w.updateBelowTheFoldTransitionStart(n,t)})))||r.G.handleAction(e,o.g.updateHydrationComplete,(()=>{w.updateHydrationComplete(n,!0)})))||r.G.handleAction(e,o.g.updateMilestonePlugins,(t=>{t.length>0&&w.updateMilestonePlugin(n,t)}))}updateTiming(t,e,n){const{startTime:i,endTime:r,experienceType:o,experienceGroup:s,experienceInstance:a}=n;w.updateMilestoneTiming(e,o,t,i,r,s,a)}}},56973:function(t,e,n){n.d(e,{c:function(){return o},v:function(){return r}});var i=n(18875);let r=new Map;function o(t,e){const n=r.get(t);return!n||n.currentState>=e}(0,i.U)((()=>{r=new Map}))},39607:function(t,e,n){n.d(e,{w:function(){return o}});var i=n(18875);let r={};function o(t,e){return null!=e?r[t]=e:r[t]}(0,i.U)((()=>{r={}}))},91661:function(t,e,n){n.d(e,{Gg:function(){return r},ez:function(){return s},ic:function(){return i}});var i,r,o=n(91682);!function(t){t[t.belowTheFoldTransitionStart=0]="belowTheFoldTransitionStart"}(i||(i={})),function(t){t[t.startLoading=14]="startLoading",t[t.loaded=4]="loaded",t[t.rendered=8]="rendered",t[t.domComplete=10]="domComplete",t[t.visuallyReady=11]="visuallyReady",t[t.mediaContentReady=15]="mediaContentReady",t[t.aboveTheFoldVisuallyReady=16]="aboveTheFoldVisuallyReady",t[t.belowTheFoldTransitionStart=0]="belowTheFoldTransitionStart",t[t.hydrationComplete=1]="hydrationComplete",t[t.pageVisuallyReady=2]="pageVisuallyReady"}(r||(r={}));const s=new Map([[o.D.loaded,r.loaded],[o.D.rendered,r.rendered],[o.D.domComplete,r.domComplete],[o.D.visuallyReady,r.visuallyReady],[o.D.mediaContentReady,r.mediaContentReady]])},91682:function(t,e,n){var i;n.d(e,{D:function(){return i}}),function(t){t[t.notStarted=1]="notStarted",t[t.loadDeferred=2]="loadDeferred",t[t.resolvedForLoad=3]="resolvedForLoad",t[t.loaded=4]="loaded",t[t.initialized=5]="initialized",t[t.renderDeferred=6]="renderDeferred",t[t.resolvedForRender=7]="resolvedForRender",t[t.rendered=8]="rendered",t[t.domComplete=10]="domComplete",t[t.visuallyReady=11]="visuallyReady",t[t.error=12]="error",t[t.startLoading=14]="startLoading",t[t.mediaContentReady=15]="mediaContentReady"}(i||(i={}))},10662:function(t,e,n){n.d(e,{$0:function(){return z},og:function(){return B},Qw:function(){return H}});var i=n(32236),r=n(84107);class o{get surfaceModel(){return(0,i.p)((()=>{const t=this._surfaceTemplateMapper(this._platformData);return t.interactionEvent.addEventListener(this.interactionEvent.dispatchEvent.bind(this.interactionEvent)),t}))()}get contentModel(){return(0,i.p)((()=>{const t=this._contentTemplateMapper(this._platformData);return t.interactionEvent.addEventListener(this.interactionEvent.dispatchEvent.bind(this.interactionEvent)),t}))()}get IsValid(){return!!this.id&&this.surfaceModel.IsValid&&this.contentModel.IsValid}constructor(t,e,n){if(this._platformData=t,this._surfaceTemplateMapper=e,this._contentTemplateMapper=n,this.interactionEvent=new r.z,!t)throw new Error("Platform data is required for PlacementModel")}getPlacementRules(){return[]}}class s extends o{getPlacementRules(){return[...super.getPlacementRules(),...this._platformData.placementRules??[]]}get id(){return this._platformData.id}get placementSource(){return"Internal"}get group(){return this._platformData.group}}var a=n(43261);class c{}class u extends c{constructor(){super(...arguments),this._placementsQueue=[]}providePlacement(t){this._callback?this._callback(t):this._placementsQueue.push(t)}subscribeForPlacementStream(t){this._callback||(this._callback=t,this._placementsQueue.forEach((e=>t(e))))}}class l{constructor(t){if(this._platformData=t,this.interactionEvent=new r.z,!t)throw new Error("Platform data is required for ContentTemplateModel")}}class d extends l{get contentType(){return a.J.CallToAction}get IsValid(){return!!this.title&&!!this.description}}class f extends d{get IsValid(){return!!this._contentData&&super.IsValid}get _contentData(){return this._platformData.contentModel}get title(){return this._contentData.title}get description(){return this._contentData.description}get contentImage(){return this._contentData.contentImage}get logoImage(){return this._contentData.logoImage}get disclaimerContent(){return this._contentData.disclaimerContent}get engageContentAction(){if(this._contentData.engageContentAction)return{...this._contentData.engageContentAction,actionDelegate:async()=>{var t,e;this.interactionEvent.dispatchEvent({type:"Engaged",ts:Date.now(),followUpPlacementPromise:null===(t=this._contentData.engageContentAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e?void 0:e.call(t)})}}}get dismissContentAction(){if(this._contentData.dismissContentAction||this._contentData.engageContentAction)return{label:this._platformData.defaultDismissLabel,ariaLabel:this._platformData.defaultDismissAriaLabel,...this._contentData.dismissContentAction,actionDelegate:async()=>{var t,e;this.interactionEvent.dispatchEvent({type:"Dismissed",ts:Date.now(),followUpPlacementPromise:null===(t=this._contentData.dismissContentAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e?void 0:e.call(t)})}}}}class h extends l{get contentType(){return a.J.CallToChoice}get IsValid(){return!!this.title&&!!this.description}}class p extends h{get IsValid(){return!!this._contentData&&super.IsValid&&this.validateOptionValues()}get _contentData(){return this._platformData.contentModel}get title(){return this._contentData.title}get description(){return this._contentData.description}get contentImage(){return this._contentData.contentImage}get logoImage(){return this._contentData.logoImage}get currentValue(){return this._contentData.currentValue}get choiceOptions(){return this._contentData.choiceOptions||[]}get dismissContentAction(){if(this._contentData.dismissContentAction)return{label:this._platformData.defaultDismissLabel,ariaLabel:this._platformData.defaultDismissAriaLabel,...this._contentData.dismissContentAction,actionDelegate:async()=>{var t,e;this.interactionEvent.dispatchEvent({type:"Dismissed",ts:Date.now(),followUpPlacementPromise:null===(t=this._contentData.dismissContentAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e?void 0:e.call(t)})}}}get engageContentAction(){if(this._contentData.engageContentAction)return{...this._contentData.engageContentAction,actionDelegate:async t=>{var e,n;this.interactionEvent.dispatchEvent({type:"Engaged",ts:Date.now(),followUpPlacementPromise:null===(e=this._contentData.engageContentAction)||void 0===e||null===(n=e.actionDelegate)||void 0===n?void 0:n.call(e,t)})}}}validateOptionValues(){const t=new Set;for(const e of this.choiceOptions){if(!e.value)return!1;if(t.has(e.value))return!1;t.add(e.value)}return!0}}var m=n(61708);class g extends m.r0{get IsValid(){return!!this._surfaceData&&super.IsValid}get _surfaceData(){return this._platformData.surfaceModel}get position(){return this._surfaceData.position}get size(){return this._surfaceData.size}get enableGradientBorderBottom(){return this._surfaceData.enableGradientBorderBottom}get dismissAfterResolve(){const t=this._surfaceData.dismissAfterSeconds||120,e=new Promise((e=>setTimeout((()=>e("Ignored")),1e3*t)));return this._surfaceData.dismissAfterResolve?Promise.race([e,this._surfaceData.dismissAfterResolve]):e}get displaySurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=(e=super.displaySurfaceAction).actionDelegate)||void 0===t||t.call(e),null===(n=this._surfaceData.displaySurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=super.hideSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.hideSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get closeSurfaceAction(){var t;return{ariaLabel:null===(t=this._platformData)||void 0===t?void 0:t.defaultCloseAriaLabel,...this._surfaceData.closeSurfaceAction,actionDelegate:()=>{var t,e,n,i;null===(t=super.closeSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.closeSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}}var v=n(9119);class w extends v.C{get surfaceType(){return"ContextualFeedbackCardLevel"}}class y extends w{get IsValid(){return!!this._surfaceData}get _surfaceData(){return this._platformData.surfaceModel}get dismissAfterResolve(){const t=new Promise((t=>setTimeout((()=>t("Ignored")),12e4)));return this._surfaceData.dismissAfterResolve?Promise.race([t,this._surfaceData.dismissAfterResolve]):t}get displaySurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=(e=super.displaySurfaceAction).actionDelegate)||void 0===t||t.call(e),null===(n=this._surfaceData.displaySurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=super.hideSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.hideSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}}class b extends v.C{get surfaceType(){return"ContextualFeedback"}}class S extends b{get IsValid(){return!!this._surfaceData}get _surfaceData(){return this._platformData.surfaceModel}get dismissAfterResolve(){return this._surfaceData.dismissAfterResolve}get displaySurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=(e=super.displaySurfaceAction).actionDelegate)||void 0===t||t.call(e),null===(n=this._surfaceData.displaySurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=super.hideSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.hideSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}}var x,C,k;!function(t){t.Promotional="Promotional",t.LegalCompliance="LegalCompliance"}(x||(x={})),function(t){t.SlideUp="SlideUp",t.FadeIn="FadeIn",t.SlideRight="SlideRight"}(C||(C={})),function(t){t.Top="Top",t.Bottom="Bottom"}(k||(k={}));class T extends v.C{get IsValid(){return!!this.position}get surfaceType(){return"HorizontalBanner"}}class $ extends T{get IsValid(){return!!this._surfaceData&&super.IsValid}get _surfaceData(){return this._platformData.surfaceModel}get transitionEffect(){return this._surfaceData.transitionEffect}get position(){return this._surfaceData.position}get dismissAfterResolve(){const t=this._platformData.dismissAfterSeconds||120,e=new Promise((e=>setTimeout((()=>e("Ignored")),1e3*t)));return this._surfaceData.dismissAfterResolve?Promise.race([e,this._surfaceData.dismissAfterResolve]):e}get bannerType(){return this._surfaceData.bannerType}get displaySurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=(e=super.displaySurfaceAction).actionDelegate)||void 0===t||t.call(e),null===(n=this._surfaceData.displaySurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get hideSurfaceAction(){return{actionDelegate:()=>{var t,e,n,i;null===(t=super.hideSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.hideSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}get closeSurfaceAction(){return{...this._surfaceData.closeSurfaceAction,actionDelegate:()=>{var t,e,n,i;null===(t=super.closeSurfaceAction)||void 0===t||null===(e=t.actionDelegate)||void 0===e||e.call(t),null===(n=this._surfaceData.closeSurfaceAction)||void 0===n||null===(i=n.actionDelegate)||void 0===i||i.call(n)}}}}var A,I=n(42833),P=n(28951);function _(){const t=(e="nurturingMockPlacement",n=window.location.search,P.cX.getQueryParameterByName(e,n)||P.cX.getQueryParameterByName(e.toLowerCase(),n));var e,n;return t?t.split(",").map((t=>t.trim())):[]}!function(t){t.InternalCoachmark="internal-coachmark",t.InternalHorizontalBanner="internal-horizontal-banner",t.InternalContextualFeedback="internal-contextual-feedback",t.WalktroughCoachmark="walktrough-coachmark",t.FloatingCoachmark="floating-coachmark",t.FloatingTopCenter="floating-top-center",t.FloatingBottomCenter="floating-bottom-center"}(A||(A={}));var M=n(26197),R=n(77137);function E(){return{id:"feedFreCoachmark",group:"Functional",placementSource:"Internal",surfaceModel:{surfaceType:"Coachmark",size:m.dm.Large,position:{coachmarkAnchor:M._.myFeed,anchoringPosition:m.RC.Above,hasPointer:!0,pointerPosition:m.Jt.Opposite}},contentModel:{contentType:a.J.CallToAction,title:"Discover your Feed Experience",description:"Get more out of your feed experience through this walk-thru.",contentImage:{url:`${(0,R.Yq)().StaticsUrl}latest/nurturing/rewards/signin-upsell-signin.png`,altText:"Feed Image"},engageContentAction:{label:"Get Started"},dismissContentAction:{label:"Maybe Later"}}}}function F(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.pY.BottomEnd;return{id:"floatingCoachMark",group:"Functional",placementSource:"Internal",surfaceModel:{surfaceType:"Coachmark",size:m.dm.Medium,position:t},contentModel:{contentType:a.J.CallToAction,title:"Discover your Feed Experience",description:"Get more out of your feed experience through this walk-thru.",contentImage:{url:`${(0,R.Yq)().StaticsUrl}latest/nurturing/rewards/signin-upsell-signin.png`,altText:"Feed Image"},engageContentAction:{label:"Get Started"},dismissContentAction:{label:"Maybe Later"}}}}const D={[A.InternalCoachmark]:E,[A.InternalHorizontalBanner]:()=>({id:"nurturingPlacementManagerTestKey",placementSource:"Internal",group:"Functional",surfaceModel:{surfaceType:"HorizontalBanner",position:"Top",displaySurfaceAction:{actionDelegate:()=>{}},hideSurfaceAction:{actionDelegate:()=>{}}},contentModel:{title:"Take Action",description:"Learn about promotion trough descriptions.",contentType:a.J.CallToAction,contentImage:{url:"https://www.bing.com/th?id=OADD2.10239253524416_1IRFPKC9YUHNF27KA&pid=21.2&c=16&roil=0&roit=0&roir=1&roib=1&w=300&h=225&dynsize=1",altText:"Image Alt Text"},engageContentAction:{label:"Engage",actionDelegate:()=>{}},dismissContentAction:{label:"Not Now",actionDelegate:()=>{}},disclaimerContent:{text:"Disclaimer text should be defined here and need to be informative.",links:[{linkText:"Term",linkUrl:"https://microsoft.com"},{linkText:"Privacy",linkUrl:"https://microsoft.com"}]}}}),[A.InternalContextualFeedback]:()=>({id:"nurturingPlacementManagerTestKey",placementSource:"Internal",group:"Functional",surfaceModel:{surfaceType:"ContextualFeedback",displaySurfaceAction:{actionDelegate:()=>{}},hideSurfaceAction:{actionDelegate:()=>{}}},contentModel:{title:"Do you like this feed?",description:"Description should be defined here and need to be informative.",contentType:a.J.CallToChoice,contentImage:{url:"https://www.bing.com/th?id=OADD2.10239253524416_1IRFPKC9YUHNF27KA&pid=21.2&c=16&roil=0&roit=0&roir=1&roib=1&w=300&h=225&dynsize=1",altText:"Image Alt Text"},choiceOptions:[{label:"Yes",actionDelegate:()=>{}},{label:"No",actionDelegate:()=>{}},{label:"Not sure",actionDelegate:()=>{}}],engageContentAction:{label:"Engage",actionDelegate:()=>{}},dismissContentAction:{label:"Not Now",actionDelegate:()=>{}},disclaimerContent:{text:"Disclaimer text should be defined here and need to be informative.",links:[{linkText:"Term",linkUrl:"https://google.com"},{linkText:"Privacy",linkUrl:"https://google.com"}]}}}),[A.WalktroughCoachmark]:()=>{const t=E(),e={id:"personalizeFreCoachmark",group:"Functional",placementSource:"Internal",surfaceModel:{surfaceType:"Coachmark",size:m.dm.Large,position:{coachmarkAnchor:M._.myInterests,anchoringPosition:m.RC.Above,hasPointer:!0,pointerPosition:m.Jt.Opposite}},contentModel:{contentType:a.J.CallToAction,title:"Personalize your feed",description:"This is personalization settings, where you can personalize your feed.",contentImage:{url:`${(0,R.Yq)().StaticsUrl}nurturing/rewards/signin-upsell-signin.png`,altText:"Personalization Image"},engageContentAction:{label:"Next"}}},n=new I.o,i=t=>{if("ArrowUp"===t.key)n.set("Ignored"),document.removeEventListener("keydown",i)};document.addEventListener("keydown",i);const r={...e,contentModel:{...e.contentModel,engageContentAction:{...e.contentModel.engageContentAction}}};return{...t,surfaceModel:{...t.surfaceModel,dismissAfterResolve:n.getResultAsync()},contentModel:{...t.contentModel,engageContentAction:{...t.contentModel.engageContentAction,actionDelegate:async()=>(await new Promise((function(t){setTimeout(t,1e4)})),r)}}}},[A.FloatingCoachmark]:F,[A.FloatingTopCenter]:()=>F(m.pY.TopCenter),[A.FloatingBottomCenter]:()=>F(m.pY.BottomCenter)};var O=n(33779),N=n(5302);const U={Coachmark:t=>new g(t),HorizontalBanner:t=>new $(t),ContextualFeedback:t=>new S(t),ContextualFeedbackCardLevel:t=>new y(t)},L={[a.J.CallToAction]:t=>new f(t),[a.J.CallToChoice]:t=>new p(t)};class B extends u{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._providerStaticContext=t,this.showMockPlacements()}createPlacement(t){const e=U[t.surfaceModel.surfaceType],n=L[t.contentModel.contentType];if(!e||!n)return;let i;const r={...this._providerStaticContext.localizedStrings};try{i=new s({...t,...r},e,n)}catch(e){return void(0,O.H)(N.ejn,"Internal data is not valid or missing.",void 0,t)}return i.interactionEvent.dispatchDecorator=t=>{var e;const n=t.followUpPlacementPromise?null===(e=t.followUpPlacementPromise)||void 0===e?void 0:e.then((t=>{if(t)return this.createPlacement(t)})):void 0;return{...t,followUpPlacementPromise:n}},i}sendInternalPlacement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=this.createPlacement({...t,placementRules:e});n&&this.providePlacement(n)}showMockPlacements(){_().forEach((t=>{const e=D[t];e&&this.sendInternalPlacement(e())}))}}const W=new I.o,H=t=>W.set(t),z=async()=>W.getResultAsync()},98538:function(t,e,n){n.d(e,{l:function(){return Q}});var i=n(33779),r=n(5302),o=n(44132),s=n(15598);const a="nurturingLocalStorage";class c{async isStrategyAvailable(){return(0,s.$o)().supported}async persistToCache(t){try{(0,s.$o)().setObject(a,t)}catch(t){return(0,i.H)(r.ydb,`Exception occurred while storing Placements Interactions in local storage.  Error: ${t}`,"",!0),!1}return!0}async restoreFromCache(){let t;try{t=(0,s.$o)().getObject(a)}catch(t){return void o.M0.sendAppErrorEvent({...r.ydb,message:`Exception occurred while restoring PlacementsInteractions from local storage. Error: ${t}`},!0)}return t||null}}var u=n(21215),l=n(16495);const d="nurturing_campaigns",f="nurturing_interaction_trace_ls_id",h="trace_id";class p{constructor(){if(this._traceId=-1,!(0,u.N)())return;const t=this._getLSTraceId();if(-1===t){const t=this._generateTraceId();this._traceId=t,(0,s.$o)().setItem(f,t.toString()),o.M0.addOrUpdateTmplProperty(`nf_itrace_id${t}:1`)}else this._traceId=t,o.M0.addOrUpdateTmplProperty(`nf_itrace_id${t}:2`)}isStrategyAvailable(){return l.U.isApiAvailableToUse()}persistToCache(t){const e={...t,[h]:this._traceId};return o.M0.addOrUpdateTmplProperty(`nf_trace_id_w_${this._traceId}`),l.U.savePreferenceSetting(d,e).catch((t=>((0,i.H)(r.ydb,`Exception occurred while storing Placements Interactions in persistent storage layer. Error: ${t}`,"",!0),!1)))}restoreFromCache(){return l.U.getClonedPreferenceSetting(d,!0).then((t=>null!=t&&t.value?(this.checkTraceId(t.value),null==t?void 0:t.value):null)).catch((t=>{o.M0.sendAppErrorEvent({...r.ydb,message:`Exception occurred while restoring PlacementsInteractions from persistent storage layer. Error: ${t}`},!0)}))}checkTraceId(t){const e=(null==t?void 0:t[h])||-1,n=this._getLSTraceId();o.M0.addOrUpdateTmplProperty(`nf_trace_id_r_${e}_${n}_${this._traceId}`),this._traceId!==e&&o.M0.addOrUpdateTmplProperty("nf_trace_id_r_pslMismatch"),this._traceId!==n&&(o.M0.addOrUpdateTmplProperty("nf_trace_id_r_lsMismatch"),(0,i.H)(r.ldR,"Localstorage trace id changed","",{pslTraceId:e,lsTraceId:n,_traceId:this._traceId}),this._traceId=n)}_generateTraceId(){return(new Date).getTime()}_getLSTraceId(){try{return parseInt((0,s.$o)().getItem(f)||"-1")}catch(t){return-1}}}var m,g=n(12286);!function(t){t[t.V0_1=.1]="V0_1",t[t.V0_2=.2]="V0_2"}(m||(m={}));const v=m.V0_2;class w{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;this._cacheStrategies=t,this._storageSchemaVersion=e}async initStorage(){for(const t of this._cacheStrategies)if(await t.isStrategyAvailable()){this._cacheStrategy=t;break}return!!this._cacheStrategy||((0,i.H)(r.ldR,"No Caching strategy available."),!1)}}function y(t){return"number"==typeof t&&t>0}class b{constructor(t){this._restoreLegacyInteractionForCoachMarkKeys=t}async restoreAndMergeLegacyInteractions(t){const e=await this.restoreLegacyInteractions();return this.mergeInteractionsData(t,e)}mergeInteractionsData(t,e){if(!e||!Object.keys(e).length)return t;if(!t)return{version:m.V0_1,placementsInteractions:e};const n={...t.placementsInteractions};return Object.keys(e).forEach((i=>{const r=this._mergeInteractionsOfSinglePlacement({presentInteractions:t.placementsInteractions[i],legacyInteractions:e[i]});n[i]=r})),{...t,placementsInteractions:n}}async restoreLegacyInteractions(){const t=this._restoreLegacyLocalSuperCoachmarkInteractionData(),e=await this._restoreLegacyLocalCoachmarkInteractionData().catch((t=>{(0,i.H)(r.ydb,`Exception occurred while restoring LegacyPlacementsInteractions from persistent storage layer. Error: ${t}`,void 0,{},!0)}));return e&&t?{...e,...t}:e||t}async _restoreLegacyLocalCoachmarkInteractionData(){var t;const e=(null===(t=this._restoreLegacyInteractionForCoachMarkKeys)||void 0===t?void 0:t.legacyCoachMarkKeys)??{},n=Object.keys(e).reduce(((t,n)=>e[n]?t.concat([g.S.getAllLocalCoachmarkCampaignsByKey(n)]):t),[]),i=(await Promise.all(n)).flat(),r={};return i.forEach((t=>{if(null==t||!t.count)return;const e=[...Array(t.count)].map((()=>({type:"Viewed",ts:t.time})));r[t.name]=e})),Object.keys(r).length?r:void 0}_restoreLegacyLocalSuperCoachmarkInteractionData(){let t={};try{((0,s.$o)().getObject("coachmarks")||[]).forEach((e=>{var n;e&&e.coachMarkKey&&null!==(n=this._restoreLegacyInteractionForCoachMarkKeys)&&void 0!==n&&null!==(n=n.superCoachMarkKeys)&&void 0!==n&&n[e.coachMarkKey]&&(t={...t,...this._transformLegacySuperCoachMarkInteraction(e)})}))}catch(t){o.M0.sendAppErrorEvent({...r.ydb,message:`Exception occurred while restoring LegacyPlacementsInteractions from local storage layer. Error: ${t}`},!0)}return Object.keys(t).length>0?t:void 0}_transformLegacySuperCoachMarkInteraction(t){if(!this._validateLegacySuperCoachMarkInteraction(t))return{};const{coachMarkKey:e,latestShownTimestamp:n,showTimes:i,repeatHours:r=0}=t;if(0===r)return{[e]:[{type:"Viewed",ts:n}]};const o=[],s=60*r*60*1e3;for(let t=1;t<=i;t++){const e=n-(i-t)*s;e>0&&o.push({type:"Viewed",ts:e})}return{[e]:o}}_validateLegacySuperCoachMarkInteraction(t){return!(!y(t.latestShownTimestamp)||!y(t.showTimes))&&(!t.repeatHours||"number"==typeof(e=t.repeatHours)&&e>=0);var e}_mergeInteractionsOfSinglePlacement(t){const{presentInteractions:e,legacyInteractions:n}=t;if(null==e||!e.length)return n;const i=e.sort(((t,e)=>t.ts-e.ts)),r=[...n],o=i[i.length-1].ts;for(;r.length&&r[0].ts<=o;)r.shift();return e.concat(r)}}const S=["OptInStickPromptLoad","OnLoadAutoScrollPrompt"],x=t=>{if(!t||!t.placementsInteractions||!t.version)return t;if(t.version!==m.V0_1)return t;const e=(t=>{var e;const n=new Map,i=new Set;null===(e=t.layoutPromotion)||void 0===e||e.forEach((t=>{i.add(t.ts)}));const r=[...S];return r.sort(((e,n)=>{var i,r;return((null===(i=t[e])||void 0===i?void 0:i.length)??0)-((null===(r=t[n])||void 0===r?void 0:r.length)??0)})),r.forEach((e=>{const r=t[e]||[];for(let t=0;t<r.length;t++){var o;const s=r[t];if(i.has(s.ts))continue;if(!n.has(s.ts)){n.set(s.ts,[{placementId:e,interaction:s,index:t}]);continue}let a=n.get(s.ts);const c=null===(o=a)||void 0===o?void 0:o[a.length-1];c.placementId!==e&&(t>c.index||(t<c.index&&(a=[{placementId:e,interaction:s,index:t}]),t===c.index&&a.push({placementId:e,interaction:s,index:t}),n.set(s.ts,a)))}})),n})(t.placementsInteractions),n=(t=>{const e=Array.from(t.keys());e.sort(((t,e)=>t-e));const n={};return e.forEach((e=>{t.get(e).forEach((t=>{n[t.placementId]||(n[t.placementId]=[]),n[t.placementId].push(t.interaction)}))})),Object.keys(n).forEach((t=>{n[t]=(t=>{let e=0,n=[];for(let i=t.length-1;i>=0&&!(e>=3);i--)"Viewed"===t[i].type&&(e+=1),n=[t[i],...n];return n})(n[t])})),n})(e);return{placementsInteractions:{...t.placementsInteractions,...n},version:m.V0_2}};class C extends w{constructor(){super(...arguments),this._preInteractionVersion=-1}async logPlacementInteraction(t,e){if(o.M0.addOrUpdateTmplProperty(`nf_log_interactions_${t}_${e.type}`,"1"),"Hidden"==e.type||"Served"==e.type)return;if(!this._cacheStrategy)return;const n=await this.getPlacementsInteractions();n[t]||(n[t]=[]),n[t].push(e),"locationAccuracyRevIP"===t&&o.M0.addOrUpdateTmplProperty(`nf_log_interactions_${t}_${e.type}_${e.ts}`,"1"),await this._cacheStrategy.persistToCache({version:this._storageSchemaVersion,placementsInteractions:n})}async getPlacementsInteractions(){if(this._cacheStrategy){const t=await this._cacheStrategy.restoreFromCache()||{};o.M0.addOrUpdateTmplProperty(`nf_interaction_v_${((null==t?void 0:t.version)||"").toString()}`,"1");const e=((t,e)=>{if(null==t||!t.version)return t;let n=t;switch(t.version){case m.V0_1:if(m.V0_1===e)break;n=x(n);case m.V0_2:}return n})(t,this._storageSchemaVersion);return e.version!==t.version&&await this._cacheStrategy.persistToCache(e),(null==e?void 0:e.placementsInteractions)||{}}return Promise.resolve({})}}var k=n(92068),T=n(10662),$=n(55727),A=n(75692),I=n(42833);class P{constructor(t){this.compareFn=t,this._itemsArray=[]}enqueue(t){var e;t&&t.length&&(this._itemsArray.push(...t),this._itemsArray.sort(this.compareFn),null===(e=this._settablePromise)||void 0===e||e.set())}async dequeue(){this._itemsArray.length||(this._settablePromise=new I.o,await this._settablePromise.getResultAsync());const t=this._itemsArray.shift();if(!t)throw new Error("Queue is empty but attempted to return an item.");return t}}var _=n(52185);const M={[A.p.FreOverlay]:1e3,[A.p.FeedLayoutPromotions]:100,[A.p.NurturingFunctional]:10,[A.p.NurturingPromotions]:1},R=(t,e)=>M[e.priorityGroup]-M[t.priorityGroup],E=async t=>{const e="__OverlayPlacementManager_displayedPlacementId__";return _.Gq.get(e)?_.Gq.get(e)===t.id:(_.Gq.set(e,t.id),!0)};class F{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._additionalEvaluators=t,this._placementPrioritizationStrategy=e,this._extensionContext=n,this._placementProcessingQueue=new P(this._placementPrioritizationStrategy)}enqueuePlacements(t){this._placementProcessingQueue.enqueue(t)}async startProcessing(){this._additionalEvaluators.push(E);const t=await(0,$._$)();var e,n;t&&this._additionalEvaluators.push((0,$.G$)(null===(e=this._extensionContext)||void 0===e?void 0:e.useFeatureEdgeTemplate,null===(n=this._extensionContext)||void 0===n?void 0:n.useFunctionalTemplateList));for(;;){const e=await this._placementProcessingQueue.dequeue();if(o.M0.addOrUpdateTmplProperty(`nf_evalu_${e.id}`,(new Date).getTime()+""),e.evaluator&&!await e.evaluator(e))continue;if((await Promise.all(this._additionalEvaluators.map((async t=>await t(e))))||[]).some((t=>!t))){o.M0.addOrUpdateTmplProperty(`nf_log_failed_adievalu_${e.id}`,(new Date).getTime()+"");continue}o.M0.addOrUpdateTmplProperty(`nf_disp_${e.id}`,(new Date).getTime()+"");const n=await e.display();t&&(0,$.PF)(e.id,n)}}}var D,O=n(79728),N=n(28951);!function(t){t.LocalStore="local-store",t.PersistentStore="persistent-store"}(D||(D={}));var U=n(93686);function L(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Object.keys(t).filter((e=>!!t[e])),i=Object.keys(e).filter((t=>!!e[t]));return t=>function(t){return e=>!((null==t?void 0:t.length)>0&&t.includes(e.id))}(n)(t)&&function(t){return e=>!((null==t?void 0:t.length)>0)||t.findIndex((t=>{var n;return null==e||null===(n=e.id)||void 0===n?void 0:n.startsWith(t)}))>=0}(i)(t)}var B=n(25941),W=n(17055),H=n(26156);const z=["Coachmark","HorizontalBanner"],V=t=>(e,n)=>{if(((t,e)=>!e[t.id]&&z.includes(t.surfaceModel.surfaceType))(e,t)){const t=15552e6;return(0,B.H)("Closed",t)(e,n)}return!0},j=[(0,B.H)("Viewed",6048e5,{relatedPlacementIds:["layoutPromotion"]})];var q=n(22680),G=n(13218);async function J(t){const e=[],{lockScreenJourneyFilterList:n,placementsFilterList:s,enableLogsForRulesCheck:a}=t;if(await async function(){var t;if(null!==G.Al&&void 0!==G.Al&&null!==(t=G.Al.ClientSettings)&&void 0!==t&&t.pageGenTime){const t=G.Al.ClientSettings.pageGenTime,e=new Date(t).getTime();Date.now()<e&&e-Date.now()>W.J&&(0,i.H)(r.W4C,"PageGenTime is later than current time.",`pageGenTime=${t};currentTime=${Date.now()}`)}const e=await(0,H._P)();if(!e)return!1;if(Date.now()-e<W.y)return!0;const n=await(0,H.aA)();if(!n)return!1;if(Date.now()-n<W.y)return!0;return!1}()){const n=t.edgeSuppressFilterList||{};e.push(L(n.excludeList||{},n.allowList||{supressAll:!0})),a&&o.M0.addOrUpdateTmplProperty("nf_rule_fre",(new Date).getTime()+"")}else n&&(0,q.zp)().includes("ocid=widgetonlockscreen")?(e.push(L((null==n?void 0:n.excludeList)||{},(null==n?void 0:n.allowList)||{})),a&&o.M0.addOrUpdateTmplProperty("nf_rule_lockscreen",(new Date).getTime()+"")):(e.push(L((null==s?void 0:s.excludeList)||{},(null==s?void 0:s.allowList)||{})),a&&o.M0.addOrUpdateTmplProperty("nf_rule_default",(new Date).getTime()+""));var c;t.closedThrottleEnabled&&e.push(V((null===(c=t.closedThrottleFilterList)||void 0===c?void 0:c.excludeList)||{}));return{Default:[...e,(0,B.S)("Viewed",2592e5)],Functional:e,FeedLayout:[...e,...j]}}const K={Internal:t=>{const e=new T.og({...null==t?void 0:t.internalPlacementStaticContext,localizedStrings:null==t?void 0:t.localizedStrings});return(0,T.Qw)(e),e}};class Q extends U.F{constructor(t,e){super(t,e),this.initPlacementManager(e)}async initPlacementManager(t){var e;const{placementProviders:n}=t||{},i=(null==n?void 0:n.map((t=>{const e=K[t];if(e)return e(this.config)})).filter((t=>null!==t)))||[],r=[],o=(null==t?void 0:t.storeCacheStrategyOverride)||N.cX.getQueryParameterByName("nurturingStoreStrategy",window.location.search);o==D.LocalStore?r.push(new c):o==D.PersistentStore?r.push(new p):r.push(new p,new c),null!==(e=this.config.restoreLegacyInteractionData)&&void 0!==e&&e.enabled&&r.forEach((t=>{!function(t,e){const n=t.restoreFromCache.bind(t);t.restoreFromCache=async()=>{const t=new b(e),i=await n();return await t.restoreAndMergeLegacyInteractions(i)}}(t,this.config.restoreLegacyInteractionData)}));const s=new C(r,this.config.interactionStorageVersion);await s.initStorage();const a={...this.config.extensionContext||{}},u=await J(this.config),l=new k.E0(i,s,u,a);(0,k.c0)(l);const d=this.config.overlayExtensionContext||{},f=new F([],void 0,{...d});(0,O.eJ)(f)}}},84107:function(t,e,n){n.d(e,{z:function(){return i}});class i{constructor(){this._eventListeners=new Set}addEventListener(t){this._eventListeners.add(t)}removeEventListener(t){this._eventListeners.delete(t)}dispatchEvent(t){this._eventListeners.forEach((e=>this.dispatchDecorator?e(this.dispatchDecorator(t)):e(t)))}}},43261:function(t,e,n){var i;n.d(e,{J:function(){return i}}),function(t){t.CallToAction="CallToAction",t.CallToChoice="CallToChoice"}(i||(i={}))},92068:function(t,e,n){n.d(e,{Un:function(){return C},E0:function(){return b},c0:function(){return x}});var i,r,o,s=n(75692),a=n(79728),c=n(33779),u=n(5302),l=n(28951);function d(t,e){return l.cX.getQueryParameterByName(t,e)||l.cX.getQueryParameterByName(t.toLowerCase(),e)}!function(t){t.IrisCoachmark="iris-coachmark",t.IrisHorizontalBanner="iris-horizontal-banner",t.AmplifyCoachmark="amplify-coachmark",t.AmplifyHorizontalBanner="amplify-horizontal-banner"}(i||(i={})),function(t){t.LocalStore="local-store",t.PersistentStore="persistent-store"}(r||(r={})),function(t){t.Individual="individual",t.Group="group"}(o||(o={}));var f=n(98604),h=n(14969);class p{constructor(){this._placementsSurfaceMap={}}addPlacements(t){t&&t.length&&t.forEach((t=>{const e=t.surfaceModel.surfaceType,n=this._placementsSurfaceMap[e];n?n.push(t):this._placementsSurfaceMap[e]=[t]}))}getPlacementsBySurface(t){const{surfaceType:e,supportedContentTypes:n}=t,i=this._placementsSurfaceMap[e];if(i&&i.length)return i.filter((t=>n.includes(t.contentModel.contentType)))}}var m=n(42833);class g{addSurface(t,e){t&&e&&(this.addSurfaceToRegistry(t,e),this.resolveSurfaceRegistryPromise(t.surfaceType),this._surfacesRegisteredCallback([t]))}async waitForSurfaceRegistered(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;const n=t.surfaceModel.surfaceType,i=this.getSurfaceRegistryPromise(n);return await Promise.race([i.getResultAsync(),new Promise((t=>setTimeout((()=>t(!1)),e)))]),!!i.wasSet()||((0,c.H)(u.Vmu,`Timeout waiting for surface type: ${n} to be registered`),!1)}getSurfaceCallbackForPlacement(t){const e=t.surfaceModel.surfaceType,n=this._surfaceRegistry[e];if(!n)return;return n[t.contentModel.contentType]}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this._surfacesRegisteredCallback=t,this._expectedSurfaces=e,this._surfaceRegistry={},this._surfaceRegistryStatusMap={}}addSurfaceToRegistry(t,e){const{surfaceType:n,supportedContentTypes:i}=t;i.forEach((t=>{const i=this._surfaceRegistry[n];i?i[t]=e:this._surfaceRegistry[n]={[t]:e}}))}getSurfaceRegistryPromise(t){return this._surfaceRegistryStatusMap[t]||(this._surfaceRegistryStatusMap[t]=new m.o),this._surfaceRegistryStatusMap[t]}resolveSurfaceRegistryPromise(t){this.getSurfaceRegistryPromise(t).set()}}var v=n(44132),w=n(34254);const y={Default:s.p.NurturingPromotions,Functional:s.p.NurturingFunctional,FeedLayout:s.p.FeedLayoutPromotions};class b{getInteractions(){return this._interactionsTracker.getPlacementsInteractions()}registerSurface(t,e){const{surfaceType:n,supportedContentTypes:i}=t||{};n&&i.length&&e?this._surfaceRegistry.addSurface(t,e):(0,c.H)(u.gY$,"Surface Type, Supported Content Types or Surface Callback are not provided.")}constructor(t,e,n,i){this._placementProviders=t,this._interactionsTracker=e,this._rules=n,this._extensionContext=i,this._placementRegistry=new p,this._surfaceRegistry=new g(this.onSurfacesRegistered.bind(this),null==i?void 0:i.expectedSurfaces),this.initializeProviders().then((()=>{this.waitToProcess().then((()=>{v.M0.addOrUpdateTmplProperty("nf_process_s",Date.now()+""),(0,a.HD)().then((t=>{t.startProcessing()}))}))}))}waitToProcess(){var t;const e=[(0,h.eC)(),(0,w.F_)()],n=(null===(t=this._extensionContext)||void 0===t?void 0:t.waitedElements)||[];if(n.length){const t=n.map((t=>(0,f.h_)(t)));e.push(...t)}return Promise.all(e)}async initializeProviders(){this._placementProviders.filter((t=>null==t?void 0:t.subscribeForPlacementStream)).forEach((t=>t.subscribeForPlacementStream((t=>this.onPlacementsReceived([t])))));const t=this._placementProviders.filter((t=>null==t?void 0:t.getAvailablePlacements)).map((t=>t.getAvailablePlacements())),e=(await Promise.all(t)).flat();this.onPlacementsReceived(e)}onPlacementsReceived(t){var e;null!=t&&t.length&&(t.forEach((t=>{t.interactionEvent.addEventListener((e=>{var n,i;null===(n=this._extensionContext)||void 0===n||null===(i=n.onPlacementInteraction)||void 0===i||i.call(n,t,e),this._interactionsTracker.logPlacementInteraction(t.id,e)})),t.interactionEvent.dispatchEvent({type:"Served",ts:Date.now()})})),null!==(e=this._extensionContext)&&void 0!==e&&e.enableEarlyEnqueue||this._placementRegistry.addPlacements(t),this.enqueuePlacementsForProcessing(t))}onSurfacesRegistered(t){var e;if(null!==(e=this._extensionContext)&&void 0!==e&&e.enableEarlyEnqueue)return;const n=t.flatMap((t=>this._placementRegistry.getPlacementsBySurface(t)||[]));n.length&&this.enqueuePlacementsForProcessing(n)}enqueuePlacementsForProcessing(t){const e=t.map((t=>{var e;if(null!==(e=this._extensionContext)&&void 0!==e&&e.enableEarlyEnqueue||this._surfaceRegistry.getSurfaceCallbackForPlacement(t))return{id:t.id,evaluator:async()=>{var e;if(await(0,h.hR)(),null!==(e=this._extensionContext)&&void 0!==e&&e.enableEarlyEnqueue){if(!await this._surfaceRegistry.waitForSurfaceRegistered(t)||!this._surfaceRegistry.getSurfaceCallbackForPlacement(t))return!1}return await this.evaluatePlacement(t)},display:async()=>await this.sendPlacementToSurface(t,this._surfaceRegistry.getSurfaceCallbackForPlacement(t)),priorityGroup:y[t.group]}})).filter((t=>!!t));(0,a.HD)().then((t=>{t.enqueuePlacements(e)}))}async evaluatePlacement(t){const e=function(){const t=d("ignoreNurturingPlacementRules",window.location.search);return t?t.split(",").map((t=>t.trim())):[]}(),n=await this._interactionsTracker.getPlacementsInteractions(),i=Object.keys(n).map((t=>({placementId:t,interactionsCount:n[t].length})));if(v.M0.addOrUpdateTmplProperty("nf_cache_interactions",i.map((t=>{let{placementId:e,interactionsCount:n}=t;return`${e}_${n}`})).join(",")),function(t){const e=(t.locationAccuracyRevIP||[]).slice(-3).map((t=>`${t.type}_${t.ts}`)).join(",");v.M0.addOrUpdateTmplProperty("nf_cache_interaction_locationAccuracyRevIP",e)}(n),!e.includes(o.Individual))for(const e of t.getPlacementRules()){if(!await e(t,n))return v.M0.addOrUpdateTmplProperty(`nf_log_failed_ppir_${t.id}`,(new Date).getTime()+""),!1}if(!e.includes(o.Group)){const e=this._rules[t.group]||[];for(const i of e){if(!await i(t,n))return v.M0.addOrUpdateTmplProperty(`nf_log_failed_ppgr_${t.id}`,(new Date).getTime()+""),!1}}const r=function(){const t=d("filterNurturingPlacements",window.location.search);return t?t.split(",").map((t=>t.trim())):[]}();return!(("1"===d("vptest",window.location.search)||null!=r&&r.length)&&!r.includes(t.id))}async sendPlacementToSurface(t,e){const n=new m.o;let i,r;t.interactionEvent.addEventListener((async t=>{"Hidden"!==t.type&&(r=t.type),t.followUpPlacementPromise&&(i=t.followUpPlacementPromise),"Hidden"===t.type&&(await i,n.set(r||"Viewed"))})),e(t);const o=await n.getResultAsync(),a=await i,c=a&&this._surfaceRegistry.getSurfaceCallbackForPlacement(a);if(a&&c)return await this.sendPlacementToSurface(a,c);switch(o){case"Engaged":return s.Y.Engaged;case"Dismissed":case"Closed":return s.Y.Dismissed;default:return s.Y.Ignored}}}const S=new m.o,x=t=>S.set(t),C=async()=>S.getResultAsync()},9119:function(t,e,n){n.d(e,{C:function(){return r}});var i=n(84107);class r{get displaySurfaceAction(){return{actionDelegate:()=>{this.interactionEvent.dispatchEvent({type:"Viewed",ts:Date.now()})}}}get hideSurfaceAction(){return{actionDelegate:()=>{this.interactionEvent.dispatchEvent({type:"Hidden",ts:Date.now()})}}}get closeSurfaceAction(){return{actionDelegate:()=>{this.interactionEvent.dispatchEvent({type:"Closed",ts:Date.now()})}}}constructor(t){if(this._platformData=t,this.interactionEvent=new i.z,!t)throw new Error("Platform data is required for PlacementSurfaceModel")}}},61708:function(t,e,n){n.d(e,{Jt:function(){return s},RC:function(){return i},dm:function(){return o},pY:function(){return r},r0:function(){return u}});var i,r,o,s,a,c=n(9119);!function(t){t.Above="Above",t.Below="Below",t.Left="Left",t.Right="Right"}(i||(i={})),function(t){t.TopStart="TopStart",t.TopEnd="TopEnd",t.TopCenter="TopCenter",t.BottomStart="BottomStart",t.BottomEnd="BottomEnd",t.BottomCenter="BottomCenter"}(r||(r={})),function(t){t.Mini="Mini",t.Small="Small",t.Medium="Medium",t.Large="Large"}(o||(o={})),function(t){t.Adjacent="Adjacent",t.Center="Center",t.Opposite="Opposite"}(s||(s={})),function(t){t.Outside="Outside",t.Target="Target",t.OutsideAndTarget="OutsideAndTarget"}(a||(a={}));class u extends c.C{get IsValid(){return!!this.size}get surfaceType(){return"Coachmark"}}},25941:function(t,e,n){function i(t,e){if(!t||!e)throw new Error("PlacementInteractionsThrottle: Invalid parameters.");return(n,i)=>{if(!n)return!1;if(!i)return!0;let r;return Object.values(i).flat().forEach((e=>{(null==e?void 0:e.type)===t&&null!=e&&e.ts&&(!r||r.ts<e.ts)&&(r=e)})),!(r&&Date.now()-r.ts<=e)}}function r(t,e,n){return(i,r)=>{if(!i)return!1;let o=(null==r?void 0:r[i.id])||[];const{relatedPlacementIds:s}=n||{};if(null!=s&&s.length){const t=s.filter((t=>t!==i.id)).flatMap((t=>(null==r?void 0:r[t])||[]));o=[...o,...t]}if(!o.length)return!0;let a;o.forEach((e=>{(null==e?void 0:e.type)===t&&null!=e&&e.ts&&(!a||a.ts<e.ts)&&(a=e)}));return!!(!a||a.ts&&Date.now()-a.ts>e)}}n.d(e,{H:function(){return r},S:function(){return i}})},17055:function(t,e,n){n.d(e,{J:function(){return r},y:function(){return i}});const i=864e5,r=36e5},9279:function(t,e,n){n.d(e,{d:function(){return A}});var i=n(5302),r=n(33779),o=n(42122);var s=n(77137),a=n(16715),c=n(5884),u=n(7733),l=n(92421),d=n(90830),f=n(82588),h=n(13218),p=n(52429),m=n(97265),g=n(88048),v=n(32308),w=n(77062),y=n(62328),b=n(52211);class S{constructor(){this.cachedMetadata={}}get(t){const e=x(t);if(e)return this.cachedMetadata[e]}set(t,e){const n=x(t);n&&(this.cachedMetadata[n]=e)}}function x(t){if(t)return JSON.stringify(t)}var C=n(44132),k=n(21215),T=n(47290),$=n(23767);class A{constructor(t){this.config=t,this.responseCache=new S,this.requestPathWithoutFeedId="MSN/Feed/me",this.requestPathWithFeedId="MSN/Feed",this.requestPathForFeedLayout="MSN/FeedLayout",this.requestPathForArticleFRE="news/Feed",this.requestPathForNewsFeed="news/Feed"}async fetch(t,e){let n=this.config.initialRequest;if(t&&("homePage"===s.jG.AppType||t.feedId||!n.feedId||t.nextPageUrl||(t.feedId=n.feedId),n={...n,...t}),!n)return void C.M0.sendAppErrorEvent({...i.pIg,message:"default OneService fetch configuration was invalid"});const f=(null==t?void 0:t.forceEnterpriseCompliance)||(0,y.VQ)(),h=(0,a.tr)()?await this.getSapphireOneServiceFeedCallHeaders():await m.$D.getOneServiceFeedCallHeaders(f);if(f&&(null==h||!h[c.Yu.authorization])&&(null==t||!t.forceNoAuthorization))return;const S={credentials:"include",headers:h,method:"GET"};null!=t&&t.credentialsOverride&&(S.credentials=t.credentialsOverride);const x=n.useNextPageUrl&&n.nextPageUrl,T=n.feedLayoutRequestType;let A;A=!x&&T?this.requestPathForFeedLayout:"feed"===n.query&&n.feedId||"contentconsumption"===n.query?this.requestPathForNewsFeed:n.feedId||n.entityId?this.requestPathWithFeedId:"frefeedback"===n.query||"frefeedbackneg"===n.query||"UserFre"===n.query?this.requestPathForArticleFRE:this.requestPathWithoutFeedId;const I=this.responseCache.get(n);if(this.isRequestCacheable(A)&&I)return I;const P=(0,g.fU)(A,null==t?void 0:t.overwriteBaseApiURL),_=(0,w.Ee)();if(x)this.requestQueryParams=new u.h(new URL(x).search),_>0&&this.requestQueryParams.set(w.i$,_.toString()),!s.jG.SendFeedCallActivityIdInHeader&&s.jG.ActivityId&&("winWidgets"===s.jG.AppType&&this.requestQueryParams.get("activityId")||this.requestQueryParams.set("activityId",s.jG.ActivityId));else{const{ocid:t,flightData:e,overwriteFlightData:i,muidFallback:r}=n,o=2===await(0,b.XJ)()?m.$D.getOneServiceParamsWithAuth(s.jG.UserId,t,!1,e,i):m.$D.getOneServiceParamsWithoutAuth(s.jG.UserId||r&&`m-${s.jG.ActivityId}`,t,!1,e,i,f,"homePage"===s.jG.AppType);this.requestQueryParams=new u.h;for(let t=0;t<o.length;t++)this.requestQueryParams.set(o[t].key,o[t].value);if(T&&!n.start)this.requestQueryParams.set("t",T);else if(!n.disableQueryType){const t=n.queryType||"myfeed";this.requestQueryParams.set("queryType",t)}if(this.requestQueryParams.set("wrapodata","false").set("DisableTypeSerialization","true").set("timeOut",`${this.getRequestTimeout(n)}`).set("contentType",n.contentType).set("$select",n.select).set("responseSchema",n.disableFlatViewResponse?p.c.CardView:p.c.FlatView),n.apiKey&&this.requestQueryParams.set("apikey",n.apiKey),n.count&&this.requestQueryParams.set("$top",`${n.count}`),n.contentId&&this.requestQueryParams.set("contentId",n.contentId),n.entityIds&&this.requestQueryParams.set("entityids",n.entityIds),n.feedProviderId&&this.requestQueryParams.set("FeedProviderId",n.feedProviderId),this.tryAddQueryInterestParams(n)||this.requestQueryParams.set("ids",n.feedId).set("query",n.query).set("entityids",n.entityId),!T&&!n.disableLocation){const t=m.$D.getLocationParams(n.latitude,n.longitude);t&&this.requestQueryParams.set(t.key,t.value)}n.start&&this.requestQueryParams.set("$skip",`${n.start}`),n.infopaneItemCount&&(this.requestQueryParams.set("infopaneCount",`${n.infopaneItemCount}`),!1===n.complexInfopaneEnabled&&this.requestQueryParams.set("cipenabled","false")),_>0&&this.requestQueryParams.set(w.i$,_.toString()),(n.useDelta||n.sessionId)&&(!1!==n.useDelta&&this.requestQueryParams.set("delta","true"),n.sessionId&&this.requestQueryParams.set("session",n.sessionId)),n.channel&&this.requestQueryParams.set("channel",n.channel),!s.jG.SendFeedCallActivityIdInHeader&&s.jG.ActivityId&&"winWidgets"===s.jG.AppType&&s.jG.ActivityIdFor1S&&this.requestQueryParams.set("activityId",s.jG.ActivityIdFor1S)}let M,R,E,F,D,O,N;"UserFre"===n.query&&this.requestQueryParams.set("entityIds",n.userFreCandidatesSetId),s.jG.SendFeedCallActivityIdInHeader&&this.requestQueryParams.delete("activityId"),s.jG.UxMode&&this.requestQueryParams.set("uxmode",s.jG.UxMode),P.search=this.requestQueryParams.toString();try{var U,L;const t=(0,k.N)()?1e4:800,e=await(0,v.w)((async()=>this.config.useFetchPromise?await(0,v.O)(decodeURIComponent(P.href),S,t):await(0,l.Sm)(decodeURIComponent(P.href),t,S)),"OneServiceCardProvider.fetch");if(E=(null===(U=e.headers)||void 0===U?void 0:U.get(c.rD.traceId))||void 0,F=(null===(L=e.headers)||void 0===L?void 0:L.get(c.rD.debugId))||void 0,!e||!e.ok&&404!==e.status){D=e?e.status:null,O=e?e.statusText:null;const t=401===D?i.THd:i.p3y;return void C.M0.sendAppErrorEvent({...t,message:e?"OneService returned error response":"OneService response was null",pb:{...t.pb,fetchNetworkResponse:{activityId:s.jG.ActivityId,requestUrl:P.href,statusCode:D,statusText:O,traceId:E,debugId:F}}})}if(204===e.status||404===e.status)M={feedItems:[]},D=e.status,O=e.statusText,C.M0.sendAppErrorEvent({...i.n82,message:204===e.status?"Empty non first-page response":"Empty first-page response",pb:{...i.n82.pb,fetchNetworkResponse:{activityId:s.jG.ActivityId,requestUrl:P.href,statusCode:D,statusText:O,traceId:E,debugId:F}}});else{if(n.rawView)return e.json();M=await e.json()}if(e.headers){const t=e.headers.get(c.rD.isStatic);if(t&&((0,w.e5)(t),C.M0.sendAppErrorEvent({...i.ovB,pb:{...i.ovB.pb,customMessage:`Request URL: ${decodeURIComponent(P.href)}`,fetchNetworkResponse:{traceId:E,debugId:F}},message:"Fell back to static content on the feeds call"})),!t){const t=e.headers.get(c.rD.digitalId);(0,d.t)(t)}const n=e.headers.get("ddd-tmpl");C.M0.addOrUpdateTmplString(n),R=e.headers.get("ddd-session-id"),N=C.M0.addOrUpdateIdxId(E,!1),(0,w.Dz)(F,!1)}}catch(t){return void(0,r.H)(i.u45,"Error while fetching OneService response",void 0,{...i.u45.pb,customMessage:`Error: ${t}`,fetchNetworkResponse:{activityId:s.jG.ActivityId,requestUrl:P.href,traceId:E,debugId:F}})}if(!M)return void(0,r.H)(i.XFR,"Didn't get valid JSON from response.",void 0,{...i.XFR.pb,fetchNetworkResponse:{activityId:s.jG.ActivityId,requestUrl:P.href,traceId:E,debugId:F}});const B=(this.requestQueryParams.get("t")||"").toLowerCase(),W="tabriver"===B||"tabs"===B,H=this.requestQueryParams.get("responseSchema"),{nextPageUrl:z,feedItems:V}=H===p.c.CardView?(0,$.ni)(M,W,!1,N):M;if(!V)return void C.M0.sendAppErrorEvent({...i.yWd,message:"Didn't get valid feed items list from response.",pb:{...i.yWd.pb,fetchNetworkResponse:{activityId:s.jG.ActivityId,requestUrl:P.href,responseJson:JSON.stringify(M),traceId:E,debugId:F}}});if(!V.length&&!n.start)if(n.isSearchRequest)this.trackEmptyResponseForInterestSearch(n.feedId,n.query,P.href);else if(n.feedId){const{emptyResponseFeedIds:t}=this.config.initialRequest;e||n.feedId.startsWith("Q_")||t&&t.length&&-1!==t.indexOf(n.feedId)||this.trackEmptyResponseForXFeed(n.feedId,P.href,E,F)}else n.query?this.trackEmptyResponseForQueryFeed(n.query,P.href):this.trackAppErrorHelper(i.uCS,"OneService returned an empty feed for a myfeed request.",P.href,null,null,"",D,O);if(W)if("tabriver"===B){const t=V.find((t=>"tabbedInfopane"===t.type));t&&t.subItems&&t.subItems.length||C.M0.sendAppErrorEvent({...i.$Ej,pb:{...i.$Ej.pb,feedData:JSON.stringify(M),fetchNetworkResponse:{activityId:s.jG.ActivityId,requestUrl:P.href,responseJson:JSON.stringify(M)}},message:"TabRiver request returned empty content for tabbed infopane card."})}else if("tabs"===B){let t=!1;t=!V.length||-1!==V.findIndex((t=>"tabbedInfopane"!==t.type||!t.subItems||!t.subItems.length)),t&&C.M0.sendAppErrorEvent({...i.a3w,pb:{...i.a3w.pb,fetchNetworkResponse:{activityId:s.jG.ActivityId,requestUrl:P.href,responseJson:JSON.stringify(M)}},message:"Tabs request returned empty content for one or more tabbed infopane cards."})}let j;if(V.length>=0?j={...n,nextPageUrl:z,start:(n.start||0)+n.count}:o.k.log(`River has reached end of content stream. requested: ${n.count}, received: ${V.length}`),n.postRequestGrouping){const{start:t,count:e,type:i}=n.postRequestGrouping,r={type:i,subItems:V.splice(t,e)};V.splice(t,0,r)}F&&(V.debugId=F);const q={cardMetadata:V,nextPageRequest:j,sessionId:R,feedContext:M.feed,financeMetadata:M.financeMetadata,debugId:F};return this.isRequestCacheable(A)&&this.responseCache.set(n,q),q}fetchFromWebWorker(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2?arguments[2]:void 0;return(0,k.N)()?(0,f.ot)({id:t},e).then((t=>{const e=t.payload;if(!t.fetched||!e||!e.feedData)return null;const i=e.traceId,r=C.M0.addOrUpdateIdxId(i,!1);e.responseSchema===p.c.CardView&&(e.feedData=(0,$.ni)(e.feedData,e.isTabbedInfopaneResponse,!1,r));const{nextPageUrl:o,feedItems:s=[]}=e.feedData;let a,c=this.config.initialRequest;if(n&&(c={...c,...n}),o&&s.length&&(a={...c,start:(c.start||0)+c.count,nextPageUrl:o}),c.postRequestGrouping){const{start:t,count:e,type:n}=c.postRequestGrouping,i={type:n,subItems:s.splice(t,e)};s.splice(t,0,i)}const u=e.debugId;return(0,w.Dz)(u,!1),{cardMetadata:s,nextPageRequest:a,sessionId:e.sessionId}})):Promise.resolve(null)}clearCache(){this.responseCache=new S}getRequestTimeout(t){const{timeoutMs:e,isSearchRequest:n,query:i,customFeedTimeoutMs:r}=t;return n&&i&&r?r:e}tryAddQueryInterestParams(t){if(!t.useVerticalAsInterest&&!t.useCategoryAsInterest)return!1;const e=(t.useVerticalAsInterest?h.Al.ClientSettings.verticalKey:h.Al.ClientSettings.categoryKey)||"",n=t.verticalCategoryKeyToInterestMapping[e.toLowerCase()],r=n||"news";return this.requestQueryParams.set("query",encodeURIComponent(r)).set("source",t.contentSource),n||t.useCategoryAsInterest&&!e||C.M0.sendAppErrorEvent({...i.US9,message:"Failed to get content",pb:{...i.US9.pb,customMessage:`Failed to get content for VerticalKey:${s.jG.HostPage.verticalKey} | CategoryKey:${s.jG.HostPage.categoryKey}. Loading fallback views river with ${r} content.`}}),!0}async getSapphireOneServiceFeedCallHeaders(){const t=await(0,T.d)();return t[c.Yu.activityId]=s.jG.ActivityId,t.SiteName="api.msn.com",t}trackAppErrorHelper(t,e,n,i,r,o,a,c,u,l){let d="";i&&(d+=`Feed id: ${i}. `),r&&(d+=`Feed query: ${r}. `),C.M0.sendAppErrorEvent({...t,message:e,pb:{...t.pb,customMessage:d,fetchNetworkResponse:{activityId:s.jG.ActivityId,requestUrl:n,responseJson:o,statusCode:a,statusText:c,traceId:u||void 0,debugId:l||void 0}}})}trackEmptyResponseForQueryFeed(t,e){this.trackAppErrorHelper(i.huq,"OneService returned an empty feed for a query-powered feed. See property bag for the query.",e,null,t)}trackEmptyResponseForXFeed(t,e,n,r){this.trackAppErrorHelper(i.MD5,"OneService returned an empty feed for an x-feed page.",e,t,null,"",null,null,n,r)}trackEmptyResponseForInterestSearch(t,e,n){t?this.trackAppErrorHelper(i.L90,"OneService returned an empty feed for a user searched xfeed.",n,t,null):this.trackAppErrorHelper(i.V3_,"OneService returned an empty feed for a user query.",n,null,e)}isRequestCacheable(t){return!this.config.cacheDisableAll&&(!this.config.cacheDisabledRequestPaths||!this.config.cacheDisabledRequestPaths.includes(t))}}A.providerName="OneService"},52429:function(t,e,n){var i,r;n.d(e,{c:function(){return i}}),function(t){t.CardView="cardview",t.FlatView="flatview"}(i||(i={})),function(t){t.t3="T3",t.t6="T6"}(r||(r={}))},23767:function(t,e,n){n.d(e,{N:function(){return h},TL:function(){return f},XA:function(){return l},ni:function(){return a},v9:function(){return d}});var i=n(34800),r=n(5302),o=n(44132),s=n(43522);function a(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;if(!t)return t;if(Array.isArray(t)){if(!t.length)return t;t=t[0]}if(!t||!t.subCards||!Array.isArray(t.subCards))return t;const s=t.subCards.map((t=>c(t,e,n,i)));return!t.subCards.length||s&&s.length&&t.subCards.length===s.length||o.M0.sendAppErrorEvent({...r.eto,message:"Mapper returned invalid data",pb:{...r.eto.pb,customMessage:`Count mismatch - expected count [${t.subCards.length}] - actual count [${s.length}]`}}),{feedItems:s,nextPageUrl:t.nextPageUrl}}function c(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;if(!t)return{};if(t.type===i.PL.BingHealthFitnessCard||t.type===i.PL.BoostAd||t.type===i.PL.CashbackAds||t.type===i.PL.CommunityCard||t.type===i.PL.DonationNpoCard||t.type===i.PL.Elections||t.type===i.PL.EntertainmentPremierCard||t.type===i.PL.EsportsCasualGames||t.type===i.PL.EsportsHighlight||t.type===i.PL.EsportsLiveStream||t.type===i.PL.EventSDCardAmplifyAds||t.type===i.PL.EventSDCardShopping||t.type===i.PL.EventSDCardSportsMIT1||t.type===i.PL.EventSDCardSportsMIT2||t.type===i.PL.EventSDCardSportsMIT3||t.type===i.PL.EventSDCardWorldCup||t.type===i.PL.EventSDCardWorldCup2||t.type===i.PL.GroupedContent||t.type===i.PL.HealthRiverCard||t.type===i.PL.HealthTipCard||t.type===i.PL.LinkedInCard||t.type===i.PL.LocalGuide||t.type===i.PL.LocalNews||t.type===i.PL.LocalNewsFeed||t.type===i.PL.MyBriefRiverCard||t.type===i.PL.TrendingSearchCard||t.type===i.PL.RichCalendarCard||t.type===i.PL.DailyGreetingCard||t.type===i.PL.Promotion||t.type===i.PL.SageGroupedFeed||t.type===i.PL.ShoppingFeedCard||t.type===i.PL.ShoppingMerchantCategoryDeals||t.type===i.PL.ShoppingProngCardResponse||t.type===i.PL.ShoppingProngTracking||t.type===i.PL.SportsMatch||t.type===i.PL.SportsOlympics||t.type===i.PL.StockQuote||t.type===i.PL.StockQuote_spotlight||t.type===i.PL.TopStories||t.type===i.PL.TrafficDelays||t.type===i.PL.TrafficInfo||t.type===i.PL.Transit||t.type===i.PL.TravelDestinationCard||t.type===i.PL.Upsell||t.type===i.PL.UserInterestNTPProvider||t.type===i.PL.UserInterestTopic||t.type===i.PL.UserInterestProvider||t.type===i.PL.UserInterestTopicAndProvider||t.type===i.PL.TopicSuggestionforConsumptionPage||t.type===i.PL.ProviderSuggestionForConsumptionPage||t.type===i.PL.WatchVideoCard||t.type===i.PL.WeatherSummary||t.type===i.PL.WeatherSummary_spotlight||t.type===i.PL.WorkHeadlines||t.type===i.PL.ColdStartArticleFreCard||t.type===i.PL.MoneyInfo||t.type===i.PL.MoneyMoreForYouCard||t.type===i.PL.WindowsShellMorningDigest||t.type===i.PL.TopCommentsCard)return t;const o=(t.type||"").toLowerCase();if(o.startsWith("gold")||o.startsWith("combo:"))return t;if(t.type===i.PL.TopicFeed)return function(t){t.feed&&"linkedinnews"===t.feed.canonicalName?t.type=i.PL.LinkedInCard:(t.feed&&(t.feed.canonicalName===i.PL.TopicFeedWeekends||t.feed.canonicalName===i.PL.TopicFeedMomentInTime1)||t.feed.canonicalName===i.PL.TopicFeedShopping||t.feed.canonicalName===i.PL.TopicFeedWeather)&&(t.type=i.PL.TopicFeedMomentInTime1);return t}(t);const a=t.wpoMetadata&&t.wpoMetadata.contentType,u=a===i.PL.NewsGroups||a===i.PL.NewsAnswerModule;if(n&&t.type===i.PL.Infopane&&!u)return t;if(t.type===i.PL.ComboCard)return function(t){const{subCards:e}=t||{},n=e&&e.map((t=>c(t)));return{...t,subItems:n,subCards:null}}(t);if(t.subCards)return e||t.type===i.PL.NewsPromotionCard?{subItems:t.subCards.map((t=>c(t))),type:t.type||"tabbedInfopane"}:function(t,e){const{type:n,title:i,wpoMetadata:r,subType:o,rotPos:s,position:a,cardId:u}=t,l=t.subCards.map((t=>c(t))),d={cardId:u,metadata:{title:i},position:a,subItems:l,subType:o,type:n,rotPos:s,traceIdIndex:e};r&&(d.wpoMetadata=r);return d}(t,r);if(t.type===i.PL.ExternalLink)return function(t){const{type:e,category:n,images:i,id:r,url:o,abstract:s="",title:a="",provider:c={},feed:u={},cardId:h,position:p,rotPos:m}=t,g=f(i)||{},v=d(o),{uiHint:w,actionText:y}=t.uiMetadata||{};let b=l(c.logoUrl);!b&&c.logo&&c.logo.url&&(b=l(c.logo.url));return{id:r,cardId:h,position:p,rotPos:m,type:e,metadata:{abstractLength:s.length,title:a,titleLength:a.length,category:n||v[4],subCategory:"other",primaryImage:{height:g.height,width:g.width,url:g.url},locale:v[3],url:o,abstract:s,uiHint:w,actionText:y,feed:{id:u.id},kicker:[{feedName:u.feedName}]},cardContent:{id:r,type:e,title:a,abstract:s,category:{product:n,label:void 0},provider:{id:c.id,name:c.name,logo:{id:b},logoUrl:c.logoUrl||c.logo&&c.logo.url,subscribable:!1},images:[{id:l(g.url),height:g.height,width:g.width,caption:g.title,focalRegion:g.focalRegion,attribution:g.attribution,url:g.url,colorSamples:g.colorSamples}],kicker:a,destinationUrl:o}}}(t);if(t.type===i.PL.WebContent&&!n)return function(t){const{id:e,cardId:n,type:i,images:r,url:o,category:s,locale:a,reactionStatus:c,commentStatus:u,reactionSummary:p,commentSummary:m,tag:g,abstract:v="",feed:w={},title:y="",provider:b={},actions:S=[],isBreaking:x=0,externalVideoFiles:C={},publishedDateTime:k,colorSamples:T,dataUrl:$,sourceId:A,financeMetadata:I,isLocalContent:P,position:_,rotPos:M,videoMetadata:R={},source:E,reasons:F}=t,D=f(r)||{},O=d(o);return{id:e,cardId:n,position:_,rotPos:M,type:i,metadata:{abstract:v,abstractLength:v.length,titleLength:y.length,category:s||O[4],subCategory:O[5],publishedDateTime:k,externalVideoFiles:C,locale:a,feed:{id:w.id},kicker:[w],actions:S.map((t=>h[t]||t)),reactionStatus:c,commentStatus:u,reactionSummary:p,commentSummary:m,primaryImage:{height:D.height,width:D.width,url:D.url},url:o,title:y,provider:{name:b.name,logo:{url:b.logoUrl}},videoMetadata:R,viewCount:R.viewCount,source:E},cardContent:{id:e,type:i,title:y,abstract:v,isBreaking:x,tags:[g||{}],provider:{id:b.id,name:b.name,logoUrl:b.logoUrl,image:{alt:b.name,src:b.logoUrl}},category:{product:s,label:void 0},locale:a,images:[{id:l(D.url),height:D.height,width:D.width,caption:D.title,focalRegion:D.focalRegion,attribution:D.attribution,url:D.url,colorSamples:D.colorSamples}],colorSamples:T,videoFiles:C,publishedDateTime:k,kicker:y,sourceHref:$,destinationUrl:o,sourceId:A,financeMetadata:I,isLocalContent:P,reasons:F}}}(t);const{abstract:p="",actions:m=[],aiComments:g,badges:v,cardId:w,category:y,colorSamples:b,commentStatus:S,commentSummary:x,dataUrl:C,engagementSummary:k,externalVideoFiles:T,feed:$={},financeMetadata:A,id:I,images:P,isBreaking:_,isFeatured:M,isLocalContent:R,isLocalNews:E,locale:F,placement:D,position:O,provider:N={},publishedDateTime:U,reactionStatus:L,reactionSummary:B,notificationMetadata:W,reasons:H,source:z,recoId:V,relatedCards:j,ri:q,rotPos:G,sourceId:J,spotlightStamp:K,title:Q="",topComments:X,topics:Y=[],traceIdIndex:Z,type:tt,url:et,videoMetadata:nt}=t,it=f(P)||{},rt=T||[],ot=Y.find((t=>t.feedId===$.id&&t.locale===F)),st=d(et);let at=l(N.logoUrl);!at&&N.logo&&N.logo.url&&(at=l(N.logo.url));const ct=m.map((t=>h[t]||t));return v&&v.some((t=>"followedPublisher"===t.type))&&ct.push("followedPublisher"),{id:I,cardId:w,cardContent:{abstract:p,aiComments:g,badges:v,colorSamples:b,category:{product:y,label:void 0},destinationUrl:et,financeMetadata:A,id:I,isLocalContent:R,isLocalNews:E,isBreaking:_||0,isFeatured:M||!1,images:[{id:l(it.url),height:it.height,width:it.width,caption:it.title,focalRegion:it.focalRegion,attribution:it.attribution,source:it.source,url:it.url,colorSamples:it.colorSamples}],kicker:Q,locale:F,provider:{id:N.id,name:N.name,logo:{id:at},logoUrl:N.logoUrl||N.logo&&N.logo.url,profileId:N.profileId,subscribable:!1},publishedDateTime:U,reasons:H,source:z,sourceHref:C,sourceId:J,notificationMetadata:W,type:(0,s.c)(tt),title:Q,topics:Y,tags:[ot||{}],uriTitle:st[6],videoFiles:rt},metadata:{abstractLength:p.length,titleLength:Q.length,category:y||st[4],subCategory:st[5],primaryImage:{height:it.height,width:it.width},locale:F,feed:{id:$.id},kicker:[$],actions:ct,reactionStatus:L,commentStatus:S,reactionSummary:B,commentSummary:x,engagementSummary:k,reasons:H,source:z,topComments:X,recoId:V,relatedCards:j,ri:q,videoMetadata:nt},reasons:H,source:z,placement:D,position:O,rotPos:G,spotlightStamp:K,type:tt,traceIdIndex:Z||r}}const u=new RegExp(/bing.(com|net)\/th/);function l(t){if(!t)return"";if(u.test(t))return;const e=t.split("/");return f(e)&&e[e.length-1].replace(".img","")}function d(t){return t?t.split("/"):[]}function f(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]}const h={liked:"like",unliked:"unlike",saved:"save"}},77062:function(t,e,n){n.d(e,{Dz:function(){return y},Ee:function(){return g},N:function(){return w},T1:function(){return p},e5:function(){return S},i$:function(){return c},j9:function(){return m},s6:function(){return v},w3:function(){return b}});var i=n(59878),r=n(77137),o=n(82588),s=n(37955);const a=10/1440,c="cbypass";let u="",l=!1,d=0;const f=10;let h=parseInt((0,s.ej)(c))||0;async function p(){h=Date.now(),(0,s.sq)(c,h.toString(),a,r.jG.HostPage.topDomain,"/"),await i.U.purgeCacheAsync(i.R.river),(0,o.mS)({id:"updatemyfeed",payload:h})}async function m(){h=Date.now(),(0,s.sq)(c,h.toString(),a,r.jG.HostPage.topDomain,"/"),await i.U.purgeCacheAsync(i.R.river)}function g(){return h}function v(t){h>0&&t.searchParams.set(c,h.toString())}function w(){return u}function y(t,e){if(!t)return;if(e)return u=t,void(d=1);if(d>=f)return;const n=u?`${u},${t}`:t;d+=1,u=n}function b(){return l}function S(t){!0!==t&&"true"!==t||(l=!0)}},66258:function(t,e,n){n.d(e,{fK:function(){return m},rg:function(){return v},tW:function(){return g}});var i=n(33779),r=n(5302),o=n(13218),s=n(92421);const a="OneWebServiceLatency",c="//assets.msn",u="//assets2.msn",l="//api.msn",d="prg-1s-bkupdmnt",f="prg-1s-bkupdmnt1",h="prg-1s-bkupdmnt2",p="prg-1s-bkupdmnt3";function m(){const t=o.Al.CurrentFlightSet;return!(!t||!(t.has(d)||t.has(f)||t.has(h)||t.has(p)))}function g(){const t=o.Al.CurrentFlightSet;return!(!t||!t.has(d)&&!t.has(f))}async function v(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2?arguments[2]:void 0,f=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{if(e=await(0,s.Sm)(t,d,n),e&&e.ok)return e}catch(e){(0,i.OO)(e,r.Qsh,r.Qsh.message,`Failed URL: ${t}`)}return e&&e.headers&&e.headers.get(a)||f?e:(t=o.Al.CurrentFlightSet&&o.Al.CurrentFlightSet.has(p)?t.replace(c,l).replace("/service/","/"):t.replace(c,u),(0,s.Sm)(t,d,n))}},97265:function(t,e,n){n.d(e,{$D:function(){return U},Mo:function(){return D}});var i=n(5813),r=n(16715),o=n(77137),s=n(45949),a=n(13218),c=n(5884),u=n(28123),l=n(99234),d=n(15598),f=n(25769),h=n(97906);var p=n(55025),m=n(7733),g=n(32236),v=n(21215),w=n(16415),y=n(62328),b=n(59637),S=n(52211),x=n(74012),C=n(73452),k=n(47290),T=n(87148),$=n(38785),A=n(39197);function I(t){if(!(0,C.wq)())return;const e=(0,A._4)();null!=e&&e.isProd||(0,T.gR)({appId:$.Au,type:"Debug",name:"HP_WEBVIEW_SERVER_LOG",data:{message:t}})}var P=n(44132),_=n(52359),M=n(36577),R=n(79022),E=n(42167);const F="prg-telemetry-trace";function D(t){return((0,r.P4)()||(0,r.OO)())&&(t===i.yS||t===i.pQ)}const O="traceparent";var N;!function(t){t.ANID="ANID",t.PICASSOID="PicassoID"}(N||(N={}));var U;!function(t){function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:(0,y.VQ)(),l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],d=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const f=(0,o.Yq)(),h=[{key:"apikey",value:D(e)?i.SE:f.OneServiceApiKey},{key:"activityId",value:f.ActivityId},{key:"ocid",value:n?T(f.TrackInfo,e):e},{key:f.OneServiceContentMarketQspKey,value:f.CurrentMarket},{key:"it",value:(0,s.E)()}],p=(0,a.nP)().CurrentFlights;if(f.SendUserIdInHeader||!t||null!=p&&p.includes("1s-r-user-qsp")||h.push({key:"user",value:t}),u&&h.push({key:y.rZ,value:y.AN}),a.Al.IsBlendedEnterprise&&h.push({key:"audienceMode",value:"enterprise"}),f.ShouldUseFdheadQsp&&!d){let t=p;if(r){t=t?`${t},${r}`:r;const e="prg-bngimg-t";-1===t.indexOf(e)&&(t+=","+e),!0===c&&(t=r)}h.push({key:"fdhead",value:t})}if(null!=p&&p.includes(F)){const t=_.U.getTraceInstance(),e="00-"+t.getTraceId(!0)+"-"+t.getSpanId(!0)+"-00";h.push({key:"traceparent",value:e})}if(!l){const t=f.AuthCookieName;t&&h.push({key:"scn",value:t.toUpperCase()})}return h}async function n(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,y.VQ)(),e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const p={};let m;const g=(0,o.Yq)()||{};if((0,a.nP)().CurrentFlights&&(0,a.nP)().CurrentFlights.includes("prg-tracingheader")){const t=_.U.getTraceInstance(),e=t.getTraceId(!0),n=t.getSpanId(!0);p[c.Yu.traceParent]="00-"+e+"-"+n+"-00"}if("windowsShell"===g.AppType||"windowsShellV2"===g.AppType)g.IsWinAADUser&&(m=await $(),Object.assign(p,(0,u.tx)(m)));else if("winWidgets"===g.AppType||"webWidgets"==g.AppType){if((0,v.N)()&&"function"==typeof window.createWindowsWidget1SAuthHeaders){const t=await window.createWindowsWidget1SAuthHeaders();Object.assign(p,t)}}else{if(g.WidgetAttributes){m=(await(0,b.yb)()).tokenValue}if(("shopping"==g.AppType||"views"==g.AppType)&&(0,C.wq)()){if("MSA"==(await(0,S.YX)()).accountType){Object.assign(p,await(0,k.d)());for(const t in p)0===t.indexOf("X-MSEdge")&&delete p[t];return p.SiteName=`api.msn.${g.topDomain}`,I(p),p}}if(!m)if(t&&!await g.isGccModUser){var T;const t={id:l.d3,friendlyName:l.Ak},e=await(null===(T=(0,M.Kf)())||void 0===T?void 0:T.getAuthData(t));m=null==e?void 0:e.authToken}else if("gaming"===n&&i&&(0,v.N)()){const t=(0,d.$o)().getObject("xboxXTokenId");t&&t.notAfter&&new Date(t.notAfter)>new Date&&(p[c.Yu.xboxToken]=JSON.stringify(t))}else if(s){var A;m=null===(A=(0,f.Rn)())||void 0===A?void 0:A.access_token}else if((null==e||!e.skipDualAuthHeader)&&(0,u.P8)()&&!(0,u.TJ)()){const t=(0,u.hk)()?await(0,x.IY)():(0,u.aS)();m=null==t?void 0:t.accessToken}Object.assign(p,(0,u.me)(m))}if((0,r.P4)()){const t=(0,h.G)().getItem("nativeAppUserConfig"),e=JSON.parse(t)||{},n=null==e?void 0:e.preferredIdType;Object.values(N).includes(n)&&(p["X-1S-Digital-ID"]=`preferredIdType=${n}`)}if(g.SendUserIdInHeader&&(Object.assign(p,function(){var t;const e={},n=document.head.hasAttribute("data-client-settings")?document.head:window.document.getElementsByClassName("peregrine-widget-settings")[0],i=n&&n.getAttribute("data-client-settings"),r=i?null===(t=JSON.parse(i))||void 0===t?void 0:t.fd_muid:void 0;return r&&(e.MUID=`m-${r}`),e}()),g.WidgetAttributes&&"bingHomepage"===g.AppType)){const t=await(0,b.yb)();null!=t&&t.muid&&(p.MUID=t.muid,P.M0.addOrUpdateTmplProperty("bhpmuidhdrosu","1"))}if(!(0,v.N)()){const{oneServiceHeaders:t,cookie:e,referer:n,clientData:i,userAgent:r}=(0,w.sL)();t&&Object.assign(p,t),i&&(p["X-Client-Data"]=i),e&&(p.Cookie=e),n&&(p.Referer=n),r&&(p["User-Agent"]=r)}return p}function T(t,e){return p.b.isNonNullObject(t)&&p.b.isNonNullObject(t.sitePage)&&(0,R.Z)(t.sitePage.page_product)&&(0,R.Z)(t.sitePage.page_type)?t.sitePage.page_product+"-"+t.sitePage.page_type+(e?"-"+e:""):e}t.serviceRequestOnComplete=async function(t,e){try{const n=await t();return e(),n}catch(t){throw e(),t}},t.getOneServiceParamsWithoutAuth=e,t.getOneServiceNonDynamicParamsWithoutAuth=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=(0,o.Yq)(),r=[{key:"apikey",value:i.OneServiceApiKey},{key:"ocid",value:e?T(i.TrackInfo,t):t},{key:i.OneServiceContentMarketQspKey,value:i.CurrentMarket}];return!i.SendUserIdInHeader&&n&&r.push({key:"user",value:n}),(0,y.VQ)()&&r.push({key:y.rZ,value:y.AN}),r},t.getOneServiceParamsWithAuth=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return(0,o.Yq)(),[...e(t,n,i,r,s,(0,y.VQ)(),!1,a)]},t.getOneServiceHeaders=n,t.getOneServiceFeedCallHeaders=async function(t,e,i){const r=await n(t,null,e,i),s=(0,o.Yq)(),a=s.ActivityId;return s.SendFeedCallActivityIdInHeader&&a&&(r[c.Yu.activityId]=a),r},t.getLocationParams=function(t,e){const n=(0,o.Yq)(),i=t||n.Latitude,r=e||n.Longitude;return i&&r?{key:"location",value:`${i}|${r}`}:null},t.getOneServiceOCID=T,t.getBaseRequestData=async function(e,n){return{headers:await t.getOneServiceHeaders((0,y.VQ)(),n),method:e}},t.getCommonParams=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,a.nP)().UserIsSignedIn?this.getOneServiceParamsWithAuth((0,o.Yq)().UserId,t,e):this.getOneServiceParamsWithoutAuth((0,o.Yq)().UserId,t,e)},t.getCommonParams2=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,S.hC)()?this.getOneServiceParamsWithAuth((0,o.Yq)().UserId,t,e,n):this.getOneServiceParamsWithoutAuth((0,o.Yq)().UserId,t,e,n)},t.urlContainsOcidParam=function(t){if(!t)return!1;const e=t.split("?");if(e.length<2)return!1;const n=e[1].split("#")[0];return!!new m.h(n).get("ocid")},t.removeOcidFromUrl=function(t){if(!t)return t;const e=t.split("?");if(e.length<2)return t;const n=e[1].split("#")[0],i=new m.h(n);if(i.get("ocid")){i.delete("ocid");let e=t.replace(n,i.toString());return"?"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e}return t},t.removeOcidFromRiverCardProviderResponse=function(e){e&&e.cardMetadata&&e.cardMetadata.length&&e.cardMetadata.forEach((e=>{e.cardContent&&e.cardContent.destinationUrl?e.cardContent.destinationUrl=t.removeOcidFromUrl(e.cardContent.destinationUrl):e.subItems&&e.subItems.length&&e.subItems.forEach((e=>{e.cardContent&&e.cardContent.destinationUrl&&(e.cardContent.destinationUrl=t.removeOcidFromUrl(e.cardContent.destinationUrl))})),e.metadata&&e.metadata.relatedCards&&e.metadata.relatedCards.forEach((e=>{e.url=t.removeOcidFromUrl(e.url)}))}))},t.removeOcidFromWindowsOneServiceResponse=function(e){e&&e.cards&&e.cards.forEach((e=>{e.subCards.forEach((e=>{e.url?e.url=t.removeOcidFromUrl(e.url):e.subCards&&e.subCards.forEach((e=>{e.url&&(e.url=t.removeOcidFromUrl(e.url))}))}))}))};const $=(0,g.p)((async()=>{if(!((0,v.N)()&&window&&window.ShellFeedsApp&&window.ShellFeedsApp.getQueryHeadersAsync))return;const t=await Promise.race([window.ShellFeedsApp.getQueryHeadersAsync(),(0,E.Kb)(3e3).then((()=>null))]),e=t&&t[c.Yu.entAuthorization]||null;return e&&setTimeout((()=>$.cache.clear()),36e5),e}));t.getUniFeatTunHeader=async function(){const t={},e=(0,o.Yq)()||{};(0,v.N)()&&"edgeChromium"===e.AppType&&(t.EdgeInterestTier1Ids=(0,d.$o)().getItem("userTopics"));const n=P.M0.getPageMetadata(),i=null==n?void 0:n.combinedContract;var r,s,a,c,u,l,f;return i&&(t.LoginState=null===(r=i.user)||void 0===r?void 0:r.loginState,t.Product=null===(s=i.page)||void 0===s?void 0:s.product,t.PageName=null===(a=i.page)||void 0===a?void 0:a.name,t.PageType=null===(c=i.page)||void 0===c?void 0:c.type,t.OCID=null===(u=i.page)||void 0===u?void 0:u.ocid,t.ViewPortWidth=null===(l=i.browser)||void 0===l?void 0:l.width,t.ViewPortHeight=null===(f=i.browser)||void 0===f?void 0:f.height),function(t){let e="";return Object.keys(t).forEach((n=>{e+=`${n}:${Array.isArray(t[n])?t[n].join(","):t[n]};`})),e}(t)},t._reset=function(){$.cache.clear()},t.addTelemetryTracingQueryParam=function(t){if(a.Al&&a.Al.CurrentFlightSet&&a.Al.CurrentFlightSet.has(F)){const e=_.U.getTraceInstance(),n="00-"+e.getTraceId(!0)+"-"+e.getSpanId(!0)+"-00";t.searchParams.set(O,n)}}}(U||(U={}))},32308:function(t,e,n){n.d(e,{O:function(){return b},w:function(){return S}});var i,r=n(92421),o=n(5302),s=n(9947),a=n(44132),c=n(21215);class u{constructor(t,e,n,i,r,o,a){if(!t)throw new Error("loggingService is required for ExponentialBackoffRetry.");const l=new s.K(t);this.logInvalidParams(l,e,n,i,r,a),this.loggingService=t,this.maxRetries=e||u.defaultMaxRetries,this.baseRetryDelayInMs=n||u.defaultBaseRetryDelayInMs,this.maxRetryDelayInMs=i||u.maxAllowedRetryDelayInMs,this.factor=r||u.defaultFactor,this.minOffsetInMs=o||u.defaultMinOffsetInMs,this.maxOffsetInMs=a||u.defaultMaxOffsetInMs,(0,c.N)()&&this.loggingService.infoCallback((()=>"ExponentialBackoffRetry has been configured."),null,{maxRetries:e,minTimeout:n,maxTimeout:i,factor:r})}async executeRequest(t,e,n,i,r,o){return new Promise((async(s,a)=>{await this.tryRequest(t,s,a,0,e,n,i,r,o)}))}logInvalidParams(t,e,n,i,r,o){e&&(e<1||e>u.maxAllowedRetries)&&t.fatal(`maxRetries should be at least 1 and less than ${u.maxAllowedRetries}.`),n&&n<u.defaultBaseRetryDelayInMs&&t.fatal("baseRetryDelay has to be a positive value greater than or equal to 100."),n&&o&&n<=o&&t.fatal("baseRetryDelay must not be smaller than the maximum delay offset."),i&&(i<=0||i>u.maxAllowedRetryDelayInMs)&&t.fatal(`maxRetryDelay has to be a positive value less than ${u.maxAllowedRetryDelayInMs}.`),r&&r<=0&&t.fatal("factor has to be a positive value.")}async tryRequest(t,e,n,i,r,s,u,l,d){const f=()=>(0,c.N)()&&i<this.maxRetries&&!l;let h=d||"";if(h&&i>0)try{const t=new URL(h);t.searchParams.set("retryAttempt",i.toString()),h=t.toString()}catch(t){}try{const n=u||1e4;let r=null;r=u&&u<0?await t(i,h):await this.timeoutServiceRequest(n,t(i,h)),e(r)}catch(c){if(f()){const o=3,a=parseFloat((Math.random()*(this.minOffsetInMs-this.maxOffsetInMs)+this.maxOffsetInMs).toFixed(o)),f=.5,h=Math.random()<f?-1:1,p=Math.min(this.baseRetryDelayInMs*Math.pow(this.factor,i),this.maxRetryDelayInMs)+a*h;this.loggingService.warnCallback((()=>`Retrying the request in ${p} milliseconds.`),s,{error:c,currentRetry:i+1,requestInfo:r}),setTimeout((()=>this.tryRequest(t,e,n,i+1,r,s,u,l,d)),p)}else{if(a.M0&&a.M0.sendAppErrorEvent){const t=("string"==typeof c?c:c.message)||"";a.M0.sendAppErrorEvent({...o.CKi,pb:{...o.CKi.pb,retryAttemptsMade:i,serviceFailed:s&&s.Message,maxRetries:this.maxRetries,customMessage:`${this.getActivityName(s)}. Error details: '${t}'. All retry attempts failed.`}},!1)}this.loggingService.errorCallback((()=>f()?`ExponentialBackoffRetry has exceeded maximum retries ${this.maxRetries}`:"Request has failed."),s,{error:c,currentRetry:i,requestInfo:r}),n(c)}}}async timeoutServiceRequest(t,e){return new Promise((async(n,i)=>{const r=setTimeout((()=>i(new Error(`Service Request Timed out after ${t} milliseconds!`))),t);try{n(await e),clearTimeout(r)}catch(t){i(t),clearTimeout(r)}}))}getActivityName(t){return`Activity name: '${t&&t.Message||"None"}'`}}(i=u).defaultBaseRetryDelayInMs=100,i.defaultFactor=2,i.defaultMaxOffsetInMs=25,i.defaultMaxRetries=5,i.defaultMinOffsetInMs=1,i.maxAllowedRetries=10,i.maxAllowedRetryDelayInMs=2e3;var l=n(66258),d=n(13010),f=n(1970),h=n(42147),p=n(84147),m=n(97265),g=n(42122);let v,w;const y=3;function b(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,l.fK)()?(0,l.rg)(t,e,n,i):(0,r.Sm)(t,n,e)}async function S(t,e,n,i,r){const o=x().activityLoggingService.createActivity(e);return i=i||(0,l.tW)(),await m.$D.serviceRequestOnComplete((()=>function(){if(w)return w;return w=new u(x().loggingService,y),w}().executeRequest(t,null,o,n,i,r)),(()=>x().activityLoggingService.endActivity(o)))}function x(){if(v)return v;const t=d.u.getInstance("ExperienceActivityLogger");return(0,c.N)()&&g.k.isDebug()&&t.addAppender(new f.N(p.i.Activity)),v=new h.N(g.k.getLoggingService(),t),v}},88048:function(t,e,n){n.d(e,{PH:function(){return d},Ph:function(){return c},fU:function(){return f},qQ:function(){return u}});var i=n(77137),r=n(13218),o=n(42122);let s,a;const c=new URL("","https://api.msn.com/");function u(){const t=(0,i.Yq)();var e;return s||(e=t.ServiceUrlBase,s=new URL("",e),h(s)),s}function l(){const t=(0,i.Yq)();var e;return a||(e=t.FeedServiceUrlBase,a=new URL("",e),h(a)),a}function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u();return new URL(t+(null==e?void 0:e.search),e)}function f(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return new URL(t+(null==e?void 0:e.search),e)}function h(t){let e=!1;"dev"!==t.searchParams.get("env.service")&&(0,r.nP)().UserIsSignedIn&&(e=!0),o.k.log("u-si: "+(0,i.Yq)().UserId),o.k.log("a-si: "+e),o.k.log("ss-si: "+(0,r.nP)().UserIsSignedIn)}},55727:function(t,e,n){n.d(e,{G$:function(){return p},PF:function(){return h},_$:function(){return f}});var i=n(26156),r=n(8170),o=n(75692),s=n(44132),a=n(13218);const c="layoutPromotion",u=["msNurturingMetadataTemplate","msNurturingOnboardNTPToCE"],l={[o.p.FreOverlay]:"ntp_profile_scope_tab_functional_notification",[o.p.FeedLayoutPromotions]:"ntp_profile_scope_tab_functional_notification",[o.p.NurturingFunctional]:"ntp_profile_scope_tab_functional_notification",[o.p.NurturingPromotions]:"ntp_profile_scope_tab_functional_notification"},d={[o.Y.Engaged]:"PrimaryCTA_Clicked",[o.Y.Dismissed]:"DismissedCTA_Clicked",[o.Y.Ignored]:"Notification_Ignored"};async function f(){const{enabled:t,disabled:e}=await(0,i.zx)();return u.every((n=>t.includes(n)||e.includes(n)))}async function h(t,e){r.MN.updateCTA(t,d[e])}const p=(t,e)=>async n=>{const i=function(t,e){if(t)return l[e.placementGroup];if(e.placementId===c)return"ntp_profile_scope_tab_pure_functional_notification";let n=0;try{var i;n=parseInt((null===a.Al||void 0===a.Al||null===(i=a.Al.ClientSettings)||void 0===i||null===(i=i.browser)||void 0===i?void 0:i.version)||"",10)}catch(t){}return n>=130?"ntp_profile_scope_tab_feature_campaign":l[e.placementGroup]}(!t&&!e||!!e&&void 0!==e.find((t=>n.id.indexOf(t)>-1)),{placementId:n.id,placementGroup:n.priorityGroup});s.M0.addOrUpdateTmplProperty(`ovl_enp_tmp_${i}`,"1");const o=await r.MN.getToken(n.id,i);return!(null==o||!o.success)||s.M0.addOrUpdateTmplProperty(`ovl_enp_cld_${n.id}`,"1"),!(null==o||!o.success)}},75692:function(t,e,n){var i,r;n.d(e,{Y:function(){return r},p:function(){return i}}),function(t){t.FeedLayoutPromotions="FeedLayoutPromotions",t.FreOverlay="FreOverlay",t.NurturingFunctional="NurturingFunctional",t.NurturingPromotions="NurturingPromotions"}(i||(i={})),function(t){t.Engaged="Engaged",t.Dismissed="Dismissed",t.Ignored="Ignored"}(r||(r={}))},79728:function(t,e,n){n.d(e,{HD:function(){return o},eJ:function(){return r}});const i=new(n(42833).o),r=t=>i.set(t),o=async()=>i.getResultAsync()},32195:function(t,e,n){n.d(e,{H:function(){return f},Zu:function(){return d}});var i=n(75314),r=n(7063),o=n(49056),s=n(46723),a=n(32425),c=n(7677);let u;var l;!function(t){t[t.Alert=0]="Alert",t[t.Deprecated=1]="Deprecated",t[t.HighImpact=2]="HighImpact",t[t.Critical=3]="Critical"}(l||(l={}));const d=new o.NO;function f(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.Alert,f=arguments.length>4?arguments[4]:void 0,h=arguments.length>5?arguments[5]:void 0,p=arguments.length>6?arguments[6]:void 0;try{const m=(0,i.Tp)();if(!(0,c.EZ)(e))return;const g=(0,i.cX)(),v=function(t){if(t){const{pcsInfo:e,pageGenTime:n}=t,i=new Date(n).getTime(),r=!e||["prod","prod-ssr","prod-ssrntp"].includes(e.env);u=r?"browser.events.data.msn.com":"events-sandbox.data.msn.com";return{cors:"true","content-type":"application/x-json-stream","client-id":"NO_AUTH","client-version":"1DS-Web-JS-2.2.2",apikey:r?"0ded60c75e44443aa3484c42c1c43fe8-9fc57d3f-fdac-4bcf-b927-75eafe60192e-7279":"f8857dedc6f54ca8962cfb713e01e7d7-e9250191-fe0b-446f-95ae-07516262f98c-7028","upload-time":i,w:"0",anoncknm:"app_anon"}}return null}(m);let w="";v&&v.apikey&&""!==v.apikey&&(w=function(t){if(t){const e=t.indexOf("-");if(e>0)return t.substring(0,e)}return""}(v.apikey));const y=function(t,e,n,i,o,c){let u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:l.Alert,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";if(n){o=o||{};const{aid:l,apptype:h,audienceMode:p,pagetype:m,pageGenTime:g,bundleInfo:v,deviceFormFactor:w="",fd_muid:y,os:b,static_page:S}=n;o.pageGenTime=g,o.build=v&&v.v,o.appType=h,o.pageVisible=document.visibilityState;const x=(0,r.em)(h,p,w),C=x||h,k=document.getElementsByTagName("html")[0].getAttribute("lang");let T,$="",A="muid";try{if("edgeChromium"===h&&"object"==typeof window&&window.location&&window.location.search){const t=new URLSearchParams(window.location.search);T=t.has("startpage")?"msedgdhp":"msedgntp","enterprise"===p?T="entnewsntp":"xbox"===b&&(T="xboxntp")}window&&window.getCookieConsentRequired&&"function"==typeof window.getCookieConsentRequired&&window.getCookieConsentRequired()||($=(0,s.JG)()||(0,a.AE)("muid"))}catch{}$||($=n.aid,A="aid");const I={name:"MS.News.Web.AppError",time:g,ver:"4.0",iKey:`o:${i}`,data:{baseData:{},baseType:"MS.News.Web.Base",page:{appType:null==h?void 0:h.toLowerCase(),name:(0,r.tE)()||"default",product:C,type:(0,r.lF)(m),content:r.yU[h]??{category:"standaloneError"},ocid:T,url:location.href,isStatic:S},browser:{clientId:$,clientIdType:A},flight:{id:c,tmpl:d},request:{activityId:l,requestId:l,afdMuid:y},locale:{mkt:k},extSchema:{id:t,severity:u,pb:o,message:e}}};var f;if($&&"muid"===A)I.ext={...null==I?void 0:I.ext,user:{...null==I||null===(f=I.ext)||void 0===f?void 0:f.user,localId:`t:${$}`}};return"object"==typeof window&&(window.isSSREnabled&&(I.data.flight.tmpl+=";ssr-enabled:1"),window.isSSRCompleted&&(I.data.flight.tmpl+=";ssr-completed:1")),I?JSON.stringify(I):null}return null}(e,t,m,w,n,g,o,p);if(h&&!function(t){if(null==t)return!1;return t.startsWith("1")||t.startsWith("2")||t.startsWith("3")||t.startsWith("4")}(null==m?void 0:m.aid))return console.error(y),void console.error(`This App error Id: ${e} will not be sent due to app error sampling!`);if(v&&y){console.error(y),d.push(y);const t="https://"+u+"/OneCollector/1.0"+function(t){return"?"+Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&")}(v);if(f&&!performance.getEntriesByType("visibility-state").some((t=>"visible"===t.name))){const e=()=>{"visible"===document.visibilityState&&navigator.sendBeacon(t,y)};document.addEventListener("visibilitychange",e,{once:!0})}else navigator.sendBeacon(t,y)}}catch{}}},75314:function(t,e,n){let i,r;function o(){if(!i){const t=document.head.getAttribute("data-client-settings");t&&(i=JSON.parse(t))}return i}function s(){if(r)return r;const t=document.head.getAttribute("data-info");return r=((/f:\s*([^;]+)/i.exec(t)||{})[1]||"").toLowerCase(),r}n.d(e,{Tp:function(){return o},cX:function(){return s}})},7063:function(t,e,n){n.d(e,{em:function(){return r},lF:function(){return a},tE:function(){return o},yU:function(){return s}});var i=n(16715);function r(t,e,n){const r=n&&"phone"===n.toLowerCase(),o=e&&"enterprise"===e;let s="Edge";(0,i.xc)()?s="swiftKey":(0,i.s_)()?s="Launcher":(0,i.eh)()&&(s="bingHomepageMobile");return{bingHomepage:"binghomepage",mmx:"emmx",edge:"spartan",edgeChromium:o?"entnews":"anaheim",hybrid:"spartan",hub:r?"prime_mobile":"prime",microsoftNews:"msnews",office:"entnews",views:r?"prime_mobile":"prime",homePage:r?"prime_mobile":"prime",windowsShell:"windowsshell",edgeMobile:s,winWidgets:o?"entwindowsdash":"windowsdash"}[t]}function o(){return window._pgNameOverride}const s={homePage:{vertical:"homepage",category:"",id:"",domainId:"13041",title:"undefined"!=typeof document?document.title:""}};function a(t){let e=t;switch(t){case"windowsshellhp":e="dhp";break;case"video":e="watch";break;case"EdgeMobile":e=(0,i.ce)()?"ntp":"dhp"}return e}},49056:function(t,e,n){n.d(e,{NO:function(){return i}});class i{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;this.maxLength=t,this.list=[]}push(t){this.list.push(t),this.list.length>this.maxLength&&this.list.shift()}get data(){return this.list}}},15020:function(t,e,n){n.d(e,{K:function(){return o}});var i=n(64527),r=n(21215);function o(){if(!(0,r.N)()||!window.ssrPageGenTime)return!1;const{deliveryType:t,transferSize:e}=(0,i.os)()||{},n=0===e;return t?"cache"===t&&n:n}},68640:function(t,e,n){n.d(e,{U4:function(){return a},Y5:function(){return o},Z6:function(){return r},dd:function(){return s},v3:function(){return i}});const i="epdu",r="fpr",o="TTPR",s="TTVR",a="TTPV"},17813:function(t,e,n){n.d(e,{Bj:function(){return d},TR:function(){return h},VD:function(){return f},lr:function(){return u},wY:function(){return l}});var i=n(42833),r=n(13218);let o=!1;const s=new i.o,a=(new i.o,new i.o,new i.o),c=new i.o;function u(){return r.Al.IsPrerender?s.getResultAsync():Promise.resolve()}function l(){a.set()}function d(){c.set()}function f(){return r.Al.IsPrerender?c.getResultAsync():Promise.resolve()}function h(){return(null===r.Al||void 0===r.Al?void 0:r.Al.IsPrerender)&&!o}},49494:function(t,e,n){n.d(e,{HQ:function(){return a},ih:function(){return c},yV:function(){return u}});var i=n(68640),r=n(15598);const o=new Set,s=[];function a(t){return o&&o.has(t)}function c(t){const e=(0,r.$o)().getObject(i.v3)||{},n=e[t];isNaN(n)&&(e[t]=l(),(0,r.$o)().setObject(i.v3,e))}function u(t){s&&!s.includes(t)&&s.push(t);const e={time:l(),data:t};(0,r.$o)().setObject(i.Z6,e)}function l(){return Math.round(performance.timeOrigin+performance.now())}},14969:function(t,e,n){n.d(e,{eC:function(){return a},hR:function(){return l}});var i=n(42833);let r,o,s=!1;function a(t){return"visible"!==document.visibilityState||t&&s?(r||(r=new i.o,document.addEventListener("visibilitychange",c)),r.getResultAsync()):Promise.resolve()}function c(){"visible"===document.visibilityState&&u()}function u(){!s&&r&&(r.set(),r=null,document.removeEventListener("visibilitychange",c))}function l(){return o||(o=new Promise((t=>{"visible"===document.visibilityState&&t(),document.addEventListener("visibilitychange",(function e(){"visible"===document.visibilityState&&(t(),document.removeEventListener("visibilitychange",e))}))}))),o}},88394:function(t,e,n){n.d(e,{o:function(){return y}});var i=n(64107),r=n(242),o=n(5302),s=n(10290),a=n(20850),c=n(44132),u=n(81586),l=n(78058),d=n(59997),f=n(28951),h=n(13218),p=n(77137),m=n(78125),g=n(90061);function v(){const t=[];let e=document.body,n=0,i=!1;for(;e;){var r,o;const c=Array.from(e.attributes).map((t=>`${t.name}="${t.value}"`)).join("|");if(t.push(`[index:${n};inShadow:${i}]${e.nodeName};attrs:${c}`),e.children&&e.children.length)n=e.children.length-1,e=e.children[n],i=!1;else if(null!==(r=e.shadowRoot)&&void 0!==r&&r.children&&(null===(o=e.shadowRoot)||void 0===o?void 0:o.children.length)>0){var s,a;n=(null===(s=e.shadowRoot)||void 0===s?void 0:s.children.length)-1,e=null===(a=e.shadowRoot)||void 0===a?void 0:a.children[n],i=!0}else e=null}return t.join(">")}function w(t){{var e;const t=null===(e=document.querySelector("html"))||void 0===e?void 0:e.style.getPropertyValue("--body-bg-color");if(t)return t}return t?"#242424":"#F7F7F7"}async function y(t,e,n,y,b,S,x){var C;let k;i.A.startMark("WC.Render"),k=void 0===n||"boolean"==typeof n?{noPaint:!!n}:n;const T=t.configRef,$=(0,s.ITY)(T.experienceType),A=matchMedia("(prefers-color-scheme:dark)");if(window.isSSREnabled&&!window.isSSRCompleted){var I;if(null===c.M0||void 0===c.M0||c.M0.addOrUpdateTmplProperty("SSRIncomplete","1"),(0,r.Ou)().isSSRAborted="1","vp"===f.cX.getQueryParameterByName("reqsrc",location.href)&&"1"!==f.cX.getQueryParameterByName("ssrCrashVptest",location.href))return void document.write("SSR didn't complete successfully, CSR fallback is disabled for VP tests");if(null===c.M0||void 0===c.M0||c.M0.sendAppErrorEvent({...o.O5q,message:"SSR didn't complete successfully, remove the existing design system provider element to avoid broken UI",pb:{...o.O5q.pb,lastElements:v()}}),window.isCSRFallback=!0,null===(I=document.querySelector(e))||void 0===I||I.remove(),window.disableCSRFallback)return Promise.resolve()}const P=document.querySelector(e)||document.createElement(e),_=b??A.matches;P.baseLayerLuminance=_?m.h.DarkMode:m.h.LightMode,P.direction="rtl"===h.Al.MarketDir?d.N.rtl:d.N.ltr,P.setAttribute("fill-color",(null===(C=k)||void 0===C?void 0:C.fillColor)??w(_));for(const t in k)Reflect.set(P,t,Reflect.get(k,t));const M=window.isSSREnabled?(0,g.bE)("WholePageHydration",!0):void 0,R=(0,g.zb)(P,M,y);if(void 0===b){const t=t=>{var e;P.baseLayerLuminance=t.matches?m.h.DarkMode:m.h.LightMode,P.setAttribute("fill-color",(null===(e=k)||void 0===e?void 0:e.fillColor)??w(t.matches))};A.addEventListener("change",t)}if(!P.isConnected){(S?document.querySelector(".peregrine-widgets")??document.body:document.body).appendChild(P)}const E=new l.D({type:u.c9.Module,name:T.experienceType,content:{}});let F=P.querySelector($);return F||(F=document.createElement($)),F.parentTelemetry=E,F.setAttribute("config-instance-src",null==T?void 0:T.instanceSrc),F.setAttribute("instance-id",t.instanceId||""),F.setAttribute("data-t",E.getMetadataTag()),p.jG.IsUCBased&&(document.body.style.background="transparent",P.style.background="transparent",F&&F instanceof HTMLElement&&(F.style.background="transparent")),null==x||x.forEach((t=>{t(F)})),await(0,a.Fg)(t),F.isConnected||P.appendChild(F),i.A.endMark("WC.Render"),R}},23251:function(t,e,n){var i;n.d(e,{m:function(){return i}}),function(t){t.small="OneByOne",t.medium="OneByTwo",t.large="OneByThree"}(i||(i={}))},28828:function(t,e,n){var i;n.d(e,{f:function(){return i}}),function(t){t.AiCharacter="aicharacterCardEnabled",t.AutosMarketplaceCard="autosmarketplaceCardEnabled",t.BoostCard="boostCardEnabled",t.HoroscopeCard="horoscopeCardEnabled",t.WeatherCard="weatherCardEnabled",t.SevereWeatherCard="severeWeatherCardEnabled",t.NowcastWeatherCard="nowcastweatherCardEnabled",t.RainTodayWeatherCard="raintodayweatherCardEnabled",t.WeatherRubyCard="weatherRubyCardEnabled",t.SportsCard="sportsCardEnabled",t.MoneyCard="moneyCardEnabled",t.FinanceCard="financeCardEnabled",t.OnThisDayCard="onthisdayCardEnabled",t.LocalEventsCard="localEventsCardEnabled",t.SavingsCard="savingsCardEnabled",t.ShoppingCard="shoppingCardEnabled",t.ShoppingFashionCarousel="shoppingFashionCardEnabled",t.ShoppingEventCard="eventSDCardShoppingEnabled",t.TrafficCard="trafficCardEnabled",t.EsportsCard="esportsCardEnabled",t.ElectionsCard="genericelectionCardEnabled",t.LotteryCard="lotteryCardEnabled",t.QnaCard="qnaCardEnabled",t.RecipesCard="recipeCardEnabled",t.PrismFeedCard="prismFeedCardEnabled",t.PrismCarouselCard="prismFeedCarouselCardEnabled",t.TravelCard="travelCardEnabled",t.HealthCard="healthCardEnabled",t.TopStoriesCard="topstoriesCardEnabled",t.TrendingTopics="TrendingTopicsUpsellEnabled",t.LocalGuideCard="localGuideCardEnabled",t.GroceryCard="groceryCardEnabled",t.RewardsCard="rewardsCardEnabled",t.PersonalizedOffersCard="personalizedoffersCardEnabled",t.PollsCard="pollsCardEnabled",t.MarketPlaceCard="marketplaceCardEnabled",t.QuizCard="quizcardCardEnabled",t.DailyQuizCard="DailyQuizCardEnabled",t.OnThisDaySDCard="OnThisDayCardEnabled",t.CasualGamesCard="esportsCardEnabled",t.CommuteCard="commuteCardEnabled",t.TrendingSearchCard="trendingsearchCardEnabled",t.RealEstateCard="realestateCardEnabled",t.MangaCard="mangaCardEnabled",t.RichCalendarCard="richCalendarCardEnabled",t.DailyGreetingCard="dailyGreetingCardEnabled",t.DonationNpoCard="DonationNpoCardEnabled",t.cegrowthCard="cegrowthCardEnabled",t.CopilotCard="copilotCardEnabled",t.PublisherSpotlightCard="PublisherSpotlightCardEnabled",t.FollowedPublishersCard="FollowedPublishersCardEnabled",t.Crypto="CryptoCard",t.MarketBrief="MarketBriefCard",t.ElectionCard="ElectionCardEnabled",t.EntertainmentPremierCard="entertainmentCardEnabled",t.CommunityCard="CommunityCardEnabled",t.DailyWonderCard="dailywonderCardEnabled",t.DailyBriefCard="DailyBriefCardEnabled",t.TopCommentsCard="TopCommentsCardEnabled"}(i||(i={}))},38090:function(t,e,n){var i;n.d(e,{L:function(){return i}}),function(t){t.Location="Location",t.Weather="Weather",t.Finance="Finance",t.Team="Team",t.League="League",t.Player="Player",t.Traffic="Traffic",t.Widget="Widget",t.TopicFeed="TopicFeed",t.CasualGame="CasualGame",t.Horoscope="Horoscope"}(i||(i={}))},8830:function(t,e,n){n.d(e,{O:function(){return S},N:function(){return x}});var i=n(42122),r=n(33779),o=n(5302),s=n(38090),a=n(28828),c=n(23251);class u extends Error{constructor(t){super(t)}}var l=n(77137),d=n(13218),f=n(28951),h=n(82588),p=n(2513),m=n(97265),g=n(88048),v=n(32308),w=n(44132),y=n(62328),b=n(52211);class S{constructor(t){this.fetchImpl=t,this.userUpdateEndpoint="msn/user",this.pdpServiceEndpoint="graph/actions",this.locationsServiceEndPoint="v1/news/users/me/locations",this.userActionServiceEndPoint="news/users/me/actions",this.ocid="pdp-peregrine",this.ocidOverride=!0,this.marketQSPOverride=!1}getCommonParams(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?m.$D.getOneServiceParamsWithAuth(e??(0,l.Yq)().UserId,this.ocid,!this.ocidOverride,null,!1,n):m.$D.getOneServiceParamsWithoutAuth(e??(0,l.Yq)().UserId,this.ocid,!this.ocidOverride,null,!1,(0,y.VQ)(),!1,n)}async getUserDefaultLocation(t){const e=await this.getRequestInit({method:"GET"}),n=(0,g.PH)(this.locationsServiceEndPoint);let i;[...m.$D.getCommonParams2(this.ocid,!this.ocidOverride),{key:"autodetect",value:t&&`${t}`}].forEach((t=>{t.value&&n.searchParams.set(t.key,t.value)}));try{i=await(0,v.w)((async()=>{const t=await this.fetchImpl(n.href,e);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: getUserDefaultLocation}`;throw new Error(e)}return t}),"getUserDefaultLocation")}catch(t){return i}return i}async addToFavoriteLocation(t,e){const n="Location",i="Follow",r=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:i,targetType:n,definitionName:e,degree:"FavoriteLocation",metaData:t})}),o=(0,g.PH)(this.pdpServiceEndpoint),s=2===await(0,b.XJ)();let a;this.getCommonParams(s).forEach((t=>{t.value&&o.searchParams.set(t.key,t.value)}));try{a=await(0,v.w)((async()=>{const t=await this.fetchImpl(o.href,r);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${i}, targetType: ${n}`;throw new Error(e)}return t.json()}),"addToFavoriteLocation")}catch(t){return!1}return!0}async removeFavoriteLocation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await this.deleteFromPdp(s.L.Location,"definitionName",[t],void 0,void 0,void 0,void 0,void 0,e)}async removeLocation(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return await this.deleteFromPdp(s.L.Location,"definitionName",[t],void 0,void 0,void 0,void 0,void 0,e)}async updatePdpHomeLocation(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=s.L.Location,a="Follow",c=await this.getRequestInit({method:"POST"},n,r);c.body=JSON.stringify({actionType:a,targetType:o,definitionName:e,degree:"DefaultLocation",metaData:t});const u=(0,g.PH)(this.pdpServiceEndpoint),l=2===await(0,b.XJ)();return this.getCommonParams(l&&!r,i).forEach((t=>{t.value&&u.searchParams.set(t.key,t.value)})),await(0,v.w)((async()=>{const t=await this.fetchImpl(u.href,c);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${a}, targetType: ${o}`;throw new Error(e)}return t}),"setPdpHomeLocation"),this.tryInvalidateBulkFetchedPdpTargetType(o),!0}async updateTrafficMyRoutes(t,e,n,r,o,a,c){const u=n.replace(/[^a-zA-Z0-9\-.,_]/g,""),l=s.L.Traffic,d="Follow",f=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:d,targetType:l,targetId:u,degree:t,definitionName:e,metadata:r,createdDateTime:a})},c),h=await this.getTrafficPdpUrl(null,null,o);try{await(0,v.w)((async()=>{const t=await this.fetchImpl(h.href,f);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${d}, targetType: ${l}`;throw new Error(e)}return t.json()}),"updateTrafficMyRoutes");this.tryInvalidateBulkFetchedPdpTargetType(l)}catch(t){return i.k.logError(t.message),!1}return!0}async deleteTrafficMyRoutes(t,e,n){const i=await this.getRequestInit({method:"DELETE"}),r=await this.getTrafficPdpUrl(t,e,n);try{await(0,v.w)((async()=>{const t=await this.fetchImpl(r.href,i);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: Follow, targetType: ${s.L.Traffic}`;throw new Error(e)}return t}),"deleteTrafficFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(s.L.Traffic)}catch(t){return!1}return!0}async getTrafficMyRoutes(t,e){const n=await this.getRequestInit({method:"GET"}),i=await this.getTrafficPdpUrl(t,null,e);try{var r;const t=await(0,v.w)((async()=>{const t=await this.fetchImpl(i.href,n);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: Follow, targetType: ${s.L.Traffic}`;throw new Error(e)}return t}),"getTrafficFromPdp");return null===(r=await t.json())||void 0===r?void 0:r.value}catch(t){return null}}async getTrafficPdpUrl(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Follow",r=arguments.length>4?arguments[4]:void 0;const o=(0,g.PH)(this.pdpServiceEndpoint),a=2===await(0,b.XJ)(),c=(0,l.Yq)().UserId,u=a?m.$D.getOneServiceParamsWithAuth(c,this.ocid,!this.ocidOverride):m.$D.getOneServiceParamsWithoutAuth(c,this.ocid,!this.ocidOverride);if(t||e){const n=`targetType eq '${s.L.Traffic}'`,a=t?`degree eq '${t}'`:"",c=e?`definitionName eq '${e}'`:"",u=r?`targetId eq '${r}'`:"";o.searchParams.set("$filter",`actionType eq '${i}' and (${n})${a?` and (${a})`:""}${c?` and (${c})`:""}${u?` and (${u})`:""}`)}return[...u,...n||[]].forEach((t=>{t.value&&o.searchParams.set(t.key,t.value)})),o}async addToWatchList(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=s.L.Finance,a="Follow",c=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:a,targetType:o,targetId:t,metadata:{securityType:n,tickerId:this.generateUUID(),...r}})},i),u=(0,g.PH)(this.pdpServiceEndpoint),f="zh-cn"!==(0,l.Yq)().CurrentMarket,h=2===await(0,b.XJ)(),p=(null===(e=(0,d.nP)().CurrentFlights)||void 0===e?void 0:e.split(",").filter((t=>t.includes("1s"))).join(","))||"";let w;(h&&f?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,p,!0):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,p,!0)).forEach((t=>{t.value&&u.searchParams.set(t.key,t.value)}));try{w=await(0,v.w)((async()=>{const t=await this.fetchImpl(u.href,c);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${a}, targetType: ${o}`;throw new Error(e)}return t.json()}),"addToWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(o)}catch(t){return!1}return!0}async addListToWatchList(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=s.L.Finance,o="Follow",a=await this.getRequestInit({method:"POST",body:JSON.stringify(t.map((t=>({actionType:o,targetType:r,targetId:t.key,metadata:{securityType:t.value,tickerId:this.generateUUID(),...i}}))))},n),c=(0,g.PH)(this.pdpServiceEndpoint),u="zh-cn"!==(0,l.Yq)().CurrentMarket,f=2===await(0,b.XJ)(),h=(null===(e=(0,d.nP)().CurrentFlights)||void 0===e?void 0:e.split(",").filter((t=>t.includes("1s"))).join(","))||"";let p;(f&&u?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,h,!0):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,h,!0)).forEach((t=>{t.value&&c.searchParams.set(t.key,t.value)}));try{p=await(0,v.w)((async()=>{const t=await this.fetchImpl(c.href,a);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${o}, targetType: ${r}`;throw new Error(e)}return t.json()}),"addToWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(r)}catch(t){return!1}return!0}generateUUID(){let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(16)}))}async sortWatchList(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=s.L.Finance,o="Follow",a=(null===(e=(0,d.nP)().CurrentFlights)||void 0===e?void 0:e.split(",").filter((t=>t.includes("1s"))).join(","))||"",c=[{key:"fdhead",value:a}],u=await x.readPdpWithTargetType(s.L.Finance,!0,200,i,!1,c),f=u&&(null===(n=u.value)||void 0===n?void 0:n.filter((t=>t.actionType===o&&t.targetId)));if(!f||f.length<t.length)return!1;const h={};let p=t.length;f.forEach((e=>{let n=t.findIndex((t=>t===e.targetId));n<0&&(n=p,p++),h[e.targetId]=JSON.stringify({actionType:o,targetId:e.targetId,targetType:r,rank:n,metadata:e.metadata})}));const w=await this.getRequestInit({method:"PUT",body:JSON.stringify(h)},i),y=(0,g.PH)(this.pdpServiceEndpoint);(2===await(0,b.XJ)()?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,a,!0):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,a,!0)).forEach((t=>{t.value&&y.searchParams.set(t.key,t.value)}));try{await(0,v.w)((async()=>{const t=await this.fetchImpl(y.href,w);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: ${o}, targetType: ${r}`;throw new Error(e)}return t.json()}),"sortWatchList"),this.tryInvalidateBulkFetchedPdpTargetType(s.L.Finance)}catch(t){return!1}return!0}async updateWeatherInterests(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;const o=s.L.Weather,a=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:"Follow",targetType:o,targetId:t,metadata:e})},n),c=(0,g.PH)(this.pdpServiceEndpoint),u=2===await(0,b.XJ)();this.getCommonParams(u,r).forEach((t=>{t.value&&c.searchParams.set(t.key,t.value)}));try{const t=await this.fetchImpl(c.href,a);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for update weather interests call`;throw new Error(e)}}catch(t){return i.k.logError(t.message),!1}return!0}async getWeatherInterest(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;const i=await this.getRequestInit({method:"GET"},t),r=this.getWeatherInterestUrl(null,e),o=2===await(0,b.XJ)();this.getCommonParams(o,n).forEach((t=>{t.value&&r.searchParams.set(t.key,t.value)}));try{var a;const t=await(0,v.w)((async()=>{const t=await this.fetchImpl(r.href,i);if(t.status>=400){const e=`returned error response. Status: ${t.status} for actionType: Follow, targetType: ${s.L.Weather}`;throw new Error(e)}return t}),"getWeatherInterest");return null===(a=await t.json())||void 0===a?void 0:a.value}catch(t){return null}}getWeatherInterestUrl(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Follow";const i=(0,g.PH)(this.pdpServiceEndpoint),r=`targetType eq '${s.L.Weather}'`;return i.searchParams.set("$filter",`actionType eq '${n}' and (${r})${e?` and (${e})`:""}`),[...t||[]].forEach((t=>{t.value&&i.searchParams.set(t.key,t.value)})),i}async updateWeatherSettings(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!t&&!e)return!0;let o="";o=t&&!e?'{"weatherDisplayUnit":"'+t+'"}':!t&&e?'{"userSettings":{"weatherLocationSettingMode":"'+e+'"}}':'{"weatherDisplayUnit":"'+t+'","userSettings":{"weatherLocationSettingMode":"'+e+'"}}';const s=await this.getRequestInit({method:"POST"},n,r);s.body=o;const a=(0,g.PH)(this.userUpdateEndpoint),c=2===await(0,b.XJ)();this.getCommonParams(c&&!r,i).forEach((t=>{t.value&&a.searchParams.set(t.key,t.value)}));const u=await this.fetchImpl(a.href,s);if(u.status>=400){const t=`OneService returned error response. Status: ${u.status} for update weather setting call`;throw new Error(t)}return!0}async updateHoroscopePreference(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=s.L.Horoscope,a=await this.getRequestInit({method:"POST",body:JSON.stringify({actionType:"Follow",targetType:i,targetId:t})},e),c=(0,g.PH)(this.pdpServiceEndpoint),u=2===await(0,b.XJ)();this.getCommonParams(u,n).forEach((t=>{null!=t&&t.key&&null!=t&&t.value&&c.searchParams.set(t.key,t.value)}));try{const t=await this.fetchImpl(c.href,a);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for update horoscope preference`;throw new Error(e)}}catch(t){return(0,r.OO)(t,o.pex,null==t?void 0:t.toString()),!1}return!0}async getHoroscopePreference(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;const i=await this.getRequestInit({method:"GET"},t),a=this.getHoroscopePreferenceUrl(null,e),c=2===await(0,b.XJ)();this.getCommonParams(c,n).forEach((t=>{null!=t&&t.key&&null!=t&&t.value&&a.searchParams.set(t.key,t.value)}));try{var u;const t=await(0,v.w)((async()=>{const t=await this.fetchImpl(a.href,i);if(t.status>=400){const e=`returned error response. Status: ${t.status} for actionType: Follow, targetType: ${s.L.Horoscope}`;throw new Error(e)}return t}),"getHoroscope");return null===(u=await t.json())||void 0===u?void 0:u.value}catch(t){return(0,r.OO)(t,o.pex,null==t?void 0:t.toString()),null}}getHoroscopePreferenceUrl(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Follow";const i=(0,g.PH)(this.pdpServiceEndpoint),r=`actionType eq '${n}'`,o=`targetType eq '${s.L.Horoscope}'`;return i.searchParams.set("$filter",`(${r}) and (${o})`),i.searchParams.set("top","1"),[...t||[]].forEach((t=>{null!=t&&t.key&&null!=t&&t.value&&i.searchParams.set(t.key,t.value)})),i}async updateFinanceInterests(t){var e;if(!t)return!1;const n={financeInterests:t},i=JSON.stringify(n),r=await this.getRequestInit({method:"POST"});r.body=i;const o=(0,g.PH)(this.userUpdateEndpoint),s="zh-cn"!==(0,l.Yq)().CurrentMarket,a=2===await(0,b.XJ)(),c=(null===(e=(0,d.nP)().CurrentFlights)||void 0===e?void 0:e.split(",").filter((t=>t.includes("1s"))).join(","))||"";(a&&s?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,c,!0):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,c,!0)).forEach((t=>{t.value&&o.searchParams.set(t.key,t.value)}));const u=await this.fetchImpl(o.href,r);if(u.status>=400){const t=`OneService returned error response. Status: ${u.status} for update finance interests call`;throw new Error(t)}return!0}async updateUserSettings(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!t)return!0;const r=JSON.stringify({userSettings:t},((t,e)=>e??void 0)),o=await this.getRequestInit({method:"POST"},e);o.body=r;const s=(0,g.PH)(this.userUpdateEndpoint),a=2===await(0,b.XJ)()?m.$D.getOneServiceParamsWithAuth(n??(0,l.Yq)().UserId,this.ocid,!this.ocidOverride):m.$D.getOneServiceParamsWithoutAuth(n??(0,l.Yq)().UserId,this.ocid,!this.ocidOverride);for(const{key:t,value:e}of a)e&&s.searchParams.set(t,e);try{const t=await this.fetchImpl(s.href,o);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for update weather setting call`;throw new Error(e)}}catch(t){return i.k.logError(t.message),!1}return!0}setUserPrefData(t){this.userPreferenceData=t}async getUserPrefData(t){if(this.userPreferenceData)return this.userPreferenceData;return await this.getPdpUserPreference(!0,t,void 0,"weather")}async getPdpUserPreference(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=await this.getRequestInit({method:"GET"},e),s=(0,g.PH)(this.userUpdateEndpoint),a=2===await(0,b.XJ)()?m.$D.getOneServiceParamsWithAuth(n||(0,l.Yq)().UserId,this.ocid,!this.ocidOverride):m.$D.getOneServiceParamsWithoutAuth(n||(0,l.Yq)().UserId,this.ocid,!this.ocidOverride);for(const{key:t,value:e}of a)e&&s.searchParams.set(t,e);r&&s.searchParams.set("source",r);try{const t=await(0,v.w)((async()=>{const t=await this.fetchImpl(s.href,o);if(!t.ok){if(t.status>=400&&t.status<500&&408!=t.status)return t;throw Error(t.statusText)}return t}),"readPDPData");if(!t.ok&&404!=t.status)throw Error(`code=${t.status}, ${t.statusText}`);const e={...await t.json(),is404:404==t.status};return this.setUserPrefData(e),e}catch(e){if(i.k.logError(e.message),t)throw Error(e.message);return null}}async updatePdpLayoutPreference(t){const e={method:"PUT",credentials:"include",body:JSON.stringify({dummyid:{userLayoutPreference:t}})},n=(0,g.PH)(this.userUpdateEndpoint);(2===await(0,b.XJ)()?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride)).forEach((t=>{t.value&&n.searchParams.set(t.key,t.value)}));try{const t=await this.fetchImpl(n.href,e);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for update layout preference setting call`;throw new Error(e)}}catch(t){return i.k.logError(t.message),!1}return!0}async updateSegmentCardsEnableStatus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t&&!t.length)return!0;const n=[];if(e){let t;for(t in e)null!=e[t]&&n.push('"'+t+'": '+JSON.stringify(e[t]))}const i=t.map((t=>t.cardType!=a.f.TopStoriesCard?`\\"${t.cardType}\\":${t.enabled?'\\"1\\"':'\\"0\\"'}`:"")).join(","),r=n.length>0?'{"segmentCardSettings":"{'+i+'}","userSettings":{'+n.join(", ")+"}}":'{"segmentCardSettings":"{'+i+'}"}';return this.updateUserPreference(r)}async updateProductivityCardsEnableStatus(t){if(!t&&!t.length)return!0;const e=`{userSettings:{enterpriseCardsEnabled:"{${t.map((t=>`\\"is${t.cardType}Enabled\\":${t.enabled?"true":"false"}`)).join(",")}}"}}`;return this.updateUserPreference(e)}async updateGamingCardsEnableStatus(t){if(!t&&!t.length)return!0;const e=`{userSettings:{gamingCards:"{${t.map((t=>`\\"is${t.cardType}Enabled\\":${t.enabled?"true":"false"}`)).join(",")}}"}}`;return this.updateUserPreference(e)}async updateMorningDigestEnableStatus(t){if(!t&&!t.length)return!0;const e=`{userSettings:{WindowsShellMorningDigest:"{${t.map((t=>`\\"is${t.cardType}Enabled\\":${t.enabled?"true":"false"}`)).join(",")}}"}}`;return this.updateUserPreference(e)}async updateCommunitySettingsOptOutStatus(t){if(!t&&!t.length)return!0;const e={};t.forEach((t=>{e[t.settingType]=t.optedOut?"1":"0"}));const n={communitySettings:e};return this.updateUserPreference(JSON.stringify(n))}async updateWidgetSettings(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!t)return!1;const i=t.filter((t=>{var e;return!(null!==(e=t.region)&&void 0!==e&&e.startsWith("wbcol"))})).map((t=>({actionType:"Follow",targetId:t.cardType,targetType:s.L.Widget,metadata:{prongsv2:{region:t.region,size:c.m[t.size],position:t.position,widgetDefinitionId:t.widgetDefinitionId}}})));return this.sendGenericActionRequest({additionalHeaders:e,endpoint:this.pdpServiceEndpoint,method:"POST",payload:JSON.stringify(i),appError:n})}async muteWidget(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!t||!t.length)return!1;const i=t.map((t=>({actionType:"Mute",targetId:t,targetType:s.L.Widget})));return this.sendGenericActionRequest({additionalHeaders:e,endpoint:this.pdpServiceEndpoint,method:"POST",payload:JSON.stringify(i),appError:n})}async disableSpotlightCard(t,e,n){if(!t)return!1;const i={actionType:"Disabled",definitionName:t,targetType:n||s.L.TopicFeed};return this.sendGenericActionRequest({endpoint:this.pdpServiceEndpoint,method:"POST",payload:JSON.stringify(i),appError:e},!0)}async getDisabledActionCards(t,e){if(!t.length||!e.length)return[];const n=Array.from(new Set(e)),i=Array.from(new Set(t)),r=[{key:"$top",value:"100"},{key:"$filter",value:`actionType eq 'Disabled' and targetType eq '${`${n.join("' or targetType eq '")}`}' and definitionName eq '${`${i.join("' or definitionName eq '")}`}'`}],o=await this.getRequestInit({method:"GET"}),s=(0,g.PH)(this.pdpServiceEndpoint),a=2===await(0,b.XJ)();[...r,...this.getCommonParams(a,null,!0)].forEach((t=>{t.value&&s.searchParams.set(t.key,t.value)}));const c=await(0,v.w)((async()=>{const t=await this.fetchImpl(s.href,o);if(!t.ok){if(t.status>=400&&t.status<500&&408!=t.status)return t;throw Error(t.statusText)}return t}),"readPDPData");if(!c.ok&&404!=c.status)throw Error(`code=${c.status}, ${c.statusText}`);return(await c.json()).value||[]}async sendGenericActionRequest(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{additionalHeaders:n,additionalParams:i,endpoint:r,method:o,payload:s,appError:a}=t;if(!r||!o)return this.logError(new Error("Missing arguments: 'endpoint' and 'method' should be provided and valid"),a),!1;const c=(0,g.PH)(r),u=2===await(0,b.XJ)();let l;this.getCommonParams(u,null,e).forEach((t=>{t.value&&c.searchParams.set(t.key,t.value)})),i&&i.forEach((t=>{t.value&&c.searchParams.set(t.key,t.value)}));try{JSON.parse(s),l=s}catch(t){l=JSON.stringify(s)}const d=await this.getRequestInit({method:o,body:l},n),f="GET"==o;try{return await(0,v.w)((async()=>{const t=await this.fetchImpl(c.href,d);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for payload: ${s}`;throw new Error(e)}return!f||await t.json()}),"sendActions")}catch(t){return this.logError(t,a),!1}}async getUserActions(t){const e=[{key:"actionType",value:t}],n=await this.sendGenericActionRequest({additionalParams:e,endpoint:this.userActionServiceEndPoint,method:"GET"});return n&&n.value}async setUserAction(t,e,n){return!!await this.sendGenericActionRequest({endpoint:n?this.pdpServiceEndpoint:this.userActionServiceEndPoint,method:"POST",payload:{actionType:t,...e}},!0)}async enableCard(t,e){const n=await this.getRequestInit({method:"DELETE"}),i=(0,g.PH)(this.pdpServiceEndpoint),r=2===await(0,b.XJ)(),o=this.getCommonParams(r,null,!0);o.forEach((t=>{t.value&&i.searchParams.set(t.key,t.value)}));[...[{key:"$filter",value:`actionType eq 'Disabled' and targetType eq '${e}' and definitionName eq '${t}'`}],...o].forEach((t=>{t.value&&i.searchParams.set(t.key,t.value)}));try{await(0,v.w)((async()=>{const t=await this.fetchImpl(i.href,n);if(t.status>=400){const n=`OneService returned error response. Status: ${t.status} for actionType: Disabled, targetType: ${e}`;throw new Error(n)}return t}),"enableCard")}catch(t){return!1}return!0}async deleteUserAction(t,e){const n=[{key:"actionType",value:t},{key:"targetId",value:e.targetId},{key:"definitionName",value:e.definitionName}];return!!await this.sendGenericActionRequest({additionalParams:n,endpoint:this.userActionServiceEndPoint,method:"DELETE"})}async deleteUserActionRelatedTraffic(t,e){const n=await this.getRequestInit({method:"DELETE"}),i=await this.getTrafficPdpUrl("Default",null,null,t,e.targetId);try{await(0,v.w)((async()=>{const e=await this.fetchImpl(i.href,n);if(e.status>=400){const n=`OneService returned error response. Status: ${e.status} for actionType: ${t}, targetType: ${s.L.Traffic}`;throw new Error(n)}return e}),"deleteActionRelatedTraffic"),this.tryInvalidateBulkFetchedPdpTargetType(s.L.Traffic)}catch(t){return!1}return!0}async updateUserPreference(t){const e=await this.getRequestInit({method:"POST"});e.body=t;const n=(0,g.PH)(this.userUpdateEndpoint),i=2===await(0,b.XJ)();this.getCommonParams(i,null,!0).forEach((t=>{t.value&&n.searchParams.set(t.key,t.value)}));try{const i=await this.fetchImpl(n.href,e);if(i.status>=400){const e=`OneService returned error response while updating user preference. Status: ${i.status}, payload: ${t}`;throw new Error(e)}}catch(t){return!1}return!0}setPdpTargetTypesForBulkLoad(t){t&&t.length&&!this.bulkGraphActionTargetTypes&&(this.bulkGraphActionTargetTypes=t)}async readPdpWithTargetType(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(arguments.length>4&&void 0!==arguments[4])||arguments[4]){const e=await this.getFromWebWorker(t);if(e)return e}if(this.bulkGraphActionTargetTypes&&this.bulkGraphActionTargetTypes.length)if(this.bulkGraphActionTargetTypes.indexOf(t)>=0){this.bulkGraphActionResultCache=this.bulkGraphActionResultCache||await(this.bulkGraphActionPromise||(this.bulkGraphActionPromise=this.fetchPdpWithTargetTypes(this.bulkGraphActionTargetTypes,e,n,i,s,a)));const r=this.bulkGraphActionResultCache.get(t);if(r)return{value:r}}else(0,r.H)(o.srQ,`Received an unknown target type "${t}" that was not in the bulk graph action target types list "${this.bulkGraphActionTargetTypes}". Falling back to new network call. Please update the EntryPoint config's "graphActionsToBulkLoad" property to include this type.`);const c=(await this.fetchPdpWithTargetTypes([t],e,n,i,s,a)).get(t);if(c)return{value:c}}async deleteFromPdp(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Follow",s=arguments.length>6?arguments[6]:void 0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const u=await this.getRequestInit({method:"DELETE"},i,c),l=(0,g.PH)(this.pdpServiceEndpoint),d=2===await(0,b.XJ)(),f=this.getCommonParams(d&&!c),h=`targetType eq '${t}'`,p=n.map((t=>`${e} eq '${t}'`)).join(" or ");let m=`actionType eq '${o}' and (${p}) and (${h})`;r&&(m+=` and (degree eq '${r}')`),l.searchParams.set("$filter",m),[...f,...a].forEach((t=>{t.value&&l.searchParams.set(t.key,t.value)}));try{await(0,v.w)((async()=>{const e=await this.fetchImpl(l.href,u);if(e.status>=400){const n=`OneService returned error response. Status: ${e.status} for actionType: ${o}, targetType: ${t}`;throw new Error(n)}return e}),"deleteFromPdp"),this.tryInvalidateBulkFetchedPdpTargetType(t)}catch(t){return s&&w.M0.sendAppErrorEvent({...s,pb:{...s.pb,actionType:o,error:t.message}}),!1}return!0}tryInvalidateBulkFetchedPdpTargetType(t){this.bulkGraphActionResultCache&&this.bulkGraphActionResultCache.delete(t)}async fetchPdpWithTargetTypes(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(!t.length)return new Map;const a=t.map((t=>`targetType eq '${t}'`)).join(" or ");n=n||10*t.length*2;const c=[{key:"$top",value:`${n}`},{key:"$filter",value:`actionType eq 'Follow' and (${a})`}],l=await this.getRequestInit({method:"GET"},i);!0===e&&(l.cache="no-store");const d=(0,g.PH)(this.pdpServiceEndpoint),f=2===await(0,b.XJ)();[...c,...this.getCommonParams(f),...r].forEach((t=>{t.value&&d.searchParams.set(t.key,t.value)}));const h=await(0,v.w)((async()=>{const t=await this.fetchImpl(d.href,l);if(!t.ok){if(t.status>=400&&t.status<500&&408!=t.status)return t;throw Error(t.statusText)}return t}),"readPDPData");if(!h.ok)throw Error(`code=${h.status}, ${h.statusText}`);if(o){const t=(h.headers.get("ddd-auth-features")||"").split(";");if(!t.includes("AadStateOrigin:AuthorizationJwtToken")&&!t.includes("MsaStateOrigin:AuthorizationJwtToken"))throw new u("user does not have valid auth token")}const p=new Map,m=await h.json();if(!m)return p;if(m.value)for(const t of m.value){let e=p.get(t.targetType);e||p.set(t.targetType,e=[]),e.push(t)}for(const e of t)if(p.get(e)||p.set(e,[]),e===s.L.Finance){if("all-cgcombo"===d.searchParams.get("interestType")){const t=p.get(s.L.CasualGame)||[];let n=p.get(s.L.Finance)||[];n=n.concat(t),p.set(e,n)}}return p}async updateMarketPreference(t){const e=await this.getRequestInit({method:"POST",credentials:"include",body:JSON.stringify({userSettings:{preferredMarket:t}})}),n=(0,g.PH)(this.userUpdateEndpoint);(2===await(0,b.XJ)()?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride)).forEach((t=>{t.value&&n.searchParams.set(t.key,t.value)}));try{const i=await this.fetchImpl(n.href,e);if(!i.ok)throw new Error(`Failed to update market preference: Status: ${i.status}`);return this.marketQSPOverride&&window.history.pushState(null,"",f.cX.updateSearchParam(new URL(window.location.href),"cm",t)),!0}catch(t){return i.k.logError(t.message),!1}}async updateFeedPreference(t){const e="winWidgets"===l.jG.AppType?"rubyProng2OptOut":"rubyOptOut",n=await this.getRequestInit({method:"POST",credentials:"include",body:JSON.stringify({userSettings:{[e]:t?"0":"1"}})}),r=(0,g.PH)(this.userUpdateEndpoint);(2===await(0,b.XJ)()?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride)).forEach((t=>{t.value&&r.searchParams.set(t.key,t.value)}));try{const t=await this.fetchImpl(r.href,n);if(!t.ok)throw new Error(`Failed to update feed preference: Status: ${t.status}`);return!0}catch(t){return i.k.logError(t.message),!1}}async getFromWebWorker(t){let e=null;if(h.yb){const n=this.maptoWebWorkerId(t);if(n&&n.trim()){const n=await(0,h.ot)({id:this.maptoWebWorkerId(t)});n.fetched&&(e=n.payload)}}return e}maptoWebWorkerId(t){switch(t){case s.L.Location:return"weatherpdp";case s.L.League:return"sportsleaguepdp";case s.L.Player:return"sportsplayerpdp";case s.L.Team:return"sportsteampdp";case s.L.Finance:return"moneypdp";default:return""}}async getRequestInit(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{method:"GET"},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await m.$D.getOneServiceHeaders();return t.headers={...n?{}:i,...e},t.credentials="include",t}async getFollowedLists(){var t;const e=await this.getRequestInit({method:"GET"}),n=(0,g.PH)(this.userUpdateEndpoint),s=2===await(0,b.XJ)(),a=(null===(t=(0,d.nP)().CurrentFlights)||void 0===t?void 0:t.split(",").filter((t=>t.includes("1s"))).join(","))||"",c=s?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,a,!0):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,a,!0);for(const{key:t,value:e}of c)e&&n.searchParams.set(t,e);try{const t=await(0,v.w)((async()=>{const t=await this.fetchImpl(n.href,e);if(!t.ok){if(t.status>=400&&t.status<500&&408!=t.status)return t;(0,r.OO)(null,o.G9t,"Error get followed list")}return t}),"getFollowedLists");return t.ok||(0,r.OO)(null,o.G9t,"Error get followed list"),await t.json()}catch(t){return i.k.logError(t.message),null}}async addToFollowedLists(t){var e;const n=s.L.Finance,i=await this.getRequestInit({method:"POST",body:JSON.stringify({financeListIds:t})}),r=(0,g.PH)(this.userUpdateEndpoint),o=2===await(0,b.XJ)(),a=(null===(e=(0,d.nP)().CurrentFlights)||void 0===e?void 0:e.split(",").filter((t=>t.includes("1s"))).join(","))||"";let c;(o?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,a,!0):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,a,!0)).forEach((t=>{t.value&&r.searchParams.set(t.key,t.value)}));try{c=await(0,v.w)((async()=>{const t=await this.fetchImpl(r.href,i);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: FollowList, targetType: ${n}`;throw new Error(e)}return t.json()}),"addToFollowedLists")}catch(t){return!1}return!0}async deleteFromFollowedLists(t){var e;const n=s.L.Finance,i=await this.getRequestInit({method:"DELETE"}),r=(0,g.PH)(this.userUpdateEndpoint),o=2===await(0,b.XJ)(),a=(null===(e=(0,d.nP)().CurrentFlights)||void 0===e?void 0:e.split(",").filter((t=>t.includes("1s"))).join(","))||"";let c;[...o?m.$D.getOneServiceParamsWithAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,a,!0):m.$D.getOneServiceParamsWithoutAuth((0,l.Yq)().UserId,this.ocid,!this.ocidOverride,a,!0),...[{key:"financeListIds",value:t.toString()}]].forEach((t=>{t.value&&r.searchParams.set(t.key,t.value)}));try{c=await(0,v.w)((async()=>{const t=await this.fetchImpl(r.href,i);if(t.status>=400){const e=`OneService returned error response. Status: ${t.status} for actionType: UnFollowList, targetType: ${n}`;throw new Error(e)}return t.json()}),"deleteFromFollowedLists")}catch(t){return!1}return!0}logError(t,e){e?w.M0.sendAppErrorEvent({...e,pb:{...e.pb,error:t.message}}):i.k.logError(t.message)}}const x=new class extends S{constructor(){super((0,p.j)()),"windowsNewsPlus"===l.jG.AppType||"winWidgets"===l.jG.AppType?(this.ocid="winp2",this.ocidOverride=!0):"sharedWidgets"===l.jG.AppType?(this.ocid="hpwidget",this.ocidOverride=!0):"travel"===l.jG.AppType?(this.ocid="travel-verthp-feeds",this.ocidOverride=!0):"gaming"===l.jG.AppType?(this.ocid="authconstants-peregrine",this.ocidOverride=!0):"health"===l.jG.AppType?(this.ocid="health-verthp-feeds",this.ocidOverride=!0):"bingHomepage"===l.jG.AppType?(this.ocid="BingHp01",this.ocidOverride=!0):"windowsShellV2"===l.jG.AppType?(this.ocid="pdp-peregrine",this.ocidOverride=!0):"edgeChromium"===l.jG.AppType&&l.jG.IsHeroNTP&&(this.marketQSPOverride=!0)}}},22691:function(t,e,n){n.d(e,{l:function(){return l}});var i=n(33018),r=n(44132);class o{constructor(){this.callbacks=[],this.clickCallbacks=[]}getSelectedPivot(){return this.selectedPivot}setSelectedPivot(t){t&&t.pivotId&&(this.selectedPivot={...t})}switchPivot(t,e){var n;const i=this.selectedPivot;this.selectedPivot={...t};const o={hash:null===(n=this.selectedPivot.context)||void 0===n?void 0:n.hash,navIsSticky:this.selectedPivot.navIsSticky,newSelection:this.selectedPivot,oldSelection:i};this.callbacks.sort(((t,e)=>t.switchCallbackOrder-e.switchCallbackOrder)),e&&r.M0.addOrUpdateTmplProperty("pvcb",this.callbacks.length.toString());for(const t of this.callbacks)t.callback(o)}clickPivot(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;for(const n of this.clickCallbacks)n(t,e)}addSwitchListener(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.I.AfterLoadContent;this.callbacks.find((n=>n.callback===t&&n.switchCallbackOrder===e))||this.callbacks.push({callback:t,switchCallbackOrder:e})}removeSwitchListener(t){this.callbacks=this.callbacks.filter((e=>e.callback!==t))}addClickListener(t){this.clickCallbacks.push(t)}removeClickListener(t){this.clickCallbacks=this.clickCallbacks.filter((e=>e!==t))}reportLoadComplete(){this.loadComplete=!0,this.loadCompleteResolveCallback&&this.loadCompleteResolveCallback()}waitForLoadComplete(){return this.loadCompletePromise?this.loadCompletePromise:this.loadComplete?Promise.resolve():(this.loadCompletePromise=new Promise((t=>{this.loadCompleteResolveCallback=t})),this.loadCompletePromise)}}var s=n(18875),a=n(52185);const c="__PivotManager_default__",u="__PivotManager_namedSwitchers__";function l(t){if(t){const e=a.Gq.get(u,(()=>new Map));let n=e.get(t);return n||(n=new o,e.set(t,n)),n}return a.Gq.get(c,(()=>new o))}(0,s.U)((()=>{a.Gq.delete(c),a.Gq.delete(u)}))},33018:function(t,e,n){var i;n.d(e,{I:function(){return i}}),function(t){t[t.Telemetry=0]="Telemetry",t[t.Monetization=1]="Monetization",t[t.LoadContent=2]="LoadContent",t[t.AfterLoadContent=3]="AfterLoadContent"}(i||(i={}))},17681:function(t,e,n){n.d(e,{X:function(){return o}});var i,r=n(24709);class o{}(i=o).pageVisibilityChange=new r.C("PageVisibilityChange"),i.timeForPageReveal=new r.C("TimeForPageReveal"),i.forcePageReload=new r.C("ForcePageReload"),i.updateCurrentPageRefreshState=new r.C("UpdateCurrentPageRefreshState"),i.updateDidRenderStartInBackgroundRenderFlag=new r.C("UpdateDidRenderStartInBackgroundRenderFlag")},47581:function(t,e,n){n.d(e,{Eu:function(){return f},bY:function(){return d},fv:function(){return h}});var i=n(523),r=n(16986),o=n(77016),s=n(17681),a=n(17779),c=n(33779),u=n(5302),l=n(13218);function d(t){const e=o._.getInstance().rootReducer.connector(i._8);e&&s.X.forcePageReload.getActionSender(e).send(t||a.T.SettingsChange)}function f(t){const e=o._.getInstance().rootReducer.connector(i._8);e&&s.X.timeForPageReveal.getActionSender(e).send(t)}function h(t){if(!l.Al.IsPreload)return;if("windowsShell"===l.Al.ClientSettings.apptype||"windowsShellV2"===l.Al.ClientSettings.apptype)return t.Win10PerfDCREnabled=1,t[r.Qf]=t[r.dd],delete t[r.dd],delete t["TTVR.E2E"],delete t["TTVR.Client"],delete t["TTVR.E2E_internal_1"],delete t["TTVR.Client_internal_1"],delete t["TTVR.E2E_internal_2"],delete t["TTVR.Client_internal_2"],void delete t.launchType;const e=function(){const t=o._.getInstance().rootReducer.connector(i._8);if(!t)return!1;return t.getCurrentState().didRenderStartInBackground}();e&&("edgeChromium"===l.Al.ClientSettings.apptype?(t[r.C7]=1,t[r.eO]=1):t[r.eO]=1);const n=t[r.Lh],s=t[r.dd],a=t[r.pM],d=t[r.pc];let f=!1;if((isNaN(s)||null===s)&&((0,c.H)(u.vAF,"TTVR missing during preload."),f=!0),(isNaN(n)||null===n)&&((0,c.H)(u.Hif,"TFPR missing during preload."),f=!0),f)return;const h=t[r.Lh]=t[r.dd]=Math.min(n,s);e&&(t[r.Qf]=s),isNaN(a)||null===a?(0,c.H)(u.vwD,"TTVR.SearchBox missing during preload."):t[r.pM]=Math.min(h,a),isNaN(d)||null===d?(0,c.H)(u.sEv,"TTF.SearchBox missing during preload."):t[r.pc]=Math.min(h,d)}},16986:function(t,e,n){n.d(e,{C7:function(){return l},H$:function(){return i},Lh:function(){return a},Qf:function(){return c},dd:function(){return o},eO:function(){return u},jh:function(){return d},pM:function(){return s},pc:function(){return r}});const i="TTPR2",r="TTF.SearchBox",o="TTVR",s="TTVR.SearchBox",a="TFPR",c="TTVR.BackgroundExecution",u="backgroundpreload",l="prerender",d="TTAF"},17779:function(t,e,n){var i;n.d(e,{T:function(){return i}}),function(t){t[t.StalePage=1]="StalePage",t[t.SettingsChange=2]="SettingsChange",t[t.MuidChange=3]="MuidChange",t[t.GizmoSettingChange=4]="GizmoSettingChange",t[t.TopSites=5]="TopSites",t[t.PivotSwitch=6]="PivotSwitch",t[t.SignInStateChange=7]="SignInStateChange",t[t.MutePublisher=8]="MutePublisher",t[t.UnMutePublisher=9]="UnMutePublisher",t[t.Dislike=10]="Dislike",t[t.Like=11]="Like",t[t.Save=12]="Save",t[t.Hide=13]="Hide",t[t.KidsMode=14]="KidsMode",t[t.MarketChange=15]="MarketChange",t[t.InterestsSdCardSettingChange=16]="InterestsSdCardSettingChange",t[t.InterestsChange=17]="InterestsChange",t[t.WeatherChange=18]="WeatherChange",t[t.MoneyCardChange=19]="MoneyCardChange",t[t.Disabled=20]="Disabled"}(i||(i={}))},27566:function(t,e,n){n.d(e,{o:function(){return c}});var i=n(523),r=n(77016),o=n(17681),s=n(13218);const a={didPreload:!1,timeTakenForRevealInMs:0,pageRevealed:!0};function c(){const t=r._.getInstance().rootReducer.connector(i._8);if(!t||!s.Al.IsPreload)return Promise.resolve(a);const e=t.getCurrentState();if(e&&e.pageRevealedData){const t=e.pageRevealedData;return Promise.resolve(t)}return new Promise((t=>{o.X.pageVisibilityChange.registerObserver((e=>{const n=e.params[0];t(n)}))}))}},44653:function(t,e,n){n.d(e,{cB:function(){return u}});var i=n(15598);"undefined"!=typeof window&&window.location.href;const r="timestamp_",o="force_timestamp_",s="_jssMap",a="keys_",c="lastKnown_";function u(){(0,i.$o)().supported&&((0,i.$o)().removeSubstringKeys(c),(0,i.$o)().removeSubstringKeys(r),(0,i.$o)().removeSubstringKeys(o),(0,i.$o)().removeSubstringKeys(a),(0,i.$o)().removeSubstringKeys(s))}},24939:function(t,e,n){n.d(e,{H:function(){return c},q:function(){return a}});var i=n(21215);const r="date",o=(null===globalThis||void 0===globalThis?void 0:globalThis.requestIdleCallback)??(t=>globalThis.setTimeout(t))??(t=>t());class s{constructor(t){var e=this;this.options=t,this.tryReadCache=async function(){if(await e.tryOpenCache()){const n=e.options.getCacheKey(...arguments);if(n){var t;const i=await(null===(t=e.cache)||void 0===t?void 0:t.match(n));if(e.isValid(i))return Object.assign(i,{isFromCache:!0}),i}}},this.writeCache=async function(t){if(200===(null==t?void 0:t.status)&&await e.tryOpenCache()){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];const c=e.options.getCacheKey(...i);if(c){t.headers.get(r)||t.headers.set(r,(new Date).toUTCString());let n=!1;try{var a;await(null===(a=e.cache)||void 0===a?void 0:a.put(c,t)),n=!0}catch{}o((()=>e.clearCache(n)))}}},this.clearCache=async function(){var t,n;let i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null===(t=await(null===(n=e.cache)||void 0===n?void 0:n.keys()))||void 0===t?void 0:t.forEach((async t=>{let n=!i;if(i){var r;const i=await(null===(r=e.cache)||void 0===r?void 0:r.match(t));n=i&&!e.isValid(i)}var o;n&&await(null===(o=e.cache)||void 0===o?void 0:o.delete(t))}))},this.tryOpenCache=async()=>{if(this.isEnabled&&!this.cache)try{this.cache=await globalThis.caches.open(this.options.cacheName)}catch{}return!!this.cache},this.isValid=t=>{var e;const n=Date.parse((null==t||null===(e=t.headers)||void 0===e?void 0:e.get(r))||""),i=n&&!isNaN(n)?n+this.maxAgeInMs:void 0;return!!i&&i>=Date.now()},this.isEnabled=(0,i.N)()&&!(null===globalThis||void 0===globalThis||!globalThis.caches),this.maxAgeInMs=t.maxAgeInMs||6e4}}const a=t=>new s(t),c=t=>!(null==t||!t.isFromCache)},9378:function(t,e,n){n.d(e,{LZ:function(){return c},b8:function(){return s},gZ:function(){return i},pR:function(){return r},wc:function(){return a}});var i,r,o=n(34800);function s(t){switch(t){case o.PL.Article:return 13;case o.PL.Slideshow:return 14;case o.PL.Video:return 15;default:return null}}function a(t,e){return e?t.find((t=>e.includes(t.type))):null}function c(t,e){return e?t.find((n=>{if(!e.includes(n.type))return!1;if(n.type===r.EXPLORE){const e=new Set([r.EXPLICITLIKE,r.FOLLOWEDTOPIC,r.FOLLOWEDPUBLISHER]);return t.every((t=>!e.has(t.type)))}return!0})):null}!function(t){t.TRENDING="trending",t.HOT="hot",t.VIEWS="views",t.OPINION="opinion",t.LOCAL="local",t.EXPLICITLIKE="explicitLike",t.FOLLOWEDTREATMENT="followed",t.FOLLOWEDTREATMENTTOPIC="followedTopic",t.FOLLOWEDTREATMENTPUBLISHER="followedPublisher"}(i||(i={})),function(t){t.FOLLOWEDTOPIC="followTopic",t.FOLLOWEDPUBLISHER="followPublisher",t.TRENDING="trending",t.LOCAL="local",t.EXPLICITLIKE="explicitLike",t.EXPLORE="explore"}(r||(r={}))},34800:function(t,e,n){n.d(e,{PL:function(){return o},TU:function(){return a},jt:function(){return r},ne:function(){return s}});var i=n(81586);const r="News_DGG";var o;function s(t){switch(t){case"ArticlePreview":case"article":return i.uH.Article;case"SlideshowPreview":case"slideshow":return i.uH.Gallery;case"video":case"VideoPreview":return i.uH.Video;case"WebContentPreview":return i.uH.WebContent;case"WebContentExternal":return i.uH.ExternalLink;default:return null}}!function(t){t.PublisherSpotlightCard="PublisherSpotlightSDCard",t.FollowedPublishersCard="FollowedPublishersSDCard",t.DailyMomentsCard="DailyMomentsSDCard",t.NewsDailyWonderCard="News_DailyWonder",t.DailyWonderCard="DailyWonder",t.DailyWonderCopilotCard="DailyWonderHeroPrompts",t.DailyWonderHeroVideo="DailyWonderHeroVideo",t.DailyWonderQuoteCard="DailyWonderHeroQuote",t.DailyWonderVideoListCard="DailyWonderHeroRecommended",t.DailyQuizSdCard="DailyQuizSdCard",t.ShoppingBannerSdCard="ShoppingBannerSdCard",t.DailyBriefCard="DailyBrief",t.MobileTrendingSearchCard="mobile-trending-search-card",t.WidgetsNotificationsCard="widgetsNotificationsCard",t.DonationNpoCard="DonationNpoCard",t.EntertainmentPremierCard="premier-sd-card",t.EventSDCardOscarsPrm="EventSDCardOscarsPrm",t.BingDailyQuizCard="bing-daily-quiz-card",t.RichCalendarCard="RichCalendarSD",t.DailyGreetingCard="DailyGreeting",t.EventSDCardElectionMIT1="EventSDCardElectionMIT1",t.EventSDCardElectionMIT2="EventSDCardElectionMIT2",t.EventSDCardElectionMIT3="EventSDCardElectionMIT3",t.EventContentCardENIN1="eventcontentcardenin1",t.CommunityCard="CommunityInfo",t.HotListCard="hotlist",t.TabbedInfopaneCard="tabbedinfopane",t.TabbedInfopaneCardTab="tabbed-infopane-tab",t.MangaCard="MangaCard",t.MangaCarousel="MangaCarousel",t.MangaParentPageCarousel="MangaParentPageCarousel",t.MangaReadMoreCarousel="MangaReadMoreCarousel",t.MangaTrendingCarousel="MangaTrendingCarousel",t.MobileVideoSdCard="MobileVideoSdCard",t.VideoShoppingCarouselCard="VideoShoppingCarousel",t.RealEstateCard="real-estate-card",t.RealEstateCarousel="RealEstateCarousel",t.RealEstateCardReact="RealEstateCardReact",t.PrismCarouselCard="PrismFeedCarousel",t.TrendingSearchCard="TrendingSearchCard",t.CommuteCard="CommuteMetadata",t.DigestCard="digest-card",t.Article="article",t.Slideshow="slideshow",t.Video="video",t.Spotlight="content360",t.Infopane="infopane",t.TabbedInfopane="tabbedInfopane",t.GemCard="GemCard",t.GemRiverCard="GemRiverCard",t.GemGreeting="GemGreeting",t.GemInsight="GemInsight",t.GemPrompts="GemPrompts",t.GemShopping="GemShopping",t.Gem_Article_RelatedArticles="Gem_Article_RelatedArticles",t.Gem_Finance_GetCharts="Gem_Finance_GetCharts",t.Gem_GenAIContent_InsightSummary="Gem_GenAIContent_InsightSummary",t.Gem_Media_Image="Gem_Media_Image",t.Gem_Prompts="Gem_Prompts",t.HeroGem="HeroGem",t.RiverGem="RiverGem",t.TopSectionNews="TopSectionNews",t.HalfPane="HalfPane",t.HeadToHead="HeadToHead",t.Mosaic="Mosaic",t.Triptych="Triptych",t.TabbedInfopaneTab="tabbedInfopaneTab",t.WebContent="webcontent",t.ExternalLink="link",t.ChannelCarousel="followCarousel",t.ChannelFilterCard="filteredChannels",t.DynamicFilteredChannel="dynamicfilteredchannels",t.InterestManagementCard="InterestManager",t.GamingInterestGroup="GamingInterestGroup",t.DenseList="DenseList",t.BackFillContent="BackfillContent",t.MyBriefRiverCard="toppicks",t.panoCard="panocard",t.NativeAd="nativead",t.NativeTopAd="nativetopad",t.CmsAd="cmsad",t.BuyDirectAd="directbuyad",t.AmplifyAd="amplifyad",t.BoostAd="BoostAd",t.EventSDCardAmplifyAds="EventSDCardAmplifyAds",t.FirstPartyAd="firstpartyad",t.IntraNativeAd="intranative",t.ShoppingCard="ShoppingCard",t.ShoppingBWMCard="BuyWithMicrosoftCard",t.ShoppingBWMCarousel="BuyWithMicrosoftCarousel",t.EdgeShoppingCard="EdgeShoppingCard",t.ShoppingCarousel="ShoppingCarousel",t.ShoppingCarousel2="ShoppingCarousel2",t.ShoppingRiver="ShoppingRiver",t.ShoppingRiver1="ShoppingRiver1",t.ShoppingRiver2="ShoppingRiver2",t.ShoppingRiver3="ShoppingRiver3",t.EventSDCardShopping="EventSDCardShopping",t.EventInfopaneShoppingAI="EventInfopaneShoppingAI",t.ShoppingInfopaneAd1="ShoppingInfopane1",t.ShoppingInfopaneAd2="ShoppingInfopane2",t.ShoppingInfopaneAd3="ShoppingInfopane3",t.ShoppingInfopaneAd4="ShoppingInfopane4",t.Shopping1688Carousel="Shopping1688Carousel",t.ShoppingTopSectionCard="ShoppingTopSectionCard",t.ComicsCarousel="ComicsCarousel",t.EditorsPickCarousel="EditorsPickCarousel",t.SelectCarousel="SelectCarousel",t.DailyFixGamesCarousel="DailyFixGamesCarousel",t.SubscriptionCarousel="SubscriptionCarousel",t.BeaconProviderUpsell="BeaconProviderUpsell",t.MoneyTopicStripe="MoneyTopicStripe",t.SportsTopicStripe="SportsTopicStripe",t.LinkedInCard="linkedInNewsCard",t.SectionHeader="GreetingsUpsell",t.DigestCardRuby="DigestCard",t.TopStories="topStories",t.TopStoriesV2="cgtopStories",t.TopStoriesRuby="TopStories",t.NewsTopStories="News_TopStories",t.TrendingNowRuby="TrendingNow",t.NewsTrendingNow="News_TrendingNow",t.LittleKnownFactsCard="LittleKnownFacts",t.NewsLittleKnownFactsCard="News_LittleKnownFacts",t.NewsGroups="newsGroups",t.NewsAnswerModule="NewsAnswerModule",t.TrendingNowCarousel="TrendingNowCarousel",t.TopStoriesCarousel="TopStoriesCarousel",t.WorkHeadlines="workNews",t.Trending="trendingnow",t.TrendingTopics="TrendingTopicsUpsellAnaheim",t.LocalNews="XfeedUpsell",t.LocalNewsFeed="LocalNewsFeed",t.SageGroupedFeed="SageGroupedFeed",t.TrendingInTenMinutes="trendingInTenMinutes",t.Horoscope="Horoscope",t.Elections="EventSDCardElection",t.OnThisDay="OnThisDay",t.OnThisDaySDCard="OnThisDaySDCard",t.LocalEventsSDCard="LocalEventsSDCard",t.PartnerUpsell="PartnerUpsell",t.Qna="qnacard",t.quizcard="quizcard",t.Recipes="recipecard",t.Inspiration="PrismFeedCard",t.Rewards="rewardscard",t.TravelDestinationCard="TravelDestinationCard",t.TravelDestinationCarouselCard="TravelDestinationCarouselCard",t.TravelInspirationCard="TravelInspirationCard",t.BingHealthCovid19StatsCard="Covid19Stats",t.BingHealthFitnessCard="healthcard",t.HealthTipCard="healthtipcard",t.HealthRiverCard="healthrivercard",t.PollsCard="pollscard",t.PlaceholderCard="placeholder",t.WinAppAds="WinAppAds",t.CashbackAds="CashbackAds",t.Promotion="Promotion",t.PromotedAd="PromotedAd",t.BingVideo="BingVideo",t.BingVideoCarousel="BingVideoCarousel",t.BreakingNewsNotification="BreakingNewsNotification",t.CasualGamesCarousel="CasualGamesCarousel",t.CasualGamesCarouselSubItem="CasualGamesCarouselSubItem",t.CasualGamesGroup="CasualGamesGroup",t.CasualGamesGroupSubItem="CasualGamesGroupSubItem",t.CasualGamesProng2Carousel="CasualGamesProng2Carousel",t.CasualGamesStripeCarousel="CasualGamesStripeCarousel",t.EsportsCasualGames="esportsCasualGames",t.EsportsCasualGamesMiniWidget="EsportsCasualGamesMiniWidget",t.EsportsHighlight="esportsHighlight",t.EsportsLiveStream="esportsLiveStream",t.EsportsMatch="esportsMatch",t.EsportsTournament="esportsTournament",t.EventSDCardWorldCup="EventSDCardWorldCup",t.EventSDCardWorldCup2="EventSDCardWorldCup2",t.ShoppingFeedCard="ShoppingFeedCard",t.WeatherHero="WeatherHero",t.WeatherCurrent="WeatherCurrent",t.WeatherForecast="WeatherForecast",t.WeatherMap="WeatherMap",t.WeatherSummary="WeatherSummary",t.WeatherSummaryMiniWidget="WeatherSummaryMiniWidget",t.WeatherSummary_spotlight="WeatherSummary_spotlight",t.SavedContent="SavedContent",t.StockQuote="StockQuote",t.StockQuote_spotlight="StockQuote_spotlight",t.MoneyInfo="MoneyInfo",t.MoneyInfoMiniWidget="MoneyInfoMiniWidget",t.MoneyPreWL="MoneyPreWL",t.MoneyCrypto="CryptoCard",t.MoneyMarketBrief="MarketBrief",t.MoneyMoreForYouCard="MoneyMoreForYouCard",t.FinanceSpotlightHeroPrice="FinanceSpotlightHeroPrice",t.FinanceSpotlightHeroMarket="FinanceSpotlightHeroMarket",t.FinanceSpotlightHeroRadarGraph="FinanceSpotlightHeroRadarGraph",t.FinanceHeroMarket="FinanceHeroMarket",t.FinanceHeroMarketChart="FinanceHeroMarketChart",t.FinanceHeroNews="FinanceHeroNews",t.FinanceHeroMovers="FinanceHeroMovers",t.FinanceHerowlsummary="FinanceHerowlsummary",t.FinanceHeroSuggested="FinanceHeroSuggested",t.FinanceHeroWatchlistIdeas="FinanceHeroWatchlistIdeas",t.FinanceHeroUpcomingEarnings="FinanceHeroUpcomingEarnings",t.FinanceHeroCurrencies="FinanceHeroCurrencies",t.FinanceHeroCrypto="FinanceHeroCrypto",t.ForYouNotification="ForYouNotification",t.SportsMatch="SportsMatch",t.SportsMatchMiniWidget="SportsMatchMiniWidget",t.SportsOlympics="SportsOlympics",t.SportsHeroFre="SportsHeroFre",t.SportsHeroMatchCard="SportsHeroMatchCard",t.SportsHeroLeagueTodaysEvents="SportsHeroLeagueTodaysEvents",t.SportsHeroMatch1SeasonStats="SportsHeroMatch1SeasonStats",t.SportsHeroMatch1Stats="SportsHeroMatch1Stats",t.SportsHeroMatch2SeasonStats="SportsHeroMatch2SeasonStats",t.SportsHeroMatch2Stats="SportsHeroMatch2Stats",t.SportsHeroMatch3SeasonStats="SportsHeroMatch3SeasonStats",t.SportsHeroMatch3Stats="SportsHeroMatch3Stats",t.SportsHeroMatchStatistics="SportsHeroMatchStatistics",t.SportsSpotlight2Match1="SportsSpotlight2Match1",t.SportsSpotlight2Match2="SportsSpotlight2Match2",t.SportsHeroNews="SportsHeroNews",t.SportsHeroOneVsManyEventResult="SportsHeroOneVsManyEventResult",t.SportsHeroOneVsOneEventResult="SportsHeroOneVsOneEventResult",t.SportsHeroSeasonStatistics="SportsHeroSeasonStatistics",t.SportsHeroStandingsRankings="SportsHeroStandingsRankings",t.SportsHeroTeamStandings="SportsHeroTeamStandings",t.SportsHeroTeamStandingWithEvents="SportsHeroTeamStandingWithEvents",t.SportsHeroTeamStandingWithMedals="SportsHeroTeamStandingWithMedals",t.SportsHeroTeamVsTeam="SportsHeroTeamVsTeam",t.SportsHeroTeamVsTeamEventResult="SportsHeroTeamVsTeamEventResult",t.SportsHeroVideo="SportsHeroVideo",t.SportsStackCard="SportsStackCard",t.PersonalFinanceStackCard="PersonalFinanceStackCard",t.TrafficDelays="TrafficDelays",t.TrafficInfo="TrafficInfo",t.Transit="Transit",t.TrafficIncidents="TrafficIncidents",t.TrafficCameras="TrafficCameras",t.TrafficCamerasWithSummary="TrafficCamerasWithSummary",t.TravelTimes="TravelTimes",t.TravelTimesWithSummary="TravelTimesWithSummary",t.TrafficMap="TrafficMap",t.TrafficNews="TrafficNews",t.TrafficTransit="TrafficTransit",t.TrafficSummary="TrafficSummary",t.ShoppingProng2c="ShoppingProng2c",t.ShoppingProngCardResponse="ShoppingProngCardResponse",t.ShoppingOfferCardResponse="ShoppingOfferCardResponse",t.ShoppingProngCarousel="ShoppingProngCarousel",t.ShoppingProngTracking="ShoppingProngTracking",t.ShoppingMerchantCategoryDeals="ShoppingMerchantCategoryDeals",t.ShoppingVideoCarousel="ShoppingVideoCarousel",t.WatchVideoCard="WatchVideoCard",t.Group="group",t.Upsell="FreUpsell",t.Dense="densetab",t.LocalGuide="localdaycard",t.Marketplace="MarketPlace",t.MarketplaceEvent="EventSDCardMarketplace",t.MoreFromProvider="morefromprovider",t.MoreForYou="MoreForYou",t.MiniWidgets="MiniWidgets",t.GamingNews="gaming",t.GamingRecentlyPlayed="GamingRecentlyPlayed",t.RecommendedInterests="RecommendedInterests",t.WindowsShellRecommendedInterests="WindowsShellRecommendedInterests",t.AutosEntityList="AutosEntityList",t.AutosCarousel="AutosCarousel",t.ContainerizedHalfu="containerizedHalfu",t.ComboCard="Combo",t.TopicFeed="TopicFeed",t.RelatedNewsCard="RelatedNewsCard",t.TopicFeedLearnSomethingNew="learnsomethingnew",t.TopicFeedDiversity="diversitycard",t.TopicFeedWeekends="eventcontentcardweekend",t.TopicFeedMomentInTime1="eventcontentcardmit1",t.TopicFeedSports="eventcontentcardsports",t.TopicFeedTrendingNow="trending now",t.TopicFeedTopStories="topstories",t.TopicFeedShopping="eventcontentcardshopping",t.TopicFeedWeather="eventdynamiccontentcardweather",t.Calendar="Calendar",t.Entertainment="Entertainment",t.Family="Family",t.M365="M365",t.Photos="Photos",t.ThirdPartyWidget="3pwidget",t.Tips="Tips",t.ToDo="ToDo",t.XboxGamePass="xboxgamepass",t.Tombstone="tombstone",t.GroupedContent="GroupedContentFeed",t.UserInterestTopic="UserInterestTopic",t.UserInterestNTPProvider="UserInterestNTPProvider",t.SuggestedInterest="SuggestedInterest",t.TopicSuggestionforConsumptionPage="TopicSuggestionforConsumptionPage",t.ProviderSuggestionForConsumptionPage="ProviderSuggestionForConsumptionPage",t.InterestFeed="InterestFeed",t.ProviderFeed="ProviderFeed",t.InterestChannel="InterestChannel",t.ProviderChannel="ProviderChannel",t.UserInterestTopicAndProvider="UserInterestTopicAndProvider",t.NewsFlipper="NewsFlipper",t.ColdStartArticleFreCard="ArticleFre",t.NewsPromotionCard="PromotionFre",t.WindowsShellTopicsCard="WindowsShellTopicsCard",t.WindowsShellNotificationBanner="genericbadge",t.RewardsDailySet="RewardsDailySet",t.BoostAdsBanner="BoostAdsBanner",t.BoostAdsCoachmark="BoostAdsCoachmark",t.EventSDCardSportsMIT1="EventSDCardSportsMIT1",t.EventSDCardSportsMIT2="EventSDCardSportsMIT2",t.EventSDCardSportsMIT3="EventSDCardSportsMIT3",t.UserInterestProvider="UserInterestProvider",t.WindowsShellMorningDigest="NewsDigest",t.TopicsAndProviders="TopicsAndProviders",t.NotificationCard="NotificationCard",t.NTPMorningDigest="MorningDigest",t.MiTHeroSpotlight="MiTHeroSpotlight",t.MiTHeroContent="MiTHeroContent",t.MiTHeroAction="MiTHeroAction",t.MiTHeroFollow="MiTHeroFollow",t.DailyMomentsCard1="DailyMomentsCard1",t.DailyMomentsCard2="DailyMomentsCard2",t.DailyMomentsCard3="DailyMomentsCard3",t.DisplayAdBanner="DisplayAdBanner",t.DisplayAdCard="DisplayAdCard",t.DisplayAd="displayad",t.CatchUpStack="CatchUpStack",t.SimilarRiver="SimilarRiver",t.GemRail="GemRail",t.TopCommentsCard="topcomments",t.CopilotCard="CopilotCard",t.CreatorSpotlight="CreatorSpotlight",t.NewsCreatorSpotlight="News_CreatorSpotlight",t.EntertainmentTakeover="EntertainmentTakeover",t.WatchGoldShorts="News_WatchGoldShorts",t.NewsWatchShorts="News_WatchShorts",t.WatchNewsShorts="News_WatchNewsShorts",t.NewsWatchVideo="News_WatchVideo",t.WatchVideoHeavy="News_WatchVideoHeavy"}(o||(o={}));const a=[o.NativeAd,o.CmsAd,o.AmplifyAd,o.EventSDCardAmplifyAds,o.BoostAd,o.BoostAdsBanner,o.BoostAdsCoachmark,o.BuyDirectAd,o.NativeTopAd,o.FirstPartyAd,o.ShoppingInfopaneAd1,o.ShoppingInfopaneAd2,o.ShoppingInfopaneAd3,o.ShoppingInfopaneAd4,o.IntraNativeAd]},38785:function(t,e,n){n.d(e,{Au:function(){return i},Y:function(){return s},pW:function(){return r},tD:function(){return o}});const i="0067acd6d05f4168b92f510d33b9ed74",r="service::api.msn.com::MBI_SSL",o="service::www.msn.com::MBI_SSL",s="api://www.msn.com/OneService.Read"},73452:function(t,e,n){n.d(e,{dw:function(){return s},wq:function(){return r}});var i=n(21215);function r(){var t,e;if(!(0,i.N)()||function(){const t=new URL(location.href),e=t.searchParams.get("chpltfm")||"",n=t.searchParams.get("ocid")||"",i=e.toLowerCase().split("-")[0];return n.toLowerCase()==="swiftKey".toLowerCase()||"swiftkey"==i.toLowerCase()}())return!1;const n=null===(t=window.sapphireWebViewBridge)||void 0===t?void 0:t.send,r=null===(e=window.webkit)||void 0===e||null===(e=e.messageHandlers)||void 0===e||null===(e=e.send)||void 0===e?void 0:e.postMessage;return n||r}function o(t,e){var n,i,r,o;console.log(t,e);const s="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})),a={scenario:t,data:{data:e},id:s};var c;null!==(n=window.__sapphirePeregrineState)&&void 0!==n&&n.gAppId&&!a.data.data.appId&&(a.data.data.appId=null===(c=window.__sapphirePeregrineState)||void 0===c?void 0:c.gAppId);const u=JSON.stringify(a);var l;((null===(i=window.webkit)||void 0===i||null===(i=i.messageHandlers)||void 0===i||null===(i=i.send)||void 0===i?void 0:i.postMessage)&&(null===(r=window.webkit)||void 0===r||null===(r=r.messageHandlers)||void 0===r||null===(r=r.send)||void 0===r||r.postMessage(u)),(null===(o=window.sapphireWebViewBridge)||void 0===o?void 0:o.send)&&window.sapphireWebViewBridge.send(u),"subscribe"!==t&&"sendBroadcast"!==t)&&((null===(l=window.VPsapphireWebViewBridge)||void 0===l?void 0:l.send)&&window.VPsapphireWebViewBridge.send(u));return s}function s(t,e,n){if(!(0,i.N)())return;const r=o(t,e);n&&function(t,e){const{gJobListeners:n}=window.__sapphirePeregrineState;n[t]?n[t].push(e):n[t]=[e]}(r,n)}"undefined"==typeof window||window.__sapphirePeregrineState||(window.__sapphirePeregrineState={gJobListeners:{},gObservers:{},gAppId:void 0,gInited:!1})},39197:function(t,e,n){n.d(e,{Nz:function(){return a},Vx:function(){return f},_4:function(){return l},gR:function(){return s}});var i=n(52185),r=n(21215);const o="__SapphireUserInformation__",s=()=>i.Gq.get(o,(()=>null)),a=t=>{i.Gq.set(o,t)},c="__SapphireSSRUserConfig__",u="__SapphireUserConfig__",l=t=>(0,r.N)()?i.Gq.get(u,(()=>t)):(0,r.N)()?null:i.Gq.get(c,(()=>null)),d="__SapphireUserConfigReady__",f=()=>i.Gq.get(d,(()=>!1))},87148:function(t,e,n){n.d(e,{_k:function(){return o},gR:function(){return r}});var i=n(73452);function r(t){return new Promise(((e,n)=>{!function(t,e){(0,i.dw)("logEvent",t,e)}(t,(t=>{e(t)}))}))}function o(t){return new Promise(((e,n)=>{!function(t,e){(0,i.dw)("logError",t,e)}(t,(t=>{e(t)}))}))}},47290:function(t,e,n){n.d(e,{d:function(){return E}});var i=n(38785),r=n(33779),o=n(5302),s=n(77137),a=n(13218),c=n(73452);function u(t){return new Promise(((e,n)=>{!function(t,e){(0,c.dw)("getUserInfo",t,e)}(t,(t=>{e(t)}))}))}var l=n(39197);const d=(t,e)=>new URL(e).searchParams.get(t)||null;var f=n(87148);function h(t,e){(0,f._k)({type:"Failure",name:"HP_WEBVIEW_APP_ERROR",error:e,data:{error:t,customMessage:e}})}function p(t){return new Promise(((e,n)=>{!function(t,e){(0,c.dw)("loadData",t,e)}(t,(t=>{e(t)}))}))}function m(t){return new Promise(((e,n)=>{!function(t,e){(0,c.dw)("saveData",t,e)}(t,(t=>{e(t)}))}))}var g=n(15598);var v=n(30040);const w="mobileAccessToken",y=(0,g.$o)();async function b(){if(!A())return null;try{let t=y.getItem(w);if(!t)try{t=await function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Error("Promise timed out");const i=new Promise(((t,i)=>{setTimeout((()=>{i(n)}),e)}));return Promise.race([t,i])}(p({TOKEN_CACHE_KEY:w}),800).then((t=>t?JSON.parse(t).value:null))}catch(t){(0,r.OO)(t,o.Gfj,"Exception occurred while parsing JSON from native cache"+w)}if(!t)return null;const e=JSON.parse(t);if(function(t){if(!t.token)return!1;if(!function(t){const e=(0,l.gR)();if(null!=e&&e.userId&&t.userId)return e.userId===t.userId;if(null!=e&&e.userEmail&&t.userEmail)return e.userEmail===t.userEmail;return $()===t.muid}(t))return!1;return!x(t.expiresOn)}(e)){window.performance.mark("EdgeMobileValidCachedToken",{startTime:1});return{...e,token:v.DS.decode(e.token)}}e.token&&(window.performance.mark("EdgeMobileInvalidCachedToken",{startTime:1}),S({token:""}))}catch(t){(0,r.OO)(t,o.VKD,"Exception occurred while reading content from cache"+w)}return null}function S(t){if(!A())return;const{userId:e,userEmail:n}=(0,l.gR)()??{};try{const i={...t,token:v.DS.encode(t.token),userId:e,userEmail:n,muid:$()},s=JSON.stringify(i);y.setItem(w,s),m({TOKEN_CACHE_KEY:w,value:s}).catch((t=>{(0,r.OO)(t,o.yXV,"Exception occurred while writing content to native cache"+w)}))}catch(t){(0,r.OO)(t,o.yXV,"Exception occurred while writing content to cache"+w)}}function x(t){const e=(new Date).getTime();return!t||t<=e}let C,k,T;function $(){if(void 0===C){const t=I();C=t.fd_muid}return C}function A(){if(void 0===k){const{browser:t}=I(),{browserType:e=""}=t||{};k=/edgeiOS/i.test(e)}return!!k}function I(){if(void 0===T)try{var t;const e=null===(t=document.head)||void 0===t?void 0:t.getAttribute("data-client-settings");T=e?JSON.parse(e):void 0}catch(t){}return T??{}}let P=!1;async function _(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await async function(){try{return(0,l.gR)()||await async function(){const t=await u({});try{const e=JSON.parse(t),n=window.location.href,i=e.accountType??Object.values(e).find((t=>"MSA"===t||"AAD"===t)),r=e.isSignedIn??(i&&("MSA"===i||"AAD"===i)),s="true"===d("isSignedIn",n);if(void 0===window._isSignedInMismatchReported&&(window._isSignedInMismatchReported=!1),!1===window._isSignedInMismatchReported&&s!==r&&(window._isSignedInMismatchReported=!0,Array.isArray(window._EMDelayedErrorLogs))){const t={type:o.F3v,message:"QSP vs UserInfo mismatch",customMessage:`isSignedIn (QSP: ${s}, bridge: ${r}); accountType: ${i}`};window._EMDelayedErrorLogs.push(t)}(0,l.Nz)({...e,accountType:i,isSignedIn:r})}catch(t){h(t,"SapphireUserConfig.getUserInformationInternal: Failed to parse response")}}(),(0,l.gR)()??{}}catch(t){return(0,r.OO)(t,o.NM,"getUserInfoAsyncFailed: Failed to retrieve user information",`Error message: ${t.message}`),{}}}();if(!Object.keys(n).length)return null;if(n.isSignedIn){if(!(e||!n.accessToken||n.accessTokenExpiresOn&&x(n.accessTokenExpiresOn)))return{token:n.accessToken};{if(!e&&"MSA"===n.accountType){const t=await b();if(t)return t}if(P)return null;if(!n.accountType){(0,r.H)(o.SNW,"getAccessTokenByOAuth: Received empty accountType","Account type is missing in user information.");return h(new Error("received empty accountType"),"empty accountType"),null}let i;try{i=await u({refresh:!0,accountType:n.accountType,type:"AccessToken",scope:t})}catch(t){return(0,r.OO)(t,o.NM,"getAccessTokenByOAuth: Failed to retrieve user info asynchronously",`Error message: ${t.message}`),null}try{const t=JSON.parse(i);if(!t||!1===t.succeed)return((null==t?void 0:t.reason)??"").includes("InteractionRequired")&&(P=!0),(0,r.H)(o.hRf,"getAccessTokenByOAuth: Failed to retrieve access token",`Access token info: ${JSON.stringify(t)}`),null;if(t.succeed){if(t.expiresOn&&x(t.expiresOn))return(0,r.H)(o.JpF,"getAccessTokenByOAuth: access token is expired",`Access token info: ${JSON.stringify(t)}`),null;const e=t.accessToken.startsWith("t=")?t.accessToken.substring(2):t.accessToken;e&&(0,l.Nz)({...n,accessToken:e});const i={token:e,expiresOn:t.expiresOn};return i.expiresOn&&("MSA"===n.accountType&&S(i),n.accessTokenExpiresOn=i.expiresOn),i}if(Object.keys(t).length>0){let e=Object.values(t).find((t=>t&&"boolean"!=typeof t&&"AAD"!==t))||null;return e&&(e=e.startsWith("t=")?e.substring(2):e,(0,l.Nz)({...n,accessToken:e})),{token:e}}}catch(t){(0,r.OO)(t,o.dy3,"getAccessTokenByOAuth: Failed to parse access token",`Failed to parse ${n.accountType} access token`),h(t,`SapphireUserConfig.getAccessTokenByOAuth: Failed to parse ${n.accountType} access token`)}}}return!1!==n.isSignedIn&&(0,r.H)(o.hRf,"getAccessTokenByOAuth: User is signed in but access token does not exist or is empty",`User information: ${JSON.stringify(n)}`),null}var M=n(21215);let R;async function E(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===R&&(R="edgeMobile"===(null===s.jG||void 0===s.jG?void 0:s.jG.AppType)),R&&"bingHomepageMobile"!=a.Al.ClientSettings.pagetype)return await async function(){var t;const e={};e.SiteName="www.msn."+(null!==s.jG&&void 0!==s.jG&&s.jG.IsChinaCompliance?"cn":"com");const n=await _(i.Y);return n&&(e.Authorization="Bearer "+n.token),null!==s.jG&&void 0!==s.jG&&s.jG.UserId&&null!==s.jG&&void 0!==s.jG&&null!==(t=s.jG.CurrentRequestTargetScope)&&void 0!==t&&null!==(t=t.pageExperiments)&&void 0!==t&&t.includes("1s-r-user-qsp")&&(e.Muid=s.jG.UserId),e}();const n=await async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={},s=t&&e;try{const t=await async function(t){const e=(0,l._4)();if(!(0,M.N)()){const{accountType:t,ssrAccessToken:n}=e||{};return"AAD"===t&&n?`Bearer ${n}`:"MSA"===t&&n?n:null}const n=(0,l.gR)()??{};if(n.isSignedIn&&"AAD"===n.accountType){try{const t=await u({accountType:"AAD",type:"AccessToken",resource:"9ea1ad79-fdb6-4f9a-8bc3-2b70f96e34c7"}),e=JSON.parse(t);if(e.accessToken&&e.accessToken.length>0)return(0,l.Nz)({...n,accessToken:e.accessToken}),`Bearer ${e.accessToken}`;(0,r.H)(o.kHv,`Sapphire.getAccessToken: AAD token request failed - ${JSON.stringify(e)}`)}catch(t){(0,r.H)(o.hRf,"Sapphire.getAccessToken: Failed to get or parse AAD access token"),h(t,"SapphireUserConfig.getAccessToken: Failed to parse AAD access token")}return null!=n&&n.accessToken?`Bearer ${n.accessToken}`:null}if(n.isSignedIn&&"MSA"===n.accountType){try{const e=await u({accountType:"MSA",type:"AccessToken",scope:t}),i=JSON.parse(e);if(i.succeed)return(0,l.Nz)({...n,accessToken:i.accessToken}),i.accessToken;(0,r.H)(o.kHv,`Sapphire.getAccessToken: MSA token request failed - ${JSON.stringify(i)}`)}catch(t){(0,r.H)(o.hRf,"Sapphire.getAccessToken: Failed to get or parse MSA access token."),h(t,"SapphireUserConfig.getAccessToken: Failed to parse MSA access token")}return n.accessToken}return null}(function(t){return t?i.tD:i.pW}(s)),{accountType:e,isSignedIn:a}=(0,l._4)()??{};if(!t)return a&&(n.needCookie=!0),n;s?n.Authorization=t:"MSA"===e?n.UserAuthToken=t:"AAD"===e&&(n.Authorization=t)}catch(t){(0,r.H)(o.Q8W,"Error occured while getting access token.")}return n}(t,e),{muid:c,accountType:d,anid:f}=(0,l._4)()??{};return!(0,M.N)()&&"MSA"===d&&f&&(n.Cookie=`APP_ANON=A=${f};`),c&&(n.MUID=c),n}},59878:function(t,e,n){n.d(e,{R:function(){return o},U:function(){return r}});let i=!1;const r={purgeCacheAsync:async function(t){if(this.isServiceWorkerActive()){const e=(await caches.keys()).filter((e=>e.includes(t)));await Promise.all(e.map((t=>caches.delete(t))))}},purgeEntryInCache:async function(t,e,n){if(this.isServiceWorkerActive()){const i=await caches.open(t),r=(await i.keys()).filter((t=>t.url.startsWith(e)&&t.method===n));await Promise.all(r.map((t=>i.delete(t))))}},isServiceWorkerActive:function(){const{navigator:t}=window,e=t&&t.serviceWorker&&t.serviceWorker.controller;return e&&"activated"===e.state},getIsServiceWorkerEnabled:function(){return i},setIsServiceWorkerEnabled:function(t){i=t}};var o;!function(t){t.base="base",t.followedTopics="followedTopics",t.publishersProfile="publishersProfile",t.river="river",t.subscribedPublishers="subscribedPublishers",t.financeGraphAction="financeGraphAction"}(o||(o={}))},23210:function(t,e,n){n.d(e,{b:function(){return i}});const i=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,e="/";const n=window.location.pathname.split("/");if(n.length>t&&n[t]){e+=n[1];for(let i=2;i<=t;i++)e+="/"+n[i]}return e}},67406:function(t,e,n){var i;n.d(e,{Z:function(){return w}}),function(t){t.weatherMobileCache="weatherMobileCache",t.telemetrySync="telemetrySync",t.raceEnabled="raceEnabled",t.enableOfficeRoutes="enableOfficeRoutes",t.riverAgeMinutes="riverAgeMinutes",t.enableNetworkFirst="enableNetworkFirst",t.navAgeMinutes="navAgeMinutes",t.enableNavPreload="enableNavPreload",t.enableEmptySectionRoute="enableEmptySectionRoute",t.networkTimeoutSeconds="networkTimeoutSeconds",t.bgTaskNetworkTimeoutSeconds="bgTaskNetworkTimeoutSeconds",t.enableCacheMissDiagnostics="enableCacheMissDiagnostics",t.enableFallbackVerticalsFeed="enableFallbackVerticalsFeed",t.enableExternalCssPrecache="enableExternalCssPrecache",t.enableEnterprisePrecache="enableEnterprisePrecache",t.useWebLayoutEndPoint="useWebLayoutEndPoint",t.noCacheLayoutTemplates="noCacheLayoutTemplates",t.cacheForceDisableContent="cacheForceDisableContent",t.cacheSSRAllResponse="cacheSSRAllResponse",t.cacheSSRBasePageResponse="cacheSSRBasePageResponse",t.enableSSRExtentionCache="enableSSRExtentionCache",t.enableFinanceRoutes="enableFinanceRoutes",t.enableTopicPublisherRoutes="enableTopicPublisherRoutes",t.enableStaticRouting="enableStaticRouting",t.enableStaticNavRouting="enableStaticNavRouting",t.enableStaticAdsRouting="enableStaticAdsRouting",t.useMicroPrefHash="useMicroPrefHash",t.commonHash="commonHash",t.vendorsHash="vendorsHash",t.experienceHash="experienceHash",t.microsoftHash="microsoftHash",t.enableCoreBundlePrecache="enableCoreBundlePrecache",t.ssrBasePageNavAgeMinutes="ssrBasePageNavAgeMinutes",t.enableWidgetsRegion="enableWidgetsRegion",t.disableDefaultNavigationRoute="disableDefaultNavigationRoute",t.disableRiverNetworkFirst="disableRiverNetworkFirst",t.enableLogNavFetchTime="enableLogNavFetchTime",t.enableNTPStaticRoutes="enableNTPStaticRoutes",t.enableNTPLowEndStaticRoutes="enableNTPLowEndStaticRoutes",t.enableRubyNTPStaticRoutes="enableRubyNTPStaticRoutes"}(i||(i={}));const r=["enableNetworkFirst","enableEmptySectionRoute","enableNavPreload","enableFallbackVerticalsFeed","enableExternalCssPrecache","enableEnterprisePrecache","useWebLayoutEndPoint","noCacheLayoutTemplates","cacheSSRAllResponse","cacheSSRBasePageResponse","cacheForceDisableContent","enableSSRExtentionCache","enableFinanceRoutes","useMicroPrefHash","enableTopicPublisherRoutes","enableCacheMissDiagnostics","enableStaticRouting","enableStaticNavRouting","enableStaticAdsRouting","enableCoreBundlePrecache","enableWidgetsRegion","disableDefaultNavigationRoute","enableLogNavFetchTime","disableRiverNetworkFirst","enableNTPStaticRoutes","enableNTPLowEndStaticRoutes","enableRubyNTPStaticRoutes"];var o=n(33779),s=n(5302),a=n(24032),c=n(13218),u=n(34254);function l(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,f=arguments.length>5?arguments[5]:void 0,p=arguments.length>6?arguments[6]:void 0;if(!t)return void(0,o.H)(s.a6r,"No scriptUrl provided");if(!("serviceWorker"in navigator))return void(0,o.H)(s.a6r,"Service Worker is not in navigator.");const m=function(t,e){const n=new URLSearchParams;return function(t,e){const n=(0,a.L)().getAll("item").find((t=>t&&0===t.indexOf("spalink:")));if(n)return t.set("item",n.replace("/mobile","")),void d(t);!function(t,e){const n=c.Al.ClientSettings&&c.Al.ClientSettings.bundleInfo;d(t);const i=(0,a.L)().get("bundles");if(i)return void t.set("bundles",i);if(e.bundlesOverride)return void t.set("bundles",e.bundlesOverride);null!=n&&n.alias&&t.set("bundles",n.alias)}(t,e)}(n,t),function(t){var e;"enterprise"===(null===c.Al||void 0===c.Al||null===(e=c.Al.ClientSettings)||void 0===e?void 0:e.audienceMode)&&t.set("enableOfficeRoutes","true")}(n),function(t,e){isNaN(e.riverAgeMinutes)||t.set("riverAgeMinutes",e.riverAgeMinutes.toString())}(n,t),function(t,e){isNaN(e.navAgeMinutes)||t.set("navAgeMinutes",e.navAgeMinutes.toString())}(n,t),function(t,e){isNaN(e.networkTimeoutSeconds)||t.set("networkTimeoutSeconds",e.networkTimeoutSeconds.toString())}(n,t),function(t,e){isNaN(e.bgTaskNetworkTimeoutSeconds)||t.set("bgTaskNetworkTimeoutSeconds",e.bgTaskNetworkTimeoutSeconds.toString())}(n,t),function(t,e){isNaN(e.ssrBasePageNavAgeMinutes)||t.set("ssrBasePageNavAgeMinutes",e.ssrBasePageNavAgeMinutes.toString())}(n,t),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.forEach((n=>{(e[n]||(0,a.L)().get(n))&&t.set(n,"true")}))}(n,t,r),e?function(t,e){return`${t.toString()}&${e.toString()}`}(n,e):n.toString()}(i,p);if(m&&(t=t+(t.indexOf("?")>-1?"&":"?")+decodeURIComponent(m)),f){const e=(t=f(t,"serviceWorkerUrlPolicy"))&&t.toString();if(!e||"about:blank#error"===e)return void(0,o.H)(s.a6r,"Service Worker script Url is not trusted type compliant")}n?h(t,e,l):(0,u.F_)().then((()=>{h(t,e,l)}))}function d(t){const e=c.Al.ClientSettings&&c.Al.ClientSettings.bundleInfo;null!=e&&e.variant&&t.set("bundlevariant",e.variant)}async function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";try{if(!navigator||!navigator.serviceWorker||!navigator.serviceWorker.getRegistration)throw new Error("Service worker is not available in this session");const e=await navigator.serviceWorker.getRegistration(t);if(!e)return;await e.unregister()||(0,o.H)(s.Fst,"ServiceWorker unregistration failed.")}catch(t){(0,o.OO)(t,s.Fst,"Failed to unregister ServiceWorker:"+t.message)}}async function h(t,e,n){try{if(!navigator||!navigator.serviceWorker||!navigator.serviceWorker.register)throw new Error("Service worker is not available in this session");await navigator.serviceWorker.register(t,{scope:e}),n&&n()}catch(t){(0,o.OO)(t,s.a6r,"ServiceWorker registration failed.")}}var p=n(15598),m=n(28951),g=n(22680),v=n(59878);function w(t,e,n,i,r,o,s){if(!e||"true"!==e.enabled)return;const a=c.Al.ClientSettings.deviceFormFactor;if("false"===e.mobileEnabled&&("phone"===a||"tablet"===a))return;if(!function(t){const e=c.Al.ClientSettings.browser;if(!e&&"false"===t.mobileEnabled)return!1;const n=t.unsupportedBrowsers;if(!n||!n.length)return!0;if(n.findIndex((t=>t.toLowerCase()===e.browserType.toLowerCase()))>-1)return!1;return!0}(e))return;if(!(0,p.$o)().supported)return;const u=e.isLowEndDevice&&e.disableOnLowEndDevices;if("true"===e.registrationEnabled&&!u){const a=function(){const t=(0,g.zp)(),e=m.cX.getQueryParameterByName("swimmediateregistration",t);if(e)return"true"===e.toLocaleLowerCase();return!1}();i=i||a,v.U.setIsServiceWorkerEnabled(!0),l(t,n,i,e,r,o,s)}("true"===e.unregistrationEnabled||u)&&(!function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";if(!t||!("serviceWorker"in navigator))return null;arguments.length>1&&void 0!==arguments[1]&&arguments[1]||"complete"===document.readyState?f(t):window.addEventListener("load",(()=>{f(t)}),{once:!0})}(n),v.U.setIsServiceWorkerEnabled(!1))}},33607:function(t,e,n){n.d(e,{j:function(){return o}});var i,r=n(24709);class o{}(i=o).disableSmartList=new r.C("disableSmartList"),i.registerSmartList=new r.C("registerSmartList"),i.persistSmartList=new r.C("persistSmartList"),i.updateSmartListBadgeProps=new r.C("updateSmartListBadgeProps"),i.updateSmartListState=new r.C("updateSmartListState"),i.userSignInSignature=new r.C("userSignInSignature"),i.userSignOutSignature=new r.C("userSignOutSignature"),i.smartListItemsReadySignature=new r.C("smartListItemsReadySignature")},2e4:function(t,e,n){n.d(e,{D:function(){return a}});var i=n(39175),r=n(30666),o=n(70041),s=n(33607);class a extends r.e{initSmartList(t,e){if(!t)return;const n=this.getSmartList(t);n&&n.initCallback&&n.currentState===i.X.notStarted&&(t===o.WGZ?e&&(n.initCallback(e),s.j.updateSmartListState.getActionSender(this).send(t,i.X.initialized)):(n.initCallback(),s.j.updateSmartListState.getActionSender(this).send(t,i.X.initialized)))}moveFocusToSmartList(t,e){const n=this.getSmartList(t);return!!(n&&n.focusCallback&&n.renderCallback&&n.currentState===i.X.rendered)&&(n.focusCallback(e),!0)}renderSmartList(t,e){if(!t||!e)return;const n=this.getSmartList(t);n&&n.renderCallback&&(n.renderCallback(e),s.j.updateSmartListState.getActionSender(this).send(t,i.X.rendered))}unmountSmartList(t,e){if(!t||!e)return;const n=this.getSmartList(t);n&&n.unmountCallback&&n.currentState===i.X.rendered&&(n.unmountCallback(e),s.j.updateSmartListState.getActionSender(this).send(t,i.X.unmounted))}updateSignInStatus(t,e){const n=this.getSmartList(t);return!(!n||!n.updateSignInStatusCallback)&&(n.updateSignInStatusCallback(e),!0)}getSmartList(t){if(!t)return;const e=this.getCurrentState().smartLists;return e&&0!==e.size?e.get(t):void 0}}},60409:function(t,e,n){n.d(e,{V:function(){return s}});var i=n(38947),r=n(39175),o=n(33607);class s{reduce(t,e){if(!t)return{smartLists:new Map};if(!e)return t;let n=!1;const s={...t};return n=n||i.G.handleAction(e,o.j.disableSmartList,(t=>{if(t){const e=s.smartLists.get(t);e&&(e.currentState=r.X.notStarted)}})),n=n||i.G.handleAction(e,o.j.registerSmartList,(t=>{t&&(s.smartLists.has(t.experienceType)||s.smartLists.set(t.experienceType,{badgeProps:void 0,currentState:r.X.notStarted,focusCallback:t.focusShouldMove,initCallback:t.initShouldFire.bind(t),isUserSignedIn:!1,renderCallback:t.renderShouldFire,shouldPersist:void 0,unmountCallback:t.unmountShouldFire,updateSignInStatusCallback:t.updateSignInStatus}))})),n=n||i.G.handleAction(e,o.j.persistSmartList,(t=>{if(t){const e=s.smartLists.get(t);e&&(e.shouldPersist=!0)}})),n=n||i.G.handleAction(e,o.j.updateSmartListState,((t,e)=>{if(t){const n=s.smartLists.get(t);n&&(n.currentState=e)}})),n=n||i.G.handleAction(e,o.j.updateSmartListBadgeProps,((t,e)=>{if(t){const n=s.smartLists.get(t);n&&e&&(n.badgeProps=e)}})),n=n||i.G.handleAction(e,o.j.userSignInSignature,(t=>{if(t){const e=s.smartLists.get(t);e&&(e.isUserSignedIn=!0)}})),n=n||i.G.handleAction(e,o.j.userSignOutSignature,(t=>{if(t){const e=s.smartLists.get(t);e&&(e.badgeProps=null,e.isUserSignedIn=!1)}})),n?s:t}}},39175:function(t,e,n){var i;n.d(e,{X:function(){return i}}),function(t){t[t.notStarted=0]="notStarted",t[t.initialized=1]="initialized",t[t.rendered=2]="rendered",t[t.unmounted=3]="unmounted"}(i||(i={}))},83176:function(t,e,n){n.d(e,{AF:function(){return c},li:function(){return u},yC:function(){return s}});var i=n(52185);const r=()=>i.Gq.get("__ssr_util__preload_bundles",(()=>new Set)),o=()=>i.Gq.get("__ssr_util__pending_preload_bundles",(()=>new Set)),s=()=>{const t=(()=>{const t=r(),e=[...t];return t.clear(),e})();return t.length?`<script nonce="${window.NONCE_ID}">window.ssrLoadedBundles.publish(${JSON.stringify(t)});<\/script>`:""},a=new Map,c=(t,e)=>{if(a.has(t))throw new Error(`Bundle ${t} is already registered.`);a.set(t,e);const n=o();return n.has(t)&&(n.delete(t),e()),()=>(r().add(t),e())},u=t=>{const e=o(),n=t.map((async t=>{if(a.has(t))return a.get(t)();e.add(t)}));return Promise.all(n)}},50779:function(t,e,n){n.d(e,{S:function(){return a}});var i=n(13218),r=n(52185),o=n(22680),s=n(53222);async function a(){var t,e,a,c,u,l,d;const f=(null===(t=(0,o.zw)())||void 0===t?void 0:t.includes("localhost"))&&(null===(e=(0,o.zp)())||void 0===e?void 0:e.includes("indicator=true")),h=(null===i.Al||void 0===i.Al||null===(a=i.Al.ClientSettings)||void 0===a||null===(a=a.detection)||void 0===a?void 0:a.isMsft)||(null===i.Al||void 0===i.Al||null===(c=i.Al.ClientSettings)||void 0===c||null===(c=c.detection)||void 0===c?void 0:c.isCorpNet);if((null===(u=(0,o.zp)())||void 0===u?void 0:u.includes("item=spalink"))&&!(null!==(l=(0,o.zp)())&&void 0!==l&&l.includes("reqsrc=vp"))&&!(null!==(d=(0,o.zp)())&&void 0!==d&&d.includes("noindicator"))&&h||f){!function(){const t=console.error;if(!t.__withHistory&&t.toString().includes("[native code]")){const e=t,n=500;let i=!1;const o=function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];try{e(...o)}finally{const t=r.Gq.get("__ErrorLogHistory__",(()=>[]));t.push(o),t.length>n&&t.splice(0,t.length-n),i||(i=!0,requestAnimationFrame((()=>{i=!1,window.dispatchEvent(new CustomEvent("ErrorLogHistoryUpdated"))})))}};o.__withHistory=!0,console.error=o}}(),await(0,s.LQ)();const{RenderModeIndicator:t}=await n.e("web-components_render-mode-indicator_dist_index_js").then(n.bind(n,1463)),e=document.createElement("render-mode-indicator");document.body.appendChild(e)}}},53222:function(t,e,n){n.d(e,{BF:function(){return l},Qt:function(){return f},I3:function(){return d},LQ:function(){return u}});var i=n(242),r=n(21492),o=n(72465),s=n(86117),a=n(44132);n(52475);let c;function u(){return c||(c=new Promise((t=>{if(!window.isSSREnabled)return void t();const e=new URLSearchParams(location.search).get("delayTopDownHydration");"1"===e||"true"===e?window.startHydration=t:"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{t()}),{once:!0}):t()}))),c}function l(){const t=window.customElements.define,e=window.customElements.get,n=[];window.customElements.define=function(t,e,i){n.push({name:t,ctor:e,options:i})},window.customElements.get=function(t){return e.call(window.customElements,t)||!!n.find((e=>e.name===t))},u().then((()=>{window.customElements.define=t,n.forEach((t=>{let{name:e,ctor:n,options:i}=t;customElements.define(e,n,i)})),window.customElements.get=e}))}function d(){const t=(0,i.Ou)();a.M0.addOrUpdateCustomProperty("ssr-enabled",1),a.M0.addOrUpdateTmplProperty("ssr-enabled","1"),t.isSSREnabled=1;const e=function(){const t=performance.getEntriesByType("navigation")[0].serverTiming;if(t){const e=t.find((t=>"rsClusterName"===t.name));if(e)return e.description}}();e&&(a.M0.addOrUpdateCustomProperty("rs-cluster-name",e),t["rs-cluster-name"]=e)}function f(){var t;const e=(0,i.Ou)(),n=null!==(t=window)&&void 0!==t&&t.isSSRCompleted?1:0;a.M0.addOrUpdateCustomProperty("ssr-completed",n),e.isSSRCompleted=n,e.ssrRenderDuration=window.ssrRenderDuration,a.M0.addOrUpdateTmplProperty("ssr-completed",n.toString()),(0,r.Pj)("renderArch",n?"ssr":"fallback-csr"),(0,o.Ep)({name:"TTSR",time:e[`${s.nz}Complete`]}),window.ssrCpuCost>0&&(e.ssrCpuCost=window.ssrCpuCost)}},79744:function(t,e,n){function i(t){return""}n.d(e,{M:function(){return i}})},87574:function(t,e,n){n(10863);var i=n(5302),r=n(33779),o=n(7677),s=n(7279),a=n(49820),c=n(44132),u=n(77137),l=n(26156);class d extends s.Hi{constructor(t,e){null!=t&&t.shadowRoot&&(null===c.M0||void 0===c.M0||c.M0.observeShadowRoot(t.shadowRoot)),super(t,e)}connect(){try{super.connect()}catch(n){if(this.needsHydration){var t;this.needsHydration=!1;const o={...i.qbM.pb,customMessage:`Error: ${null==n?void 0:n.message}`};if(n instanceof a.AH){const t=new XMLSerializer;o.targetNodeId=n.factory.targetNodeId,o.targetTagName=n.factory.targetTagName,o.viewMarkup=t.serializeToString(n.fragment),o.templateString=n.templateString}var e;if(n.factories)o.factories=JSON.stringify(null===(e=n.factories)||void 0===e?void 0:e.map((t=>{var e;return{...t,dataBinding:{...null==t?void 0:t.dataBinding,evaluate:null==t||null===(e=t.dataBinding)||void 0===e||null===(e=e.evaluate)||void 0===e?void 0:e.toString()}}})));n.node&&(o.nodeHTML=n.node.outerHTML||""),n.templateString&&(o.templateString=n.templateString),n.stack&&(o.stack=n.stack);if(((null===u.jG||void 0===u.jG||null===(t=u.jG.CurrentRequestTargetScope)||void 0===t?void 0:t.pageExperiments)||[]).includes("prg-swssrbspg-v1")&&(0,l.RV)(),this.source.tagName.includes("HERO"))c.M0.sendAppErrorEvent({...i.C3T,message:`Error while hydrating component: ${this.source.tagName}`,pb:o});else if("BACKGROUND-IMAGE"==this.source.tagName)c.M0.sendAppErrorEvent({...i.ZAB,message:`Error while hydrating component: ${this.source.tagName}`,pb:o});else if("TOP-COMMENTS-CARD"==this.source.tagName)c.M0.sendAppErrorEvent({...i.uZx,message:`Error while hydrating component: ${this.source.tagName}`,pb:o});else if(this.source.tagName.includes("WEATHER-TOPSECTION")){const t=[];try{const e=document.querySelector("body > fluent-design-system-provider > ruby-page").shadowRoot.querySelector("div.feed-section > msn-feed").shadowRoot.querySelector("#mfl-0-0").shadowRoot.querySelector("#weather > weather-top-section-card").shadowRoot.querySelector("div.card-container");t.push(...Array.from(e.querySelectorAll("*")).map((t=>t.tagName)))}catch(t){}finally{(0,r.H)(i.NA9,`Error while hydrating component: ${this.source.tagName}`,void 0,{...i.NA9.pb,elementsInContainer:t.join(", ")})}}else(0,r.H)(i.qbM,`Error while hydrating component: ${this.source.tagName}`,void 0,o);super.connect()}else c.M0.sendAppErrorEvent({...i.FvO,message:`Error while connecting component: ${this.source.tagName}`,pb:{...i.FvO.pb,stack:(0,o.n)(n,!0)}})}}}s.t3.setStrategy(d)},86994:function(t,e,n){n.d(e,{k:function(){return y}});var i=n(52185),r=n(81489),o=n(99452),s=n(33940),a=n(21215),c=n(23828),u=n(78125),l=n(38492),d=n(16715),f=n(39197),h=n(80303);class p{constructor(){this.mediaQueryCallback=()=>{},this.appThemeState=null}eventListener(){if(this.appThemeState)if((0,f.Vx)()){const t=(0,f._4)(),e=null==t?void 0:t.isDarkMode;void 0!==e&&this.appThemeState.setAppInDarkMode(e)}else if((0,d.pE)()){const e=sessionStorage.getItem("nativeAppUserConfig");if(e){const t=JSON.parse(e),n=null==t?void 0:t.isDarkMode;void 0!==n&&this.appThemeState.setAppInDarkMode(n)}else{var t;this.appThemeState.setAppInDarkMode(!(null===(t=this.mediaQueryList)||void 0===t||!t.matches))}}else{var e;this.appThemeState.setAppInDarkMode(!(null===(e=this.mediaQueryList)||void 0===e||!e.matches))}}initialize(t){var e;return!(!this.mediaQueryList&&t)||!(null===(e=window)||void 0===e||!e.matchMedia)&&(this.mediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),!!this.mediaQueryList&&(this.appThemeState=t,this.mediaQueryCallback=this.eventListener.bind(this),this.mediaQueryList.addEventListener("change",this.mediaQueryCallback),this.mediaQueryCallback(),!0))}uninitialize(){return this.mediaQueryList&&(this.mediaQueryList.removeEventListener("change",this.mediaQueryCallback),this.mediaQueryCallback=()=>{},this.mediaQueryList=void 0,this.appThemeState=null),!0}}class m{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.initialized=!1,this.source=t,this.appThemeState=null}handleChange(t,e){if(this.source&&e.target===this.source){const e=t.getValueFor(this.source),n=(0,h.s)(e.toColorString())<=u.h.DarkMode;this.appThemeState&&this.appThemeState.setAppInDarkMode(n)}}updateSource(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source=t}initialize(t){if(this.initialized)return!0;if(this.appThemeState=t,!this.source){const t=document.querySelector("fluent-design-system-provider[fill-color]");if(null==t)return!1;this.source=t}const e={target:this.source,token:l.I};return this.handleChange(l.I,e),l.I.subscribe(this),this.initialized=!0,this.initialized}uninitialize(){return this.initialized&&(l.I.unsubscribe(this),this.initialized=!1,this.appThemeState=null),!0}}class g{constructor(){this.appThemeInDarkMode=!1,this.themeSwitchSubscription=null;let t=null;if((0,a.N)())switch((0,c.J8)()){case"BaseLayerLuminance":t=new m;break;case"External":break;default:t=new p}else t=new p;t&&this.setThemeSubscription(t)}setThemeSubscription(t){if(this.themeSwitchSubscription&&this.themeSwitchSubscription.uninitialize(),this.themeSwitchSubscription=t,!this.themeSwitchSubscription)return;var e;this.themeSwitchSubscription.initialize(this)||(this.themeSwitchSubscription=new p,null===(e=this.themeSwitchSubscription)||void 0===e||e.initialize(this))}setAppInDarkMode(t){this.appThemeInDarkMode=t}appInDarkMode(){return this.appThemeInDarkMode}}(0,s.gn)([o.LO],g.prototype,"appThemeInDarkMode",void 0);const v=new WeakMap;class w{constructor(){this._appThemeMode=null}get appThemeMode(){return this._appThemeMode||(this._appThemeMode=new g),this._appThemeMode}static getInstance(){return i.Gq.get("__SuperComponentThemeHelper__",(()=>new w))}setThemeSwitchSubscription(t){this.appThemeMode.setThemeSubscription(t)}setAppInDarkMode(t){this.appThemeMode.setAppInDarkMode(t)}appInDarkMode(){return this.appThemeMode.appInDarkMode()}subscribeThemeChange(t){if(!t||!this.appThemeMode||v.get(t))return;if(t.handleThemeChange(y.appInDarkMode()),!(0,c.ng)())return;const e={handleChange:()=>{t.handleThemeChange(y.appInDarkMode())}};v.set(t,e),o.y$.getNotifier(this.appThemeMode).subscribe(e,"appThemeInDarkMode")}unsubscribeThemeChange(t){if(!(0,c.ng)()||!t||!this.appThemeMode)return;const e=v.get(t);e&&(o.y$.getNotifier(this.appThemeMode).unsubscribe(e,"appThemeInDarkMode"),v.delete(t))}}const y=(0,r.h)(w)},23828:function(t,e,n){n.d(e,{J8:function(){return u},gr:function(){return a},ng:function(){return c}});var i,r=n(77137);!function(t){t.MatchMedia="MatchMedia",t.BaseLayerLuminance="BaseLayerLuminance",t.External="External",t.Defalut="MatchMedia"}(i||(i={}));const o="DefaultConfig",s=Object.freeze(new Map([["bingHomepage",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["windows",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["edgeChromium",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["winWidgets",{notifyThemeSwitch:!0,themeSwitchNotifier:"External"}],["superApp",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["homePage",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["distribution",{notifyThemeSwitch:!0,themeSwitchNotifier:"BaseLayerLuminance"}],["channelmobile",{notifyThemeSwitch:!0,themeSwitchNotifier:"External"}],[o,{notifyThemeSwitch:!0,themeSwitchNotifier:"MatchMedia"}]]));function a(){return!!s.has(r.jG.AppType)}function c(){const t=r.jG.AppType,e=s.get(t)||s.get(o);return(null==e?void 0:e.notifyThemeSwitch)??!0}function u(){const t=r.jG.AppType,e=s.get(t)||s.get(o);return(null==e?void 0:e.themeSwitchNotifier)??"MatchMedia"}},27863:function(t,e,n){n.d(e,{j:function(){return s}});var i=n(55447),r=n(70041),o=n(23460);const s=async(t,e,n)=>{const s=(0,i.$z)(),a="headingsonly"===(null==e?void 0:e.selectedFeedDisplaySetting)||"off"===(null==e?void 0:e.selectedFeedDisplaySetting);if(!["gaming","productivityHub","following"].includes(s)&&!a){var c;const e=n?r.F11:r.wge,i={experienceType:e,instanceSrc:"default"},s=await t.getConfig(i);if(null!==(c=s.properties)&&void 0!==c&&c.auctionRidOverride)return;const a=(0,o.e7)(s.properties,e,!0);a.fetchSamPredictContent([]),a.fetchCmsPredictContent()}}},29636:function(t,e,n){var i;n.d(e,{Pj:function(){return s},_l:function(){return c},gQ:function(){return l}}),function(t){t[t.none=0]="none",t[t.default=16]="default",t[t.medium=20]="medium",t[t.large=24]="large"}(i||(i={}));var r,o;!function(t){t[t.xsmall=472]="xsmall",t[t.small=600]="small",t[t.medium=768]="medium",t[t.large=834]="large",t[t.xlarge=1024]="xlarge"}(r||(r={})),function(t){t[t.xsmall=472]="xsmall",t[t.small=600]="small",t[t.medium=643]="medium",t[t.large=834]="large",t[t.xlarge=1024]="xlarge"}(o||(o={}));const s=324;var a;!function(t){t[t.medium=440]="medium",t[t.large=335]="large",t[t.xlarge=384]="xlarge"}(a||(a={}));const c=["FailedToCreate","NotEnoughRiverCards","SuccessfullyCreated","SuccessfullyPartiallyFilled"];var u;!function(t){t.BingHomepageMobile="bingHomepageMobile",t.Launcher="launcher",t.SwiftKey="swiftKey",t.EdgeMobile="mobilefeededge",t.SAAndroid="mobilefeedsaa",t.SAIOS="mobilefeedsai",t.Outlook="outlookfeed",t.Office="officefeed",t.Default="mobilefeed"}(u||(u={}));const l=t=>"infopane-card"===t||"responsive-infopane"===t},23460:function(t,e,n){n.d(e,{iw:function(){return V},e7:function(){return z}});var i=n(15598);const r="1adindices",o="1adcoords",s=function(t){var e;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=null===(e=(0,i.$o)())||void 0===e?void 0:e.getItem(t);return n?c(r):r},a=(t,e,n,r)=>{const o=JSON.stringify(t,u);var s,a;if(o!==(0,i.$o)().getItem(e))if(null===(s=(0,i.$o)())||void 0===s||s.setItem(e,o),n)null===(a=(0,i.$o)())||void 0===a||a.setItem(`${e}_CreationDateTime`,n);else if(r){var c;null===(c=(0,i.$o)())||void 0===c||c.setItem(`${e}_ExpireDate`,r)}else{var l;null===(l=(0,i.$o)())||void 0===l||l.setItem(`${e}_date`,JSON.stringify(new Date))}},c=t=>{try{return JSON.parse(t,l)}catch{return null}},u=(t,e)=>e instanceof Map?{dataType:"Map",value:Array.from(e.entries())}:e,l=(t,e)=>"object"==typeof e&&null!==e&&"Map"===e.dataType?new Map(e.value):e;var d=n(99300),f=n(44132),h=n(13218);const p=(t,e,n)=>{m(n,void 0,`Config: ${t}, Response: ${e}`,!0)},m=(t,e,n,i)=>{const r={...t,pb:{...t.pb}};e&&(r.message=e),n&&r.pb&&(r.pb.customMessage=n),i&&r.pb&&(r.pb.isPrerender=null===h.Al||void 0===h.Al?void 0:h.Al.IsPrerender),f.M0.sendAppErrorEvent(r)};var g,v=n(69497),w=n(523),y=n(75115),b=n(15320),S=n(64411),x=n(80989),C=n(4),k=n(21215),T=n(52185),$=n(33779),A=n(5302),I=n(64107),P=n(40755),_=n(52965),M=n(25156),R=n(92530),E=n(46991),F=n(34800),D=n(42833),O=n(39197),N=n(17813),U=n(95253),L=n(77137),B=n(82928),W=n(26156);class H{constructor(t,e){var n,i=this;this.cardsIndexList=[],this.nativeAdIndexList=[],this.cmsAdIndexList=[],this.infopanePlacementList=[],this.originalInfopaneRegion=new Map,this.isNTPPeek=!1,this.intraNativeAdRanks=[],this.intraNativeAdAuctionCount=0,this.getCmsAdsConfig=()=>this.cmsAdsConfig,this.getAdRegionTupleListMap=()=>this.adRegionTupleListMap,this.getPlacementsBySectionIndex=(t,e)=>{const n=this.getAdIndexList(e)[this.config.auctionPreSectionsNum||0],i=H.isFilteredRegion[e]?(0,P.Z)(t,(t=>t<=n))+1:t.length,r=[];return t.forEach(((t,e)=>{e<i&&r.push(t)})),r},this.getCmsRequestFromTuple=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e={placements:[]};return i.adRegionTupleListMap.forEach(((n,r)=>{if(!n[0]){if(i.shouldDeferInfopaneAuctionOnPrerender(r,t))return;const o=n[1],s=i.getAdIndexList(r)[t]||-1,a=H.isFilteredRegion[r]?(0,P.Z)(o,(t=>t<=s))+1:o.length,c=o.splice(0,a);i.checkAndAddPlacement(e,!n[0],r,c)}})),e},this.fireCmsAuction=async function(){var t;let e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(null!==(t=i.cmsRequest)&&void 0!==t&&null!==(t=t.placements)&&void 0!==t&&t.length?(e=i.cmsRequest,i.cmsRequest=void 0):e=i.getCmsRequestFromTuple(n),e&&e.placements.length)try{const{infopane:t,river:n,documentId:r}=i.cmsAdsConfig,o=e.placements.find((t=>{let{region:e}=t;return e.includes("resinfopane")})),s=e.placements.find((t=>{let{region:e}=t;return e.includes("resriver")})),a=t.splice(0,(null==o?void 0:o.indices.length)??0),c=n.splice(0,(null==s?void 0:s.indices.length)??0);i.isFirstCmsAdsBatch=!1,i.cmsRequestPromise=i.nativeAdService.fetchCmsAds(e,r,[...a,...c]);const{placements:u}=await i.cmsRequestPromise;return u}catch(t){(0,$.OO)(t,A.NF_,"Call to CMS Ad Service failed")}},this.getRegionImgForMobile=t=>{const{river:e,infopane:n}=this.overrideImageSize||{};switch(t){case"river":return e;case"infopane":return n;default:return}},this.fireFastHydrationAuction=async t=>{(0,b.bF)(t,this.config),(this.config.passAdOcidRegSize||this.config.enableAddingAdCoords||this.config.passBrandSafetySignals)&&t.placements.forEach((t=>{(0,b.Yh)(t,this.config)})),this.fastHydrationRequest=t;const e=this.nativeAdService.fetchSamAds(t,!0);this.fastHydrationRequestPromise=e,(0,U.pl)(this.config)},this.fetchSamPredictContent=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(i.isFirstSamAdsBatch){i.samPredictResponsePromise=new D.o;try{const n=i.getPredictedAdRequest();if(i.samRequest=n,!n||!n.placements||!n.placements.length)return;I.A.startMark("AdServiceCall.SuperFeed");const r=i.nativeAdService.fetchSamAds(n,!0,t,i.getIsPrerenderAds());i.samRequestPromise=r;const o=(0,U.pl)(i.config);var e;if([i.predictSamResponse]=await Promise.all([r,o]),i.predictSamResponse)if(null!==(e=i.config.adTemplateConfig)&&void 0!==e&&e.enableBlockingQueue){((i.predictSamResponse.samResponse&&i.predictSamResponse.samResponse.placements)??[]).forEach((t=>{t.adAuctionType=v._.clientAuctionAd}))}}catch(t){(0,$.OO)(t,A.R0M,"Call to SAM Ad Service failed")}finally{i.samPredictResponsePromise.set(),I.A.endMark("AdServiceCall.SuperFeed")}}},this.waitForSamPredictResponse=async()=>{var t;return null===(t=this.samPredictResponsePromise)||void 0===t?void 0:t.getResultAsync()},this.waitForSamAuctionCall=async()=>this.samRequestPromise,this.addToCallbackList=t=>{this.nativeAdService.addToCallbackList(t)},this.getFastHydrationSamAdsData=async()=>{if(!this.fastHydrationRequestPromise)return;const t=this.fastHydrationRequestPromise;this.fastHydrationRequestPromise=void 0;const e=await t;try{var n;const t=this.getSamRequestFromTupleWithSectionIndex();return this.validateFastHydrationAdPlacement(t),this.samRequest=t,null!==(n=this.samRequest)&&void 0!==n&&null!==(n=n.placements)&&void 0!==n&&n.length&&(this.isFirstSamAdsBatch=!1),e}catch(t){if(this.config.enableWpoAdRank&&(0,$.H)(A.SSe,"Failed to get fast hydration SAM ads data",void 0,{...A.SSe.pb,customMessage:`Failed to get fast hydration SAM ads data: ${t.message}; ${t.stack}`,isPrerender:null===h.Al||void 0===h.Al?void 0:h.Al.IsPrerender}),!this.config.enableWpoAdRank)throw t}},this.getSamRequestFromTupleWithSectionIndex=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e={placements:[],tmaxbidder:i.config.adsTmaxBidder&&h.Al.IsPrerender&&i.isFirstSamAdsBatch?i.config.adsTmaxBidder:void 0};return i.adRegionTupleListMap.forEach(((n,r)=>{if(n[0]){if(i.shouldDeferInfopaneAuctionOnPrerender(r,t))return;const o=n[1],s=i.getAdIndexList(r)[t]||-1,a=H.isFilteredRegion[r]?(0,P.Z)(o,(t=>t<=s))+1:o.length,c=o.splice(0,a);if(i.config.enableIntraNativeAds){const o=[],s=[];r.startsWith("river")&&c.length>0?(f.M0.addOrUpdateTmplProperty(`servingAdsIndex-${r}`,`${t}-${c[0]}`),c.forEach((t=>{if(i.intraNativeAdRanks.includes(t)){i.intraNativeAdAuctionCount++;const e=i.intraNativeAdRanks.indexOf(t)+1;if(i.intraNativeAdAuctionCount<e){for(let t=i.intraNativeAdAuctionCount;t<=e;t++)o.push(t);i.intraNativeAdAuctionCount=e}else o.push(e)}else{const e=i.intraNativeAdRanks.filter((e=>e<=t)).length;s.push(t-Math.max(e,i.intraNativeAdAuctionCount))}}))):s.push(...c),i.checkAndAddPlacement(e,n[0],r,s),i.checkAndAddPlacement(e,n[0],"intranative",o)}else(r.startsWith("river")||r.startsWith("resriver"))&&c[0]&&f.M0.addOrUpdateTmplProperty(`servingAdsIndex-${r}`,`${t}-${c[0]}`),i.checkAndAddPlacement(e,n[0],r,c)}})),e},this.getSamRequestFromTuple=()=>{const t={placements:[]};return this.adRegionTupleListMap.forEach(((e,n)=>{e[0]&&this.checkAndAddPlacement(t,e[0],n,e[1])})),t},this.shouldDeferInfopaneAuctionOnPrerender=(t,e)=>t.includes("infopane")&&(this.getIsPrerenderAds()&&0==e||this.config.deferInfopanePrerender&&h.Al.IsPrerender&&this.isFirstSamAdsBatch),this.getAdIndexList=t=>{var e,n;return null===(e=this.config.riverSectionCardProviderConfig)||void 0===e||!e.useRelativeAdPlacement||"river"!==t&&"riverlock"!==t&&"peekriver"!==t?null!==(n=this.config.riverSectionCardProviderConfig)&&void 0!==n&&n.useRelativeAdPlacement&&t.includes("resriver")?this.cmsAdIndexList:this.cardsIndexList:this.nativeAdIndexList},this.overrideTopAdSamRequest=(t,e)=>{const n=(0,O._4)();var i;null!=e&&e.isSuperAppTopAd&&this.config.enableTopAdCard&&null!=n&&n.isOEM&&(t[0]&&(t[0].region="top",t[0].img=null===(i=this.config)||void 0===i||null===(i=i.adTemplateConfig)||void 0===i||null===(i=i.imageSizeConfig)||void 0===i?void 0:i.top));return t},this.getSamAuctionRequest=(t,e,n)=>{var i;let r;if(null!==(i=this.samRequest)&&void 0!==i&&null!==(i=i.placements)&&void 0!==i&&i.length?(r=this.samRequest,this.samRequest=void 0):r=this.config.enableNativeAdBatchCall?this.getSamRequestFromTuple():this.getSamRequestFromTupleWithSectionIndex(t),r&&r.placements.length){if(this.config.enableNativeAdXandr&&(r.enableNativeAdXandr=!0),this.config.overrideAdPartnerId&&(r.partnerId=this.config.overrideAdPartnerId),this.config.overrideAdPageType&&(r.pageType=this.config.overrideAdPageType),e)r={placements:this.overrideTopAdSamRequest(r.placements,e),pageType:e.pageType,locale:e.locale,adid:e.adid,anid:e.anid,muid:e.muid,sapphireid:e.sapphireid,appName:e.appName,clientVersion:e.clientVersion,packageName:e.packageName,tmax:e.tmax},"prime_mobile"===e.appName&&"mobilefeed"===e.pageType&&r.placements.forEach((t=>{t.isStrictIndices=!0}));else if(r.tmaxbidder=this.config.adsTmaxBidder&&h.Al.IsPrerender&&this.isFirstSamAdsBatch?this.config.adsTmaxBidder:void 0,(0,b.bF)(r,this.config),n){var a,c;const{selectedFeedDisplaySetting:e}=(null===(a=(0,B.K0)(w.RL))||void 0===a?void 0:a.getCurrentState())??{},i=null===L.jG||void 0===L.jG||null===(c=L.jG.CurrentRequestTargetScope)||void 0===c||null===(c=c.pageExperiments)||void 0===c?void 0:c.includes("1s-wpo-brndrby"),u=[];let l=!1;if(r.placements.forEach((r=>{if(n(r),r&&r.placementLevelSignals){var o;if(this.config.batch8AdsOnPeak&&h.Al.IsPrerender&&"peek"===e)if(("river"===r.region||"resriver"===r.region||"peekriver"===r.region)&&Array.isArray(r.indices)&&null!==(o=r.indices)&&void 0!==o&&o.includes(2))return;t&&r.placementLevelSignals.some((t=>!t||!t.coords||"number"!=typeof t.coords.x))&&u.push(`${r.region}-${r.indices}`),(this.config.addAdBrandSafetySignals||i)&&r.placementLevelSignals.some((t=>!t||!t.adjacentCardIds))&&(l=!0)}})),this.config.enableAddingAdCoords&&u.length){const t=s(o);t&&t.size&&(0,$.H)(A.VAC,"Ads placement level signal missing coordinates",`{"missing_plcs": ${JSON.stringify(u)}, "coords_cache": ${JSON.stringify(Array.from(t.entries()))}, "placements": ${JSON.stringify(r.placements)}}`)}(this.config.addAdBrandSafetySignals||i)&&l&&(0,$.H)(A.hTi,"Ad placement signal missing adjacentCardIds",JSON.stringify(r.placements),{shouldSampleErrorsForTreatement1:!0})}return r}},this.fireSamAuction=async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;const c=i.getSamAuctionRequest(e,n,o);if(c&&c.placements.length)return r&&await r.getResultAsync(),await i.fetchSamAds(c,t,s,a)},this.fetchSamAds=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;try{I.A.startMark("AdServiceCall.SuperFeed");const{isFirstSamAdsBatch:s,nativeAdService:a}=i,c=s?e:[];i.isFirstSamAdsBatch=!1;const u=a.fetchSamAds(t,s,c,i.getIsPrerenderAds(),n,r);if(!i.config.loadAdTemplate)return await u;if(i.config.enableNativeAdWC||i.config.enableNativeAdWCInfopane){var o;const[t]=await Promise.all([u,i.lazyLoadDRBundle(null===(o=i.config)||void 0===o||null===(o=o.adTemplateConfig)||void 0===o?void 0:o.configType)]);return t}{const[t]=await Promise.all([u,(0,U.pl)(i.config)]);return t}}catch(t){(0,$.OO)(t,A.R0M,"Get SAM data failed")}finally{I.A.endMark("AdServiceCall.SuperFeed")}},this.initNativeAdConfig(t),this.initAdRegionTupleListMap(),null!=t&&null!==(n=t.riverSectionCardProviderConfig)&&void 0!==n&&n.adRegionSpecificTupleListMap&&this.initAdRegionSpecificTupleListMap(t.riverSectionCardProviderConfig.adRegionSpecificTupleListMap),this.beaconService=new S.A(null==t?void 0:t.adBeaconServiceConfig)}initNativeAdConfig(t){var e,n,i,r,o;this.isFirstSamAdsBatch=!0,this.isFirstCmsAdsBatch=!0,this.config=(0,_.Z)(t)||{},this.cmsAdsConfig=(null===(e=this.config)||void 0===e?void 0:e.cmsAds)??{documentId:"",infopane:[],river:[]},this.tallAdProcessed=!(null!==(n=this.config)&&void 0!==n&&n.enableAdsWaterfall);const s={adPlacementMapper:this.config.adPlacementMapper,adPageType:this.config.adPageType,useEmptyPlacementsForNoContent:this.config.backfillContentForMissingPlacements,enablePrerenderAdsAuctionFlag:this.config.enablePrerenderAds&&this.config.enablePrerenderAuctionFlag,auctionTimeoutOverride:this.config.auctionTimeoutOverride,auctionRidOverride:this.config.auctionRidOverride,enableBuyDirectAd:this.config.enableBuyDirectAd,fixAuctionSrcUrl:this.config.fixAuctionSrcUrl,passExtraAdSignals:this.config.passExtraAdSignals,passAdOcidRegSize:this.config.passAdOcidRegSize,passRequestModelSignals:this.config.passRequestModelSignals,enableNativeAdXandr:this.config.enableNativeAdXandr,enableAdTargetingKeywords:null===(i=this.config.adServiceConfig)||void 0===i?void 0:i.enableAdTargetingKeywords,passDTSignals:this.config.passDTSignals,dtsRequestConfig:this.config.dtsRequestConfig,enableNativeAdDTS:this.config.enableNativeAdDTS,nativeAdDTSRequestConfig:this.config.nativeAdDTSRequestConfig,passBrandSafetySignals:this.config.passBrandSafetySignals,readAdScenarioTypeFromMsnKv:this.config.readAdScenarioTypeFromMsnKv,enableAdSponsoredText:this.config.enableAdSponsoredText,passDeviceOS:this.config.passDeviceOS,passVAXandrMigrationSignals:this.config.passVAXandrMigrationSignals,sendAdBlockDetectionFromEdge:null===(r=this.config.adServiceConfig)||void 0===r?void 0:r.sendAdBlockDetection};this.nativeAdService=(0,x.d)((null===(o=this.config)||void 0===o?void 0:o.adTemplateConfig)||{},s)}initAdRegionTupleListMap(){var t;this.adRegionTupleListMap=new Map([["infopane",[!0,[],[]]],["infopanelock",[!0,[],[]]],["peekinfopane",[!0,[],[]]],["rightrail",[!0,[],[]]],["triver",[null===(t=this.config)||void 0===t?void 0:t.enable1stRowAd,[],[]]],["river",[!0,[],[]]],["riverlock",[!0,[],[]]],["peekriver",[!0,[],[]]],["infopane-tab",[!0,[],[]]],["resinfopane",[this.config.enableInfopaneLeadgenNative,[],[]]],["resinfopanelock",[this.config.enableInfopaneLeadgenNative,[],[]]],["resriver",[this.config.enableRiverLeadgenNative,[],[]]],["resriverlock",[this.config.enableRiverLeadgenNative,[],[]]],["dense-river",[!0,[],[]]],["rivert",[this.config.enableAdsWaterfall||this.config.enableNTPAdaptiveImage,[],[]]],["resrivert",[this.config.enableNTPAdaptiveImage,[],[]]],["infopane1u",[this.config.enableInfopane1uCard,[],[]]]])}initAdRegionSpecificTupleListMap(t){0!==t.length&&(this.adRegionTupleListMap=new Map(t.map((t=>[t,[!0,[],[]]]))))}loadCmsBackfillList(){return this.nativeAdService.loadCmsBackFillList()}fillAdsMap(t){if(!t)return;const{adLabelText:e,isGreyAdsLabelEnabled:n}=this.nativeAdService.getAdTagStyleByLocale(),i=(0,d.AH)({adLabelText:e,isGreyAdsLabelEnabled:n,...this.config},t),r=(0,O._4)();this.adRegionTupleListMap.forEach(((t,e)=>{("river"===e||"riverlock"===e||"peekriver"===e)&&this.config.enableTopAdCard&&null!=r&&r.isOEM&&i.top&&t[2].push(...i.top),this.config.enableIntraNativeAds&&"river"===e&&t[2].push(...i.intranative??[]),t[2].push(...i[e]??[])}))}createNativeAdCardMetadata(t,e,n,i,r,o,s,a,c,u,l){var d,f,h,p,m,g,v;let w=t.includes("resinfopane")||t.includes("resriver")?F.PL.CmsAd:F.PL.NativeAd;if(null!==(d=this.config)&&void 0!==d&&d.enableAdsWaterfall&&"river"===t&&e===(null===(f=this.config)||void 0===f?void 0:f.tallAdsIndex)&&(t="rivert"),null!==(h=this.config)&&void 0!==h&&h.enable1stRowAd&&o===F.PL.FirstPartyAd&&(t="triver",w=F.PL.FirstPartyAd),null!==(p=this.config)&&void 0!==p&&p.enableInfopane1uCard&&C.cE.includes(t)&&(t="infopane1u"),null!==(m=this.config)&&void 0!==m&&m.adPlacementMapper){const n=this.config.adPlacementMapper.find((n=>{const i=n.region===t,r=!n.indices||n.indices.includes(e);return i&&r}));t=(null==n?void 0:n.mappedRegion)||t}let y,b=null===(g=this.adRegionTupleListMap.get(t))||void 0===g?void 0:g[2];var S;if(null!==(v=this.config)&&void 0!==v&&v.enableIntraNativeAds&&"river"===t)if("intranative"===o||l){var x;const t=null===(x=b)||void 0===x?void 0:x.filter((t=>"intranative"===t.region)),n=this.intraNativeAdRanks.indexOf(e)+1;y=null==t?void 0:t.find((t=>t.regionIndex===n))}else{var k;const t=null===(k=b)||void 0===k?void 0:k.filter((t=>"river"===t.region)),n=this.intraNativeAdRanks.filter((t=>t<=e)).length,i=e-n;y=null==t?void 0:t.find((t=>t.regionIndex===i))}else y=null===(S=b)||void 0===S?void 0:S.find((t=>t.regionIndex===e));if(this.config.adsPlacementForPeekView&&!y){var T,$,A,I,P;if("peekriver"===t)b=null===($=this.adRegionTupleListMap.get("river"))||void 0===$?void 0:$[2];if("river"===t)b=null===(A=this.adRegionTupleListMap.get("peekriver"))||void 0===A?void 0:A[2];if("peekinfopane"===t)b=null===(I=this.adRegionTupleListMap.get("infopane"))||void 0===I?void 0:I[2];if("infopane"===t)b=null===(P=this.adRegionTupleListMap.get("peekinfopane"))||void 0===P?void 0:P[2];y=null===(T=b)||void 0===T?void 0:T.find((t=>t.regionIndex===e))}return y?{type:w,regionType:t,regionIndex:e,id:this.getNativeAdId(t,y.regionIndex,y),placement:y,wpoRank:n,wpoAdRank:i,wpoId:r,adjacentCardIds:s,isPartialBrandSafety:a,column:c,row:u,colSpan:l}:{type:w,regionType:t,regionIndex:e,placement:{items:[]},wpoRank:n,wpoAdRank:i,wpoId:r,adjacentCardIds:s,isPartialBrandSafety:a,column:c,row:u,colSpan:l}}getPredictCmsAdsData(){var t;if(!this.isFirstCmsAdsBatch)return;const e=this.getCmsRequestFromTuple();if(this.predictCmsResponse&&this.validateCmsAdPlacementConfig(e),this.cmsRequest=e,null!==(t=this.cmsRequest)&&void 0!==t&&null!==(t=t.placements)&&void 0!==t&&t.length&&(this.isFirstCmsAdsBatch=!1),this.predictCmsResponse){const t=this.predictCmsResponse;return this.predictCmsResponse=void 0,t}}async waitForCmsAuction(){if(this.cmsRequestPromise)if(this.config.enableWpoAdRank)try{await this.cmsRequestPromise}catch(t){(0,$.H)(A.SSe,"CMS auction failed",void 0,{...A.SSe.pb,customMessage:`CMS auction failed: ${t.message}; ${t.stack}`,isPrerender:null===h.Al||void 0===h.Al?void 0:h.Al.IsPrerender})}else await this.cmsRequestPromise}getAssets(t,e){const n=[];if(e){const i=e.reduce(((e,n,i)=>{const r=(0,M.Z)(y.aT,(t=>t===n));if(r){const n={...y.hy[r],id:i+1};"img"===r&&(n.img={...this.getRegionImg(t),...n.img}),e.push(n)}return e}),[]);n.push(i)}return n}getVAAssets(t){var e;const n=null===(e=this.config.adTemplateConfig)||void 0===e?void 0:e.supportedVAAssets;return this.getAssets(t,n)}getNativeAdAssets(t){var e;const n=null===(e=this.config.adTemplateConfig)||void 0===e?void 0:e.auctionCallAssets;if(this.config.assetConfigRefactor){if("infopane-tab"===t)return;if(n&&n.length>0)return this.getAssets(t,n)}else{var i;if(null!==(i=this.config.adTemplateConfig)&&void 0!==i&&i.enableVA&&"rightrail"!==t)return this.getVAAssets(t)}}checkAndAddPlacement(t,e,n,r){if(t&&e&&r.length){let e=this.getRegionImg(n);if(this.config.overrideSAMAdImageSize&&this.overrideImageSize){const t=this.getRegionImgForMobile(n);t&&(e=t)}const o={assets:this.getNativeAdAssets(n),region:n,indices:r.splice(0),img:e};this.config.addAdCoordsOnPredicted&&((0,b.bF)(t,this.config),(0,b.Yh)(o,this.config,void 0,(t=>{var e;const n=this.getCoordsCache(t),r="true"===(null===(e=(0,i.$o)())||void 0===e?void 0:e.getItem(W.Wb));return n?{...n,isCoordsInvalidated:r}:{}}))),(this.config.enableSAMAdStrictIndices||L.jG.IsHeroNTP||this.config.enable1stRowAd&&"triver"===n||this.config.adsPlacementForPeekView&&("peekriver"===n||"peekinfopane"===n)&&this.isNTPPeek||this.config.enableIntraNativeAds&&"intranative"===n)&&(o.isStrictIndices=!0),this.config.adsPlacementForPeekView&&"peekinfopane"===n&&this.isNTPPeek&&(o.indices=o.indices.map((t=>{const e=this.getPeekInfopaneMappingList().indexOf(t);return-1!==e?e:t}))),t.placements.push(o)}}mapStrictPeekRegionIndexToAbsoluteRegionIndex(t){let{placeholderPlacements:e,samPlacements:n}=t;null==e||e.forEach((t=>{if("peekinfopane"===t.region){const e=this.getPeekInfopaneMappingList()[t.regionIndex];void 0!==e&&(t.relativeRegionIndex=t.regionIndex,t.regionIndex=e)}})),null==n||n.forEach((t=>{if("peekinfopane"===t.region&&void 0!==t.index){const e=this.getPeekInfopaneMappingList()[t.index];void 0!==e&&(t.relativeIndex=t.index,t.index=e)}}))}async fetchCmsPredictContent(){if(!this.isFirstCmsAdsBatch)return;const t=this.getPredictedAdRequest(!0);if(this.cmsRequest=t,t.placements.length)try{const{infopane:e,river:n,documentId:i}=this.cmsAdsConfig,r=t.placements.find((t=>{let{region:e}=t;return e.includes("resinfopane")})),o=t.placements.find((t=>{let{region:e}=t;return e.includes("resriver")})),s=e.splice(0,(null==r?void 0:r.indices.length)??0),a=n.splice(0,(null==o?void 0:o.indices.length)??0),{placements:c}=await this.nativeAdService.fetchCmsAds(t,i,[...s,...a]);return this.predictCmsResponse=c,c}catch(t){(0,$.OO)(t,A.NF_,"Call to CMS Ad Service failed")}}lazyLoadDRBundle(t){switch(t){case"prg-ad-like":return n.e("na-like-button").then(n.bind(n,22377));case"prg-trending":return n.e("na-trending").then(n.bind(n,54987));case"prg-ad-ctav2":case"prg-ad-ctav3":return n.e("na-call-to-action").then(n.bind(n,92358));case"prg-ad-sh-v1":return n.e("nas-highlight-v1").then(n.bind(n,63363));case"prg-ad-sh-v3":case"prg-ad-sh-v4":return Promise.all([n.e("nas-highlight-v3v4").then(n.bind(n,25705)),n.e("nas-highlight-v3v4").then(n.bind(n,70042))]);case"prg-ad-combo":return Promise.all([n.e("na-decoration-combo").then(n.bind(n,54220)),n.e("na-decoration-combo").then(n.bind(n,34665)),n.e("na-decoration-combo").then(n.bind(n,3418)),n.e("na-decoration-combo").then(n.bind(n,73920))])}}getPredictedAdRequest(t){const e={placements:[],tmaxbidder:!h.Al.IsPrerender&&!this.config.auctionRidOverride&&this.isFirstSamAdsBatch&&this.config.adsTmaxBidder?this.config.adsTmaxBidder:void 0};return this.config.overrideAdPartnerId&&(e.partnerId=this.config.overrideAdPartnerId),this.config.overrideAdPageType&&(e.pageType=this.config.overrideAdPageType),this.adRegionTupleListMap.forEach(((n,i)=>{const r=t?this.getCmsIndices(i):this.getSamIndices(i),o=t?!n[0]:n[0];o&&null!=r&&r.length&&this.checkAndAddPlacement(e,o,i,r)})),e}getPredictSamAdsData(){var t;if(!this.isFirstSamAdsBatch)return;const e=this.getSamRequestFromTupleWithSectionIndex();if(this.predictSamResponse&&this.validateSamAdPlacementConfig(e),this.samRequest=e,null!==(t=this.samRequest)&&void 0!==t&&null!==(t=t.placements)&&void 0!==t&&t.length&&(this.isFirstSamAdsBatch=!1),this.predictSamResponse){const t=this.predictSamResponse;return this.predictSamResponse=void 0,t}}getSamRequest(){return this.samRequest}shouldPrefetchInfopaneSamAds(t){return-1!==this.infopanePlacementList.findIndex((e=>{let{index:n}=e;return n===t+d.h2}))}prefetchInfopaneSamAds(t){const e=this.getAndUpdateInfopanePrefetchPlacementList(t);if(e.length)return this.fetchSamAdsInPlacementList(e)}getAndUpdateInfopanePrefetchPlacementList(t){if(!this.config.infopaneViewOptAdCount)return[];const e=this.infopanePlacementList.findIndex((e=>{let{index:n}=e;return n>t}));return-1===e?[]:this.infopanePlacementList.splice(e,this.config.infopaneViewOptAdCount)}mapViewOptimizationRegion(t){if(this.config.infopaneViewOptAdCount&&!this.config.infopaneCacheNormalPlacement){t.placements.forEach((t=>{C.PB.includes(t.region)&&(1===this.config.infopaneViewOptAdCount?t.region=C.BU[0]:2===this.config.infopaneViewOptAdCount&&(t.region=C.BU[1]))}));const e={};t.placements.forEach((t=>{const n=t.region;e[n]?e[n].indices.push(...t.indices):e[n]={...t}})),t.placements=Object.values(e)}}mapSamAdRegionToOriginal(t){var e,n;this.config.infopaneViewOptAdCount&&(null!=t&&null!==(e=t.samResponse)&&void 0!==e&&e.placements&&t.samResponse.placements.forEach((t=>{const{index:e}=t;this.originalInfopaneRegion.get(e)&&(t.region=this.originalInfopaneRegion.get(e))})),null!=t&&null!==(n=t.placeHolderResponse)&&void 0!==n&&n.placements&&t.placeHolderResponse.placements.forEach((t=>{const{regionIndex:e}=t;this.originalInfopaneRegion.get(e)&&(t.region=this.originalInfopaneRegion.get(e))})))}async fetchSamAdsInPlacementList(t){const e={placements:[]};(0,d.EC)(t).forEach(((t,n)=>{this.checkAndAddPlacement(e,!0,n,t)})),this.mapViewOptimizationRegion(e);const n=await this.fetchSamAds(e);return this.mapSamAdRegionToOriginal(n),n}fireServedTrackingCallForPlacements(t){if(!t)return;const e=this.beaconService.sendBeaconForAdServed.bind(this.beaconService);t.map((t=>{let{beaconsJson:e,bingTrackerUrls:n=[],videoViewabilityData:i,beaconsSupportHttpPOST:r}=t;return!e||n.length>0&&i?null:{beaconsJson:e,beaconsSupportHttpPOST:r}})).filter((t=>!(!t||!t.beaconsJson))).forEach(e)}appendAdRegionIndices(t,e){const n=this.adRegionTupleListMap.get(t);n&&Array.isArray(n[1])?n[1].push(...e.sort(((t,e)=>t-e))):this.adRegionTupleListMap.set(t,[!0,e.sort(((t,e)=>t-e)),[]])}updateAdRegionTupleListMap(t){var e,n,i;const{adRegionTupleListMap:r}=this;r.forEach(((e,n)=>{var i;const r=e[1],o=null===(i=this.config.adPlacementMapper)||void 0===i?void 0:i.find((t=>t.region===n));if(o){let e=[],i=[];if(o.indices){const r=t.get(n)??[];i=(0,R.Z)(r,o.indices),e=(0,E.Z)(r,o.indices)}else i=t.get(n)??[];this.appendAdRegionIndices(o.region,e),this.appendAdRegionIndices(o.mappedRegion,i)}else r.push(...(t.get(n)??[]).sort(((t,e)=>t-e)))})),null!==(e=this.config)&&void 0!==e&&e.enableAdsWaterfall&&!1===this.tallAdProcessed&&this.updatePlacementsForTallAd(r,this.config.tallAdsIndex),null!==(n=this.config)&&void 0!==n&&n.infopaneViewOptAdCount&&this.updatePlacementsForInfopane(r),null!==(i=this.config)&&void 0!==i&&i.enableInfopane1uCard&&this.updatePlacementsForInfopane1u(t)}updatePlacementsForTallAd(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===e)return;const n=this.getOrDefault(t,"rivert",[!0,[],[]]),i=this.getOrDefault(t,"river",[!0,[],[]]),r=[e],o=this.removeItemFromPlacementArray(i[1],e);t.set("river",[i[0],o,i[2]]),t.set("rivert",[n[0],r,n[2]]),this.tallAdProcessed=!0}updatePlacementsForInfopane(t){t.forEach(((t,e)=>{t[0]&&C.PB.includes(e)&&(t[1].forEach((t=>{this.infopanePlacementList.push({region:e,index:t}),this.originalInfopaneRegion.set(t,e)})),t[1]=[])})),this.infopanePlacementList.sort(((t,e)=>t.index-e.index))}updateRiverInfopanePlacementsToNormal(){var t,e,n,i;const{adRegionTupleListMap:r}=this,o=null==r||null===(t=r.get("peekriver"))||void 0===t?void 0:t[1],s=null==r||null===(e=r.get("peekriver"))||void 0===e?void 0:e[2];if(null!=o&&o.length){const t=null==r?void 0:r.get("river");t&&(t[1]=[...t[1],...o]);const e=null==r?void 0:r.get("peekriver");e&&(e[1]=[])}if(null!=s&&s.length){const t=null==r?void 0:r.get("river");t&&(t[2]=[...t[2],...s]);const e=null==r?void 0:r.get("peekriver");e&&(e[2]=[])}const a=null==r||null===(n=r.get("peekinfopane"))||void 0===n?void 0:n[1],c=null==r||null===(i=r.get("peekinfopane"))||void 0===i?void 0:i[2];if(null!=a&&a.length){const t=null==r?void 0:r.get("infopane");t&&(t[1]=[...t[1],...a]);const e=null==r?void 0:r.get("peekinfopane");e&&(e[1]=[])}if(null!=c&&c.length){const t=null==r?void 0:r.get("infopane");t&&(t[2]=[...t[2],...c]);const e=null==r?void 0:r.get("peekinfopane");e&&(e[2]=[])}}updatePlacementsForInfopane1u(t){let e=[];for(const n of C.cE)e=e.concat(t.get(n)??[]),this.adRegionTupleListMap.set(n,[!1,[],[]]);e=e.sort(((t,e)=>t-e)),this.adRegionTupleListMap.set(C.yp.infopane1u,[!0,e,[]])}removeItemFromPlacementArray(t,e){return null==t?void 0:t.filter((t=>t!==e))}getOrDefault(t,e,n){return t.get(e)??n}updateAdCache(t){if(!this.isFirstSamAdsBatch)return;const e=new Map;this.adRegionTupleListMap.forEach(((n,i)=>{const r=[...(null==t?void 0:t.get(i))??[],...n[1]],o=this.getPlacementsBySectionIndex(r,i);e.set(i,o)})),a(e,r)}updateCoordsCacheForPredicted(t,e){const n=(s(o)||new Map).set(t,e);a(n,o)}getCoordsCache(t){var e;return null===(e=s(o))||void 0===e?void 0:e.get(t)}isAdsMapEmpty(){let t=!0;return this.adRegionTupleListMap.forEach((e=>{e[2].length>0&&(t=!1)})),t}getRegionImg(t){var e,n,i,r,o,s,a,c,u,l;if(null!==(e=this.config.adTemplateConfig)&&void 0!==e&&e.imageSizeConfig&&null!==(n=this.config.adTemplateConfig)&&void 0!==n&&n.imageSizeConfig[t])return null===(l=this.config.adTemplateConfig)||void 0===l?void 0:l.imageSizeConfig[t];switch(t){case"resriver":case"river":case"riverlock":case"resriverlock":case"triver":case"rightrail":case"peekriver":return null===(i=this.config.adTemplateConfig)||void 0===i||null===(i=i.imageSizeConfig)||void 0===i?void 0:i.river;case"infopane":case"resinfopane":case"infopanelock":case"resinfopanelock":case"peekinfopane":return null===(r=this.config.adTemplateConfig)||void 0===r||null===(r=r.imageSizeConfig)||void 0===r?void 0:r.infopane;case"infopane-tab":return null===(o=this.config.adTemplateConfig)||void 0===o||null===(o=o.imageSizeConfig)||void 0===o?void 0:o.infopaneTab;case"infopane1u":return null===(s=this.config.adTemplateConfig)||void 0===s||null===(s=s.imageSizeConfig)||void 0===s?void 0:s.infopane1u;case"rivert":return null===(a=this.config.adTemplateConfig)||void 0===a||null===(a=a.imageSizeConfig)||void 0===a?void 0:a.rivert;case"inarticlecarousel":return null===(c=this.config.adTemplateConfig)||void 0===c||null===(c=c.imageSizeConfig)||void 0===c?void 0:c.inarticlecarousel;case"inarticle":case"intranative":return null===(u=this.config.adTemplateConfig)||void 0===u||null===(u=u.imageSizeConfig)||void 0===u?void 0:u.inarticle;default:return}}refresh(){this.initNativeAdConfig(this.config),this.initAdRegionTupleListMap(),this.cardsIndexList=[],this.nativeAdIndexList=[],this.cmsAdIndexList=[],this.intraNativeAdAuctionCount=0}updateCardsIndexPersection(t){t.map((t=>{var e;const n=this.cardsIndexList[this.cardsIndexList.length-1]||0;this.cardsIndexList.push(n+((null===(e=t.cards)||void 0===e?void 0:e.length)||0))}))}updateRelativeAdIndexPersection(t){t.forEach((t=>{var e,n;const i=this.nativeAdIndexList[this.nativeAdIndexList.length-1]||0,r=null===(e=t.cards)||void 0===e?void 0:e.filter((t=>"nativead"===t.type||this.config.enableIntraNativeAds&&"intranative"==t.type));let o=i+(r.length||0);if(this.config.enableDynamicWaterfall&&this.config.enableAdRankTrackers){const t=r.map((t=>t.wpoAdRank)).filter((t=>t));if(null!=t&&t.length){const e=Math.max(...t);e>o&&(o=e)}}this.nativeAdIndexList.push(o);const s=this.cmsAdIndexList[this.cmsAdIndexList.length-1]||0,a=(null===(n=t.cards)||void 0===n?void 0:n.filter((t=>"cmsad"===t.type)).length)||0;this.cmsAdIndexList.push(s+a)}))}overrideNativeAdIndexPersection(t){this.nativeAdIndexList=t}overrideCmsAdIndexPersection(t){this.cmsAdIndexList=t}updateAndFilterSamAdResponse(t,e){const{placements:n}=this.nativeAdService.updateSamAdResponse(t,e,this.getIsPrerenderAds());return n.filter((t=>t.items.length))}getAdIndices(t){var e;return(null===(e=s(r))||void 0===e?void 0:e.get(t))||[]}getSamIndices(t){return this.config.avoidPredictInfopaneAd&&t.toLowerCase().indexOf("infopane")>-1?[]:this.config.shouldUseAdCache?this.getAdIndices(t):[]}getPredictedSamIndices(t){var e;return(null===(e=this.samRequest)||void 0===e||null===(e=e.placements)||void 0===e||null===(e=e.find((e=>e.region===t)))||void 0===e?void 0:e.indices)||[]}getCmsIndices(t){return this.config.avoidPredictInfopaneAd&&t.toLowerCase().indexOf("resinfopane")>-1?[]:this.config.shouldUseAdCache?this.getAdIndices(t):[]}getPredictedCmsIndices(t){var e;return(null===(e=this.cmsRequest)||void 0===e||null===(e=e.placements)||void 0===e||null===(e=e.find((e=>e.region===t)))||void 0===e?void 0:e.indices)||[]}getFastHydrationIndices(t){var e;return(null===(e=this.fastHydrationRequest)||void 0===e||null===(e=e.placements)||void 0===e||null===(e=e.find((e=>e.region===t)))||void 0===e?void 0:e.indices)||[]}validateSamAdPlacementConfig(t){var e;const n=[],i=new Map;for(const e of t.placements){const t=e.region,r=this.getPredictedSamIndices(t);if(!r||!r.length){n.push(e);continue}const o=r.filter((t=>e.indices.indexOf(t)>=0)),s=e.indices.filter((t=>o.indexOf(t)<0));e.indices=s,s.length&&n.push(e),i.set(t,o)}let r=n;var o;(n.length&&this.config.avoidPredictInfopaneAd&&(r=r.filter((t=>t.region.toLowerCase().indexOf("infopane")<0))),r.length)?(p(JSON.stringify(null===(o=this.samRequest)||void 0===o?void 0:o.placements),JSON.stringify(t.placements),A.iLP),f.M0.addOrUpdateTmplProperty("edge_ntp.adMismatched","1")):f.M0.addOrUpdateTmplProperty("edge_ntp.adMatched","1");if(t.placements=n,null!==(e=this.predictSamResponse)&&void 0!==e&&null!==(e=e.samResponse)&&void 0!==e&&null!==(e=e.placements)&&void 0!==e&&e.length){const t=[];this.predictSamResponse.samResponse.placements.forEach((e=>{const n=e.region&&i.get(e.region);e.index&&n&&n.indexOf(e.index)>-1&&t.push(e)})),this.predictSamResponse.samResponse.placements=t}}validateCmsAdPlacementConfig(t){const e=[],n=new Map;for(const i of t.placements){const t=i.region,r=this.getPredictedCmsIndices(t);if(!r||!r.length){e.push(i);continue}const o=r.filter((t=>i.indices.indexOf(t)>=0)),s=i.indices.filter((t=>o.indexOf(t)<0));i.indices=s,s.length&&e.push(i),n.set(t,o)}let i=e;var r;(e.length&&this.config.avoidPredictInfopaneAd&&(i=i.filter((t=>t.region.toLowerCase().indexOf("infopane")<0))),i.length)&&p(JSON.stringify(null===(r=this.cmsRequest)||void 0===r?void 0:r.placements),JSON.stringify(t),A.RaX);if(t.placements=e,this.predictCmsResponse&&this.predictCmsResponse.length){var o;const t=[];null===(o=this.predictCmsResponse)||void 0===o||o.forEach((e=>{const i=n.get(e.region);i&&i.indexOf(e.regionIndex)>-1&&t.push(e)})),this.predictCmsResponse=t}}validateFastHydrationAdPlacement(t){const e=[],n=new Map;for(const i of t.placements){const t=i.region,r=this.getFastHydrationIndices(t);if(!r||!r.length){e.push(i);continue}const o=r.filter((t=>i.indices.indexOf(t)>=0)),s=i.indices.filter((t=>o.indexOf(t)<0));i.indices=s,s.length&&e.push(i),n.set(t,o)}let i=e;e.length&&this.config.avoidPredictInfopaneAd&&(i=i.filter((t=>t.region.toLowerCase().indexOf("infopane")<0))),i.length?f.M0.addOrUpdateTmplProperty("fastHydrationAdMismatched","1"):f.M0.addOrUpdateTmplProperty("fastHydrationAdMatched","1"),t.placements=e}getNativeAdId(t,e,n){if("peekinfopane"===t&&n){const{relativeRegionIndex:e}=n;return`nativead-${t}-${e}`}return`nativead-${this.config.enableIntraNativeAds&&"intranative"===(null==n?void 0:n.region)?"intranative":t}-${e}`}getIsPrerenderAds(){return!!(this.config.enablePrerenderAds&&(0,N.TR)()&&(0,k.N)()&&"hidden"===document.visibilityState)}async createMetaTags(t){return new Promise((e=>{t.forEach((t=>{if("infopane"===t.region||"river"===t.region||"infopanelock"===t.region||"riverlock"===t.region||"peekriver"===t.region||"peekinfopane"===t.region){var e;const n=t.items&&(null===(e=t.items[0])||void 0===e?void 0:e.adSelectionReason);if(n){const e=this.getNativeAdId(t.region,t.regionIndex,t);let i;switch(t.region){case"infopane":case"infopanelock":case"peekinfopane":i=`tab_panel_${e}`;break;case"river":case"riverlock":case"peekriver":i=`native_ad_${e}`;break;default:return}try{const t=JSON.parse(n).ads[0].id,e=n.replace(t,i),r=document.head,o=document.createElement("meta");o.name="AdsMetadata",o.content=e,r.appendChild(o)}catch(t){return void(0,$.OO)(t,A.ds2,"Failed to add WhyThisAd meta tag to head")}}}})),e()}))}async loadBuyDirectAd(){await this.nativeAdService.loadBuyDirectAd()}getPeekInfopaneMappingList(){return this.config.useRelativeIndexJKRegion?H.PeekInfopaneIndexMappingListJKRegion:H.PeekInfopaneIndexMappingList}}(g=H).isFilteredRegion={river:!0,resriver:!0,riverlock:!0,resriverlock:!0,peekriver:!0},g.PeekInfopaneIndexMappingList=[0,3,6,11,15],g.PeekInfopaneIndexMappingListJKRegion=[0,5];const z=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="NATIVE_AD_HELPER_INSTANCE";let r=T.Gq.get(i);return r&&!n||(r=new H(t,e),T.Gq.set(i,r)),r},V=t=>t===F.PL.NativeAd||t===F.PL.CmsAd||t===F.PL.FirstPartyAd},49565:function(t,e,n){n.d(e,{Mw:function(){return s},fB:function(){return a},x$:function(){return r}});var i=n(98604);const r=t=>{const{clientHeight:e,clientWidth:n}=document.documentElement,r=(0,i.b_)(t);if(!r)throw new Error("River element is not defined");const o=r.getBoundingClientRect();return{contentInViewport:{height:e-o.y,width:n},river:o}},o=(t,e,n)=>c(t,e).reduce(((t,e,i)=>t+e+(0===i?0:n)),0),s=function(t,e,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const{contentInViewport:c}=r(t),u=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;return n?n.map((n=>{const r=t[null==n?void 0:n.layoutTemplate];return o(r,e,i)})):[]}(e,n,i,s);let l=0,d=0;for(let t=0;t<u.length&&!(l>=c.height-a);t++)l+=u[t]+s,d++;return d},a=function(t,e,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const{contentInViewport:u}=r(t),l=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12;return n?n.map((n=>{if(void 0!==n.templateId){const r=t[n.templateId];return o(r,e,i)}return 0})):[]}(e,n,i,s);let d=0,f=0,h=0;for(let t=0;t<l.length;t++){if(d+=l[t]+s,d>=u.height-a){var p;const r=null===(p=i[t])||void 0===p?void 0:p.templateId;if(void 0===r)break;const o=e[r],f=c(o,n);d=d-l[t]-s;for(let t=0;t<f.length&&(d+=f[t]+(0==t?0:s),!(d>=u.height-a));t++)h++;break}f++}return{lastSectionIndex:f,lastRowIndex:h}},c=(t,e)=>{if(!t||!t.rowHeightPx)throw new Error("Invalid layout template");const{rowHeightPx:n}=t;return n[e]??[]}},99300:function(t,e,n){n.d(e,{AH:function(){return p},C1:function(){return g},EC:function(){return m},JV:function(){return A},Og:function(){return b},Qz:function(){return T},aR:function(){return k},b:function(){return I},h2:function(){return l},m0:function(){return S},pE:function(){return C},sI:function(){return y},vZ:function(){return x},yy:function(){return $},zX:function(){return w}});var i=n(242),r=n(86117),o=n(79403),s=n(17813),a=n(34800),c=n(90351),u=n(13218);const l=1,d=["river","resriver","river_cms","rightrail"],f=t=>e=>{var n;const i={...e,adLabelText:t.adLabelText,isGreyAdsLabelEnabled:t.isGreyAdsLabelEnabled,isWhiteSlug:t.isWhiteSlug,isTransparentSlug:t.isTransparentSlug,isNarrowTitleFooterGap:t.isNarrowTitleFooterGap,isTransparentAdSlugWithBorder:t.isTransparentAdSlugWithBorder,enableAdsColorBleed:t.enableAdsColorBleed,isAdSlugV4NonDr:t.isAdSlugV4NonDr};return"rightrail"===e.region&&null!==(n=t.rightrail)&&void 0!==n&&n.useTransparentAdCard&&(i.shouldUseWhiteGradient=!0),d.includes(e.region)?(i.isProviderInFooter=t.isProviderInFooter,i.isProviderInHeader=t.isProviderInHeader,((t,e)=>{var n;if(null!==(n=e.items)&&void 0!==n&&n.length){if(t.useArticleCardTemplate){const n=Number(e.items[0].imageWidth)||(0,c.Z)(t.adTemplateConfig,"imageSizeConfig.river.w"),i=Number(e.items[0].imageHeight)||(0,c.Z)(t.adTemplateConfig,"imageSizeConfig.river.h");return e.items[0].imageWidth=(225*n/i).toFixed().toString(),e.items[0].imageHeight="225",e.imageWidth=e.items[0].imageWidth,void(e.imageHeight=e.items[0].imageHeight)}e.items[0].imageWidth="300",e.items[0].imageHeight="156"}})(t,i),i):i},h=(t,e)=>{const n=t[e.region]??[];return{...t,[e.region]:n.concat(e)}},p=(t,e)=>e.map(f(t)).reduce(h,{}),m=t=>t.reduce(((t,e)=>{let{region:n,index:i}=e;const r=t.get(n)||[];return r.push(i),t.set(n,r),t}),new Map),g=(t,e)=>t.reduce(((t,n)=>(e(n)?t[0].push(n):t[1].push(n),t)),[[],[]]),v=()=>{const t=(0,i.Ou)()[r.nz+"Complete"];(0,o.hf)("NativeAd.RenderReady",t),(0,o.hf)("NAdRender",1),(0,o.hf)("TTVR.NativeAd",t),(0,r.su)("TTVR.NativeAd",t)},w=function(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=(0,i.Ou)().isSSRCompleted&&(null===(t=window.ssrAdData)||void 0===t?void 0:t.length);n&&v(),window.requestAnimationFrame((()=>{setTimeout((()=>{const t=(0,o.v0)(u.Al.IsPrerender&&!e),a=(0,r.O0)("NativeAd.RenderReady");a>-1&&a&&(0,r.su)("NAdRender",t-a);const c=(0,r.O0)("TTNativeAd.Response");c>-1&&(0,r.O_)("NAdProcess",c,t);const l=(0,r.O0)(e?"TTNativeAd.Background.Serve":"TTNativeAd.Serve");l>-1&&(0,r.su)("NAdRespToCallback",l-c),e?(0,s.lr)().then((()=>{const t=(0,i.Ou)();(0,r.O_)("TTVR.NativeAd",0,t.TTPR),(0,r.O_)("TTNativeAd.Request",0,1)})):n||(0,r.O_)("TTVR.NativeAd",0,t)}),0)}));const a=(0,o.v0)(u.Al.IsPrerender&&!e);(0,r.su)("NativeAd.RenderReady",a);const c=(0,r.O0)(e?"TTNativeAd.Background.Serve":"TTNativeAd.Serve");c>-1&&(0,r.su)("NAdCallbackProcess",a-c)};const y=()=>{var t;if((0,i.Ou)().isSSRCompleted&&(null===(t=window.ssrAdData)||void 0===t?void 0:t.length))v();else{const t=(0,o.v0)(u.Al.IsPrerender);(0,r.O_)("TTVR.NativeAd",0,t)}},b=t=>{var e;return 0===(null===(e=t.placement)||void 0===e||null===(e=e.items)||void 0===e?void 0:e.length)},S=t=>!(t.type!==a.PL.Infopane||!t),x=t=>!(t.type!==a.PL.TabbedInfopaneCard||!t),C=t=>t.type===a.PL.ChannelCarousel||t.type===a.PL.ChannelFilterCard||t.type===a.PL.DynamicFilteredChannel,k=t=>t.type===a.PL.NativeAd||t.type===a.PL.NativeTopAd||t.type===a.PL.FirstPartyAd,T=t=>t.type===a.PL.CmsAd,$=t=>t.type===a.PL.Dense,A=t=>t.type===a.PL.TabbedInfopaneCardTab||t.type===a.PL.TopicFeed,I=t=>t.type===a.PL.BuyDirectAd},64046:function(t,e,n){n.d(e,{G8:function(){return d},Jx:function(){return w},TO:function(){return v},Xd:function(){return g},Zn:function(){return p},cP:function(){return l},iM:function(){return m},oE:function(){return u}});var i=n(17814),r=n(39079),o=n(70041),s=n(24640),a=n(1962),c=n(29218);const u=t=>"WeatherHero"==t.type?o.VnC:t.type+(t.id??""),l="TTVR.ViewCards",d="TTVR.SDCards",f=new Map([[s.U.infopaneCard,()=>!0],[s.U.sectionHeaderCard,()=>!0],[s.U.topStoriesCard,()=>!0],[s.U.contentCard,t=>{const e=(0,a.Ae)(t)||(0,a.UN)(t);return e&&e.height>=i.B._300x225.height&&e.width>=i.B._300x225.width}],[s.U.weatherHeroExperienceCarouselCard,()=>!0]]),h=[s.U.contentCard,s.U.infopaneCard,s.U.sectionHeaderCard,s.U.topStoriesCard,s.U.weatherHeroExperienceCarouselCard];function p(t){const e=c.J[t.type];if(e&&h.includes(e)){const n=f.get(e);return!!n&&n(t)}return!1}const m={C1:1,C2:2,C3:3,C4:4,C5:5,C6:6};function g(t,e){return t*(arguments.length>2&&void 0!==arguments[2]?arguments[2]:2)*(m[e]||1)}const v=t=>{switch(t){case r.Nv._1x_1y:return 1;case r.Nv._1x_2y:case r.Nv._2x_1y:return 2;case r.Nv._3x_1y:return 3;case r.Nv._2x_2y:case r.Nv._4x_1y:return 4;default:return 2}},w={contentGroup:o.ssN,horoscopeCard:o.UE,linkedInCard:o.OF7,moneyInfoCard:o.tJU,onThisDayCard:o.RGQ,qnaCard:o.yHC,"shopping-carousel":o.Tk6,sportsCard:o.bru,trafficCard:o.yn7,travelDestination:o.opx,trendingNowCard:o.bOQ,weather:o.$38,autosCarousel:o.nXC,boostAdCard:o.y2o,electionsCard:o.KfJ,rewardsCard:o.IF2,gamingRecentlyPlayedCard:o.oR0,"trending-in-ten-minutes-id":o.x6e,"infopane-id":o.x6e,"war-in-ukraine-carousel-id":o.x6e,"local-news-carousel-id":o.x6e,casualGamesCarouselCard:o.WJ2,trendingSearchCard:o.veX,mangaCard:o.vG7,mangaCarousel:o.u4d,"shopping-prong-card-response":o.x6e,winAppCard:o.dMz,publisherList:o.iuJ,promotedAdCard:o.SYh}},82821:function(t,e,n){n.d(e,{Jv:function(){return m},QH:function(){return b},Qf:function(){return h},Rs:function(){return g},XI:function(){return p},eu:function(){return S},le:function(){return x},s2:function(){return y}});var i=n(64046),r=n(72263),o=n(33779),s=n(5302),a=n(44132),c=n(49565),u=n(29636),l=n(24640);const d={enableDynamicWaterfallWPO:"wf",enableVerticalCarousels:"vc",enableAugments:"aug"},f={0:r.K$.c1,1:r.K$.c2,2:r.K$.c3,3:r.K$.c4,4:r.K$.c5};function h(t,e,n,r){const o=i.iM[t];let s="";let a;s=e?Object.keys(e).slice(0,o).map((t=>`${t}:${e[t].offset}`)).join(","):function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"c",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":0";return Array.from({length:t},((t,i)=>`${e}${i+1}${n}`)).join(",")}(o),a=n?Object.keys(n).slice(0,o).map((t=>`${t}:${n[t].offset}`)).join(","):function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"c",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:":-1";return Array.from({length:t},((t,i)=>`${e}${i+1}${n}`)).join(",")}(o);const c={layout:null==t?void 0:t.toLowerCase(),colstatus:s,colwidth:300,adoffsets:a,l3v:2};if(r){const t=function(t){if(!t)return;const e=[];if(Object.keys(d).forEach((n=>{const i=n;t[i]&&e.push(d[i])})),!e.length)return;return e.join(",")}(r);t&&(c.wpoux=t)}return c}function p(t,e){const n={c1:{offset:0},c2:{offset:0},c3:{offset:0},c4:{offset:0},c5:{offset:0}},i=t[0];for(let o=1;o<t.length;o++){var r;const s=f[o],a=(null==e||null===(r=e[s])||void 0===r?void 0:r.offset)??0;n[s].offset=t[o]-i+a}return n}function m(t,e,n){const i={c1:{offset:-1},c2:{offset:-1},c3:{offset:-1},c4:{offset:-1},c5:{offset:-1}};for(let o=0;o<t.length;o++){const s=f[o];var r;if(-1!=t[o])i[s].offset=t[o];else void 0!==(null==n||null===(r=n[s])||void 0===r?void 0:r.offset)?i[s].offset=-1===n[s].offset?-1:n[s].offset+e[o]:i[s].offset=t[o]}return i}const g=(t,e,n,i)=>{const{columnsOffset:r,adsOffset:a}=w(e),c=[];try{var u;const o=(null===(u=Object.values(r))||void 0===u?void 0:u.map((t=>t.offset)))||[];t.forEach(((t,r)=>{var s,u;const d=f[r];let h=Boolean(a[d].offset>-1),p=Math.max(a[d].offset,0),m=0;const g=(null==e||null===(s=e.numProcessedCards)||void 0===s?void 0:s[r])??0;let w=0;null===(u=t.slice(g))||void 0===u||u.forEach(((t,e)=>{if("cs-section-tracker"!==t.childTemplateType&&!x(t)){const r=v(t,n,i);m+=r,t.childTemplateType===l.U.nativeAdCard||t.childTemplateType===l.U.responsiveAdCard?(h=!0,p=0):h&&(p+=r),w=e}})),o[r]+=m,c.push(w+g+1),r<=1&&!e&&(o[r]+=i),h&&(a[d].offset=p)}));for(let e=1;e<t.length;e++){r[f[e]].offset=o[e]-o[0]}return{adsOffset:a,columnsOffset:r,numProcessedCards:c}}catch(n){return void(0,o.OO)(n,s.beP,"Error calculating rendered column offsets","",{numColumns:null==t?void 0:t.length,lastPageOffsets:e})}},v=(t,e,n)=>t.childTemplateType===l.U.nativeAdCard||t.childTemplateType===l.U.responsiveAdCard?u.Pj:(null==e?void 0:e.get(t.id))||(t.height??n),w=t=>{let e={c1:{offset:0},c2:{offset:0},c3:{offset:0},c4:{offset:0},c5:{offset:0}},n={c1:{offset:-1},c2:{offset:-1},c3:{offset:-1},c4:{offset:-1},c5:{offset:-1}};return null!=t&&t.preColumnsOffset&&(e={...t.preColumnsOffset}),null!=t&&t.preAdsOffset&&(n={...t.preAdsOffset}),{adsOffset:n,columnsOffset:e}};function y(t,e){var n,i;void 0!==t.layout&&void 0!==t.colstatus&&void 0!==t.l3v&&void 0!==t.adoffsets||a.M0.sendAppErrorEvent({...s.wtK,message:"Waterfall feed request missing QSPs",pb:{...s.wtK.pb,customMessage:`feedName: ${t.feedName}, \n                                option2: true, \n                                layout: ${t.layout}, \n                                colstatus: ${t.colstatus}, \n                                l3v: ${t.l3v}, \n                                adoffsets: ${t.adoffsets}, \n                                requestnextPageUrl: ${t.nextPageUrl},\n                                requestServiceUrl: ${t.serviceUrl},\n                                useWebLayoutEndpoint: ${t.useWebLayoutEndpoint},\n                                pageScenario: ${t.pageScenario},\n                                traceIdIndex: ${null==e?void 0:e.traceIdIndex}, \n                                Statics: ${null==e?void 0:e.isStatic}, \n                                debugId: ${null==e?void 0:e.debugId}, \n                                fdHead: ${null==e?void 0:e.serviceContext.fdHead},\n                                responseNextPageUrl: ${null==e?void 0:e.nextPageUrl},\n                                responseNextPageRequest.nextPageUrl: ${null==e||null===(n=e.nextPageRequest)||void 0===n?void 0:n.nextPageUrl},\n                                responseNextPageRequest.serviceUrl: ${null==e||null===(i=e.nextPageRequest)||void 0===i?void 0:i.serviceUrl},\n                                responseSource: ${null==e?void 0:e.responseSource}, \n                                status: ${null==e?void 0:e.status},\n                                responseStatus: ${null==e?void 0:e.responseStatus}`}})}const b=(t,e)=>t.map((t=>t.cards.reduce(((t,n)=>t+(n.height?n.height:e)),0))),S=function(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const{contentInViewport:r}=(0,c.x$)(t),o=((t,e)=>t?t.map((t=>{var n;const{colSpan:i,height:r=e}=(null==t||null===(n=t.columns[0])||void 0===n?void 0:n.cards[0])||{},o=b(t.columns,e);if(i&&i>1)for(let t=1;t<=Math.min(i,o.length-1);t++)o[t]+=r;return Math.min(...o)})):[])(e,n);let s=0,a=0;for(let t=0;t<o.length&&!(s>=r.height-i);t++)s+=o[t],a++;return a},x=t=>{var e;return null==t||null===(e=t.id)||void 0===e?void 0:e.startsWith("loadingCardPlaceholder")}},89658:function(t,e,n){n.d(e,{NS:function(){return r},ob:function(){return a},qP:function(){return i},tM:function(){return o},tW:function(){return s}});const i="data-t";var r;!function(t){t.Auto="auto",t.AutoScroll="autoScroll",t.Load="load",t.OutOfFocus="outoffocus",t.Partial="partial",t.Resize="resize",t.Scroll="scroll",t.Swipe="swipe",t.Tap="tap",t.View="view"}(r||(r={}));const o="TelemetryPageViewNotificationEvent",s="AppErrorNotificationEvent",a="IDXId"},24358:function(t,e,n){var i,r;n.d(e,{C:function(){return i},z:function(){return r}}),function(t){t[t.Exceptional=0]="Exceptional",t[t.Fallback=1]="Fallback"}(i||(i={})),function(t){t[t.Alert=0]="Alert",t[t.Deprecated=1]="Deprecated",t[t.HighImpact=2]="HighImpact",t[t.Critical=3]="Critical"}(r||(r={}))},81586:function(t,e,n){n.d(e,{Aw:function(){return o},c9:function(){return i},uH:function(){return r},wu:function(){return s}});const i={Undefined:0,Header:1,Footer:2,TopNavBar:3,NavBar:4,DropDown:5,Section:6,Carousel:7,Module:8,SearchBox:9,InputBox:10,ActionButton:11,Interaction:12,Headline:13,Legacy_Navigate:14,Entity:15,Legacy_StructuredData:16,Legacy_AppStore:17,Legacy_Launch:18,Legacy_CmsPromotions:19,Legacy_MicrosoftWebStore:20,Legacy_XboxStore:21,Legacy_OfficeStore:22,Legacy_Install:23,Legacy_PartnerLinks:24,Legacy_SponsoredContent:25,Legacy_Follow:26,Legacy_Unfollow:27,Legacy_More:28,Topic:29,Provider:30,Legacy_Close:36,Legacy_Share:37,Legacy_Like:38,Legacy_Dislike:39,Legacy_Unlike:40,Legacy_Undislike:41,Legacy_Mute:42,Legacy_Unmute:43,Legacy_Cancel:44,Legacy_Manage:45,NewStories:46,AutoSuggest:47,Tile:49,TrendingNews:50,AllCoverage:51,Report:52,MsccCookieComplianceBanner:54,CookieWallCookieComplianceBanner:57,FRE:60,VideoPlayer:61,ContentCard:62,SubmitForm:63,TrafficCard:64,WeatherCard:65,TravelDestinationCard:66,FitnessWorkoutVideo:67,BingHealthFitnessCard:68,FamilyCard:69,FitnessCard:70,HealthQnACard:71,HealthTipCard:72,HealthFitnessCarousel:73,CovidCard:74,Audio:75,ShoppingAd:76,ContentGroup:77,AicreationCard:78,Game:79,HealthRiverCard:80,Augment:81,Manga:82,NotificationCenter:85,MomentInTime:86},r={Undefined:0,StructuredData:1,AppStore:2,CmsPromotions:3,MicrosoftWebStore:4,XboxStore:5,OfficeStore:6,PartnerLinks:7,SponsoredContent:8,ExternalLink:10,SearchPromo:11,Feed:12,Article:13,Gallery:14,Video:15,Audio:16,Settings:17,DisplayAd:18,OfficeDocument:19,App:20,SearchResult:21,VideoAd:22,Map:23,Comment:24,Profile:25,Coachmark:26,TrendingSearch:27,AutoSuggestSearch:28,SearchHistory:29,TextSearch:30,TopSites:31,SearchLink:32,ImageSearch:33,VoiceSearch:34,Toast:35,Greeting:36,Image:37,Banner:38,Waffle:39,Notification:40,QnaTopic:41,QnaContent:42,Publisher:43,Topic:44,LayoutToggle:45,WebContent:46,FinanceTicker:47,CashbackOffer:48,AiCharacter:49,FoodItem:50,FitnessChallenge:51,Overlay:52,Inspiration:53,DailyDiscovery:54,SegmentAugment:55,Upsell:56,UpsellLearnMore:57,WeatherHero:58,UpsellTooltip:60,UpsellGetApp:61,UpsellAppStore:62,UpsellGooglePlay:63,DailyBrief:64,Gem:65},o={Click:"click",Hover:"mouseenter",MouseLeave:"mouseleave",Submit:"submit",View:"view",RightClick:"rightclick",Wheel:"wheel",KeyPress:"keypress",HorizontalSwipe:"hswipe",MiddleClick:"middleclick",VerticalSwipe:"vswipe",Launch:"launch"},s={Undefined:0,Navigate:1,ContextMenu:2,Pin:3,Unpin:4,Rearrange:5,Remove:6,Add:7,Open:8,View:9,Follow:10,Unfollow:11,More:12,Close:13,Share:14,Like:15,Dislike:16,Unlike:17,Undislike:18,Mute:19,Unmute:20,Cancel:21,Launch:22,Install:23,Manage:24,Show:25,MuteCancel:26,Save:27,Hide:28,Unhide:29,Customize:30,Suspend:31,Clear:32,SignIn:33,SignOut:34,UndoSave:35,TurnOn:36,TurnOff:37,Forward:38,Response:39,Report:40,ZoomIn:41,ZoomOut:42,Comment:43,Sort:44,Love:45,Surprised:46,Thinking:47,Sad:48,Angry:49,TextSearch:50,ImageSearch:51,UndoRemove:52,Rename:53,SearchLink:54,VoiceSearch:55,Complete:56,Play:57,Pause:58,Seek:59,Volume:60,ClosedCaptions:61,Fullscreen:62,Restore:63,Replay:64,Copy:65,Reactlike:66,UnReactlike:67,UnLove:68,UnSurprised:69,UnThinking:70,UnSad:71,UnAngry:72,ReportAd:73,Refresh:74,Paginate:75,Click:76,Hover:77,SelectProduct:78,Signup:79,CompleteOrder:80,Model3DInteraction:81,PushNotificationReceive:82,PushNotificationShow:83,PushNotificationClick:84,PushNotificationHmsClick:85,Expand:86,Collapse:87,NoSearchQuerySubmit:88,Feedback:89,QualityChange:90,ProtocolLaunch:91,SydneySummary:92,SydneyTopQuestions:93,SydneyKeyTakeaways:94,SydneyDegreeOverview:95,SydneyFactCheck:96,SydneyMore:97,LeftSwipe:98,RightSwipe:99,ContinueToMobileQrCode:100,CustomContextMenu:101,PlayBackSpeedChange:102};var a;!function(t){t[t.Empty=0]="Empty",t[t.SearchBox=1]="SearchBox",t[t.TopSites=2]="TopSites",t[t.Suggested=4]="Suggested",t[t.ContentFeed=8]="ContentFeed",t[t.WinFRE=16]="WinFRE",t[t.BingImage=32]="BingImage",t[t.ContentBelowTheFold=64]="ContentBelowTheFold",t[t.CustomModeOption=128]="CustomModeOption",t[t.GreetingEnabled=256]="GreetingEnabled",t[t.HeadingsOnly=512]="HeadingsOnly",t[t.StripeLayout=1024]="StripeLayout",t[t.Peek=2048]="Peek"}(a||(a={}))},44132:function(t,e,n){let i;n.d(e,{G3:function(){return c},M0:function(){return s},dK:function(){return o},uZ:function(){return a}});const r=new Promise((t=>{i=t}));let o=()=>r,s=null;function a(t){s=t,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:i)()}const c="uxmode"},24025:function(t,e,n){var i;n.d(e,{G:function(){return i}}),function(t){t[t.All=0]="All",t[t.Otf=1]="Otf",t[t.OneDS=2]="OneDS",t[t.CTag=3]="CTag",t[t.Comscore=4]="Comscore",t[t.Debug=5]="Debug",t[t.SuperApp=6]="SuperApp",t[t.Automation=7]="Automation",t[t.SuperAppBridge=8]="SuperAppBridge"}(i||(i={}))},71903:function(t,e,n){n.d(e,{P:function(){return r}});var i=n(94769);class r{createPageViewPayload(t){if(!t)return;const e=t&&t.page,n=e&&e.content,r=t&&t.user,o={rnd:(0,i.Xn)(),udc:!0};return e&&(o["pg.n"]=e.name,o["pg.t"]=e.type,o["pg.c"]=e.config,o["pg.p"]=e.product,o.rf=e.referral,o.tp=e.url,o.cvs=e.canvas,e.consentChanged&&(o.ctsa=e.consentChanged)),n&&(o.di=n.domainId,o["st.dpt"]=n.category,o["st.sdpt"]=n.subcategory,o.subcvs=n.vertical),t&&(o.lng=t.locale&&t.locale.mkt,t.request&&(o.rid=t.request.requestId,o.activityId=t.request.activityId),t.browser&&(o["d.imd"]=t.browser.isMobile,o.scr=t.browser.screenSize,o.anoncknm=t.browser.anoncknm)),r&&(o.issso=r.isSso,o.aadState=r.aadState),o}}},40373:function(t,e,n){n.d(e,{O:function(){return r}});var i=n(94769);class r{createPageViewPayload(t){if(!t)return;let e=t&&t.page&&t.page.url;try{const n=new URL(e),i=t&&t.page&&t.page.config;(8&i||2048&i)&&(n.searchParams.set("content","1"),e=n.href),t.locale&&t.locale.mkt&&(n.searchParams.set("mkt",t.locale.mkt),e=n.href)}catch{}return{rn:(0,i.Xn)(),c1:2,c2:3000001,cs_ucfr:1,c7:e,c8:t&&t.page&&t.page.content&&t.page.content.title,c9:t&&t.page&&t.page.referral,cs_fpid:t&&t.browser&&t.browser.muid,cs_fpit:"o",cs_fpdm:"*null",cs_fpdt:"*null"}}}},39399:function(t,e,n){n.d(e,{k:function(){return l}});var i=n(89658),r=n(81586),o=n(65004),s=n(94769),a=n(1092),c=n(7191),u=n(13578);class l{constructor(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.enableBatchingForAllEvents=!1,this.enableBatchingEventList={},!0!==t?Array.isArray(t)&&t.forEach((t=>this.enableBatchingEventList[t]=!0)):this.enableBatchingForAllEvents=!0}createPageViewPayload(t){if(t){return this.createEvent("PageView",{...t},o.zU.RealTime)}}createContentViewPayload(t,e,n){let{contentViewType:r,isMeaningfulScroll:a}=n;if(!e)return;const c=[];t.forEach((t=>{c.push(this.mapTelemetryObject(t))}));let l;(0,s.d5)()&&(l={content:{docHeight:(0,s.d5)()}});const d={...e,...l,compressedObject:c,contentViewType:r};if(r===i.NS.Scroll&&(d.isMeaningfulScroll=a),!(0,u.Z)(c)){return this.createEvent("ContentView",d,o.zU.RealTime)}}createActionPayload(t,e,n,i){if((0,u.Z)(t)||!e)return;let s;n===r.Aw.RightClick?s="rightclick":e&&e.browser&&!0===e.browser.isMobile?s="tap":n===r.Aw.Click&&(s="click");const a=t.content&&t.content.type,l=t.type||(0,c.Y)(a,i);0!==l&&(t.type=l),delete t.action,delete t.behavior,delete t.overrideId,delete t.overrideDestinationUrl,delete t.overrideEmailIdScrubbing;return this.createEvent("UserAction",{actionType:n,behavior:i,object:t,...e,gesture:s},o.zU.RealTime)}createEventPayload(t,e,n){if(!n)return;return this.createEvent(t,{...n,...e},o.zU.RealTime)}createCustomEventPayload(t,e,n){if(!n&&"AppError"!==t||(0,u.Z)(e))return;return this.createEvent(t,{...n,extSchema:e},o.zU.RealTime)}mapTelemetryObject(t){let e;const n=t&&t.content&&t.content.type;(n||t.behavior)&&(e=(0,c.Y)(n,t.behavior));const i={n:t&&t.name,y:t&&t.type||e,l:t&&t.content&&t.content.id,h:t&&t.content&&t.content.headlineIdx,v:t&&t.content&&t.content.vertical,tp:t&&t.content&&t.content.topic,c:t&&t.content&&t.content.category,s:t&&t.content&&t.content.source,f:t&&t.feed&&t.feed.id,ct:t&&t.content&&t.content.type,i:t&&t.placement&&t.placement.id,p:t&&t.placement&&t.placement.parentId,o:t&&t.placement&&t.placement.ordinal,tv:t&&t.content&&t.content.teraVertical,tc:t&&t.content&&t.content.teraCategory,aud:t&&t.content&&t.content.audienceMode,isLocal:t&&t.content&&t.content.isLocal,subscriptionType:t&&t.content&&t.content.subscriptionType,providerType:t&&t.content&&t.content.providerType,zone:t&&t.zone,isMonetized:t&&t.isMonetized,isFeed:t&&t.isFeed};return t.ext&&(i.ext=t.ext),i}createEvent(t,e,n){let i=0;return!s.kP||this.enableBatchingForAllEvents||this.enableBatchingEventList[t]||(i=2),{name:a.id[t],data:e,baseType:a.id.Base,latency:n,sync:i}}}},54394:function(t,e,n){n.d(e,{Rf:function(){return l},ht:function(){return s},vU:function(){return d}});var i=n(81586),r=n(89658),o=n(16243);const s=["click","auxclick","contextmenu"],[a,c,u]=s,l="data-customhandled";class d{constructor(){this.clickSearchDepth=20,this.contextMenuEventCallback=t=>{const e=this.getClickTarget(t),n=e&&e.hasAttribute("custom-context-menu")?i.wu.CustomContextMenu:i.wu.ContextMenu;this.handleClickEvent(e,i.Aw.RightClick,n)},this.clickEventCallback=t=>{const e=this.getClickTarget(t);1===t.button?this.handleClickEvent(e,i.Aw.MiddleClick,i.wu.Navigate):this.handleClickEvent(e)},this.auxClickEventCallback=t=>{if(1===t.button){const e=this.getClickTarget(t);this.handleClickEvent(e,i.Aw.MiddleClick,i.wu.Navigate)}}}observe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,e=arguments.length>1?arguments[1]:void 0;t.addEventListener(a,this.clickEventCallback),t.addEventListener(c,this.auxClickEventCallback),e||t.addEventListener(u,this.contextMenuEventCallback)}unobserve(t,e){t.removeEventListener(a,this.clickEventCallback),t.removeEventListener(c,this.auxClickEventCallback),e||t.removeEventListener(u,this.contextMenuEventCallback)}handleClickEvent(t,e,n){const i=this.getTelemetryClickTarget(t);if(!i)return;i&&i.hasAttribute(l)||this.dispatchEvent("telemetryclick",i,e,n)}dispatchEvent(t,e,n,i){const r=new CustomEvent(t,{detail:{element:e,action:n,behavior:i}});dispatchEvent(r)}getTelemetryClickTarget(t){let e=t;for(let t=0;t<this.clickSearchDepth&&e&&!this.validTarget(e);t++)if(e.assignedSlot)e=e.assignedSlot;else if(e.parentElement)e=e.parentElement;else{if(!e.parentNode||!e.parentNode.host)break;e=e.parentNode.host}if(this.validTarget(e))return e}getClickTarget(t){if(!t.composedPath||"function"!=typeof t.composedPath)return t.target;{const e=t.composedPath();if(e.length>2&&"hasAttribute"in e[0]&&!e[0].hasAttribute(r.qP)&&"[object ShadowRoot]"===Object.prototype.toString.call(e[1])&&"hasAttribute"in e[2]&&e[2].hasAttribute(r.qP))return e[2];if(e.length>0)return e[0]}}validTarget(t){const e=t instanceof Element;if(!t||!e)return!1;const n=o.u.get(t);let r;return r=n?n.contract:o.u.parseContract(t),"BUTTON"===t.nodeName||t.hasAttribute("href")||t.getAttribute&&"button"===t.getAttribute("role")||r&&r.type===i.c9.DropDown||r&&r.type===i.c9.ActionButton||r&&r.behavior&&t.tagName.includes("-")||t.form}}},19319:function(t,e,n){n.d(e,{v:function(){return s}});var i=n(90351),r=n(25514);const o={n:"name",t:"type",a:"action",b:"behavior",customHandled:"customHandled",d:"overrideDestinationUrl",oe:"overrideEmailIdScrubbing",z:"zone",ism:"isMonetized",isfeed:"isFeed",isci:"isCI","c.hi":"content.headlineIdx","c.auth":"content.author","c.i":"content.id","c.l":"content.isLocal","c.s":"content.source","c.p":"content.parentId","c.t":"content.type","c.tp":"content.topic","c.v":"content.vertical","c.c":"content.category","c.sc":"content.subcategory","c.pn":"content.partnerName","c.pi":"content.partnerId","c.b":"content.brand","c.bi":"content.brandId","c.st":"content.subscriptionType","c.tv":"content.teraVertical","c.tc":"content.teraCategory","c.pl.i":"content.placement.id","c.pl.p":"content.placement.parentId","c.pl.o":"content.placement.ordinal","c.pl.l":"content.placement.lineage","c.pl.lo":"content.placement.lineageOrdinal","c.aud":"content.audienceMode","c.pv":"content.providerType","f.i":"feed.id","f.n":"feed.name","f.t":"feed.type",ext:"ext","m.c":"metrics.isContentCI"};class s{static compress(t){const e={},n=Object.keys(o);for(let r=0;r<n.length;r++){const s=n[r],a=(0,i.Z)(t,o[s]);void 0!==a&&(e[s]=a)}const r=(0,i.Z)(t,"content.headline");return r&&(e["c.hl"]=r),e}static decompress(t){if(!t)return;const e={},n=Object.keys(o);for(let s=0;s<n.length;s++){const a=n[s],c=(0,i.Z)(t,a);void 0!==c&&(0,r.Z)(e,o[a],c)}return t["c.hl"]&&(0,r.Z)(e,"content.headline",t["c.hl"]),e}}},16243:function(t,e,n){n.d(e,{u:function(){return l}});var i,r=n(89658),o=n(44132),s=n(94769),a=n(19319),c=n(78058),u=n(46728);class l{get _id(){return this.id}get _element(){return this.element}get combinedContract(){if(this.contract){const t=(this.contract.content=this.contract.content||{}).headline;this.contract.content.headline=t||(0,s.tH)(this.element)}return this.hasInheritedProperty?(0,u.Z)({},this.superContract,this.contract,this.internalContract):(0,u.Z)({},this.contract,this.internalContract)}get internalContract(){const{lineage:t,lineageOrdinal:e}=l.getLineage(this)||{},n=l.getInheritedProperties(this),i={placement:{id:this.id,lineage:t,lineageOrdinal:e},...n};return this.parentDOM&&this.parentDOM.id&&0!==this.parentDOM.id&&(i.placement.parentId=this.parentDOM.id,i.placement.ordinal=this.ordinal),i}constructor(t){this.hasInheritedProperty=!1,this.children=[],this.ordinal=0,this.ordinalCount=0,this.contract=t||{},this.ordinalCount=0,this.superContract={}}static addElement(t){if(!t)return;const e=this.parseContract(t);let n=this.get(t),i=!1;n&&n.id?e&&(n.contract=e):(n=new l(e),n.id=this.generateId(),this.set(t,n),i=!0);let o=t.parentElement;!o&&t.parentNode&&t.parentNode.host&&(o=t.parentNode.host);let a=o&&(0,s.pE)(o,`[${r.qP}]`),c=a&&this.get(a);return a&&!c&&((0,s.t0)("telemetrynodeadded",a),c=this.get(a)),n===c&&(a=a&&a.closest(`[${r.qP}]`),c=a&&this.get(a)),n.parentDOM=c&&c!==n?c:l.getRoot(),this.inheritProperty(n),this.needUpdate=!0,i&&dispatchEvent(new CustomEvent("telemetrynodetrack",{detail:n})),n}static inheritProperty(t){if(!o.M0||!o.M0.config||o.M0.config.inheritByTraversingDOM||!t||!t.contract)return;const e=t.parentDOM&&t.parentDOM.contract,n=t.parentDOM&&t.parentDOM.superContract,i=t.contract,r=t.superContract;o.M0.config.inheritExt&&(e&&e.ext||n&&n.ext)&&(t.hasInheritedProperty=!0,r.ext={...n&&n.ext,...e&&e.ext,...i.ext})}getShouldTrackPartialContentUpdate(){if(!this.element)return!0;if(this.element.hasAttribute("data-nopartialcontentview"))return!1;var t;void 0===this.memoizedParentShouldTrackPartialContentUpdate&&(this.memoizedParentShouldTrackPartialContentUpdate=(null===(t=this.parentDOM)||void 0===t?void 0:t.getShouldTrackPartialContentUpdate())??!0);return this.memoizedParentShouldTrackPartialContentUpdate}static isObject(t){return!!t&&"object"==typeof t&&!Array.isArray(t)}static renderObject(t){return t.render()}static renderContract(t){return c.D.render(t)}static setAttribute(t,e,n){if(!t||!t.dataset)return;const i=this.renderContract(e||n&&n.contract);i&&(t.dataset.t=i[r.qP])}static get(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.elementMap.get(t);if(n&&e){const e=this.parseContract(t);e&&(n.contract=e)}return n}static getLineage(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:">",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(t&&t.parentDOM&&t.parentDOM!==l.root){const i=this.getLineage(t.parentDOM,e,n),{lineage:r,lineageOrdinal:o}=i||{};return{lineage:r+e+t.contract.name,lineageOrdinal:(o?o+e:"")+t.ordinal}}return t&&t.parentDOM&&t.parentDOM===l.root&&n?{lineage:t.contract.name,lineageOrdinal:`${t.ordinal}`}:{lineage:t&&t.contract.name}}catch(e){if(o.M0&&o.M0.config&&o.M0.config.logElementForLineageFailure){const{id:e,tagName:n}=t&&t.element||{};o.M0.sendAppErrorEvent({id:20203,severity:1,message:"Error while parsing lineage",pb:{customMessage:JSON.stringify({elementId:e,elementTag:n})}})}}}static getInheritedProperties(t){if(!o.M0||!o.M0.config||!t)return;const{inheritByTraversingDOM:e=!1,inheritPropertyList:n=[],memoizeInheritedProperties:i}=o.M0.config,r=e&&n;return r?i?this.getInheritedPropertiesWithMemoize(t,r):this.getInheritedPropertiesWithoutMemoize(t,r):void 0}static getInheritedPropertiesWithoutMemoize(t,e){let n=t;const i={};for(;n&&n!==l.root;){for(const t of e){const e=n.contract&&n.contract[t];void 0!==e&&(void 0===i[t]?i[t]=e:this.isObject(i[t])&&(i[t]={...e,...i[t]}))}n=n.parentDOM}return i}static getInheritedPropertiesWithMemoize(t,e){if(t.memoizedProperties)return t.memoizedProperties;const n={};for(const i of e){n[i]=t.contract[i];let e=t&&t.parentDOM;for(;e&&e!==l.root;){const t=e.memoizedProperties?e.memoizedProperties[i]:e.contract[i];if(void 0!==t&&(void 0===n[i]?n[i]=t:this.isObject(n[i])&&(n[i]={...t,...n[i]})),e.memoizedProperties)break;e=e.parentDOM}}return t.memoizedProperties=n,n}static getRoot(){return l.root}static getTelemetryObject(t){const e=this.get(t);if(e&&e.contract)return new c.D(e.contract)}static parseContract(t){try{const e=t&&t.getAttribute&&t.getAttribute(r.qP);return e?this.parseAttribute(e):void 0}catch{}}static parseAttribute(t){try{const e=t&&JSON.parse(t);return this.parseMetadata(e)}catch{}}static parseMetadata(t){try{return t&&a.v.decompress(t)}catch{}}static set(t,e){e.element=t,this.elementMap.set(t,e)}static updateLayout(){if(!this.needUpdate)return;this.needUpdate=!1,this.root.ordinalCount=0;const t=(0,s.Ux)(document.documentElement);for(const e of t){let t=this.get(e);t&&t.parentDOM||((0,s.t0)("telemetrynodeadded",e),t=this.get(e)),t&&(t.ordinal=t.parentDOM?++t.parentDOM.ordinalCount:0,t.ordinalCount=0)}}static generateId(){return++this.lastId}}(i=l).elementMap=new WeakMap,i.root=new i({name:"root"}),i.lastId=0,i.needUpdate=!1},75062:function(t,e,n){n.d(e,{o:function(){return Y}});var i=n(89658),r=n(24025),o=n(81586);var s=n(94769);class a{constructor(t,e){this.contentViewCallback=t,this.overrideScrollOffset=e,this.scrollChanged=!0,this.sizeChanged=!0,this.newScrollLeft=null,this.newScrollTop=null,this.firstScrolledMargin=10,this.forceScrollFiring=!1,this.viewportEventIntervalDelayMs=200,this.viewportLeft=0,this.viewportTop=0,this.viewportWidth=0,this.viewportHeight=0,this.userInteracted=!1,this.eventTimerId=0,this.eventTimeoutMS=1e3,this.scrollPerformanceTrackers={},this.syntheticTelemetryScrollCallback=(t,e)=>{t&&(this.userInteracted=!0,this.updateMechanism=i.NS.Scroll,this.scrollChanged=!0,this.triggerCallback(),e(t),this.forceScrollFiring=!0)},this.viewportOffset=0}initListener(t){const e=this.throttle(this.update.bind(this),this.viewportEventIntervalDelayMs);e(),this.scrollContainer=t,this.attachEvent("resize",(t=>{this.userInteracted=!0,this.updateMechanism=i.NS.Resize,this.sizeChanged=!0,this.triggerCallback(),e(t)})),this.attachEvent("scroll",(t=>{t&&!t.preventDefaultScroll&&(this.userInteracted=!0,this.updateMechanism=i.NS.Scroll,this.scrollChanged=!0,this.triggerCallback(),e(t))})),s.kP&&window.addEventListener("telemetryscroll",(t=>{this.syntheticTelemetryScrollCallback(t,e)}))}resetViewportOffset(){this.viewportOffset=this.overrideScrollOffset?this.overrideScrollOffset():(0,s.qC)(this.scrollContainer)}triggerCallback(){this.dispatchEvent("telemetryviewportupdated",this.updateMechanism)}dispatchEvent(t,e){const n=new CustomEvent(t,{detail:{mech:e}});dispatchEvent(n)}throttle(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=0,i=!1;return r=>{if(i)return;const o=(new Date).getTime(),s=o-n;s>e?(n=o,t(r)):(i=!0,setTimeout((()=>{i=!1,t()}),e-s))}}update(t){let e=this.sizeChanged,n=this.scrollChanged;const i=this.viewportWidth,r=this.viewportHeight,o=this.viewportLeft,s=this.viewportTop;this.updateCurrentViewportValues(),e=e&&(r!==this.viewportHeight||i!==this.viewportWidth),n=n&&(o!==this.viewportLeft||s!==this.viewportTop),(this.forceScrollFiring||e||n)&&(this.scheduleViewportEvent(t),this.forceScrollFiring=!1)}updateCurrentViewportValues(){this.scrollChanged&&(this.viewportLeft=this.newScrollLeft||this.getScrollLeft(),this.viewportTop=this.newScrollTop||this.getScrollTop(),this.newScrollLeft=this.newScrollTop=null,!this.firstScroll&&this.viewportTop>this.firstScrolledMargin&&(this.firstScroll=!0)),this.sizeChanged&&(this.viewportWidth=window.innerWidth||document.documentElement.clientWidth,this.viewportHeight=window.innerHeight||document.documentElement.clientHeight),this.scrollChanged=this.sizeChanged=!1}scheduleViewportEvent(t){if(this.userInteracted&&(c(t)&&(this.lastScrollStarted||(this.lastScrollStarted=t&&t.timeStamp||performance.now()),this.scrollPerformanceTrackers.endOfFeedTimeTracker&&this.scrollPerformanceTrackers.endOfFeedTimeTracker.startOrContinue(t),this.scrollPerformanceTrackers.appResponsivenessTracker&&this.scrollPerformanceTrackers.appResponsivenessTracker.startOrContinue(t)),this.eventLastScheduleTime=+new Date,!this.eventTimerId)){const e=()=>{this.eventTimerId=this.userInteracted=!1;const n=Date.now()-this.eventLastScheduleTime;if(n>this.eventTimeoutMS)if(c(t)){const t=performance.now()-this.lastScrollStarted;let e,n,i;this.lastScrollStarted=void 0,this.scrollPerformanceTrackers.scrollInputTracker&&(e=this.scrollPerformanceTrackers.scrollInputTracker.getPendingPotentialInputType(),n=this.scrollPerformanceTrackers.scrollInputTracker.getAndResetPotentialMissedScrollInput(),i=this.scrollPerformanceTrackers.scrollInputTracker.getScrollInstanceData());const r={scrollInputType:e,potentialMissedScrollInput:n,scrollDuration:t,endOfFeedTime:this.scrollPerformanceTrackers.endOfFeedTimeTracker&&this.scrollPerformanceTrackers.endOfFeedTimeTracker.stop(),calculateAri:this.scrollPerformanceTrackers.appResponsivenessTracker&&this.scrollPerformanceTrackers.appResponsivenessTracker.stop(),scrollInstanceData:i};this.contentViewCallback(this.updateMechanism,this.isMeaningfulScroll(),r)}else this.contentViewCallback(this.updateMechanism,this.isMeaningfulScroll());else this.eventTimerId=setTimeout(e,this.eventTimeoutMS-n)};this.eventTimerId=setTimeout(e,this.eventTimeoutMS)}}isMeaningfulScroll(){if(this.updateMechanism!==i.NS.Scroll)return!1;const t=this.overrideScrollOffset?this.overrideScrollOffset():(0,s.qC)(this.scrollContainer),e=(0,s.P6)(this.scrollContainer);return(t>this.viewportOffset&&t-this.viewportOffset>e/2||t<this.viewportOffset&&this.viewportOffset-t>e/2)&&(this.viewportOffset=t,!0)}getScrollTop(){if(this.scrollContainer)return this.scrollContainer.scrollTop;if("undefined"!=typeof pageYOffset)return pageYOffset;{const t=document.body;let e=document.documentElement;return e=e.clientHeight?e:t,e.scrollTop}}getScrollLeft(){if(void 0!==window.pageXOffset)return window.pageXOffset;{const t=document.body;let e=document.documentElement;return e=e.clientWidth?e:t,e.scrollLeft}}attachEvent(t,e){window.addEventListener(t,e,!1),this.scrollContainer&&this.scrollContainer.addEventListener(t,e,!1)}initScrollPerformanceTrackers(t){const{endOfFeedTimeTracker:e,appResponsivenessTracker:n,scrollInputTracker:i}=t;e&&(this.scrollPerformanceTrackers.endOfFeedTimeTracker=e),n&&(this.scrollPerformanceTrackers.appResponsivenessTracker=n),i&&(this.scrollPerformanceTrackers.scrollInputTracker=i,i.start())}}function c(t){return t&&(t.type===i.NS.Scroll||"telemetryscroll"===t.type)}var u=n(24358);let l,d=new Promise((t=>l=t));const f=new Map;function h(){f.clear()}const p=t=>Math.floor(101*Math.random())<=t;let m,g=new Promise((t=>m=t)),v=0;var w,y=n(1092),b=n(54394);class S{static start(){this.startTime=Date.now(),this.isPause=!1,this.isPauseV2=!1,this.started=!0}static pause(){this.started&&!this.isPause&&(this.isPause=!0,this.dwellTimeElapse+=Date.now()-this.startTime)}static pauseV2(){this.started&&!this.isPauseV2&&(this.isPauseV2=!0,this.dwellTimeElapseV2+=Date.now()-this.startTime)}static getDwellTime(){if(this.isPause){return this.dwellTimeElapse}if(0!==this.startTime&&this.started){return this.dwellTimeElapse+(Date.now()-this.startTime)}return 0}static getDwellTimeV2(){if(this.isPauseV2){return this.dwellTimeElapseV2}if(0!==this.startTime&&this.started){return this.dwellTimeElapseV2+(Date.now()-this.startTime)}return 0}static setDwellTime(t,e){this.startTime=t,this.dwellTimeElapse=e}static setDwellTimeV2(t,e){this.startTime=t,this.dwellTimeElapseV2=e}static reset(){this.dwellTimeElapse=0,this.dwellTimeElapseV2=0,this.startTime=0,this.isPause=!1,this.isPauseV2=!1,this.started=!1}static getIsActive(){return this.started&&!this.isPause}}(w=S).started=!1,w.startTime=0,w.dwellTimeElapse=0,w.dwellTimeElapseV2=0,w.isPause=!1,w.isPauseV2=!1;const x=`[${i.qP}]`,C=t=>(0,s.t0)("telemetrynodeadded",t);class k{constructor(){this.mutationObserver=new MutationObserver(this.mutationCallback.bind(this)),this.processMutatedNode=this.processMutatedNode.bind(this),document.documentElement&&this.processAddedSubtreeAndDispatchEvent(document.documentElement);const t=HTMLElement.prototype.attachShadow;if(t){const e=this;HTMLElement.prototype.attachShadow=function(n){const i=t.call(this,n);return this.shadowRoot&&e.observe(this.shadowRoot),i}}}observe(t){t!==window&&this.mutationObserver.observe(t,{attributes:!0,childList:!0,characterData:!1,subtree:!0,attributeFilter:[i.qP]})}unobserve(t){}mutationCallback(t){setTimeout((()=>this.processMutationRecord(t)),10)}processMutationRecord(t){for(const e of t){const{addedNodes:t}=e;null!=t&&t.length?t.forEach(this.processMutatedNode):"attributes"===e.type&&this.processMutatedNode(e.target)}}processMutatedNode(t){((0,s.He)(t)||1===t.nodeType&&"SCRIPT"!==t.tagName)&&this.processAddedSubtreeAndDispatchEvent(t)}processAddedSubtreeAndDispatchEvent(t){(0,s.jT)(t)&&C(t),function(t){var e;null===(e=t.shadowRoot)||void 0===e||e.querySelectorAll(x).forEach(C),t.querySelectorAll(x).forEach(C)}(t)}}var T=n(16243),$=n(78058);var A=n(46728);class I{get requestId(){return this.requestIdInternal}get combinedContract(){this.eventIndexInternal=this.eventIndexInternal+1,this.tmplString=this.generateStringFromKeyValueObject(this.tmplProps);const t=this.joinIdProps&&Object.keys(this.joinIdProps).length>0?JSON.stringify(this.joinIdProps):void 0,e=Object.keys(this.customProps).length>0?JSON.stringify(this.customProps):void 0;this.customString=e;try{const t=window;void 0!==t&&t.navigator&&void 0!==typeof t.navigator.globalPrivacyControl&&(this.globalPrivacyControl=t.navigator.globalPrivacyControl)}catch{}const n={page:{...this.contract.page,url:(0,s.Mm)((0,s.XW)(this.contract.page.url,this.contract.page.ocid),this.qspToScrubbed),referral:(0,s.Mm)(this.contract.page.referral||s.kP&&document.referrer,this.qspToScrubbed),content:this.contract.page.content?{...this.contract.page.content}:void 0,dwellTime:S.getDwellTime(),dwellTimeV2:this.getDwellTimeV2(),viewType:this.contract.page.viewType||this.viewTypeCallback&&this.viewTypeCallback()},browser:{...this.contract.browser,width:(0,s.wi)(),height:(0,s.P6)(),screenSize:s.kP?[screen.width,screen.height].join("x"):"0x0",clientId:(0,s.i2)(this.activityIdInternal),scrollOffset:"function"==typeof this.overrideScrollOffset&&this.overrideScrollOffset()||(0,s.qC)(),anoncknm:this.anonCookieName||"app_anon",cookieEnabled:s.kP&&navigator.cookieEnabled,globalPrivacyControl:this.globalPrivacyControl,hiddenOnce:this.browserHiddenOnce,muid:(0,s.FL)()||void 0,cookies:(0,s.tV)(this.cookiesToCollect)||void 0},flight:{...this.contract.flight,tmpl:this.tmplString},integration:{...this.contract.integration,joinIds:t},request:{activityId:this.activityIdInternal,requestId:this.requestIdInternal,afdMuid:this.afdMuidInternal,pageGenTime:this.pageGenTime,tier:this.tier},timestamp:+Date.now(),eventIndex:this.eventIndexInternal,sdk:{name:"peregrine",ver:"1.0.21",schemaVer:"1.0.21"},user:this.contract.user,locale:this.contract.locale,feed:this.contract.feed,gallery:this.contract.gallery,custom:this.customString,build:this.buildNumber,ext:this.contract.ext},i=(0,s.F$)();return i&&(n.browser.isWin11=i),this.isPvEvent&&(n.debug=this.contract.debug),n}constructor(t,e,n,i,r,o,a,c,u,l,d){this.eventIndexInternal=0,this.cookiesToCollect=["TOptOut","OptanonConsent","eupubconsent-v2","wid","app_wid"],this.qspToScrubbed=["anid","email","login_hint","q","referer","tid","upn","user","username"],this.isPvEvent=!1,this.shouldResetClientId=!0,this.shouldResetClientId=void 0===l||l,this.contract=t,this.updateActivityId(e),this.anonCookieName=n,this.enableDwelltimeV2=c,this.buildNumber=i||"",this.afdMuidInternal=a,this.customProps={},this.tmplProps={},this.joinIdProps={},this.eventIndexInternal=0,this.browserHiddenOnce=!1,this.overrideScrollOffset=r,this.viewTypeCallback=o,this.pageGenTime=u,this.tier=d,s.kP&&document.addEventListener("visibilitychange",this.browserVisibilityCallback.bind(this))}static mergeContract(t,e){if(!t||!e)return t||e;const n=Object.keys(e),i={...t};for(let t=0;t<n.length;t++){const r=n[t];i[r]={...i[r],...e[r]}}return t.page&&t.page.content&&e.page&&e.page.content&&(i.page.content={...t.page.content,...e.page.content}),t.user&&e.user&&(i.user={...t.user,...e.user}),t.ext&&e.ext&&(i.ext=(0,A.Z)(t.ext,e.ext)),i}update(t){t&&(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.contract=I.mergeContract(this.contract,t):this.updatedContract=I.mergeContract(this.updatedContract,t))}updateActivityId(t){this.activityIdInternal=t;const e=this.contract&&this.contract.page&&this.contract.page.isStatic&&"true"===this.contract.page.isStatic.toString().toLowerCase()?(0,s.pW)():t;this.updateRequestId(e)}getEventIndexInternal(){return this.eventIndexInternal}updateRequestId(t,e){this.eventIndexInternal=e||0,this.shouldResetClientId&&(0,s.Fh)(),this.requestIdInternal=t||(0,s.pW)()}updateAfdMuid(t){this.afdMuidInternal=t||""}updateContract(){this.contract=I.mergeContract(this.contract,this.updatedContract),delete this.updatedContract}addOrUpdateCustomProperty(t,e){this.customProps[t]=e}removeCustomProperty(t){t&&delete this.customProps[t]}addOrUpdateTmplProperty(t,e){this.tmplProps[t]=e}removeTmplProperty(t){delete this.tmplProps[t]}addOrUpdateJoinIdProperty(t,e){this.joinIdProps[t]=e}getJoinId(t){return this.joinIdProps[t]}updatePageConfiguration(t){this.update({page:{config:t}})}get JoinIdProps(){return this.joinIdProps}browserVisibilityCallback(){(document.hidden||"hidden"===document.visibilityState)&&(this.browserHiddenOnce=!0)}IsPvEvent(t){this.isPvEvent=t}generateStringFromKeyValueObject(t){const e=[];return t&&Object.keys(t).forEach((n=>{t[n]?e.push(n+":"+t[n]):e.push(n)})),e.length>0?e.join(";"):void 0}getDwellTimeV2(){if(this.enableDwelltimeV2)return S.getDwellTimeV2()}}var P=n(63165),_=n(3232),M=n(14590);class R{get disable(){return this.config.disable}set disable(t){this.config.disable=t}applyAnidOverride(t){/^A=[0-9A-F]+FFFFFFF$/i.test(t)?this.config.anidOverride=t:window.console.error(`Invalid ANID format: ${t}`)}constructor(t){this.config=t}}var E=n(52359),F=n(13578);class D extends R{constructor(t){super(t),this.transporterReady=!1,setTimeout((()=>{this.collectorChannelPlugin=new _.Z,this.appInsightsCore=new P.Z;const e=new M.Z,n={populateBrowserInfo:!1,populateOperatingSystemInfo:!1,enableApplicationInsightsTrace:!1,enableDistributedTracing:!0,enableApplicationInsightsUser:!1,sessionRenewalMs:18e5,sessionExpirationMs:18e5,userConsentCookieName:"OptanonAlertBoxClosed"},i={instrumentationKey:t.key,channels:[[this.collectorChannelPlugin]],extensionConfig:[e],disablePageUnloadEvents:["visibilitychange"]},r=[];if(s.kP||(i.extensionConfig[this.collectorChannelPlugin.identifier]={httpXHROverride:{sendPOST:(e,n,i)=>{delete e.headers["cache-control"],delete e.headers["content-type"];const r={method:"POST",credentials:"include",body:e.data,headers:e.headers};e.data.length>64e3?this.sendRequest(t,e.urlString,r).then((t=>{n(t.status)})).catch((t=>{n(0,{})})):(this.sendRequest(t,e.urlString,{...r,keepalive:!0}).then((t=>{})).catch((t=>{})),n(200,{}))}}}),t.addNoResponse){const t={addNoResponse:!1};i.extensionConfig[this.collectorChannelPlugin.identifier]=t}if(s.kP&&(i.extensionConfig[e.identifier]=n,r.push(e)),t&&t.anonCookieName&&(i.anonCookieName=t.anonCookieName),null!=t&&t.ignoreClientAnidCookies&&(i.cookieCfg={ignoreCookies:["ANON"]}),t.endpoint&&(i.endpointUrl=t.endpoint),this.appInsightsCore.initialize(i,r),t&&t.enableTraceGenerator)try{E.U.getTraceInstance().setTraceObj(this.appInsightsCore)}catch{}this.transporterReady=!0}),100)}sendRequest(t,e,n){return t.abortableFetch?t.abortableFetch(e,t.timeout??1e3,n,void 0,void 0,void 0,!0):fetch(e,n)}transport(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!t||(0,F.Z)(t)||this.config.disable||(this.transporterReady&&this.appInsightsCore&&this.appInsightsCore.isInitialized&&this.appInsightsCore.isInitialized()&&this.collectorChannelPlugin&&this.collectorChannelPlugin.isInitialized&&this.collectorChannelPlugin.isInitialized()?this.appInsightsCore.track(t):n<50&&setTimeout((()=>this.transport(t,e,n+1)),200))}applyAnidOverride(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t||!/^A=[0-9A-F]+FFFFFFF$/i.test(t))return void window.console.error(`Invalid ANID format: ${t}`);if(!(this.transporterReady&&this.appInsightsCore&&this.appInsightsCore.isInitialized&&this.appInsightsCore.isInitialized()&&this.collectorChannelPlugin&&this.collectorChannelPlugin.isInitialized&&this.collectorChannelPlugin.isInitialized()))return void(e<50?setTimeout((()=>this.applyAnidOverride(t,e+1)),200):window.console.error("applyAnidOverride: Max retries reached. Required components not initialized."));this.appInsightsCore.addTelemetryInitializer((e=>{e.ext=e.ext||{},e.ext.intweb=e.ext.intweb||{},e.ext.intweb.anid=t}))}}class O extends R{constructor(t){super(t)}transport(t){if(!t||!this.config.endpoint||this.config.disable)return;const e=this.generateUrl(this.config.endpoint+"?",t);this.generatePixelBeacon(e)}generatePixelBeacon(t){(new Image).src=t.replace(/&amp;/gi,"&")}generateUrl(t,e){const n=[];let i=t;return Object.keys(e).forEach((t=>{let i=e[t];"object"==typeof i&&i&&(i=JSON.stringify(i)),n.push(this.encodeURIComponent(t)+"="+this.encodeURIComponent(i))})),i=t+n.join("&").replace(/%20/g,"+"),i}encodeURIComponent(t){return null!=t&&encodeURIComponent(t)||""}}class N extends R{constructor(t){var e,n,i;super(t),this.logEventAsync=null==t||null===(e=t.callbackData)||void 0===e?void 0:e.callback,this.sapphireId=null==t||null===(n=t.callbackData)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.sapphireId,this.productId=null==t||null===(i=t.callbackData)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.productId}transport(t){if(!t||this.config.disable)return;let e;try{e=this.flattenObj(t),e.isCoreView=!0,e.platform="app",this.sapphireId&&(e["browser.muid"]=this.sapphireId),e["page.product"]=this.productId||"SuperAppHP",e["page.ocid"]="superappdhp",e["page.canvas"]="App",e["flight.tmpl"]=this.appendString(e["flight.tmpl"],";","sa-is-web:1")}catch(t){return void window.console.error("Error occured while flatterning telemetry payload :",t)}t.name&&this.logEventAsync({type:t.eventType,name:t.name,app_id:"0067acd6d05f4168b92f510d33b9ed74",data:{oneds:e}})}flattenObj(t){const e={},n=(t,i)=>{Object.keys(t).forEach((r=>{let o="";o=""===i?`${r}`:`${i}.${r}`,"object"==typeof t[r]&&t[r]?n(t[r],o):e[this.formatKey(o)]=t[r]}))};return n(t,""),e}formatKey(t){return t?"eventType"===t?"type":t.startsWith("data.")?t.substring(5,t.length):t:t}appendString(t,e,n){return(t?t+e:"")+n}}class U extends R{constructor(t){var e,n,i;super(t),this.logEventAsync=null==t||null===(e=t.callbackData)||void 0===e?void 0:e.callback,this.sapphireId=null==t||null===(n=t.callbackData)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.sapphireId,this.productId=null==t||null===(i=t.callbackData)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.productId}transport(t){if(!t||this.config.disable)return;let e;try{e=this.flattenObj(t),e.isCoreView=!0,e.platform="app",this.sapphireId&&(e["browser.muid"]=this.sapphireId),e["page.product"]=this.productId||"SuperAppHP",e["page.ocid"]="superappdhp",e["page.canvas"]="App"}catch(t){return void window.console.error("Error occured while flatterning telemetry payload :",t)}if(t.name){const n=this.transformPayload(e);this.logEventAsync({type:t.eventType,name:t.name,app_id:"0067acd6d05f4168b92f510d33b9ed74",data:{...n}})}}flattenObj(t){const e={},n=(t,i)=>{Object.keys(t).forEach((r=>{let o="";o=""===i?`${r}`:`${i}.${r}`,"object"==typeof t[r]&&t[r]?n(t[r],o):e[this.formatKey(o)]=t[r]}))};return n(t,""),e}formatKey(t){return t?"eventType"===t?"type":t.startsWith("data.")?t.substring(5,t.length):t:t}transformPayload(t){const e={"app.custom.content.targetContentType":"targetContentType","client.hScrollOffset":"hScrollOffset","client.scrollOffset":"scrollOffset",contentViewType:"contentViewType","page.name":"pageName","page.pageId":"pageId","page.type":"pageType","locale.mkt":"localeMkt","extSchema.pb.build":"extSchemaBuild","request.requestId":"requestId",actionType:"actionType","object.content.id":"contentId","object.name":"objectName","object.type":"objectType","object.content.type":"objectContentType","object.placement.lineage":"objectPlacementLineage","object.content.category":"objectContentCategory",object:"batchObjects"},n={};return Object.keys(e).forEach((i=>{t[i]&&(n[e[i]]=t[i])})),n}}var L=n(71903);class B extends R{constructor(t){super(t)}transport(t){t&&!this.config.disable&&this.config.callback(t)}}var W=n(40373),H=n(39399),z=n(65004),V=n(7191);class j extends H.k{createEvent(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{name:this.getSuperAppOneDSEventName(y.id[t]),eventType:this.getSuperAppOneDSEventType(y.id[t]),data:e,baseType:y.id.Base,latency:n,sync:i}}createContentViewPayload(t,e,n){if(!e)return;const r=[];t.forEach((t=>{r.push(this.mapTelemetryObject(t))}));let o;(0,s.d5)()&&(o={content:{docHeight:(0,s.d5)()}});let a=null;try{a=JSON.stringify(r)}catch(t){a=r}const c={...e,...o,object:a,contentViewType:n.contentViewType};if(n.contentViewType===i.NS.Scroll&&(c.isMeaningfulScroll=n.isMeaningfulScroll),!(0,F.Z)(r)){return this.createEvent("ContentView",c,z.zU.RealTime)}}reConstructLiteTelemetryPayload(t){const e=this.getSuperAppOneDSEventName(t.name),n=this.getSuperAppOneDSEventType(t.name);return Object.assign(t,{name:e,eventType:n,data:{...t.data,name:e,object:{...t.data.object,ext:t.ext}}}),t}mapTelemetryObject(t){let e;const n=t&&t.content&&t.content.type;(n||t.behavior)&&(e=(0,V.Y)(n,t.behavior));const i={...t};return delete i.action,delete i.behavior,delete i.overrideId,i}getSuperAppOneDSEventType(t){switch(t){case y.id.PageView:return"Microsoft.Windows.MsnApps.PageView";case y.id.UserAction:return"Microsoft.Windows.MsnApps.PageAction";case y.id.AppError:return"Microsoft.Windows.MsnApps.Failure";case y.id.AppPerfTrace:return"Microsoft.Windows.MsnApps.ClientPerf";case y.id.ContentView:return"Microsoft.Windows.MsnApps.ContentView";case y.id.LoadTime:case y.id.Unload:return"Microsoft.Windows.MsnApps.AppLifeCycle";case y.id.VideoPlay:return"Microsoft.Windows.MsnApps.VideoPlay";case y.id.TraceInfo:return"Microsoft.Windows.MsnApps.TraceInfo";case y.id.ClientLog:return"Microsoft.Windows.MsnApps.ClientLog";default:return null}}getSuperAppOneDSEventName(t){switch(t){case y.id.PageView:return"PAGE_VIEW_HP_WEBVIEW";case y.id.UserAction:return"PAGE_ACTION_HP_WEBVIEW_CLICK";case y.id.AppError:return"HP_WEBVIEW_APP_ERROR";case y.id.AdFeedback:return"PAGE_ACTION_HP_WEBVIEW_AD_FEEDBACK";case y.id.AdImpression:return"HP_WEBVIEW_AD_IMPRESSION";case y.id.AppPerfTrace:return"HP_WEBVIEW_APP_PERF_TRACE";case y.id.Base:return"PAGE_VIEW_HP_WEBVIEW_BASE";case y.id.ContentView:return"CONTENT_VIEW_HP_WEBVIEW";case y.id.Feedback:return"PAGE_ACTION_HP_WEBVIEW_FEEDBACK";case y.id.LoadTime:return"HP_WEBVIEW_LOAD_TIME";case y.id.ServerLog:return"HP_WEBVIEW_SERVER_LOG";case y.id.Unload:return"HP_WEBVIEW_UNLOAD";case y.id.VideoAdPlay:return"CONTENT_VIEW_HP_WEBVIEW_VIDEO_AD";case y.id.VideoPlay:return"CONTENT_VIEW_HP_WEBVIEW_VIDEO";case y.id.TraceInfo:return"DIAGNOSTIC_HP_WEBVIEW_TRACEINFO";case y.id.ClientLog:return"DIAGNOSTIC_HP_WEBVIEW_CLIENTLOG";default:return t}}}class q{static getTrackingSystem(t,e){switch(t.type){case r.G.OneDS:return{transporter:new D(t.transporterConfig),mapper:new H.k(t.transporterConfig.enableEventsBatching),type:t.type};case r.G.CTag:return{transporter:new O(t.transporterConfig),mapper:new L.P,type:t.type};case r.G.Comscore:return{transporter:new O(t.transporterConfig),mapper:new W.O,type:t.type};case r.G.Debug:case r.G.Automation:return{transporter:new B(t.transporterConfig),mapper:t.mapper,type:t.type};case r.G.SuperApp:return{transporter:new N(t.transporterConfig),mapper:new j,type:t.type};case r.G.SuperAppBridge:return{transporter:new U(t.transporterConfig),mapper:new j,type:t.type};default:return{transporter:new D(t.transporterConfig),mapper:new H.k,type:t.type}}}}class G{constructor(){this.trackingSystems=[]}add(t){this.trackingSystems.push(t)}sendPageViewEvent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.G.All;this.trackingSystems.forEach((n=>{if((e===r.G.All||e===n.type)&&n.mapper.createPageViewPayload){const e=n.mapper.createPageViewPayload(t);n.transporter.transport(e)}}))}fireCTagTrackingPixel(t){this.trackingSystems.forEach((e=>{if(e.type===r.G.CTag&&e.mapper.createPageViewPayload){const n=e.mapper.createPageViewPayload(t);e.transporter.transport(n)}}))}sendContentViewEvent(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{contentViewType:i.NS.Partial};this.trackingSystems.forEach((i=>{if(i.mapper.createContentViewPayload){const r=i.mapper.createContentViewPayload(t,e,n);i.transporter.transport(r)}}))}sendActionEvent(t,e,n,i){this.trackingSystems.forEach((r=>{if(r.mapper.createActionPayload){const o=r.mapper.createActionPayload(t,e,n,i);r.transporter.transport(o)}}))}sendEventPayload(t,e,n){this.trackingSystems.forEach((i=>{if(i.mapper.createEventPayload){const r=i.mapper.createEventPayload(t,e,n);i.transporter.transport(r)}}))}sendSSREventPayload(t){this.trackingSystems.forEach((e=>{if(e.mapper.reConstructLiteTelemetryPayload){const n=e.mapper.reConstructLiteTelemetryPayload(t);e.transporter.transport(n)}}))}sendCustomEvent(t,e,n){this.trackingSystems.forEach((i=>{if(i.mapper.createCustomEventPayload){const r=i.mapper.createCustomEventPayload(t,e,n);i.transporter.transport(r)}}))}disable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.G.All;this.trackingSystems.forEach((e=>{t!==r.G.All&&t!==e.type||(e.transporter.disable=!0)}))}enable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.G.All;this.trackingSystems.forEach((e=>{t!==r.G.All&&t!==e.type||(e.transporter.disable=!1)}))}applyAnidOverride(t){this.trackingSystems.forEach((e=>{e.type===r.G.OneDS&&e.transporter.applyAnidOverride(t)}))}}var J=n(44132);const K=[3e3,5e3,8e3,15e3,2e4,3e4];class Q{constructor(){this.currentIndex=0}async start(){this.timeHandler||(this.timeHandler=window.setInterval((()=>{if(this.currentIndex>=K.length)return void window.clearInterval(this.timeHandler);const t=J.M0.getDwellTime(),e=K[this.currentIndex];t<e||(J.M0.sendHeartBeatEvent({type:"SATCI",metrics:{SATCI:e}}),this.currentIndex++)}),200))}}function X(){let t;return new Promise((e=>{var n;const i=null===(n=J.M0.config)||void 0===n?void 0:n.startDwellOnPageVisible;t=()=>{const t=i&&"visible"===document.visibilityState||document.hasFocus();return t&&e(),t},t()||(document.addEventListener("visibilitychange",t),window.addEventListener("focus",t))})).finally((()=>{t&&(document.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t))}))}s.kP&&function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}}();class Y{constructor(t){this.internalErrors=[],this.eventQueue=[],this.contentUpdateQueue=new Set,this.partialContentUpdateQueue=new Set,this.contentViewTriggerSource=i.NS.Load,this.contentViewTimeout=1e3,this.contentViewTimer=null,this.contentViewDelay=200,this.scheduledContentViewType=null,this.contentViewTimePassed=0,this.contentViewLastExecution=0,this.contentUpdateDebugQueue=new Set,this.intersectionObserverOptions={root:null,rootMargin:"0px",threshold:0},this.traceIdIndex=-1,this.maxScrollLoadTimeEvents=10,this.contentViewBeaconSent=!1,this.pageViewBeaconSent=!1,this.offsetCalculationCallback=null,this.vpOffsetFlagIsValidCallback=null,this.yieldElementsCount=20,this.hoverTimes=new Map,this.onFocusCallback=()=>{this._useVisForDwell||this.contentLoaded&&this.toggleDwellTime(!0)},this.onBlurCallback=()=>{this._useVisForDwell||(this.sendPageOutOfFocusEvent({}),this.toggleDwellTime(!1))},this.toggleDwellTime=t=>{if(this.config.disableAutoCalculateDwellTime)return;let e;t?(S.start(),e="dwellTimeFocusStart"):(S.pause(),e="dwellTimePause"),this.pageMetadata.addOrUpdateTmplProperty(e,"true")},this.visibilityChangeCallback=()=>{if(!this._useVisForDwell)return;const t="visible"===document.visibilityState;this.toggleDwellTime(t)},this.batchSendScrollLoadTimeEvent=t=>{let{scrollInputType:e,scrollDuration:n,endOfFeedTime:i,potentialMissedScrollInput:r,calculateAri:o,scrollInstanceData:s}=t;if(this.scrollLoadTimeEventsBatcher)this.scrollLoadTimeEventsBatcher.defer();else{const t=t=>{let e,n,i,r,o=0;if(t.forEach((t=>{null!=t.eoft&&(e=(e||0)+t.eoft),null!=t.ari&&t.duration&&(n=(n||0)+t.ari*t.duration),t.duration&&(o+=t.duration),t.inputType&&(i||(i={}),i[t.inputType]=(i[t.inputType]||0)+1),!r&&t.potentialMissedScrollInput&&(r=t.potentialMissedScrollInput)})),o<=0||null==e&&null==n)return;const a={scrollDuration:Math.round(o)};i&&(a.scrollInputs=i),r&&(a.potentialMissedScrollInput=r),null!=e&&(a.scrollEoft=Math.round(e/o*1e4)),null!=n&&(a.scrollAri=Math.round(n/o*1e4)),s&&s.length&&(a.scrollInstanceData=[...s],s.length=0),this.sendLoadTimeEvent({markers:a})};this.scrollLoadTimeEventsBatcher=function(t,e){const{autoFlushIntervalInMs:n,maxFlushes:i}={...e};let r,o=[],s=0;const a=()=>{(null==i||s<i)&&(s++,o.length&&(t(o),o=[]))},c=()=>{n&&(r&&clearTimeout(r),r=setTimeout(a,n))};return{enqueue:t=>{o.push(t),c()},flush:a,defer:c}}(t,{maxFlushes:this.maxScrollLoadTimeEvents}),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this.scrollLoadTimeEventsBatcher.flush()})),window.addEventListener("beforeunload",(()=>this.scrollLoadTimeEventsBatcher.flush())),this.subscribeToAppHidden&&this.subscribeToAppHidden((()=>this.scrollLoadTimeEventsBatcher.flush()))}const a=o&&o();this.scrollLoadTimeEventsBatcher.enqueue({eoft:i,ari:a,duration:n,inputType:e,potentialMissedScrollInput:r})};try{this.config=t,this.config.autoCaptureContentView=void 0===t.autoCaptureContentView||t.autoCaptureContentView,this.config.beacons=t.beacons||{},this.config.beacons.PageOutOfFocus=this.config.beacons.PageOutOfFocus||{},this.config.beacons.PageOutOfFocus.disable=void 0===this.config.beacons.PageOutOfFocus.disable||this.config.beacons.PageOutOfFocus.disable,s.kP&&(this.config.disableLayoutEventManager||(this.layoutEventManager=new k,this.layoutEventManager.observe(document.documentElement)),this.clickEventManager=new b.vU,t.hydrationPromise&&t.hydrationPromise instanceof Promise?this.config.hydrationPromise.then((()=>{this.clickEventManager.observe(window,this.config.disableContextMenu)})):this.clickEventManager.observe(window,this.config.disableContextMenu),t.enableAutoHeartbeats&&!this.hbScheduler&&(this.hbScheduler=function(){const t=new Q;return Promise.allSettled([X(),new Promise((t=>window.setTimeout(t,2e3)))]).then((()=>{t.start()})),t}()),window.addEventListener("beforeunload",this.unloadEventCallback.bind(this)),window.addEventListener("telemetrynodeadded",(t=>{t&&t.detail&&t.detail.element&&this.viewportIntersectionObserver&&(T.u.addElement(t.detail.element),this.viewportIntersectionObserver.observe(t.detail.element))})),window.addEventListener("telemetrynodremoved",(t=>{t&&t.detail&&t.detail.element&&this.viewportIntersectionObserver&&this.viewportIntersectionObserver.unobserve(t.detail.element)})),window.addEventListener("telemetryclick",this.clickEventHandler.bind(this)),window.addEventListener("focus",this.onFocusCallback),window.addEventListener("blur",this.onBlurCallback),document.addEventListener("visibilitychange",this.visibilityChangeCallback)),this.trackingSystemList=new G,t.clientLogMaxCount=t.clientLogMaxCount||10,t.trackingSystems.forEach((e=>{e.transporterConfig.abortableFetch=t.abortableFetch,e.transporterConfig.anonCookieName=t.anonCookieName,e.transporterConfig.addNoResponse=t.addNoResponse,e.transporterConfig.ignoreClientAnidCookies=t.ignoreClientAnidCookies,e.transporterConfig.enableTraceGenerator=t.enableTraceGenerator,e.transporterConfig.enableEventsBatching=t.enableEventsBatching,e.transporterConfig.timeout=t.timeout,this.trackingSystemList.add(q.getTrackingSystem(e))}))}catch(t){this.internalErrors.push({message:"Error in Telemetry Lib constructor.",error:t})}}getTrackingSystemList(){return this.trackingSystemList}setContentViewTimeout(t){this.contentViewTimeout=t}resetContentViewTimeout(){this.contentViewTimeout=y.S8}renderTelemetryAttribute(t,e,n){return new $.D(t).render(e)}observeSingleElement(t){}observeElementTree(t){}observeShadowRoot(t){var e;null===(e=this.layoutEventManager)||void 0===e||e.observe(t)}setOffsetCalculationCallback(t){this.offsetCalculationCallback=t}setVPOffsetFlagIsValidCallback(t){this.vpOffsetFlagIsValidCallback=t}initPage(t,e,i,r,o,c){if(this.pageMetadata=new I(t,e,this.config.anonCookieName,i,this.config.overrideScrollOffset,this.config.viewTypeCallback,r,this.config.enableDwelltimeV2,o,this.config.shouldResetClientId,c),s.kP){if("IntersectionObserver"in n.g){const t=this.config.cvIntersectionObserverDelay?{...this.intersectionObserverOptions,delay:this.config.cvIntersectionObserverDelay}:this.intersectionObserverOptions;this.viewportIntersectionObserver=new IntersectionObserver(this.contentVisibilityCallback.bind(this),t),this.contentVisibilityCallbackPromise=(0,s.xI)()}this.runContentVisibilityCallbacksPromise=this.config.deferContentViewIntersectionCallbacks?(0,s.xI)():(0,s.xI)(!0),this.viewportEventManager=new a(((t,e,n)=>{this.config.autoCaptureContentView&&(this.autoSendContentViewEvent({contentViewType:t,isMeaningfulScroll:e}),n&&(null!=n.endOfFeedTime||n.calculateAri)&&this.batchSendScrollLoadTimeEvent(n))}),this.config.overrideScrollOffset),window.addEventListener("telemetryviewportupdated",(t=>{t&&t.detail&&t.detail.mech&&(this.contentViewTriggerSource=t.detail.mech)})),this.viewportEventManager.initListener()}}sendPageView(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.G.All,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.queueEvent("PageView",(()=>{this.config.beacons&&this.config.beacons.PageView&&this.config.beacons.PageView.disable||!this.pageMetadata||(this.config.resetAppErrorCounterOnPageView&&h(),t=t||{},(0,s.lB)(t),this.contentLoaded=!1,this.config.disableAutoCalculateDwellTime||S.reset(),this.pageMetadata.update(t),n?this.pageMetadata.updateActivityId(n):e||this.updateRequestId(),this.pageMetadata.updateContract(),this.viewportEventManager.resetViewportOffset(),this.updatePageMetadata({page:{isMonetized:!1}},!0),this.pageMetadata.IsPvEvent(!0),this.trackingSystemList.sendPageViewEvent(this.pageMetadata.combinedContract,o),this.pageMetadata.IsPvEvent(!1),this.pageViewBeaconSent=!0,!a||o!==r.G.All&&o!==r.G.Comscore||fetch(y.EE),e||(this.contentViewTriggerSource=i.NS.Load,setTimeout((()=>{this.autoSendContentViewEvent({contentViewType:i.NS.Load})}),1e3)),this.dispatchEvent(i.tM,{requestId:this.pageMetadata.requestId}))}))}fireCTagPixelBeacon(){this.trackingSystemList.fireCTagTrackingPixel(this.pageMetadata.combinedContract)}getRequestId(){return this.pageMetadata.requestId}getCurrentEventIndex(){return this.pageMetadata.getEventIndexInternal()}updateRequestId(t,e){this.pageMetadata.updateRequestId(t,e)}disableTrackingSystem(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.G.All;this.trackingSystemList.disable(t)}enableTrackingSystem(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.G.All;this.trackingSystemList.enable(t)}disableBeacon(t){this.config.beacons[t]||(this.config.beacons[t]={}),this.config.beacons[t].disable=!0}enableBeacon(t){this.config.beacons[t]||(this.config.beacons[t]={}),this.config.beacons[t].disable=!1}disableAutoUnloadCallback(){this.ignoreAutoUnloadCallback=!0}enableAutoUnloadCallback(){this.ignoreAutoUnloadCallback=!1}updatePageConfiguration(){let t;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach((e=>{t|=e})),this.pageMetadata.updatePageConfiguration(t)}updatePageMetadata(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&this.pageMetadata.update(t,e)}addOrUpdateCustomProperty(t,e){this.pageMetadata.addOrUpdateCustomProperty(t,e)}removeCustomProperty(t){this.pageMetadata.removeCustomProperty(t)}addOrUpdateJoinIdProperty(t,e){this.pageMetadata.addOrUpdateJoinIdProperty(t,e)}addOrUpdateTmplProperty(t,e){this.pageMetadata.addOrUpdateTmplProperty(t,e)}removeTmplProperty(t){this.pageMetadata.removeTmplProperty(t)}addOrUpdateTmplString(t){if(!t)return;const e=t.split(";");for(let t=0;t<e.length;t++){const n=e[t].split(":");2===n.length?this.addOrUpdateTmplProperty(n[0],n[1]):1===n.length&&this.addOrUpdateTmplProperty(n[0])}}removeTmplString(t){if(!t)return;const e=t.split(";");for(let t=0;t<e.length;t++){const n=e[t].split(":");n&&n.length&&this.pageMetadata.removeTmplProperty(n[0])}}useVisForDwell(t){if(this._useVisForDwell===t)return;t&&this.pageMetadata.addOrUpdateTmplProperty("useVisForDwell","1"),this._useVisForDwell=t;const e=this.isDwellTimeActive();t&&!e&&"visible"===document.visibilityState?this.toggleDwellTime(!0):t||!e||document.hasFocus()||this.toggleDwellTime(!1)}addOrUpdateIdxId(t,e){if(t){e&&(delete this.pageMetadata.JoinIdProps[i.ob],this.traceIdIndex=-1);const n=this.pageMetadata.getJoinId(i.ob),r=n?`${n},${t}`:t;return this.pageMetadata.addOrUpdateJoinIdProperty(i.ob,r),this.traceIdIndex+=1,this.traceIdIndex}}sendActionEvent(t,e,n,r,a){let c=null;const{enableMouseDwellTime:u,mouseDwellCardTypePrefixs:l=[],enableVPOffsetOnClick:d,cardsForVPOffset:f}=this.config;u&&l.some((e=>t.tagName.startsWith(e)))&&(c=(0,s.k3)(t,!0),"mouseenter"===e)?this.hoverTimes.set(c,Date.now()):this.queueEvent("UserAction",(()=>{if(!(this.config.beacons&&this.config.beacons.UserAction&&this.config.beacons.UserAction.disable)&&this.pageMetadata&&t){const h=t;T.u.updateLayout();const p=this.clickEventManager.getTelemetryClickTarget(t);let m;p&&(t=p),m=t.getAttribute&&t.getAttribute(i.qP),t.parentElement&&!m&&(m=(t=t.parentElement).getAttribute&&t.getAttribute(i.qP));let g=T.u.get(t);if(!g){const t=T.u.parseAttribute(m);t&&(g=new T.u(t))}if(this.pageMetadata&&g){a&&((0,s.Vr)(h,this.pageMetadata.contract.page.ocid),(0,s.Zf)(h,this.pageMetadata.contract.page.partnerTrackingCode),(0,s.uK)(h,this.pageMetadata.requestId),(0,s.E1)(h,this.pageMetadata.contract.page.uxMode),(0,s.wC)(h,this.pageMetadata.getEventIndexInternal()+1)),this.config.destinationUrlHash&&(0,s.t_)(h,this.config.destinationUrlHash);const i=t.getAttribute("action")||t.form&&t.form.getAttribute("action"),p=e||g.contract.action,m=void 0===n?g.contract.behavior:n;let v=g.contract.overrideDestinationUrl||(0,s.jv)(r)&&r||t.getAttribute("href")||i;if(this.config.customProtocolOverride&&((0,s.zo)(h,this.config.customProtocolOverride,v),t.hasAttribute("originalhref")&&(v=t.getAttribute("originalhref"))),v&&!v.startsWith("mailto:")?!0===g.contract.overrideEmailIdScrubbing||(0,s.uj)(v)?g.contract.destinationUrl=v:(g.contract.destinationUrl="",this.sendAppErrorEvent({id:54301,severity:0,message:"Email found in the destination url",pb:g.combinedContract})):g.contract.destinationUrl="",p===o.Aw.RightClick&&m===o.wu.ContextMenu&&!(g&&g.contract&&g.contract.destinationUrl))return;if(u&&"mouseleave"===e&&l.some((t=>h.tagName.startsWith(t)))){if(!this.hoverTimes.has(c))return;const t=Date.now()-this.hoverTimes.get(c);this.hoverTimes.delete(c),g.contract.ext=g.contract.ext||{},g.contract.ext.mouseDwellTime=t}if(d&&null==p&&this.offsetCalculationCallback){const e=t.getRootNode();if(e instanceof ShadowRoot){const t=e.host;if(t instanceof HTMLElement){const e=[[t,g]];this.offsetCalculationCallback(e,{cardsForVPOffset:f})}}}this.trackingSystemList.sendActionEvent(g.combinedContract,this.pageMetadata.combinedContract,null==p?o.Aw.Click:p,null==m?o.wu.Navigate:m),g.contract&&g.contract.triggerPageView&&m===o.wu.Navigate&&this.sendPageView(null,!1)}}}))}scheduleContentViewEvent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.NS.Partial,e=arguments.length>1?arguments[1]:void 0;if(!s.kP)return;const n=(new Date).getTime();this.contentViewTimePassed=n-this.contentViewLastExecution,this.contentViewTimePassed<=this.contentViewDelay&&t!==i.NS.Partial||(this.contentViewLastExecution=n,this.contentViewTimer&&this.scheduledContentViewType===t&&window.clearTimeout(this.contentViewTimer),this.contentViewTimer=window.setTimeout((()=>this.autoSendContentViewEvent({contentViewType:t})),e||this.contentViewTimeout),this.scheduledContentViewType=t)}sendContentViewEvent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.NS.Partial,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.queueEvent("ContentView",(()=>{if(this.config.beacons&&this.config.beacons.ContentView&&this.config.beacons.ContentView.disable||!this.pageMetadata)return;T.u.updateLayout();const i=(0,s.Ux)(t),r=[];if(i&&i.length>0){for(let t=0;t<i.length;t++){const e=i[t],o=T.u.get(e);o&&(!n||this.contentUpdateQueue.has(e)||this.partialContentUpdateQueue.has(e))&&(this.setIsMonetizedFlag(o.combinedContract),r.push(o.combinedContract))}this.trackingSystemList.sendContentViewEvent(r,this.pageMetadata.combinedContract,{contentViewType:e})}this.contentLoaded||(this.contentLoaded=!0,this.pageMetadata.addOrUpdateTmplProperty("dwellTimeContentLoaded","true"),this.startAutoDwellTime())}))}sendAppErrorEvent(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.config.ignoreAppErrorCounter||!function(t){if(!t||!t.id)return!0;f.has(t.id)||f.set(t.id,0);const e=f.get(t.id)+1;return f.set(t.id,e),3===t.severity&&e>25||3!==t.severity&&e>10}(t))if(function(t){if(!t)return!1;const{pb:e,severity:n=u.z.Alert}=t;if(e&&e.shouldSampleErrorsForTreatement1)switch(n){case u.z.Deprecated:return p(1);case u.z.Alert:return p(10);default:return!0}const i=e&&e.isDebugPage||!1,r=e&&e.samplePct||0;if(!i){if(n===u.z.Deprecated)return p(1);if(r>0)return p(r)}return!0}(t)||this.config.shouldNotSampleErrors){if(!(this.config.beacons&&this.config.beacons.AppError&&this.config.beacons.AppError.disable)&&this.pageMetadata)if(function(t){const{pb:e,severity:n=1}=t;return 3!==n&&!(!e||!e.shouldDelayUntilLoadTime)}(t)){const n={...t,pb:{...t.pb,delayed:1}};d.then((()=>{this.queueAppErrorEvent(n,e)}))}else this.queueAppErrorEvent(t,e)}else e&&(console.error(JSON.stringify(t)),console.error(`This App error Id: ${t.id} will not be sent due to app error sampling!`));else e&&(console.error(JSON.stringify(t)),console.error(`App errors throttled for Id: ${t.id}`))}sendLoadTimeEvent(t){const e=this.config.enableCustomDiagnostic?"LoadTimeDiag":"LoadTime";this.sendEvent(e,t),l(),m()}sendFeedbackEvent(t){this.sendEvent("Feedback",t)}sendAdImpressionEvent(t){this.sendEvent("AdImpression",t)}sendAdFeedbackEvent(t){this.sendEvent("AdFeedback",t)}sendVideoPlayEvent(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.config.beacons&&this.config.beacons.VideoPlay&&this.config.beacons.VideoPlay.disable)return;const i=n?"VideoAdPlay":"VideoPlay";e&&T.u.updateLayout();const r=e?T.u.get(e):void 0,o=r?r.combinedContract:{};if(t){const e={...o,...t};this.trackingSystemList.sendEventPayload(i,{object:e},this.pageMetadata.combinedContract)}else e&&this.pageMetadata&&r&&this.trackingSystemList.sendEventPayload(i,{object:o},this.pageMetadata.combinedContract)}sendGamePlayEvent(t,e){if(!(this.config.beacons&&this.config.beacons.GamePlay&&this.config.beacons.GamePlay.disable)&&e){T.u.updateLayout();const n=T.u.get(e);if(this.pageMetadata&&n){const e={object:{...n.combinedContract,...t}};this.trackingSystemList.sendEventPayload("GamePlay",e,this.pageMetadata.combinedContract)}}}sendAudioPlayEvent(t,e){if(!(this.config.beacons&&this.config.beacons.AudioPlay&&this.config.beacons.AudioPlay.disable)&&e){T.u.updateLayout();const n=T.u.get(e);if(this.pageMetadata&&n){const e={object:{...n.combinedContract,...t}};this.trackingSystemList.sendEventPayload("AudioPlay",e,this.pageMetadata.combinedContract)}}}sendServerLogEvent(t){this.sendEvent("ServerLog",t)}sendAppPerfTraceEvent(t){this.sendEvent("AppPerfTrace",t)}sendAuthEvent(t){this.sendEvent("Auth",t)}sendHeartBeatEvent(t){this.sendEvent("HeartBeat",t)}sendClientLogEvent(t){if(this.config.enableSendClientLogEvent){var e,n;const{isRestrictClientLogSize:r,maxClientLogSize:o}=(null===(e=this.pageMetadata)||void 0===e||null===(e=e.contract)||void 0===e?void 0:e.featureFlags)||{};if(!r){if(!function(t,e){try{var n;return(t&&(null===(n=JSON.stringify(t))||void 0===n?void 0:n.length)||0)<=e}catch(t){return!0}}(t,"number"==typeof o?o:6144))return void this.sendEvent("ClientLog",t)}if(null===(n=this.pageMetadata)||void 0===n||null===(n=n.contract)||void 0===n||null===(n=n.featureFlags)||void 0===n||!n.throttleClientLogs)return void this.sendEvent("ClientLog",t);if(!s.kP)return void this.sendEvent("ClientLog",t);i=this.config.clientLogMaxCount,v++,v>i||g.then((()=>{this.sendEvent("ClientLog",t)}))}var i}sendPageOutOfFocusEvent(t){this.queueEvent("PageOutOfFocus",(()=>{this.config.beacons&&this.config.beacons.PageOutOfFocus&&this.config.beacons.PageOutOfFocus.disable||!this.pageMetadata||this.trackingSystemList.sendEventPayload("PageOutOfFocus",null,this.pageMetadata.combinedContract)}))}sendUnloadEvent(){this.queueEvent("Unload",(()=>{this.config.beacons&&this.config.beacons.Unload&&this.config.beacons.Unload.disable||!this.pageMetadata||this.trackingSystemList.sendEventPayload("Unload",null,this.pageMetadata.combinedContract)}))}sendTraceInfoEvent(t){this.queueEvent("TraceInfo",(()=>{this.config.beacons&&this.config.beacons.TraceInfo&&this.config.beacons.TraceInfo.disable||!this.pageMetadata||this.sendEvent("TraceInfo",t)}))}getPageMetadata(){return this.pageMetadata}flush(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=t=>!(e&&e!==t.eventType||n&&n===t.eventType);for(const t of this.eventQueue)"function"==typeof t.callback&&i(t)&&t.callback();this.eventQueue=this.eventQueue.filter((t=>!i(t))),this.config.useEventQueue=!t}empty(){this.eventQueue=[]}enableEventQueue(){this.config.useEventQueue=!0}disableEventQueue(){this.config.useEventQueue=!1}addEventTypeToForceQueueList(t){this.config.forceUseEventQueueList||(this.config.forceUseEventQueueList=[]),this.config.forceUseEventQueueList.push(t)}removeEventTypeFromForceQueueList(t){this.config.forceUseEventQueueList&&(this.config.forceUseEventQueueList=this.config.forceUseEventQueueList.filter((e=>e!==t)))}startDwellTime(){S.start()}pauseDwellTime(){S.pause()}pauseDwellTimeV2(){S.pauseV2()}resetDwellTime(){S.reset()}isDwellTimeActive(){return S.getIsActive()}setDwellTime(t,e){S.setDwellTime(t,e)}setDwellTimeV2(t,e){S.setDwellTimeV2(t,e)}getDwellTime(){return S.getDwellTime()}clickEventHandler(t){if(t&&t.detail&&t.detail.element&&this.pageMetadata){const e=t.detail.element;this.sendActionEvent(e,t.detail.action,t.detail.behavior,void 0,!0),e.attributes&&e.attributes.href&&e.attributes.href.value&&e.attributes.href.value.startsWith&&"function"==typeof e.attributes.href.value.startsWith&&e.attributes.href.value.startsWith("mailto:")&&(this.ignoreUnload=!0)}}queueAppErrorEvent(t){var e,n;let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o="AppError";!this.config.enableCustomDiagnostic||null!==(e=(n=this.config).shouldAppErrorEscapeCustomDiagnostic)&&void 0!==e&&e.call(n,t)||(o="AppErrorDiag"),this.queueEvent(o,(()=>{if(this.trackingSystemList.sendCustomEvent(o,t,this.pageMetadata.combinedContract),r){const e=new Date+": "+ +new Date+" "+JSON.stringify(t);console.error(e)}this.dispatchEvent(i.tW,{error:t})}))}unloadEventCallback(){this.ignoreAutoUnloadCallback||this.config.beacons&&this.config.beacons.Unload&&this.config.beacons.Unload.disable||(this.pageMetadata&&!this.ignoreUnload&&this.sendUnloadEvent(),this.ignoreUnload=!1)}setIsMonetizedFlag(t){t&&t.isMonetized&&this.updatePageMetadata({page:{isMonetized:!0}},!0)}autoSendContentViewEvent(t){this.queueEvent("ContentView",(()=>{if(this.pageMetadata){let e;if(T.u.updateLayout(),t.contentViewType!==i.NS.Partial&&this.contentUpdateQueue&&this.contentUpdateQueue.size>0?e=this.contentUpdateQueue:this.partialContentUpdateQueue&&this.partialContentUpdateQueue.size>0&&(e=this.partialContentUpdateQueue),e){const{enableViewportOffset:n,cardsForVPOffset:r}=this.config,o=[];let s=[];const a=n&&!!this.vpOffsetFlagIsValidCallback&&this.vpOffsetFlagIsValidCallback();if([...e].forEach((e=>{const n=T.u.get(e);if(n&&(t.contentViewType!==i.NS.Partial||!n.isCaptured)){n.isCaptured=!0;const t=n.combinedContract;this.setIsMonetizedFlag(t),a?o.push(n):t&&s.push(t)}})),a&&this.offsetCalculationCallback&&o.length>0){const t=o.map((t=>[t.element,t]));this.offsetCalculationCallback(t,{cardsForVPOffset:r}),s=o.map((t=>t.combinedContract)).filter((t=>t))}this.trackingSystemList.sendContentViewEvent(s,this.pageMetadata.combinedContract,t),this.contentViewBeaconSent=!0,this.partialContentUpdateQueue.clear(),this.contentViewTriggerSource=null}this.contentLoaded||(this.contentLoaded=!0,this.pageMetadata.addOrUpdateTmplProperty("dwellTimeContentLoaded","true"),this.startAutoDwellTime())}}))}runContentVisibilityCallbacks(){var t;null===(t=this.runContentVisibilityCallbacksPromise)||void 0===t||t.resolve()}applyAnidOverride(t){this.trackingSystemList.applyAnidOverride(t)}yieldAsync(){return new Promise((t=>setTimeout(t,0)))}contentVisibilityCallback(t){var e;const n=async e=>{for(let i=0;i<t.length;i++){e&&i>0&&i%this.yieldElementsCount==0&&await this.yieldAsync();const o=t[i];var n,r;if(o.isIntersecting)this.contentUpdateQueue.add(o.target),this.contentViewTriggerSource||this.config.enableNoPartialContentView&&!((null===(n=T.u.get(o.target))||void 0===n||null===(r=n.getShouldTrackPartialContentUpdate)||void 0===r?void 0:r.call(n))??1)||this.partialContentUpdateQueue.add(o.target);else this.contentUpdateQueue.delete(o.target),this.partialContentUpdateQueue.delete(o.target);0}!this.contentViewTriggerSource&&this.config.autoCaptureContentView&&this.scheduleContentViewEvent(i.NS.Partial,500),this.contentUpdateQueue.size&&this.contentVisibilityCallbackPromise&&this.contentVisibilityCallbackPromise.resolve()};this.config.deferContentViewIntersectionCallbacks&&null!==(e=this.runContentVisibilityCallbacksPromise)&&void 0!==e&&e.promise?this.runContentVisibilityCallbacksPromise.promise.then((()=>n(this.config.shouldYieldCVCallback))):n(this.config.shouldYieldCVCallback)}sendEvent(t,e){this.queueEvent(t,(()=>{this.config.beacons&&this.config.beacons[t]&&this.config.beacons[t].disable||!this.pageMetadata||this.trackingSystemList.sendCustomEvent(t,e,this.pageMetadata.combinedContract)}))}queueEvent(t,e){this.config.eventTypeAllowList&&!this.config.eventTypeAllowList.includes(t)||(this.config.useEventQueue||this.config.forceUseEventQueueList&&this.config.forceUseEventQueueList.includes(t)?this.eventQueue.push({eventType:t,callback:e}):e())}dispatchEvent(t,e){s.kP&&setTimeout((()=>dispatchEvent(new CustomEvent(t,{detail:e}))),0)}startAutoDwellTime(){(document.hasFocus()||this.config.startDwellOnPageVisible&&"visible"===document.visibilityState)&&!this.config.disableAutoCalculateDwellTime&&(document.hasFocus()||this.pageMetadata.addOrUpdateTmplProperty("dwellTimeStartedWithoutFocus","true"),S.start(),this.pageMetadata.addOrUpdateTmplProperty("dwellTimeStart","true"))}waitForContentVisibilityObserverInit(){return this.contentVisibilityCallbackPromise?this.contentVisibilityCallbackPromise.promise:Promise.resolve()}isEventInQueue(t){return this.eventQueue.some((e=>e.eventType===t))}getQueuedEventCount(){return this.eventQueue.length}isContentViewBeaconSent(){return this.contentViewBeaconSent}isPageViewBeaconSent(){return this.pageViewBeaconSent}initScrollPerformanceTrackers(t){if(!this.viewportEventManager)return;null!=t&&t.scrollContainer&&this.viewportEventManager.initListener(null==t?void 0:t.scrollContainer),this.subscribeToAppHidden=null==t?void 0:t.subscribeToAppHidden;n.e("scrollPerfMetricTrackers").then(n.bind(n,35534)).then((e=>{let{createEndOfFeedTimeTracker:n,createAppResponsivenessTracker:i,createScrollInputTracker:r}=e;const o=n({scrollContainer:null==t?void 0:t.scrollContainer,scrollEventName:null==t?void 0:t.scrollEventName}),s=i(),a=(null==t?void 0:t.enableScrollInputTracking)&&r&&r(null==t?void 0:t.enableMissedScrollTracking,null==t?void 0:t.enableSectionScrollTracking,t.scrollContainer);this.viewportEventManager.initScrollPerformanceTrackers({endOfFeedTimeTracker:o,appResponsivenessTracker:s,scrollInputTracker:a})}))}}},78058:function(t,e,n){n.d(e,{D:function(){return o}});var i=n(89658),r=n(19319);class o{constructor(t,e,n){this.contract=t}static render(t){const e=r.v.compress(t);return{[i.qP]:JSON.stringify(e)}}addChild(t){return new o(t,this)}addOrUpdateChild(t,e){return e?(e.contract=t,e):new o(t,this)}updateContract(t){this.contract=t}render(t){return o.render(this.contract)}getMetadataTag(){return JSON.stringify(this.getMetadata())}getMetadata(){return r.v.compress(this.contract)}}},52359:function(t,e,n){n.d(e,{U:function(){return s}});var i,r=n(39860),o=n(44132);class s{constructor(){this.getSpanId=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s.traceCtrxObj&&!t)return s.traceCtrxObj.getSpanId();const e=(0,r.DO)().substring(0,16);return(0,o.dK)().then((()=>{s.setSpanIdFunc(e)}),(()=>{})),e},this.getTraceId=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(s.traceCtrxObj&&!t)return s.traceCtrxObj.getTraceId();const e=(0,r.DO)();return(0,o.dK)().then((()=>{s.setTraceIdFunc(e)}),(()=>{})),e}}setTraceObj(t){s.traceCtrxObj=t&&t.getTraceCtx()}}(i=s).getTraceInstance=()=>(i.traceInstance||(i.traceInstance=new i),i.traceInstance),i.setSpanIdFunc=t=>{const e=t||(0,r.DO)().substring(0,16);try{i.traceCtrxObj.setSpanId(e)}catch(t){}},i.setTraceIdFunc=t=>{const e=t||(0,r.DO)();try{i.traceCtrxObj.setTraceId(e)}catch(t){}}},1092:function(t,e,n){n.d(e,{EE:function(){return i},S8:function(){return o},id:function(){return r}});const i="https://www.msn.com/PV.xml",r={UserAction:"MS.News.Web.PageAction",PageView:"MS.News.Web.PageView",ContentView:"MS.News.Web.ContentView",AppError:"MS.News.Web.AppError",AppErrorDiag:"MS.News.Web.AppErrorDiag",LoadTime:"MS.News.Web.LoadTime",LoadTimeDiag:"MS.News.Web.LoadTimeDiag",Unload:"MS.News.Web.Unload",Base:"MS.News.Web.Base",Feedback:"MS.News.Web.Feedback",AdImpression:"MS.News.Web.AdImpression",AdFeedback:"MS.News.Web.AdFeedback",GamePlay:"MS.News.Web.GamePlay",VideoPlay:"MS.News.Web.VideoPlay",VideoAdPlay:"MS.News.Web.VideoAdPlay",AudioPlay:"MS.News.Web.AudioPlay",ServerLog:"MS.News.Web.ServerLog",AppPerfTrace:"MS.News.Web.AppPerfTrace",Auth:"MS.News.Web.Auth",HeartBeat:"MS.News.Web.HeartBeat",ClientLog:"MS.News.Web.ClientLog",PageOutOfFocus:"MS.News.Web.PageOutOfFocus",TraceInfo:"MS.News.Web.TraceInfo"},o=1e3},94769:function(t,e,n){n.d(e,{E1:function(){return T},F$:function(){return H},FL:function(){return v},Fh:function(){return J},He:function(){return U},Mm:function(){return V},P6:function(){return p},Ux:function(){return O},Vr:function(){return x},XW:function(){return S},Xn:function(){return f},Zf:function(){return C},d5:function(){return g},gm:function(){return y},i2:function(){return w},jT:function(){return L},jv:function(){return B},k3:function(){return D},kP:function(){return b},lB:function(){return q},pE:function(){return F},pW:function(){return d},qC:function(){return m},t0:function(){return W},tH:function(){return _},tV:function(){return z},t_:function(){return A},uK:function(){return k},uj:function(){return j},wC:function(){return $},wi:function(){return h},xI:function(){return G},zo:function(){return I}});var i=n(44132);let r,o,s,a,c,u=(new Date).getTime();try{a="sessionStorage"in window&&window.sessionStorage}catch(t){}try{navigator&&navigator.userAgentData&&"Windows"===navigator.userAgentData.platform&&navigator.userAgentData.getHighEntropyValues&&navigator.userAgentData.getHighEntropyValues(["platformVersion"])&&navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then((t=>{c=t.platformVersion}))}catch(t){}function l(t){const e=(u+16*Math.random())%16|0;return u=Math.floor(u/16),("x"===t?e:7&e|8).toString(16)}function d(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,l)}function f(){return Date.now()}function h(){return b&&(window.outerWidth||document.documentElement.clientWidth)}function p(t){return t?t.scrollHeight:b&&(window.outerHeight||document.documentElement.clientHeight)}function m(t){if(t)return t.scrollTop||0;return b&&(window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop)||0}function g(){return b&&Math.max(document.body.scrollHeight||0,document.documentElement.scrollHeight||0,document.body.offsetHeight||0,document.documentElement.offsetHeight||0,document.body.clientHeight||0,document.documentElement.clientHeight||0)}function v(){const t="undefined"!=typeof document&&document.cookie;if(!b&&!t)return"";const e=new RegExp("\\bMUID\\s*=\\s*([^;]*)","i").exec(t);return e&&e.length>1?e[1]:""}function w(t){return b?(r||""===r||(r=v()||t||""),r):v()}function y(t){r=t}const b=!("undefined"==typeof window||!window.document||!window.document.createElement||window.isRenderServiceEnv);function S(t,e){return function(t,e){if(e&&t){const n=e.toLowerCase();if(-1==n.indexOf("?ocid=")&&-1==n.indexOf("&ocid=")){const n=-1==e.indexOf("?")?"?":"&";e=`${e}${n}ocid=${encodeURIComponent(t)}`}}return e}(e,t)}function x(t,e){P(t,"ocid",e)}function C(t,e){let n=e;try{const t=new URL(location.href);n=t.searchParams.get("pc")||t.searchParams.get("PC")||t.searchParams.get("pC")||t.searchParams.get("Pc")||n}catch{}P(t,"pc",n||e)}function k(t,e){P(t,"cvid",e,!0)}function T(t,e){P(t,i.G3,e,!0,!1)}function $(t,e){P(t,"ei",e.toString(),!0)}function A(t,e){P(t,e,void 0,!1,!0)}function I(t,e,n){try{if(!t||!e||!t.href)return;const i=new URL(t.href);if("http:"!==i.protocol&&"https:"!==i.protocol||i.searchParams.has("sc"))return;n&&t.setAttribute("originalhref",n),i.href=`${e}&url=${encodeURIComponent(i.href)}`;const r=Date.now().toString();i.searchParams.set("timestamp",r),t.href=i.href}catch(t){}}function P(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!t||!e)return;let o=t;if("a"!==o.nodeName&&o.closest("a")&&(o=o.closest("a")),!o)return;const{href:s}=o;if(s)try{const t=new URL(s);let a=t,c=!1;if("microsoft-edge:"===t.protocol){const e=t.searchParams.get("url");e&&(a=new URL(e),c=!0)}if(r)return a.hash?-1===a.hash.indexOf(e)&&(a.hash+=`&${e}`):a.hash=e,void(c?(t.searchParams.set("url",a.href),o.href=t.href):o.href=a.href);const u=["msn.com","msn.cn","bing.com","msn.yidianzixun.com","msn.huya.com"],l=["ib.msn.com"].every((t=>!a.host.includes(t)))&&u.some((t=>a.host.includes(t))),d=["topsite-ruby-link","recommendedSiteDiv"].some((t=>o.classList.contains(t)));if(n&&l&&!d){let t="";t=a.searchParams.get(e),t&&!i||a.searchParams.set(e,n)}c?(t.searchParams.set("url",a.href),o.href=t.href):o.href=a.href}catch{}}function _(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!t)return;const n=t.getAttribute("data-hl")||"";if(!e&&!n){const n=t.querySelector("h4")||t.querySelector("h3"),i=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(!e)return;let i=e,r=0;for(;i&&i!==t;i=i.parentElement,r++)if(r>n)return;return r}(t,n);n&&i&&i<=2&&(e=R(n))}const i=t instanceof HTMLAnchorElement?t.querySelector(".title"):"";!e&&i&&(e=R(i));const r=t instanceof HTMLAnchorElement?t.getAttribute("title"):"";!e&&r&&(e=r);const o=t instanceof HTMLAnchorElement?t.getAttribute("aria-lable"):"";return!e&&o&&(e=o),"string"!=typeof e&&(e=n||t.getAttribute("data-piitxt")||("FORM"==t.nodeName?"[form submit]":t.getAttribute("title")||E(t,"title","img")||R(t)||t.getAttribute("alt")||E(t,"alt")||"")),null!=e.trim&&(e=e.trim()),e}const M=/(^\s+)|(\s+$)/gm;function R(t){return(t&&(t.textContent||t.innerText)||"").replace(M,"")}function E(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const i=t.children||[];let r,o=0;for(e=e||"alt";o<i.length;o++)if(r=i[o].getAttribute(e)||E(i[o],e,n),r&&n!=i[o].localName)return r}function F(t,e){if(!t||t===document||t===window)return null;const n=t.closest(e);if(n)return n;const i=D(t);return i&&i.host?F(i.host,e):void 0}function D(t,e){return null==t||!t.parentNode||e&&t.parentNode instanceof ShadowRoot?t:D(t.parentNode,e)}function O(t){const e=[];if(!t)return;let n;return n=U(t)?t.shadowRoot.querySelectorAll("*"):t.querySelectorAll("*"),N(Array.from(n),e),e}function N(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let n=0;n<t.length;n++){const i=t[n];L(i)&&e.push(i),U(i)&&N(Array.from(i.shadowRoot.querySelectorAll("*")),e)}}function U(t){return!!t.shadowRoot}function L(t){return t.hasAttribute&&t.hasAttribute("data-t")}function B(t){try{new URL(t)}catch(t){return!1}return!0}function W(t,e){const n=new CustomEvent(t,{detail:{element:e}});dispatchEvent(n)}function H(){let t=!1;if(b)try{c&&parseInt(c.split(".")[0])>=11&&(t=!0)}catch(t){}return s=!0===t||null,s}function z(t){if(!o&&""!==o&&b)try{if(!t||0===t.length)return;const e=document.cookie;if(e){let n="";t.forEach((t=>{const i=new RegExp("\\b"+t+"\\s*=\\s*([^;]*)","i").exec(e),r=i&&i.length>1?i[1]:"";""!==r&&(n+=t+"="+r+";")})),o=n}}catch(t){}return o}function V(t,e){if(!t||""===t)return"";let n=!1,i=null;if(b)try{if(i=new URL(t),!e||0===e.length)return;e.forEach((t=>{i.searchParams.has(t)&&(n=!0),i.searchParams.delete(t)}))}catch(e){return t}return n?i.toString():t}function j(t){if(!t||""===t)return"";let e=null,n=!1;if(b)try{e=new URL(t);const i=new RegExp(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gi);e.searchParams.forEach((function(t,e){t.match(i)&&(n=!0)}))}catch(t){}return n?"":t}function q(t){const e="sign-in-refreshed-page";b&&a&&a.getItem(e)?(a.removeItem(e),(t.page=t.page||{}).isAutoRefresh=!0):function(t){return!t||!t.page||!0!==t.page.isAutoRefresh&&!1!==t.page.isAutoRefresh}(t)&&((t.page=t.page||{}).isAutoRefresh=!1)}function G(){let t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=new Promise((e=>{t=e}));return e&&t(),{promise:n,resolve:t}}function J(){r=null,o=null}},7191:function(t,e,n){n.d(e,{Y:function(){return r}});var i=n(81586);function r(t,e){const n=function(t){switch(t){case i.uH.AppStore:return 17;case i.uH.StructuredData:return 16;case i.uH.CmsPromotions:return 19;case i.uH.MicrosoftWebStore:return 20;case i.uH.XboxStore:return 21;case i.uH.OfficeStore:return 22;case i.uH.PartnerLinks:return 24;case i.uH.SponsoredContent:return 25;default:return 0}}(t)||function(t){switch(t){case i.wu.Navigate:return 14;case i.wu.Follow:return 26;case i.wu.Unfollow:return 27;case i.wu.More:return 28;case i.wu.Close:return 36;case i.wu.Share:return 37;case i.wu.Like:return 38;case i.wu.Dislike:return 39;case i.wu.Unlike:return 40;case i.wu.Undislike:return 41;case i.wu.Mute:return 42;case i.wu.Unmute:return 43;case i.wu.Cancel:return 44;case i.wu.Manage:return 45;default:return 0}}(e);if(0!==n)return n;if(t===i.uH.App){if(e===i.wu.Install)return 23;if(e===i.wu.Launch)return 18}return 0}},16421:function(t,e,n){n.d(e,{K:function(){return g}});var i=n(77137),r=n(44132),o=n(92421),s=n(15598),a=n(33779),c=n(5302),u=n(21215);const l="TS_QUERIES";class d{constructor(t){this.config=t}buildURL(){return""}parseResponse(t){return[]}formatData(t){return t&&Array.isArray(t)?t.map((t=>("string"==typeof t&&(t={query:t}),this.config.landingPageBaseUrl&&t.query&&(t.href=this.config.landingPageBaseUrl+encodeURIComponent(t.query)+"&form="+this.config.formCode+"&refig="+r.M0.getRequestId()),t))):[]}async fetchTrendingSearches(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{credentials:"same-origin",method:"GET",mode:"cors"},n=[];if(!this.config||!this.config.apiEndpoint)return n;const i={};try{var s,u;r.M0.addOrUpdateTmplProperty("fetchTrendingsearch","1");const a=this.buildURL(),c=this.config.apiTimeout||1e4,l=await(0,o.Sm)(decodeURIComponent(a),c,e);if(i.tIdInHeader=null===(s=l.headers)||void 0===s?void 0:s.has("bingapis-traceid"),i.traceId=null===(u=l.headers)||void 0===u?void 0:u.get("bingapis-traceid"),!l||!l.ok){if(404===l.status)return r.M0.addOrUpdateTmplProperty("tsResponse","0"),n;throw new Error("Error response: "+l.status)}t=await l.json()}catch(t){return(0,a.H)(c.QWk,`${t}`,"",i),n}try{if(!t)throw new Error("Invalid format of response.");if(n=this.parseResponse(t),!n||!Array.isArray(n))throw new Error("Invalid format of response.");return 0===n.length&&(r.M0.addOrUpdateTmplProperty("tsResponse","0"),this.config.allowEmptyResponse||(0,a.H)(c.wMp,"Empty trending search content","",i)),n.slice(0,this.config.cacheCount||5)}catch(t){(0,a.H)(c.yHB,`${t}`,"",i)}return n}async getTrendingSearches(){r.M0.addOrUpdateTmplProperty("trendingsearch","1");let t=[];if((0,u.N)())try{const t=(0,s.$o)().getItem(l);if(t){const e=JSON.parse(t),n=((null==e?void 0:e.cacheTime)||0)+1e3*(this.config.cacheTimeout||60),r=null==e?void 0:e.queries;if((null==e?void 0:e.mkt)===i.jG.CurrentMarket&&r&&r.length&&n>Date.now())return this.formatData(r)}}catch(t){(0,a.H)(c.yHB,`${t}`)}if(t=await this.fetchTrendingSearches(),(0,u.N)())if(t&&t.length){const e={cacheTime:Date.now(),mkt:i.jG.CurrentMarket,queries:t};(0,s.$o)().setItem(l,JSON.stringify(e))}else(0,s.$o)().removeItem(l);return this.formatData(t)}}class f extends d{buildURL(){return this.config.apiEndpoint+"?qry=&ascv=json&pt="+this.config.partnerEndpoint+"&features="+this.config.features+"&mkt="+i.jG.CurrentMarket+"&cvid="+r.M0.getRequestId()}parseResponse(t){return t.suggestions&&Array.isArray(t.suggestions)?t.suggestions.filter((t=>!!t.q&&"PN"==t.t)).map((t=>({query:t.q}))):[]}}class h extends d{buildURL(){return this.config.apiEndpoint+"?apikey="+this.config.apikey+"&market="+i.jG.CurrentMarket+"&fdhead="+this.config.features}parseResponse(t){var e;const n=JSON.parse(null===(e=t[0])||void 0===e?void 0:e.data);return(null==n?void 0:n.map((t=>({query:null==t?void 0:t.Query,isAds:null==t?void 0:t.IsAds}))))||[]}}class p extends d{buildURL(){let t=this.config.apiEndpoint+"?appid="+this.config.appId+"&features="+this.config.features+"&mkt="+i.jG.CurrentMarket;return this.config.cc&&(t+="&cc="+this.config.cc),this.config.strictMode&&(t+="&IsStrictMode=1"),t}parseResponse(t){var e;return(null===(e=t.value)||void 0===e?void 0:e.map((t=>{var e;return{query:null===(e=t.query)||void 0===e?void 0:e.text}})))||[]}}class m extends d{buildURL(){return this.config.apiEndpoint}parseResponse(t){var e;const n=null===(e=t.suggestedQueries)||void 0===e?void 0:e.sort(((t,e)=>parseFloat(e.metadata.similarityScore)-parseFloat(t.metadata.similarityScore)));return(null==n?void 0:n.map((t=>({query:t.query}))))||[]}}function g(t){let e;switch(t.apiVersion){case 4:e=new m(t);break;case 3:e=new f(t);break;case 2:e=new p(t);break;default:e=new h(t)}return e}},75612:function(t,e,n){n.d(e,{Y:function(){return i}});const i="edge://new-tab-page-online"},98937:function(t,e,n){n.d(e,{q:function(){return c}});var i=n(33779),r=n(5302),o=n(75612),s=n(42833);const a=new Map;class c{static bind(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.defaultOrigin;if(!t||!e)return(0,i.H)(r.oJ2,"Parent window and origin must be provided."),null;if(t===window)return(0,i.H)(r.oJ2,"Parent window cannot be the same as the current window."),null;if(a.has(t)){const n=a.get(t);return n.origin=e,n}const n=new c(t,e);return a.set(t,n),n}static getInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.parent;return a.has(t)&&a.get(t)||null}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.defaultOrigin;this.fromUCSettablePromise=null,this.origin=c.defaultOrigin,this.parent=null,this.callbacks={},this.interceptors={},this.listen=t=>{if(t.origin!==this.origin)return;const e=t.data;if(!e||!e.type)return;const n=this.callbacks[e.type];n&&n.length>0&&n.forEach((t=>t(e.data)))},this.resolveUCPromise=(t,e)=>{var n;let i={top:0,height:0};switch(t){case"modal":i=this.getModalOverridesForUCImmersiveMode(e);break;case"cookieBanner":i={top:0,height:0}}null===(n=this.fromUCSettablePromise)||void 0===n||n.set(i)},this.parent=t,this.origin=e,window.addEventListener("message",this.listen)}cleanUp(){this.callbacks={},this.interceptors={},window.removeEventListener("message",this.listen)}intercept(t,e){this.interceptors[t]=e}unintercept(t){this.interceptors[t]&&delete this.interceptors[t]}emit(t){if(this.interceptors[t.type])return this.interceptors[t.type](t.data);this.parent.postMessage(t,this.origin)}async awaitOnce(t,e){if(this.fromUCSettablePromise)return;const n=this.resolveUCPromise.bind(this,t);this.callbacks[e]=[...this.callbacks[e]||[],n],this.fromUCSettablePromise=new s.o;const i=await this.fromUCSettablePromise.getResultAsync();return this.fromUCSettablePromise=null,this.callbacks[e]=this.callbacks[e].filter((t=>t!==n)),i}on(t,e){if("function"!=typeof e)throw new Error("Callback must be a function.");this.callbacks[t]=[...this.callbacks[t]||[],e]}off(t,e){if("function"!=typeof e)throw new Error("Callback must be a function.");this.callbacks[t]&&(this.callbacks[t]=this.callbacks[t].filter((t=>t!==e)))}offAll(t){this.callbacks[t]&&delete this.callbacks[t]}notify(t,e){this.emit({type:t,data:e})}notifyAfterRepaint(t){window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{this.emit({type:t})}))}))}getModalOverridesForUCImmersiveMode(t){return{top:((null==t?void 0:t.innerHeight)??0)/2+((null==t?void 0:t.scrollY)??0),height:.9*((null==t?void 0:t.innerHeight)??0)}}canAwaitUCEvent(t){return void 0===this.callbacks[t]||this.callbacks[t]&&0===this.callbacks[t].length}}c.defaultOrigin=o.Y},25852:function(t,e,n){n.d(e,{$A:function(){return s},Jn:function(){return c},jC:function(){return a},ku:function(){return o.ku}});var i=n(77137),r=n(5884),o=n(17958);function s(t,e,n){if(!t)return null;let i;try{i=t instanceof URL?new URL(t.href):new URL(t)}catch(t){return null}if(i&&(n||i.host.includes("msn.com")||i.host.includes(".msn.cn")))for(const[t,n]of Object.entries(e))t&&n&&i.searchParams.set(t,n);return i.href}function a(t,e){if(!t)return null;let n;try{n=new URL(t instanceof URL?t.href:t)}catch(t){return null}return n&&e&&e.length&&e.forEach((t=>{n.searchParams.delete(t)})),n.href}function c(t){if("edgeChromium"===i.jG.AppType)return!1;const e=(0,o.ku)(t),n=null==e?void 0:e.toLowerCase();return r.Oj.has(n)||r.FP.has(n)}},98675:function(t,e,n){n.d(e,{$A:function(){return r.$A},Jn:function(){return r.Jn},Nm:function(){return s.Nm},Ol:function(){return i.Ol},SH:function(){return o.SH},dq:function(){return s.dq},ez:function(){return s.ez},hS:function(){return s.hS},jC:function(){return r.jC},ku:function(){return i.ku},qq:function(){return i.qq}});var i=n(17958),r=n(25852),o=(n(13354),n(22651)),s=n(46055)},46055:function(t,e,n){n.d(e,{Nm:function(){return l},dq:function(){return c},ez:function(){return d},hS:function(){return u}});var i=n(13218),r=n(25852),o=n(17958);const s=new Set(["wind_spot_2","wind_spot_desktop","widgetonlockscreen","widgetonlockscreenwin10","winp2fpwidgetboard"]),a=new Set(["wind_spot_2","wind_spot_desktop"]);function c(t){var e;return(0,r.ku)(t)||(null===i.Al||void 0===i.Al||null===(e=i.Al.ClientSettings)||void 0===e?void 0:e.ocid)||"hpmsn"}function u(t){return s.has(t)}function l(t){return a.has(t)}function d(t){const e=c(t);return(0,o.qq)(e)?{pageProduct:"windows",pageType:"dhp"}:{}}},13354:function(t,e,n){n(17958)},17958:function(t,e,n){var i;n.d(e,{Ol:function(){return s},ku:function(){return o},qq:function(){return a}}),function(t){t.DesktopL1="weatherdesktopl1",t.DesktopL2="weatherdesktopl2",t.PWA="weatherpwa",t.EdgeFeatured="edgefeatured",t.WINAPP="weather-app-win",t.Weather_Mobile_App="weather-app-mobile",t.XIAOMI="xiaomi",t.OPPO="oppowx",t.XIAOMI_ANDROID_GO="xmweather-gominus1",t.XIAOMI_BROWSER="xmweather-browser",t.WINDOWS_HEADER_PREFIX="win",t.EDGE_ARTICLE_PREFIX="msnar",t.SuperApp="weather-super-app",t.WINDOWS_INLINE_OCID="winp2fpinline"}(i||(i={}));new Set(["msedgdhphdr","msedgntphdr","msedgntp","msedgdhp","entnewsntp"]);const r=new Set(["entnewsdhp","entnewsntp","msedgdhp","msedgntp","msedgdhphdr","msedgntphdr"]);function o(t){let e;if(t instanceof URL)e=t.searchParams;else if(t instanceof URLSearchParams)e=t;else if("string"==typeof t)try{e=new URL(t).searchParams}catch(t){e=void 0}return s(e,"ocid")}function s(t,e,n){if(t&&e){const i={value:t.get(e)||void 0};if(!i.value&&n&&n.length>0)for(let e=0;e<n.length&&(i.value=t.get(n[e])||void 0,!i.value);++e);if(!i.value){const n=e.toLowerCase();t.forEach((function(t,e){!i.value&&e.toLowerCase()===n&&t&&(i.value=t)}))}return i.value}}function a(t){return t.startsWith("winp")||r.has(t)}},22651:function(t,e,n){n.d(e,{SH:function(){return r}});var i=n(25852);n(61303);function r(t,e,n){return(0,i.$A)(t,{cvid:e,ocid:n})}},30456:function(t,e,n){n.d(e,{ue2:function(){return d},Hgx:function(){return l},tFp:function(){return S},uot:function(){return x},ceR:function(){return b},LCE:function(){return T},$fm:function(){return k},$6X:function(){return $},SsQ:function(){return m},RJj:function(){return f},uAc:function(){return w},U7h:function(){return y}});var i,r,o=n(34800);!function(t){t.Article="article",t.Gallery="slideshow",t.Video="video",t.Webcontent="webcontent",t.DailyBrief="dailybrief"}(i||(i={})),function(t){t.Manga="manga"}(r||(r={}));var s=n(77137),a=n(80986);const c="ArticleContent",u="GalleryContent",l=(i.Article,i.Gallery,s.jG.NavTargetUrlWithLocale,a.K.Dialog,"consumption-feed-main-id"),d="consumption-feed-common-header",f="header";s.jG.isMobile;var h;!function(t){t.articlePageBodySection="articlePageBodySection",t.consumptionFeedContent="consumption-feed-content",t.galleryPageBodySection="galleryPageBodySection",t.gridAreaGallery="galleryPage_gridarea_gallery",t.topSpanModule="top-span-module",t.viewsHeaderWrapper="viewsHeaderWrapper",t.viewsHeaderWrapperGradientMasthead="viewsHeaderWrapperGradientMasthead",t.viewsHeaderWrapperWithNoComm="viewsHeaderWrapperWithNoComm"}(h||(h={}));var p;!function(t){t.actionBarClick="actionBarClick",t.atMenuToggle="atMenuToggle",t.jumpToNextNextArticle="jumpToNextNextArticle",t.jumpToPreviousArticle="jumpToPreviousArticle",t.highlyEngagedUserDetected="highlyEngagedUserDetected",t.syncSocialReactions="syncSocialReactions",t.continueReadingClickSync="continueReadingClickSync",t.SearchBoxFocus="SearchBoxFocus",t.SearchBoxHover="SearchBoxHover",t.mfyPeekVisible="mfyPeekVisible"}(p||(p={}));new Set(["dailybrief"]);const m=["AAPXJ6m","AAPXQbT","AAPXPgV","AAPXGDK"];var g;!function(t){t.general="general",t.river="river",t.infopane="infopane",t.display="display"}(g||(g={}));new Map([[i.Article,"ar"],[i.Gallery,"ss"],[i.Video,"vi"],[o.PL.Article,"ar"],[o.PL.Slideshow,"ss"],[o.PL.Video,"vi"],[o.PL.WebContent,"vi"]]),o.PL.Article,o.PL.Slideshow,o.PL.Video,o.PL.Video,i.Article,i.Gallery,i.Video,new Map([[i.Article,"article"],[i.Gallery,"gallery"],[i.DailyBrief,"insight"],[i.Video,"video"],[o.PL.Article,"article"],[o.PL.Slideshow,"gallery"],[o.PL.Video,"video"],[o.PL.WebContent,"video"]]),new Map([["article","article"],["gallery","gallery"],["insight","insight"],["video","video"]]),new Map([["article",i.Article],["gallery",i.Gallery],["insight",i.DailyBrief],["video",i.Video],["webcontent",i.Video]]);const v=/[a-z]{2}-[a-z]{2}\/[a-z0-9]+$/i,w=t=>t.replace(v,"[locale]/[primary]"),y=t=>t.replace(v,"[locale]/[secondary]"),b="24px",S=7,x=5;var C;!function(t){t.Article="webcomprubyar",t.Gallery="webcomprubyga",t.Video="webcomprubyvi"}(C||(C={}));const k=499,T=73,$="ConsumptionPage.SlideshowConfigs"},53915:function(t,e,n){n.d(e,{DO:function(){return v},HQ:function(){return C},I3:function(){return E},UQ:function(){return S},Ub:function(){return $},Y1:function(){return m},bj:function(){return M},e9:function(){return _},fB:function(){return P},fg:function(){return x},i7:function(){return k},oR:function(){return g},of:function(){return y},qu:function(){return I},uW:function(){return w},un:function(){return T},wl:function(){return A}});var i=n(16715),r=n(97906),o=n(28951),s=n(13218),a=n(5232),c=n(77137),u=n(59465),l=n(19628),d=n(68178),f=n(44018),h=n(21215),p=n(22680);function m(t){let e="";const n=["{0}","{0}K","{0}M"];for(let i=n.length-1;i>=0;i--){const r=Math.pow(1e3,i);if(t>=r){let o;o=r<1e3?t:t/r,e=l.Ld.Format(n[i],Math.round(10*o)/10);break}}return e}!function(){let t=null}();function g(){if((0,h.N)()){if((0,f.t)()){const t=(0,f.v)();return Boolean(t&&t.isDarkMode)}if(((0,i.pE)()||(0,i.P4)())&&(0,r.G)().supported){const t=(0,r.G)().getItem("nativeAppUserConfig"),e=t&&JSON.parse(t);if(e)return e.isDarkMode}const t=o.cX.getQueryParameterByName("isDarkTheme",location.href);if(null!==t)return"true"===t}return(0,d.Yc)()}function v(t){const e=window.matchMedia("(prefers-color-scheme: dark)"),n=new WeakMap,i=e=>{let i=n.get(e);return i||(i=(e=>{let n=!1;return()=>{const i=g();n!==i&&(n=i,i?e.addStyles(t):e.removeStyles(t))}})(e),n.set(e,i)),i};return{connectedCallback(t){const n=i(t);n(),e.addEventListener("change",n)},disconnectedCallback(t){const i=n.get(t);i&&e.removeEventListener("change",i)}}}function w(){var t;return!b()&&(!(null!==s.Al&&void 0!==s.Al&&null!==(t=s.Al.CurrentFlightSet)&&void 0!==t&&t.has("prg-watch-kumo-rf"))||P())}function y(){var t;return w()&&(P()||(null===s.Al||void 0===s.Al||null===(t=s.Al.CurrentFlightSet)||void 0===t?void 0:t.has("prg-watch-copilot")))}function b(){return null===c.jG||void 0===c.jG?void 0:c.jG.isMobile}function S(){return b()||(0,i.P4)()}const x=(t,e)=>t.replace(/<path\s[^>]*>/i,(t=>-1===t.indexOf("fill=")?`${t.slice(0,-1)} fill="${e}">`:t));function C(t,e){return{...t,instanceId:`${t.instanceId}-${e}`}}function k(){var t;return"chrome"===(null===c.jG||void 0===c.jG||null===(t=c.jG.CurrentRequestTargetScope)||void 0===t||null===(t=t.browser)||void 0===t?void 0:t.browserType)}function T(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.ij)();return/Edg/.test(t)}function $(t,e){return(function(){return T(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,p.ij)())&&S()}()||Boolean("emmx-launcher-feeds"===(null===(n=(0,a.ku)())||void 0===n?void 0:n.toLowerCase())))&&t?t:e;var n}function A(t){const e=(0,f.v)(),n="iOS"===(null==e?void 0:e.platform);switch(t){case"article":return n?"saiar":"saaar";case"gallery":return n?"saiga":"saaga";case"video":return n?"saiwatch":"saawatch";case"videoinf":return n?"saivi":"saavi";default:return"saaar"}}function I(){const t=new URL((0,p.l4)());return"vp"===new URLSearchParams(t.search).get("reqsrc")}function P(){const t=(_()||(0,u.nH)())&&!(0,i.P4)();return!b()&&(function(){var t;const e=((0,a.ku)()??new URL(window.location.href).searchParams.get("ocid")??"").toLowerCase(),n=((null===(t=c.jG.CurrentMarket)||void 0===t?void 0:t.split("-"))||[])[0];return"cp_msn_cmc"===e&&"en"===n}()||t)}function _(){return"gem"===E((0,p.l4)())}function M(t){const e=R(t);if(!e)return;const n=e.contentId;return decodeURIComponent(n)!==n?n:encodeURIComponent(n)}function R(t){var e;const n=new RegExp("^.*/(?<contentPrefix>[Aa][Rr]||[Ss]{2}||[Vv][Ii]||[Vv][Dd]||[Vv][Pp]||[Vv][Ss])-(?<contentId>[a-zA-Z0-9]{6,8})(([?].*)||#.*)?$"),i=new RegExp("^.*/(?<contentPrefix>[Vv][Ii])-(?<contentId>.*?)(([?].*)||#.*)?$"),r=new RegExp("^.*/(?<contentPrefix>[Ii][Ss]||[Gg][Mm])-(?<contentId>[a-zA-Z0-9]*)(([?].*)||#.*)?$"),o=t.match(n)||t.match(i)||t.match(r);return o&&null!==(e=o.groups)&&void 0!==e&&e.contentId&&"vn/video"!==o.groups.contentId?o.groups:null}function E(t){if(!t)return null;const e=R(t);if(!e||!e.contentPrefix)return null;switch(e.contentPrefix.toLowerCase()){case"ar":return"article";case"ss":return"gallery";case"vi":return e.contentId&&e.contentId.length>=6&&e.contentId.length<=8?"video":"webcontent";case"vp":case"vs":return"video";case"is":return"insight";case"gm":return"gem"}return null}},44018:function(t,e,n){n.d(e,{t:function(){return r},v:function(){return o}});var i=n(39197);function r(){return(0,i.Vx)()}function o(){return(0,i._4)()}},6684:function(t,e,n){n.d(e,{JA:function(){return i},Rc:function(){return o},_$:function(){return r},mu:function(){return s},wE:function(){return a}});const i=[0,1,2,3,4,5,6],r=[1,2,3,4,5,6,0];const o=function(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=i.length,s=function(t,e){return new Date(t,e,0).getDate()}(t,e),a=new Date(t,e-1,1);if(r)return[a,new Date(t,e-1,s)];let c=a.getDay();const u=s+c,l=u%o;let d=l?o-l:0;d=u+d>=5*o?d:d+o,n&&(c>0?(c-=1,d+=1):(c+=6,d+=1));return[new Date(t,e-1,1-c),new Date(t,e-1,s+d)]},s=(t,e)=>e?`${t.getFullYear()}${`0${t.getMonth()+1}`.slice(-2)}${`0${t.getDate()}`.slice(-2)}`:`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`,a=(t,e)=>{if(!t)return null;try{const n=t.split("-");if(!Array.isArray(n)||3!=n.length)return null;const i=o(Number(n[0]),Number(n[1]),e);return Array.isArray(i)&&2==i.length?[s(i[0],!0),s(i[1],!0)]:null}catch{return null}}},58410:function(t,e,n){n.d(e,{BZ:function(){return a},LL:function(){return u},_F:function(){return d},bc:function(){return l},y6:function(){return h}});var i,r,o=n(21215),s=n(13218);!function(t){t.Map="weather::weathermaps",t.MonthlyForecast="weather::weathermonthlyforecast",t.Weather="weather",t.Widget="widget",t.Forecast="weather::weathertoday",t.HomePage="weather::forecast",t.RecordsAndAveragesPage="weather::weatherrecordsandaverages",t.Life="weather::weatherlife",t.Activity="weather::weatheractivity",t.Pollen="weather::weatherpollen",t.HourlyForecast="weather::weatherhourlyforecast",t.Studio="msnstudio",t.Impactful="weather::weatherimpactful"}(i||(i={})),function(t){t[t.Forecast=1]="Forecast",t[t.Map=2]="Map",t[t.MonthlyForecast=3]="MonthlyForecast",t[t.RecordsAndAveragesPage=4]="RecordsAndAveragesPage",t[t.Pollen=5]="Pollen",t[t.Life=6]="Life",t[t.HourlyForecast=7]="HourlyForecast",t[t.Activity=8]="Activity",t[t.Impactful=9]="Impactful"}(r||(r={}));function a(){const t=f(arguments.length>0&&void 0!==arguments[0]&&arguments[0]);return"weather"===t||"weather::weathertoday"===t||"weather::forecast"===t}function c(){return"weather::weathermaps"===f(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}function u(){return"msnstudio"===f(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}function l(){return"weather::weatherhourlyforecast"===f(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}function d(){return"weather::weatherimpactful"===f(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}function f(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("sharedWidgets"===(null===(n=s.Al.ClientSettings)||void 0===n?void 0:n.apptype)&&"copilotsports"===(null===(i=s.Al.ClientSettings)||void 0===i?void 0:i.pagetype))return"weather";var n,i;const r=null===(t=s.Al.ClientSettings)||void 0===t?void 0:t.pagetype;if(!e||!(0,o.N)())return r;if(r&&r.includes("::"))return r;try{const t=document.getElementsByTagName("head")[0];return JSON.parse(t.getAttribute("data-client-settings")).pagetype||r}catch(t){return void console.error("Failed to get page type from head",t)}}function h(){return c()?2:function(){return"weather::weathermonthlyforecast"===f(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?3:function(){return"weather::weatherrecordsandaverages"===f(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?4:function(){return"weather::weatherlife"===f(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?6:function(){return"weather::weatheractivity"===f(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?8:function(){return"weather::weatherpollen"===f(arguments.length>0&&void 0!==arguments[0]&&arguments[0])}()?5:l()?7:d()?9:1}},74288:function(t,e,n){n.d(e,{FS:function(){return s},GM:function(){return c},Ic:function(){return a}});const i={PLACE:"Place",LOCAL_BUSINESS:"LocalBusiness",ADDRESS:"PostalAddress"},r={ADDRESS:"Address",ROAD:"Road"};var o;function s(t){return t.locationType===o.HYPERLOCAL||t.locationType===o.UNKNOWN}function a(t){return!(null==t||!t.locationType||t.locationType!==o.HYPERLOCAL&&t.locationType!==o.NONHYPERLOCAL&&t.locationType!==o.UNKNOWN)}function c(t,e){switch(t){case i.PLACE:return o.NONHYPERLOCAL;case i.LOCAL_BUSINESS:return o.HYPERLOCAL;case i.ADDRESS:return e===r.ADDRESS?o.HYPERLOCAL:e===r.ROAD?o.NONHYPERLOCAL:o.UNKNOWN;default:return o.UNKNOWN}}!function(t){t[t.HYPERLOCAL=101]="HYPERLOCAL",t[t.NONHYPERLOCAL=102]="NONHYPERLOCAL",t[t.UNKNOWN=103]="UNKNOWN"}(o||(o={}))},42808:function(t,e,n){n.r(e),n.d(e,{getAutoSuggestionName:function(){return c},getDisplayName:function(){return u},isSameLocationLocality:function(){return s},isSameLocationPoint:function(){return o},normalizeLatLong:function(){return a},toLatLong:function(){return l}});var i=n(59398),r=n(22887);function o(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.dP)(t,e,n)}function s(t,e){return!(!t||!e)&&t.locality===e.locality}function a(t,e){return(0,i.br)(t,e)}function c(t){if(t){if(t.autoSuggestionName)return t.autoSuggestionName;const e={enforceSmallLocaleFirst:!0};return(0,i.zl)(t,e)}}function u(t,e){return(0,i.Gf)(t,e)}function l(t){return`${t.latitude},${t.longitude}`}},87507:function(t,e,n){n.r(e),n.d(e,{abbreviateUSState:function(){return r},isNonEmptyName:function(){return s},toCamelCase:function(){return o}});const i={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY","American Samoa":"AS","District of Columbia":"DC",Guam:"GU","Marshall Islands":"MH","Northern Mariana Island":"MP","Puerto Rico":"PR","Virgin Islands":"VI"};function r(t,e,n){return"US"!==n&&"us"!==n||"en-us"!==e?t:i[t]||t}function o(t,e){return t&&JSON.parse(JSON.stringify(t,(function(t,n){if(n&&"object"==typeof n&&!Array.isArray(n)){const t={};for(const i in n)if(Object.hasOwnProperty.call(n,i)){t[e&&e[i]||i&&i.charAt(0).toLowerCase()+i.substring(1)]=n[i]}return t}return n})))}function s(t){return null!=t&&t.trim().length>0}},22887:function(t,e,n){n.d(e,{CR:function(){return a},Cr:function(){return c},G:function(){return b},PE:function(){return m},Qw:function(){return S},_v:function(){return p},a7:function(){return u},bd:function(){return l},dP:function(){return y},eK:function(){return d},eu:function(){return w},f6:function(){return h},qE:function(){return f},r3:function(){return v}});var i=n(77137),r=n(59398),o=n(13218),s=n(87507);function a(t){return(0,r.JY)(t)}function c(t){return(void 0!==t.latitude||void 0!==t.longitude)&&(!a(t)||""+t.latitude=="-1"&&""+t.longitude=="-1")}function u(t){const e=i.jG.AppType;return["windowsShell","windows","windowsNewsPlus","winWidgets"].indexOf(e)>=0?!(!t||!(t.addressLine||t.locality||t.region)):"zh-cn"===t.language||"CN"===t.isoCode?!(!t||!(t.addressLine||t.locality||t.subRegion||t.addressLine)):!(!t||!t.locality&&!t.addressLine)}function l(t){const e=o.Al.Locale;return t&&t.language&&(t.language===e||/en-/i.test(t.language)&&/en-/i.test(e))}function d(t){return(/,g=([a-z]+-[a-z]+)$/i.exec(t)||[])[1]}function f(){if(o.Al.ClientSettings&&o.Al.ClientSettings.geo_lat&&o.Al.ClientSettings.geo_long&&""!==o.Al.ClientSettings.geo_lat&&""!==o.Al.ClientSettings.geo_long){const t={latitude:o.Al.ClientSettings.geo_lat,longitude:o.Al.ClientSettings.geo_long,locality:o.Al.ClientSettings.geo_city,region:o.Al.ClientSettings.geo_subdivision,country:o.Al.ClientSettings.geo_countryname,isoCode:o.Al.ClientSettings.geo_country,isDetected:!0,language:"en-us"};return t.region=(0,s.abbreviateUSState)(t.region,t.language,t.isoCode),t.displayName=(0,r.Gf)(t),t}return null}function h(t){if(t)return t.el?`el=[${t.el}]`:`lat=${t.latitude},long=${t.longitude}`}function p(t){return`${t.latitude},${t.longitude}`}function m(t){return`${g(t.latitude)},${g(t.longitude)}`}function g(t){const e="number"==typeof t?t:parseFloat(t);return Math.trunc(1e3*e)/1e3}function v(t,e){if(!t)return!1;for(const n of t)if(y(n,e))return!0;return!1}function w(t,e,n){return!(!t||!e)&&(0,r.Gf)(t,n)===(0,r.Gf)(e,n)}function y(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&e){let i=""+(t[0]||t.latitude),r=""+(e[0]||e.latitude),o=""+(t[1]||t.longitude),s=""+(e[1]||e.longitude);return n&&(i=g(i).toString(),o=g(o).toString(),r=g(r).toString(),s=g(s).toString()),i===r&&o==s}return!1}function b(t,e){return!(!t||!e)&&((0,r.aQ)(t)!=(0,r.aQ)(e)&&(0,r.Gf)(t)!==(0,r.Gf)(e))}function S(t,e){return!(!t||!e)&&(w(t,e)&&y(t,e,!0))}},59398:function(t,e,n){n.d(e,{$i:function(){return x},DF:function(){return p},Gf:function(){return l},JY:function(){return y},XA:function(){return C},aQ:function(){return f},br:function(){return S},gl:function(){return g},mH:function(){return d},vt:function(){return w},zl:function(){return h}});var i=n(77137),r=n(33779),o=n(5302),s=n(87507),a=n(83245),c=n.n(a),u=n(21215);function l(t,e){if(t)return t.copilotLocationName?t.copilotLocationName:!t.displayName||null!=e&&e.skipOldName?h(t,e):t.displayName}function d(t,e,n){const i={fireErrorIfLatLongName:!0,enforceOnlySmallLocal:!0,...n},s=t&&t.displayName,a=p(t,i),c=a.length>0?a[0]:s,u=0===a.length;return c?null!=i&&i.fireErrorIfLatLongName&&u&&(0,r.H)(o.s$v,`Error: Location name in ${e||"weather"} is Lat Long.`,void 0,{...o.s$v.pb,customMessage:`CurrentLocation: ${JSON.stringify(t)}.`}):(0,r.H)(o.s$v,`Error: Short location name in ${e} is empty.`,void 0,{...o.s$v.pb,customMessage:`ShortlocationNameArr: ${a}.\n                CurrentLocation: ${JSON.stringify(t)}. \n                `}),c}function f(t){return t.definitionName||`${t.latitude},${t.longitude}`}function h(t,e){return p(t,e).join(", ")}function p(t,e){var n;"united states"===(null==t||null===(n=t.country)||void 0===n?void 0:n.toLowerCase())&&(t.isoCode="US");const r=!e||!e.skipLocale,o=!(null!=e&&e.skipAddressLine),a=i.jG&&i.jG.LocaleContentMarket&&i.jG.LocaleContentMarket.market,c=(t.isoCode||"").toUpperCase(),u=c&&a&&a.substr(-c.length).toUpperCase()===c,l=w(t.isoCode,t.language)?null:t.subRegion,d=(0,s.abbreviateUSState)(t.region,t.language,t.isoCode),f=[o&&t.addressLine,r?t.locality:"",l,d,null!=e&&e.skipCountry?"":t.country].filter((t=>!!t));let h=0;for(;f[h+1];)f[h+1]===f[h]?f.splice(h+1,1):h++;const p="CN"==(null==a?void 0:a.toUpperCase())?1:2;if(t.country&&u&&f.length>p&&f.splice(-1,1),e&&e.enforceOnlySmallLocal&&f.length>0){return[/,/.test(f[0])?f[0].split(",")[0]:f[0]]}var g;e&&e.enforceSmallLocaleFirst||(g=t.language)&&m.has(g.toUpperCase())&&f.reverse(),null!=e&&e.enforceOnlySmallLocal||0!=f.length||!t.latitude||!t.longitude||(f.push(t.latitude),f.push(t.longitude));return f.filter((t=>"string"!=typeof t||t.trim().length>0))}const m=new Set(["ZH-CN","KO-KR","JA-JP"]);function g(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={cl:t.copilotLocationName,a:t.addressLine,l:t.locality,r:t.region,r2:t.subRegion,c:t.country,i:t.isoCode,t:t.locationType,g:t.language,x:e?t.longitude:void 0,y:e?t.latitude:void 0,n:i.jG.isMiniProgram?t.displayName:void 0,m:t.tag,o:t.confirmed},r=JSON.stringify(n,((t,e)=>null!=e&&""!==e?e:void 0));return"{}"!==r?r:void 0}const v=new Set(["JP","TW"]);function w(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(!e||"zh-cn"!=e.toLowerCase())&&!v.has((t||"").toUpperCase())}function y(t){const e=parseFloat(null==t?void 0:t.latitude),n=parseFloat(null==t?void 0:t.longitude);return b(e,-85,85)&&b(n,-180,180)&&(0!==e||0!==n)}function b(t,e,n){return!isNaN(t)&&t>=e&&t<=n}function S(t,e){return{latitude:""+parseFloat(t),longitude:""+parseFloat(e)}}function x(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)try{const n=JSON.parse(t),r={};return r.addressLine=$(n.a),r.copilotLocationName=$(n.cl),r.locality=$(n.l),r.region=$(n.r),r.subRegion=$(n.r2),r.country=$(n.c),r.isoCode=n.i,r.locationType=n.t,r.language=n.g,null!=n.m&&(r.tag=n.m),null!=n.o&&(r.confirmed=n.o),e&&(r.latitude=n.y,r.longitude=n.x),i.jG.isMiniProgram&&(r.displayName=$(n.n)),r}catch(t){return}}function C(t,e){return!(!t||!e)&&(k(t.longitude,e.longitude)&&k(t.latitude,e.latitude))}function k(t,e){return!(!t||!e)&&T(t)===T(e)}function T(t){const e=parseFloat(t),n=Math.pow(10,6);return Math.round(e*n)/n}function $(t){return t&&(0,u.N)()?c().sanitize(t):t}},16946:function(t,e,n){n.d(e,{Er:function(){return A},Id:function(){return y},L$:function(){return v},Pc:function(){return S},SL:function(){return f},SY:function(){return R},Wy:function(){return $},XX:function(){return C},d1:function(){return T},e2:function(){return x},eD:function(){return _},ec:function(){return E},j1:function(){return k},lH:function(){return m},lr:function(){return M},rh:function(){return g},x3:function(){return b},yk:function(){return P},zb:function(){return w},zj:function(){return D}});var i=n(13218),r=n(77137),o=n(5232),s=n(59465),a=n(58410),c=n(21215);const u=["edge_desktop_ntp_ruby","edge_desktop_dhp_ruby","edge_enterprise_desktop_ntp_ruby","edge_enterprise_desktop_dhp_ruby","msnruby","edgntpruby","edgdhpruby","edgentntpruby","edgentdhpruby","ma13x3"],l=["weather-copilot-card","weather-copilot-hp"],d=[...l,"copilot"];function f(t){if((0,c.N)()){return((null===i.Al||void 0===i.Al?void 0:i.Al.CurrentFlights)||"").includes(t)}var e;if(((null===r.Vh||void 0===r.Vh||null===(e=r.Vh.getInstance())||void 0===e||null===(e=e.CurrentRequestTargetScope)||void 0===e?void 0:e.pageExperiments)||[]).some((e=>e.startsWith(t))))return!0;return!1}function h(t){try{var e;const n=(null==t?void 0:t.toLowerCase())||"";return((0,c.N)()?((null===i.Al||void 0===i.Al?void 0:i.Al.CurrentFlights)||"").split(","):(null===r.Vh||void 0===r.Vh||null===(e=r.Vh.getInstance())||void 0===e||null===(e=e.CurrentRequestTargetScope)||void 0===e?void 0:e.pageExperiments)||[]).some((t=>t&&t.toLowerCase().trim()==n))}catch{return!1}}function p(t){try{var e;const n=t.map((t=>t.toLowerCase().trim()))||[];return((0,c.N)()?((null===i.Al||void 0===i.Al?void 0:i.Al.CurrentFlights)||"").split(","):(null===r.Vh||void 0===r.Vh||null===(e=r.Vh.getInstance())||void 0===e||null===(e=e.CurrentRequestTargetScope)||void 0===e?void 0:e.pageExperiments)||[]).some((t=>t&&n.includes(t.toLowerCase().trim())))}catch{return!1}}function m(){let t=[];var e;(0,c.N)()?t=((null===i.Al||void 0===i.Al?void 0:i.Al.CurrentFlights)||"").split(","):t=(null===r.Vh||void 0===r.Vh||null===(e=r.Vh.getInstance())||void 0===e||null===(e=e.CurrentRequestTargetScope)||void 0===e?void 0:e.pageExperiments)||[];return t=t.filter(g),t.join(",").toUpperCase()}function g(t){const e=(null==t?void 0:t.toLowerCase())??"";return e.startsWith("prg-1sw-wx")||e.startsWith("prg-1s-wx")||e.startsWith("1s-wx")||e.startsWith("prg-wea")}function v(){return f("prg-wx-seo")}function w(){return(0,a.BZ)()&&!r.jG.isMobile||E()&&(0,a.BZ)()||(0,a._F)()||(0,a.LL)()}function y(){return r.jG.isMobile&&((0,a.bc)()||(0,a.BZ)())}function b(){return(0,a.BZ)()&&r.jG.isMobile}function S(){return(0,a.bc)()&&r.jG.isMobile}function x(){return r.jG.isMobile&&(0,a.bc)()}function C(){var t;return"zh-cn"!=(null===(t=i.Al.Locale)||void 0===t?void 0:t.toLocaleLowerCase())&&r.jG.isMobile&&(0,a.bc)()}function k(){return p(["prg-wx-nopti","prg-wx-nrank"])&&(0,a.BZ)()&&!r.jG.isMobile&&!0}function T(){var t;return((0,a.BZ)()&&!r.jG.isMobile||C()||E()&&r.jG.isMobile&&(0,a.BZ)())&&"zh-cn"!=(null===(t=i.Al.Locale)||void 0===t?void 0:t.toLocaleLowerCase())}function $(){var t;return h("prg-1sw-wxaqifct")&&"zh-cn"==(null===(t=i.Al.Locale)||void 0===t?void 0:t.toLocaleLowerCase())}function A(t){return!1}function I(t){try{var e;const n=new URL(decodeURIComponent(t||(null===r.jG||void 0===r.jG?void 0:r.jG.SourceUrl)||(null===(e=window)||void 0===e||null===(e=e.location)||void 0===e?void 0:e.href)||"").toLowerCase()),i=new URLSearchParams(n.searchParams);return(i.get("ocid")||(0,o.ku)()||"").toLowerCase()}catch{return""}}function P(t){return d.includes(I(t))||_(t)}function _(t){return u.includes(I(t))||(0,s.nH)()}function M(){return(u.includes(I())||(0,s.nH)())&&(0,a.BZ)()}function R(t){try{return P(t)&&!r.jG.isMobile}catch{return!1}}function E(t){return P(t)&&f("prg-wx-c2cop2")||_(t)}const F=["stpromoshoreline","stpromoshorelineent"];function D(){const t=((0,o.ku)()||"").toLowerCase();return F.includes(t)}},97634:function(t,e,n){function i(t){if(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&t.display)return t.display;if(t.content)return t.content}return t}function r(t){return t.language&&t.market&&(t.language+"-"+(t.script?t.script+"-":"")+t.market).toLowerCase()||""}function o(t){var e;if(!t||!t.startsWith("f:"))return;const n=(t.match(/f:\s*([^;]+)/i)||[])[1];return n?null===(e=n.toLowerCase().split(","))||void 0===e?void 0:e.sort():[]}n.d(e,{He:function(){return i},py:function(){return r},vF:function(){return o}})},73344:function(t,e,n){n.d(e,{D3:function(){return l},KL:function(){return p},QG:function(){return v},XR:function(){return S},mL:function(){return b},pG:function(){return f},q3:function(){return h},vc:function(){return d},zz:function(){return w}});var i=n(58009),r=n(12697);let o;const s="//img-s-msn-com.akamaized.net/tenant/amp/entityid/",a="//img-s.msn.cn/tenant/amp/entityid/",c="//prod-streaming-video-msn-com.akamaized.net/",u="//prod-streaming-video.msn.cn/";var l,d;!function(t){t.JPG="jpg",t.PNG="png",t.WEBP="webp"}(l||(l={})),function(t){t[t.None=0]="None",t[t.Letterbox=1]="Letterbox",t[t.Scale=2]="Scale",t[t.Stretch=3]="Stretch",t[t.Crop=4]="Crop",t[t.FocalCrop=5]="FocalCrop",t[t.FacialCrop=6]="FacialCrop"}(d||(d={}));const f=90,h="www.bing.com/th",p=new RegExp(/bing\.(com|net)\/th/),m=new RegExp(/copilot\.microsoft\.com/),g=new RegExp(/gettyimages\.com/);function v(t,e){return`${(0,i.PQ)()?u:c}${t}.${e||"mp4"}`}function w(t,e){return b(((0,i.PQ)()?a:s)+t,e)}const y=Math.ceil(4*Math.random())||4;function b(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&p.test(t))return function(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{const i=x(new URL(t),e);return n&&!i.searchParams.has("pid")&&i.searchParams.set("pid","wdpv2"),i.href}catch(n){const i=x(new URL(`https://${t}`),e);return`//${i.host}${i.pathname}${i.search}`}}(t,e,n);if(t&&m.test(t))return function(t,e){const{width:n=0,height:i=0,format:r=l.JPG,crop:o=1,padding:s=0}=e;let a;try{a=new URL(t)}catch(e){return t}return a.searchParams.set("w",n.toString()),a.searchParams.set("h",i.toString()),a.searchParams.set("f",r.toString()),a.searchParams.set("c",o.toString()),a.searchParams.set("rs","1"),a.searchParams.set("p",s.toString()),a.toString()}(t,e);if(t&&g.test(t)&&n)return t;const{focalRegion:i,backgroundColor:s}=e;let{width:a=0,height:c=0,format:u=l.JPG}=e,d="";if(i){const t=k(i.x1,i.x2),e=k(i.y1,i.y2);null!=t&&null!=e&&(d+=`&x=${t}&y=${e}`)}s&&(d+=`&b=${s}`);const h=null==e.mode?6:e.mode;if(6===h&&(d+="&u=t"),e.enableDpiScaling){if(!e.devicePixelRatio)throw new Error("A valid devicePixelRatio value must be provided when DPI scaling is enabled");const t=function(t){if(C()&&o)return o;if(t<1)return null;let e=t;(0,r.Z)(4*e)||(e=Math.ceil(10*e)/10);e>3&&(e=3);C()&&(o=e);return e}(e.devicePixelRatio);t&&(a=Math.round(a*t),c=Math.round(c*t))}let v=e.quality||60;return e.enableWebpFormat&&(u=l.WEBP,v=e.quality||f,t=S(t)),`${t}?w=${a}&h=${c}&q=${v}&m=${h}&f=${u}${d}`}function S(t){return t&&(0,i.PQ)()&&t.indexOf(s)>=0?t.replace(s,a):t}function x(t,e){(0,i.PQ)()&&(t.hostname=`ts${y}.tc.mm.bing.net`);const{width:n=0,height:r=0}=e,o=e.quality||f,s=e.crop||0===e.crop?e.crop:1;if(t.searchParams.set("w",`${n}`),t.searchParams.set("h",`${r}`),t.searchParams.set("qlt",`${o}`),t.searchParams.set("c",`${s}`),t.searchParams.set("rs","1"),e.enableDpiScaling){t.searchParams.set("dpr",`${e.devicePixelRatio}`);const n=e.padding||0;t.searchParams.set("p",`${n}`)}return t}function C(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}function k(t,e){if(null!=t&&null!=e)return Math.floor((t+e)/2)}},58009:function(t,e,n){let i,r;function o(t){i=t}function s(){return i}function a(t){r=t}function c(){return r}n.d(e,{PQ:function(){return s},g8:function(){return c},jW:function(){return a},sV:function(){return o}})},58496:function(t,e,n){function i(){return{experienceType:"AppConfig",instanceSrc:"default"}}n.d(e,{j:function(){return i}})},14573:function(t,e,n){n.d(e,{S:function(){return m}});var i=n(27545),r=n(62042),o=n(82218),s=n(19517),a=n(82854),c=n(37955),u=n(77137),l=n(23209);let d;class f{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=t,this.defaultColumSize=300,this.update=()=>{const t=this.identifyBreakpoint(window.innerWidth);this.breakpoint.column!==t.column&&(this.breakpoint=t,i.H.set(i.a.ColumnArrangement,t.column)),this.openRequestAnimationFrame=!1},this.requestFrame=()=>{this.openRequestAnimationFrame||(this.openRequestAnimationFrame=!0,window.requestAnimationFrame(this.update))},this.options.gutterSize=this.options.gutterSize||12,this.options.breakpointOverrides=this.options.breakpointOverrides||new Map,this.options.enableFiveColumnLayout=this.options.enableFiveColumnLayout||!1,this.setBreakpoints(),this.breakpoint=this.identifyBreakpoint(window.innerWidth),i.H.set(i.a.ColumnArrangement,this.breakpoint.column),window.addEventListener("resize",this.requestFrame)}get currentColumnArrangement(){return this.breakpoint.column}setBreakpoints(){this.breakpoints=[this.getBreakpoint(l.K$.c1),this.getBreakpoint(l.K$.c2,2),this.getBreakpoint(l.K$.c3,3),this.getBreakpoint(l.K$.c4,4)],this.options.enableFiveColumnLayout&&this.breakpoints.push(this.getBreakpoint(l.K$.c5,5))}getBreakpoint(t,e){return{column:t,width:this.options.breakpointOverrides.get(t)||this.calculateBreakpointWidth(e)}}calculateBreakpointWidth(t){return!t||t<=0?0:this.defaultColumSize*t+this.options.gutterSize*(t-1)+32}identifyBreakpoint(t){for(let e=this.breakpoints.length-1;e>-1;e--){const n=this.breakpoints[e];if(t>=n.width)return n}}}const h=t=>(d||(d=new f(t)),d);let p=!1;function m(){if(p)return;const t=function(){const t=u.jG.AuthCookieName;if(!t)return 1;const e="app_anon"===t?"aace":"ace";return(0,c.ej)(e)?2:1}(),e=(0,a.hI)();i.H.set(i.a.IsSignedIn,t),i.H.set(i.a.CookieConsentStatus,e?r._.Required:r._.NotRequired),e&&window.addEventListener(o.C,g),(0,a.iF)()&&g(),h(),p=!0}function g(){const t=window.OnetrustActiveGroups;let e=[];t&&(e=t.trim().split(",").filter((t=>t&&t.trim()&&t in s.Q)).map((t=>s.Q[t]))||[]),e.length||e.push(s.Q.C0001),i.H.set(i.a.OnetrustActiveCookieGroups,e)}},27545:function(t,e,n){n.d(e,{H:function(){return c},a:function(){return i}});var i,r=n(52185),o=n(81489),s=n(80293);!function(t){t[t.IsSignedIn=1]="IsSignedIn",t[t.CookieConsentStatus=2]="CookieConsentStatus",t[t.OnetrustActiveCookieGroups=3]="OnetrustActiveCookieGroups",t[t.IsDarkMode=4]="IsDarkMode",t[t.ColumnArrangement=5]="ColumnArrangement",t[t.CurrentRoute=6]="CurrentRoute",t[t.TopicData=7]="TopicData",t[t.IsDocumentVisible=8]="IsDocumentVisible",t[t.IsSingleColumn=9]="IsSingleColumn"}(i||(i={}));class a extends s.v{constructor(){super(...arguments),this.handleVisibilityChange=()=>{this.set(i.IsDocumentVisible,"visible"===document.visibilityState)}}subscribe(t,e){this.has(t)||(t===i.IsDarkMode&&this.initBrowserThemeListener(),t===i.IsDocumentVisible&&this.initBrowserVisibilityListener()),super.subscribe(t,e)}initBrowserThemeListener(){const t=window.matchMedia("(prefers-color-scheme:dark)");this.set(i.IsDarkMode,t.matches),t.onchange=t=>{this.set(i.IsDarkMode,t.matches)}}initBrowserVisibilityListener(){this.handleVisibilityChange(),document.addEventListener("visibilitychange",this.handleVisibilityChange,{once:!0})}static getInstance(){return r.Gq.get(this.appStateInstanceKey,(()=>new a("AppState")))}}a.appStateInstanceKey=Symbol("__windowsAppState__");const c=(0,o.h)(a,{bindMethod:!0})},64791:function(t,e,n){n.d(e,{$1:function(){return l},Xs:function(){return d}});var i=n(59878),r=n(77137),o=n(82588),s=n(37955);const a=10/1440,c="cbypass";let u=parseInt((0,s.ej)(c))||0;function l(){return Promise.all([i.U.purgeCacheAsync(i.R.base),i.U.purgeCacheAsync(i.R.followedTopics)])}async function d(){u=Date.now(),(0,s.sq)(c,u.toString(),a,r.jG.HostPage.topDomain,"/"),await i.U.purgeCacheAsync(i.R.river),(0,o.mS)({id:"updatemyfeed",payload:u})}},23209:function(t,e,n){var i;n.d(e,{K$:function(){return i}}),function(t){t.c1="c1",t.c2="c2",t.c3="c3",t.c4="c4",t.c5="c5"}(i||(i={}));var r;!function(t){t.Default="default",t.UserChoice="userChoice",t.Flight="flight",t.WpoPromotion="wpoPromo"}(r||(r={}))},39864:function(t,e,n){var i;function r(){return o}n.d(e,{A:function(){return i},j:function(){return r}}),function(t){t.RemovePersonalizeBtn="prg-1sw-remper",t.ForceSingleColumn="prg-1sw-frsincol",t.Clarity="prg-1sw-clarity",t.Tenorite="prg-tenorite",t.RefreshRR="prg-winrefreshrr",t.AmplifyRiver="prg-wpo-ampwhpriv",t.AmplifyRR="prg-wpo-ampwhprr",t.FontDisplay="prg-hp-display",t.FontMinus2="prg-hp-minus2",t.FontDisplaym2="prg-hp-displaym2",t.ColdStartP1="prg-1sw-cldp1",t.ColdStartP4="prg-1sw-cldp4",t.ColdStartS1="prg-1sw-clds1",t.ColdStartS4="prg-1sw-clds4",t.ColdStartC="prg-1sw-cld",t.GrayMode="prg-hp-gray",t.SectionHeaderTopStories="prg-tsec-ts",t.SectionHeaderGreetingTopStories="prg-tsec-tsg",t.SectionHeaderTrendingNow="prg-tsec-trend",t.SectionHeaderGreetingTrendingNow="prg-tsec-trendg",t.ForceSuperLinear="prg-1sw-frsplin",t.DeferralReverseFlight="prg-hp-no-defer",t.FiveColumn="prg-hp-fivecol",t.MsnHPOCIDFlight="prg-whpocidhpmsn",t.MSNMeStripeFlight="prg-whpmestripe",t.MSNDisplayAdsFlight="prg-whpdisplayad",t.MSNDisplayAdsFeedFlight="prg-whpdisadfeed",t.MSNHeaderFlight="prg-whpmsnheader"}(i||(i={}));const o={[i.SectionHeaderTrendingNow]:{markets:["en-us"]},[i.SectionHeaderGreetingTrendingNow]:{markets:["en-us"]},[i.ColdStartP1]:{markets:["en-us","en-in","en-ca","en-au"]},[i.ColdStartP4]:{markets:["en-us","en-in","en-ca","en-au"]},[i.ColdStartS1]:{markets:["en-us","en-in","en-ca","en-au"]},[i.ColdStartS4]:{markets:["en-us","en-in","en-ca","en-au"]},[i.ColdStartC]:{markets:["en-us","en-in","en-ca","en-au"]}}},65662:function(t,e,n){n.d(e,{n4:function(){return u}});var i=n(39864),r=n(13218),o=n(77137),s=n(44132),a=n(22914);const c=["windirect","winp0dash","winp1taskbar","winp2juntaskbar","winp2"];i.A.SectionHeaderGreetingTopStories,i.A.SectionHeaderTopStories;function u(t){return!(!function(){if("windows"===(0,a.R)().appType)return!0;const t=(function(){let t;try{location.search&&(t=new URLSearchParams(location.search.toLowerCase()).get("ocid")),t||(t=(0,a.R)().ocid),!t&&s.M0&&(t=s.M0.getPageMetadata().contract.page.ocid)}catch(t){}return t}()||"").toLowerCase();return c.includes(t)||t.startsWith("win")}()||!t)&&(-1!==r.Al.CurrentFlights.indexOf(t.toLowerCase())&&function(t){const{markets:e=[]}=(0,i.j)()[t]||{};if(!e.length)return!0;return-1!==e.indexOf(o.jG.CurrentMarket)}(t))}},22914:function(t,e,n){n.d(e,{R:function(){return s}});var i=n(13218),r=n(52185);const o="__windowsClientSettings__",s=()=>(r.Gq.get(o)||r.Gq.set(o,Object.freeze(function(){const t=i.Al.ClientSettings;if(!t)return{};const e={activityId:t.aid||"",appType:t.apptype,categoryKey:t.categoryKey,pageType:t.pagetype,verticalKey:t.verticalKey||"",ocid:t.ocid};try{if(t.locale)e.market=`${t.locale.language}-${t.locale.market}`;else{const t=location.pathname.split("/");t&&t[1]&&(e.market=t[1].toLowerCase())}}catch(t){}return e}())),r.Gq.get(o))},61970:function(t,e,n){n.d(e,{tR:function(){return c},Un:function(){return s}});var i=n(33779),r=n(5302);var o=n(77137);n(61303);"object"!=typeof window||!window.chrome||window.chrome.webview,new class{constructor(){this._isTrue=!1,this.onTrueCallbacks={}}isTrue(){return this._isTrue}reset(){this._isTrue=!1,this.onTrueCallbacks={}}sub(t,e){this._isTrue?e&&e():t&&e&&"function"==typeof e&&(this.onTrueCallbacks[t]=e)}unsub(t){t&&this.onTrueCallbacks[t]&&delete this.onTrueCallbacks[t]}setTrue(){if(this._isTrue)return;this._isTrue=!0;Object.keys(this.onTrueCallbacks).forEach((t=>{this.onTrueCallbacks[t]&&this.onTrueCallbacks[t]()})),this.onTrueCallbacks={}}};const s=()=>{let t=!1,e=!1;try{const{shellFeedsExperienceInfo:n}=c()||{};if(!n)return!1;t=0===n.buttonInteraction,e=n.isWebviewVisible}catch(t){return(0,i.H)(r.$Yi,"Error with shellFeedsExperienceInfo API for isWindowShellPageInBackground",`Thrown error: ${t}`),!1}return u("prg-1sw-wv2bgup")?t:u("prg-1sw-2wv2bgup")?!e:u("prg-1sw-3wv2bgup")?t||!e:!e&&t};const a=u("prg-1sw-apiproxy"),c=()=>{if(window.ShellFeedsApp)return a?new Proxy(window.ShellFeedsApp,{get(t,e,n){try{if("isProxy"===e)return!0;if("toJSON"===e)return()=>function(t){const e={},n=Object.getOwnPropertyNames(t);for(const i of n)e[i]=t[i];return JSON.stringify(e)}(t);if("shellFeedsExperienceInfo"===e||"authManager"===e)return new Proxy(t[e]||{},this);const n=e in t?t[e]:void 0;return"function"==typeof n?n.bind(t):n}catch(t){!function(t,e){(0,i.OO)(e||new Error("Property not found"),r.$Yi,"shellFeedsAppApi error",`API: ${t}`)}(e,t)}}}):window.ShellFeedsApp};!function(){try{const{shellFeedsExperienceInfo:t}=c()||{};return!!t&&!1===t.showPinToTaskbarBanner}catch(t){return!1}}();function u(t){return(o.jG&&o.jG.CurrentRequestTargetScope&&o.jG.CurrentRequestTargetScope.pageExperiments||[]).includes(t)}},66651:function(t,e,n){n.d(e,{Iq:function(){return c},MD:function(){return s},gL:function(){return a}});var i=n(80293),r=n(43225);const o=new i.v("WidgetLoadTracker");function s(t){o.has(t)||("hidden"!==document.visibilityState?(0,r.c)((()=>o.set(t,!0))):o.set(t,!0))}const a=new i.v("WidgetAppState");var c;!function(t){t[t.IsDarkMode=1]="IsDarkMode",t[t.IsDashboardVisible=2]="IsDashboardVisible",t[t.ActionMenuStrings=3]="ActionMenuStrings",t[t.NonPeregrineWidgetTelemetryObject=4]="NonPeregrineWidgetTelemetryObject",t[t.FeedRegionWidgets=5]="FeedRegionWidgets",t[t.RecommendedWidgets=6]="RecommendedWidgets",t[t.DefaultPreviewType=7]="DefaultPreviewType",t[t.IsReauthRequired=8]="IsReauthRequired",t[t.IsWindowShown=9]="IsWindowShown",t[t.FeedRefreshPromise=10]="FeedRefreshPromise",t[t.Suspended=11]="Suspended",t[t.ClientLayoutVersion=12]="ClientLayoutVersion",t[t.IsLSCachedFeedUsed=13]="IsLSCachedFeedUsed",t[t.IsExpandedViewEnabled=14]="IsExpandedViewEnabled",t[t.DelayTtvrPromise=15]="DelayTtvrPromise",t[t.TaskbarLaunchState=16]="TaskbarLaunchState",t[t.IsPreferenceMigrationComplete=17]="IsPreferenceMigrationComplete",t[t.WidgetPinnedPreferences=18]="WidgetPinnedPreferences",t[t.IsFeedsShown=19]="IsFeedsShown",t[t.BoardsNavigationState=20]="BoardsNavigationState",t[t.DisablePinIcon=21]="DisablePinIcon",t[t.AllowedPeregrineWidgets=22]="AllowedPeregrineWidgets",t[t.DisableEarlyFetchWithNormalflow=23]="DisableEarlyFetchWithNormalflow",t[t.OverrideScrollOffset=24]="OverrideScrollOffset",t[t.IsSplit1S=25]="IsSplit1S",t[t.Layout3InDiscover=26]="Layout3InDiscover",t[t.IsDMARegionAndEdgeNotDefault=27]="IsDMARegionAndEdgeNotDefault",t[t.TaskbarUpdateLaunchEventPromise=28]="TaskbarUpdateLaunchEventPromise"}(c||(c={}))},53606:function(t,e,n){n.d(e,{fy:function(){return Ut},GZ:function(){return Nt},eW:function(){return Dt}});var i=n(33779),r=n(5302),o=n(242),s=n(24358),a=n(72465),c=n(44132),u=n(5813),l=n(70249),d=n(52541),f=n(35587),h=n(69931),p=n(95603),m=n(26156),g=n(21215),v=n(52185),w=n(22680),y=n(24939),b=n(97265),S=n(32308),x=n(66258),C=n(95438),k=n(13218),T=n(10105),$=n(93348),A=n(24032);var I=n(77137),P=n(82588),_=n(28951),M=n(7733),R=n(5884),E=n(92421),F=n(15598),D=n(34800),O=n(98675);const N=Symbol("__debugIdList__"),U=Symbol("__renderedCardIds__"),L=t=>{var e,n,o,s;const{jsonResponse:a,heroSection:c,segment:u}=t,l=a.sections.find((t=>"cardData_hero"===t.region)),d=(null==l||null===(e=l.cards)||void 0===e?void 0:e.length)??0;if(!d)return void(0,i.H)(r.GX5,`Missing Card Data Hero Region - ${u}`,void 0,{...r.GX5.pb,segment:u,customMessage:`debugId: ${a.debugId}`});const f=j[u].cardCounts.includes(d);let h=!0,p=!1;const m=H.get(u);if(null==l||null===(n=l.cards)||void 0===n||n.forEach((t=>{m.has(t.type)||(z.includes(t.type)?p=!0:h=!1)})),p&&(0,i.H)(r.uud,`Hero card backfilled - ${u}`,void 0,{...r.uud.pb,segment:u,receivedCardCount:d,cardsInResponse:JSON.stringify(((null==l?void 0:l.cards)||[]).map((t=>t.type))),customMessage:`debugId: ${a.debugId}`,isCorrectCardCount:f,isValidCardTypes:h}),!f||!h)return void(0,i.H)(r.GX5,`Invalid Card Data Hero Region - ${u}`,void 0,{...r.GX5.pb,segment:u,receivedCardCount:d,cardsInResponse:JSON.stringify(((null==l?void 0:l.cards)||[]).map((t=>t.type))),customMessage:`debugId: ${a.debugId}`,isCorrectCardCount:f,isValidCardTypes:h,hasBackfilled:p});const g=(null===(o=((null==c?void 0:c.subSections)||[]).find((t=>5===(null==t?void 0:t.requestedColumnCount))))||void 0===o?void 0:o.subSections)||[],v=g.filter((t=>{var e;return"placeholder"!==(null==t||null===(e=t.cards)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.type)})),w=v.length===d;let y=!0;const b=null==l||null===(s=l.cards)||void 0===s?void 0:s.map((t=>t.id));v.forEach((t=>{var e;b.includes(null==t||null===(e=t.cards)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.id)||(y=!1)})),w&&y||(0,i.H)(r.GX5,`Invalid Hero Waterfall Region - ${u}`,void 0,{...r.GX5.pb,segment:u,cardsInResponse:JSON.stringify(g.map((t=>{var e,n;return`${null==t||null===(e=t.cards)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.id}|${null==t||null===(n=t.cards)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.type}`}))),customMessage:`debugId: ${a.debugId}`,isCorrectCardCount:w,isValidCardIds:y})},B=t=>{switch(t){case"weather":return r.HEk;case"sports":return r.KnF;case"finance":return r.ewo;case"traffic":return r.yRT;case"cegrowth":return r.duJ;default:return r.SAl}};var W;!function(t){t.weather="weather",t.traffic="traffic",t.finance="finance",t.sports="sports",t.cegrowth="cegrowth",t.videos="videos"}(W||(W={}));const H=new Map([["weather",new Set([D.PL.WeatherHero,D.PL.WeatherCurrent,D.PL.WeatherForecast,D.PL.WeatherMap])],["traffic",new Set([D.PL.TrafficIncidents,D.PL.TrafficCamerasWithSummary,D.PL.TrafficMap,D.PL.TrafficNews,D.PL.TravelTimes,D.PL.TravelTimesWithSummary,D.PL.TrafficCameras,D.PL.TrafficTransit,D.PL.TrafficSummary,D.PL.TopicFeed])],["cegrowth",new Set([D.PL.DailyMomentsCard1,D.PL.MiTHeroAction,D.PL.MiTHeroContent,D.PL.DailyMomentsCard2,D.PL.DailyMomentsCard3,D.PL.MiTHeroFollow,D.PL.MiTHeroSpotlight])],["sports",new Set([D.PL.SportsHeroFre,D.PL.SportsHeroLeagueTodaysEvents,D.PL.SportsHeroMatch1SeasonStats,D.PL.SportsHeroMatch1Stats,D.PL.SportsHeroMatch2SeasonStats,D.PL.SportsHeroMatch2Stats,D.PL.SportsHeroMatch3SeasonStats,D.PL.SportsHeroMatch3Stats,D.PL.SportsHeroMatchStatistics,D.PL.SportsHeroMatchCard,D.PL.SportsHeroNews,D.PL.SportsHeroOneVsManyEventResult,D.PL.SportsHeroOneVsOneEventResult,D.PL.SportsHeroSeasonStatistics,D.PL.SportsHeroStandingsRankings,D.PL.SportsHeroTeamStandings,D.PL.SportsHeroTeamStandingWithEvents,D.PL.SportsHeroTeamStandingWithMedals,D.PL.SportsHeroTeamVsTeam,D.PL.SportsHeroTeamVsTeamEventResult,D.PL.SportsHeroVideo,D.PL.SportsSpotlight2Match1,D.PL.SportsSpotlight2Match2])],["finance",new Set([D.PL.FinanceHeroMarket,D.PL.FinanceHeroMovers,D.PL.FinanceHeroSuggested,D.PL.FinanceHeroCrypto,D.PL.FinanceHeroCurrencies,D.PL.FinanceHeroUpcomingEarnings,D.PL.FinanceHeroNews,D.PL.FinanceHeroWatchlistIdeas,D.PL.FinanceHerowlsummary,D.PL.FinanceHeroMarketChart])],["videos",new Set([D.PL.DailyWonderQuoteCard,D.PL.DailyWonderHeroVideo,D.PL.DailyWonderVideoListCard,D.PL.DailyWonderCopilotCard])]]),z=[D.PL.Article,D.PL.Video,D.PL.Slideshow],V=new Map([["hero-section-one-row-1211",{cardCount:4,supportedSegments:["traffic","sports","finance"]}],["hero-section-one-row-11111",{cardCount:5,supportedSegments:["traffic","sports","finance"]}],["hero-section-one-row-122",{cardCount:3,supportedSegments:["weather","videos"]}],["hero-section-one-row-2111-b",{cardCount:4,supportedSegments:["cegrowth","videos"]}],["msft-full-wide-one-card-five-col",{cardCount:1,supportedSegments:["weather"]}]]),j={weather:{cardCounts:[3,1]},traffic:{cardCounts:[4,5]},sports:{cardCounts:[4,5]},finance:{cardCounts:[4,5]},cegrowth:{cardCounts:[]},videos:{cardCounts:[]}},q=(t,e)=>{var n,i;const r=null==t||null===(n=t.sections)||void 0===n?void 0:n.find((t=>"widgets"===t.region));if(!r||null===(i=r.subSections)||void 0===i||!i.length)return e&&c.M0.addOrUpdateTmplProperty("widgetsCards",""),void((0,g.N)()?window.dispatchEvent(new CustomEvent("noWidgetsData",{detail:!0})):window.noWidgetsData=!0);window.noWidgetsData&&(window.noWidgetsData=!1)};const G=(t,e,n)=>{const o=v.Gq.get(N,(()=>[])),s=v.Gq.get(U,(()=>new Map));if(0!==n&&2!==n||(o.length=0,s.clear()),!t||!t.length)return;const a=[],c=[];o.push(e),null==t||t.forEach((t=>{var e;"river"===(null==t?void 0:t.region)&&(null==t||null===(e=t.sections)||void 0===e||e.forEach((t=>{var e;const n=function(t){const e={};if(!Array.isArray(t))return e;for(const n of t)if(Array.isArray(n))for(const t of n)if(null!=t&&t.cards&&Array.isArray(t.cards))for(const n of t.cards)null!=n&&n.wpoId&&(e[n.wpoId]=!0);return e}(null==t?void 0:t.columnLayoutList);null==t||null===(e=t.cards)||void 0===e||e.forEach((t=>{if(null!=t&&t.wpoId&&n[t.wpoId]){const{id:e,type:n}=t;e&&s.has(e)?(a.push(e),c.push(n)):s.set(e,n)}}))})))})),a.length&&(0,i.H)(r.NZ5,"Duplicate cards found in feed response",void 0,{cardIdList:a,cardTypeList:c,debugIdList:o})};var J,K=JSON.parse('{"nextPageUrl":"","sections":[{"region":"river","subSections":[{"dataTemplate":"msft-full-wide-one-card-five-col","layoutTemplate":"msft-full-wide-one-card-five-col","cards":[{"type":"filteredChannels","isLocalContent":false,"galleryItemCount":0,"subCards":[],"subscriptionProductType":"undefined","position":0,"notificationState":"undefined","isWorkNewsContent":false,"isShowSelectMoreMessage":false}]},{"dataTemplate":"msft-full-wide-one-card-five-col","layoutTemplate":"msft-full-wide-one-card-five-col","cards":[{"type":"InterestManager","isLocalContent":false,"galleryItemCount":0,"subscriptionProductType":"undefined","position":0,"notificationState":"undefined","isWorkNewsContent":false}]}]}],"isPartial":false}'),Q=n(42833),X=n(29871);!function(t){t.News_BreakingNews="News_BreakingNews",t.News_ForYouNews="News_ForYouNews"}(J||(J={}));var Y=n(54076),Z=n(36871);var tt=n(56121);const et=new Set([D.PL.Article,D.PL.Slideshow,D.PL.Video]);function nt(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.subCards)for(const e of t.subCards)nt(e,n);if(!n&&!et.has(t.type)||!t.url)return t;try{e=new URL(t.url)}catch(e){return(0,i.OO)(e,r.gqz,"Invalid Consumption Card Url",void 0,{url:t.url}),t}return e.searchParams.has(tt.zy)||"www.msn.com"!==e.hostname&&"www.msn.cn"!==e.hostname||(e.searchParams.append(tt.zy,"ruby"),t.url=e.toString()),t}var it=n(34839),rt=n(33972),ot=n(59465);const st="https://account.microsoft.com/privacy/ad-settings";function at(t){return"river"===t?"cardData":`cardData_${t}`}class ct{constructor(t){this.adRiverRegion=I.jG.IsHeroNTP?"riverlock":"river",this.adInfopaneRegion=I.jG.IsHeroNTP?"infopanelock":"infopane",this.infoPaneCardCount=0,this.riverCardCount=0,this.heroCardCount=0,this.rightrailCardCount=0,this.railCardCount=0,this.denseRiverCardCount=0,this.widgetsCardCount=0,this.riverNativeAdRelativeCount=0,this.riverCmsAdRelativeCount=0,this.infopaneCmsAdCount=0,this.sectionIndex=0,this.wpoIdResponseIndex=0,this.shoppingInfopaneAdV1=!1,this.isRubySelected=!1,this.userIsEligibleForRuby=!1,this.isFirstAdLogged=!1,this.mapRegionBasedWpoResponseForSuperFeed=(t,e,n,o,s,a,c,u,l,d)=>{if(!t||!t.sections||!t.sections.length)return{rawAdRegionTupleMap:ut()};this.rawAdRegionTupleMap=ut();const f={rawAdRegionTupleMap:this.rawAdRegionTupleMap},h=t.serviceContext?t.serviceContext.debugId:t.debugId,p=lt(t),{nextPageUrl:m,sections:g,pageContext:v,previews:w}=p;let y,b,S=this.riverCardCount;const x=[];let C=!1;const k=g.findIndex((t=>"cardData"===t.region)),T=g.findIndex((t=>"widgets"===t.region)),$=g.findIndex((t=>"subLayouts"===t.region));let A=g;if(k>-1){y=g[k].cards,u&&(this.wpoIdResponseIndex=0),S=100*this.wpoIdResponseIndex;const e=g.find((t=>"river"===t.region)).subSections,n=dt(e,S);if(b=n.subSections,C=n.rowRendering,$>-1){var I;const e=null==t||null===(I=t.sections)||void 0===I?void 0:I[$].subSections;for(const t of e)t.wpoContainerId+=S,x.push({subSections:dt(t.subSections,S).subSections,wpoContainerId:t.wpoContainerId})}this.wpoIdResponseIndex++,null!=c&&c.get("river")&&(this.riverNativeAdRelativeCount=c.get("river")),null!=c&&c.get("resriver")&&(this.riverCmsAdRelativeCount=c.get("resriver"))}(k>-1||T>-1)&&(A=g.filter((t=>["cardData","subLayouts"].indexOf(t.region)<0)));const P=A.findIndex((t=>"hero"===t.region)),_=A.findIndex((t=>"widgets"===t.region));var M,R,E;return P>-1&&a&&((null==(M=A[P])||null===(R=M.subSections)||void 0===R||null===(R=R[0])||void 0===R?void 0:R.dataTemplate)||(null==M||null===(E=M.subSections)||void 0===E||null===(E=E[0])||void 0===E?void 0:E.layoutTemplate))&&A.splice(P,1),f.nextPageUrl=m,f.pageContext=v,f.previews=w,f.regions=A.map((c=>{const{subSections:u,region:f,requestedColumnCount:p}=c,v=void 0,w=void 0;let T;if(k>-1&&("river"===f||"hero"===f&&a)){if("river"===f){T=[{dataTemplate:v,layoutTemplate:w,cards:y.map((t=>this.convertCardForSuperFeed({...t,placement:void 0},f,h,void 0,e,n,o,s,S,l,d))),column:p,columnLayoutList:b,containerLayoutList:x}]}else if("hero"===f){var $;const a=(null===($=g.find((t=>t.region===at("hero"))))||void 0===$?void 0:$.cards)||[];if(a.length){var A;const i=this.heroCardCount;T=[{dataTemplate:v,layoutTemplate:w,cards:a.map((t=>this.convertCardForSuperFeed({...t,placement:void 0},f,h,void 0,e,n,o,s,i))),column:p,columnLayoutList:dt(null==t||null===(A=t.sections)||void 0===A?void 0:A[P].subSections,i).subSections}]}else(0,i.H)(r.GX5,"Empty hero card data list",void 0,{...r.GX5.pb,customMessage:`debugId: ${h}, nextPageUrl: ${m}`}),T=[]}}else if("widgets"===f){var I;const a=(null===(I=g.find((t=>t.region===at("widgets"))))||void 0===I?void 0:I.cards)||[];if(a.length){var M;const i=this.widgetsCardCount;T=[{dataTemplate:v,layoutTemplate:w,cards:a.map((t=>this.convertCardForSuperFeed({...t,placement:void 0},f,h,void 0,e,n,o,s,i))),column:p,columnLayoutList:dt(null==t||null===(M=t.sections)||void 0===M?void 0:M[_].subSections,i).subSections}]}else(0,i.H)(r.sZS,"Empty widgets card data list",void 0,{...r.sZS.pb,customMessage:`debugId: ${h}, nextPageUrl: ${m}`}),T=[]}else T="notification"===f?u:null==u?void 0:u.map((t=>{let{dataTemplate:a,layoutTemplate:c,cards:u,column:p,isTopSection:g}=t;if(u){const t={dataTemplate:a,layoutTemplate:c,cards:u.map((t=>this.convertCardForSuperFeed({...t,placement:void 0},f,h,void 0,e,n,o,s,S,l,d))),column:p,isTopSection:g};return this.sectionIndex++,t}"river"===f&&(0,i.H)(r.gEs,"No cards were sent from WPO in river",void 0,{...r.gEs.pb,customMessage:`debugId: ${h}, nextPageUrl: ${m}, column: ${p}, dataTemplate: ${a}, layoutTemplate: ${c}`})})).filter((t=>void 0!==t));return{region:f,requestedColumnCount:p,rowRendering:C,sections:T}})),f.raw1sAdRegionTupleMap=this._raw1sAdRegionTupleMap,f.debugId=h,f},this.mapRegionBasedWpoResponseForWidgets=(t,e)=>{const n=t.serviceContext?t.serviceContext.debugId:t.debugId,i=lt(t),{nextPageUrl:r,sections:o,pageContext:s,previews:a}=i;return{nextPageUrl:r,pageContext:s,regions:o.filter((t=>t.region===e)).map((t=>{const{subSections:e,region:i,requestedColumnCount:r}=t,o=null==e?void 0:e.map((t=>{let{dataTemplate:e,layoutTemplate:r,cards:o,column:s,isTopSection:a}=t;if(o){const t={dataTemplate:e,layoutTemplate:r,cards:o.map((t=>this.convertCardForSuperFeed({...t,placement:void 0},i,n))),column:s,isTopSection:a};return this.sectionIndex++,t}})).filter((t=>void 0!==t));return{region:i,requestedColumnCount:r,rowRendering:false,sections:o}})),previews:a,debugId:n}},this.backfill1SAdWithNews=t=>{var e,n,o;if(null===(e=t.sections)||void 0===e||!e.length)return;const s=null===(n=t.sections.find((t=>"backup"===t.region)))||void 0===n||null===(n=n.subSections)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.cards,a=null===(o=t.sections.find((t=>"river"===t.region)))||void 0===o||null===(o=o.subSections)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.cards;null==a||a.forEach(((t,e)=>{(t.type===D.PL.NativeAd&&_.cX.getQueryParameterByName("mockNo1SNative",window.location.href)||t.type===D.PL.CmsAd&&_.cX.getQueryParameterByName("mockNo1SCms",window.location.href))&&(t.data=null),t.type!==D.PL.NativeAd&&t.type!==D.PL.CmsAd||t.data||((0,i.OO)(null,r.paG,`Ad for ${t.type} not found in feed response.`,`cardData: ${JSON.stringify(t)}`),null!=s&&s.length?a[e]=s.shift():(0,i.OO)(null,r.G78,"Empty backup region"))}))},this.shoppingInfopaneAdV1=t}setRubyEverSelected(t){this.isRubySelected=t}get raw1sAdRegionTupleMap(){return this._raw1sAdRegionTupleMap||(this._raw1sAdRegionTupleMap=ut()),this._raw1sAdRegionTupleMap}convertCardForSuperFeed(t,e,n,o,s){var a,c,u;let l,d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,p=arguments.length>9?arguments[9]:void 0,m=arguments.length>10?arguments[10]:void 0;if((it.FI.isRuby||this.checkIfUserIsEligibleForRuby())&&nt(t,it.FI.isRuby),"river"===e?(this.riverCardCount++,l=this.riverCardCount):"rightrail"===e?(this.rightrailCardCount++,l=this.rightrailCardCount):"Rail"===e?(this.railCardCount++,l=this.railCardCount):"hero"===e?(this.heroCardCount++,l=this.heroCardCount):"widgets"===e&&this.widgetsCardCount++,(it.FI.isRuby||(0,ot.vD)())&&function(t){(t.type===D.PL.Article||t.type===D.PL.Video||t.type===D.PL.Slideshow)&&t.newsNotificationType&&[J.News_BreakingNews,J.News_ForYouNews].includes(t.newsNotificationType)&&(t.type=t.newsNotificationType===J.News_BreakingNews?D.PL.BreakingNewsNotification:D.PL.ForYouNotification)}(t),void 0!==t.wpoRank&&(t.wpoRank+=h),void 0!==t.wpoId&&(t.wpoId+=h),void 0!==t.backupRelatedWpoId&&(t.backupRelatedWpoId+=h),t.type===D.PL.MiTHeroFollow&&0===(null===(a=t.subCards)||void 0===a?void 0:a.length)&&(t=>{try{const e=JSON.parse(t.data);if(!e||!e.followList||!e.followList.length)return void(0,i.H)(r.RPj,"MiT Hero Parse Error");e.followList.forEach((e=>{t.subCards.push({id:e.topicId,images:[{title:e.title,url:e.imageUrl}],title:e.title,url:e.clickThroughUrl,type:D.PL.SuggestedInterest,provider:"provider"===e.type&&{profileId:e.topicId},isFollowed:e.isFollowed})}))}catch(t){(0,i.H)(r.RPj,"MiT Hero Parse Error",JSON.stringify(t.errorMessage))}})(t),Object.values(D.PL).includes(t.type)||null!==(c=t.type)&&void 0!==c&&c.startsWith(D.jt)||(0,i.OO)(null,r.nsS,`Region: ${e}, Type: ${t.type}, Id: ${t.id}, WpoId: ${t.wpoId}, WpoRank: ${t.wpoRank}. undefined error, it is not in OneServiceMetadataType`),t.wpoMetadata&&t.wpoMetadata.isGA&&(t.wpoMetadata.cFMetadataType=t.type),t.subCards){let e=X.uq.NotDenseCard;if(t.type===D.PL.Dense&&o===D.PL.Infopane?e=X.uq.IsInfopaneDenseCard:t.type===D.PL.Dense&&o!==D.PL.Infopane&&(e=X.uq.IsRiverDenseCard),t.type===D.PL.Infopane||t.type===D.PL.GroupedContent||t.type===D.PL.ColdStartArticleFreCard||t.type===D.PL.RewardsDailySet||t.type===D.PL.TabbedInfopaneCard||t.type===D.PL.CasualGamesCarousel&&t.subCards.length>0||t.type===D.PL.MiniWidgets&&t.subCards.length>0||t.type===D.PL.TopicFeed&&t.subCards.length>0&&t.id===X.n8||gt(t)||e!==X.uq.NotDenseCard)return this.convertComplexCardForSuperFeed(t,e,n,s,f);if("TopStories"===t.subType)return this.convertNestedCard(t);if(t.type===D.PL.NewsAnswerModule)return this.convertNewsGroupsCard(t)}if(null!==X.Qu&&void 0!==X.Qu&&null!==(u=X.Qu.current)&&void 0!==u&&u.includes(t.type))return t;if(D.TU.includes(t.type)){let n=l;return"river"===e&&(t.type===D.PL.NativeAd?(this.riverNativeAdRelativeCount++,void 0!==t.wpoAdRank&&(p?p&&this.wpoIdResponseIndex>1&&null!=m&&m.get(this.wpoIdResponseIndex-1)&&(t.wpoAdRank=t.wpoAdRank+(null==m?void 0:m.get(this.wpoIdResponseIndex-1))):t.wpoAdRank=this.riverNativeAdRelativeCount)):t.type===D.PL.CmsAd&&(this.riverCmsAdRelativeCount>=d?(t.type=D.PL.NativeAd,this.riverNativeAdRelativeCount++,void 0!==t.wpoAdRank&&(t.wpoAdRank=this.riverNativeAdRelativeCount)):(this.riverCmsAdRelativeCount++,void 0!==t.wpoAdRank&&(t.wpoAdRank=this.riverCmsAdRelativeCount))),s&&(t.type===D.PL.FirstPartyAd?n=1:p?p&&(n=t.wpoAdRank):n=t.type===D.PL.NativeAd?this.riverNativeAdRelativeCount:this.riverCmsAdRelativeCount)),this.convertCardForAds(t,e,n)}try{const{augments:e,type:i,isBreaking:r,locale:o,cardSize:s,category:a,images:c,topics:u=[],dataUrl:l,publishedDateTime:d,id:f,url:h,abstract:p="",title:m="",provider:g={},reasons:v,source:w,feed:y={},actions:b=[],externalVideoFiles:S=[],reactionStatus:x,commentStatus:C,reactionSummary:k,commentSummary:T,sourceId:$,topComments:A,topQuestions:I,highlights:P,colorSamples:_,isLocalContent:M,badges:R,relatedCards:E,recoDocMetadata:F,recoId:O,ri:N,offer:U,subType:L,videoMetadata:B,isWorkNewsContent:W,wpoMetadata:H,panoCaption:z,aiComments:V,height:j,wpoRank:q,wpoId:G,recoReasonTag:J,slides:K,customTransitionSpeed:Q,cardId:Y,displayAttributes:Z,conversationStarters:tt,consumptionSummary:et,backupRelatedWpoId:nt,template:it}=t,rt=pt(c)||{},ot=u.find((t=>t.feedId===y.id&&t.locale===o)),st=i===D.PL.EventInfopaneShoppingAI?ht(h,/[/?]/):ht(h);let at=ft(g.logoUrl);!at&&g.logo&&g.logo.url&&(at=ft(g.logo.url));const ct=b.map((t=>{var e;return(null===X.N||void 0===X.N||null===(e=X.N.current)||void 0===e?void 0:e[t])||t}));return R&&R.some((t=>"followedPublisher"===t.type))&&ct.push("followedPublisher"),{augments:e,id:f,type:i,height:j,wpoRank:q,wpoId:G,cardId:Y,backupRelatedWpoId:nt,template:it,metadata:{abstract:p,abstractLength:p.length,titleLength:m.length,category:a||st[4],subCategory:st[5],primaryImage:{height:rt.height,width:rt.width},locale:o,feed:{id:y.id},kicker:[y],actions:ct,reactionStatus:x,commentStatus:C,reactionSummary:k,commentSummary:T,topComments:A,topQuestions:I,highlights:P,reasons:v,source:w,relatedCards:E,panoCaption:z,topics:u,recoDocMetadata:F,recoId:O,ri:N,debugId:n,videoFiles:S,videoMetadata:B,wpoMetadata:H,recoReasonTag:J,slides:K,displayAttributes:Z,conversationStarters:tt,consumptionSummary:et},cardContent:{id:f,type:mt(i),title:m,aiComments:V,uriTitle:st[6],abstract:p,isBreaking:r||0,tags:[ot||{}],provider:{id:g.id,name:g.name,logo:{id:at},profileId:g.profileId,logoUrl:g.logoUrl,subscribable:!1,lightThemeSVGLogo:g.lightThemeSVGLogo,darkThemeSVGLogo:g.darkThemeSVGLogo},category:{product:a,label:void 0},locale:o,images:[{id:ft(rt.url),height:rt.height,width:rt.width,caption:rt.title,focalRegion:rt.focalRegion,attribution:rt.attribution,url:rt.url,colorSamples:rt.colorSamples}],panoCaption:z,videoFiles:S,publishedDateTime:d,kicker:m,sourceHref:l,destinationUrl:h,sourceId:$,colorSamples:_,isLocalContent:M,isWorkNewsContent:W,badges:R,topics:u,customTransitionSpeed:Q},dynamicCardSize:s}}catch(e){return t}}convertCardForAds(t,e,n){if(t.type===D.PL.NativeAd){if("river"===e){if(void 0!==t.wpoAdRank&&t.wpoAdRank<=2){const e=t.data?"1sAds":"not1sAds";c.M0.addOrUpdateTmplProperty(`${e}-${t.wpoAdRank}`,"1")}else this.isFirstAdLogged||(c.M0.addOrUpdateTmplProperty("adIdx",`wpoAdRank:${t.wpoAdRank}-cardCount:${n}`),this.isFirstAdLogged=!0);t.data?this.raw1sAdRegionTupleMap.get(this.adRiverRegion).push(t.wpoAdRank||n):this.rawAdRegionTupleMap.get(this.adRiverRegion).push(t.wpoAdRank||n)}else"rightrail"===e?this.rawAdRegionTupleMap.get("rightrail").push(n):"Rail"===e&&this.rawAdRegionTupleMap.get("Rail").push(n);return t.data?{type:D.PL.NativeAd,regionIndex:t.wpoAdRank||n,data:t.data,id:t.id,height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}:{type:D.PL.NativeAd,regionIndex:t.wpoAdRank||n,placement:{items:[]},height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}}if(t.type===D.PL.CmsAd){if("river"===e){let e=this.adRiverRegion;"peekriver"===this.adRiverRegion&&(e="river"),t.data?this.raw1sAdRegionTupleMap.get(`res${e}`).push(t.wpoAdRank||n):this.rawAdRegionTupleMap.get(`res${e}`).push(t.wpoAdRank||n)}return t.data?{type:D.PL.CmsAd,regionIndex:t.wpoAdRank||n,data:t.data,id:t.id,height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}:{type:D.PL.CmsAd,regionIndex:t.wpoAdRank||n,placement:{items:[]},height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}}return t.type===D.PL.FirstPartyAd?("river"===e&&(t.data?this.raw1sAdRegionTupleMap.get("triver").push(t.wpoAdRank||n):this.rawAdRegionTupleMap.get("triver").push(t.wpoAdRank||n)),t.data?{type:D.PL.FirstPartyAd,regionIndex:t.wpoAdRank||n,data:t.data,id:t.id,height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}:{type:D.PL.FirstPartyAd,regionIndex:t.wpoAdRank||n,placement:{items:[]},height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}):t.type===D.PL.AmplifyAd||t.type===D.PL.BoostAdsBanner||t.type===D.PL.BoostAdsCoachmark||t.type===D.PL.EventSDCardAmplifyAds||t.type===D.PL.BoostAd?{type:t.type,regionIndex:t.wpoAdRank||n,data:t.data,id:`${t.type}-${t.section}-${n}`,wpoMetadata:t.wpoMetadata,height:t.height,wpoRank:t.wpoRank,wpoAdRank:t.wpoAdRank,wpoId:t.wpoId}:void 0}convertComplexCardForSuperFeed(t,e,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const{id:o,type:s,title:a,wpoMetadata:c}=t;let u,l;try{u=t.subCards.map((t=>{if(e===X.uq.IsInfopaneDenseCard){if(t.type===D.PL.NativeAd)return this.rawAdRegionTupleMap.get("infopane-tab").push(this.infoPaneCardCount),{type:D.PL.NativeAd,regionIndex:this.infoPaneCardCount,placement:{items:[]}}}else if(e===X.uq.IsRiverDenseCard){if(this.denseRiverCardCount++,t.type===D.PL.NativeAd)return this.rawAdRegionTupleMap.get("dense-river").push(this.denseRiverCardCount),{type:D.PL.NativeAd,regionIndex:this.denseRiverCardCount,placement:{items:[]}}}else{if(this.infoPaneCardCount++,t.type===D.PL.NativeAd)return this.rawAdRegionTupleMap.get(this.adInfopaneRegion).push(this.infoPaneCardCount),{type:D.PL.NativeAd,regionIndex:this.infoPaneCardCount,placement:{items:[]}};if(t.type===D.PL.CmsAd){let e=`res${this.adInfopaneRegion}`;return"peekinfopane"===this.adInfopaneRegion&&(e="resinfopane"),this.infopaneCmsAdCount>=r&&(t.type=D.PL.NativeAd,e=this.adInfopaneRegion),this.rawAdRegionTupleMap.get(e).push(this.infoPaneCardCount),{type:t.type,regionIndex:this.infoPaneCardCount,placement:{items:[]}}}if(t.type===D.PL.BuyDirectAd){const e="infopane";return this.rawAdRegionTupleMap.get(e).push(this.infoPaneCardCount),{type:t.type,regionIndex:this.infoPaneCardCount,placement:{isBuyDirect:!0,items:[]}}}if(t.type===D.PL.ShoppingInfopaneAd1||t.type===D.PL.ShoppingInfopaneAd2||t.type===D.PL.ShoppingInfopaneAd3||t.type===D.PL.ShoppingInfopaneAd4)return this.getShoppingInfopaneAd(t);if(t.type===D.PL.EventInfopaneShoppingAI)try{const e=JSON.parse(t.data),n=(0,Z.Z)(e);delete t.data,t={...n,...t}}catch(t){return}}if(t.type===D.PL.Dense||t.type===D.PL.TopicFeed||t.type===D.PL.TabbedInfopaneCardTab){let e=X.uq.IsInfopaneDenseCard;return s!==D.PL.Infopane&&s!==D.PL.TabbedInfopaneCard&&(e=X.uq.IsRiverDenseCard),this.convertComplexCardForSuperFeed(t,e,n,i)}return t.type||s!==D.PL.CasualGamesCarousel||(t.type=`${s}SubItem`),this.convertCardForSuperFeed(t,"none",n,s,i)}))}finally{var d;u=(null===(d=u)||void 0===d?void 0:d.filter((t=>!!t)))||[],l={id:o,type:s,subItems:u,metadata:{title:a},wpoMetadata:c,height:t.height,wpoRank:t.wpoRank,wpoId:t.wpoId},(t.type===D.PL.TopicFeed||gt(t))&&(l={card:t,id:o,type:s,subItems:u,metadata:{title:a},wpoMetadata:c,feed:t.feed?t.feed:null,height:t.height,wpoRank:t.wpoRank,wpoId:t.wpoId})}return l}convertNestedCard(t){return t.subCards[0].type=t.type,t.subCards[0].subType=t.subType,t=t.subCards[0]}convertNewsGroupsCard(t){return{id:t.id,type:t.type,subType:t.subType,subCards:t.subCards||[],wpoMetadata:t.wpoMetadata,height:t.height,wpoRank:t.wpoRank,wpoId:t.wpoId}}checkIfUserIsEligibleForRuby(){return!!this.userIsEligibleForRuby||!(!(this.isRubySelected&&(0,rt.c8)()&&(0,rt.T1)())||(0,rt.OP)()||it.FI.isUserOptedOut||!it.FI.isRubyEligible||it.FI.isRejectedByEdgeExpIsolation)&&(this.userIsEligibleForRuby=!0,!0)}resetCardCountForSuperFeed(){this.infoPaneCardCount=0,this.riverCardCount=0,this.heroCardCount=0,this.rightrailCardCount=0,this.railCardCount=0,this.denseRiverCardCount=0,this.riverNativeAdRelativeCount=0,this.riverCmsAdRelativeCount=0,this.widgetsCardCount=0}getShoppingInfopaneAd(t){if(!this.shoppingInfopaneAdV1)return{type:t.type,regionIndex:this.infoPaneCardCount,placement:{items:[],shoppingInfopaneAdData:t.data}};try{var e;const n=JSON.parse(t.data),i=(0,Z.Z)(n.shoppingEntities),r=i.clickPingUrl+`&PageId=${c.M0.getRequestId()}&ct=ShoppingNTPInfopane`,o={title:i.title,destinationUrl:r,imageUrl:null===(e=i.imageInfo)||void 0===e?void 0:e.sourceImageUrl,providerName:i.seller,adChoiceIconUrl:st};return{id:i.id??(0,Y.L)(),type:t.type,regionIndex:this.infoPaneCardCount,placement:{items:[o],privacyUrl:st,isBackfill:!1,showAdLabel:!0,adLabelText:"广告",isShoppingInfopaneAd:!0}}}catch(e){return{type:t.type,regionIndex:this.infoPaneCardCount,placement:{items:[]}}}}updateAdRegionToPeek(t){t?(this.adRiverRegion="peekriver",this.adInfopaneRegion="peekinfopane"):(this.adRiverRegion=I.jG.IsHeroNTP?"riverlock":"river",this.adInfopaneRegion=I.jG.IsHeroNTP?"infopanelock":"infopane")}updateWpoIdResponseIndex(t){this.wpoIdResponseIndex=t}}function ut(){return new Map([["rightrail",[]],["Rail",[]],["infopane",[]],["infopanelock",[]],["peekinfopane",[]],["river",[]],["riverlock",[]],["peekriver",[]],["resinfopane",[]],["resinfopanelock",[]],["respeekinfopane",[]],["resriver",[]],["resriverlock",[]],["respeekriver",[]],["infopane-tab",[]],["dense-river",[]],["triver",[]]])}function lt(t){var e;return null!=t&&null!==(e=t.sections)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.region?t:{nextPageUrl:t.nextPageUrl,sections:[{region:"river",subSections:t.sections}],previews:t.previews,pageContext:t.pageContext}}const dt=(t,e)=>{t||(t=[]);const n=[];let i=!1;for(const o of t){var r;if(null!=o&&o.requestedColumnCount)null==o||null===(r=o.subSections)||void 0===r||r.forEach((t=>{t.cards||(t.cards=[]),t.cards.forEach((t=>{if("placeholder"===t.type)return t.placeholderId+=e,void(i=!0);t.wpoId+=e,t.wpoRank+=e}))})),n[o.requestedColumnCount-1]=null==o?void 0:o.subSections}return{subSections:n,rowRendering:i}};function ft(t){if(!t)return"";const e=t.split("/");return pt(e)&&e[e.length-1].replace(".img","")}function ht(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return t?t.split(e):[]}function pt(t){if(t)return t[arguments.length>1&&void 0!==arguments[1]?arguments[1]:0]}function mt(t){switch(t){case D.PL.Article:return"ArticlePreview";case D.PL.Video:return"VideoPreview";case D.PL.Slideshow:return"SlideshowPreview";case D.PL.WebContent:return"WebContentPreview";default:return""}}function gt(t){return t.type===D.PL.NewsWatchShorts||t.type===D.PL.NewsWatchVideo||t.type===D.PL.WatchNewsShorts}var vt,wt=n(77062),yt=n(33777),bt=n(6684),St=n(85663),xt=n(17813),Ct=n(15020),kt=n(95378),Tt=n(90830),$t=n(63718),At=n(66651);const It=1e4,Pt="gaming",_t="following",Mt="filteredChannels",Rt="dynamicfilteredchannels",Et=["activityId","adminDisabled","adppc","apikey","backgroundImageIsSet","caller","cbypass","column","copilotApiSupported","dhp","dprValue","edgExpMask","inEdgeFeatures","infopaneCount","memory","newDevFreTime","newProfFreTime","overlay","pgc","pgname","pgtype","prerender","promotion","retryAttempt","revertTimes","selection","skipRetry","timeOut","vpSize"];function Ft(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null==t||!t.serviceContext)return;const o=n.filter((t=>k.Al.CurrentFlightSet.has(t))),s=(null===(e=t.serviceContext.fdHead)||void 0===e||null===(e=e.split(","))||void 0===e?void 0:e.map((t=>t.trim())))??[],a=o.filter((t=>!s.includes(t)));a.length>0&&(0,i.H)(r.YVN,"",void 0,{...r.YVN.pb,cetoRef:t.cetoRef,msEdgeRef:t.msEdgeRef,message:`Flight ids ${a.join(",")} missing in wpo fdhead.`})}function Dt(){if(!(0,g.N)()||!window.ssrWpoData)return;const t=window.ssrWpoData;Ft(t,["prg-wpo-bkpncbig","prg-wpo-ntpscssr"]);const{debugId:e,serviceContext:n,dddTmpl:o,userType:s,authFeatures:a}=t;if((0,wt.Dz)(e,!0),null!=n&&n.serviceActivityId){c.M0.addOrUpdateIdxId(n.serviceActivityId,!0);try{const t=(0,yt.pD)();(0,h.m)(n.serviceActivityId,e,t)}catch{(0,i.H)(r.evM,"Error throwed when getCompressedRecords doesn't return anything for NTP")}}return c.M0.addOrUpdateTmplString(o),c.M0.addOrUpdateTmplProperty("1s-usertype",s),c.M0.addOrUpdateTmplProperty("1s-authFeatures",a),e&&c.M0.addOrUpdateCustomProperty("debugId",e),delete window.ssrWpoData,t}function Ot(t){const e=(0,o.Ou)();e[t]=e[t]??(0,o.UE)()}class Nt extends Error{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(t),this.silentExit=e}}class Ut{static get preloadedResponses(){return v.Gq.get(this.preloadedResponsesKey,(()=>({})))}static set preloadedResponses(t){v.Gq.set(this.preloadedResponsesKey,t)}static get renderedSegments(){return v.Gq.get(this.renderedSegmentsKey,(()=>""))}static set renderedSegments(t){v.Gq.set(this.renderedSegmentsKey,t)}static get fetchingLock(){return v.Gq.get(this.fetchingLockKey)}static set fetchingLock(t){v.Gq.set(this.fetchingLockKey,t)}static get isPrerenderDsiabled(){return v.Gq.get(this.isPrerenderDsiabledKey,(()=>!1))}static set isPrerenderDsiabled(t){v.Gq.set(this.isPrerenderDsiabledKey,t)}constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;this.shouldRetryInOtherDomain=!1,this.traceInfo=[],this.shouldResetRightRailPromise=!1,this.wpoRightRailPromise=new Q.o,this.shouldResetRailPromise=!1,this.wpoRailPromise=new Q.o,this.noContentRetryCount=0,this.maxContentRetryCount=5,this.isPartialResponse=t=>!!(t&&t.serviceContext&&t.serviceContext.preRenderDisabled),this.getAuthTrail=()=>{try{return(0,yt.pD)()}catch{(0,i.H)(r.evM,"Error throwed when getCompressedRecords doesn't return anything for NTP")}},this.updateQSParam=(t,e)=>{const n=new RegExp("([?&])"+e+"=.*?(&|$)","i");return t.match(n)?t.replace(n,"&"):t},this.mapperHelper=new ct(t.shoppingInfopaneAdV1),this.config=t,this.initializeRequest(),this.isXFeed=e,this.maxContentRetryCount=n,window.isSSREnabled&&window.ssrRenderedSegments&&(Ut.renderedSegments=window.ssrRenderedSegments,delete window.ssrRenderedSegments),this.config.feedCacheEnabled&&!window.isSSREnabled&&(this.feedResponseCache=(0,y.q)({cacheName:"wpo-feed",getCacheKey:t=>this.normalizeUrl(t.serviceUrl),maxAgeInMs:this.config.feedCacheMaxAgeInMs}))}static async ensureLock(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;for(;Ut.fetchingLock&&!Ut.fetchingLock.wasSet();)await Ut.fetchingLock.getResultAsync();v.Gq.get("ssrRequestClosed")||(Ut.fetchingLock=new Q.o(t))}static releaseLock(){Ut.fetchingLock&&Ut.fetchingLock.set()}async fetch(t,e,n,o,s,a,c,u){var l;let d,f=this.config.initialRequest;if(this.shouldResetRightRailPromise&&(this.wpoRightRailPromise=new Q.o,this.shouldResetRightRailPromise=!1),this.shouldResetRailPromise&&(this.wpoRailPromise=new Q.o,this.shouldResetRailPromise=!1),t&&(t.feedId||t.nextPageUrl||!f||(t.feedId=f.feedId),f={...f,...t}),!f)return(0,i.H)(r.eD0,"default WpoService fetch configuration was invalid"),this.responseStatus=C.F_.InvalidRequest,{status:this.responseStatus,isStatic:this.isStatic,regions:void 0,rawAdRegionTupleMap:new Map([["rightRail",[]],["Rail",[]],["infopane",[]],["river",[]],["resinfopane",[]],["resriver",[]],["infopane-tab",[]]])};await Ut.ensureLock();try{d=await this.fetchRiverSectionFeedLayoutData(f,e,n)}finally{Ut.releaseLock()}u&&d&&!d.isStatic&&u(d,d.sections,!1);const h=!(f.useNextPageUrl&&f.nextPageUrl);this.config.feedCacheEnabled&&h&&(this.isFeedFirstPageFromCache=(0,y.H)(d)),0===e&&d&&d.serviceContext&&((0,T.l)(d.serviceContext),(0,$.p)(d.serviceContext),k.Al.CurrentFlightSet.has("1s-ads-ntpriver")&&Ft(d,["1s-ads-ntpriver","prg-ad-ridoverride"])),0!==e||(0,g.N)()||(d?$t.SI.saveSSRPartResponse(d,"feed"):(0,i.H)(r.y6M,"",void 0,{...r.y6M.pb,requestId:f.requestId})),function(t){if("object"==typeof t&&null!==t){var e;const n=null===(e=(0,A.L)())||void 0===e?void 0:e.get("testRubyVersion");null!=n&&(t.serviceContext||(t.serviceContext={}),"dynamic"===n?t.serviceContext.rubyEverSelected=!0:t.serviceContext.rubyTargetedVersion=n,t.serviceContext.isTestRubyVersion=!0)}}(d);const p=null===(l=d)||void 0===l||null===(l=l.serviceContext)||void 0===l?void 0:l.rubyEverSelected;return p&&this.mapperHelper.setRubyEverSelected(p),this.handleResponseMapForSuperFeed(f,e,d,o,s,a,c)}async fetchWidgets(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"widgets",o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=this.config.initialRequest;if(t&&(t.feedId||t.nextPageUrl||!a||(t.feedId=a.feedId),a={...a,...t}),!a)return(0,i.H)(r.eD0,"default WpoService widgets fetch configuration was invalid"),this.responseStatus=C.F_.InvalidRequest,{status:this.responseStatus,isStatic:this.isStatic,regions:void 0,rawAdRegionTupleMap:new Map};await Ut.ensureLock();try{e=await this.fetchWidgetSectionFeedLayoutData(a,n,o,s)}finally{Ut.releaseLock()}return 0!==o||(0,g.N)()||(e?$t.SI.saveSSRPartResponse(e,n):(0,i.H)(r.y6M,"No response for widget request",void 0,{...r.y6M.pb,requestId:a.requestId})),this.handleResponseMapForWidgets(a,e,n,s)}overrideAppErrorSeverity(t){if("hub"===I.jG.AppType&&[r.vas,r.ck_,r.KEP,r.QJe].includes(t))return s.z.Critical}sendAppErrorWithSeverityOverride(t,e){const n=this.overrideAppErrorSeverity(t);n&&(e.severity=n),e.pb.pageAge=Math.round(performance.now()),c.M0.sendAppErrorEvent(e)}handleResponseMapForSuperFeed(t,e,n,o,s,a,c){var u;if(this.isPartialResponse(n))return{status:this.responseStatus,isStatic:!1,rawAdRegionTupleMap:new Map([["rightRail",[]],["Rail",[]],["infopane",[]],["river",[]],["resinfopane",[]],["resriver",[]],["infopane-tab",[]]]),isPartial:n.isPartial,serviceContext:n.serviceContext,previews:n.previews};const l=new Set(["msft-dense-nine-card"]);var d;(null==n||null===(u=n.sections)||void 0===u?void 0:u.length)>0&&"river"===n.sections[0].region&&(null===(d=n.sections[0].subSections)||void 0===d||d.forEach(((t,e)=>{var i;t.layoutTemplate&&l.has(t.layoutTemplate)&&(n.sections[0].subSections[e].cards=[{type:"densetab",isLocalContent:!1,galleryItemCount:0,subCards:t.cards}]),(null==t||null===(i=t.cards)||void 0===i?void 0:i.length)>0&&t.cards.forEach(((t,i)=>{var r;if((null==t?void 0:t.type)===D.PL.Infopane&&(null==t||null===(r=t.subCards)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.type)===D.PL.TabbedInfopaneCardTab){const r=function(t){const e=[];let n=[];for(let i=0;i<t.length;i++){const r=t[i];if(r.type==D.PL.TabbedInfopaneCardTab)n.push(r);else if(r.type==D.PL.TopicFeed)n.push(r);else{if(n.length>0){const t={type:D.PL.TabbedInfopaneCard,subCards:n};e.push(t),n=[]}e.push(r)}}return e}(null==t?void 0:t.subCards);n.sections[0].subSections[e].cards[i]={...t,subCards:r}}}))})));const f=0===e||2===e&&"winWidgets"===I.jG.AppType&&"ruby"===I.jG.UxMode||this.config.enableWpoAdRank&&2===e&&!c.size,h=this.mapperHelper.mapRegionBasedWpoResponseForSuperFeed(n,this.config.useRelativeAdPlacement,o,s,this.config.auctionRidOverride&&!(0,xt.TR)(),this.config.enableHeroWaterfall,a,f,this.config.enableWpoAdRank,c),{nextPageUrl:p,regions:m,rawAdRegionTupleMap:v,raw1sAdRegionTupleMap:w,previews:y,pageContext:b,debugId:S}=h;let x;this.responseStatus===C.F_.Success?(x={...t,nextPageUrl:p},Ut.updateRenderedSegments(p),this.noContentRetryCount=0):this.responseStatus===C.F_.Failed?(x={...t},this.noContentRetryCount=0):this.responseStatus===C.F_.NoContent&&(this.noContentCannotRetry()||(x={...t},this.noContentRetryCount++),t.disableContent||(0,i.H)(r.a$Z,"",void 0,{...r.a$Z.pb,isFirstPage:!t.nextPageUrl,url:t.nextPageUrl,requestId:t.requestId,status:this.responseStatus,noContentRetryCount:this.noContentRetryCount})),I.jG.IsHeroNTP&&x&&(x.segment=null,x.pageOcid=null,x.scenario=null),this.config.validateDuplicateCards&&(0,g.N)()&&G(m,S,e);return{regions:m,nextPageRequest:x,rawAdRegionTupleMap:v,raw1sAdRegionTupleMap:w,status:this.responseStatus,isStatic:this.isStatic,traceIdIndex:null==n?void 0:n.traceIdIndex,metadata:null==n?void 0:n.metadata,userType:null==n?void 0:n.userType,previews:y,pageContext:b,debugId:S,serviceContext:null==n?void 0:n.serviceContext,responseSource:null==n?void 0:n.responseSource,locationContextDictionary:null==n?void 0:n.locationContextDictionary,isFromCache:null==n?void 0:n.isFromCache,settings:null==n?void 0:n.settings}}handleResponseMapForWidgets(t,e,n,i){if(!e)return;if(this.isPartialResponse(e))return{status:this.responseStatus,isStatic:!1,isPartial:e.isPartial,serviceContext:e.serviceContext,previews:e.previews};let r;r=i?this.mapperHelper.mapRegionBasedWpoResponseForSuperFeed(e):this.mapperHelper.mapRegionBasedWpoResponseForWidgets(e,n);const{nextPageUrl:o,regions:s,previews:a,pageContext:u,debugId:l}=r;let d;this.responseStatus===C.F_.Success?(d={...t,nextPageUrl:o},Ut.updateRenderedSegments(o),this.noContentRetryCount=0):this.responseStatus===C.F_.Failed?(d={...t},this.noContentRetryCount=0):this.responseStatus===C.F_.NoContent&&(this.noContentCannotRetry()||(d={...t},this.noContentRetryCount++),c.M0.addOrUpdateTmplProperty(`${n}SectionEmpty`,"1")),I.jG.IsHeroNTP&&d&&(d.segment=null,d.pageOcid=null,d.scenario=null);return{regions:s,nextPageRequest:d,status:this.responseStatus,isStatic:this.isStatic,traceIdIndex:e?e.traceIdIndex:void 0,metadata:e?e.metadata:void 0,userType:e?e.userType:void 0,previews:a,pageContext:u,debugId:l,serviceContext:e?e.serviceContext:void 0,responseSource:e?e.responseSource:void 0}}async fetchRiverSectionFeedLayoutData(t,e,n){const s=(null===k.Al||void 0===k.Al?void 0:k.Al.IsPrerender)||this.config.disableWorker||I.jG.IsHeroNTP,a=0===e||2===e;if((0,g.N)()&&a){var d;const e=Dt(),n=this.trySaveAndConsumePreloadedResponse(e,"feed");if(n)return n&&n&&n.sections&&n.sections.length>0?this.responseStatus=C.F_.Success:this.responseStatus=C.F_.NoContent,c.M0.addOrUpdateTmplProperty("SSRFeedConsumed","1"),v.Gq.set("__isSSRWpoFeedConsumed__",!0),{...n,responseSource:C.H3.FromSSR};if(!v.Gq.has("__isSSRWpoFeedConsumed__")&&null!==(d=window.ssrLayoutState)&&void 0!==d&&d.selectedFeedDisplaySetting){const e=window.ssrLayoutState.selectedFeedDisplaySetting;["off","onscroll","headingsonly"].includes(e)||(0,i.H)(r.W1B,"",void 0,{...r.W1B.pb,requestId:t.requestId})}}if(0!==e||this.isXFeed||s||t.feedName===Pt&&t.dontUseWorkerForFeed)this.checkWebWorkerUrl=!1;else{this.checkWebWorkerUrl=!1;let e="myfeed";t.feedName===Pt&&(e="gaming"),t.feedName===_t&&(e="following");const i=this.config.removeTimeoutWebworker?void 0:1e3;n&&n();const r=await(0,P.ot)({id:e},i),s=r&&r.payload;if(s){const t=p.sj.MultiColumn;if(p.sj.MultiColumn===t&&r.fetched){this.checkWebWorkerUrl=!0,this.responseStatus=C.F_.Success;(0,o.Ou)().isFeedFromWW=1;const t=s.traceId;if(s.traceIdIndex=this.addOrUpdateIdxId(t,a),(0,g.N)()){const t=this.getAuthTrail();(0,h.m)(s.traceId,s.debugId,t)}return s.tmpl&&c.M0.addOrUpdateTmplString(s.tmpl),l.n.publish(l.j.userIsSignedIn,{isSignedIn:s.isSignedIn,src:"WW-wcp"}),{...s,responseSource:C.H3.FromWW}}}}const f=(0,o.Ou)();if(($t.SI.enableEarlyMainFeedRequest||Ut.preloadedResponses.feed)&&(0===e||2===e)){const e=(0,g.N)()?It:void 0,i=Ut.preloadedResponses.feed?void 0:await $t.SI.getEarlyWpoFeedData(e),r=this.trySaveAndConsumePreloadedResponse(i,"feed");if(Ot("earlyFeedCall"),this.responseStatus=null==r?void 0:r.responseStatus,r&&r&&r.sections&&r.sections.length>0){var m;this.responseStatus=C.F_.Success;const t=null===(m=r.serviceContext)||void 0===m?void 0:m.serviceActivityId;t&&(r.traceIdIndex=this.addOrUpdateIdxId(t,a)),Ot("earlyFeedSuccess")}else this.responseStatus=C.F_.NoContent;$t.SI.enableEarlyMainFeedRequest=!1;const o=I.jG.IsHeroNTP&&(null==r?void 0:r.isStatic),s=this.responseStatus!==C.F_.Success||o;if(t.skipRetry||!(0,g.N)()||!s)return Ot("ssrEarlyFeedUsed"),f.responseSource=C.H3.FromEarlyResponse,(0,Tt.t)(null==r?void 0:r.authContext),{...r,responseSource:C.H3.FromEarlyResponse};{const e=await this.fetchFromWpoService(t,a,n,o,void 0,this.feedResponseCache);if(e)return f.responseSource=(0,y.H)(e)?C.H3.FromCache:C.H3.FromServer,{...e,responseSource:C.H3.FromServer}}}else{const i=await this.fetchFromWpoService(t,a,n,void 0,void 0,this.feedResponseCache,e);if(t.widgetsOn&&a&&this.trySaveAndConsumePreloadedResponse(i,"feed"),i)return f.responseSource=(0,y.H)(i)?C.H3.FromCache:C.H3.FromServer,{...i,responseSource:C.H3.FromServer}}if(this.shouldRetryInOtherDomain){t.domainOverride=u.hM,t.requestPathOverride=u.hZ;const e=await this.fetchFromWpoService(t,a,void 0,!0);if(e)return f.responseSource=C.H3.FromServer,{...e,responseSource:C.H3.FromServer}}return this.getCachedResponse(t)}async fetchWidgetSectionFeedLayoutData(t,e,n,i){const r=0===n||2===n;if((0,g.N)()&&r&&!i){const t=Dt(),n=this.trySaveAndConsumePreloadedResponse(t,e);if(n)return n&&n&&n.sections&&n.sections.length>0?this.responseStatus=C.F_.Success:this.responseStatus=C.F_.NoContent,{...n,responseSource:C.H3.FromSSR}}const s=(0,o.Ou)();if(($t.SI.enableEarlyMainFeedRequest||Ut.preloadedResponses[e])&&(0===n||2===n)&&!i){const n=(0,g.N)()?It:void 0,i=Ut.preloadedResponses[e]?void 0:await $t.SI.getEarlyWpoFeedData(n);Ot("earlyFeedCall");const o=this.trySaveAndConsumePreloadedResponse(i,e);this.responseStatus=null==o?void 0:o.responseStatus,o&&o&&o.sections&&o.sections.length>0?(this.responseStatus=C.F_.Success,Ot("earlyFeedSuccess")):this.responseStatus=C.F_.NoContent,$t.SI.enableEarlyMainFeedRequest=!1;const a=this.responseStatus!==C.F_.Success;if(t.skipRetry||!(0,g.N)()||!a)return Ot("ssrEarlyFeedUsed"),s.responseSource=C.H3.FromEarlyResponse,{...o,responseSource:C.H3.FromEarlyResponse};{const e=await this.fetchFromWpoService(t,r);if(e)return s.responseSource=C.H3.FromServer,{...e,responseSource:C.H3.FromServer}}}else{const e=await this.fetchFromWpoService(t,r);if(e)return s.responseSource=C.H3.FromServer,{...e,responseSource:C.H3.FromServer}}if(this.shouldRetryInOtherDomain){t.domainOverride=u.hM,t.requestPathOverride=u.hZ;const e=await this.fetchFromWpoService(t,r,void 0,!0);if(e)return s.responseSource=C.H3.FromServer,{...e,responseSource:C.H3.FromServer}}return this.getCachedResponse(t)}trySaveAndConsumePreloadedResponse(t,e){var n,i;if(Ut.preloadedResponses[e]){const t=Ut.preloadedResponses[e];return delete Ut.preloadedResponses[e],t}if(!t)return null;const r=t.sections,o=this.isPartialResponse(t),s=I.jG.IsHeroNTP&&!k.Al.CurrentFlightSet.has("prg-hero-abnav")&&!(null!==(n=(0,w.zp)())&&void 0!==n&&null!==(n=n.toLowerCase())&&void 0!==n&&n.includes("ocid=wind_spot_2")||null!==(i=(0,w.zp)())&&void 0!==i&&null!==(i=i.toLowerCase())&&void 0!==i&&i.includes("ocid=wind_spot_desktop")),a=t=>"widgets"===t||"cardData_widgets"===t,c=null==r?void 0:r.filter((t=>{let{region:e}=t;return s?!a(e):!a(e)&&"hero"!==e})),u=null==r?void 0:r.filter((t=>{let{region:e}=t;return"hero"===e})),l=null==r?void 0:r.filter((t=>{let{region:e}=t;return"widgets"===e}));Ut.preloadedResponses={feed:null!=c&&c.length||o&&"feed"===e?{...t,sections:c}:null,hero:null!=u&&u.length?{...t,sections:u}:null,widgets:null!=l&&l.length?{...t,sections:l}:null};const d=Ut.preloadedResponses[e];return delete Ut.preloadedResponses[e],d}async fetchFromWpoService(t,e,n){var s,l,p;let m=arguments.length>3&&void 0!==arguments[3]&&arguments[3],y=arguments.length>4?arguments[4]:void 0,T=arguments.length>5?arguments[5]:void 0,$=arguments.length>6?arguments[6]:void 0;if(v.Gq.get("ssrRequestClosed"))throw new Nt("Fetch aborted due to SSR request close",!0);const A=null===k.Al||void 0===k.Al?void 0:k.Al.IsPrerender,D=(0,xt.TR)();!(0,g.N)()&&this.config.requestToOrigin&&(t.domainOverride=u.hM,t.requestPathOverride=u.hZ),this.config.enableResetServiceURL&&(t.domainOverride=u.kJ);const N=!e&&t.paginationTimeoutMs?t.paginationTimeoutMs:t.timeoutMs,U=D&&e?2e3:N,W=I.jG.ShouldUseFdheadQsp?null===(s=I.jG.CurrentRequestTargetScope)||void 0===s||null===(s=s.pageExperiments)||void 0===s?void 0:s.join(","):void 0;let j;c.M0.addOrUpdateTmplProperty("fdHeadWpoCardProv",null===(l=I.jG.ShouldUseFdheadQsp)||void 0===l?void 0:l.toString()),(0,g.N)()&&(j=!(window&&window.chrome&&window.chrome.embeddedSearch),c.M0.addOrUpdateTmplProperty("privatew",`${j}`));const G=window&&`${window.innerWidth}x${window.innerHeight}`;Ut.renderedSegments&&(t.renderedSegments=Ut.renderedSegments);const J={...t,audienceMode:null===(p=I.jG.CurrentRequestTargetScope)||void 0===p?void 0:p.audienceMode,enableRightRailColumn:t.powerRightRailWithWpo,fdhead:W,isXFeed:this.isXFeed,nextPageUrl:t.useNextPageUrl&&t.nextPageUrl,requestType:d.xd.wpoService,timeoutMs:t.query&&t.customFeedTimeoutMs?t.customFeedTimeoutMs:U,refreshType:D?"bgtask":void 0,isDhp:this.isDhp(),isRetry:m,private:j,viewportSize:G,enableWpoAdPlacements:this.config.auctionRidOverride&&!D,adsTimeout:this.config.auctionRidOverride&&600,uxMode:I.jG.UxMode};if(e&&I.jG.IsHeroNTP){var Q,X,Y;J.pageOcid=_.cX.getQueryParameterByName("ocid",(0,w.zp)());const t=_.cX.getQueryParameterByName("segment",(0,w.zp)());J.segment=t,("edgeChromium"===I.jG.AppType&&null!==(Q=k.Al.CurrentFlightSet)&&void 0!==Q&&Q.has("ntp-cxtfd-hero")||"homePage"===I.jG.AppType&&null!==(X=k.Al.CurrentFlightSet)&&void 0!==X&&X.has("hp-cxtfd-hero"))&&(J.context=_.cX.getQueryParameterByName("context",(0,w.zp)())??t),J.scenario=_.cX.getQueryParameterByName("scenario",(0,w.zp)()),"wind_spot_2"!==J.pageOcid&&"wind_spot_desktop"!==J.pageOcid&&"cegrowth"!==(null===(Y=J.segment)||void 0===Y?void 0:Y.toLowerCase())||(J.assetId=_.cX.getQueryParameterByName("assetId",(0,w.zp)())),J.timeoutMs=this.config.heroTimeoutMs||1500;const e=_.cX.getQueryParameterByName("Date",(0,w.zp)()),n=(0,bt.wE)(e,this.config.enableStartMonday);Array.isArray(n)&&n.length>0&&(J.calendarDate=e.split("-").join(""),J.calendarStartDate=n[0],J.calendarEndDate=n[1]),J.scenario&&(0,g.N)()&&"Weather"===J.segment&&"Calendar"!==J.scenario&&setTimeout((()=>{const t=this.updateQSParam(window.location.href,"scenario");window.history.replaceState({},"",t)}),3e3)}var Z;if("winWidgets"===I.jG.AppType&&"ruby"===I.jG.UxMode)if("startfeed"!==(null===k.Al||void 0===k.Al||null===(Z=k.Al.ClientSettings)||void 0===Z?void 0:Z.pagetype))J.enableRuby=!0;else{const t=At.gL.get(2)?"api":"bgRefresh";J.refreshType=0===$?"init":t}const tt=_.cX.getQueryParameterByName("ssrFeedTimeOut",window.location.href);!(0,g.N)()&&tt&&(J.timeoutMs=parseInt(tt)),J.dprValue=Math.round(100*(0,w.x_)())/100;const et=await f.q.requestInit(J),nt=await f.q.buildServiceRequestURL(J);b.$D.addTelemetryTracingQueryParam(nt);const it=decodeURIComponent(nt.href);this.requestQueryParams=new M.h(nt.search),t.serviceUrl=it;if("1"===_.cX.getQueryParameterByName("logwporeq",window.location.href)){const t={};new Headers(null==et?void 0:et.headers).forEach(((e,n)=>{"Cookie"!==n&&(t[n]=e)})),(0,i.H)(r.vif,"",void 0,{...r.vif.pb,headers:JSON.stringify(t),url:it,credentials:et.credentials,referrer:et.referrer})}const rt=(0,o.Ou)();let ot;if(rt.WpoCallStart=Math.round((0,o.UE)()),(0,g.N)()||(rt.wpoSSRCallStart=rt.WpoCallStart),nt.search=this.requestQueryParams.toString(),this.checkWebWorkerUrl){const t=(0,P.Fr)("WebWorkerInitFeedUrl");t&&t.payload&&t.payload!==nt.href&&(0,i.H)(r.MUC,"Wpo feed fetch url does not match web worker")}const st=t.useNextPageUrl&&t.nextPageUrl,at=!st;let ct,ut,lt,dt,ft,ht;try{var pt;let s,u,l,d,f,p;if((0,g.N)()?(s=(null==t?void 0:t.overrideCSRTimeoutInMs)||It,ft=Math.round(performance.now())):s=(null==t?void 0:t.overrideSSRTimeoutInMs)||800,n&&n(),T&&(at||this.isFeedFirstPageFromCache)&&"reload"!==(null===(pt=performance.getEntriesByType("navigation"))||void 0===pt||null===(pt=pt[0])||void 0===pt?void 0:pt.type)&&(u=await T.tryReadCache(t),at&&(this.isFeedFirstPageFromCache=!!u)),!u){ht=(()=>{let t=0;const e=at?r.TRT:r.TzH;return window.setInterval((()=>{t+=1,(0,i.H)(e,`Request didn't finish in ${5e3*t}ms`,void 0,{...e.pb,url:it,isFirstPage:at,activityId:I.jG.ActivityId,isPrerender:D})}),5e3)})();"header"===v.Gq.get("oneSvcUniTunMode")&&et&&et.headers&&(et.headers[R.Yu.uniFeatTun]=await b.$D.getUniFeatTunHeader());const e=(0,S.w)(((e,n)=>{const i=n||it;return(0,g.N)()?(0,S.O)(i,et,s,t.skipRetry):(0,E.Sm)(i,s,et,void 0,void 0,!0)}),"WpoCardProvider.fetch",s,t.skipRetry,it);if(y&&setTimeout((()=>y.set()),0),u=await e,ht&&(clearInterval(ht),ht=null),(T||this.canUseWpoCache())&&u&&u.ok&&!Lt(u)){const e=u.clone();window.requestIdleCallback((()=>{this.addResponseToCache(it,e),T&&T.writeCache(e,t)}))}}if(u){if("1"===_.cX.getQueryParameterByName("logwpores",window.location.href)){var mt;const t={};null===(mt=u.headers)||void 0===mt||mt.forEach(((e,n)=>t[n]=e)),(0,i.H)(r.v5s,"",void 0,{...r.v5s.pb,headers:JSON.stringify(t),reqHeaders:JSON.stringify(et.headers),ok:u.ok,status:u.statusText,body:u.body})}const{ok:n,status:o,statusText:s,headers:a}=u;if(ct=a&&a.get("ddd-debugid"),ut=a&&a.get("x-ceto-ref"),lt=a&&a.get("x-msedge-ref"),dt=a&&a.get("ddd-auth-features"),this.rawFetchCallResponse=`{ status: ${o}, url: ${u.url}, debugId: ${ct} }`,v.Gq.set("OneServiceResponseDebugId",ct),t.feedName===_t){const n=new URLSearchParams(nt.search),s="activityId",a=n.get(s)||"";if(a&&a!=I.jG.ActivityId&&(0,i.H)(r.jQb,"ActivityId mismatched",void 0,{...r.jQb.pb,clientActivityId:I.jG.ActivityId,serviceSideActivityId:a,debugId:ct}),(204===o||404===o)&&at&&e&&!t.feedId){var gt;const t=K;return 204===o&&null!=t&&null!==(gt=t.sections)&&void 0!==gt&&null!==(gt=gt[0].subSections)&&void 0!==gt&&null!==(gt=gt[0].cards)&&void 0!==gt&&gt[0]&&(t.sections[0].subSections[0].cards[0].isShowSelectMoreMessage=!0),t}}n?t.disableContent||204!==o||(l=at?r.bri:r.e88,p=!1):(l=t.disableContent?r.k28:at?r.vas:r.azB,"outlookchannels"===t.feedName&&500===o&&(l=r.SPE),d=o,f=s,p=!0)}else l=t.disableContent?r.k28:at?r.vas:r.azB,p=!0;const w=Lt(u);if(l){var vt;const t=(0,kt.Z)(et,"headers.Authorization"),e=null===(vt=u)||void 0===vt||null===(vt=vt.headers)||void 0===vt?void 0:vt.get("ddd-auth-features"),n=null==e?void 0:e.includes("IsBot:1"),i={...l,pb:{...l.pb,url:decodeURIComponent(nt.href),requestHeaders:JSON.stringify(t&&t.headers),status:d,statusText:f,isFirstPage:at,activityId:I.jG.ActivityId,isBot:n,isStatic:w,isInitializedAsPrerenderPage:A,isPrerender:D,isRetriedRequest:m,debugId:ct,requestStart:ft}};if(this.sendAppErrorWithSeverityOverride(l,i),p)return void(this.responseStatus=C.F_.Failed);if(!(0,g.N)()&&l===r.bri)return void(this.responseStatus=C.F_.NoContent)}let x,k,$;if(u.headers){if(w){const e=u.headers&&u.headers.get("X-Staticfallback-Reason");let n=r.vCG;D?n=r.V_e:I.jG.IsHeroNTP&&!m&&(n=r.NW0),!t.disableContent&&(0,i.H)(n,"Fell back to static content on the feeds call",void 0,{...n.pb,url:decodeURIComponent(nt.href),isFirstPage:at,activityId:I.jG.ActivityId,isPrerender:D,isInitializedAsPrerenderPage:A,debugId:ct,isRetriedRequest:m,staticsFallbackReason:e}),this.isStatic=!0}else{var yt;const t=null===(yt=u.headers)||void 0===yt?void 0:yt.get(R.rD.digitalId);(0,Tt.t)(t)}if(k=u.headers.get(R.rD.userType),t.feedName!==Mt&&t.feedName!==Rt){c.M0.addOrUpdateCustomProperty("debugId",ct),c.M0.addOrUpdateTmplProperty("1s-usertype",k),c.M0.addOrUpdateTmplProperty("1s-authFeatures",dt);const t=u.headers.get(R.rD.traceId);if(x=this.addOrUpdateIdxId(t,e),(0,wt.Dz)(ct,!1),(0,g.N)()){const e=this.getAuthTrail();(0,h.m)(t,ct,e)}}e&&function(t){var e,n;if(!t)return;const i=(0,o.Ou)(),r=(null===(e=t.match(/wpo;\s*dur=(\d+)(,|$)/))||void 0===e?void 0:e[1])||"";r&&(i.wpoServerTiming=parseInt(r));const s=(null===(n=t.match(/1s;\s*dur=(\d+)(,|$)/))||void 0===n?void 0:n[1])||"";s&&(i.oneServiceServerTiming=parseInt(s))}(u.headers.get("server-timing")||"")}if(!st){const t=rt.WpoCallStart,e=rt.WpoResponseBack=Math.round((0,o.UE)());rt["FeedRequest.FG"]=e-t,(0,a.QP)({name:"FeedRequest.FG",startTime:t,endTime:e})}if(![r.bri,r.e88,r.RSD].includes(l)){var St,$t,Et,Ft;const n=(0,g.N)()&&(0,o.UE)();if(ot=await u.json(),(0,Tt.t)(null===(St=ot)||void 0===St?void 0:St.authContext),null!==($t=ot)&&void 0!==$t&&$t.serviceContext){const{tmpl:t,responseCreationDateTime:n}=ot.serviceContext;t&&($=t,c.M0.addOrUpdateTmplString($)),e&&"ruby"===I.jG.UxMode&&!(0,Ct.K)()&&n&&(0,F.$o)().setItem("RubyFeedGenTime",n)}if(ot&&u&&(ot.isFromCache=u.isFromCache),n&&rt&&(rt.FeedResponseJsonReadTime=Math.round((0,o.UE)()-n)),null!==(Et=ot)&&void 0!==Et&&Et.swCacheEnabled){var Dt;(0,i.H)(r.Y6E,"Service Worker Cached Data Triggered",void 0,{...r.Y6E.pb,url:decodeURIComponent(nt.href),isFirstPage:at,activityId:I.jG.ActivityId,isPrerender:D,isInitializedAsPrerenderPage:A,debugId:ct,isRetriedRequest:m,cacheAgeSeconds:ot.cacheAgeSeconds});let t=null,e="";switch(null===(Dt=ot)||void 0===Dt?void 0:Dt.cacheTriggeredReason){case r.RDJ.id:t=r.RDJ,e="Service Worker Triggered due to fetch error: "+ot.cacheTriggeredErrorMessage;break;case r.Nyv.id:t=r.Nyv,e="Service Worker Triggered due to wpo service error";break;case r.Vm4.id:t=r.Vm4,e="Service Worker Triggered due to Status 204 no content";break;case r.npe.id:t=r.npe,e="Service Worker Triggered due to static content loaded";break;case r.Q0t.id:t=r.Q0t,e="Service Worker Triggered due to wpo service returns empty section";break;case r.dAd.id:t=r.dAd,e="Service Worker Triggered due to static fallback returns empty section";break;case r.zo9.id:t=r.zo9,e="Service Worker Triggered due to network timeout"}t&&(0,i.H)(t,e,void 0,{...t.pb,url:decodeURIComponent(nt.href),isFirstPage:at,activityId:I.jG.ActivityId,isPrerender:D,isInitializedAsPrerenderPage:A,isRetriedRequest:m,cacheAgeSeconds:ot.cacheAgeSeconds,staticsFallbackReason:ot.staticsFallbackReason,debugId:ot.originalDebugId,cachedResponseDebugId:ct})}if(ot.traceIdIndex=x,ot.userType=k,ot.debugId=ct,ot.cetoRef=ut,ot.msEdgeRef=lt,ot.authFeatures=dt,ot.dddTmpl=$,t.feedName===_t&&200===u.status&&at&&e){const t=K;if(!(ot.sections&&ot.sections.some((t=>"river"===t.region)))&&ot.sections&&t&&t.sections&&t.sections.length){const e=ot.sections.filter((t=>"overlay"===t.region));e&&e.length&&ot.sections.push(t.sections[0])}}if(t.feedName===Pt&&200===u.status&&at&&e&&(0,g.N)()&&null!==(Ft=ot.serviceContext)&&void 0!==Ft&&Ft.tmpl&&!(0,F.$o)().getObject("gaming-feed-engagement"))try{const t=Math.floor((new Date).getTime()/1e3),e=ot.serviceContext.tmpl.split(";"),n={};for(let t=0;t<e.length;t++)e[t].includes("gamingFeedEngagementCount30D")&&e[t].split(",").forEach((t=>{const e=t.split(":"),[i,r]=e,o=r?Number.parseInt(r,10):null;"gamingFeedEngagementSum7D"!==i&&"gamingFeedEngagementCount7D"!==i&&"gamingFeedEngagementSum30D"!==i&&"gamingFeedEngagementCount30D"!==i||null===o||(n[i]=o)}));n.lastUpdated=t;const i=5;Object.keys(n).length===i&&(0,F.$o)().setObject("gaming-feed-engagement",n)}catch(t){}if(!(t.feedName===_t||t.feedName===Mt||t.feedName===Rt||t.disableContent||this.isPartialResponse(ot)||ot.sections&&ot.sections.length>0)){const t=w?r.hqX:r.Fh_;(0,i.H)(t,"Empty Section on the feed call",void 0,{...t.pb,url:decodeURIComponent(nt.href),isFirstPage:at,activityId:I.jG.ActivityId,isPrerender:D,isInitializedAsPrerenderPage:A,debugId:ct,isRetriedRequest:m})}}}catch(e){ht&&(clearInterval(ht),ht=null);const n=["Service Request Timed out","Fetch for https://"],i=["TypeError: Failed to fetch"];let o;const s=(0,x.fK)();if(this.shouldRetryInOtherDomain=at&&!t.domainOverride&&!s&&!(!(0,g.N)()&&this.config.requestToOrigin),n.some((t=>{var n;return null==e||null===(n=e.message)||void 0===n?void 0:n.includes(t)}))){const t=D?r.LLm:r.KEP;o=at?t:r.VPR,o===r.KEP&&this.shouldRetryInOtherDomain&&!m&&(o=r.YLV)}else o=i.some((t=>{var n;return null==e||null===(n=e.message)||void 0===n?void 0:n.includes(t)}))?this.shouldRetryInOtherDomain?r.iB1:r.ck_:this.shouldRetryInOtherDomain?r.CDI:r.QJe;const a=(0,kt.Z)(et,"headers.Authorization"),c={...o,message:"Error while fetching WpoService response",pb:{...o.pb,customMessage:`Error: ${e}`,url:decodeURIComponent(nt.href),requestHeaders:JSON.stringify(a.headers),isFirstPage:at,activityId:I.jG.ActivityId,isPrerender:D,isInitializedAsPrerenderPage:A,domainOverride:t.domainOverride??"",isRetry:this.shouldRetryInOtherDomain,debugId:ct,isRetriedRequest:m,isRetryBackupDomainFlight:s,requestStart:ft}};return this.sendAppErrorWithSeverityOverride(o,c),void(this.responseStatus=C.F_.Failed)}this.jsonResponseFromWPO=null;const Ot=this.isPartialResponse(ot);if(Ut.isPrerenderDsiabled=Ot,ot&&ot&&ot.sections&&ot.sections.length>0||Ot){var Bt,Wt;this.responseStatus=C.F_.Success;const n=null===(Bt=ot)||void 0===Bt||null===(Bt=Bt.sections)||void 0===Bt?void 0:Bt.map(((t,e)=>null==t?void 0:t.region));var Ht;if(this.jsonResponseFromWPO=JSON.stringify(n),!this.isStatic&&e&&"default"===t.feedName&&I.jG.IsHeroNTP&&((t,e)=>{var n;const o=(_.cX.getQueryParameterByName("segment",(0,w.zp)())||"").toLowerCase(),s=t.sections.find((t=>"hero"===t.region));if(s&&null!==(n=s.subSections)&&void 0!==n&&n.length)try{var a,c,u;if((t=>{var e,n;return!(null!=t&&null!==(e=t.subSections)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.dataTemplate||null!=t&&null!==(n=t.subSections)&&void 0!==n&&null!==(n=n[0])&&void 0!==n&&n.layoutTemplate)})(s))return L({jsonResponse:t,heroSection:s,segment:o,decodedServiceUrl:e});const n=s.subSections[0].layoutTemplate,l=V.get(n),d=null==l||null===(a=l.supportedSegments)||void 0===a?void 0:a.includes(o),f=(null==l?void 0:l.cardCount)===(null===(c=s.subSections[0].cards)||void 0===c?void 0:c.length),h=H.get(o);let p=!0,m=!1;null==l||l.cardCount,null===(u=s.subSections[0].cards)||void 0===u||u.map((t=>{h&&h.has(t.type)||(z.includes(t.type)?m=!0:p=!1)})),m&&(0,i.H)(r.uud,`Hero card backfilled - ${o}`,void 0,{...r.uud.pb,templateName:n,cardsInResponse:JSON.stringify(s.subSections[0].cards.map((t=>t.type))),debugId:t.debugId,isValidTemplateForThisSegment:d,isCorrectCardCount:f,isValidCardTypes:p}),d&&f&&p||(0,i.H)(r.jty,"Invalid Hero Response",void 0,{...r.jty.pb,templateName:n,cardsInResponse:JSON.stringify(s.subSections[0].cards.map((t=>t.type))),debugId:t.debugId,isValidTemplateForThisSegment:d,isCorrectCardCount:f,isValidCardTypes:p,hasBackfilled:m})}catch(e){(0,i.H)(r.jty,"Invalid Hero Response",e.message,{...r.jty.pb,debugId:t.debugId})}else{var l;const n=t.sections.find((t=>"river"===t.region))?"Missing hero section in WPO response.":"Missing hero and river section in WPO response.",r=B(o);if((0,i.H)(r,"Missing Hero Region",`${n} Debug id: ${t.debugId}`,{...r.pb,requestUrl:e,statusCode:t.statusCode}),"homePage"===I.jG.AppType&&(0,O.Nm)(null===k.Al||void 0===k.Al||null===(l=k.Al.ClientSettings)||void 0===l?void 0:l.ocid)){const t=new URL(window.location.href),e=t.searchParams.get("cm");t.search="",t.searchParams.set("ocid","windirect"),e&&t.searchParams.set("cm",e),window.location.href=t.toString()}}})(ot,it),!this.isStatic&&t.widgetsOn&&!t.renderedSegments&&null!==(Wt=this.config)&&void 0!==Wt&&Wt.enableWidgetsRegion)q(ot,e),null===(Ht=ot.sections)||void 0===Ht||Ht.forEach((t=>{var e,n;"widgets"===t.region&&null!==(e=t.subSections)&&void 0!==e&&e.length&&null!==(n=t.subSections[0].cards)&&void 0!==n&&n.length&&t.subSections[0].cards.length>0&&t.subSections[0].cards.length<5&&(t.subSections[0].dataTemplate+="-"+t.subSections[0].cards.length,t.subSections[0].layoutTemplate+="-"+t.subSections[0].cards.length)}))}else{var zt;this.responseStatus=C.F_.NoContent;const n=e&&t.disableContent&&t.widgetsOn&&!I.jG.IsHeroNTP;var Vt;if(t.widgetsOn&&(!t.renderedSegments||n)&&null!==(zt=this.config)&&void 0!==zt&&zt.enableWidgetsRegion&&q(ot,e),!(0,g.N)())return null!==(Vt=ot)&&void 0!==Vt&&null!==(Vt=Vt.serviceContext)&&void 0!==Vt&&null!==(Vt=Vt.emptyFeedReasons)&&void 0!==Vt&&Vt.includes("InsufficientResponseCausedByMutePub")?ot:void 0}return!this.config.auctionRidOverride||(0,xt.TR)()||(0,g.N)()||this.mapperHelper.backfill1SAdWithNews(ot),ot}async getCachedResponse(t){if(this.canUseWpoCache())try{const n=await caches.open("edgenext-river-V1");if(!n)return;const s=this.normalizeUrl(t.serviceUrl),a=await n.keys()||[],c=a.filter((t=>t.url&&this.normalizeUrl(t.url)===s));for(const t of c)try{const s=await n.match(t.url);if(!s)return;const a=await s.json();if(a){var e;const t=Date.parse(null===(e=s.headers)||void 0===e?void 0:e.get("date")),n=isNaN(t)?"":(Date.now()-t)/1e3;return(0,i.H)(r.Smg,"Cached WPO response returned in main thread",void 0,{...r.Smg.pb,cacheAgeSeconds:n}),this.responseStatus=C.F_.Success,(0,o.Ou)().responseSource=C.H3.FromCache,{...a,responseSource:C.H3.FromCache,appError:r.Smg}}}catch(t){}(0,i.H)(r.Rgo,"",void 0,{...r.Rgo.pb,numCachedRequests:a.length,numMatches:c.length,serviceUrl:t.serviceUrl})}catch(e){(0,i.H)(r.Rgo,"An error occurred while retrieving a cached response. "+e.message,void 0,{...r.Rgo.pb,isFirstPage:!t.nextPageUrl,url:t.serviceUrl,requestId:t.requestId,stack:e.stack})}}normalizeUrl(t){try{const e=new URL(t);Et.forEach((t=>e.searchParams.delete(t)));return decodeURIComponent(e.toString()).replace("/serviceak/","/service/").replace("api.msn.com/","assets.msn.com/").replace("api.msn.cn/","assets.msn.cn/")}catch(t){return""}}clearCache(){this.mapperHelper.resetCardCountForSuperFeed()}static clearRenderedSegments(){Ut.renderedSegments=""}initializeRequest(){const{initialRequest:t}=this.config;null!==t&&(0,St.isNullOrUndefined)(t.useNextPageUrl)&&(t.useNextPageUrl=!0)}addOrUpdateIdxId(t,e){return c.M0.addOrUpdateIdxId(t,e)}getResponseStatus(){return this.responseStatus}getIsStatic(){return this.isStatic}_requestQueryParams(){return this.requestQueryParams}isDhp(){var t;return(null===(t=window.location.search)||void 0===t?void 0:t.indexOf("startpage=1"))>-1}noContentCannotRetry(){return this.noContentRetryCount>=this.maxContentRetryCount}static updateRenderedSegments(t){t&&(Ut.renderedSegments=new URL(t).searchParams.get("renderedSegments"))}updateMapperHelperIsNTPPeek(t){this.mapperHelper.updateAdRegionToPeek(t)}getWpoIdResponseIndex(){return this.mapperHelper.wpoIdResponseIndex}addResponseToCache(t,e){this.canUseWpoCache()&&caches.open("edgenext-river-V1").then((n=>{if(!n)return;const i=this.normalizeUrl(t);n.put(i,e.clone())})).catch((()=>{}))}canUseWpoCache(){return(0,g.N)()&&!!(0,m.i9)()}}(vt=Ut).preloadedResponsesKey=Symbol("preloadedResponses"),vt.renderedSegmentsKey=Symbol("renderedSegments"),vt.fetchingLockKey=Symbol("fetchingLock"),vt.isPrerenderDsiabledKey=Symbol("isPrerenderDsiabled");const Lt=t=>{var e;return null==t||null===(e=t.headers)||void 0===e?void 0:e.get("X-Statics-Fallback")}},95438:function(t,e,n){var i,r,o;n.d(e,{F_:function(){return i},H3:function(){return r}}),function(t){t[t.InvalidRequest=0]="InvalidRequest",t[t.Success=1]="Success",t[t.NoContent=2]="NoContent",t[t.Failed=3]="Failed"}(i||(i={})),function(t){t[t.FromSSR=0]="FromSSR",t[t.FromCache=1]="FromCache",t[t.FromWW=2]="FromWW",t[t.FromEarlyResponse=3]="FromEarlyResponse",t[t.FromServer=4]="FromServer"}(r||(r={})),function(t){t.river="river",t.rightRail="rightrail",t.Rail="Rail"}(o||(o={}))},29871:function(t,e,n){n.d(e,{N:function(){return a},Qu:function(){return c},n8:function(){return o},uq:function(){return s}});var i=n(34800),r=n(52185);const o="CanonicalName-watch-shorts";var s;!function(t){t[t.IsInfopaneDenseCard=0]="IsInfopaneDenseCard",t[t.IsRiverDenseCard=1]="IsRiverDenseCard",t[t.NotDenseCard=2]="NotDenseCard"}(s||(s={}));const a=(0,r.TG)({liked:"like",unliked:"unlike",saved:"save"}),c=(0,r.TG)([i.PL.AutosCarousel,i.PL.AutosEntityList,i.PL.BeaconProviderUpsell,i.PL.BingDailyQuizCard,i.PL.BingHealthCovid19StatsCard,i.PL.BingHealthFitnessCard,i.PL.BingVideoCarousel,i.PL.BreakingNewsNotification,i.PL.CasualGamesCarousel,i.PL.ChannelCarousel,i.PL.ChannelFilterCard,i.PL.CommunityCard,i.PL.CommuteCard,i.PL.CreatorSpotlight,i.PL.DailyBriefCard,i.PL.DailyGreetingCard,i.PL.DailyMomentsCard,i.PL.DailyMomentsCard1,i.PL.DailyMomentsCard2,i.PL.DailyMomentsCard3,i.PL.DailyQuizSdCard,i.PL.DailyWonderCard,i.PL.DailyWonderCopilotCard,i.PL.DailyWonderHeroVideo,i.PL.DailyWonderQuoteCard,i.PL.DailyWonderVideoListCard,i.PL.DigestCard,i.PL.DigestCardRuby,i.PL.DonationNpoCard,i.PL.DynamicFilteredChannel,i.PL.EdgeShoppingCard,i.PL.Elections,i.PL.EntertainmentPremierCard,i.PL.EsportsCasualGames,i.PL.EsportsCasualGamesMiniWidget,i.PL.EsportsLiveStream,i.PL.EsportsTournament,i.PL.EventSDCardElectionMIT1,i.PL.EventSDCardElectionMIT2,i.PL.EventSDCardElectionMIT3,i.PL.EventSDCardOscarsPrm,i.PL.EventSDCardShopping,i.PL.EventSDCardSportsMIT1,i.PL.EventSDCardSportsMIT2,i.PL.EventSDCardSportsMIT3,i.PL.EventSDCardWorldCup,i.PL.EventSDCardWorldCup2,i.PL.FinanceSpotlightHeroPrice,i.PL.FinanceSpotlightHeroMarket,i.PL.FinanceSpotlightHeroRadarGraph,i.PL.FinanceHeroCrypto,i.PL.FinanceHeroCurrencies,i.PL.FinanceHeroMarket,i.PL.FinanceHeroMarketChart,i.PL.FinanceHeroMovers,i.PL.FinanceHeroNews,i.PL.FinanceHeroSuggested,i.PL.FinanceHeroUpcomingEarnings,i.PL.FinanceHeroWatchlistIdeas,i.PL.FinanceHerowlsummary,i.PL.ForYouNotification,i.PL.GamingRecentlyPlayed,i.PL.GemCard,i.PL.GemRiverCard,i.PL.Gem_Article_RelatedArticles,i.PL.Gem_Finance_GetCharts,i.PL.Gem_GenAIContent_InsightSummary,i.PL.Gem_Media_Image,i.PL.Gem_Prompts,i.PL.GemGreeting,i.PL.GemInsight,i.PL.GemPrompts,i.PL.GemShopping,i.PL.HealthTipCard,i.PL.Horoscope,i.PL.TopCommentsCard,i.PL.HotListCard,i.PL.Inspiration,i.PL.InterestManagementCard,i.PL.LinkedInCard,i.PL.LocalNewsFeed,i.PL.MangaCard,i.PL.MangaCarousel,i.PL.Marketplace,i.PL.MarketplaceEvent,i.PL.MiniWidgets,i.PL.MiTHeroAction,i.PL.MiTHeroContent,i.PL.MiTHeroFollow,i.PL.MiTHeroSpotlight,i.PL.MoneyCrypto,i.PL.MoneyInfo,i.PL.MoneyInfoMiniWidget,i.PL.MoneyMarketBrief,i.PL.MoneyPreWL,i.PL.MoneyTopicStripe,i.PL.MyBriefRiverCard,i.PL.NewsCreatorSpotlight,i.PL.NewsDailyWonderCard,i.PL.OnThisDay,i.PL.OnThisDaySDCard,i.PL.LocalEventsSDCard,i.PL.PrismCarouselCard,i.PL.Qna,i.PL.RealEstateCard,i.PL.RealEstateCarousel,i.PL.Recipes,i.PL.RecommendedInterests,i.PL.RelatedNewsCard,i.PL.Rewards,i.PL.RewardsDailySet,i.PL.RichCalendarCard,i.PL.RiverGem,i.PL.SavedContent,i.PL.SectionHeader,i.PL.Shopping1688Carousel,i.PL.ShoppingBWMCard,i.PL.ShoppingBWMCarousel,i.PL.ShoppingBannerSdCard,i.PL.ShoppingCard,i.PL.ShoppingCarousel,i.PL.ShoppingCarousel2,i.PL.ShoppingProng2c,i.PL.ShoppingRiver,i.PL.ShoppingRiver1,i.PL.ShoppingRiver2,i.PL.ShoppingRiver3,i.PL.ShoppingTopSectionCard,i.PL.SportsHeroFre,i.PL.SportsHeroLeagueTodaysEvents,i.PL.SportsHeroMatch1SeasonStats,i.PL.SportsHeroMatch1Stats,i.PL.SportsHeroMatch2SeasonStats,i.PL.SportsHeroMatch2Stats,i.PL.SportsHeroMatch3SeasonStats,i.PL.SportsHeroMatch3Stats,i.PL.SportsHeroMatchStatistics,i.PL.SportsSpotlight2Match1,i.PL.SportsSpotlight2Match2,i.PL.SportsHeroNews,i.PL.SportsHeroOneVsManyEventResult,i.PL.SportsHeroOneVsOneEventResult,i.PL.SportsHeroSeasonStatistics,i.PL.SportsHeroStandingsRankings,i.PL.SportsHeroTeamStandingWithEvents,i.PL.SportsHeroTeamStandingWithMedals,i.PL.SportsHeroTeamStandings,i.PL.SportsHeroTeamVsTeam,i.PL.SportsHeroTeamVsTeamEventResult,i.PL.SportsHeroMatchCard,i.PL.SportsHeroVideo,i.PL.SportsMatch,i.PL.SportsMatchMiniWidget,i.PL.SportsOlympics,i.PL.SportsTopicStripe,i.PL.SportsStackCard,i.PL.PersonalFinanceStackCard,i.PL.StockQuote,i.PL.TabbedInfopaneCard,i.PL.TopSectionNews,i.PL.TopStories,i.PL.TopicFeed,i.PL.TrafficCameras,i.PL.TrafficCamerasWithSummary,i.PL.TrafficDelays,i.PL.TrafficIncidents,i.PL.TrafficInfo,i.PL.TrafficMap,i.PL.TrafficNews,i.PL.TrafficSummary,i.PL.TrafficTransit,i.PL.Transit,i.PL.TravelDestinationCard,i.PL.TravelDestinationCarouselCard,i.PL.TravelInspirationCard,i.PL.TravelTimes,i.PL.TravelTimesWithSummary,i.PL.Trending,i.PL.TrendingInTenMinutes,i.PL.TrendingSearchCard,i.PL.TrendingTopics,i.PL.Upsell,i.PL.UserInterestNTPProvider,i.PL.UserInterestProvider,i.PL.UserInterestTopic,i.PL.UserInterestTopicAndProvider,i.PL.VideoShoppingCarouselCard,i.PL.WatchGoldShorts,i.PL.WatchVideoCard,i.PL.WatchVideoHeavy,i.PL.WeatherCurrent,i.PL.WeatherForecast,i.PL.WeatherHero,i.PL.WeatherMap,i.PL.WeatherSummary,i.PL.WeatherSummaryMiniWidget,i.PL.WidgetsNotificationsCard,i.PL.quizcard,i.PL.CatchUpStack,i.PL.CopilotCard,i.PL.PublisherSpotlightCard,i.PL.FollowedPublishersCard,i.PL.LittleKnownFactsCard,i.PL.NewsLittleKnownFactsCard,i.PL.TopStoriesRuby,i.PL.NewsTopStories,i.PL.TrendingNowRuby,i.PL.NewsTrendingNow])},60804:function(t,e,n){function i(t,e){const{audienceMode:n="",locale:i={},pageType:r=""}=e||{},o=i.content??i,{language:s,market:a}=o;return`wpo_data_ ${n}_${s}_${a}_${r}_${t}`}n.d(e,{_:function(){return i}})},5756:function(t,e,n){n.d(e,{k:function(){return a}});var i=n(15675),r=n(60804),o=n(77137),s=n(15598);const a=new class{constructor(){this.localStorage=new Map,this.wpoTreatmentTypeMap=new Map,this.isLoaded=new Map}getWpoTreatments(t){const e=(0,r._)(o.jG.AppType,o.jG.CurrentRequestTargetScope);if(!this.isLoaded.get(e)||t){this.wpoTreatmentTypeMap.set(e,new Map);const t=this.wpoTreatmentTypeMap.get(e);for(const e in i._h)if(isNaN(Number(e))){const n=i._h[e];null==t||t.set(n,[])}const{treatments:r}=(0,s.$o)().getObject(e)||{};if(this.localStorage.set(e,r||[]),r)for(let e=0;e<r.length;e++){var n;const i=null===(n=r[e])||void 0===n?void 0:n.type;var a;if(i)null==t||null===(a=t.get(i))||void 0===a||a.push(r[e])}this.isLoaded.set(e,!0)}return this.localStorage.get(e)}getWpoTreatmentsWithType(t,e){var n;const i=(0,r._)(o.jG.AppType,o.jG.CurrentRequestTargetScope);return this.isLoaded.get(i)&&!e||this.getWpoTreatments(e),null===(n=this.wpoTreatmentTypeMap.get(i))||void 0===n?void 0:n.get(t)}}},15675:function(t,e,n){var i;n.d(e,{_h:function(){return i}}),function(t){t.eventGleam="eventGleam",t.topSites="topsites",t.layoutPromotion="layoutPromotion",t.topSitesPromotion="topsitesPromotion",t.topsitesCollapse="topsitesCollapse",t.recommendedsitesCollapse="recommendedsitesCollapse",t.bellCoachMark="bellCoachMark",t.backupRegionStatus="backupRegionStatus",t.searchBoxCollapse="searchBoxCollapse",t.followedTopics="followedTopics",t.feedContextualFeedback="feedContextualFeedback",t.wpoSignal="wpoSignal",t.animationControl="animationControl",t.pinProngCoachMark="pinProngCoachMark",t.shorelineTrigger="shorelineTrigger",t.topNavPivotsPromotion="pivotNav",t.uxMessage="uxMessage",t.widget="widget",t.edgeSignal="edgeSignal"}(i||(i={}))},63718:function(t,e,n){n.d(e,{SI:function(){return F}});var i=n(5302),r=n(242),o=n(33779),s=n(25487),a=n(26538),c=n(52185),u=n(21215),l=n(81489),d=n(80293),f=n(15598),h=n(77137),p=n(13218),m=n(15675),g=n(95603),v=n(22624),w=n(16495),y=n(523),b=n(52),S=n(44132),x=n(60804),C=n(82928),k=n(1713);const T=async t=>{const e={...await(0,k.e2)(),wgt:t};return await(0,k.RN)(e)};var $=n(17813);const A="Wpo.Treatments.StoreInit",I="Wpo.Treatments.Parsed",P="Wpo.Treatments.Stored",_=c.Gq.get("WpoTreatmentFeedCacheKey",(()=>({FEED:"feed-ready",RAIL_FEED:"rail-feed-ready",RIVER_FEED:"river-feed-ready"}))),M="ssr-feed-data",R=Symbol();class E{constructor(){this.wpoOptimizationsReady=new Promise((t=>this.wpoOptimizationsResolver=t)),this.wpoFeedDataCache=new d.v("WpoFeedDataCache"),this.enableEarlyMainFeedRequest=!1,this.enableEarlyRiverFeedRequest=!1,this.savedPartResponses={feed:null,widgets:null,hero:null}}static getInstance(){return c.Gq.get("__WpoServiceClient__",(()=>new E))}onWPOFeedReady(t){this.wpoFeedDataCache.subscribe(M,t)}setSSRInitialFeedResponse(t){this.wpoFeedDataCache.set(M,t)}setSSRFirstSectionAdRequest(t){this.wpoFeedDataCache.set(R,t)}getSSRFirstSectionAdRequest(){return this.wpoFeedDataCache.get(R)}saveSSRPartResponse(t,e){var n,i,r;this.savedPartResponses[e]=t;const o=(null===(n=this.savedPartResponses.widgets)||void 0===n?void 0:n.sections)??(null===(i=this.savedPartResponses.hero)||void 0===i?void 0:i.sections)??[],s=(null===(r=this.savedPartResponses.feed)||void 0===r?void 0:r.sections)??[],a={...this.savedPartResponses.feed??this.savedPartResponses.widgets??this.savedPartResponses.hero,sections:[...o,...s]};this.setSSRInitialFeedResponse(a)}resetFeedDataCache(){this.wpoFeedDataCache.clear()}addWpoOptimizationDataToLocalStorage(t,e,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5?arguments[5]:void 0,d=arguments.length>6&&void 0!==arguments[6]&&arguments[6],k=arguments.length>7?arguments[7]:void 0,_=arguments.length>8?arguments[8]:void 0;const M=(0,x._)(e,n);if(this.optimizationDataReceived)return;if(setTimeout((()=>{window.dispatchEvent(new CustomEvent("wpoOptimizationAdded"))}),0),!t||!t.optimizationItems)return S.M0.addOrUpdateTmplProperty("nopct","1"),void(l&&"wpo"===l.source&&this.removeWPOUserChoiceFromPSL());if(!t.optimizationItems.length)return this.logAppError(i.lGs,"WPO Optimization data is empty in feed response ",`isFocusedMode:${o}`),(0,f.$o)().removeItem(M),void(l&&"wpo"===l.source&&this.removeWPOUserChoiceFromPSL());const R=(0,r.Ou)();R[A]=Math.round(performance.now());try{var E,F,D;const e=this.parseOptimizationItems(t.optimizationItems),n={treatments:e};R[I]=Math.round(performance.now()),(0,f.$o)().setObject(M,n);const i=e.filter((t=>(null==t?void 0:t.type)===m._h.eventGleam));S.M0.addOrUpdateTmplProperty("recEvt",null!=i&&i.length?"1":"0"),R[P]=Math.round(performance.now()),this.optimizationDataReceived=!0;const r=e.filter((t=>{var e;return((null==t?void 0:t.type)===m._h.topSites||(null==t?void 0:t.type)===m._h.topsitesCollapse)&&(null==t||null===(e=t.properties)||void 0===e?void 0:e.topSitesCollapsibleControlConfig)}));var O;if(window.isSSREnabled&&null==l&&window.chrome.ntpSettingsPrivate.getPref(b._9.layout,(t=>{var e,n;const i=null===(e=r[0])||void 0===e||null===(e=e.properties)||void 0===e||null===(e=e.topSitesCollapsibleControlConfig)||void 0===e?void 0:e.collapsibleControlIsDefaultCollapsed,o=null===(n=r[0])||void 0===n||null===(n=n.properties)||void 0===n||null===(n=n.topSitesCollapsibleControlConfig)||void 0===n?void 0:n.collapseForDefaultInformational,s=void 0===o||o&&2===(null==t?void 0:t.value);if(null!=r&&r.length&&i&&s){const t={setting:g.nc.tscollapsed,source:"wpo",timestamp:(new Date).getTime(),value:g.QO.WPO_BEFORE_CLOSE};v.L.savePreferenceSetting(g.nc.tscollapsed,t),S.M0.addOrUpdateTmplProperty(g.nc.tscollapsed,`${t.value}|${t.source}|${t.timestamp}`)}})),"wpo"===(null==l?void 0:l.source)&&0==(null==r?void 0:r.length)&&this.removeWPOUserChoiceFromPSL(),window.isSSREnabled&&(null==l?void 0:l.value)===g.QO.WPO_CLOSED)if(null!=r&&null!==(O=r[0])&&void 0!==O&&null!==(O=O.properties)&&void 0!==O&&null!==(O=O.topSitesCollapsibleControlConfig)&&void 0!==O&&O.expandForAllLayout){const t={setting:g.nc.tscollapsed,source:"addWpoOptimizationDataToLocalStorage",timestamp:(new Date).getTime(),value:g.QO.WPO_BEFORE_OPEN};v.L.savePreferenceSetting(g.nc.tscollapsed,t),S.M0.addOrUpdateTmplProperty(g.nc.tscollapsed,`${t.value}|${t.source}|${t.timestamp}`),window.addEventListener("beforeunload",(()=>{(0,C.K0)(y.RL).onlyUpdateQuickLinksDisplaySetting(1)}),{once:!0})}if(c){var N;const t=e.filter((t=>{var e;return(null==t?void 0:t.type)===m._h.layoutPromotion&&"PageContentLayout"===(null==t||null===(e=t.properties)||void 0===e?void 0:e.layoutType)}));if(null!=t&&t.length&&null!==(N=t[0])&&void 0!==N&&N.properties){if(S.M0.addOrUpdateTmplProperty("layoutpromoreceived",t[0].properties.knobIdx??"0"),t[0].properties.coachMarkId==s.Qw){const t=(0,C.K0)(y.RL);a.V.updateWPOLayoutPromotion.getActionSender(t).send(!0,"demotion"),S.M0.addOrUpdateTmplProperty("lydemotionCM","1")}if(t[0].properties.coachMarkId!==s.Qw)if(k){(0,C.K0)(y.RL).saveLayoutPromotionData(t)}else{var U;w.U.savePreferenceSetting(g.Xm.layoutPromotion,{...t[0].properties,clientReceivedTimestamp:(new Date).getTime(),usermuidWhenReceived:h.jG.UserId??"",requestIdWhenReceived:(null===S.M0||void 0===S.M0||null===(U=S.M0.getRequestId)||void 0===U?void 0:U.call(S.M0))??"",isPrerenderWhenReceived:(null===p.Al||void 0===p.Al?void 0:p.Al.IsPrerender)??!1})}}else w.U.savePreferenceSetting(g.Xm.layoutPromotion,null)}const o=e.filter((t=>(null==t?void 0:t.type)===m._h.widget));var L,B;if(null!=o&&o.length&&null!==(E=o[0])&&void 0!==E&&E.properties)if(S.M0.addOrUpdateTmplProperty("widgetPromotionReceived",null===(L=o[0])||void 0===L||null===(L=L.properties)||void 0===L?void 0:L.showWidgets),d)T(null===(B=o[0])||void 0===B||null===(B=B.properties)||void 0===B?void 0:B.showWidgets);let x=0;try{var W;const t=(null===p.Al||void 0===p.Al||null===(W=p.Al.ClientSettings)||void 0===W||null===(W=W.browser)||void 0===W?void 0:W.version)||"",e=parseInt(t,10);x=isNaN(e)?0:e}catch(t){x=0}let A;const q=x>=140;if(q){var H,z;const t=e.filter((t=>(null==t?void 0:t.type)===m._h.edgeSignal));t&&t.length&&null!==(H=t[0])&&void 0!==H&&H.properties&&null!==(z=t[0])&&void 0!==z&&null!==(z=z.properties)&&void 0!==z&&z.nrtntpEngagementMostRecentTimestamp&&(A=t[0].properties.nrtntpEngagementMostRecentTimestamp)}const G=e.filter((t=>(null==t?void 0:t.type)===m._h.wpoSignal)),J=(null==G?void 0:G.length)&&(null===(F=G[0])||void 0===F||null===(F=F.properties)||void 0===F?void 0:F.feedsEngagement);var V;if(J)S.M0.addOrUpdateTmplProperty(null===(V=G[0])||void 0===V||null===(V=V.properties)||void 0===V||null===(V=V.feedsEngagement)||void 0===V?void 0:V.tmpl);if(_&&((0,u.N)()||!window.isSSREnabled)&&null!==(D=window)&&void 0!==D&&null!==(D=D.chrome)&&void 0!==D&&null!==(D=D.ntpSettingsPrivate)&&void 0!==D&&D.recordFeedEngagement){var j;const t=J?(null===(j=G[0])||void 0===j||null===(j=j.properties)||void 0===j||null===(j=j.feedsEngagement)||void 0===j?void 0:j.withEngagement30d)??!1:null;null===t&&A&&S.M0.addOrUpdateTmplProperty("nowposig-engage-time",A.toString()),null!==t&&(0,$.lr)().then((()=>{q?window.chrome.ntpSettingsPrivate.recordFeedEngagement(t,A):window.chrome.ntpSettingsPrivate.recordFeedEngagement(t)}))}}catch(e){const n=`Failed to store wpo response to LS.Error:${e}`,r=`WpoServiceResponse: ${JSON.stringify(t)}. key: ${M}`;this.logAppError(i.pOl,n,r)}}storeEarlyWpoFeedData(t,e){let n=_.FEED;"rail"===e?n=_.RAIL_FEED:"river"===e&&(n=_.RIVER_FEED),this.wpoFeedDataCache.set(n,t)}getEarlyWpoFeedData(t,e){return new Promise((n=>{let r,o=_.FEED;"rail"===e?o=_.RAIL_FEED:"river"===e&&(o=_.RIVER_FEED);const s=t=>{r&&clearTimeout(r),this.wpoFeedDataCache.unsubscribe(o,s),this.wpoFeedDataCache.delete(o),n(t)};t&&(r=setTimeout((()=>{this.wpoFeedDataCache.unsubscribe(o,s),this.wpoFeedDataCache.delete(o);const e=`Getting early main feed(key: ${o}) timeout in ${t}ms`;this.logAppError(i.$HJ,e),n(void 0)}),t)),this.wpoFeedDataCache.subscribe(o,s)}))}storeWpoOptimizationData(t){if(t)if(this.wpoOptimizations&&this.wpoOptimizations.length>0)this.wpoOptimizationsResolver();else{try{this.wpoOptimizations=this.parseOptimizationItems(t.pageContext&&t.pageContext.optimizationItems)}catch(e){const n=`Failed to store wpo response to Memory.Error:${e}`,r=`WpoServiceResponse: ${JSON.stringify(t)}.`;this.logAppError(i.yPw,n,r)}this.wpoOptimizationsResolver()}}getWpoOptimizationData(t){if(t){let e;const n=new Promise((n=>{e=setTimeout((()=>{S.M0.addOrUpdateTmplProperty("wpoPromoTimeout",t.toString()),n()}),t)}));return Promise.race([n,this.wpoOptimizationsReady]).then((()=>(clearTimeout(e),this.wpoOptimizations)))}return this.wpoOptimizationsReady.then((()=>this.wpoOptimizations))}tryToGetWpoOptimizationData(){return this.wpoOptimizations}logAppError(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";S.M0.sendAppErrorEvent({...t,message:e,pb:{...t.pb,customMessage:n}})}parseOptimizationItems(t){if(!t||!t.length)return[];return t.map(((t,e)=>{if(t.type&&t.type.trim().length)if(Object.values(m._h).includes(t.type)||this.logAppError(i.OE6,`Unknown Type in WPO optimization items. Type: ${t.type}, Index: ${e}`),t.data){if(t.type&&t.data){let n;try{if(n=JSON.parse(t.data),!Object.entries(n).length)return void this.logAppError(i.OnJ,`Parsed WPO Optimization item but it is empty. Type: ${t.type}, Index: ${e}`)}catch(n){return void(0,o.OO)(n,i.X1V,`${n}. Type: ${t.type}, Index: ${e}`)}if(n)return{type:t.type,properties:n}}}else this.logAppError(i.uSS,`Unable to find data in WPO optimization item. Type: ${t.type}, Index: ${e}`);else this.logAppError(i._wC,`Type not found in WPO optimization items. Index: ${e}`)})).filter(Boolean)}isOptimizationDataReceived(){return this.optimizationDataReceived}removeWPOUserChoiceFromPSL(){v.L.deleteKeyValueFromPSL(g.nc.tscollapsed)}}const F=(0,l.h)(E)},30554:function(t,e,n){n.d(e,{P:function(){return d}});var i=n(38300),r=n(22011),o=n(22680),s=n(28951),a=n(13218),c=n(40322);const u=(t,e,n)=>{e&&t.push({id:e,source:n})},l=t=>{if(!t)return"";return t.split("-")[0]},d=t=>{var e;const{anid:n,bidTimeout:d,enableContent:f,enableDevice:h,enablePrivateAuction:p,envelopeId:m,disable1pXandrDomainEndpoint:g,isMobile:v,keywords:w,locale:y,msft:b,muid:S,oathAsid:x,trackingManagement:C}=t||{},k=c.pg.maskIdentifiers(n),T=c.pg.maskIdentifiers(S),$={member:i.Se,user:{...T&&{externalUid:T},externalImpId:x,userIds:[]},keywords:w,trackingManagement:C,msft:b,...f&&{content:{language:l(y)}},...h&&{device:{deviceType:v?"1":"2",useragent:(0,o.ij)()}}},A=s.cX.getParamsWithItems(location.search,!0,"citem").find((t=>{let{key:e}=t;return"testAds"===e}));A&&"true"===A.value&&($.test=!0);const I=((t,e)=>{const n=[];return u(n,t,"msft_muid"),u(n,e,"msft_anid"),n})(T,k);return(null==I?void 0:I.length)>0&&$.user.userIds.push({type:"extendedIDs",eids:I}),m&&$.user.userIds.push({type:"liveramp",id:m}),d>0&&($.auctionTimeout=d),null!==(e=a.Al.CurrentFlightSet)&&void 0!==e&&e.has(r.oS)||g||($.use1pEndpoint=!0),p&&($.topics={enabled:!0},$.privateAuction={enabled:!0,sellerTimeout:500}),$}},45313:function(t,e,n){n.d(e,{S:function(){return o},l:function(){return r}});var i=n(13218);const r=()=>{var t;return null!==i.Al&&void 0!==i.Al&&null!==(t=i.Al.CurrentFlightSet)&&void 0!==t&&t.has("prg-ad-xan-ceto")?"https://irtb.msn.com":"https://ib.msn.com"},o=()=>`${r()}/ut/v3`},6360:function(t,e,n){n.d(e,{R:function(){return q}});var i=n(38300),r=n(42833),o=n(33779),s=n(5302),a=n(52185),c=n(81489),u=n(94769),l=n(77137),d=n(79070),f=n(86117);const h=`${(0,l.Yq)().StaticsUrl}latest/js/thirdparty/viewability/banner.5.8.18.js`,p=`${(0,l.Yq)().StaticsUrl}latest/js/thirdparty/ast/ast_ntp.1.10.40.js`,m=()=>"edgeChromium"===l.jG.AppType,g=()=>m()?p:"https://adsdk.microsoft.com/ast/ast.js";function v(){var t;return!(null===(t=window.apntag)||void 0===t||!t.setPageOpts)}var w=n(45313);var y,b=n(14830),S=n(13218),x=n(90631),C=n(79403);!function(t){t.AdReturned="adAvailable",t.AdNotReturned="adNotReturned"}(y||(y={}));const k=new Map;let T=!1;const $=(t,e,n)=>{k.has(t)||k.set(t,new Map),k.get(t).set(e,n)},A=(t,e)=>{var n;return null===(n=k.get(t))||void 0===n?void 0:n.get(e)};var I=n(15848),P=n(49150),_=n(70861),M=n(30554);const R=()=>{const t=["ads-xdr-","prg-ad-xan-"];return Array.from(S.Al.CurrentFlightSet).filter((e=>t.some((t=>e.startsWith(t)))))};function E(t){const e=P.h.getEnvelopeIdFromCookie(),n=(0,_.m)(),i=(t=>{const{pageType:e,rid:n,locale:i,enableAdTargetingKeywords:r}=t||{};let o={page_type:e,rid:n,user_locale:i,rebroadcast_origin:"MSN",is_supply_migration:1,flight:R()};return r&&(o={...o,...(0,I.z1)()||{}}),o})(t),r=(t=>{const{verticalName:e,audienceMode:n,ocid:i,impressedCrids:r,browserOptout:o,authCookieName:s,request_msan_kv:a}=t||{},c={vertical:e,audience_mode:n,ocid:i,impressed_crids:r||[],toptout:o?1:0,flights:S.Al.AdsNumberLines};return s&&(c.auth_cookie_name=s),a&&(c.msan_kv=a),c})(t),o={anid:t.anid,bidTimeout:t.bidTimeout,disable1pXandrDomainEndpoint:!0,enableContent:!0,enableDevice:!0,envelopeId:e,isMobile:t.isMobile,keywords:i,locale:t.locale,msft:r,muid:t.muid,oathAsid:n,trackingManagement:{native:{loadViewabilityScriptAt:"impression"}}};return(0,M.P)(o)}var F=n(75115);const D="1.2",O=(t,e)=>"tg:"+t+";p:7HD66FC;r:"+e;function N(t,e){var n;const{img:r,assets:o,targetId:s,tagCode:a,region:c,regionIndex:u,tag_msan_kv:d}=t,{enableAdTargetingKeywords:f,rid:h}=e,p=function(t,e){const n={ver:D,privacy:1,assets:[]};if(null!=t&&t.length)n.assets=t.map(((t,e)=>({id:e+1,required:t.required?1:0,...t.title&&{title:{len:140}},...t.img&&{img:{type:t.img.type,w:t.img.w,h:t.img.h}},...t.data&&{data:{type:t.data.type,len:t.data.len}}})));else{n.assets.push({id:1,required:1,title:{len:140}}),n.assets.push({id:2,required:1,data:{type:F.hy.providerName.data.type}});const t=((null==e?void 0:e.w)??0)>0&&((null==e?void 0:e.h)??0)>0;n.assets.push({id:3,required:t?1:0,img:{type:F.hy.img.img.type,w:(null==e?void 0:e.w)??0,h:(null==e?void 0:e.h)??0}})}return{ortb:n}}(null==o?void 0:o[0],r),m={targetId:s,member:i.Se,invCode:a,native:p,extInvCode:(null===l.jG||void 0===l.jG||null===(n=l.jG.LocaleContentMarket)||void 0===n?void 0:n.market)||"CO",allowSmallerSizes:!1,nobidIfUnsold:!0,trafficSourceCode:O(a,h)};return f&&(m.keywords=((t,e)=>({pos:t,...(0,I.Qg)({region:e,position:null==t?void 0:t.toString()})||{}}))(Number(u),c)),d&&(m.msft_tag={msan_kv:d}),m}var U=n(16701);class L{constructor(){this.events=[]}static getInstance(){return a.Gq.get("__NativeAdXandrWrapper__",(()=>new L))}async loadSdkAsync(){return v()?Promise.resolve(!0):async function(){window.apntag=window.apntag||{anq:[]},window.apntag.anq=window.apntag.anq||[],await(0,d.v)({id:"ad-ast-sdk",src:g(),container:document.head,retryDelayMs:200,retryNumber:5})}().then((()=>!!v())).catch((()=>!1))}setEndpoint(t){globalThis.apntag.setEndpoint(t)}configPlacements(t,e){const n=E(e);this.runCommand((()=>globalThis.apntag.setPageOpts(n)));const i=m()?h:"";i&&this.runCommand((()=>globalThis.apntag.setTrkjsEndpoint(i)));const r=[];return t.forEach((t=>{this.runCommand((()=>this.removeAllEventListeners(t.targetId)));const n=N(t,e);r.push(n),this.runCommand((()=>globalThis.apntag.defineTag(n))),this.attachEventHandlers(t.targetId,e.isPrerenderAdBeforeReveal)})),r}startAdServerCalls(t){globalThis&&globalThis.apntag&&this.runCommand((()=>{const e=!0===S.Al.IsPrerender?performance.now()-(0,f.TZ)(x.DB):performance.now();t.forEach((t=>$(t.targetId,"NAdInitiate",e))),globalThis.apntag.loadTags(t.map((t=>t.targetId)))}))}fireServeBeacon(t){globalThis&&globalThis.apntag&&globalThis.apntag.fireImpressionTrackers(t)}addEventListener(t,e){(0,b.O)(t,e,this.events)}removeAllEventListeners(t){["adRequested","adAvailable","adError","adRequestFailure","adNoBid"].forEach((e=>{globalThis.apntag.offEvent(e,t)}))}attachEventHandlers(t,e){const n=this.events;globalThis.apntag.onEvent("adRequested",t,(()=>{$(t,e?"TTNativeAd.Background.Request":"TTNativeAd.Request",(0,C.v0)(S.Al.IsPrerender&&!e,performance.now())),U.c.logCount(U.vI.adRequestedCnt)})),globalThis.apntag.onEvent("adAvailable",t,(i=>{$(t,"TTNativeAd.Response",(0,C.v0)(S.Al.IsPrerender&&!e,performance.now())),function(t){var e,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(T)return;const r=(0,w.S)(),a=null===(e=performance)||void 0===e||null===(n=e.getEntriesByName)||void 0===n||null===(n=n.call(e,r))||void 0===n?void 0:n[0];if(a){var c;const t=null===(c=a.serverTiming)||void 0===c||null===(c=c[0])||void 0===c?void 0:c.duration;t&&(0,f.su)("NAdServerLatency",t)}const u=A(t,"TTNativeAd.Response");if(u){T=!0;let e=!0;const n=A(t,"NAdInitiate"),r=i?"TTNativeAd.Background.Request":"TTNativeAd.Request",a=A(t,r);n&&a||((0,o.H)(s.vaV,"Unable to find cached request marker for a new ad response"),e=!1),(0,f.su)("TTNativeAd.Response",u),e&&((0,f.su)("NAdInitiate",n),(0,f.su)(r,a),(0,f.su)("NAdInitiateToReq",a-n),(0,f.su)("NAdFetch",u-a),(0,f.su)("NativeAd.ApiDuration",u-a))}else(0,o.H)(s.vaV,"Unable to find cached response marker for a new ad response")}(t,e),U.c.logCount(U.vI.adAvailableCnt),(0,b.N)(y.AdReturned,i,n,"xandr",!0)})),globalThis.apntag.onEvent("adError",t,(t=>{this.adNotReturned(t,n),U.c.logCount(U.vI.adErrorCnt)})),globalThis.apntag.onEvent("adRequestFailure",t,(t=>{this.adNotReturned(t,n),U.c.logCount(U.vI.adRequestFailureCnt)})),globalThis.apntag.onEvent("adNoBid",t,(t=>{this.adNotReturned(t,n),U.c.logCount(U.vI.adNobidCnt)})),globalThis.apntag.onEvent("adBadRequest",t,(t=>{this.adNotReturned(t,n),U.c.logCount(U.vI.adBadRequestCnt)}))}adNotReturned(t,e){(0,b.N)(y.AdNotReturned,t,e,"xandr")}runCommand(t){globalThis.apntag.anq.push(t)}}const B=(0,c.h)(L);class W{constructor(){this.groupedAdRequests={},this.adRequestsInfoById={},this.initialized=!1,this.handleAdNotReturned=t=>{const e=t.targetId;if(!e||!this.adRequestsInfoById[e])return;const{_groupKey:n,_cancelled:i}=this.adRequestsInfoById[e];i||(this.adRequestsInfoById[e]={...this.adRequestsInfoById[e],_fetched:!0,fetchedData:null},this.updateGroupInfoOnAdUpdate(n))},this.handleAdReturned=t=>{const e=t.targetId;if(!e||!this.adRequestsInfoById[e])return;const{_groupKey:n,_onAvailable:i,_cancelled:r}=this.adRequestsInfoById[e];if(r)return;const o=i&&i(this.adRequestsInfoById[e].initialData,t);this.adRequestsInfoById[e]={...this.adRequestsInfoById[e],_fetched:!0,fetchedData:o},this.updateGroupInfoOnAdUpdate(n)}}initialize(t){this.initialized||(this.sdkWrapper=t,this.sdkWrapper.addEventListener(y.AdReturned,this.handleAdReturned),this.sdkWrapper.addEventListener(y.AdNotReturned,this.handleAdNotReturned),this.initialized=!0)}registerPlacements(t,e,n){const i=[];let r=0;t.forEach((t=>{const{targetId:e}=t||{};r+=1,i.push(e)}));const o=(()=>{if(window.location.href.includes("xdruuid="))return window.location.href.split("xdruuid=")[1].split("&")[0];let t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))})();this.groupedAdRequests[o]={targetIds:i,pendingCount:r,onCompleteAll:e},t.forEach((t=>{const{targetId:e}=t;this.adRequestsInfoById[e]={initialData:{...t},fetchedData:null,_fetched:!1,_groupKey:o,_onAvailable:n,_cancelled:!1}}))}unregisterPlacements(t){let e;return t.forEach((t=>{const{targetId:n}=t;n&&(this.sdkWrapper&&this.sdkWrapper.removeAllEventListeners(n),this.adRequestsInfoById[n]._cancelled=!0,e||(e=this.adRequestsInfoById[t.targetId]._groupKey))})),this.collectGroupResults(e)}collectGroupResults(t){if(!t)return null;const e=this.groupedAdRequests[t];if(!e||!e.targetIds||0==e.targetIds.length)return null;const n={data:[]};return e.targetIds.forEach((t=>{const e=this.adRequestsInfoById[t];if(e&&e._fetched){const t={initialData:e.initialData,fetchedData:e.fetchedData};n.data.push(t)}})),n}updateGroupInfoOnAdUpdate(t){const e=this.groupedAdRequests[t];e.pendingCount-=1,0===e.pendingCount&&e.onCompleteAll(this.collectGroupResults(t))}}const H=(t,e,n)=>t&&0!==t.length?t.filter((t=>t.event===e&&t.method===n)).map((t=>t.url)):[],z=t=>{const e=(n=t.imptrackers,i=t.eventtrackers,(null==n?void 0:n.length)>0?n:H(i,1,1));var n,i;const r=((t,e)=>{if(t)return[(t=>{const e=t.match(/<script.*?src=["'](.*?)["']/i);return e?e[1]:t})(t)];return H(e,1,2)})(t.jstracker,t.eventtrackers),o=(t=>H(t,2,1))(t.eventtrackers);return{impressionTrackers:e,javascriptTrackers:r,viewabilityTrackers:o}},V=(t,e)=>{((t,e)=>{const n=t.assets.filter((t=>1===t.required)).filter((t=>!e.assets.find((e=>e.id===t.id))));n.length>0&&(0,o.H)(s.KMm,"Missing required assets in response","",{missingRequiredAssets:n,requestAssets:t.assets,responseAssets:e.assets})})(e,t);const{impressionTrackers:n,javascriptTrackers:i,viewabilityTrackers:r}=z(t),a=[],c={clickUrl:t.link.url,clickTrackers:t.link.clicktrackers,impressionTrackers:n,javascriptTrackers:i,privacyLink:t.privacy,transformedAssets:a,viewabilityTrackers:r,title:"",image:{w:0,h:0,url:""},providerName:""},u={};return e.assets.forEach((t=>{let{id:e,data:n,img:i,title:r,required:o}=t;n?u[e]={type:"data",subType:n.type,required:o}:i?u[e]={type:"img",subType:i.type,required:o}:r&&(u[e]={type:"title",required:o})})),t.assets.forEach((t=>{const e=u[t.id];if(e){const{type:n,subType:i,required:r}=e,u=t[n];"title"===n?c.title=null==u?void 0:u.text:"img"===n&&i===F.jY.img.img.type?c.image=u:"data"===n&&i===F.jY.providerName.data.type&&(c.providerName=null==u?void 0:u.value),u&&0!==Object.keys(u).length||(0,o.H)(s.KMm,"Missing or empty asset content","",{asset:t,reqInfo:e}),a.push({...t,required:r,[n]:{...i&&{type:i},...u}})}else(0,o.H)(s.KMm,"Unable to find matched request info","",{asset:t})})),c};class j{static getInstance(){return a.Gq.get("__NativeAdSdkService__",(()=>new j))}async fetchAds(t,e){return t&&t.placements&&0!==t.placements.length?B.loadSdkAsync().then((n=>{if(!n)return null;!function(){const t=g(),e=performance.getEntriesByName(t,"resource")[0];e&&((0,f.su)("TTAdSdk.ScriptRequest",e.fetchStart),(0,f.su)("TTAdSdk.ScriptLoaded",e.responseEnd))}(),B.setEndpoint((0,w.l)()),this.eventHub||(this.eventHub=new W,this.eventHub.initialize(B));const i=this.buildPlacementsToFetch(t,e),a=B.configPlacements(i,e),c=this.buildPlacementsRegisteredToEventHub(i,a,e),u=this.getRequestTimeout(e),l=new r.o(u);if(this.eventHub.registerPlacements(c,(t=>l.set(t)),this.calculateUpdates),"undefined"!=typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes.includes("resource")){const t=new PerformanceObserver((e=>{e.getEntries().forEach((e=>{e.name===(0,w.S)()&&(e.duration>u&&(0,o.H)(s.ebQ,"Xandr endpoint timed out",`duration: ${e.duration}`),t.disconnect())}))}));t.observe({entryTypes:["resource"]})}return B.startAdServerCalls(i),U.c.logCount(U.vI.adFetchInitializedCnt,i.length),l.getResultAsync().then((t=>{var e,n;if(void 0===t){const t=this.eventHub.unregisterPlacements(c);return this.logResponseTimeout(i,(null==t?void 0:t.data)||[],u),this.formatAdResponse(t)}return U.c.logCount(U.vI.adResponseReceivedCnt,(null==t||null===(e=t.data)||void 0===e?void 0:e.length)||0),0===(null==t||null===(n=t.data)||void 0===n?void 0:n.length)&&(this.logResponseEmpty(c),(0,o.H)(s.Mly,"Empty response from Xandr sdk","")),this.formatAdResponse(t)}))})).catch((t=>((0,o.OO)(t,s.yOM,""),null))):((0,o.H)(s.JVh,"Empty placements in ad request"),Promise.resolve(null))}buildPlacementsToFetch(t,e){const n=[];return t.placements.forEach((t=>{const{indices:i,img:r,region:o,allIndices:s,diceRoll:a,tag_msan_kvs:c}=t;let{adContainerIds:l,assets:d}=t;l||(l=i.map((t=>`${e.pageType}-${o}-${t}-${(0,u.pW)()}`))),i&&i.length&&l&&l.length&&i.forEach(((t,i)=>{const u=Number(t);n.push({region:o,regionIndex:t,mappedPosition:u,targetId:l[i],img:r,allIndices:s,diceRoll:a,assets:d,tagCode:`${e.pageType}-${o}-${u}`.toLowerCase(),tag_msan_kv:c&&c[i]})}))})),n}buildPlacementsRegisteredToEventHub(t,e,n){const i=[];return t.forEach(((t,r)=>{const{region:o,regionIndex:s,targetId:a,tagCode:c}=t;i.push({targetId:a,region:o,index:Number(s),relativeIndex:r+1,pageType:n.pageType,id:`extcontentsponcon_${n.pageType}_${o}_${s}`,rid:n.rid,locale:n.locale,tagCode:c,tagObject:e[r]})})),i}calculateUpdates(t,e){return((t,e)=>{var n,i,r;const a=null==e||null===(n=e.native)||void 0===n?void 0:n.ortb;if(!a)return(0,o.H)(s.KMm,"Unexpected data in Xandr native ad response","missing ortb"),!1;if(null==a||null===(i=a.link)||void 0===i||!i.url)return(0,o.H)(s.KMm,"Unexpected data in Xandr native ad response","missing click url"),!1;if(!a.assets||null==t||null===(r=t.native)||void 0===r||null===(r=r.ortb)||void 0===r||!r.assets)return(0,o.H)(s.KMm,"Unexpected data in Xandr native ad response","missing assets"),!1;const c=t.native.ortb.assets,u=a.assets;return!c.filter((t=>1===t.required)).some((n=>{const i=u.find((t=>t.id===n.id));return i?!!(n.data&&!i.data||n.img&&!i.img||n.title&&!i.title)&&((0,o.H)(s.KMm,"Unexpected data in Xandr native ad response","assets error",{mismatchAssetId:n.id,tag:JSON.stringify(t),adObj:JSON.stringify(e)}),!0):((0,o.H)(s.KMm,"Unexpected data in Xandr native ad response","assets error",{missingAssetId:n.id,tag:JSON.stringify(t),adObj:JSON.stringify(e)}),!0)}))})(null==t?void 0:t.tagObject,e)?((t,e)=>{var n,i,r,o,s;const a=12085===t.buyerMemberId?"https://account.microsoft.com/privacy/ad-settings":"https://monetize.xandr.com/privacy-center/captcha?next_page=/privacy-center/delete",{title:c,providerName:u,image:l,clickUrl:d,clickTrackers:f,privacyLink:h,impressionTrackers:p,javascriptTrackers:m,viewabilityTrackers:g,transformedAssets:v}=V(null===(n=t.native)||void 0===n?void 0:n.ortb,null===(i=e.tagObject)||void 0===i||null===(i=i.native)||void 0===i?void 0:i.ortb),w={url:d,sourceName:u,title:c,imageUrl:l.url,uniqueId:t.targetId,adChoicesUrl:h||a,clickBeacons:JSON.stringify({tcb:f}),assets:v,adSelectionCriteria:null===(r=t.msft)||void 0===r?void 0:r.ad_selection_criteria,adSelectionReason:null===(o=t.msft)||void 0===o?void 0:o.ad_selection_reason};return{beaconsJson:JSON.stringify({e:!0,tjb:m,trb:p,tvb:g}),crids:(null===(s=t.msft)||void 0===s?void 0:s.crids)||[],feedbackUrl:t.feedbackUrl,id:e.id,imageWidth:l.w,imageHeight:l.h,index:e.index,items:[w],locale:e.locale,msft:t.msft,pageType:e.pageType,privacyUrl:a,region:e.region}})(e,t):{}}formatAdResponse(t){return{placements:((null==t?void 0:t.data)||[]).map((t=>t.fetchedData)).filter((t=>t&&Object.keys(t).length>0))}}getRequestTimeout(t){return t.fetchTimeout>0?t.fetchTimeout:i.il.Timeout}logResponseTimeout(t,e,n){const i=t.filter((t=>!e.find((e=>e.targetId===t.targetId)))).map((t=>t.targetId));(0,o.H)(s.$Dp,"Timeout calling Xandr sdk",`missing placements: (${i.join(",")}) timeout: ${n}ms`),U.c.logRequestLevelTimeoutCount(),U.c.logCount(U.vI.adTimeoutCnt,i.length)}logResponseEmpty(t){const e=t.map((t=>`${t.region}-${t.index}`)).join(",");(0,o.H)(s.Mly,"Empty response from Xandr sdk",e)}}const q=(0,c.h)(j)},16701:function(t,e,n){n.d(e,{WJ:function(){return r},c:function(){return u},vI:function(){return i}});var i,r,o=n(44132),s=n(52185),a=n(81489);!function(t){t[t.adFetchInitializedCnt=0]="adFetchInitializedCnt",t[t.adRequestedCnt=1]="adRequestedCnt",t[t.adAvailableCnt=2]="adAvailableCnt",t[t.adNobidCnt=3]="adNobidCnt",t[t.adErrorCnt=4]="adErrorCnt",t[t.adRequestFailureCnt=5]="adRequestFailureCnt",t[t.adBadRequestCnt=6]="adBadRequestCnt",t[t.adTimeoutCnt=7]="adTimeoutCnt",t[t.adResponseReceivedCnt=8]="adResponseReceivedCnt",t[t.adBeforeFetchCnt=9]="adBeforeFetchCnt"}(i||(i={})),function(t){t[t.adRequestedCnt=0]="adRequestedCnt",t[t.adAvailableCnt=1]="adAvailableCnt",t[t.adNoBidCnt=2]="adNoBidCnt",t[t.adTimeoutCnt=3]="adTimeoutCnt",t[t.adErrorCnt=4]="adErrorCnt",t[t.adReturnedFromCacheCnt=5]="adReturnedFromCacheCnt",t[t.adEmptyResponseErrorCnt=6]="adEmptyResponseErrorCnt",t[t.adResponseFormatErrorCnt=7]="adResponseFormatErrorCnt",t[t.adInvalidResponseCnt=8]="adInvalidResponseCnt"}(r||(r={}));class c{constructor(){var t=this;this.hasRegisteredEventListener=!1,this.xdrLogValues=[],this.msxLogValues=[],this.adReqCnt=0,this.adReqTimeoutCnt=0,this.reportXandrAdsRequestBeforeUnload=()=>{null!==o.M0&&void 0!==o.M0&&o.M0.sendLoadTimeEvent&&o.M0.sendLoadTimeEvent({markers:{naAdReq:this.adReqCnt,xdrna:this.xdrLogValues.join("-"),msxna:this.msxLogValues.join("-"),adReqTimeoutCnt:this.adReqTimeoutCnt}})},this.logCount=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===t.xdrLogValues.length){const e=Object.values(i).filter((t=>"number"==typeof t)).length;t.xdrLogValues=new Array(e).fill(0)}t.registerLogFlushEventListenerIfNeeded(),e in i&&(t.xdrLogValues[e]+=n)},this.logCountForMSX=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===t.msxLogValues.length){const e=Object.values(r).filter((t=>"number"==typeof t)).length;t.msxLogValues=new Array(e).fill(0)}t.registerLogFlushEventListenerIfNeeded(),e in r&&(t.msxLogValues[e]+=n)},this.logRequestLevelCount=()=>{this.registerLogFlushEventListenerIfNeeded(),this.adReqCnt+=1},this.logRequestLevelTimeoutCount=()=>{this.registerLogFlushEventListenerIfNeeded(),this.adReqTimeoutCnt+=1}}static getInstance(){return s.Gq.get("__LogHelper__",(()=>new c))}registerLogFlushEventListenerIfNeeded(){this.hasRegisteredEventListener||(this.hasRegisteredEventListener=!0,window.addEventListener("beforeunload",this.reportXandrAdsRequestBeforeUnload,{once:!0}))}}const u=(0,a.h)(c)},28784:function(t,e,n){n.d(e,{K7:function(){return s},Rq:function(){return r},uT:function(){return o}});var i=n(49218);const r=i.dy`<svg class="button-glyph" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2048 2048" width="16" height="16">
 <path d="M1169 1024l879 879-145 145-879-879-879 879L0 1903l879-879L0 145 145 0l879 879L1903 0l145 145-879 879z" />
</svg>`,o=i.dy`<svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" class="expand-collapse-glyph">
<path d="M4.47 2.22c-.3.3-.3.77 0 1.06L7.19 6 4.47 8.72a.75.75 0 001.06 1.06l3.25-3.25c.3-.3.3-.77 0-1.06L5.53 2.22a.75.75 0 00-1.06 0z"></path>
</svg>`,s=i.dy`<svg class="button-glyph" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2048 2048" width="16" height="16" part="hamburgerSvg">
 <path d="M2048 640H0V512h2048v128zm0 1024H0v-128h2048v128zm0-513H0v-127h2048v127z" />
</svg>`},25744:function(t,e,n){n.d(e,{C:function(){return s}});var i=n(33940),r=n(58481),o=n(42590);class s extends r.U{}(0,i.gn)([(0,o.Lj)()],s.prototype,"id",void 0)},15192:function(t,e,n){n.d(e,{C:function(){return M}});var i=n(99223),r=n(28784),o=n(25744),s=n(2658),a=n(26512),c=n(27460),u=n(42689),l=n(53131),d=n(10970),f=n(17993),h=n(55135),p=n(26738),m=n(35680),g=n(32572),v=n(40009),w=n(27782),y=n(80260),b=n(22674),S=n(67739),x=n(27186),C=n(24484),k=n(29717),T=n(22798),$=n(78923);const A=$.i`
.expand-collapse-glyph{transform:rotate(0deg)}:host([nested]) .expand-collapse-button{left:var(--expand-collapse-button-nested-width,calc(${s.i} * -1px))}:host([selected])::after{left:calc(${a.vx} * 1px)}:host([expanded]) > .positioning-region .expand-collapse-glyph{transform:rotate(45deg)}`,I=$.i`
.expand-collapse-glyph{transform:rotate(180deg)}:host([nested]) .expand-collapse-button{right:var(--expand-collapse-button-nested-width,calc(${s.i} * -1px))}:host([selected])::after{right:calc(${a.vx} * 1px)}:host([expanded]) > .positioning-region .expand-collapse-glyph{transform:rotate(135deg)}`,P=$.i`
:host{background:${T.H.Field};border-color:transparent;forced-color-adjust:none}:host .content-region{color:${T.H.FieldText}}:host .content-region .expand-collapse-glyph,:host .content-region ::slotted([slot="start"]),:host .content-region ::slotted([slot="end"]){fill:${T.H.FieldText}}:host .positioning-region:hover,:host([selected]) .positioning-region{background:${T.H.Highlight}}:host .positioning-region:hover .content-region,:host([selected]) .positioning-region .content-region{color:${T.H.HighlightText}}:host .positioning-region:hover .content-region .expand-collapse-glyph,:host .positioning-region:hover .content-region ::slotted([slot="start"]),:host .positioning-region:hover .content-region ::slotted([slot="end"]),:host([selected]) .content-region .expand-collapse-glyph,:host([selected]) .content-region ::slotted([slot="start"]),:host([selected]) .content-region ::slotted([slot="end"]){fill:${T.H.HighlightText}}:host([selected])::after{background:${T.H.Field}
}
:host(:${S.b}) .positioning-region{border-color:${T.H.FieldText};
    box-shadow: 0 0 0 2px inset ${T.H.Field}}:host([disabled]) .content-region,:host([disabled]) .positioning-region:hover .content-region{color:${T.H.GrayText};opacity:1}:host([disabled]) .content-region .expand-collapse-glyph,:host([disabled]) .content-region ::slotted([slot="start"]),:host([disabled]) .content-region ::slotted([slot="end"]),:host([disabled]) .positioning-region:hover .content-region .expand-collapse-glyph,:host([disabled]) .positioning-region:hover .content-region ::slotted([slot="start"]),:host([disabled]) .positioning-region:hover .content-region ::slotted([slot="end"]){fill:${T.H.GrayText}}:host([disabled]) .positioning-region:hover{background:${T.H.Field};
}
`,_=$.i`
${(0,x.j)("block")} :host{background:${c.s};
    color: ${u.C};
    contain: content;
    cursor: pointer;
    font-family: ${l.S};
    outline: none;
    position: relative;
    --expand-collapse-button-size: calc(${s.i} * 1px);--tree-item-nested-width:0}:host([disabled]) .content-region{cursor:${C.H};
    opacity: ${d.V}}:host([expanded]) > .items{display:block}:host(:focus) .content-region{outline:none}:host(:focus) > .positioning-region{outline:none}:host(:${S.b}) .positioning-region{border:${f.yG} 1px solid;
    border-radius: calc(${h.UW} * 1px);
    color: ${u.C}}:host([nested]) .content-region{margin-inline-start:calc(var(--design-unit) * 2px + 2px + var(--expand-collapse-button-size));position:relative}:host([nested]) .expand-collapse-button{position:absolute}:host([selected])::after{background:${p.go};
    border-radius: calc(${h.UW} * 1px);content:"";display:block;height:25px;position:absolute;top:12px;width:3px}:host([selected]) .positioning-region{background:${m.wF}}.content-region{align-items:center;display:flex;font-size:${g.P};
    font-weight: 400;
    height: calc(${s.i} * 1px);
    line-height: ${g.b};
    margin-inline-end: 20px;
    margin-inline-start: calc(${v._5} * 2px + 2px);width:100%;white-space:nowrap}.content-region span:first-child{width:58px}.content-region ::slotted([slot="end"]):{margin-inline-start:calc(${v._5} * 2px + 2px)}.expand-collapse-button{align-items:center;background:none;border:none;cursor:pointer;display:flex;fill:${u.C};height:var(--expand-collapse-button-size);justify-content:center;outline:none;padding:0;width:var(--expand-collapse-button-size)}.expand-collapse-glyph{pointer-events:none;transition:transform 0.1s linear}.items{display:none;font-size:calc(1em + ${w.c})}.positioning-region{align-items:center;border:transparent 1px solid;box-sizing:border-box;display:flex;height:50px;position:relative}.positioning-region::before{content:"";display:block;flex-shrink:0;width:var(--tree-item-nested-width)}.positioning-region:hover{background:${y.Qp}}.positioning-region:active{background:${y.sG}}.content-region ::slotted([slot="end"]){fill:${u.C};height:16px;width:16px}.content-region ::slotted([slot="start"]),.content-region ::slotted([slot="end"]){fill:${u.C}}.content-region ::slotted([slot="start"]){margin-inline-end:calc(${v._5} * 2px + 2px);height:18px;pointer-events:none}::slotted(msn-start-hamburger-menu-item){--expand-collapse-button-nested-width:calc(${s.i} * -1px);
    --tree-item-nested-width: 1em;
}
`.withBehaviors(new b.O(A,I),(0,k.vF)(P)),M=o.C.compose({name:"msn-start-hamburger-menu-item",template:(0,i.W)({expandCollapseGlyph:r.uT}),styles:_})},66175:function(t,e,n){n.d(e,{yU:function(){return U}});var i=n(33940),r=n(28904),o=n(58968),s=n(42590),a=n(99452),c=n(58481),u=n(94537),l=n(65518),d=n(77137),f=n(44132);class h extends r.H{constructor(){super(...arguments),this.isMenuVisible=!1,this.navItems=[],this.onSelectedChange=t=>{t.stopPropagation();const e=t.target||{},n=e.id;if("personalize"==n){const t=["en-au","en-ca","en-gb","en-in","en-us"],e=d.jG&&t.find((t=>{var e;return t==(null===(e=d.jG.CurrentMarket)||void 0===e?void 0:e.toLowerCase())}));if(f.M0.addOrUpdateTmplProperty("ChannelStoreLaunched","1"),e)return window.dispatchEvent(new CustomEvent("launchChannelStore")),void this.closeMenu()}const i=l.Nd.getRouteById(n);i&&(0,c.t)(e)&&e.selected&&(this.$emit("change",{event:t,selectedNav:i}),this.selectedNavId=n,this.closeMenu())},this.handleDocumentKeydown=t=>{t.defaultPrevented||t.key!==u.CX||this.closeMenu()},this.onOverlayClick=t=>{const e=t.target.getAttribute("class");e&&e.includes("overlay")&&this.closeMenu()}}openMenu(){this.isMenuVisible=!0,document.addEventListener("keydown",this.handleDocumentKeydown),o.H.enqueue((()=>{this.closeButton&&this.closeButton.focus(),this.menuOverlay&&this.menuOverlay.addEventListener("click",this.onOverlayClick)}))}closeMenu(){this.isMenuVisible=!1,document.removeEventListener("keydown",this.handleDocumentKeydown),this.menuOverlay&&this.menuOverlay.removeEventListener("click",this.onOverlayClick),this.menuButton&&this.menuButton.focus()}}(0,i.gn)([(0,s.Lj)({attribute:"menu-button-tooltip"})],h.prototype,"menuButtonTooltip",void 0),(0,i.gn)([(0,s.Lj)({attribute:"close-button-tooltip"})],h.prototype,"closeButtonTooltip",void 0),(0,i.gn)([a.LO],h.prototype,"isMenuVisible",void 0),(0,i.gn)([a.LO],h.prototype,"selectedNavId",void 0),(0,i.gn)([a.LO],h.prototype,"hamburgerMenuButtonTelemetryTag",void 0),(0,i.gn)([a.LO],h.prototype,"closeButtonTelemetryTag",void 0),(0,i.gn)([a.LO],h.prototype,"navItems",void 0);var p=n(27186),m=n(29717),g=n(2658),v=n(42689),w=n(27460),y=n(80260),b=n(62734),S=n(40009),x=n(78923),C=n(22798);const k=x.i`
${(0,p.j)("flex")}
:host{--elevation:11;width:fit-content}fluent-button{height:calc(${g.i} * 1px);
    width: calc(${g.i} * 1px)}.button-glyph{fill:${v.C};height:16px;width:16px}.close-button{align-items:center;background:${w.s};display:flex;justify-content:center;justify-self:end}.close-button:hover{background:${y.Qp}}.hidden{display:none}.logo{margin-inline-start:24px;fill:${v.C}}.menu{${b.XC}
    background: ${w.s};display:flex;flex-direction:column;height:100%;min-width:300px;top:0;width:fit-content}.menu-button{align-items:center;justify-content:center}.menu-content{align-self:flex-start;overflow-y:auto;width:100%}.menu-header{align-items:center;display:grid;grid-template-columns:auto auto;justify-content:stretch;padding:20px}.mobile{justify-content:flex-end}.overlay{align-items:flex-start;background-color:transparent;display:flex;flex-direction:row;height:100%;left:0;position:fixed;right:0;top:0;width:100%}.separator{margin:calc(${S._5} * 1px) 24px}.tree-view[hidden]{display:none}.tree-view{align-items:stretch;flex-direction:column;font-size:0;min-width:fit-content}.tree-view:focus-visible{outline:none}`.withBehaviors((0,m.vF)(x.i` .button-glyph{fill:${C.H.ButtonText}}.menu-button:hover .button-glyph .close-button:hover .button-glyph{fill:${C.H.HighlightText};
                }
            `));var T=n(25744),$=n(49218),A=n(93703),I=n(59502),P=n(89150),_=n(41472),M=n(28784),R=n(10711);T.C;const E=$.dy`
${t=>t.display}
${(0,A.g)((t=>t.glyph),$.dy`<div slot="start" :innerHTML=${(0,I.x)((t=>t.glyph),R.U)}></div>`)}
`,F=$.dy`<msn-start-hamburger-menu-item id=${t=>t.id} nested data-t="${t=>t.telemetryMetadata?JSON.stringify(t.telemetryMetadata):null}" :selected="${(t,e)=>t.id===e.parentContext.parent.selectedNavId}">${E}</msn-start-hamburger-menu-item>`,D=$.dy`<msn-start-hamburger-menu-item id=${t=>t.id} data-t="${t=>t.telemetryMetadata?JSON.stringify(t.telemetryMetadata):null}" :selected="${(t,e)=>t.id===e.parent.selectedNavId}">${E} ${(0,A.g)((t=>t.childItems),$.dy` ${(0,P.rx)((t=>t.childItems||[]),F)} `)}</msn-start-hamburger-menu-item>${(0,A.g)((t=>t.showDivider),$.dy`<fluent-divider class="separator" role="presentation"></fluent-divider>`)}
`,O=$.dy`<div class="overlay" part="overlay" ${(0,_.i)("menuOverlay")}><div class="menu" part="menu" ${(0,_.i)("menuRef")}><div class="menu-header"><slot name="logo"><span class="logo"></span></slot><fluent-button appearance="stealth" class="close-button" @click="${t=>t.closeMenu()}" aria-label="${t=>t.closeButtonTooltip}" title="${t=>t.closeButtonTooltip}" tabindex="0" data-t="${t=>t.closeButtonTelemetryTag}" ${(0,_.i)("closeButton")}>${M.Rq}</fluent-button></div><div class="menu-content" part="menu-content"><fluent-tree-view @selected-change="${(t,e)=>t.onSelectedChange(e.event)}" ${(0,_.i)("treeView")} part="tree-view">${(0,P.rx)((t=>t.navItems),D)}</fluent-tree-view></div></div></div>`,N=$.dy`<template><fluent-button appearance="stealth" class="menu-button ${t=>t.isMenuVisible?"hidden":""}" part="menu-button" @click="${t=>t.openMenu()}" aria-label="${t=>t.menuButtonTooltip}" aria-expanded="${t=>t.isMenuVisible}" title="${t=>t.menuButtonTooltip}" data-t="${t=>t.hamburgerMenuButtonTelemetryTag}" ${(0,_.i)("menuButton")}>${M.K7}</fluent-button>${(0,A.g)((t=>t.isMenuVisible),O)}</template>`,U=h.compose({name:"msn-start-hamburger-menu",template:N,styles:k,shadowOptions:{delegatesFocus:!0}})},93975:function(t,e,n){n.d(e,{l:function(){return L}});var i=n(33940),r=n(22914),o=n(27545),s=n(47898),a=n(37955),c=n(28904),u=n(99452),l=n(42590),d=n(33779),f=n(5302),h=n(88099),p=n(74012),m=n(28920),g=n(60831),v=n(59388),w=n(81586),y=n(44132),b=n(62042),S=n(90351);function x(t){if(!t||t.ssoStatus!==h.y)return;return{type:"MSA"===t.accountType?"msa":"aad",authenticatedState:"signedIn",memberName:t.memberName,firstName:t.firstName,lastName:t.lastName,cid:t.cid,pictureUrl:t.profilePictureUrl}}async function C(){(0,p.x4)()}async function k(){const t=(0,S.Z)(window,"MeControl.WebInline.getOptions",void 0);let e=null;t&&(e=(0,S.Z)(t(),"currentAccount.memberName","")),(0,p.kS)(e)}var T=n(28123),$=n(70970);class A extends c.H{constructor(){super(),this.telemetryTag=(0,$.V)("MeControl",{type:w.c9.ActionButton}).getMetadataTag(),this.meControlScriptIsLoaded=new Promise((t=>{this.meControlScriptLoadedResolver=t})),this.optionsReady=new Promise((t=>this.optionsReadyResolver=t)),this.connectedReady=new Promise((t=>this.connectedReadyResolver=t)),this.onDisplayThemeChange=t=>{window&&window.MeControl&&window.MeControl.API&&window.MeControl.API.setTheme({type:t?"dark":"light"})},this.onMeControlLoad=()=>{window.MeControl&&window.MeControl.API.addEventListener("beforesignoutfromapp",this.onBeforeSignOut,{once:!0}),this.meControlScriptLoadedResolver()},Promise.all([this.optionsReady,this.connectedReady]).then((()=>{this.loadMeControl()}))}meControlOptionsChanged(t,e){e&&this.optionsReadyResolver()}connectedCallback(){super.connectedCallback(),this.connectedReadyResolver()}async loadMeControl(){if(s.A.get(s.U.CookieConsentStatus)===b._.Required)this.userIsSignedIn=!1,this.generateMeControl({ssoStatus:h.L});else{if(!(0,T.P8)())return y.M0.addOrUpdateTmplString("auth-MeCtrl-Error"),void(0,d.H)(f.qzL,"The Me Control Loader failed to load the Me Control because dual auth was not enabled");{const t=await(0,p.AU)(),e=await(0,m.zj)(t),n=(0,g.Jz)(e);(0,v.OE)(n),y.M0.addOrUpdateTmplString(`auth-MeCtrl-DA-${n}`),this.userIsSignedIn=!!e&&e.ssoStatus===h.y,this.generateMeControl(e)}}this.loadMeControlScript()}logTelemetry(t){return y.M0.sendActionEvent(t.currentTarget,w.Aw.Click,w.wu.Undefined),!0}loadMeControlScript(){const t=document.createElement("script");t.id="me-control-script",t.type="text/javascript",t.src=`https://mem.gfx.ms/meversion?partner=${this.meControlOptions.partnerId}&market=${(0,r.R)().market}`,t.async=!0,t.crossOrigin="anonymous",t.addEventListener("load",this.onMeControlLoad,{once:!0}),document.body.appendChild(t)}async generateMeControl(t){const e=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return{apiGeneration:"GEN2",containerId:e.id,shadowDOMContainerElement:e,authProviderConfig:{type:"msalJsWithMsa",signIn:C,signOutFromApp:k,switch:C},currentAccount:x(t),primaryUXConfig:{theme:{type:n?"dark":"light"},displayModes:["compressed"]}}}(t,this.container,!this.meControlOptions.disableDarkMode&&o.H.get(o.a.IsDarkMode));return this.generateMeControlCore(e)}async generateMeControlCore(t){this.currentAccount=t.currentAccount,await this.meControlScriptIsLoaded,!1===this.userIsSignedIn?this.setDisplayMode("standard"):this.setDisplayMode("compressed"),this.setMeControlThemeOverride(),this.disableMeControlGraphCall();window.MeControl.Loader.load(t)||y.M0.sendAppErrorEvent(Object.assign(Object.assign({},f.MeS),{message:"The Me Control Loader failed to load the Me Control"}))}setMeControlThemeOverride(){window.MeControl&&(this.meControlOptions.disableDarkMode||o.H.subscribe(o.a.IsDarkMode,this.onDisplayThemeChange))}setDisplayMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"compressed";window.MeControl&&window.MeControl.API&&window.MeControl.API.setDisplayMode(t)}onBeforeSignOut(){(0,a.sq)("bwssoc","0",-1)}disableMeControlGraphCall(){const t=window.MeControl;t&&t.Config&&(t.Config.graphv2=!1)}getTitle(){return this.userIsSignedIn?this.currentAccount&&this.currentAccount.firstName:this.meControlOptions&&this.meControlOptions.signInTooltipText}}(0,i.gn)([u.LO],A.prototype,"meControlOptions",void 0),(0,i.gn)([u.LO],A.prototype,"userIsSignedIn",void 0),(0,i.gn)([(0,l.Lj)({attribute:"kumo",mode:"boolean"})],A.prototype,"kumo",void 0),(0,i.gn)([u.LO],A.prototype,"currentAccount",void 0);var I=n(78923),P=n(29717),_=n(81239),M=n(17993);const R=I.i`
@-moz-document url-prefix(){.signed-out button#mectrl_main_trigger{border:none}.signed-out .mectrl_topHeader #mectrl_headerPicture{filter:brightness(2)}}`,E=I.i`
.signed-out button#mectrl_main_trigger{width:59px;height:32px;border-radius:var(--CornerControl);background:transparent;border:none}.signed-out button#mectrl_main_trigger:hover{background:var(--Background-Control-Subtle-Hover,#EDF2F9);border-radius:var(--CornerControl);border:none}.signed-out button#mectrl_main_trigger:active{background:var(--Background-Control-Subtle-Pressed,#DADEE5);border-radius:var(--CornerControl);border:none}`,F=I.i`
.sign-in-button-avatar{margin-inline-start:8px}.signed-out.sign-in-button-avatar{background-color:transparent;border:0px;border-radius:0px;height:auto;position:relative;min-width:80px;display:flex;justify-content:center;align-items:center;overflow:hidden}.signed-out.sign-in-button-avatar:hover{background:transparent}.mectrl_topHeader{height:100%;display:flex;justify-content:center;align-items:center}.signed-out .mectrl_topHeader .mectrl_header_text{line-height:normal;font-size:14px;padding-inline:0px}.signed-out .mectrl_topHeader .mectrl_signIn_circle_glyph{display:none}button#mectrl_main_trigger{height:40px;min-width:36px;border-radius:4px}.signed-out button#mectrl_main_trigger{border:1px solid rgba(0,0,0,0.18);height:38px;box-sizing:border-box;padding-top:8px;padding-bottom:8px;min-width:80px;overflow:hidden;background:rgba(255,255,255,0.7);color:rgba(0,0,0,0.74);-webkit-text-fill-color:rgba(0,0,0,0.74)}.signed-out button#mectrl_main_trigger:hover{background:rgba(0,0,0,0.04);border:1px solid rgba(0,0,0,0.22);color:rgba(0,0,0,0.86);-webkit-text-fill-color:rgba(0,0,0,0.86)}.signed-out button#mectrl_main_trigger:active{background:rgba(0,0,0,0.12);border:1px solid rgba(0,0,0,0.30);color:rgba(0,0,0,0.86);-webkit-text-fill-color:rgba(0,0,0,0.86)}#sign-in-button-profile button#mectrl_main_trigger:focus-visible,.signed-out button#mectrl_main_trigger:focus-visible{box-shadow:none;border:2px solid ${M.yG};outline:unset !important}.mectrl_topHeader .mectrl_profilepic{width:32px;height:32px;margin:0}@media (prefers-color-scheme:dark){.signed-out button#mectrl_main_trigger{background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.28);color:rgba(255,255,255,0.84);-webkit-text-fill-color:rgba(255,255,255,0.84)}.signed-out button#mectrl_main_trigger:hover{background:rgba(255,255,255,0.14);border:1px solid rgba(255,255,255,0.46);color:#FFF;-webkit-text-fill-color:#FFF}.signed-out button#mectrl_main_trigger:active{background:rgba(255,255,255,0);border:1px solid rgba(255,255,255,0.42);color:#FFF;-webkit-text-fill-color:#FFF}}`.withBehaviors((0,P.vF)(R),new _.w("kumo",!0,E));var D=n(49218),O=n(41472);const N=D.dy`<div id="me-control" ${(0,O.i)("container")} class="me-control" title="${t=>t.getTitle()}" aria-label="${t=>t.getTitle()}" data-t="${t=>t.telemetryTag}" @click=${(t,e)=>t.logTelemetry(e.event)}></div>`,U=D.dy`<div id="sign-in-button-profile" class="sign-in-button-avatar ${t=>!1===t.userIsSignedIn?"signed-out":""}" part="me-control-button">${N}</div>`;let L=class extends A{};L=(0,i.gn)([(0,c.M)({name:"ms-start-me-control",template:U,styles:F,shadowOptions:{delegatesFocus:!0}})],L)},29700:function(t,e){e.Z='<svg width="30" height="14" viewBox="0 0 30 14" fill="none"><g clip-path="url(#clip0_20_99477)"><path class="outer" fill-rule="evenodd" clip-rule="evenodd" d="M22.6 0H7.4c-3.9 0-7 3.1-7 7s3.1 7 7 7h15.2c3.9 0 7-3.1 7-7s-3.2-7-7-7Zm-21 7c0-3.2 2.6-5.8 5.8-5.8h9.9l-3.1 11.6H7.4A5.8 5.8 0 0 1 1.6 7Z" fill="#06F"/><path class="uncheck" d="M24.6 4c.2.2.2.6 0 .8L22.5 7l2.2 2.2c.2.2.2.6 0 .8-.2.2-.6.2-.8 0l-2.2-2.2-2.2 2.2c-.2.2-.6.2-.8 0a.6.6 0 0 1 0-.8L20.8 7l-2.2-2.2a.6.6 0 0 1 0-.8c.2-.2.6-.2.8 0l2.2 2.2L23.8 4c.2-.2.6-.2.8 0Z" fill="#fff"/><path class="check" d="M12.7 4.1c.2.2.3.6.1.8L8.6 9.8c-.1.1-.2.2-.3.2-.2.1-.5.1-.7-.1L5.4 7.7a.6.6 0 0 1 0-.8c.2-.2.6-.2.8 0L8 8.6l3.8-4.5c.2-.2.6-.2.9 0Z" fill="#06F"/></g><defs><clipPath id="clip0_20_99477"><path fill="#fff" d="M0 0h30v14H0z"/></clipPath></defs></svg>'},545:function(t,e){e.Z='<svg width="12" height="12" viewBox="0 0 12 12"><path d="M6.85 6 12 11.15l-.85.85L6 6.85.85 12 0 11.15 5.15 6 0 .85.85 0 6 5.15 11.15 0l.85.85L6.85 6Z"/></svg>'},86572:function(t,e){e.Z='<svg width="16" height="16" viewBox="0 0 12 7"><path d="M11.85.65c.2.2.2.5 0 .7L6.4 6.84a.55.55 0 0 1-.78 0L.14 1.35a.5.5 0 1 1 .71-.7L6 5.8 11.15.65c.2-.2.5-.2.7 0z"/></svg>'},57907:function(t,e){e.Z='<svg width="10" height="10" viewBox="0 0 10 10"><path d="M10 0 0 5l4.66.34L5 10l5-10Z"/></svg>'},54869:function(t,e){e.Z='<svg width="14" height="14" viewBox="0 0 14 14"><path d="M8.5 0A5.42 5.42 0 0 1 14 5.5a5.5 5.5 0 0 1-9.02 4.23L.85 13.85c-.1.1-.2.15-.35.15a.46.46 0 0 1-.35-.15.52.52 0 0 1-.15-.35c0-.14.05-.25.15-.35l4.12-4.13a5.52 5.52 0 0 1-.54-6.28A5.48 5.48 0 0 1 8.5 0Zm0 10a4.4 4.4 0 0 0 3.9-2.24c.4-.7.6-1.45.6-2.26a4.45 4.45 0 0 0-2.25-3.9C10.06 1.2 9.31 1 8.5 1a4.5 4.5 0 1 0 0 9Z" fill-opacity=".8"/></svg>'},43870:function(t,e){e.Z='<svg slot="start" width="12" height="14" viewBox="0 0 12 14"><path d="M6 0a6 6 0 0 1 6 6c0 2.87-1.94 5.5-5.73 7.92a.5.5 0 0 1-.54 0C1.93 11.51 0 8.87 0 6a6 6 0 0 1 6-6Zm0 1a5 5 0 0 0-5 5c0 2.33 1.54 4.56 4.68 6.7l.32.2.32-.2C9.46 10.55 11 8.32 11 6a5 5 0 0 0-5-5Zm0 3.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Z"/></svg>'},42821:function(t,e,n){n.d(e,{$4b:function(){return zt},$E0:function(){return $},$L5:function(){return b},$Te:function(){return i},A2v:function(){return Ye},AHg:function(){return qt},AJn:function(){return Qt},ARh:function(){return A},AkU:function(){return Et},AnW:function(){return st},B$P:function(){return ae},BBQ:function(){return ze},BKZ:function(){return $e},BLw:function(){return v},BaY:function(){return Mt},C9:function(){return It},CBb:function(){return vt},CJ8:function(){return ve},CUV:function(){return pe},DFC:function(){return yn},DaL:function(){return ue},Dsc:function(){return Ge},Dyn:function(){return p},E8U:function(){return tt},Emg:function(){return Le},FPx:function(){return Sn},FdD:function(){return Ht},GHK:function(){return we},Gpk:function(){return s},HMS:function(){return ye},I4v:function(){return re},I8i:function(){return ht},IWO:function(){return hn},IjR:function(){return Xe},J8m:function(){return r},K2B:function(){return Ee},L$O:function(){return I},L0w:function(){return c},LSY:function(){return te},LYB:function(){return We},LZn:function(){return V},Lfd:function(){return Yt},LlZ:function(){return Ft},Lnu:function(){return fn},LxX:function(){return ce},MC$:function(){return gt},MCd:function(){return se},MMn:function(){return $t},MlN:function(){return Wt},NZV:function(){return pt},O9t:function(){return Q},OpL:function(){return Y},P43:function(){return De},P9S:function(){return Oe},PYS:function(){return dn},Pe0:function(){return Jt},PjS:function(){return Te},Po_:function(){return nt},QaR:function(){return ge},RDz:function(){return bt},RqB:function(){return wn},TYU:function(){return E},UMZ:function(){return Ie},Uqo:function(){return mn},V$Y:function(){return z},VIf:function(){return B},VLq:function(){return Zt},VOk:function(){return k},VQP:function(){return w},VT5:function(){return a},Vbi:function(){return q},Vf4:function(){return X},VgI:function(){return yt},Vx:function(){return _},WGF:function(){return R},WbD:function(){return ot},Wc8:function(){return y},Wk_:function(){return un},Wkn:function(){return ft},WrA:function(){return f},Wv_:function(){return Pt},XAs:function(){return et},YOb:function(){return mt},YZK:function(){return vn},Ymo:function(){return Pe},Yqc:function(){return Tt},Yri:function(){return me},Zhc:function(){return K},Zrt:function(){return T},Ztp:function(){return lt},_1H:function(){return fe},_9V:function(){return bn},a6B:function(){return xn},aOD:function(){return Ve},aih:function(){return Ce},bEV:function(){return rt},bK1:function(){return dt},bKD:function(){return be},c2e:function(){return kt},cVp:function(){return _t},eF0:function(){return H},f_1:function(){return he},feq:function(){return U},feu:function(){return o},fh3:function(){return Ot},fy9:function(){return J},g0T:function(){return m},g1L:function(){return O},ge8:function(){return je},gi8:function(){return g},gpu:function(){return Tn},gqK:function(){return D},hoB:function(){return xe},ht$:function(){return Z},hwB:function(){return Se},iQr:function(){return Bt},iZy:function(){return L},jYV:function(){return $n},jlV:function(){return en},jpO:function(){return nn},jrV:function(){return it},jzL:function(){return Lt},k76:function(){return Qe},kC_:function(){return Gt},kIZ:function(){return ie},kNE:function(){return Ne},kWS:function(){return jt},lIy:function(){return Me},lMZ:function(){return tn},lVi:function(){return S},liq:function(){return Vt},lkX:function(){return N},lqi:function(){return ke},lw:function(){return Ke},mNb:function(){return cn},mZ$:function(){return Ct},mcM:function(){return xt},mqY:function(){return G},nDC:function(){return ct},nE:function(){return Je},nLR:function(){return wt},nVf:function(){return Xt},nWL:function(){return qe},nfo:function(){return de},nj_:function(){return F},oSQ:function(){return Ze},ofQ:function(){return kn},pJI:function(){return Nt},pT7:function(){return ee},pZi:function(){return P},qdT:function(){return oe},qhf:function(){return Rt},qjd:function(){return Dt},rCh:function(){return h},rZ0:function(){return St},r_m:function(){return ln},rbg:function(){return sn},s6h:function(){return u},sOX:function(){return gn},sT8:function(){return d},syc:function(){return He},t1q:function(){return C},ta8:function(){return x},tjg:function(){return Fe},tuj:function(){return on},tve:function(){return Ue},u7M:function(){return _e},uOF:function(){return Re},uPz:function(){return ne},ung:function(){return At},vBh:function(){return Ut},vUM:function(){return rn},vle:function(){return Cn},vrc:function(){return Be},w1o:function(){return at},wpy:function(){return Ae},xFF:function(){return W},xI3:function(){return le},xzi:function(){return ut},y7X:function(){return j},yXA:function(){return Kt},yZ_:function(){return l},z73:function(){return pn},zbD:function(){return M},zj4:function(){return an}});const i="var(--smtc-background-ctrl-brand-rest)",r="var(--smtc-background-ctrl-neutral-pressed)",o="var(--smtc-background-ctrl-subtle-hover)",s="var(--smtc-background-flyout-color-blend)",a="var(--smtc-background-flyout-lum-blend)",c="var(--smtc-background-flyout-solid)",u="var(--smtc-background-layer-primary-solid)",l="var(--smtc-ctrl-fab-background-rest)",d="var(--smtc-foreground-ctrl-neutral-primary-rest)",f="var(--smtc-theme-color-foreground-primary-750)",h="var(--smtc-theme-color-foreground-primary-800)",p="var(--smtc-theme-color-foreground-secondary-550)",m="var(--smtc-corner-flyout-rest)",g="var(--smtc-corner-ctrl-lg-rest)",v="var(--smtc-padding-content-xxSmall)",w="var(--smtc-padding-content-xSmall)",y="var(--smtc-padding-content-small)",b="var(--smtc-material-acrylic-blur)",S="var(--smtc-shadow-flyout-key-x)",x="var(--smtc-shadow-flyout-key-y)",C="var(--smtc-shadow-flyout-key-blur)",k="var(--smtc-shadow-flyout-ambient-x)",T="var(--smtc-shadow-flyout-ambient-y)",$="var(--smtc-shadow-flyout-ambient-blur)",A="var(--smtc-size-ctrl-lg-default)",I="var(--smtc-stroke-width-default)",P="var(--smtc-stroke-divider-default)",_="var(--smtc-background-ctrl-on-image-lum-blend)",M="var(--smtc-background-ctrl-on-image-rest)",R="var(--smtc-background-ctrl-on-image-saturation-blend)",E="var(--smtc-background-card-on-primary-default-rest)",F="var(--smtc-background-ctrl-active-brand-hover)",D="var(--smtc-background-ctrl-active-brand-pressed)",O="var(--smtc-background-ctrl-active-brand-rest)",N="var(--smtc-background-ctrl-brand-disabled)",U="var(--smtc-background-ctrl-neutral-hover)",L="var(--smtc-background-ctrl-neutral-rest)",B="var(--smtc-background-ctrl-neutral-disabled)",W="var(--smtc-background-ctrl-outline-rest)",H="var(--smtc-background-ctrl-subtle-pressed)",z="var(--smtc-background-tint-neutral)",V="var(--smtc-ctrl-choice-base-background-rest)",j="var(--smtc-ctrl-choice-base-stroke-rest)",q="var(--smtc-ctrl-choice-base-stroke-disabled)",G="var(--smtc-ctrl-choice-switch-background-selected-rest)",J="var(--smtc-ctrl-choice-switch-background-rest)",K="var(--smtc-ctrl-choice-switch-thumb-background-rest)",Q="var(--smtc-ctrl-choice-switch-thumb-background-selected-rest)",X="var(--smtc-ctrl-choice-switch-stroke-rest)",Y="var(--smtc-ctrl-coachmark-foreground)",Z="var(--smtc-ctrl-focus-inner-stroke)",tt="var(--smtc-ctrl-focus-outer-stroke)",et="var(--smtc-ctrl-fab-background-hover)",nt="var(--smtc-ctrl-fab-background-pressed)",it="var(--smtc-ctrl-input-background-rest)",rt="var(--smtc-ctrl-input-stroke-rest)",ot="var(--smtc-ctrl-link-foreground-brand-rest)",st="var(--smtc-foreground-tint-neutral)",at="var(--smtc-foreground-ctrl-neutral-primary-disabled)",ct="var(--smtc-foreground-ctrl-neutral-primary-pressed)",ut="var(--smtc-foreground-ctrl-neutral-secondary-rest)",lt="var(--smtc-foreground-ctrl-active-brand-pressed)",dt="var(--smtc-foreground-ctrl-on-brand-rest)",ft="var(--smtc-foreground-ctrl-on-brand-hover)",ht="var(--smtc-foreground-ctrl-on-brand-disabled)",pt="var(--smtc-foreground-ctrl-on-image-rest)",mt="var(--smtc-foreground-ctrl-on-outline-rest)",gt="var(--smtc-foreground-ctrl-on-subtle-hover)",vt="var(--smtc-foreground-ctrl-on-subtle-rest)",wt="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-x)",yt="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-y)",bt="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-blur)",St="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-spread)",xt="var(--smtc-shadow-ctrl-button-neutral-rest-inner-shine-color)",Ct="var(--smtc-shadow-ctrl-button-neutral-rest-key-x)",kt="var(--smtc-shadow-ctrl-button-neutral-rest-key-y)",Tt="var(--smtc-shadow-ctrl-button-neutral-rest-key-blur)",$t="var(--smtc-shadow-ctrl-button-neutral-rest-key-color)",At="var(--smtc-shadow-ctrl-brand-key-color)",It="var(--smtc-shadow-ctrl-fab-rest-key-color)",Pt="var(--smtc-shadow-ctrl-fab-rest-ambient-color)",_t="var(--smtc-status-informative-tint-background)",Mt="var(--smtc-status-informative-tint-background-ad)",Rt="var(--smtc-stroke-ctrl-on-outline-hover)",Et="var(--smtc-stroke-ctrl-on-outline-rest)",Ft="var(--smtc-corner-card-small-rest)",Dt="var(--smtc-corner-card-rest)",Ot="var(--smtc-corner-card-nested-small-outside)",Nt="var(--smtc-corner-card-discover-nested-outside)",Ut="var(--smtc-corner-card-discover-nested-inside)",Lt="var(--smtc-corner-card-alternate-small-rest)",Bt="var(--smtc-gap-between-content-medium)",Wt="var(--smtc-text-ctrl-weight-default)",Ht="var(--smtc-text-style-default-header-weight)",zt="var(--smtc-background-flyout-saturation-blend)",Vt="var(--smtc-corner-favicon)",jt="var(--smtc-ctrl-badge-corner)",qt="var(--smtc-ctrl-badge-icon-size)",Gt="var(--smtc-ctrl-badge-padding)",Jt="var(--smtc-ctrl-badge-sm-padding)",Kt="var(--smtc-ctrl-badge-stroke)",Qt="var(--smtc-ctrl-badge-text-padding-top)",Xt="var(--smtc-ctrl-choice-checkbox-corner)",Yt="var(--smtc-ctrl-choice-padding-horizontal)",Zt="var(--smtc-ctrl-input-stroke-width-rest)",te="var(--smtc-corner-ctrl-fab-rest)",ee="var(--smtc-corner-ctrl-sm-rest)",ne="var(--smtc-corner-ctrl-rest)",ie="var(--smtc-corner-ctrl-sm-hover)",re="var(--smtc-gap-between-content-large)",oe="var(--smtc-gap-between-content-small)",se="var(--smtc-gap-between-content-x-large)",ae="var(--smtc-gap-between-content-x-small)",ce="var(--smtc-gap-between-content-xx-small)",ue="var(--smtc-gap-between-content-xx-large)",le="var(--smtc-gap-between-ctrl-lg-default)",de="var(--smtc-gap-between-text-large)",fe="var(--smtc-gap-inside-ctrl-default)",he="var(--smtc-gap-inside-ctrl-to-label)",pe="var(--smtc-gap-inside-ctrl-to-secondary-icon)",me="var(--smtc-gap-inside-ctrl-lg-to-secondary-icon)",ge="var(--smtc-padding-card-default)",ve="var(--smtc-padding-content-large)",we="var(--smtc-padding-content-medium)",ye="var(--smtc-padding-content-none)",be="var(--smtc-padding-content-xSmallNudge)",Se="var(--smtc-padding-ctrl-horizontal-default)",xe="var(--smtc-padding-ctrl-sm-horizontal-default)",Ce="var(--smtc-padding-ctrl-sm-horizontal-icon-only)",ke="var(--smtc-padding-ctrl-lg-text-bottom)",Te="var(--smtc-padding-ctrl-lg-text-side)",$e="var(--smtc-padding-ctrl-lg-text-top)",Ae="var(--smtc-padding-ctrl-text-bottom)",Ie="var(--smtc-padding-ctrl-text-side)",Pe="var(--smtc-padding-ctrl-text-top)",_e="var(--smtc-padding-flyout-default)",Me="var(--smtc-shadow-ctrl-brand-key-x)",Re="var(--smtc-shadow-ctrl-brand-key-y)",Ee="var(--smtc-shadow-ctrl-brand-key-blur)",Fe="var(--smtc-shadow-ctrl-fab-rest-key-x)",De="var(--smtc-shadow-ctrl-fab-rest-key-y)",Oe="var(--smtc-shadow-ctrl-fab-rest-key-blur)",Ne="var(--smtc-shadow-ctrl-fab-rest-ambient-y)",Ue="var(--smtc-shadow-ctrl-fab-rest-ambient-blur)",Le="var(--smtc-shadow-flyout-ambient-color)",Be="var(--smtc-shadow-flyout-key-color)",We="var(--smtc-size-ctrl-choice-base)",He="var(--smtc-size-ctrl-default)",ze="var(--smtc-size-ctrl-sm-icon)",Ve="var(--smtc-size-ctrl-sm-default)",je="var(--smtc-stroke-width-ctrl-choice-rest)",qe="var(--smtc-stroke-width-ctrl-outline)",Ge="var(--smtc-stroke-width-ctrl-outline-rest)",Je="var(--smtc-text-global-body1-font-size)",Ke="var(--smtc-text-global-body1-line-height)",Qe="var(--smtc-text-global-body1-font-weight)",Xe="var(--smtc-text-global-body2-font-size)",Ye="var(--smtc-text-global-body2-line-height)",Ze="var(--smtc-text-global-body3-font-size)",tn="var(--smtc-text-global-body3-line-height)",en="var(--smtc-text-global-caption1-font-size)",nn="var(--smtc-text-global-caption1-line-height)",rn="var(--smtc-text-global-title1-font-size)",on="var(--smtc-text-global-title1-line-height)",sn="var(--smtc-text-global-title2-font-size)",an="var(--smtc-text-global-title2-line-height)",cn="var(--smtc-text-ramp-item-body-font-size)",un="var(--smtc-text-ramp-item-body-line-height)",ln="var(--smtc-text-global-subtitle1-font-size)",dn="var(--smtc-text-global-subtitle1-line-height)",fn="var(--smtc-text-ramp-legal-font-size)",hn="var(--smtc-text-ramp-legal-line-height)",pn="var(--smtc-text-style-default-regular-font-family)",mn="var(--smtc-style-default-regular-font-family)",gn="var(--smtc-style-default-header-font-family)",vn="var(--smtc-text-style-default-regular-weight)",wn="var(--smtc-text-global-body3-font-size)",yn="var(--smtc-text-global-body3-line-height)",bn="var(--smtc-stroke-divider-subtle, var(--smtc-stroke-divider-default))",Sn="var(--smtc-text-style-default-header-font-family, var(--smtc-text-style-default-regular-font-family))",xn="var(--smtc-background-webPage-primary)",Cn="var(--squircle-modifier)",kn="var(--mai-smtc-corner-card-default)",Tn="var(--mai-smtc-corner-card-nested-default-inside)",$n="var(--mai-smtc-corner-card-nested-default-outside)"},9896:function(t,e,n){n.d(e,{Cn:function(){return Et},mK:function(){return Mt},F6:function(){return _t}});var i=n(78923),r=n(29717),o=n(42166),s=n(25452);const a=i.i`
    :host {
        --min-width-card-adaptive: ${(0,o.a)(s.a_)};
        --max-width-card-adaptive-1u: ${(0,o.a)(s.lu)};
        --min-width-card-adaptive-1u: ${(0,o.a)(s.RQ)};
        --min-width-card-adaptive-2c: ${(0,o.a)(s.$b)};
        --max-width-card-adaptive-2c: ${(0,o.a)(s.BN)};
        --gutter-size-adaptive: ${(0,o.a)(s.pS)};
    }
`,c=i.i`
    :host {
        --gap-between-cards-on-feed: ${String(s.ko)};
        --gap-between-cards-on-feed-px: calc(var(--gap-between-cards-on-feed) * 1px);
        --width-card-1u: ${(0,o.a)(s.om)};
        --width-card-2c: calc(var(--width-card-1u) * 2 + var(--gap-between-cards-on-feed-px));
        --width-card-3c: calc(var(--width-card-1u) * 3 + (var(--gap-between-cards-on-feed-px) * 2));
        --width-card-4c: calc(var(--width-card-1u) * 4 + (var(--gap-between-cards-on-feed-px) * 3));
        --height-card-1u: ${String(s.um)};
        --height-card-1u-px: calc(var(--height-card-1u) * 1px);
        --height-card-15u: ${String(s.e5)};
        --height-card-15u-px: calc(var(--height-card-15u) * 1px);
    }
    ${a}
`;var u=n(55793),l=n(34565),d=n(77137),f=n(78271);const h=i.i`
    :host {
        --min-width-card-adaptive: ${(0,o.a)(f.ij)};
        --max-width-card-adaptive-1u: ${(0,o.a)(f.wO)};
        --min-width-card-adaptive-1u: ${(0,o.a)(f.WQ)};
        --min-width-card-adaptive-2c: ${(0,o.a)(f.LF)};
        --max-width-card-adaptive-2c: ${(0,o.a)(f.TV)};
    }
`,p=i.i`
    :host {
        --gap-between-cards-on-feed: ${String(f.hH)};
        --gap-between-cards-on-feed-px: calc(var(--gap-between-cards-on-feed) * 1px);
        --width-card-1u: ${(0,o.a)(f.El)};
        --width-card-2c: calc(var(--width-card-1u) * 2 + var(--gap-between-cards-on-feed-px));
        --width-card-3c: calc(var(--width-card-1u) * 3 + (var(--gap-between-cards-on-feed-px) * 2));
        --width-card-4c: calc(var(--width-card-1u) * 4 + (var(--gap-between-cards-on-feed-px) * 3));
        --height-card-1u: ${String(f.J5)};
        --height-card-1u-px: calc(var(--height-card-1u) * 1px);
        --height-card-15u: ${String(f.PZ)};
        --height-card-15u-px: calc(var(--height-card-15u) * 1px);
    }
    ${h}
`,m=i.i`
    :host {
        --smtc-mai-shadow-ctrl-brand-key-color: rgba(0, 0, 0, 0.24);
        --smtc-theme-color-effect-inner-shine-strong: rgba(255, 255, 255, 0.05);
        --smtc-theme-color-effect-shadow-medium: rgba(0, 0, 0, 0.18);
        --smtc-theme-color-overlay-white-45: rgba(0, 0, 0, 0.45);
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-y: 1px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-blur: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-spread: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-color: rgba(255, 255, 255, 0.12);
        --smtc-shadow-ctrl-button-neutral-rest-key-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-key-blur: 3px;
        --smtc-shadow-ctrl-button-neutral-rest-key-color: rgba(0, 0, 0, 0.40);
        --smtc-shadow-ctrl-brand-key-color: rgba(0, 0, 0, 0.40);
        --smtc-shadow-ctrl-fab-rest-key-color: hsla(0, 0.00%, 100.00%, 0.00);
        --smtc-shadow-ctrl-fab-rest-ambient-color: rgba(0, 0, 0, 0.12);
        --smtc-icon-color-primary-filter: invert(92%) sepia(10%) saturate(500%) hue-rotate(200deg) brightness(98%) contrast(95%);
    }
`,g=i.i`
    :host {
        --smtc-mai-shadow-ctrl-brand-key-color: rgba(0, 0, 0, 0.12);
        --smtc-theme-color-effect-shadow-medium: rgba(0, 0, 0, 0.08);
        --smtc-theme-color-effect-inner-shine-strong: #FFFFFF;
        --smtc-theme-color-overlay-white-45: rgba(255, 255, 255, 0.45);
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-blur: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-spread: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-color: #FFFFFF;
        --smtc-shadow-ctrl-button-neutral-rest-key-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-key-blur: 3px;
        --smtc-shadow-ctrl-button-neutral-rest-key-color: rgba(0, 0, 0, 0.20);
        --smtc-shadow-ctrl-brand-key-x: 0px;
        --smtc-shadow-ctrl-brand-key-y: 0.5px;
        --smtc-shadow-ctrl-brand-key-blur: 3px;
        --smtc-shadow-ctrl-brand-key-color: rgba(0, 0, 0, 0.20);
        --smtc-shadow-ctrl-fab-rest-key-x: 0px;
        --smtc-shadow-ctrl-fab-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-fab-rest-key-blur: 3px;
        --smtc-shadow-ctrl-fab-rest-key-color: rgba(27, 53, 86, 0.08);
        --smtc-shadow-ctrl-fab-rest-ambient-y: 0.5px;
        --smtc-shadow-ctrl-fab-rest-ambient-blur: 0.5px;
        --smtc-shadow-ctrl-fab-rest-ambient-color: rgba(27, 53, 86, 0.04);
        --smtc-shadow-flyout-ambient-blur: 0px;
        --smtc-shadow-flyout-ambient-color: rgba(255, 255, 255, 0);
        --smtc-shadow-flyout-ambient-x: 0px;
        --smtc-shadow-flyout-ambient-y: 0px;
        --smtc-shadow-flyout-key-blur: 12px;
        --smtc-shadow-flyout-key-color: rgba(0, 0, 0, 0.08);
        --smtc-shadow-flyout-key-x: 0px;
        --smtc-shadow-flyout-key-y: 6px;
        --smtc-effect-drop-shadow-medium-x-offset: 0px;
        --smtc-effect-drop-shadow-medium-y-offset: 6px;
        --smtc-effect-drop-shadow-medium-blur-radius: 12px;
        --smtc-effect-drop-shadow-medium-spread: 0px;
        --smtc-icon-color-primary-filter: invert(92%) sepia(10%) saturate(500%) hue-rotate(200deg) brightness(98%) contrast(95%);
    }
`,v=i.i`
    :host {
        --smtc-status-brand-tint-background: rgba(88, 107, 168, 0.30);
        --smtc-status-brand-tint-foreground: #9AACE1;
        --smtc-status-danger-background: #FA818B;
        --smtc-status-danger-foreground: #150F10;
        --smtc-status-informative-tint-foreground: #E5EBFA;
        --smtc-status-informative-tint-background: #0F1119;
        --smtc-status-informative-tint-background-ad: #0F1119;
        --smtc-edge-ctrl-workspace-background-blue-rest: #69A1FA;
    }
`,w=i.i`
    :host {
        --smtc-status-brand-tint-background: rgba(224, 158, 102, 0.30);
        --smtc-status-brand-tint-foreground: #6B3900;
        --smtc-status-danger-background: #993A45;
        --smtc-status-danger-foreground: #FEFCFB;
        --smtc-status-informative-foreground: #5b5f64ff;
        --smtc-status-informative-tint-foreground: #272320;
        --smtc-status-informative-tint-background: #FFFBF8;
        --smtc-status-informative-tint-background-ad: #FFFBF8;
        --smtc-edge-ctrl-workspace-background-blue-rest: #2169EB;
    }
`,y=i.i`
    :host {
        --smtc-background-ctrl-onBrand-hover: #525C7B;
        --smtc-background-ctrl-onBrand-pressed: #3E4760;
        --smtc-background-ctrl-neutral-pressed: rgba(31, 35, 48, 0.65);
        --smtc-background-ctrl-subtle-hover: rgba(255, 255, 255, 0.08);
        --smtc-background-flyout-color-blend: rgba(0, 0, 0, 0);
        --smtc-background-flyout-lum-blend: rgba(0, 0, 0, 0);
        --smtc-background-flyout-solid: rgba(40, 45, 62, 0.91);
        --smtc-background-layer-primary-solid: rgba(157, 168, 217, 0.10);
        --smtc-theme-color-background-200: #1f2431;
        --smtc-theme-color-background-250: #282d3e;
        --smtc-theme-color-background-300: #333A4E;
        --smtc-theme-color-background-700: #C2CADF;
        --smtc-theme-color-background-acrylic-thin-luminosity: rgba(27, 35, 58, 0.60);
        --smtc-theme-color-background-acrylic-thin-saturation: rgba(255, 255, 0, 0.05);
        --smtc-theme-color-background-acrylic-thin-tint: rgba(27, 35, 58, 0.50);
        --smtc-theme-color-background-page-chat-fade: #1F2431;
        --smtc-theme-color-background-page-chat-flat: #151a28;
        --smtc-theme-color-background-page-home-web-stop-0: #0C101C;
        --smtc-theme-color-background-page-home-web-stop-1: #171E32;
        --smtc-theme-color-background-page-home-web-stop-2: #242F50;
        --smtc-theme-color-background-acrylic-default-tint: rgba(27, 35, 58, 0.91);
        --smtc-theme-color-background-acrylic-default-saturation: rgba(255, 255, 0, 0.10);
        --smtc-background-web-page-primary: #111524;
        --smtc-background-ctrl-on-image-lum-blend: rgba(23, 30, 50, 0.60);
        --smtc-background-ctrl-on-image-rest: #455172;
        --smtc-background-ctrl-on-image-saturation-blend: rgba(255, 255, 255, 0.00);
        --smtc-background-card-on-primary-alt-hover: #2b3243ff;
        --smtc-background-card-on-primary-alt-pressed: #384051ff;
        --smtc-background-card-on-primary-alt-rest: #212d3dff;
        --smtc-background-card-on-primary-default-rest: rgba(157, 168, 217, 0.10);
        --smtc-background-ctrl-active-brand-hover: #eef1f6ff;
        --smtc-background-ctrl-active-brand-pressed: #dce0e5ff;
        --smtc-background-ctrl-active-brand-rest: #f6fafeff;
        --smtc-background-ctrl-brand-hover: #eef1f6;
        --smtc-background-ctrl-brand-rest: #f6fafe;
        --smtc-background-ctrl-brand-pressed: #CFD8EC;
        --smtc-background-ctrl-brand-disabled: rgba(255, 255, 255, 0.05);
        --smtc-background-ctrl-neutral-hover: rgba(49, 58, 82, 0.65);
        --smtc-background-ctrl-neutral-rest: rgba(50, 63, 96, 0.65);
        --smtc-background-ctrl-neutral-disabled: rgba(255, 255, 255, 0.05);
        --smtc-background-ctrl-outline-rest: rgba(255, 255, 255, 0);
        --smtc-background-ctrl-outline-hover: rgba(255, 255, 255, 0.08);
        --smtc-background-ctrl-outline-pressed: rgba(255, 255, 255, 0.05);
        --smtc-background-ctrl-outline-disabled: rgba(255, 255, 255, 0.00);
        --smtc-background-ctrl-subtle-rest: rgba(255, 255, 255, 0);
        --smtc-background-ctrl-subtle-pressed: rgba(255, 255, 255, 0.05);
        --smtc-background-tint-neutral: #171E32;
        --smtc-background-webPage-primary: #1C2024;
        --smtc-ctrl-fab-background-rest: #1e2024ff;
        --smtc-ctrl-fab-background-hover: #1e2024ff;
        --smtc-ctrl-fab-background-pressed: #313237ff;
        --smtc-ctrl-input-background-rest: rgba(75, 92, 146, 0.25);
        --smtc-ctrl-choice-base-background-rest: rgba(255, 255, 255, 0.00);
        --smtc-ctrl-choice-switch-background-selected-rest: #4ba849ff;
        --smtc-ctrl-choice-switch-background-rest: rgba(255, 255, 255, 0.20);
        --smtc-ctrl-choice-switch-thumb-background-rest: rgba(255, 255, 255, 0.90);
        --smtc-ctrl-choice-switch-thumb-background-selected-rest: #ffffff;
        --smtc-ctrl-progress-background-empty: #ffffff26;
        --smtc-edge-ctrl-workspace-background-blue-rest: #69A1FA;
    }
`,b=i.i`
    :host {
        --smtc-theme-color-background-acrylic-thin-tint: rgba(250, 244, 239, 0.60);
        --smtc-theme-color-background-page-chat-flat: #f8f4f1;
        --smtc-theme-color-background-page-home-web-stop-0: #F8F4F2;
        --smtc-theme-color-background-acrylic-default-tint: rgba(255, 255, 255, 0.94);
        --smtc-theme-color-background-acrylic-default-saturation: rgba(255, 255, 0, 0.10);
        --smtc-background-ctrl-onBrand-hover: #000000;
        --smtc-background-ctrl-onBrand-pressed: #322D29;
        --smtc-background-ctrl-neutral-pressed: rgba(255, 255, 255, 0.60);
        --smtc-background-ctrl-subtle-hover: rgba(0, 0, 0, 0.05);
        --smtc-background-flyout-color-blend: rgba(255, 255, 255, 0);
        --smtc-background-flyout-lum-blend: rgba(255, 255, 255, 0);
        --smtc-background-flyout-solid: rgba(255, 255, 254, 0.94);
        --smtc-background-layer-primary-solid: rgba(255, 255, 255, 0.45);
        --smtc-theme-color-background-200: #f0eae5;
        --smtc-theme-color-background-250: #e3ddd8;
        --smtc-theme-color-background-300: #CCC6C2;
        --smtc-theme-color-background-700: #3F3935;
        --smtc-theme-color-background-acrylic-thin-luminosity: rgba(240, 234, 229, 0.80);
        --smtc-theme-color-background-acrylic-thin-saturation: rgba(255, 255, 0, 0.10);
        --smtc-theme-color-background-page-chat-fade: #F0EAE5;
        --smtc-theme-color-background-page-home-web-stop-1: #FCF3EA;
        --smtc-theme-color-background-page-home-web-stop-2: #FDEDDE;
        --smtc-background-web-page-primary: #F8F4F1;
        --smtc-background-card-on-primary-default-rest: rgba(255, 255, 255, 0.80);
        --smtc-background-card-on-primary-alt-hover: #deedffff;
        --smtc-background-card-on-primary-alt-pressed: #bfddfdff;
        --smtc-background-card-on-primary-alt-rest: #ecf4ffff;
        --smtc-background-ctrl-active-brand-hover: #2b2e35ff;
        --smtc-background-ctrl-active-brand-pressed: #383b43ff;
        --smtc-background-ctrl-active-brand-rest: #24282fff;
        --smtc-background-ctrl-brand-hover: #2b2e35;
        --smtc-background-ctrl-brand-rest: #24282f;
        --smtc-background-ctrl-brand-pressed: #33302E;
        --smtc-background-ctrl-brand-disabled: rgba(0, 0, 0, 0.05);
        --smtc-background-ctrl-neutral-hover: #ffffff;
        --smtc-background-ctrl-neutral-rest: rgba(255, 255, 255, 0.7);
        --smtc-background-ctrl-neutral-disabled: rgba(255, 255, 255, 0.18);
        --smtc-background-ctrl-outline-rest: rgba(0, 0, 0, 0);
        --smtc-background-ctrl-outline-hover: rgba(0, 0, 0, 0.05);
        --smtc-background-ctrl-outline-pressed: rgba(0, 0, 0, 0.03);
        --smtc-background-ctrl-outline-disabled: rgba(0, 0, 0, 0.00);
        --smtc-background-ctrl-subtle-rest: rgba(0, 0, 0, 0);
        --smtc-background-ctrl-subtle-pressed: rgba(0, 0, 0, 0.03);
        --smtc-background-tint-neutral: #F4EFED;
        --smtc-background-flyout-saturation-blend: rgba(255, 255, 0, 0.10);
        --smtc-background-ctrl-on-image-lum-blend: rgba(228, 230, 241, 0.80);
        --smtc-background-ctrl-on-image-rest: #282523;
        --smtc-background-ctrl-on-image-saturation-blend: rgba(255, 255, 0, 0.10);
        --smtc-background-webPage-primary: #FFFFFF;
        --smtc-ctrl-fab-background-rest: #ffffffff;
        --smtc-ctrl-fab-background-hover: #ffffffff;
        --smtc-ctrl-fab-background-pressed: #E2E6EAff;
        --smtc-ctrl-input-background-rest: rgba(0, 0, 0, 0.05);
        --smtc-ctrl-choice-base-background-rest: rgba(255, 255, 255, 0.00);
        --smtc-ctrl-choice-switch-background-selected-rest: #4ba849ff;
        --smtc-ctrl-choice-switch-background-rest: rgba(0, 0, 0, 0.20);
        --smtc-ctrl-choice-switch-thumb-background-rest: rgba(255, 255, 255, 0.90);
        --smtc-ctrl-choice-switch-thumb-background-selected-rest: #ffffff;
        --smtc-ctrl-progress-background-empty: #00000026;
        --smtc-background-flyout-saturation-blend: rgba(255, 255, 0, 0.10);
    }
`,S=i.i`
    :host {
        --smtc-foreground-control-neutral-primary-rest: #FFFFFF;
        --smtc-foreground-ctrl-neutral-primary-rest: #E5EBFA;
        --smtc-theme-color-foreground-primary-100: #0f1119;
        --smtc-theme-color-foreground-primary-450: #525C7B;
        --smtc-theme-color-foreground-primary-550: #626D8F;
        --smtc-theme-color-foreground-primary-700: #a4adc8;
        --smtc-theme-color-foreground-primary-750: #c2cadf;
        --smtc-theme-color-foreground-primary-800: #d7deef;
        --smtc-theme-color-foreground-primary-850: #e5ebfa;
        --smtc-theme-color-foreground-primary-900: #f1f5ff;
        --smtc-theme-color-foreground-secondary-400: #626d8f;
        --smtc-theme-color-foreground-secondary-450: #8791b0;
        --smtc-theme-color-foreground-secondary-550: #8791b0;
        --smtc-theme-color-foreground-secondary-600: #a4adc8;
        --smtc-theme-color-foreground-secondary-650: #c2cadf;
        --smtc-theme-color-foreground-secondary-700: #d7deef;
        --smtc-theme-color-foreground-secondary-750: #e5ebfa;
        --smtc-theme-color-foreground-secondary-800: #f1f5ff;
        --smtc-theme-color-component-button-foreground-rest: #E5EBFA;
        --smtc-theme-color-component-button-strong-foreground-rest: #392D2E;
        --smtc-foreground-tint-neutral: #F2DDCC;
        --smtc-foreground-ctrl-neutral-primary-disabled: rgba(255, 255, 255, 0.30);
        --smtc-foreground-ctrl-neutral-primary-pressed: #A4ADC8;
        --smtc-foreground-ctrl-neutral-secondary-rest: #828bacff;
        --smtc-foreground-ctrl-neutral-secondary-hover: #828BAC;
        --smtc-foreground-ctrl-active-brand-hover: #F1F5FF;
        --smtc-foreground-ctrl-active-brand-pressed: #D7DEEF;
        --smtc-foreground-ctrl-active-brand-rest: #E5EBFA;
        --smtc-foreground-ctrl-on-brand-rest: #3A2A1E;
        --smtc-foreground-ctrl-on-brand-hover: #392D2E;
        --smtc-foreground-ctrl-on-brand-pressed: #59422F;
        --smtc-foreground-ctrl-on-brand-disabled: rgba(255, 255, 255, 0.30);
        --smtc-foreground-ctrl-on-image-rest: #E3CBBC;
        --smtc-foreground-ctrl-on-outline-disabled: #5b5f64ff;
        --smtc-foreground-ctrl-on-outline-rest: #E5EBFA;
        --smtc-foreground-ctrl-on-outline-hover: #E5EBFA;
        --smtc-foreground-ctrl-on-outline-pressed: #A4ADC8;
        --smtc-foreground-ctrl-on-subtle-hover: #D7DEEF;
        --smtc-foreground-ctrl-on-subtle-rest: #D7DEEF;
        --smtc-foreground-ctrl-on-subtle-pressed: #8791B0;
        --smtc-foreground-neutral-primary: #FFFFFF;
        --smtc-foreground-neutral-secondary: #C3C8CE;
        --smtc-foreground-link-rest: #3792FD;
        --smtc-ctrl-link-foreground-brand-rest: #586BA8;
        --smtc-ctrl-link-foreground-brand-hover: #586BA8;
        --smtc-ctrl-link-foreground-brand-pressed: #586BA8;
    }
`,x=i.i`
    :host {
        --smtc-foreground-control-neutral-primary-rest: #23272B;
        --smtc-foreground-ctrl-neutral-primary-rest: #272320;
        --smtc-theme-color-foreground-primary-100: #E5EBFA;
        --smtc-theme-color-foreground-primary-450: #746D68;
        --smtc-theme-color-foreground-primary-550: #635C57;
        --smtc-theme-color-foreground-primary-700: #3f3935;
        --smtc-theme-color-foreground-primary-750: #322d29;
        --smtc-theme-color-foreground-primary-800: #272320;
        --smtc-theme-color-foreground-primary-850: #191513;
        --smtc-theme-color-foreground-primary-900: #14110e;
        --smtc-theme-color-foreground-secondary-400: #98918b;
        --smtc-theme-color-foreground-secondary-450: #746d68;
        --smtc-theme-color-foreground-secondary-550: #635c57;
        --smtc-theme-color-foreground-secondary-600: #5a544f;
        --smtc-theme-color-foreground-secondary-650: #4c4642;
        --smtc-theme-color-foreground-secondary-700: #3f3935;
        --smtc-theme-color-foreground-secondary-750: #322d29;
        --smtc-theme-color-foreground-secondary-800: #272320;
        --smtc-theme-color-component-button-foreground-rest: #272320;
        --smtc-theme-color-component-button-strong-foreground-rest: #F4EFED;
        --smtc-foreground-ctrl-neutral-primary-disabled: rgba(0, 0, 0, 0.30);
        --smtc-foreground-ctrl-neutral-primary-pressed: #5A544F;
        --smtc-foreground-ctrl-neutral-secondary-rest: #635d5aff;
        --smtc-foreground-ctrl-neutral-secondary-hover: #635D5A;
        --smtc-foreground-ctrl-active-brand-pressed: #322D29;
        --smtc-foreground-ctrl-active-brand-hover: #000;
        --smtc-foreground-ctrl-active-brand-rest: #272320ff;
        --smtc-foreground-ctrl-on-brand-rest: #F0EAE5;
        --smtc-foreground-ctrl-on-brand-hover: #F4EFED;
        --smtc-foreground-ctrl-on-brand-pressed: #CCC6C2;
        --smtc-foreground-ctrl-on-brand-disabled: rgba(0, 0, 0, 0.30);
        --smtc-foreground-ctrl-on-image-rest: #ffffff;
        --smtc-foreground-ctrl-on-outline-disabled: #a4a9b0ff;
        --smtc-foreground-ctrl-on-outline-rest: #272320;
        --smtc-foreground-ctrl-on-outline-hover: #282523;
        --smtc-foreground-ctrl-on-outline-pressed: #5A544F;
        --smtc-foreground-ctrl-on-subtle-rest: #272320;
        --smtc-foreground-ctrl-on-subtle-hover: #272320;
        --smtc-foreground-ctrl-on-subtle-pressed: #5A544F;
        --smtc-foreground-neutral-primary: #23272B;
        --smtc-foreground-neutral-secondary: #474B50;
        --smtc-foreground-link-rest: #026FD7;
        --smtc-foreground-tint-blue: #4193ff;
        --smtc-foreground-tint-neutral: #282523;
        --smtc-ctrl-link-foreground-brand-rest: #8A4B30;
        --smtc-ctrl-link-foreground-brand-hover: #8A4B01;
        --smtc-ctrl-link-foreground-brand-pressed: #8A4B01;
    }
`,C=i.i`
    :host {
        --smtc-stroke-divider-default: #41454aff;
        --smtc-theme-color-stroke-default-250: #282F42;
        --smtc-theme-color-stroke-default-300: #313A52;
        --smtc-theme-color-stroke-default-350: #455172;
        --smtc-theme-color-stroke-default-450: #6B7597;
        --smtc-theme-color-stroke-muted-200: #1F2330;
        --smtc-theme-color-stroke-muted-250:  #333A4E;
        --smtc-theme-color-stroke-muted-300: #3E4760;
        --smtc-stroke-ctrl-on-outline-disabled: #5b5f64ff;
        --smtc-stroke-ctrl-on-outline-hover: #4c5055ff;
        --smtc-stroke-ctrl-on-outline-pressed: #62666bff;
        --smtc-stroke-ctrl-on-outline-rest: #41454aff;
        --smtc-stroke-card-on-primary-rest: rgba(255, 255, 255, 0.15);
        --smtc-stroke-divider-subtle: rgba(255, 255, 255, 0.10);
        --smtc-ctrl-input-stroke-rest: rgba(255, 255, 255, 0.05);
        --smtc-ctrl-input-stroke-selected: rgba(255, 255, 255, 0.05);
        --smtc-ctrl-choice-base-stroke-rest: #9DA8D9;
        --smtc-ctrl-choice-base-stroke-disabled: rgba(255, 255, 255, 0.3);
        --smtc-ctrl-choice-switch-stroke-rest: rgba(255, 255, 255, 0);
        --smtc-ctrl-source-icon-border: #0F1119;
    }
`,k=i.i`
    :host {
        --smtc-stroke-divider-default: #c8ccd3ff;
        --smtc-theme-color-stroke-default-250: #F2DDCC;
        --smtc-theme-color-stroke-default-300: #E3CBBC;
        --smtc-theme-color-stroke-default-350: #BBA5A0;
        --smtc-theme-color-stroke-default-450: #867073;
        --smtc-theme-color-stroke-muted-200: #F4EFED;
        --smtc-theme-color-stroke-muted-250: #E2DDD9;
        --smtc-theme-color-stroke-muted-300: #D0C9C4;
        --smtc-stroke-ctrl-on-outline-disabled: #e9eef5ff;
        --smtc-stroke-ctrl-on-outline-hover: #bbc0c6ff;
        --smtc-stroke-ctrl-on-outline-pressed: #a2a6acff;
        --smtc-stroke-ctrl-on-outline-rest: #c8ccd3ff;
        --smtc-stroke-card-on-primary-rest: rgba(0, 0, 0, 0.12);
        --smtc-stroke-divider-subtle: rgba(0, 0, 0, 0.10);
        --smtc-ctrl-input-stroke-rest: rgba(0, 0, 0, 0.05);
        --smtc-ctrl-input-stroke-selected: rgba(0, 0, 0, 0.05);
        --smtc-ctrl-choice-base-stroke-rest: #4A4543;
        --smtc-ctrl-choice-base-stroke-disabled: rgba(0, 0, 0, 0.3);
        --smtc-ctrl-choice-switch-stroke-rest: rgba(0, 0, 0, 0);
        --smtc-ctrl-badge-stroke: rgba(255, 255, 255, 0.00);
        --smtc-ctrl-source-icon-border: #FFFBF8;
    }
`,T=i.i`
   ${m}
   ${y}
   ${S}
   ${C}
   ${v}
`,$=i.i`
   ${g}
   ${b}
   ${x}
   ${k}
   ${w}
`.withBehaviors((0,r.Uu)(T)),A=i.i`
    :host {
        --smtc-material-acrylic-blur: 60px;        
        --smtc-mai-shadow-ctrl-brand-key-blur: 3px;
        --smtc-mai-shadow-ctrl-brand-key-x: 0;
        --smtc-mai-shadow-ctrl-brand-key-y: 1px;
    }
`,I=i.i`
    :host {
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-blur: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-inner-shine-spread: 0.5px;
        
        --smtc-shadow-ctrl-button-neutral-rest-key-x: 0px;
        --smtc-shadow-ctrl-button-neutral-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-button-neutral-rest-key-blur: 3px;
        
        --smtc-shadow-ctrl-brand-key-x: 0px;
        --smtc-shadow-ctrl-brand-key-y: 0.5px;
        --smtc-shadow-ctrl-brand-key-blur: 3px;
    }
`,P=i.i`
    :host {
        --smtc-shadow-ctrl-fab-rest-key-x: 0px;
        --smtc-shadow-ctrl-fab-rest-key-y: 0.5px;
        --smtc-shadow-ctrl-fab-rest-key-blur: 3px;
        
        --smtc-shadow-ctrl-fab-rest-ambient-y: 0.5px;
        --smtc-shadow-ctrl-fab-rest-ambient-blur: 0.5px;
    }
`,_=i.i`
    :host {
        --smtc-shadow-flyout-ambient-x: 0px;
        --smtc-shadow-flyout-ambient-y: 0px;
        --smtc-shadow-flyout-ambient-blur: 0px;
        
        --smtc-shadow-flyout-key-x: 0px;
        --smtc-shadow-flyout-key-y: 6px;
        --smtc-shadow-flyout-key-blur: 12px;
    }
`,M=i.i`
    :host {
        --smtc-effect-drop-shadow-medium-x-offset: 0px;
        --smtc-effect-drop-shadow-medium-y-offset: 6px;
        --smtc-effect-drop-shadow-medium-blur-radius: 12px;
        --smtc-effect-drop-shadow-medium-spread: 0px;
    }
`,R=i.i`
    ${I}
`;var E=n(78288),F=n(13218);class D{constructor(t,e){this.wt=t,this.ft=e}connectedCallback(t){const{source:e}=t;F.Al.CurrentFlightSet.has(this.wt)?e.$fastController.addStyles(this.ft):e.$fastController.removeStyles(this.ft)}}const O=i.i`
    :host {
        --mai-smtc-corner-card-default: 48px;
        --mai-smtc-corner-card-nested-default-inside: 24px;
        --mai-smtc-corner-card-nested-default-outside: 36px;
        --mai-smtc-corner-card-nested-large-inside: 24px;
        --mai-smtc-corner-card-nested-large-outside: 36px;
    }

    @supports (corner-shape: squircle) {
        :host {
            --squircle-modifier: 1.85;
        }
    }
`,N=i.i`
    :host {
        --smtc-corner-card-small-rest: 48px;
        --smtc-corner-card-rest: 24px;
        --smtc-corner-card-nested-small-outside: 36px;
        --smtc-corner-card-discover-nested-outside: 48px;
        --smtc-corner-card-discover-nested-inside: 32px;
        --smtc-corner-card-alternate-small-rest: 24px;
        --mai-smtc-corner-card-default: 60px;
        --mai-smtc-corner-card-nested-default-inside: 32px;
        --mai-smtc-corner-card-nested-default-outside: 48px;
        --mai-smtc-corner-card-nested-large-inside: 32px;
        --mai-smtc-corner-card-nested-large-outside: 48px;
    }
`.withBehaviors(new D(E.dI,O)),U=i.i`
    :host {
        --smtc-corner-ctrl-fab-rest: 24px;
        --smtc-corner-ctrl-sm-rest: 14px;
        --smtc-corner-ctrl-lg-rest: 20px;
        --smtc-corner-ctrl-hover: 12px;
        --smtc-corner-ctrl-rest: 12px;
        --smtc-corner-ctrl-sm-hover: 14px;
        --smtc-ctrl-badge-corner: 8px;
        --smtc-ctrl-badge-sm-corner: 6px;
        --smtc-ctrl-choice-checkbox-corner: 9999px;
    }
`,L=i.i`
    :host {
        --smtc-corner-layer-default: 16px;
        --smtc-corner-favicon: 6px;
        --smtc-corner-flyout-rest: 20px;
        --smtc-corner-rounded-5-rem: 20px;
        --smtc-static-corner-rounded-5-base: 20px;
        --smtc-static-corner-rounded-6-rem: 24px;
    }
`,B=i.i`
    :host {
        --squircle-modifier: 1;
    }

    @supports (corner-shape: squircle) {
        :host {
            --squircle-modifier: 1.8;
        }
    }
`,W=i.i`
    ${U}
    ${N}
`,H=i.i`
    :host {
        --smtc-padding-content-none: 0;
        --smtc-padding-content-xxSmall: 4px;
        --smtc-padding-content-xSmall: 8px;
        --smtc-padding-content-xSmallNudge: 7px;
        --smtc-padding-content-small: 12px;
        --smtc-padding-content-medium: 20px;
        --smtc-padding-content-large: 20px;
        --smtc-padding-content-xLarge: 24px;
        --smtc-padding-content-xxxLarge: 40px;
    }
`,z=i.i`
    :host {
        --smtc-gap-between-content-xx-small: 4px;
        --smtc-gap-between-content-x-small: 8px;
        --smtc-gap-between-content-small: 12px;
        --smtc-gap-between-content-medium: 16px;
        --smtc-gap-between-content-large: 20px;
        --smtc-gap-between-content-x-large: 24px;
        --smtc-gap-between-content-xxlarge: 32px;
        --smtc-gap-between-content-xx-large: 32px;
        --smtc-gap-between-content-xxx-large: 40px;
    }
`,V=i.i`
    :host {
        --smtc-padding-ctrl-horizontal-default: 10px;
        --smtc-padding-ctrl-sm-horizontal-default: 8px;
        --smtc-padding-ctrl-sm-horizontal-icon-only: 6px;
        --smtc-padding-ctrl-lg-horizontal-default: 16px;
        --smtc-padding-ctrl-text-bottom: 10px;
        --smtc-padding-ctrl-text-side: 2px;
        --smtc-padding-ctrl-text-top: 10px;
        --smtc-padding-ctrl-lg-text-bottom: 11px;
        --smtc-padding-ctrl-lg-text-side: 2px;
        --smtc-padding-ctrl-lg-text-top: 11px;
    }
`,j=i.i`
    :host {
        --smtc-gap-inside-ctrl-default: 4px;
        --smtc-gap-inside-ctrl-to-label: 8px;
        --smtc-gap-inside-ctrl-to-secondary-icon: 4px;
        --smtc-gap-inside-ctrl-lg-to-secondary-icon: 6px;
        --smtc-gap-between-ctrl-lg-default: 12px;
        --smtc-gap-between-text-large: 6px;
    }
`,q=i.i`
    :host {
        --smtc-padding-card-default: 12px;
        --smtc-padding-card-body-default-horizontal-start: 20px;
    }
`,G=i.i`
    :host {
        --smtc-padding-flyout-default: 8px;
    }
`,J=i.i`
    :host {
        --smtc-ctrl-badge-gap: 2px;
        --smtc-ctrl-badge-padding: 6px;
        --smtc-ctrl-badge-sm-padding: 4px;
        --smtc-ctrl-badge-text-padding-top: 4px;
        --smtc-ctrl-badge-sm-text-padding-top: 0;
    }
`,K=i.i`
    :host {
        --smtc-ctrl-choice-padding-horizontal: 4px;
    }
`,Q=i.i`
    ${H}
`;var X=n(331);const Y=i.i`
    :host {
        --smtc-text-style-default-header-weight: 400;
    }
`,Z=i.i`
    :host {
        --smtc-text-style-default-regular-font-family: Segoe UI, Segoe UI Midlevel, Segoe WP, Arial, sans-serif;
        --smtc-style-default-regular-font-family: Segoe UI, Segoe UI Midlevel, Segoe WP, Arial, sans-serif;
        --smtc-style-default-header-font-family: Segoe UI, Segoe UI Midlevel, Segoe WP, Arial, sans-serif;
    }
`,tt=i.i`
    :host {
        --smtc-text-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue", "Microsoft YaHei",sans-serif;
        --smtc-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue", "Microsoft YaHei",sans-serif;
        --smtc-style-default-header-font-family: "Ginto Copilot Variable",  "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue", "Microsoft YaHei",sans-serif;
    }
`,et=i.i`
    :host {
        --smtc-text-ctrl-weight-default: 410;
        --smtc-text-style-default-header-weight: 550;
        --smtc-text-style-default-display-weight: 480;
        --smtc-text-style-default-regular-weight: 410;
        --smtc-text-style-default-display-letterSpacing: 0;
        --smtc-text-style-default-regular-letterSpacing: 0;
    }
`,nt=i.i`
    :host {
        --smtc-text-global-body1-font-size: 17px;
        --smtc-text-global-body1-line-height: 26px;
        --smtc-text-global-body1-font-weight: 400;
        --smtc-text-global-body2-font-size: 15px;
        --smtc-text-global-body2-line-height: 20px;
        --smtc-text-global-body3-font-size: 14px;
        --smtc-text-global-body3-line-height: 20px;
        --smtc-text-global-body3-font-weight: 400;
        --smtc-text-global-body3-font-weight-strong: 550;
    }
`,it=i.i`
    :host {
        --smtc-text-global-caption1-font-size: 12px;
        --smtc-text-global-caption1-line-height: 16px;
        --smtc-text-global-caption1-font-weight: 500;
        --smtc-text-global-caption2-font-size: 10px;
        --smtc-text-global-caption2-line-height: 14px;
    }
`,rt=i.i`
    :host {
        --smtc-text-global-display1-font-size: 38px;
        --smtc-text-global-display1-line-height: 40px;
        --smtc-text-global-display2-font-size: 28px;
        --smtc-text-global-display2-line-height: 32px;
    }
`,ot=i.i`
    :host {
        --smtc-text-global-title1-font-size: 28px;
        --smtc-text-global-title1-line-height: 32px;
        --smtc-text-global-title2-font-size: 24px;
        --smtc-text-global-title2-line-height: 31px;
        --smtc-text-global-title2-font-weight: 500;
        --smtc-text-global-title3-font-size: 20px;
        --smtc-text-global-title3-line-height: 26px;
        --smtc-text-global-title3-font-weight: 500;
    }
`,st=i.i`
    :host {
        --smtc-text-global-subtitle1-font-size: 20px;
        --smtc-text-global-subtitle1-line-height: 28px;
    }
`,at=i.i`
    :host {
        --smtc-text-ramp-item-body-font-size: 14px;
        --smtc-text-ramp-item-body-line-height: 20px;
        --smtc-text-ramp-lg-item-body-font-size: 17px;
        --smtc-text-ramp-lg-item-body-line-height: 26px;
        --smtc-text-ramp-legal-font-size: 12px;
        --smtc-text-ramp-legal-line-height: 16px;
    }
`,ct=i.i`
    :host {
        --smtc-text-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;
        --smtc-style-default-regular-font-family: "Ginto Copilot Variable", "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;
        --smtc-style-default-header-font-family: "Ginto Copilot Variable",  "Segoe Sans", "Segoe UI", "Segoe UI Web (West European)",-apple-system,BlinkMacSystemFont,Roboto,"Helvetica Neue",sans-serif;
    }
`,ut=i.i`
    :host {
        --smtc-typography-font-size-700: 24px;
        --smtc-typography-line-height-700: 31px;
        --smtc-typography-font-weight-700: 650;
        --smtc-typography-font-size-110: 39px;
        --smtc-typography-line-height-110: 40px;
        --smtc-typography-font-weight-110: 480;
    }
`,lt=i.i`
    ${et}
    ${nt}
    ${it}
    ${rt}
    ${ot}
    ${st}
    ${at}
    ${ct}
    ${ut}
`.withBehaviors(new D("prg-ntp-ctf-t2",Z),new X.w(Y,tt,"prg-cnr-font-yh")),dt=i.i`
    @media (forced-colors: active) {
        :host {
            --smtc-background-flyout-saturation-blend: rgba(255, 255, 0, 1);
        }
    }
`,ft=i.i`
    :host {
        --smtc-static-color-overlay-black-10: rgba(0, 0, 0, 0.1);
        --smtc-static-color-blue-350: #78b0ff;
        --smtc-static-color-blue-550: #0159ba;
        --smtc-static-color-red-400: #E7615B;
        --smtc-static-color-red-550: #AC1922;
    }
    
    ${dt}
`,ht=i.i`
    :host {
        --smtc-theme-color-component-attribution-item-background-hover: #FFF;
        --smtc-theme-color-component-attribution-item-background-rest: #FEFCFB;
        --smtc-theme-color-component-button-strong-background-rest: #282523;
        --smtc-theme-color-component-button-subtle-bright-background-pressed: rgba(255, 255, 255, 0.35);
        --smtc-theme-color-component-button-subtle-dimmed-inverted-background-hover: rgba(0, 0, 0, 0.05);
        --smtc-theme-color-component-button-subtle-dimmed-inverted-background-pressed: rgba(0, 0, 0, 0.03);
        --smtc-theme-color-component-card-answer-background-inner: rgba(204, 196, 192, 0.2);
        --smtc-theme-color-component-card-answer-background-outer: rgba(255, 255, 255, 0.45);
        --smtc-theme-color-component-card-background-neutral: rgba(255, 255, 255, 0.80);
        --smtc-theme-color-component-citation-background-hover: #E3DDD8;
        --smtc-theme-color-component-citation-background-rest: #F0EAE5;
        --smtc-theme-color-component-composer-stop-button-background-hover: #E3B388;
        --smtc-theme-color-component-table-background-cell: rgba(255, 255, 255, 0.25);
        --smtc-theme-color-component-table-background-header: #FFEDDE;
    }
`,pt=i.i`
    :host {
        --smtc-theme-color-component-attribution-item-background-hover: #1D2439;
        --smtc-theme-color-component-attribution-item-background-rest: #171E32;
        --smtc-theme-color-component-button-strong-background-rest: #E4E6F1;
        --smtc-theme-color-component-button-subtle-bright-background-pressed: rgba(255, 255, 255, 0.05);
        --smtc-theme-color-component-button-subtle-dimmed-inverted-background-hover: rgba(255, 255, 255, 0.08);
        --smtc-theme-color-component-button-subtle-dimmed-inverted-background-pressed: rgba(255, 255, 255, 0.05);
        --smtc-theme-color-component-card-answer-background-inner: rgba(157, 168, 217, 0.05);
        --smtc-theme-color-component-card-answer-background-outer: rgba(157, 168, 217, 0.10);
        --smtc-theme-color-component-card-background-neutral: rgba(157, 168, 217, 0.10);
        --smtc-theme-color-component-citation-background-hover: #282D3E;
        --smtc-theme-color-component-citation-background-rest: #1F2431;
        --smtc-theme-color-component-composer-stop-button-background-hover: #6777AF;
        --smtc-theme-color-component-table-background-cell: rgba(0, 0, 0, 0.25);
        --smtc-theme-color-component-table-background-header: #171E32;
    }
`,mt=i.i`
    :host {
        --smtc-ctrl-coachmark-foreground: #FFFBF8;
        --smtc-icon-color-primary-filter: invert(92%) sepia(10%) saturate(500%) hue-rotate(200deg) brightness(98%) contrast(95%);
    }
`,gt=i.i`
    :host {
        --smtc-ctrl-coachmark-foreground: #0F1119;
        --smtc-icon-color-primary-filter: invert(92%) sepia(10%) saturate(500%) hue-rotate(200deg) brightness(98%) contrast(95%);
    }
`,vt=i.i`
    :host {
        --smtc-ctrl-focus-inner-stroke: #FFFFFF;
        --smtc-ctrl-focus-outer-stroke: #24282F;
    }
`,wt=i.i`
    :host {
        --smtc-ctrl-focus-inner-stroke: #1E2024;
        --smtc-ctrl-focus-outer-stroke: #F6FAFE;
    }
`,yt=i.i`
    ${b}
    ${ht}
    ${x}
    ${mt}
    ${k}
    ${vt}
    ${g}
    ${w}
`,bt=i.i`
    ${y}
    ${pt}
    ${S}
    ${gt}
    ${C}
    ${wt}
    ${m}
    ${v}
`,St=i.i`
    ${H}
    ${z}
    ${V}
    ${j}
    ${q}
    ${G}
    ${J}
    ${K}
`,xt=i.i`
    ${A}
    ${I}
    ${P}
    ${_}
    ${M}
`,Ct=i.i`
    ${B}
    ${N}
    ${U}
    ${L}
`,kt=i.i`
    :host {
        --smtc-ctrl-badge-size: 24px;
        --smtc-ctrl-badge-sm-size: 20px;
        --smtc-size-ctrl-choice-base: 20px;
        --smtc-size-ctrl-default: 40px;
        --smtc-size-ctrl-lg-default: 48px;
        --smtc-size-ctrl-sm-default: 36px;
    }
`,Tt=i.i`
    :host {
        --smtc-ctrl-badge-icon-size: 16px;
        --smtc-ctrl-citation-icon-size: 16px;
        --smtc-ctrl-source-icon-size: 16px;
        --smtc-size-ctrl-xl-icon: 28px;
        --smtc-size-ctrl-lg-icon: 24px;
        --smtc-size-ctrl-sm-icon: 24px;
    }
`,$t=i.i`
    ${kt}
    ${Tt}
`,At=i.i`
    :host {
        --smtc-ctrl-input-stroke-width-rest: 1px;
        --smtc-stroke-width-ctrl-choice-rest: 2px;
        --smtc-stroke-width-ctrl-outline: 2px;
        --smtc-stroke-width-ctrl-outline-rest: 1px;
        --smtc-stroke-width-default: 1px;
        --mai-smtc-stroke-width-card-default: 0.5px;
    }
`,It=i.i`
    ${At}
`,Pt=(i.i` ${$} ${R} ${W} ${Q} ${lt}
`,i.i` :host{--smtc-corner-flyout-rest:20px}${ft}
`);function _t(t){return{...(0,l.X)(Pt),...(0,l.X)(t?bt:yt)}}const Mt=i.i` ${u.w_} ${bt}
`,Rt=i.i` ${yt} ${St} ${lt} ${xt} ${Ct} ${$t} ${It}
`,Et=i.i` ${Rt} ${"winWidgets"===d.jG.AppType?p:c} ${u.pp} ${Pt}
`.withBehaviors((0,r.Uu)(Mt))},60821:function(t,e,n){n.d(e,{j:function(){return a}});var i=n(33940),r=n(99452),o=n(5302),s=n(31404);class a{constructor(t,e){this.props=t,this.cb=e}connectedCallback(t){const{source:e}=t;this.props.forEach((t=>{r.y$.getNotifier(e).subscribe(this,t)})),this.handleChange(e)}disconnectedCallback(t){const{source:e}=t;this.props.forEach((t=>{r.y$.getNotifier(e).unsubscribe(this,t)})),e.$fastController.removeStyles(this.styles)}handleChange(t){this.styles=this.cb(t),t.$fastController.addStyles(this.styles)}}(0,i.gn)([(0,s.Et)(o.a4J,"CssInjectionBehavior.Bind")],a.prototype,"connectedCallback",null),(0,i.gn)([(0,s.Et)(o.a4J,"CssInjectionBehavior.Unbind")],a.prototype,"disconnectedCallback",null),(0,i.gn)([(0,s.Et)(o.a4J,"CssInjectionBehaviorHandleChange")],a.prototype,"handleChange",null)},6523:function(t,e,n){n.d(e,{g:function(){return a}});var i=n(33940),r=n(99452),o=n(5302),s=n(31404);class a{constructor(t){this.propertyName=t}connectedCallback(t){r.y$.getNotifier(t.source).subscribe(this,this.propertyName)}disconnectedCallback(t){this.styles&&t.source.$fastController.removeStyles(this.styles)}handleChange(t,e){this.styles&&t.$fastController.removeStyles(this.styles),this.styles=t[e],t.$fastController.addStyles(this.styles)}}(0,i.gn)([(0,s.Et)(o.a4J,"PropertyBehavior.Bind")],a.prototype,"connectedCallback",null),(0,i.gn)([(0,s.Et)(o.a4J,"PropertyBehavior.Unbind")],a.prototype,"disconnectedCallback",null),(0,i.gn)([(0,s.Et)(o.a4J,"PropertyBehavior.HandleChange")],a.prototype,"handleChange",null)},62776:function(t,e,n){n.d(e,{Yd:function(){return u},gr:function(){return c}});var i=n(21215),r=n(43392),o=n(32195);const s="msn";let a=null;function c(t){var e;const n=t.shadowRoot;if(!n)return;Boolean(null===(e=n.host)||void 0===e||null===(e=e.dataset)||void 0===e?void 0:e.globalStylesAdded)||function(){if(!(0,i.N)())return[];if(null===a){a=[];for(const e of Array.from(document.styleSheets)){var t;if(null===(t=e.href)||void 0===t||!t.includes(s))continue;const n=new CSSStyleSheet;try{const t=Array.from(e.cssRules).map((t=>t.cssText)).join(" ");n.replaceSync(t)}catch(t){(0,o.H)("Error during stylesheet construction",34030,{href:e.href,error:null==t?void 0:t.message})}a.push(n)}}return a}().forEach((t=>(0,r.W)(n,t)))}class u{connectedCallback(t){const{source:e}=t;e&&c(e)}}},43392:function(t,e,n){n.d(e,{W:function(){return r}});var i=n(32195);function r(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{Object.isExtensible(t.adoptedStyleSheets)?t.adoptedStyleSheets.push(e):t.adoptedStyleSheets=[...t.adoptedStyleSheets,e]}catch(t){(0,i.H)("Error setting adoptedStyleSheets",34030,{id:n,sheet:e,error:null==t?void 0:t.message})}}},97022:function(t,e,n){n.d(e,{b:function(){return s}});var i=n(99452),r=n(28904);const o={handleChange(t){t.$fastController.isConnected?t.connected&&t.connected():t.disconnected&&t.disconnected()}};function s(t){return class extends t{constructor(){super(...arguments),i.y$.getNotifier(this.$fastController).subscribe(o,"isConnected")}}}s(r.H)}}]);
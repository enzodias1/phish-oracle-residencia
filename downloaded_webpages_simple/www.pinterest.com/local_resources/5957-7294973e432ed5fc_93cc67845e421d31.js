"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["5957"],{537685:function(e,t,n){n.d(t,{Z:function(){return k}});var r=n(586659),o=n(578341),i=function(){var e=(0,o.Z)();return(0,r.useCallback)(function(t,n){return e(t,{loggingOptions:n})},[e])},a=n(916805),u=n(901472),l=n(515085),c=n(240402),s=n(15667),f=n(707353),d=n(581722),v=n(821342),p=function(){var e,t=(0,v.Z)(),n=(0,d.v9)(function(e){var t=e.loggedOutUserInfo;return null==t?void 0:t.userInfo});return t.isAuth&&t.isLimitedLogin?{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!((t.socialNetwork||{}).facebook||{}).connected,connectedToGoogle:!!((t.socialNetwork||{}).gplus||{}).connected,email:t.email,firstName:t.firstName,hasPassword:!!t.hasPassword,imageUrl:t.imageMediumUrl,gplusUrl:((t.socialNetwork||{}).gplus||{}).url}}:{type:t.isAuth?"AUTH":"UNAUTH",info:n&&n.email&&n.first_name?{connectedToFacebook:!!n.connected_to_facebook,connectedToGoogle:!!n.connected_to_google,email:n.email,firstName:n.first_name,hasPassword:!!n.has_password,imageUrl:null!=(e=n.medium_image_url)?e:null}:null}},m=n(848387);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(""))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(u.push(r.value),2!==u.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,2)||function(e,t){if(e){if("string"==typeof e)return g(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return{route:t[0],setRoute:t[1]}},h=n(521009),y=n(19585),b=n(647709),E=n(732347),w=n(703914);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x=function(){var e,t=(0,y.ZP)(),n=(0,b.HG)(),o=(0,h.Z)(),i=n?(0,E.hr)(t):(0,E.Wh)(t),a=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(i))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(u.push(r.value),2!==u.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,2)||function(e,t){if(e){if("string"==typeof e)return S(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=a[0],l=a[1];return(0,w.cZ)(function(e){return l(null!=e?e:i)}),(0,w.NN)(o),{text:u,setText:l}};function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var j=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{for(i=(n=n.call(e)).next;!(l=(r=i.call(n)).done)&&(u.push(r.value),2!==u.length);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,2)||function(e,t){if(e){if("string"==typeof e)return O(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,2):void 0}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],o=t[1],i=(0,h.Z)();return(0,w.UE)(function(){return o(!0)}),(0,w.NN)(i),{visible:n,setVisible:o}},P=n(382718);function T(e){var t=e.children,n={loginForMore:j(),limitedLoginModalSubheader:x(),limitedLoginModalNextLocation:_(),viewer:p()};return(0,P.jsx)(m.o,{value:n,children:t})}function C(e){var t=e.children,n=(0,s.B)(),o=p(),a=i(),c=(0,r.useMemo)(function(){return{getDeviceAppTypeString:function(){return(0,l.Z)(n)},register:a,viewer:o}},[n,o,a]);return(0,P.jsx)(u.I7,{value:c,children:t})}var k=function(e){var t=e.children;return(0,P.jsx)(f.iE,{children:(0,P.jsx)(T,{children:(0,P.jsx)(C,{children:(0,P.jsx)(a.u,{children:(0,P.jsx)(c.Z,{children:t})})})})})}},916805:function(e,t,n){n.d(t,{q:function(){return g},u:function(){return _}});var r=n(586659),o=n(963489),i=n(980787),a=n(346955),u=n(729434),l=n(801406),c=n(675973),s=n(647709),f=n(382718);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,u.Z)("fingerprintContext",{fingerprintData:{current:{sardineSessionKey:null,arkoseSessionToken:null,arkoseEnforcement:null,sardineContext:null,submitTriggeredTime:null,experimentGroup:"control"}},setupFingerprintSdks:function(e){null==e||e()},isLoadingFingerprintContext:!1}),m=p.Provider,g=p.useMaybeHook,_=function(e){var t=e.children,n=(0,c.Z)().checkExperiment,u=(0,i.u)().logContextEvent,v=(0,s.HG)(),p=(0,o.TH)(),g=(0,r.useRef)(!1),_=(0,r.useRef)((0,l.yW)(n)),h=d((0,r.useState)(!1),2),y=h[0],b=h[1],E=d((0,r.useState)(!1),2),w=E[0],S=E[1],x=(0,r.useCallback)(function(e){var t=e.component,n=e.onLoad,r=document.getElementById("arkoselabs-script"),o=document.getElementById("sardine-script");if(r&&o)return void n();S(!0),(0,l.xm)({appType:v?5:6,component:t,experimentGroup:_.current.experimentGroup,onLoad:function(){S(!1),n()},pathname:p.pathname})},[v,p.pathname]),O=(0,r.useMemo)(function(){return{fingerprintData:_,setupFingerprintSdks:function(e){if(g.current){null==e||e();return}if(!y){var t,n=null!=(t=(0,a.BE)())?t:{},r=n.viewType,o=n.viewParameter,i=n.component;x({component:i,onLoad:function(){b(!0),(0,l.Ds)({component:i,viewType:r,viewParameter:o,fingerprintData:_,startTimeMs:window.performance.now(),logContextEvent:u,onFinished:function(){g.current=!0,b(!1),null==e||e()}})}})}},isLoadingFingerprintContext:y||w}},[y,w,u,x]);return(0,f.jsx)(m,{value:O,children:t})}},312268:function(e,t,n){n.d(t,{Z:function(){return $}});var r=n(586659),o=n(581722),i=n(980787),a=n(575108),u=n(918920),l=n(672431),c=n(83896),s=n(973160),f=n(816358),d=n(809295),v=n(121793),p=n(603316);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var b=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}},E=null,w=function(){var e;function t(e){var n,r,o,i,a=this;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");h(this,"_logTimeoutLong",void 0),h(this,"_logTimeoutShort",void 0),h(this,"_clickthroughStartEvent",null),h(this,"_utcDate",new Date),h(this,"_collectionClickthroughEndEvent",null),this._webFastFlushEventsEnabled=e.webFastFlushEventsEnabled,this._isDecreaseSkipCachedEventsExperimentEnabled=e.isDecreaseSkipCachedEventsExperimentEnabled,this._isRetryV2ExperimentEnabled=e.isRetryV2ExperimentEnabled,this._contextLogger=(0,c.ZP)(e.webFastFlushEventsEnabled);var l=function(){var e=document.activeElement;if(e&&e.id===u.ZP.VIDEO_IFRAME_ID&&e)return void setTimeout(function(){return e.blur()},0);f.Z.pause(d.LU),a.flushEvents()},v=b(function(){return l()}),p=function(){f.Z.resume(d.LU)};this._contextLogger&&this._contextLogger.initiateIndexDBCache&&this._contextLogger.initiateIndexDBCache(),this._contextLogger&&(this._isRetryV2ExperimentEnabled&&(null==(n=(r=this._contextLogger)._setRetryV2ExperimentState)||n.call(r,this._isRetryV2ExperimentEnabled)),this._isDecreaseSkipCachedEventsExperimentEnabled&&(null==(o=(i=this._contextLogger)._setDecreaseSkipCachedEventsExperimentState)||o.call(i,this._isDecreaseSkipCachedEventsExperimentEnabled))),window.addEventListener("beforeunload",v),window.addEventListener("pagehide",v),window.addEventListener("focus",p),window.addEventListener("blur",function(){return l()});var m=(0,s.sR)(),g=m.hidden,_=m.visibilityChange;_&&window.addEventListener(_,function(){document[g]?l():(a.flushEvents(),p())},!1)}return e=[{key:"setTimeoutToFlushEvents",value:function(e){!this._logTimeoutShort&&(!this._webFastFlushEventsEnabled&&e.view_type&&l.I3.includes(e.view_type)&&13===e.event_type||this._webFastFlushEventsEnabled&&(0,s.Q9)(e))?this._logTimeoutShort=setTimeout(this.flushEvents.bind(this,!1,!0),l.aD):this._logTimeoutLong||(this._logTimeoutLong=setTimeout(this.flushEvents.bind(this),l.YX))}},{key:"addEvent",value:function(e,t){var n,r,o=e.event_type;if(null!=o&&(0,c.cA)(e)){this.setTimeoutToFlushEvents(e);var i=(0,c.li)(e,t);i.appState=document&&document.hasFocus()?0:void 0;var a=c.Ch[o];if(a&&1){if(a.startsWith("storyImpression")){null!=(n=i.event_data)&&n.storyImpressions&&(i.event_data.storyImpression=i.event_data.storyImpressions,delete i.event_data.storyImpressions),this._contextLogger.logImpression((0,c.a)(i,"storyImpression"));return}(0,c.nc)(i,a).forEach(this._contextLogger.logImpression);return}if((0,p.nP)("webapp.contextLogger.impressionType",{sampleRate:.01,tags:{event_type:o}}),this._contextLogger.logContextEvent(i),12===o&&(this._contextLogger.logContextEvent(_(_({},i),{},{event_type:7946})),this._clickthroughStartEvent=_(_({},i),{},{time:1e6*Date.now()}),null==(r=E)||r.storeClickthroughProperties({view_type:i.view_type,view_parameter:i.view_parameter,component:i.component,element:i.element,object_id_str:i.object_id_str,view_data:i.view_data,aux_data:i.aux_data,clientTrackingParams:i.clientTrackingParams})),(7761===o||7762===o)&&(this._collectionClickthroughEndEvent=_(_({},i),{},{event_type:7761===o?7777:7843})),4100===o&&this._collectionClickthroughEndEvent){var u=this._collectionClickthroughEndEvent;this._collectionClickthroughEndEvent=null;var l=_(_({},u),{},{object_id_str:i.object_id_str,duration_ns:i.duration_ns});this._contextLogger.logContextEvent(l)}}}},{key:"flushEvents",value:function(){var e,t,n=null==(e=(t=this._contextLogger).getContextEvents)?void 0:e.call(t);n&&n.length&&this._contextLogger.flushContextEvents(),this._reset()}},{key:"_reset",value:function(){this._resetShortTimerEvents(),this._resetLongTimerEvents()}},{key:"_resetShortTimerEvents",value:function(){var e,t;null==(e=(t=this._contextLogger).resetEventsBuffer)||e.call(t),clearTimeout(this._logTimeoutShort),this._logTimeoutShort=void 0}},{key:"_resetLongTimerEvents",value:function(){var e,t;null==(e=(t=this._contextLogger).resetEventsBuffer)||e.call(t),clearTimeout(this._logTimeoutLong),this._logTimeoutLong=void 0}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(),S=n(937392),x=n(894199),O=n(821342),j=n(963489),P=n(573631),T=n(503863),C=n(382718);function k(e){var t=e.children,n=(0,j.TH)(),o=(0,P.b)(),i=(0,r.useMemo)(function(){if(o){var e=new URLSearchParams(n.search);if(!e.get("url")){var t=e.get("tracking_id")||e.get("e_t"),r=e.get("utm_campaign"),i=e.get("utm_source");if(t&&r&&i)return JSON.stringify({message_type:r,tracking_id:t,utm_source:i})}}},[o,n.search]),a=(0,r.useMemo)(function(){return{landingContext:i}},[i]);return(0,C.jsx)(T.T,{value:a,children:t})}var I=n(675973),A=n(15667),L=n(440568),R=n(72918),D=n(82347),F=n(707079),N=n(998212),Z=n(341742);function M(e){var t=e.children,n=(0,i.u)(),r=(0,v.w)({contextLogger:n});return(0,Z.Z)(function(){document.hasFocus()&&r.registerApp(),r.addEventListeners()}),(0,C.jsx)(N.$,{value:r,children:t})}var U=n(572572),H=n(671003),B=n(975740),z=n(169053),G=n(793698);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var W=["children","reduxStore","serverState"];function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=V(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K(e){var t=e.children,n=(0,G.dM)(),o=Object.keys(n).find(function(e){return void 0!==n[e].login_state}),i=o?n[o]:void 0,a=(0,r.useMemo)(function(){return(0,U.Z)(i)},[i]),u=(0,A.gf)(),l=a.isAuth,c=(0,A.B)().isAuthenticated;return(0,r.useEffect)(function(){c!==l&&u({isAuthenticated:l})},[c,l]),(0,C.jsx)(O.$,{value:a,children:t})}function Y(e){var t=e.children,n=(0,I.Z)(),o=(0,z.JC)(),u=(0,r.useRef)(function(e){return o[e]});(0,r.useEffect)(function(){u.current=function(e){return o[e]}},[o]);var l=(0,r.useMemo)(function(){var e,t,r,o,i,l,c,f,d,p,m,g;return l=(e={getReduxPin:function(e){return u.current(e)},webFastFlushEventsEnabled:n.checkExperiment("cli_fast_flush_events").anyEnabled,isRetryV2ExperimentEnabled:n.checkExperiment("web_metrics_retry_v2").anyEnabled,isDecreaseSkipCachedEventsExperimentEnabled:n.checkExperiment("web_metrics_decrease_skip_cached_events").anyEnabled}).getReduxPin,p=new w({webFastFlushEventsEnabled:void 0!==(c=e.webFastFlushEventsEnabled)&&c,isRetryV2ExperimentEnabled:void 0!==(f=e.isRetryV2ExperimentEnabled)&&f,isDecreaseSkipCachedEventsExperimentEnabled:void 0!==(d=e.isDecreaseSkipCachedEventsExperimentEnabled)&&d}),window.addEventListener&&window.addEventListener("focus",function(){if(p._clickthroughStartEvent){var e=p._clickthroughStartEvent;p._clickthroughStartEvent=null;var t=_(_({},e),{},{event_type:4100,duration_ns:(0,s.ZP)()-e.time});p.addEvent(t)}}),null!=(t=(r=p._contextLogger)._getIndexDBInstance)&&t.call(r)&&(null==(o=(i=p._contextLogger).syncCachedEndEvents)||o.call(i)),m=function(e){try{var t,n=e?l(e):void 0;return n?"".concat(null!=(t=n.tracking_params)?t:"","~0"):void 0}catch(e){return}},g={flushContextEvents:function(){return p.flushEvents()},logContextEvent:function(e){if(null!==e.event_type&&void 0!==e.event_type){var t=e.clientTrackingParams||m(e.object_id_str);p.addEvent(_(_({},e),{},{clientTrackingParams:t}),g.injectSetViewContextDataFromHook)}},logImpression:function(e){var t=e.auxData,n=e.component,r=e.eventData,o=e.eventType,i=e.impressionType,a=e.objectIdStr,u=e.viewData,l=e.viewParameter,c=e.viewType,s=e.element;null!=o&&p.addEvent({event_type:o,event_data:h({},i,r),component:n,object_id_str:a,aux_data:t,view_type:c,view_parameter:l,view_data:u,element:s},g.injectSetViewContextDataFromHook)}},E=(0,v.w)({contextLogger:g}),a.Z.contextLogger=g,g},[n]);return(0,C.jsx)(i.B,{value:l,children:t})}function $(e){var t=e.children,n=e.reduxStore,i=(e.serverState,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,W)),u=(0,r.useRef)(!1),l=(0,r.useMemo)(function(){return new F.ZP},[]);if(!u.current){if(window){var c={},s=function(e,t){var n=decodeURIComponent(t),r=new Promise(function(t){c[e]||(c[e]={}),c[e][n]=t});l.add(e,n,r)},f=function(e){var t,r,o=(0,D.Z)(e),i=o.normalizedResponse,u=o.options,l=o.resource,s=o.response,f=o.schema;s.resource_response.error?408!==s.resource_response.error.http_status&&n.dispatch((0,R.Tl)(l,u,s.resource_response.error)):(a.Z.fetchCompleteCallback&&a.Z.fetchCompleteCallback({resource:l,options:u,response:s,normalizedResponse:i,refresh:!1,resourceSchema:f}),n.dispatch((0,R.Sr)(l,u,s,i,!1,f))),null==(t=c[l])||null==(r=t[(0,L.Z)(u)])||r.call(t)};window.__PWS_RESOURCE_PENDING_FETCH_HANDLER__=s,window.__PWS_RESOURCE_SSR_HANDLER__=f;var d=Object.keys(window.__PWS_RESOURCE_PENDING_BEFORE_INIT__);d.length&&(d.forEach(function(e){window.__PWS_RESOURCE_PENDING_BEFORE_INIT__[e].forEach(function(t){s(e,t)})}),window.__PWS_RESOURCE_PENDING_BEFORE_INIT__={}),window.__PWS_RESOURCE_DATA_BEFORE_INIT__.length&&(window.__PWS_RESOURCE_DATA_BEFORE_INIT__.forEach(f),window.__PWS_RESOURCE_DATA_BEFORE_INIT__=[])}u.current=!0}return(0,C.jsx)(H.Z,J(J({},i),{},{children:(0,C.jsx)(F.F_,{value:l,children:(0,C.jsx)(o.zt,{store:n,children:(0,C.jsx)(B.fJ,{children:(0,C.jsx)(z._S,{children:(0,C.jsx)(G.kY,{children:(0,C.jsx)(K,{children:(0,C.jsx)(Y,{children:(0,C.jsx)(S.FH,{children:(0,C.jsx)(k,{children:(0,C.jsx)(M,{children:(0,C.jsx)(x.GF,{children:t})})})})})})})})})})})}))}},901472:function(e,t,n){n.d(t,{Cw:function(){return a},I7:function(){return c},Py:function(){return s},c4:function(){return u}});var r=n(586659),o=n(729434),i=(0,r.createContext)(null),a=function(){return(0,r.useContext)(i)},u=i,l=(0,o.Z)("DesktopCoreLogin"),c=l.Provider,s=l.get},578341:function(e,t,n){n.d(t,{Z:function(){return F}});var r=n(586659),o=n(255581),i=n(575108),a=n(111330),u=n(296086),l=n(521009),c=n(464332),s=n(855872),f=n(801406),d=n(981636),v=n(638957),p=n(2420),m=n(947667),g=n(154796),_=n(450978),h=n(15667),y=n(650160),b=n(753143),E=n(941404),w=n(79077),S=n(378888),x=n(510928),O=n(707353),j=n(547362),P=n(831373),T=n(603316);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R=0,D=function(){var e=document.referrer;return e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"};function F(){var e=(0,g.Z)(),t=(0,l.Z)(),n=(0,h.B)(),C=(0,w.Z)(),A=(0,O.yp)().isRequirementEnabled;return(0,r.useCallback)(function(r,l){var g,h,w=l.loggingOptions,O=w.signupContext,F=w.signupAttemptContextEvent,N=function(e){var n;t(L(L({},F),{},{event_type:e,aux_data:L(L({},F.aux_data),{},{upsell_reason:(null==(n=F.aux_data)?void 0:n.upsell_reason)||(0,b.M0)().getItem(a.bg)||null,upsell_view_count:(0,b.M0)().getItem(a.w0)||0})})),7487===e&&(0,b.M0)().setItem(a.w0,0)},Z=(g=regeneratorRuntime.mark(function e(l){var g,h,w,I,F,M,U,H,B,z,G,V,W,q,J,K,Y,$,X;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(F=l.isRetrying,M=L({},r),U=(0,P.t_)(),H=(0,j.O)(),B=null!=(g=null==(h=window)||null==(w=h.location)?void 0:w.search)?g:null,z=(0,S.mB)(B).utm_campaign,U&&(M=L(L({},M),{},{visited_pages:U})),H&&(M=L(L({},M),{},{referrer:H})),z&&(M=L(L({},M),{},{utm_campaign:z})),G=(0,b.M0)().getItem(a.e9)||[],U)M=L(L({},M),{},{visited_pages:U});else if(G){V=[],W=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return k(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,void 0):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(G);try{for(W.s();!(q=W.n()).done;)(J=q.value).is_shared_pin&&V.push({ts:J.ts,path:J.path,first_pin_image_signature:J.image_signature,is_shared:!0})}catch(e){W.e(e)}finally{W.f()}V&&(M=L(L({},M),{},{visited_pages:JSON.stringify(V.concat(JSON.parse(U||"[]")))}))}if((K=(0,v.Z)({isComplianceFeatureRequired:A,viewType:10})).length>0&&(M=L(L({},M),{},{privacy_disclaimer_acknowledge:K})),M=L(L({},M),{},{user_behavior_data:JSON.stringify({})}),Y=(0,m.yV)(M),F||(N(7537),C({action:"signup",event:"attempt",trigger:null==O?void 0:O.trigger,type:Y})),$=function(){var e=n.country,r=n.countryFromHostName,i=n.countryFromIp,l=n.regionFromIp;(0,y.Z)("signup"),c.zN(o.Mq.name),c.zN(o.x2.name),(0,u.Z)(),c.t8(o.Xh,"1"),(0,d.Z)(!0),(0,b.M0)().removeItem(a._b);var s=(null==O?void 0:O.container)||"container_unknown";(0,E.My)("signup.container.".concat(s));var f=(null==O?void 0:O.signupSource)||"signupSource_unknown";(0,E.My)("signup.source.".concat(f)),t({event_type:"home_page"===s?1750:1754}),(0,E.My)("signup_referrer_module.".concat(String((0,x.Z)().referrer||"unknown"))),(0,_.ko)({country:e,countryFromHostName:r,countryFromIp:i,regionFromIp:l,deviceType:"Desktop",eventCategory:"NewUsers"}),N(7487),C({action:"signup",event:"success",referrer:D(),trigger:null==O?void 0:O.trigger,type:Y})},X=function(e){if(e.api_error_code===p.tz&&((0,E.My)("multi_step_set_age_restrict_cookie"),c.t8(o.It,"1",(0,c.kZ)(o.It))),(!e.api_error_code||[p.dO,p.cZ].includes(e.api_error_code))&&R<3)return(0,E.My)("unauth_web.signup_retry_error.".concat(String(e.api_error_code),".").concat(String(null==O?void 0:O.container))),R+=1,Z({isRetrying:!0});throw N(7488),C({action:"signup",event:"fail",trigger:null==O?void 0:O.trigger,type:Y}),e},(0,T.nP)("webapp.debug_signup_type.core_register",{sampleRate:1,tags:{CHECK_TYPE:null!=(I=(0,m.Eh)(M,"CHECK_TYPE"))?I:"none",CHECK_EXISTS:(0,m.Eh)(M,"DEPRECATED_CHECK_EXISTS"),CHECK_TRUTHY:(0,m.Eh)(M,"DEPRECATED_CHECK_TRUTHY")}}),e.t0="email"===Y,!e.t0){e.next=24;break}return e.next=23,(0,f.Lq)({fingerprintData:M.fingerprintData,source:s.Ef.SIGNUP,logContextEvent:t});case 23:e.t0=e.sent;case 24:if(!e.t0){e.next=26;break}return e.abrupt("return",Promise.reject({isArkoseChallengeRequired:!0}));case 26:return M=(0,f.NW)(M),e.abrupt("return",i.Z.create("UserRegisterResource",M).callCreate().then(function(){return $()},function(e){return X(e)}));case 28:case"end":return e.stop()}},e)}),h=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=g.apply(e,t);function i(e){I(o,n,r,i,a,"next",e)}function a(e){I(o,n,r,i,a,"throw",e)}i(void 0)})},function(e){return h.apply(this,arguments)});return e(),Z({isRetrying:!1})},[e,A,t,n,C])}},515085:function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){var t=e.userAgent.isMobile?"mobile":"desktop";return"".concat(t,".").concat(e.country,".").concat(e.userAgent.platform,".").concat(e.userAgent.browserName).replace(/ /g,"_")}},638957:function(e,t){t.Z=function(e){var t=e.isComplianceFeatureRequired,n=e.viewType,r=[];return t({requirementEnum:0,viewType:n})&&r.push("fdbr"),r.join(",")}},503863:function(e,t,n){n.d(t,{T:function(){return o}});var r=(0,n(729434).Z)("NotificationContext"),o=r.Provider;t.Z=r.get},732347:function(e,t,n){n.d(t,{N4:function(){return i},Wh:function(){return r},hr:function(){return o}});var r=function(e){return e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal')},o=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},i=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')}}}]);
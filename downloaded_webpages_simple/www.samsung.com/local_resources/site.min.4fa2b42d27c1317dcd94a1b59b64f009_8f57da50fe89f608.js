var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(g){return g.raw=g};$jscomp.createTemplateTagFirstArgWithRaw=function(g,h){g.raw=h;return g};
(function(){function g(){h(n.section).target.forEach(function(a){c.instances.has(a)||new c(a)})}var h=window.sg.common.$q,p=window.sg.common.utils,q=window.sg.common.lazyLoad,l=window.sg.common.swiperManager,n={section:".co73-feature-cards"},c=function(a){this.selector={swiperContainer:".co73-feature-cards__wrap.swiper-container",slideEls:".co73-feature-cards__item",cardsLink:".co73-feature-cards__link",cardsCta:".co73-feature-cards__link .cta",screenIndicatorPrev:".screen-indicator--prev",screenIndicatorNext:".screen-indicator--next",
popupVideoCta:".co73-feature-cards__link--layer-video"};this.classes={isActive:"co73-feature-cards--active"};this.el={window:h(window),section:h(a)};this.swiper=this.deviceSize=null;this.popupVideo=window.sg.common.popupVideo;this.handler={handleScroll:this.handleScroll.bind(this),handleResize:this.handleResize.bind(this)};c.instances.set(a,this);this.init()};c.prototype.init=function(){this.setElements();this.initSwiper();this.bindEvents();this.handler.handleScroll()};c.prototype.reInit=function(){this.init();
q.forceLoad(this.section)};c.prototype.setElements=function(){this.el.swiperContainer=this.el.section.find(this.selector.swiperContainer);this.el.screenIndicatorPrev=this.el.section.find(this.selector.screenIndicatorPrev);this.el.screenIndicatorNext=this.el.section.find(this.selector.screenIndicatorNext);this.el.slideEls=this.el.section.find(this.selector.slideEls);this.el.cardsLink=this.el.section.find(this.selector.cardsLink);this.el.cardsCta=this.el.section.find(this.selector.cardsCta);this.el.popupVideoCta=
this.el.section.find(this.selector.popupVideoCta)};c.prototype.bindEvents=function(){this.el.window.off("scroll",this.handler.handleScroll).on("scroll",this.handler.handleScroll);this.el.window.off("resize",this.handler.handleResize).on("resize",this.handler.handleResize);this.el.window.off("change",this.handler.handleResize).on("change",this.handler.handleResize);this.el.window.off("deviceorientation",this.handler.handleResize).on("deviceorientation",this.handler.handleResize);window.dispatchEvent(new Event("resize"));
this.setPopupVideoCtas(this.el.popupVideoCta.target)};c.prototype.handleResize=function(){var a=this,b=p.getCurrentDevice();this.deviceSize!==b&&setTimeout(function(){a.setSwiperStatus();a.updateTagging()},10);this.deviceSize=b};c.prototype.setPopupVideoCtas=function(a){var b=this;a.forEach(function(e,k){e.setAttribute("href","javascript:void(0);");e.addEventListener("click",function(d){d.preventDefault();d=b.el.section.find(".popup-video--"+(k+1));var f=d.find(".video").attr("data-video-type");"mobile"===
b.deviceSize&&"aparat"!==f?b.popupVideo.open(d.target[0],0,e,"vertical"):b.popupVideo.open(d.target[0],0,e)})})};c.prototype.setSwiperStatus=function(){this.el.swiperContainer.target.length&&((this.swiper=l.getSwiper(this.el.swiperContainer.target[0]))?this.swiper.slides.length<=parseInt(this.swiper.params.slidesPerView)||1===this.swiper.slides.length?this.swiper.allowTouchMove=!1:this.swiper.allowTouchMove=!0:this.initSwiper())};c.prototype.handleScroll=function(){var a=this,b=window.scrollY,e=b+
window.innerHeight;if(this.el.section.target[0].classList.contains("co73-feature-cards--column-2"))this.el.slideEls.target.forEach(function(m){k=m.getBoundingClientRect();d=b+k.top;f=d+k.height;(d<e&&f>b||b>d&&f>b||e>f)&&m.classList.add(a.classes.isActive)});else{var k=this.el.section.target[0].getBoundingClientRect();var d=b+k.top;var f=d+k.height;(d<e&&f>b||b>d&&f>b||e>f)&&this.el.slideEls.target.forEach(function(m){m.classList.add(a.classes.isActive)})}};c.prototype.initSwiper=function(){var a=
this;this.el.swiperContainer.target.forEach(function(b){l.slideReInit(b);l.slideInitEnd(b,function(){a.swiper=l.getSwiper(b);a.setSwiperStatus();a.updateTagging();a.swiper.on("slideChangeTransitionEnd",function(){a.updateTagging()})})})};c.prototype.updateTagging=function(){if(this.swiper){var a=this.swiper.activeIndex+1;this.el.screenIndicatorPrev.attr("an-la","carousel:swipe:feature cards"+(a-1));this.el.screenIndicatorNext.attr("an-la","carousel:swipe:feature cards"+(a+1))}};c.instances=new WeakMap;
window.sg.components.FeatureCards={init:g,reInit:function(){h(n.section).target.forEach(function(a){c.instances.has(a)?c.instances.get(a).reInit():new c(a)})}};h.ready(g)})();
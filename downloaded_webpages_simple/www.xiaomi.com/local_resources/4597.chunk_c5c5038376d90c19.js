"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["4597"],{48406:function(e,t,i){i.d(t,{g:()=>a});var n=i(81823),r=i(94184),o=i.n(r),l=i(48597);function a(e){var t=e.className,i=void 0===t?"":t,r=e.direction,a=e.onClick,u=e.theme,s=void 0===u?"light":u,d=(0,l.YB)();return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36",className:"carouse-button ".concat(i),onClick:a&&a,role:"button",tabIndex:void 0===e.tabIndex?0:e.tabIndex,"aria-label":"prev"===r?d.get("dd1f775e443ff3b9a89270713580a51b"):d.get("10ac3d04253ef7e1ddc73e6091c0cd55"),"aria-hidden":(null==i?void 0:i.includes("-hide"))?"true":"false","aria-disabled":(null==i?void 0:i.includes("disabled"))?"true":"false",onKeyDown:function(t){if("Enter"===t.key||" "===t.key){if(t.preventDefault(),e.onKeyDown){e.onKeyDown(t);return}null==a||a()}}},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 0C23.9754 0 28.8659 0.382447 32.261 3.77442C35.6553 7.16591 36 12.0487 36 18.0175C36 23.9862 35.6553 28.8715 32.2596 32.2636C28.8644 35.6567 23.9749 36 18 36C12.0252 36 7.13569 35.6567 3.7404 32.2636C0.345318 28.8705 0 23.9862 0 18.0175C0 12.0411 0.34927 7.15271 3.75219 3.76122C7.1489 0.377859 12.0323 0 18 0Z",className:o()({"carouse-button__light":"light"===s,"carouse-button__dark":"dark"===s})}),n.createElement("path",{className:"carouse-button__arrow",d:"prev"===r?"M19.5779 12.2146L13.7924 18L19.5779 23.7854":"M15.4221 12.2146L21.2076 18L15.4221 23.7854",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))}},2657:function(e,t,i){i.d(t,{Z:()=>u});var n=i(81823),r=i(94184),o=i(21245),l=i(88180);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e){var t,i,u,s=e.baseClassName,d=void 0===s?"":s,c=e.innerClassName,v=e.isModalShow,m=e.onCloseModal,f=e.isShowCloseIcon,p=e.extraClassName,_=e.modalTitle,g=e.subtitleEl,h=e.children,y=e.bottomEl,b=e.afterClose,w=function(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)i=o[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)i=o[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}(e,["baseClassName","innerClassName","isModalShow","onCloseModal","isShowCloseIcon","extraClassName","modalTitle","subtitleEl","children","bottomEl","afterClose"]),S="social-share-modal";return n.createElement(o.u,{isModalShow:!!v,styleMode:"bottom",closeModal:function(){return m()},afterClose:function(){return null==b?void 0:b()},extraClassName:"".concat(S,"__portal"),overlayClassName:r("".concat(S,"__overlay"),a({},"".concat(d),!!d)),bodyOverflowClassName:"".concat(S,"__body--overflow-hidden"),isShowCloseIcon:f,title:_,extra:g,useInert:!0},n.createElement("div",{className:r((a(u={},"".concat(S,"__main"),!0),a(u,"".concat(p,"__main"),!!p),u))},h,n.createElement(l.D,(t=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){a(e,t,i[t])})}return e}({},w),i=i={baseClassName:void 0===c?"social-share":c},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):(function(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);i.push.apply(i,n)}return i})(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}),t)),y))}},7569:function(e,t,i){i.d(t,{XJ:()=>v,Y3:()=>s,c5:()=>u,cy:()=>d,kW:()=>a,y$:()=>c});var n=i(81823),r=i(71083),o=i(59116),l=i(32195);function a(){var e=0,t=document.querySelector(".navigator-section"),i=document.querySelector(".site-header.site-header--sticky");return e+=(null==t?void 0:t.offsetHeight)||0,e+=(null==i?void 0:i.offsetHeight)||0}var u=function(){var e=(0,n.useContext)(r.k6).dispatch,t=(0,n.useContext)(o.Xu);return{getProductDetailInfo:(0,n.useCallback)(function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.getService({params:n?{commodity_id:n}:{tag:i}},function(t){if((null==t?void 0:t.errNo)===0){var i,n,o=null===(n=t.data)||void 0===n?void 0:null===(i=n.extend)||void 0===i?void 0:i.afterSaleRank;e({type:r.At.SET_AFTER_SALE_RANK,payload:o})}})},[])}};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e?Object.keys(e).reduce(function(t,i){return t+e[i].price},t):t}var d=function(e){if(!e||!(0,l.j1)())return e;var t=e.includes("/product/"),i=e.includes("skupanel=1");if(!t||i)return e;var n=e.includes("?")?"&":"?";return"".concat(e).concat(n,"noRedirectPage=product-station")},c=function(e){try{var t=new URLSearchParams(window.location.search),i={};if(["tokens_task_type","tokens_task_ttl","tokens_task_nonce","tokens_task_id"].forEach(function(e){var n=t.get(e);n&&(i[e]=n)}),0===Object.keys(i).length)return e;var n=new URLSearchParams(i),r=e.includes("?")?"&":"?";return"".concat(e).concat(r).concat(n.toString())}catch(t){return e}},v=function(e,t){var i=new URLSearchParams(decodeURIComponent(window.location.search));i.set("RNType","product"),i.set("product_id",e);var n=encodeURIComponent(i.toString()),r="globalshop://mobile.mi.com?nativeOpenUrl=https://www.mi.com/".concat(t,"/product/").concat(e,"/?").concat(n),o=/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(navigator.userAgent);if(navigator.userAgent.indexOf("Chrome")>-1||o)window.location.href=r;else{var l=document.createElement("iframe");l.style.cssText="display:none; width:0; height:0",document.body.appendChild(l),l.src=r}}},59116:function(e,t,i){i.d(t,{GU:()=>y,Xu:()=>h});var n,r,o,l,a,u,s=i(81823),d=i(48785),c=i(81845),v=i(25228),m=i(81848),f=i(4170);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var _={data:(null===(o=window.__PRELOADED_STATE__)||void 0===o?void 0:null===(r=o.pagedata)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:n.categoryDetail)||{},ajaxStatus:(null===(u=window.__PRELOADED_STATE__)||void 0===u?void 0:null===(a=u.pagedata)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.categoryDetail)?"success":"unsent",getServiceSuccess:!1},g=(0,d.o)(b,_),h=(0,s.createContext)(g);function y(e){var t,i=e.siteConfig,n=e.isAutoFetch,r=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,s.useState)(g))||function(e,t){var i,n,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(i=r.next()).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(e){a=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(a)throw n}}return o}}(t,2)||function(e,t){if(e){if("string"==typeof e)return p(e,2);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],a=o[1],u=(0,v.ag)();function d(e){var t=e.data,i=e.errmsg,n=e.errno;return{data:b(t||{}),errMsg:String(i),errNo:Number(n)}}var f={url:"".concat(i.goSite,"/v2/item/productdetail"),method:"GET",basicParams:{from:"mobile"===u?"mobile":"pc"},withCredentials:!0},_=(0,m.u)(f);return s.createElement(c.h,{context:h,setState:a,defaultValue:g,adapterError:function(e){return d(e)},adapter:d,value:l,siteConfig:i,isAutoFetch:!0===n,ajaxConfig:_},r)}function b(){var e,t,i,n,r,o,l,a,u,s,d,c,v,m,p,_,g,h,y,b,S,k,I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{itemDetail:{spuList:Array.from((null==I?void 0:null===(e=I.item_detail)||void 0===e?void 0:e.spu_list)||[]).map(function(e){var t,i,n,r,o;return{spuId:String(e.spu_id||""),productId:Number(e.product_id||0),spuName:String(e.spu_name||""),spuLink:String(e.spu_link||""),energyInfo:(0,f.T0)((null===(i=e.item_list)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:t.energy)||[]),bundleLabels:(0,f.rb)((null===(r=e.item_list)||void 0===r?void 0:null===(n=r[0])||void 0===n?void 0:n.bundle_compliance_label)||[]),itemList:Array.from((o=e).item_list||[]).map(function(e){return{itemId:e.item_id||0,itemName:e.item_name||"",isSale:!!e.is_sale,isOutOfStock:!!e.is_out_of_stock,isNotForSale:!!e.is_not_for_sale,isReservation:!!e.is_deposit_presale,marketPrice:e.market_price||0,marketPriceText:e.market_price_text||"",price:e.price||0,priceText:e.price_text||"",limitMin:e.limit_min||0,limitMax:e.limit_max||0,currency:e.currency||"",goodsDealer:e.goods_dealer||"",ksp:e.ksp,mrpInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{isShow:!!e.is_show,categoryName:String(e.cat_name||""),countryOrigin:String(e.country_origin||""),importerDetails:String(e.importer_details||""),manufacturerBy:String(e.manufacturer_by||""),manufacturerDetails:String(e.manufacturer_details||""),marketPriceFmt:String(e.market_price||""),salePriceFmt:String(e.sale_price||"")}}(e.mrp_info||{}),resourceList:e.resource_list||[],graphics3dUrl:e.graphics_3d_url||"",modelRoomUrl:e.model_room_url||"",energy:(0,f.T0)(e.energy||[]),bundleLabels:(0,f.rb)(e.bundle_compliance_label||[]),itemReferencePrice:e.item_reference_price||0,salePrice:e.price||0,savePrice:0,productId:o.product_id||0,goodsId:null==e?void 0:e.goods_id,categoryInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(function(e){return{level:Number(e.level||0),categoryId:String(e.cat_id||""),categoryName:String(e.title||""),categoryTag:String(e.category_tag||"")}})}(e.categories||[]),spuName:String(o.spu_name||""),typeCProject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{hasCharger:!!(null==e?void 0:e.has_charger),isSupportUsbPd:!!(null==e?void 0:e.is_support_usb_pd),wattageMin:String((null==e?void 0:e.wattage_min)||""),wattageMax:String((null==e?void 0:e.wattage_max)||""),chargerDescription:String((null==e?void 0:e.type_c_charger_description)||""),supportUsbPdDescription:String((null==e?void 0:e.type_c_support_usb_pd_description)||""),wattageRangeDescription:String((null==e?void 0:e.type_c_wattage_description)||"")}}((null==e?void 0:e.type_c)||{}),hasTypeCProject:!!(null==e?void 0:e.type_c),durability:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{durabilityScoreImg:String((null==e?void 0:e.durability_score_img)||""),durabilityScoreDoc:String((null==e?void 0:e.durability_score_doc)||""),durabilityScoreDescription:String((null==e?void 0:e.description)||"")}}((null==e?void 0:e.durability)||{}),repairAbility:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{repairAbilityScoreImg:String((null==e?void 0:e.repairability_score_img)||""),repairAbilityScoreDoc:String((null==e?void 0:e.repairability_score_doc)||""),description:String((null==e?void 0:e.description)||"")}}((null==e?void 0:e.repairability)||{})}})}}),specsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{specsList:e.specs_list||[],skuList:Array.from(e.sku_list||[]).map(function(e){return{itemId:e.item_id||0,specsName:e.specs_item||[]}})}}((null==I?void 0:null===(t=I.item_detail)||void 0===t?void 0:t.specs_list)||{}),resourceList:(null==I?void 0:null===(i=I.item_detail)||void 0===i?void 0:i.resource_list)||[],insuranceMap:function(e){var t={};for(var i in e){var n,r=((null===(n=e[i])||void 0===n?void 0:n.insurance_data_list)||[]).map(w);if(r.length){var o=r.reduce(function(e,t){var i=t.groupId||0,n=e.find(function(e){return e.groupId===i});return n?n.insuranceList.push(t):e.push({groupId:i,insuranceList:[t]}),e},[]);t[String(i)]=o.sort(function(e,t){return e.groupId-t.groupId})}}return t}((null==I?void 0:I.insurance)||{}),tradeInMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).reduce(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={itemId:t.item_id||"",tradeInCampaignId:t.trade_in_campaign_id||"",tradeInDesc:t.trade_in_desc||"",tradeInKsp:t.trade_in_ksp||"",tradeInKspLink:t.trade_in_ksp_link||"",tradeInSupport:!!t.trade_in_support,isPreSaleGoods:!!t.is_pre_sale_goods};return e[t.item_id]=i,e},{})}((null==I?void 0:I.trade_in)||{}),installationMap:function(){var e,t,i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r={};for(var o in n)Object.assign(r,(e={},t={installationDataList:null===(i=n[o].installation_data_list||[])||void 0===i?void 0:i.map(function(e){return{name:e.name||"",installItemType:e.install_item_type||0,price:e.price||"",marketPrice:e.market_price||"",sku:e.sku||"",goodsId:e.goods_id||"",imageUrl:e.image_url||"",learnMoreLink:e.learn_more_link||"",desc:e.desc||"",groupId:e.group_id||0,isPreSaleGoods:e.is_pre_sale_goods||!1}}),isForceInstallation:n[o].is_force_installation,defaultSelectedSku:n[o].default_selected_sku},o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e));return r}((null==I?void 0:I.installation_service)||{}),recycle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return(void 0===e?"undefined":e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e)=="object"&&Object.keys(e).forEach(function(i){var n,r,o;t[i]={title:String((null===(n=e[i])||void 0===n?void 0:n.title)||""),desc:String((null===(r=e[i])||void 0===r?void 0:r.desc)||""),price:String((null===(o=e[i])||void 0===o?void 0:o.price)||"")}}),t}((null==I?void 0:I.recycle)||{})},switchDetail:{isShowInsurance:!!(null==I?void 0:null===(n=I.switch_detail)||void 0===n?void 0:n.is_show_insurance),isShowTradeIn:!!(null==I?void 0:null===(r=I.switch_detail)||void 0===r?void 0:r.is_show_trade_in),isShowTips:!!(null==I?void 0:null===(o=I.switch_detail)||void 0===o?void 0:o.is_show_tips),isShowReviews:!!(null==I?void 0:null===(l=I.switch_detail)||void 0===l?void 0:l.is_show_reviews),isRecommendShow:!!(null==I?void 0:null===(a=I.switch_detail)||void 0===a?void 0:a.is_recommend_show),isShowDelivery:!!(null==I?void 0:null===(u=I.switch_detail)||void 0===u?void 0:u.is_show_delivery),isShowInstallment:!!(null==I?void 0:null===(s=I.switch_detail)||void 0===s?void 0:s.is_show_installment),isShowMrp:!!(null==I?void 0:null===(d=I.switch_detail)||void 0===d?void 0:d.is_show_mrp),isShowAlwaysNext:!!(null==I?void 0:null===(c=I.switch_detail)||void 0===c?void 0:c.is_show_alwaysnext),isShowReferencePrice:!!(null==I?void 0:null===(v=I.switch_detail)||void 0===v?void 0:v.is_show_reference_price),isShowQuestionnaire:!!(null==I?void 0:null===(m=I.switch_detail)||void 0===m?void 0:m.is_show_questionnaire),isShowRecycle:!!(null==I?void 0:null===(p=I.switch_detail)||void 0===p?void 0:p.is_show_recycle)},review:{productId:(null==I?void 0:null===(_=I.review)||void 0===_?void 0:_.product_id)||"",commentsTotal:(null==I?void 0:null===(g=I.review)||void 0===g?void 0:g.comments_total)||0,commentsStar:(null==I?void 0:null===(h=I.review)||void 0===h?void 0:h.comments_star)||"",essenceList:Array.from((null==I?void 0:null===(y=I.review)||void 0===y?void 0:y.essence_list)||[]).map(function(e){return{addTime:(null==e?void 0:e.add_time)||"",commentContent:(null==e?void 0:e.comment_content)||"",commentId:(null==e?void 0:e.comment_id)||"",goodsName:(null==e?void 0:e.goods_name)||"",userAvatar:(null==e?void 0:e.user_avatar)||"",userId:(null==e?void 0:e.user_id)||"",userName:(null==e?void 0:e.user_name)||""}})||[]},tips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){return{itemId:String((null==e?void 0:e.item_id)||""),productId:Number((null==e?void 0:e.product_id)||0),tips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.from(e||[]).map(function(e){return{content:String((null==e?void 0:e.content)||""),id:String((null==e?void 0:e.id)||""),jumpUrl:String((null==e?void 0:e.jump_url)||""),title:String((null==e?void 0:e.title)||"")}})}((null==e?void 0:e.tips)||[])}})}((null==I?void 0:null===(b=I.tips_detail)||void 0===b?void 0:b.tips)||[]),extend:{afterSaleRank:(null==I?void 0:null===(S=I.extend)||void 0===S?void 0:S.after_sale_rank)||"",isNew:!!(null==I?void 0:null===(k=I.extend)||void 0===k?void 0:k.is_new)}}}function w(e){return{groupId:(null==e?void 0:e.group_id)||0,insuranceId:(null==e?void 0:e.goods_id)||"",insuranceSkuId:(null==e?void 0:e.sku)||"",insuranceTag:(null==e?void 0:e.mark)||"",insurancePrice:(null==e?void 0:e.price)||"0",insuranceMarketPrice:(null==e?void 0:e.market_price)||"0",insuranceName:(null==e?void 0:e.insurance_name)||"",insuranceDescribe:(null==e?void 0:e.insurance_describe)||"",insuranceIcon:(null==e?void 0:e.image_url)||"",learnMoreLink:(null==e?void 0:e.learn_more_link)||"",insuranceAgreeContent:(null==e?void 0:e.agree_content)||"",insuranceValidPeriod:(null==e?void 0:e.valid_period)||"",isBought:(null==e?void 0:e.is_bought)||!1,isSupportRepurchase:(null==e?void 0:e.is_support_repurchase)||!1,isDisabled:!!e.is_bought||!e.is_support_repurchase,isPreSaleGoods:!!(null==e?void 0:e.is_pre_sale_goods)}}},57716:function(e,t,i){i.d(t,{g:()=>a});function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),n(this,"timer",null),n(this,"delay",void 0),n(this,"lastAction",null),this.delay=e}return e=[{key:"enqueue",value:function(e){var t=this;this.timer&&clearTimeout(this.timer),this.lastAction=e,this.timer=setTimeout(function(){t.lastAction&&(t.lastAction(),t.lastAction=null),t.timer=null},this.delay)}},{key:"flush",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.lastAction&&(this.lastAction(),this.lastAction=null)}},{key:"clear",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.lastAction=null}},{key:"isEmpty",value:function(){return null===this.lastAction}}],function(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(t.prototype,e),t}(),o=function(e,t,i){e.setAttribute("aria-roledescription","slide"),e.setAttribute("role","group"),e.setAttribute("aria-label","slide ".concat(t+1," of ").concat(i))},l=function(e,t){var i=e.slides,n=e.activeIndex;i.forEach(function(i,r){t&&o(i,r,e.slides.length),r===n?i.removeAttribute("inert"):i.setAttribute("inert","")})},a=function(e){var t=e.swiper,i=e.options,n=i.autoplay,o=i.onStart,a=i.onStop,u=i.navigation,s=void 0===u?{prevEl:"",nextEl:""}:u;if(l(t,!0),t.on("slideChange",function(){l(t)}),t.el.setAttribute("aria-roledescription","carousel"),t.el.setAttribute("aria-live","off"),n){var d=new r(150),c=function(e){d.enqueue(function(){"focusin"===e.type||"mouseover"===e.type?(t.el.setAttribute("aria-live","polite"),a?a(t,e):t.autoplay.stop()):(t.el.setAttribute("aria-live","off"),o?o(t,e):t.autoplay.start())})},v=function(e,t,i){var n=e?document.querySelector(e):null;n||(n=t),"add"===i?(null==n||n.addEventListener("focusin",c),null==n||n.addEventListener("focusout",c),null==n||n.addEventListener("mouseover",c),null==n||n.addEventListener("mouseout",c)):(null==n||n.removeEventListener("focusin",c),null==n||n.removeEventListener("focusout",c),null==n||n.removeEventListener("mouseover",c),null==n||n.removeEventListener("mouseout",c))};setTimeout(function(){var e,i,n,r;v(null!==(n=s.prevEl)&&void 0!==n?n:"",null===(e=t.navigation)||void 0===e?void 0:e.prevEl,"add"),v(null!==(r=s.nextEl)&&void 0!==r?r:"",null===(i=t.navigation)||void 0===i?void 0:i.nextEl,"add")},20),v("",t.el,"add"),t.on("destroy",function(){var e,i;v("",t.el,"remove"),d.clear(),v(null!==(e=s.prevEl)&&void 0!==e?e:"",t.el,"remove"),v(null!==(i=s.nextEl)&&void 0!==i?i:"",t.el,"remove")})}}},10211:function(e,t,i){i.d(t,{w:()=>u});var n=i(81823),r=i(54021);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var l={BOT_ID:"x1724910215783",HOST_URL:"https://cloud.yellow.ai",SCRIPT_SRC:"https://cdn.yellowmessenger.com/plugin/widget-v2/latest/dist/main.min.js"},a="yellowMessenger";function u(){var e,t=(0,n.useContext)(r.j),i=(0,n.useRef)(null),u=(0,n.useRef)(null),d=function(e){if(Array.isArray(e))return e}(e=(0,n.useState)(!1))||function(e,t){var i,n,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o=[],l=!0,a=!1;try{for(r=r.call(e);!(l=(i=r.next()).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(e){a=!0,n=e}finally{try{l||null==r.return||r.return()}finally{if(a)throw n}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return o(e,2);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=d[0],v=d[1],m=(0,n.useCallback)(function(){return new Promise(function(e,t){if(u.current&&document.body.contains(u.current)){i.current?e():t(Error("Yellow.ai chat widget loaded but not initialized"));return}window.ymConfig={bot:l.BOT_ID,host:l.HOST_URL,hideChatButton:!0};var n=s(),r=n.source,o=n.triggerJourney;r===a&&(window.ymConfig.triggerJourney=o||"");var d=document.createElement("script");u.current=d,d.src=l.SCRIPT_SRC,d.async=!0,document.body.appendChild(d),d.onload=function(){i.current=window.YellowMessengerPlugin,e()},d.onerror=function(){t(Error("Failed to load Yellow.ai chat widget"))}})},[l.BOT_ID,l.HOST_URL]);(0,n.useEffect)(function(){"undefined"!=typeof window&&t.getService({},function(e){var t,n,r=null==e?void 0:null===(n=e.data)||void 0===n?void 0:null===(t=n.profile)||void 0===t?void 0:t.userId;(null==e?void 0:e.errNo)===0&&m().then(function(){var e;v(!0),null===(e=i.current)||void 0===e||e.init({bot:l.BOT_ID,host:l.HOST_URL,hideChatButton:!0,payload:{user:{miId:r}}})}).catch(function(e){v(!1),console.error("Error initializing Yellow.ai chat widget:",e)})})},[m]),(0,n.useEffect)(function(){var e=function(e){try{var t,i="string"==typeof e.data&&(t=e.data,["ym-bot-closed","ym_bot_id"].some(function(e){return t.includes(e)}))?JSON.parse(e.data):e.data;if("ym-bot-closed"===i.event_code)document.body.classList.remove("mi-chat__body--overflow-hidden");else if("ym_bot_id"===i.event_code){var n=s(),r=n.params;n.source===a&&(p(),r.delete("source"),r.delete("triggerJourney"),window.history.replaceState({},"","".concat(window.location.pathname,"?").concat(r.toString())))}}catch(e){console.error("Error setting overflow:",e)}};return window.addEventListener("message",e),function(){window.removeEventListener("message",e),i.current&&(i.current=null,window.YellowMessengerPlugin=null),u.current&&document.body.removeChild(u.current)}},[]);var f=function(){var e=window.innerWidth-document.body.offsetWidth;document.body.style.setProperty("--scrollbar-width","".concat(e,"px")),document.body.classList.add("mi-chat__body--overflow-hidden")};function p(){var e=window.YellowMessengerPlugin;e&&"function"==typeof e.openBot&&(f(),e.openBot())}return{ymChatIsLoaded:c,ymRef:i,ymScriptRef:u,handleLiveChat:p}}function s(){var e=new URLSearchParams(window.location.search);return{params:e,source:e.get("source"),triggerJourney:e.get("triggerJourney")}}}}]);
!function(){"use strict";var e={1225:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){t=function(e,t){return new i(e,void 0,t)};var o=RegExp.prototype,r=new WeakMap;function i(e,t,o){var a=RegExp(e,t);return r.set(a,o||r.get(e)),n(a,i.prototype)}function a(e,t){var n=r.get(t);return Object.keys(n).reduce((function(t,o){var r=n[o];if("number"==typeof r)t[o]=e[r];else{for(var i=0;void 0===e[r[i]]&&i+1<r.length;)i++;t[o]=e[r[i]]}return t}),Object.create(null))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(i,RegExp),i.prototype.exec=function(e){var t=o.exec.call(this,e);if(t){t.groups=a(t,this);var n=t.indices;n&&(n.groups=a(n,this))}return t},i.prototype[Symbol.replace]=function(t,n){if("string"==typeof n){var i=r.get(this);return o[Symbol.replace].call(this,t,n.replace(/\$<([^>]+)(>|$)/g,(function(e,t,n){if(""===n)return e;var o=i[t];return Array.isArray(o)?"$"+o.join("$"):"number"==typeof o?"$"+o:""})))}if("function"==typeof n){var l=this;return o[Symbol.replace].call(this,t,(function(){var t=arguments;return"object"!=e(t[t.length-1])&&(t=[].slice.call(t)).push(a(t,l)),n.apply(this,t)}))}return o[Symbol.replace].call(this,t,n)},t.apply(this,arguments)}function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var o={},r=/^https:\/\/download.mozilla.org/,i=/^https:\/\/(bouncer-bouncer.stage.mozaws.net|stage.bouncer.nonprod.webservices.mozgcp.net)/,a=/^https:\/\/dev.bouncer.nonprod.webservices.mozgcp.net/,l=/^https:\/\/itunes.apple.com/,c=/^https:\/\/apps.apple.com/,s=/^https:\/\/play.google.com/,u=/^market:\/\/play.google.com/,f=/^https:\/\/apps.microsoft.com/,d=/^ms-windows-store:\/\/pdp\//,p=t(/^.+\/vpn\/download\/(mac|windows|linux)(?:\/[^]*)?\/?/,{platform:1});"undefined"==typeof window.dataLayer&&(window.dataLayer=[]),o.isValidDownloadURL=function(e){return"string"==typeof e&&!!(r.test(e)||i.test(e)||a.test(e)||l.test(e)||c.test(e)||s.test(e)||u.test(e)||f.test(e)||d.test(e)||p.test(e))},o.getEventObject=function(e,t,n){var o=arguments.length>3&&arguments[3]!==undefined&&arguments[3],r=arguments.length>4&&arguments[4]!==undefined&&arguments[4],i={};return i.event=e+"_download",i.product=e,i.platform=t,i.method=n,o&&(i.release_channel=o),r&&(i.download_language=r),i},o.getEventFromUrl=function(e){if("undefined"==typeof window._SearchParams)return!1;if(!o.isValidDownloadURL(e))return!1;var t;t=e.indexOf("?")>0?window._SearchParams.queryStringToObject(e.split("?")[1]):{};var n={};if(p.test(e)){var v=e.match(p).groups.platform;n=o.getEventObject("vpn",v,"site","release")}else if(r.test(e)||i.test(e)||a.test(e)){var m=t.product,w=m.split("-"),y=w[0];y="partner"===y?"firefox":y;var g=t.os;g="osx"===g?"macos":g,g=-1!==m.indexOf("msi")?g+"-msi":g;var b=w[1];"latest"!==(b="partner"===w[0]?"release":b)&&"stub"!==b&&"msi"!==b||(b="release"),n=o.getEventObject(y,g,"site",b,t.lang)}else if(s.test(e)||u.test(e)){var h="unrecognized",x="";switch(t.id){case"org.mozilla.firefox":h="firefox_mobile",x="release";break;case"org.mozilla.fenix":h="firefox_mobile",x="nightly";break;case"org.mozilla.firefox_beta":h="firefox_mobile",x="beta";break;case"org.mozilla.focus":h="focus";break;case"org.mozilla.klar":h="klar";break;case"org.mozilla.firefox.vpn":h="vpn"}n=o.getEventObject(h,"android","store",x)}else if(c.test(e)||l.test(e)){var E=t.mz_pr?t.mz_pr:"unrecognized";n=o.getEventObject(E,"ios","store","release")}else if(f.test(e)||d.test(e)){var _="release"===t.mz_cn||"beta"===t.mz_cn?t.mz_cn:"unrecognized";n=o.getEventObject("firefox","win","store",_)}return n},o.handleLink=function(e){var t=e.target;if("A"!==t.nodeName&&Element.prototype.closest)t=t.closest("a");else if(!Element.prototype.closest)return!1;var n=t.href;o.sendEventFromURL(n)},o.sendEventFromURL=function(e){var t=o.getEventFromUrl(e);t&&o.sendEvent(t)},o.sendGleanEvent=function(e){if("undefined"!=typeof window.Mozilla.Glean){var t=e.method;e.release_channel&&(t+=",".concat(e.release_channel)),e.download_language&&(t+=",".concat(e.download_language)),window.Mozilla.Glean.clickEvent({id:e.event,type:"".concat(e.platform),label:t})}},o.sendEvent=function(e){window.dataLayer.push(e),o.sendOldEvent(e),o.sendGleanEvent(e)},o.sendOldEvent=function(e){var t=JSON.parse(JSON.stringify(e));t.event="product_download",window.dataLayer.push(t)};var v=o;"undefined"==typeof window.Mozilla&&(window.Mozilla={}),window.Mozilla.TrackProductDownload=v;for(var m=document.querySelectorAll(".ga-product-download"),w=0;w<m.length;++w)m[w].addEventListener("click",(function(e){v.handleLink(e)}),!1)},1444:function(e,t,n){var o=n(2673),r=window.dataLayer=window.dataLayer||[];"undefined"!=typeof Mozilla.Utils&&Mozilla.Utils.onDocumentReady((function(){if("undefined"!=typeof window._SearchParams){var e=(new window._SearchParams).params,t=(0,o.x)(e);t&&r.push({event:"experiment_view",id:t.experiment,variant:t.variation})}}))},2673:function(e,t,n){function o(e){if(Object.prototype.hasOwnProperty.call(e,"experiment")&&Object.prototype.hasOwnProperty.call(e,"variation")){var t=decodeURIComponent(e.experiment),n=decodeURIComponent(e.variation);if(/^\d{8}_amo_.[\w/.%-]{1,50}$/.test(t)&&/^[\w/.%-]{1,50}$/.test(n))return{experiment:t,variation:n}}return null}n.d(t,{x:function(){return o}})},6084:function(){"undefined"==typeof window.dataLayer&&(window.dataLayer=[]);var e,t,n,o={},r=[25,50,75,90],i=!0;o.getDepth=function(e,t,n){return n/(e-t)*100},o.sendEvent=function(e){window.dataLayer.push({event:"scroll",percent_scrolled:String(e)})},o.removeListener=function(){i&&(window.removeEventListener("scroll",o.scrollListener,!1),i=!1)},o.scrollHandler=function(){if("function"==typeof Array.prototype.filter){var e=document.documentElement.scrollHeight,t=window.innerHeight,n=window.scrollY,i=o.getDepth(e,t,n),a=r.filter((function(e){return i>=e}));r=r.filter((function(e){return i<e})),a.forEach((function(e){o.sendEvent(e)})),0===r.length&&o.removeListener()}else o.removeListener()},o.onScroll=(e=o.scrollHandler,t=100,function(){var o=arguments,r=this;clearTimeout(n),n=setTimeout((function(){e.apply(r,o)}),t)});var a=o;"undefined"==typeof window.Mozilla&&(window.Mozilla={}),window.Mozilla.TrackScroll=a,window.addEventListener("scroll",a.onScroll,!1)}},t={};function n(o){var r=t[o];if(r!==undefined)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(2673),n(1444),n(1225);n(6084)}();
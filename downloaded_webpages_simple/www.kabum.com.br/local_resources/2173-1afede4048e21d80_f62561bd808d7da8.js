"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2173],{32628:function(u,l,m){var p,f;m.d(l,{$:function(){return p}}),(f=p||(p={})).Company="J",f.Person="F"},5903:function(u,l,m){m.d(l,{d:function(){return r}});let r=class r extends Error{message="P\xe1gina n\xe3o encontrada";redirectTo;constructor(u="P\xe1gina n\xe3o encontrada",l){super(),this.message=u,this.redirectTo=l,this.name="NotFoundError"}}},25345:function(u,l,m){m.d(l,{C:function(){return t}});function t(u,l){let m="kbm_ab_campaigns",p=JSON.parse(localStorage.getItem(m)||"{}");p[u]=l||{},localStorage.setItem(m,JSON.stringify(p))}},42742:function(u,l,m){m.d(l,{t:function(){return t}});var p=m(9609);let t=(u,l)=>{(0,p.y)({event:u,filtro:l})}},52372:function(u,l,m){m.d(l,{q:function(){return t}});var p=m(9609);let t=(u,l=!1)=>{(0,p.y)({event:"productDetail",ecommerce:{embed_pdp:Number(l),detail:{products:u}}})}},22190:function(u,l,m){m.d(l,{c:function(){return r}});var p=m(9609);function r(u,l){(0,p.y)({event:"search",tipo:u,renderTimer:l})}},34696:function(u,l,m){m.d(l,{E:function(){return o}});var p=m(9609);let o=(u,l,m)=>{(0,p.y)({event:u,intervalo:`${l}-${m}`})}},6410:function(u,l,m){m.d(l,{h:function(){return t}});var p=m(38066),f=m(9609),g=m(47234);let t=u=>{if("undefined"!=typeof window){let{pageType:l,productsShelf:m,offerPath:v}=u,h=[{name:"Home",url:window.location.href}];(0,f.y)({breadcrumb:h,pageType:l,productsShelf:m}),(0,f.y)({event:"crto_homepage",crto:{email:""}}),(0,p.I)({products:(0,g.B)(m,v)})}}},47234:function(u,l,m){function n(u,l=!1){var m;return{productsShelf:(m=u?.products||[]).length>0&&m?.map((u,m)=>({available:!0,brand:u.manufacturer||"",id:u.code.toString(),category:u.menu||"",name:u.name,position:m+1,price:u.primePriceWithDiscount>0&&l?u.primePriceWithDiscount:u.priceWithDiscount>0?u.priceWithDiscount:u.price,oldPrice:u.oldPrice,dimension20:u.sellerId,dimension21:u.sellerName,dimension24:u.sellerId,dimension25:u.sellerName}))||[]}}function r(u,l){return 0===u.length?[{name:"",id:"",price:0,oldPrice:0,brand:"",list:l,category:"",position:0,dimension20:0,dimension21:""}]:[...new Map(u.map(u=>[u?.id,u])).values()].map((u,m)=>({name:u.name,id:u.id,price:u.price,oldPrice:u.oldPrice,brand:u.brand||"",list:l,category:u.category||u.menu||"",position:m+1,dimension20:u.dimension20,dimension21:u.dimension21}))}m.d(l,{B:function(){return r},K:function(){return n}})},12303:function(u,l,m){m.d(l,{Q:function(){return e}});var p=m(38066),f=m(9609),g=m(17827);function e(u){let{listingMainObject:l,productsListCodes:m,productImpressionsFormatted:v}=(0,g.o)(u);(0,f.y)(l),(0,f.y)({event:"crto_listingpage",crto:{email:"",products:m}}),(0,p.I)({products:v})}},17827:function(u,l,m){m.d(l,{o:function(){return e}});let e=u=>{if("undefined"!=typeof window){let l=window.location.origin,{listingData:m}=u,p=[],f=[],g,v,h="category",_=[];if("search"===m.type)h="searchresults",_=[{name:"search",url:window.location.href}],v=m.string||"";else if("mostwanted"===m.type)h="mostwantedproducts",g="mostwantedproducts",_=[{name:"mostwanted",url:window.location.href}];else if("justarrived"===m.type)h="justarrivedproducts",g="justarrivedproducts",_=[{name:"justarrived",url:window.location.href}];else if("offer"===m.type)h=m.pageList||"",_=[{name:"offers",url:window.location.href}];else if("object"==typeof m.breadcrumb&&null!==m.breadcrumb)for(let u of Object.values(m.breadcrumb))_.push({name:u.nome,url:`${l}${u.amigavel}`}),g=u.nome;m.listagem?.forEach((u,l)=>{p.push({position:l+1,name:u.name,category:u.category,brand:u.manufacturer||u.brand||"",price:u.price,id:u.code.toString(),available:u.available,dimension20:u.sellerId||0,dimension21:u.sellerName||"KaBuM!",dimension24:u.sellerId||0,dimension25:u.sellerName||"KaBuM!"}),f.push(u.code.toString())});let y={breadcrumb:_,pageType:h,productsList:p};v&&""!==v&&(y.searchTerm=v),g&&""!==g&&(y.categoryName=g);let E=m.listagem?.map((u,l)=>({name:u.name,id:u.code.toString(),price:u.price,brand:u.manufacturer||"",category:u.category||"",list:h,position:l+1,dimension20:u.sellerId,dimension21:u.sellerName}));return{listingMainObject:y,productsListCodes:f,productImpressionsFormatted:E}}return{listingMainObject:{},productsListCodes:[],productImpressionsFormatted:[]}}},26188:function(u,l,m){m.d(l,{M:function(){return o}});var p=m(52372),f=m(9609),g=m(60330);function o(u){let{productData:l,productDataFormatted:m}=(0,g.h)(u);(0,f.y)({event:"crto_productpage",crto:{email:"",products:[String(l.code)]}}),(0,p.q)(m,!!l?.iframeUrl)}},60330:function(u,l,m){m.d(l,{h:function(){return a}});var p=m(40791);function a(u){if("undefined"!=typeof window){let l=window.location.origin,{productData:m}=u,f=[];m.menus.length&&m.menus.forEach(u=>{f.push({name:u.name,url:`${l}${u.link}`})});let g=new Date;g.setDate((new Date).getDate()+1);let v=[{available:m.available,availability:m.available?"https://schema.org/InStock":"https://schema.org/OutOfStock",image:m.photos[0]||"",brand:m.producer.name,category:m.category,id:String(m.code),name:m.name,price:m.priceDetails.price,position:String(1),dimension20:m.sellerId||0,dimension21:m.sellerName||"KaBuM!",dimension24:m.sellerId||0,dimension25:m.sellerName||"KaBuM!",price_date:g.toLocaleDateString("en-ZA"),rating_count:m.ratingNumber,rating_value:m.rating,url:`${l}${m.link}`}],h=[{name:m.name,id:String(m.code),price:m.price,brand:m.producer.name,category:m.category,dimension01:(0,p.n)(m.code),dimension20:m.sellerId||0,dimension21:m.sellerName||"KaBuM!"}];return{breadcrumb:f,productsDetail:v,productData:m,productDataFormatted:h}}return{breadcrumb:[],productsDetail:[],productData:{available:!1,category:"",code:0,link:"",menus:[],name:"",photos:[],price:0,priceDetails:{price:0},producer:{code:0,img:"",name:""},rating:0,ratingNumber:0,sellerId:0,sellerName:"",iframeUrl:""},productDataFormatted:[]}}},35301:function(u,l,m){m.d(l,{X:function(){return g}});var p=m(64529),f=m(782);let g=(0,p.Ue)()((0,f.mW)(u=>({closeDepartments:()=>{u(({isOpenedByNavDrawer:u})=>({isDepartmentsActive:!1,isNavDrawerActive:u}))},closeNavDrawer:()=>{u({isDepartmentsActive:!1,isNavDrawerActive:!1})},isDepartmentsActive:!1,isNavDrawerActive:!1,isOpenedByNavDrawer:!1,openDepartments:(l=!1)=>{l||u({isNavDrawerActive:!0}),u({isDepartmentsActive:!0,isOpenedByNavDrawer:l})},openNavDrawer:()=>{u({isNavDrawerActive:!0})}}),{name:"DepartmentsMenuStore"}))},92173:function(u,l,m){m.r(l),m.d(l,{AddProductsService:function(){return c},AxiosHttpClient:function(){return E.V},BlockAcquireError:function(){return e},CustomException:function(){return F.T},DlVisitorResponse:function(){return eE.s},EnumClient:function(){return f.$},EnumOneTrustTransaction:function(){return ex.W},ForbiddenError:function(){return forbiddenError_e},HttpClient:function(){return eh.e},ImageFallback:function(){return er.o},ModelAddressResponse:function(){return e_.w},ModelBannerResponse:function(){return banner_n},ModelOneTrustRequest:function(){return ew.f},ModelVisitor:function(){return eS.v},NextCookieClient:function(){return X.a},NotFoundError:function(){return v.d},NotLoggedError:function(){return r},OutOfStockError:function(){return s},ResizeHOC:function(){return eC.Z},RetailService:function(){return eO.i},SaveLocalProductService:function(){return d},SessionExpiredError:function(){return sessionExpiredError_e},UnavailableError:function(){return unavailableError_e},UnavailablePrimeError:function(){return unavailablePrimeError_e},UnexpectedError:function(){return g.S},UnknownError:function(){return unknownError_r},addABTestConversionEvent:function(){return y.C},categoriesResponse:function(){return ey.J},constants:function(){return p.default},dataLayerEventAddCoupon:function(){return dataLayerEventAddCoupon_o},dataLayerEventAddService:function(){return M.l},dataLayerEventAddToCart:function(){return w.i},dataLayerEventCheckout:function(){return dataLayerEventCheckout_t},dataLayerEventFilter:function(){return S.t},dataLayerEventHome:function(){return $.h},dataLayerEventHotsiteCard:function(){return dataLayerEventHotsiteCard_t},dataLayerEventListing:function(){return R.Q},dataLayerEventLogin:function(){return C.G},dataLayerEventProduct:function(){return q.M},dataLayerEventProductClick:function(){return T.U},dataLayerEventProductDetail:function(){return A.q},dataLayerEventProductImpressions:function(){return L.I},dataLayerEventPromotionClick:function(){return P.Q},dataLayerEventPromotionView:function(){return N.l},dataLayerEventPurchase:function(){return a},dataLayerEventRemoveFromCart:function(){return D.o},dataLayerEventSearch:function(){return k.c},dataLayerEventSelectShipping:function(){return dataLayerEventSelectShipping_r},dataLayerEventSimple:function(){return O.N},dataLayerEventSmartHintOrder:function(){return dataLayerEventSmartHintOrder_r},dataLayerEventValueInterval:function(){return x.E},dataLayerModelHome:function(){return B.K},dataLayerModelListing:function(){return U.o},dataLayerModelProduct:function(){return j.h},dataLayerModelProductImpressions:function(){return B.B},daysBetweenTimestamps:function(){return daysBetweenTimestamps_e},formatBannerData:function(){return V.o},formatBannerMonetizaToDataLayerEvent:function(){return V.g},formatToCurrency:function(){return formatToCurrency_r},getAddresses:function(){return eN.Z},getBanner:function(){return banner_o},getBannersByMenu:function(){return banner_listagem_s},getBuscaAutoComplete:function(){return autocomplete_r},getCategories:function(){return eA.C},getClient:function(){return eL.s},getDlVisitor:function(){return G.w},getNewTailBannerAds:function(){return eT.l},getPriceProductModel:function(){return eI.A},getProductPrice:function(){return ek.m},getValueOrDefault:function(){return H.M},getVisitor:function(){return getVisitor_o},handtalkInstance:function(){return z.l},hasSponsoredProductAtLocalStorage:function(){return eo.n},httpException:function(){return W._},httpInstance:function(){return J.c},kernel:function(){return Q.z},loaderImage:function(){return loaderImage_t},loginUserTest:function(){return loginUserTest_n},makeAddProductsService:function(){return o},makeAxiosHttpClient:function(){return h.b},makeNextCookiesClient:function(){return _.i},makeRemoveProducts:function(){return makeRemoveProduct_r},makeSaveLocalProductService:function(){return t},newTailBannerModel:function(){return eb.p},omit:function(){return Y.C},onImageError:function(){return ee.A},oneTrust:function(){return eD.A},postAuth:function(){return eP.x},postLogin:function(){return login_n},postSession:function(){return Z.L},pushToDataLayer:function(){return I.y},redirect:function(){return redirect_e},sanitizeCookies:function(){return et.N},sellersArrayToString:function(){return sellersArrayToString_i},sellersObjToArray:function(){return sellersObjToArray_e},sendBeaconData:function(){return en.q},sendClientIdToChat:function(){return n},sendEvent:function(){return sendNewtailEvent_t},servicesArrayToString:function(){return servicesArrayToString_e},servicesStringToArray:function(){return servicesStringToArray_e},setSponsoredProductsLocalStorage:function(){return eo.c},toggleMessenger:function(){return chat_s},useAddresses:function(){return ei.J},useBannerSize:function(){return ea.V},useDepartmentsMenu:function(){return es.X},useHandtalk:function(){return ec.X},useIsMounted:function(){return useIsMounted_o},usePrices:function(){return ed.h},useProductInCart:function(){return ep},useTimestamp:function(){return ef},useUser:function(){return b.a},useVisitor:function(){return eg._},useWishlist:function(){return ev.E},v5BannerModel:function(){return banner_e},visitorUtmData:function(){return K.p}});var p=m(60720),f=m(32628);let e=class e extends Error{message="O produto est\xe1 bloqueado por CPF e n\xe3o pode ser adquirido novamente em um per\xedodo inferior a 24 horas.";redirectTo;constructor(u="O produto est\xe1 bloqueado por CPF e n\xe3o pode ser adquirido novamente em um per\xedodo inferior a 24 horas.",l){super(),this.message=u,this.redirectTo=l,this.name="BlockAcquireError"}};let r=class r extends Error{message="Voc\xea precisa estar logado para adicionar produtos ao carrinho.";redirectTo;constructor(u="Voc\xea precisa estar logado para adicionar produtos ao carrinho.",l){super(),this.message=u,this.redirectTo=l,this.name="NotLoggedError"}};let s=class s extends Error{message="Um ou mais produtos ficaram sem estoque.";redirectTo;constructor(u="Um ou mais produtos ficaram sem estoque.",l){super(),this.message=u,this.redirectTo=l,this.name="OutOfStockError"}};let sessionExpiredError_e=class sessionExpiredError_e extends Error{message="Sua sess\xe3o expirou, por favor fa\xe7a login novamente.";redirectTo;constructor(u="Sua sess\xe3o expirou, por favor fa\xe7a login novamente.",l){super(),this.message=u,this.redirectTo=l,this.name="SessionExpiredError"}};let unavailableError_e=class unavailableError_e extends Error{message="Produto indispon\xedvel.";redirectTo;constructor(u="Produto indispon\xedvel.",l){super(),this.message=u,this.redirectTo=l,this.name="UnavailableError"}};let unavailablePrimeError_e=class unavailablePrimeError_e extends Error{message="Limite de compra excedido para cliente Prime e n\xe3o pode ser adquirido novamente em um per\xedodo inferior a 24 horas.";redirectTo;constructor(u="Limite de compra excedido para cliente Prime e n\xe3o pode ser adquirido novamente em um per\xedodo inferior a 24 horas.",l){super(),this.message=u,this.redirectTo=l,this.name="UnavailablePrimeError"}};var g=m(32826);let unknownError_r=class unknownError_r extends Error{message="Erro desconhecido.";redirectTo;constructor(u="Erro desconhecido.",l){super(),this.message=u,this.redirectTo=l,this.name="UnknownError"}};let forbiddenError_e=class forbiddenError_e extends Error{message="Acesso negado";redirectTo;constructor(u="Acesso negado",l){super(),this.message=u,this.redirectTo=l,this.name="ForbiddenError"}};var v=m(5903);m(47041);var h=m(3326);function servicesStringToArray_e(u){let l=u.get({name:"services"});return l?l.split("#").map(u=>{let[l,m,p,f,g]=u.split("|");return{sellerId:parseInt(l),originId:parseInt(m),productCode:parseInt(p),name:f,code:parseInt(g)}}):[]}function sellersStringToObj_e(u,l){if(!u)return{};let m={},p=u.split("#");return 0===p.length?{}:(p.forEach(u=>{let[p,f,g,v,h,_,y,E,b,w,I]=u.split("|");m[p]||(m[p]={}),m[p][f]||(m[p][f]={id:Number(f),shipping_code:g,shipping_date:v,shipping_period:h,shipping_name:_,products:[]});let S=l.filter(u=>u.sellerId===parseInt(p)&&u.originId===parseInt(f)&&u.productCode===parseInt(E));m[p][f].products.push({id:Number(y),code:Number(E),quantity:Number(b),tag_code:Number(I),offer_id:Number(w),services:S?S.map(u=>u.code):[]})}),m)}function sellersArrayToString_i(u){let l=0,m="0",p="0",f="0",g="",v="",h=0,_="",y="",E=0,b=[];return u.forEach(u=>{m=u.id||"0",u.origins.forEach(u=>{p=String(u.id)||"0",f=u.shipping_code||"0",g=u.shipping_date||"",v=u.shipping_period||"",u.products.forEach(u=>{l=u.id||0,h=u.code||0,_=u.offer_id||"",y=u.tag_code||"",E=u.quantity||0,b.push(`${m}|${p}|${f}|${g}|${v}||${l}|${h}|${E}|${_}|${y}`)})})}),b.join("#")}function sellersObjToArray_e(u){return Object.keys(u).map(l=>({id:l,origins:Object.values(u[l])}))}let d=class d{storage;domainUrl;constructor(u,l){this.storage=u,this.domainUrl=l}save(u){u.id_vendedor=u.id_vendedor||0,u.id_origem=u.id_origem||1;let l=servicesStringToArray_e(this.storage),m=this.storage.get({name:"sellers"})??"",p=sellersStringToObj_e(m,l);p[u?.id_vendedor]&&p[u.id_vendedor][u.id_origem]&&p[u.id_vendedor][u.id_origem].products.find(l=>u.mercadoria_codigo||l.tag_code?l.code===u.codigo&&u.mercadoria_codigo===l.tag_code:l.code===u.codigo)||(p[u.id_vendedor]?p[u.id_vendedor][u.id_origem]||(p[u.id_vendedor][u.id_origem]={id:u.id_origem,shipping_date:"",shipping_code:"",shipping_period:"",shipping_name:"",products:[]}):(p[u.id_vendedor]={},p[u.id_vendedor][u.id_origem]={id:u.id_origem,shipping_date:"",shipping_code:"",shipping_period:"",shipping_name:"",products:[]}),p[u.id_vendedor][u.id_origem].products.push({id:u.id,code:u.codigo,quantity:u.quantidade,offer_id:u.id_marketplace||"",tag_code:u.mercadoria_codigo||"",services:[]}),this.storage.set({name:"sellers",value:sellersArrayToString_i(sellersObjToArray_e(p)),options:{domain:this.domainUrl}}))}};var _=m(37803);function t(u){return new d((0,_.i)(),u)}let c=class c{httpClient;url;saveLocalProduct;constructor(u,l,m){this.httpClient=u,this.url=l,this.saveLocalProduct=m}async add(u){let{body:l}=await this.httpClient.request({url:this.url,method:"post",body:u});if(l?.sucesso)l.carrinho.forEach(u=>{this.saveLocalProduct.save(u)});else switch(l?.erro_tipo){case"OUT_OF_STOCK":throw new s(l.msg,"/oferta-esgotada");case"NOT_LOGGED":throw new r(l.msg,"/login");case"SESSION_EXPIRED":throw new sessionExpiredError_e(l.msg,"/login");case"UNAVAILABLE":throw new unavailableError_e(l.msg,"/oferta-esgotada");case"BLOCK_ACQUIRE":throw new e(l.msg,"/limite-excedido?type=oferta");case"UNAVAILABLE_PRIME":throw new unavailablePrimeError_e(l.msg,"/limite-excedido?type=prime");default:throw new unknownError_r("Ocorreu um erro ao adicionar o produto ao carrinho.")}}};function o(u,l){return new c((0,h.b)(),`${u}order/v6/adicionar`,t(l))}let removeLocalProduct_o=class removeLocalProduct_o{storage;domainUrl;constructor(u,l){this.storage=u,this.domainUrl=l}remove(u){let l=this.storage.get({name:"sellers"})??"",m=servicesStringToArray_e(this.storage),p=this.getSellersWithoutProduct(u,sellersObjToArray_e(sellersStringToObj_e(l,m)));return this.storage.set({name:"sellers",value:sellersArrayToString_i(p),options:{domain:this.domainUrl}}),p}getSellersWithoutProduct=(u,l)=>{let m=l;return m?.forEach(l=>{parseInt(l?.id)===parseInt(u?.sellerId)&&l?.origins?.forEach(l=>{l?.id===parseInt(u?.originId)&&(l.products=l?.products?.filter(l=>l?.code!==parseInt(u?.code)||l.code===parseInt(u?.code)&&l.tag_code!==parseInt(u?.tagCode)))})}),m?.map(u=>u.origins=u?.origins?.filter(u=>u?.products?.length>0)),m=m?.filter(u=>u?.origins?.length>0)}};function makeRemoveProduct_r(u){return new removeLocalProduct_o((0,_.i)(),u)}var y=m(25345),E=m(48474),b=m(15981);function n(){let u=b.a.getState().clientId;window.Genesys("command","Database.set",{messaging:{customAttributes:{clientId:u}}})}function chat_s(){"function"==typeof window.Genesys&&(window.Genesys("subscribe","Launcher.hidden",function(){}),window.Genesys("command","Messenger.open",{},function(u){},function(u){window.Genesys("command","Messenger.close")}))}let dataLayerEventAddCoupon_o=u=>{u.forEach(u=>{if(u.valid){let l={event:"adicionar-cupom",cupom:u.id};window.dataLayer.push(l)}})};var w=m(1472),I=m(9609);let dataLayerEventCheckout_t=(u,l,m)=>{let p={event:"checkout",ecommerce:{checkout:{actionField:u,products:l,payment:m}}},f=window.dataLayer.findIndex(u=>"checkout"===u.event);-1===f?(0,I.y)(p):window.dataLayer[f]=p};var S=m(42742);let dataLayerEventHotsiteCard_t=(u,l="",m="")=>{(0,I.y)({event:"hotsite-cartao",cartaoStep:u,tipoDocumento:l,arquivo:m})};var C=m(52047),T=m(28593),A=m(52372),L=m(38066),P=m(41274),N=m(90899);let a=(u,l,m)=>{(0,I.y)({event:"purchase",ecommerce:{purchase:{actionField:u,products:l,payment:m}}})};var D=m(70932),k=m(22190);let dataLayerEventSelectShipping_r=(u,l,m)=>{(0,I.y)({event:"selecionarFrete",frete:u,valor:l,prazo:m})};var O=m(38913);let dataLayerEventSmartHintOrder_r=(u,l)=>{(0,I.y)({event:"SmartHintOrder",...u,Items:l})};var x=m(34696),M=m(61961),$=m(6410),B=m(47234),R=m(12303),U=m(17827),q=m(26188),j=m(60330);function daysBetweenTimestamps_e(u,l){let m=new Date(1e3*u),p=new Date(1e3*l),f=(m.getTime()-p.getTime())/864e5;return Math.floor(f)}var F=m(30112),W=m(9439);let formatToCurrency_r=(u,l,m)=>isNaN(parseInt(u))?null:new Intl.NumberFormat(l,{style:"currency",currency:m}).format(u);var V=m(8590),H=m(15597),G=m(90584),K=m(36808);async function getVisitor_o(u,l,m,p,f){let g={...(0,K.p)(f),clientEmail:p?.email_cliente||"",device:"desktop"};try{g={...g,...await (0,G.w)(m,u,l)}}catch(u){console.log(u)}return g}var z=m(91819),J=m(55290),Q=m(11066);function loaderImage_t({src:u,width:l,height:m,quality:p,prefix:f}){return`/${f}/_next/image?url=${u}&w=${l}&h=${m}&q=${p||70}`}async function login_n(u,l){try{let m=(0,J.c)(u),{data:f}=await m.post(`${p.default.services.MS_LOGIN}/v3/usuario/login`,l);return f}catch(m){let l=(0,W._)(u,m,"POST USER LOGIN");throw console.log(l),l}}var Z=m(48963);async function loginUserTest_n(){let u=await (0,Z.L)(Q.z),l=await login_n(Q.z,{session:u.session,email:"kabumqateste@gmail.com",senha:"TesteKabum2021"});return{session:u.session,idClient:l.id_cliente}}var X=m(21500),Y=m(53528),ee=m(89694),er=m(99387);let redirect_e=(u,l)=>({redirect:{destination:u,permanent:l||!1}});var et=m(36550),en=m(14106);async function sendNewtailEvent_t(u){let l=(0,h.b)();try{let m=await l.request({url:u,method:"get"});if(!m.body)throw Error(`Erro ao disparar evento: ${m.body}`)}catch(u){throw Error("Erro ao disparar evento")}}function servicesArrayToString_e(u){return u.map(u=>`${u.sellerId}|${u.originId}|${u.productCode}|${u.name}|${u.code}`).join("#")}var eo=m(40791),ei=m(48649),ea=m(19017),es=m(35301),ec=m(77921),eu=m(67294);function useIsMounted_o(){let[u,l]=(0,eu.useState)(!1);return(0,eu.useEffect)(()=>{l(!0)},[]),u}var ed=m(48930),el=m(64529),em=m(782);let useProductInCart_d=u=>u.map(u=>({codigo:u.code,di:u.offerId,id_marketplace:parseInt(u.idMarketPlace),mercadoria_codigo:parseInt(u.tagCode),oferta:!!u.offerId,quantidade:1})),useProductInCart_a=u=>({code:parseInt(u.code),id:parseInt(u.sellerId),offer_id:parseInt(u.offerId),quantity:1,services:[],tag_code:parseInt(u.tagCode)}),ep=(0,el.Ue)()((0,em.mW)((0,em.tJ)(u=>({productsInCart:{},productsInCartQuantity:0,serviceAddProduct:void 0,serviceRemoveProduct:void 0,serviceStorage:void 0,remove:l=>(function(u,l){let m=ep.getState()?.productsInCart;l(l=>(u.forEach(u=>{ep.getState()?.serviceRemoveProduct?.remove(u),delete m[parseInt(u.code)]}),{...l,productsInCartQuantity:Object.keys(m).length,productsInCart:{...l.productsInCart,productsInCart:m}}))})(l,u),add:async(l,m)=>await async function(u,l,m){let p={};await ep.getState()?.serviceAddProduct?.add({id_cliente:l.id_cliente,produtos:useProductInCart_d(u),session:l.session}),u.forEach(u=>{p={...p,[u.code]:useProductInCart_a(u)}}),m(u=>{let l={...u.productsInCart,...p},m=Object.keys(l).length;return{...u,productsInCartQuantity:m,productsInCart:l}})}(l,m,u),init:l=>(function(u,l){let{serviceAddProduct:m,serviceRemoveProduct:p,serviceStorage:f}=u,g=(u=>{let l=u.get({name:"sellers"})??"",m=servicesStringToArray_e(u),p=sellersObjToArray_e(sellersStringToObj_e(l,m)),f={};return p?.forEach(u=>{u.origins.forEach(u=>{u.products.forEach(u=>{f={...f,[u.code]:u}})})}),f})(f);l(u=>({...u,productsInCart:g,productsInCartQuantity:Object.keys(g).length,serviceAddProduct:m,serviceRemoveProduct:p}))})(l,u),setServiceAddProduct:l=>{u(u=>({...u,serviceAddProduct:l}))},setServiceRemoveProduct:l=>{u(u=>({...u,serviceRemoveProduct:l}))},setServiceStorage:l=>{u(u=>({...u,serviceStorage:l}))}}),{name:"kbm_product_incart"}),{name:"useProductInCart"})),ef=(0,el.Ue)()((0,em.mW)(u=>({loading:!0,timestamp:0,setLoading:l=>u(u=>({...u,loading:l})),setTimestamp:l=>u(u=>({...u,timestamp:l}))}),{name:"useTimestamp"}));var eg=m(42230),ev=m(88513),eh=m(61146),e_=m(61474);let banner_n=u=>({main:{banner:u.main.banner,link:u.main.link,targetBlank:u.main.target_blank,title:u.main.titulo}});var ey=m(64593),eE=m(44634),eb=m(55050),ew=m(95474),eI=m(63718);function banner_e(u){return{title:u.titulo,titleMobile:u.titulo_mobile,bannerWeb:u.banner_web,bannerMobile:u.banner_mobile,link:u.link,linkMobile:u.link_mobile}}var eS=m(15857),eC=m(22328);let autocomplete_r=async(u,l,m,p)=>{try{let f=(0,J.c)(m,!0),g=`${m.BACKEND_CATALOG_SEARCH}`,{data:v}=await f.get(g,{params:{query:u,page_size:5,sort:"most_searched",variant:l,is_prime:p}}),h=v.data;return h&&0!==h.length?h.map(u=>{let{attributes:l,id:m}=u;return{codigo:m,nome:l.title,imagem:l.images?.[0],url_descricao:`/produto/${m}`}}):[]}catch(u){throw(0,W._)(m,u,"BUSCA")}};async function banner_listagem_s(u,l){try{let m=(0,J.c)(u,!0),{data:f}=await m.get(`${p.default.services.MS_BANNER}/v3/banner-listagem?menu=${l}`);return banner_n(f)}catch(m){let l=(0,W._)(u,m,"GET BANNER LISTAGEM SERVICE");throw console.log(l),l}}var eT=m(28812);async function banner_o(u,l,m){let p=u.BACKEND_BANNER_V5;try{let f=(0,J.c)(u,!0),{data:g}=await f.get(`${p}/${l}?plataforma=web&${m}`);return banner_e(g)}catch(l){throw(0,W._)(u,l,"GET V5 BANNER SERVICE")}}var eA=m(29668),eL=m(86022),eP=m(64509),eN=m(47481),eD=m(42144),ek=m(39899),eO=m(42164),ex=m(2133)},64593:function(u,l,m){m.d(l,{J:function(){return o}});let o=(u,l,m)=>{let p=[],f=[];return u?.length>0&&(p=u.map(u=>({code:u.codigo,name:u.nome,slug:u.amigavel,countChildren:u.count_filhos,image:u.imagem}))),l?.length>0&&(f=l?.map(u=>({active:u.ativo,code:u.codigo,content:u.conteudo,position:u.ordem}))),{code:m?.codigo,list:p,seo:f}}},95474:function(u,l,m){m.d(l,{f:function(){return e}});let e=({email:u,test:l,requestInformation:m,transactionId:p,type:f,name:g})=>({identifier:u,test:l,requestInformation:m,purposes:[{id:p,TransactionType:f}],dsDataElements:{Nome:g}})},22328:function(u,l,m){m.d(l,{Z:function(){return t}});var p=m(67294),f=m(23059);function t({MobileComponent:u,DesktopComponent:l,minDesktopWidth:m=1024,cookieIsMobile:g,...v}){let h=new f.Z,[_,y]=(0,p.useState)(!!g);return(0,p.useEffect)(()=>{let u;function i(){clearTimeout(u),u=setTimeout(()=>{window.innerWidth<m?(y(!0),h.set("isMobile",!0)):(y(!1),h.remove("isMobile"))},300)}return window.innerWidth&&window.innerWidth<m?(y(!0),h.set("isMobile",!0)):(y(!1),h.remove("isMobile")),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]),p.createElement(p.Fragment,null,_?p.createElement(u,{...v}):p.createElement(l,{...v}))}},29668:function(u,l,m){m.d(l,{C:function(){return o}});var p=m(9439),f=m(55290);m(47041);var g=m(64593);let o=async(u="",l)=>{try{let m=(0,f.c)(l,!0),p=l.BACKEND_CATEGORIAS;u&&(p+=`/${u}`);let v=sessionStorage.getItem(`kbm_categories_${u}`);if(v)return JSON.parse(v);let{data:h}=await m.get(`${p}?ativo=1`),{categorias:_,seo:y,atual:E}=h||{},b=(0,g.J)(_,y,E);return sessionStorage.setItem(`kbm_categories_${u}`,JSON.stringify(b)),b}catch(u){throw(0,p._)(l,u,"GET CATEGORIES")}}},42144:function(u,l,m){m.d(l,{A:function(){return e}});var p=m(87066),f=m(95474);async function e(u){let l=(0,f.f)(u);l.test||delete l.test,await p.default.post("https://privacyportal-br.onetrust.com/request/v1/consentreceipts",l)}},2133:function(u,l,m){var p,f;m.d(l,{W:function(){return p}}),(f=p||(p={})).CONFIRMED="CONFIRMED",f.WITHDRAWN="WITHDRAWN"}}]);
//# sourceMappingURL=2173-1afede4048e21d80.js.map
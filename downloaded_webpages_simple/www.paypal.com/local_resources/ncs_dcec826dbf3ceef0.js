(function e(t){const n=e=>{let t,n=document.cookie.match(new RegExp("(^| )"+(e||"cookie_prefs")+"=([^;]+)"));return n&&(t=n[2]),t},o=e=>{const t=n(e);return cookiePrefsValue=t&&decodeURIComponent(t)&&decodeURIComponent(t).split(",").reduce((e,t)=>{const[n,o]=t.split("=");return n&&o&&(e[n]=o),e},{}),cookiePrefsValue},i=(e,n)=>{const o=t.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open("POST",n,!0);const i={cookieList:e};o.withCredentials=!0,o.setRequestHeader("Accept","*/*"),o.setRequestHeader("Access-Control-Allow-Origin","*"),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(i))},s=e=>{let t=document.cookie&&document.cookie.split(";"),n=t&&t.map(e=>e&&e.split("=")[0]&&e.split("=")[0].trim()),o=e.filter(e=>e.endsWith("*")).map(e=>e.trim().substring(0,e.length-1)),i=document.location.hostname,s=[i];for(var c=0;c<i.length;c++)"."==i.charAt(c)&&s.push(i.substring(c));s.pop(),n&&n.forEach(t=>{e.indexOf(t)<0&&!(o.length>0&&o.some(e=>t.startsWith(e)))&&(document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie=t+"=; ; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",s.forEach(e=>{document.cookie=t+`=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=${e}`}))})},cookieFilter=(e,n,i)=>{try{if(i||(i=o(n)),t.cookiemapping&&(t.cookiemapping[e]||t.cookiemapping.default))c(e,i);else{let t=document.createElement("script");t.setAttribute("id","cookieMapping"),t.src=`https://www.paypalobjects.com/ncs/${e}/mapping.js`,document.head.appendChild(t),t.addEventListener("load",()=>{c(e,i)})}}catch(e){}},c=(e,n)=>{let{essential:o,functional:c,marketing:a,performance:d,filterAPI:l,isClientCookies:r}=t.cookiemapping[e]||t.cookiemapping.default||{};if(r||l){let e=[...o];n&&"1"===n.F&&(e=[...e,...c]),n&&"1"===n.P&&(e=[...e,...d]),n&&"1"===n.T&&(e=[...e,...a]),r&&document.cookie&&s(e),l&&i(e,l)}};function a(e,t){try{return eval(e)}catch(t){if("window.i18nUtils.getLocale()"===e)return"en"}return e}function d(e,i,s,c,d,l=!1){const r=s&&"paypal-eightfold"===s;let p=e.language,m=e.country;if(r&&(p=a(e.language,s),m=a(e.country,s)),!e||!m||!p)return;let g=c.cookiePrefsString,y=o(g);const h=y&&y.type&&y.type.includes("explicit");if("CookieBanner"==i&&(cookieFilter(s,g,y),setTimeout(function(){cookieFilter(s,g)},3e3),h&&"paypal"!==s))return!0;let f={cookie:""},k=n(g);k&&(f.cookie=`${c.cookiePrefsString||"cookie_prefs"}=${k}`),f=JSON.stringify(f),c=JSON.stringify(c);const b={showBanner:!0,country:m,language:p,policyType:i,originalHeaders:f,tenant:s,tenantData:c},C=!1===e.isProd?e.stageUrl||"":"https://www.paypal.com";let M=Object.keys(b).map(function(e){return e+"="+b[e]}).join("&");const E=t.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");E.open("GET",`${C}/myaccount/privacy/cookieprefs/getBanner?${M}`,!0),E.withCredentials=!0,E.setRequestHeader("Accept","*/*"),E.setRequestHeader("Access-Control-Allow-Origin","*"),E.onreadystatechange=function(){if(E.readyState>3)if(200===E.status){const e=JSON.parse(E.response);let{css:t,js:n,html:o,cookies:s}=e;if(t&&n&&o)if("Settings"==i){let e=document.getElementById("settingsContent"),i=document.createElement("script");e.innerHTML=o+t,i.setAttribute("id","settingsScript"),i.setAttribute("nonce",d),i.innerHTML=n,document.body.appendChild(i),l||u()}else{let e=document.createElement("script"),i=document.createElement("div");cssElement=document.createElement("div"),cssElement.innerHTML=t,i.innerHTML=o,e.setAttribute("id","bannerScript"),e.setAttribute("nonce",d),e.innerHTML=n.replace(/(<([^>]+)>)/gi,""),document.body.appendChild(cssElement),document.body.appendChild(i),document.body.appendChild(e)}s&&Object.keys(s).map(e=>{const t=s[e].options&&s[e].options.domain,n=s[e].options&&s[e].options.SameSite,o=s[e].options&&s[e].options.Secure;document.cookie=e+"="+encodeURIComponent(s[e].value||"")+"; max-age="+s[e].options.maxAge/1e3+"; path=/; "+(t?"domain="+t:"")+(n?`; SameSite=${n}`:"")+(o?"; Secure":"")})}else"Settings"==i&&document.getElementById("settingsContent")&&(document.getElementById("settingsContent").innerHTML="Please try again")},E.setRequestHeader("Content-Type","application/json"),E.send(JSON.stringify(null)),"Settings"==i&&document.getElementById("settingsContent")&&(document.getElementById("settingsContent").innerHTML="Loading...")}const triggerCookieFilter=()=>{const{tenant:e,tenantData:t={}}=l();let n=t.cookiePrefsString;cookieFilter(e,n)},l=()=>{const e=document.getElementById("policy-data");return e&&e.innerHTML?JSON.parse(e.innerHTML):{}};function triggerncs(){const e={CookieBanner:d,Settings:r},t=l(),{policies:n,poolicyData:o,tenant:i,tenantData:s={},policyData:c}=t;let{nonce:a}=t;a=document.getElementById("policy-data")&&document.getElementById("policy-data").nonce||a,n&&n.length>0&&n.forEach(t=>{const n=e[t];n&&n(o||c,t,i,s,a)})}function r(){document.addEventListener("DOMContentLoaded",function(e){manageCookiePreferences(!0)})}function manageCookiePreferences(e=!1){const t=document.getElementById("policy-data"),n=t&&t.innerHTML?JSON.parse(t.innerHTML):{},{tenant:o,tenantData:i={},poolicyData:s}=n;let{nonce:c,policyData:l}=n;c=document.getElementById("policy-data")&&document.getElementById("policy-data").nonce||c,l=l||s;const r=o&&"paypal-eightfold"===o;let u=l.language,p=l.country;if(r&&(p=a(l.country,o),u=a(l.language,o)),!l||!p||!u)return!1;const m=document.getElementById("settingsModal");if(m)return m.style.display="block",!1;let g=document.createElement("div");g.setAttribute("id","settingsModal");let y=document.createElement("div");if(e){let e=document.getElementById("manageCookies");e||(e=document.createElement("div"),e.setAttribute("id","manageCookies"),document.body.appendChild(e)),g.innerHTML='<div id="settingsContent">Loading...</div>',y.innerHTML='<style type="text/css">#settingsContent{width: 60%;margin: 0 auto;padding-top:15px;}\n    .cookieAction{box-shadow: none;margin: 1em 0;}\n    @media only screen and (max-width: 992px) {#settingsContent{width: 75%}}\n    @media only screen and (max-width: 768px) {\n      #settingsContent{width: 90%}      \n    }</style>',e.appendChild(g),e.appendChild(y)}else g.innerHTML='<div class="settingsModalContent"><div class="settingsModal_header"><button id="settingsModalClose" aria-label="close" class="cookieBanner_close-button"/></div><div id="settingsContent">Loading...</div></div>',y.innerHTML='<style type="text/css">#settingsModal{\n        z-index: 9999;\n        position: fixed;\n        top:0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0,0,0,0.1);\n        -webkit-font-smoothing: antialiased;\n        font-size: 16px;\n      }\n      .settingsModalContent{\n        width: 50%;\n        height: 100%;\n        background-color: white;\n        position: fixed;\n        right: 25%;\n        border: 1px solid lightgrey;\n        overflow: scroll;\n        padding: 0 2em 0 2em;\n        box-sizing: border-box;\n      }\n      .settingsModal_header button.cookieBanner_close-button{\n        position: relative;\n        font-size: 1.5em;\n        background: transparent;\n        border: none;\n        top: 0.66em;\n        cursor: pointer;\n        outline: none;\n        padding: 0;\n        width: 2em;\n        height: 2em;\n        float: right;\n        right: -0.66em;\n      }\n\n    #settingsModalClose:focus{\n        outline: 3px solid #0070BA;\n    }\n        \n    .settingsModal_header button.cookieBanner_close-button::before{\n      content: "\\2715";\n    }\n    .settingsModal_header{\n      position: sticky;\n      top: 0em;\n      height: 4em;\n      background: #FFFFFF;\n    }\n    @media only screen and (max-width: 1024px) {\n        .settingsModalContent{\n          width: 70%;\n          right: 15%;\n        }\n      }\n      @media only screen and (max-width: 768px) {\n        .settingsModalContent{\n          width: 100%;\n          right: 0;\n          padding: 0 1em 0 1em;\n        }\n\n        .settingsModal_header button.cookieBanner_close-button{\n          right: 0;\n        }\n      }\n    </style>',document.body.appendChild(g),document.body.appendChild(y),document.getElementById("settingsModalClose")&&(document.getElementById("settingsModalClose").onclick=function(){document.getElementById("settingsModal").style.display="none"});return d(l,"Settings",o,i,c,e),!1}const u=(e=document.getElementById("settingsModal"),t=document.activeElement)=>{const n=Array.from(e.querySelectorAll('input[type="checkbox"],button')),o=n[0],i=n[n.length-1];let s=null;o.focus(),s=o,document.addEventListener("focus",e=>{(e.preventDefault(),n.includes(e.target))?(s=e.target,document.querySelector("#submitCookiesBtn").getBoundingClientRect().top<document.activeElement.getBoundingClientRect().bottom&&document.activeElement.scrollIntoView({block:"center"})):(s===o?i.focus():o.focus(),s=document.activeElement)},!0)};triggerncs(),t.triggerncs=triggerncs,t.cookieFilter=cookieFilter,t.triggerCookieFilter=triggerCookieFilter,t.manageCookiePreferences=manageCookiePreferences})(window);
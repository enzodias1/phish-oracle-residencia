(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9923],{9923:function(e,t,i){"use strict";i.d(t,{Z:function(){return ed}});var o=i(52322),r=i(2784),n=i(81308),l=i(29845),s=i(12524),a=i.n(s),d=i(61701),u=i(62995),c=i(46882),f=i(59893),m=i(5409),v=i(46208),p=i(52470),g=i(69779);let b="bitrix",T="b24:form:init",E="b24:form:field:focus",A="b24:form:send:success",_="b24:form:submit",C={b2b:{ru:"https://cdn-ru.bitrix24.ru/b27377444",kzkk:"https://cdn-ru.bitrix24.ru/b27377444",kz:"https://cdn-ru.bitrix24.ru/b27377444",other:"https://cdn.bitrix24.eu/b30707545"},b2c:{ru:"https://cdn-ru.bitrix24.ru/b31683250",kzkk:"https://cdn-ru.bitrix24.ru/b31683250",kz:"https://cdn-ru.bitrix24.ru/b31683250",other:"https://cdn.bitrix24.eu/b31686457"}},h="CONTACT_UF_CRM_COUNTRY",M="CONTACT_UF_CRM_MINDBOXDEVICEUUID",w="CONTACT_EMAIL",F="CONTACT_UF_CRM_GEOIP_COUNTRY",y="CONTACT_UF_CRM_COMPANY",N="CONTACT_UF_CRM_COMPANY_TAX_ID",S=[M,F],I=S.concat(N),L={[w]:250,[y]:255,[N]:50,CONTACT_NAME:50,CONTACT_POST:128,CONTACT_UF_CRM_PRODUCT_INTEREST:255,CONTACT_UF_CRM_FORM_QUESTION_2:255,CONTACT_UF_CRM_FORM_QUESTION_3:255,CONTACT_UF_CRM_FORM_QUESTION_5:255},k={AM:"49",AZ:"47",BY:"51",GE:"53",KZ:"55",KG:"57",MN:"59",RU:"45",TJ:"61",TM:"63",UZ:"65"},x={},O={b2b:{ru:k,kzkk:k,kz:k,other:{AD:"636",AE:"1076",AF:"626",AG:"644",AI:"640",AL:"630",AN:"928",AO:"638",AQ:"642",AR:"646",AS:"634",AT:"652",AU:"650",AW:"648",AX:"628",BA:"676",BB:"660",BD:"658",BE:"662",BF:"692",BG:"690",BH:"656",BI:"694",BJ:"666",BL:"984",BM:"668",BN:"688",BO:"672",BQ:"28",BR:"682",BS:"654",BT:"670",BV:"680",BW:"678",BZ:"664",CA:"700",CC:"716",CD:"722",CF:"706",CG:"724",CH:"1044",CI:"730",CK:"726",CL:"710",CM:"698",CN:"712",CO:"718",CR:"728",CU:"734",CV:"702",CW:"736",CX:"714",CY:"738",CZ:"740",DE:"788",DJ:"744",DK:"742",DM:"746",DO:"748",DZ:"632",EC:"750",EE:"760",EG:"752",EH:"1094",ER:"758",ES:"1032",ET:"764",FI:"772",FJ:"770",FK:"766",FM:"904",FO:"768",FR:"774",FX:"79",GA:"784",GB:"1078",GD:"798",GG:"804",GH:"790",GI:"792",GF:"778",GL:"796",GM:"786",GN:"806",GQ:"756",GP:"800",GR:"794",GS:"1028",GT:"802",GW:"808",GY:"810",HK:"818",HM:"814",HN:"816",HR:"732",HT:"812",HU:"820",ID:"826",IE:"832",IL:"836",IM:"834",IN:"824",IO:"684",IQ:"830",IR:"828",IS:"822",IT:"838",JE:"844",JM:"840",JO:"846",JP:"842",KE:"850",KH:"696",KI:"852",KM:"720",KN:"988",KP:"848",KR:"854",KW:"858",KY:"704",LA:"860",LB:"864",LC:"990",LI:"872",LK:"1034",LR:"868",LS:"866",LT:"874",LU:"876",LV:"862",LY:"870",MA:"914",MC:"908",MD:"906",ME:"910",MF:"992",MG:"880",MH:"892",MK:"944",ML:"888",MM:"918",MO:"878",MQ:"894",MP:"946",MR:"896",MS:"912",MT:"890",MU:"898",MV:"886",MW:"882",MX:"902",MY:"884",MZ:"916",NA:"920",NC:"930",NE:"936",NG:"938",NI:"934",NF:"942",NL:"926",NO:"948",NP:"924",NR:"922",NU:"940",NZ:"932",OM:"950",PA:"958",PE:"964",PF:"780",PG:"960",PH:"966",PK:"952",PL:"970",PM:"994",PN:"968",PR:"974",PS:"956",PT:"972",PW:"954",PY:"962",QA:"976",RE:"978",RO:"980",RS:"1008",RW:"982",SA:"1004",SB:"1022",SC:"1010",SD:"1036",SE:"1042",SG:"1014",SH:"986",SI:"1020",SJ:"1040",SK:"1018",SL:"1012",SM:"1000",SN:"1006",SO:"1024",SR:"1038",SS:"1030",ST:"1002",SV:"754",SX:"1016",SY:"1046",SZ:"762",TC:"1068",TD:"708",TF:"782",TG:"1056",TH:"1052",TK:"1058",TL:"1054",TN:"1064",TO:"1060",TR:"1066",TT:"1062",TV:"1070",TW:"1048",TZ:"1050",UA:"1074",UG:"1072",UY:"1082",VA:"1086",VC:"996",VE:"1088",VG:"686",VI:"1080",VN:"1090",VU:"1084",WF:"1092",WS:"998",XA:"2758",XK:"856",XO:"2776",YE:"1096",YT:"900",YU:"1098",ZA:"1026",ZM:"1100",ZW:"1102"}},b2c:{ru:x,kzkk:x,kz:x,other:{}}},R={loading:"loading",ready:"ready",error:"error"};var B=i(83407),U=i(75626);let G=e=>"".concat(e[0].toUpperCase()).concat(e.slice(1)),P=e=>"0"!==(e||"")[0]&&!!(e||"").match(/^\d+$/),D=e=>t=>(t||"").length<=e,K=e=>t=>!!(t&&e.length&&!e.find(e=>e&&(null==e?void 0:e.toLowerCase())===(t.split("@")[1]||"").toLowerCase())),H=(e,t,i,o)=>{if(e&&"function"==typeof e.setProperty){let r={...i,...t},n=Object.keys(r);n.length>0?n.forEach(t=>e.setProperty(t,r[t])):o&&e.setProperty(U.dG.utm_source,o)}},V=(e,t,i,o,r)=>{if(e&&"function"==typeof e.getFields){let n=e.getFields();(null==n?void 0:n.length)&&n.forEach(e=>{if(e&&e.id&&e.messages&&e.messages.language&&e.messages.messages&&"object"==typeof e.messages.messages[e.messages.language]){let n="data-kaspersky-bitrix-modifier-FIELD-ID-".concat(e.id);if("integer"===e.type&&(null==t?void 0:t.length)&&!L[e.id]&&t.includes(e.id)&&i){let t="".concat(e.type," data-kaspersky-bitrix-modifier-NATURAL-FIX ").concat(n),o="fieldErrorInvalid".concat(G(t));e.messages.messages[e.messages.language][o]=i,e.type=t,e.validators.push(P)}else if("integer"!==e.type&&"bool"!==e.type&&"list"!==e.type&&L[e.id]){if(e.id==w&&(null==o?void 0:o.length)){let t="".concat(e.type," data-kaspersky-bitrix-modifier-BUSINESS-EMAILS data-kaspersky-bitrix-modifier-MAX-LENGTH-FIX-").concat(L[e.id]," ").concat(n),i="fieldErrorInvalid".concat(G(t));r?e.messages.messages[e.messages.language][i]=r:e.messages.messages[e.messages.language][i]=e.messages.messages[e.messages.language]["fieldErrorInvalid".concat(G(e.type))],e.type=t,e.validators.push(D(L[w])),e.validators.push(K(o))}else{let t=e.type,i="".concat(e.type," data-kaspersky-bitrix-modifier-MAX-LENGTH-FIX-").concat(L[e.id]," ").concat(n),o="fieldErrorInvalid".concat(G(i)),r=e.messages.messages[e.messages.language]["fieldErrorInvalid".concat(G(t))];e.messages.messages[e.messages.language][o]=r,e.type=i,e.validators.push(D(L[e.id]))}}}})}},X=(e,t)=>{var i;t&&(null==e?void 0:null===(i=e.redirect)||void 0===i?void 0:i.url)&&(e.redirect.url=t)},W=(e,t,i)=>{if(e&&"function"==typeof e.getFields&&t&&i[t]){let o=e.getFields();if(null==o?void 0:o.length){let r=o.find(e=>(null==e?void 0:e.id)===h);r&&e.setValues({[h]:i[t]})}}},Z=(e,t,i)=>e&&t&&i&&e.identification&&e.identification.id===t&&e.identification.sec===i,j=e=>!(null==e?void 0:e.disabled),Y=(e,t)=>{if(e&&"function"==typeof e.getFields&&t){let e=Array.from(t.querySelectorAll('[class*="data-kaspersky-bitrix-modifier-MAX-LENGTH-FIX-"]'));e.forEach(e=>{let t=null==e?void 0:e.querySelector("input,textarea");if(t){let i=parseInt((e.getAttribute("class")||"").split("data-kaspersky-bitrix-modifier-MAX-LENGTH-FIX-")[1]||"",10);i&&t.setAttribute("maxlength","".concat(i))}})}},J=(e,t,i)=>{let o={data:0},r={state:void 0},n={},l=async t=>{let i=++o.data;try{if(n[t])return{...n[t],query:t};if(await new window.Promise(e=>setTimeout(()=>e(!0),240)),i===o.data){let r=await window.fetch("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/party",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Token "+e},body:window.JSON.stringify({query:t,count:20})});if(r.ok&&(n[t]=await r.json(),i===o.data))return{...n[t],query:t}}}catch(e){}return{}},s=(e,t,i,n)=>()=>{let{value:l}=n||{},s=(l||"").trim(),d=s.substring(0,L[y]);d&&(((e.items||[])[0]||{}).value=d,t.setAttribute("data-dropdown-state","hide"),t.setAttribute("data-dropdown-count","empty"),a(i,[],void 0,void 0),r.state=n,o.data++)},a=(e,t,i,o)=>{let r=t.length&&o&&i?'\n      <div class="b24-form-dropdown-container" style="margin-top: 0px;">\n        <div>\n          '.concat(t.map(e=>{var t;let{value:i,data:o}=e,r=(i||"").trim(),n=[((null==o?void 0:o.inn)||"").trim(),((null==o?void 0:null===(t=o.address)||void 0===t?void 0:t.value)||"").trim()].filter(Boolean).join(", ");return'\n                <div class="b24-form-control-list-selector-item">\n                  <div class="b24-form-control-list-selector-item-title">\n                    '.concat(r?"<span>".concat(r,"</span>"):"","\n                    ").concat(n?"<span data-b24-form-control-list-selector-item-subtitle>".concat(n,"</span>"):"","\n                  </div>\n                </div>\n              ")}).join(""),"\n        </div>\n      </div>"):"";if(e.innerHTML=r,t.length&&o&&i&&e){let r=Array.from(e.querySelectorAll(".b24-form-control-list-selector-item"));r.forEach((r,n)=>{let l=s(o,i,e,t[n]);r.addEventListener("click",l,!1)})}},d=(e,t,i)=>o=>{(async()=>{r.state=void 0;let n=null==o?void 0:o.target;if(n){let o=(n.value||"").trim();if(o){let{suggestions:r,query:n}=await l(o);if(n!==o)return;if(r.length&&"hide"!==t.getAttribute("data-dropdown-state")){a(i,r,t,e),t.setAttribute("data-dropdown-count","fill");return}}}a(i,[],void 0,void 0),t.setAttribute("data-dropdown-count","empty")})()},u=(e,t,i,o)=>n=>{null==n||!n.target||i.contains(n.target)||o.contains(n.target)||window.document.activeElement===o||(t.setAttribute("data-dropdown-state","hide"),r.state||(t.setAttribute("data-dropdown-count","empty"),a(i,[],void 0,void 0),((e.items||[])[0]||{}).value=""))},c=e=>()=>{e.setAttribute("data-dropdown-state","show")};if(t&&"function"==typeof t.getFields&&i){let e=t.getFields();(null==e?void 0:e.length)&&e.forEach(e=>{let t=null==e?void 0:e.id;if(t===y){let t=i.querySelector(".data-kaspersky-bitrix-modifier-FIELD-ID-".concat(y));if(t){let i=t.querySelector("input");if(i){let o=t.querySelector(".b24-form-control-alert-message");if(o&&o.parentNode){let r=window.document.createElement("div");r.setAttribute("class","b24-form-dropdown"),t.setAttribute("data-dropdown-state","show"),t.setAttribute("data-dropdown-count","empty"),o.parentNode.insertBefore(r,o.nextSibling),i.addEventListener("input",d(e,t,r),!1),i.addEventListener("focus",c(t),!1),window.document.addEventListener("click",u(e,t,r,i),!1)}}}}})}return r},q=(e,t,i)=>{if(e&&"function"==typeof e.getFields&&t){let o=e.getFields();(null==o?void 0:o.length)&&i.forEach(e=>{let i=o.find(t=>(null==t?void 0:t.id)===e);if(i&&i.label){var r;let e=null===(r=Array.from(t.querySelectorAll(".b24-form-field .b24-form-control-label")).find(e=>{var t;return(null==e?void 0:null===(t=e.innerText)||void 0===t?void 0:t.trim())===i.label}))||void 0===r?void 0:r.closest(".b24-form-field");e&&e.setAttribute("data-hidden-field","true")}})}},z=(e,t,i)=>{if(e&&"function"==typeof e.getFields){let o=e.getFields();(null==o?void 0:o.length)&&i.forEach(e=>{let i=o.find(t=>(null==t?void 0:t.id)===e);i&&(i.visible=!!t,i.required=!1)})}},Q=e=>{if(e&&"function"==typeof e.getFields){let t=e.getFields();if(null==t?void 0:t.length){let i=t.find(e=>(null==e?void 0:e.id)===M);if(i){let t=B._.getCookie("mindboxDeviceUUID");t&&e.setValues({[M]:t})}}}},$=(e,t)=>{if(e&&"function"==typeof e.getFields){let i=e.getFields();if((null==i?void 0:i.length)&&t){let o=i.find(e=>(null==e?void 0:e.id)===F);o&&e.setValues({[F]:t})}}},ee=(e,t)=>{var i,o,r,n;if(e&&"function"==typeof e.getFields&&(null==t?void 0:null===(o=t.state)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.inn)){let i=e.getFields();if(null==i?void 0:i.length){let o=i.find(e=>(null==e?void 0:e.id)===N);o&&e.setValues({[N]:null==t?void 0:null===(n=t.state)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.inn})}}};var et=i(6751),ei=i.n(et),eo=(0,u.D2)(ei(),{name:b})(e=>{let{config:t,styles:i={},redirectTo:n,className:l,formStateHandler:s,formSubmittedHandler:u}=e,{isSiteEditor:b,domain:h,countryGeoIP:M,externalServices:w,utmParams:F}=(0,r.useContext)(m.Z),{dadata:y}=w||{},{id:N,sec:L,businessType:k,naturalFields:x,naturalFieldErrorInvalid:B,hideSubmitMessage:U,emailsValidationError:G,validEmails:P,showCompaniesSelector:D}=t||{},K="b2c"===k||"b2b"===k?k:"b2b",et=(0,g.M)("bitrix-form"),ei=(0,r.useRef)(null),[eo,er]=(0,r.useState)(R.loading),en=(0,r.useMemo)(()=>null==x?void 0:x.map(e=>null==e?void 0:e.trim()).filter(Boolean),[x]);return((0,r.useEffect)(()=>{if(b||!N||!L)return;let e={selectedSuggestion:void 0};er(R.loading);let t=setTimeout(()=>{c.ZP.error(null,c.iR.BITRIX_FORMS_TIMEOUT,"Form was not loaded within ".concat(5e3," ms"),{id:N,sec:L})},5e3),i=e=>{var i;let o=null==e?void 0:null===(i=e.detail)||void 0===i?void 0:i.object;if(o&&Z(o,N,L)){if(j(o)){clearTimeout(t);let e=(0,v.Ux)(),i=(0,v.cV)();H(o,F.current,e,i),W(o,M,O[K][h]||O[K].other),z(o,!1,D?I:S),V(o,en,B,P,G),er(R.ready),s&&s(!0)}else c.ZP.error(null,c.iR.BITRIX_FORMS,"Form was not loaded",{id:N,sec:L}),er(R.error)}},o=t=>{var i;let r=null==t?void 0:null===(i=t.detail)||void 0===i?void 0:i.object;r&&Z(r,N,L)&&(Y(r,ei.current),z(r,!0,D?I:S),D&&(null==y?void 0:y.apiKey)&&(e.selectedSuggestion=J(y.apiKey,r,ei.current)),window.requestAnimationFrame(()=>{q(r,ei.current,D?I:S)}),window.removeEventListener(E,o))},r=e=>{var t,i;let o=null==e?void 0:null===(t=e.detail)||void 0===t?void 0:t.object,r=null==e?void 0:null===(i=e.detail)||void 0===i?void 0:i.data;Z(o,N,L)&&(X(r,n),u&&u(!0))},l=t=>{var i;let o=null==t?void 0:null===(i=t.detail)||void 0===i?void 0:i.object;Z(o,N,L)&&(Q(o),$(o,M),D&&ee(o,e.selectedSuggestion))};return window.addEventListener(T,i),window.addEventListener(E,o),window.addEventListener(A,r),window.addEventListener(_,l),(0,f.v)("".concat(C[K][h]||C[K].other,"/crm/form/loader_").concat(N,".js?").concat(Date.now()/18e4|0),!0),()=>{clearTimeout(t),window.removeEventListener(T,i),window.removeEventListener(E,o),window.removeEventListener(A,r),window.removeEventListener(_,l)}},[y,D,K,h,M,n,B,P,G,N,L,en,b,s,u,F]),(0,r.useEffect)(()=>{let e=e=>{let t=null==e?void 0:e.target;t&&"function"==typeof t.closest&&"function"==typeof t.scrollIntoView&&t.classList&&window.innerWidth<=530&&(t.classList.contains("b24-form-control-container")||t.classList.contains("b24-form-control"))&&t.closest(".b24-form-field-list")&&t.closest("#".concat(et))&&t.scrollIntoView({block:"center",behavior:"smooth"})};return b||window.document.addEventListener("mouseup",e),()=>{window.document.removeEventListener("mouseup",e)}},[et,b]),b)?(0,o.jsx)("div",{className:i.support,children:"Site Editor doesn't support Bitrix forms yet :("}):N&&L?(0,o.jsxs)("div",{className:a()(i.formWrapper,{[l||""]:l,[i.formWrapperError]:eo===R.error,[i.hideSubmitMessage]:U}),children:[(0,o.jsx)("div",{className:i.form,"data-at-selector":d.JN.bitrixForm,id:et,ref:ei,children:(0,o.jsx)("script",{"data-b24-form":"inline/".concat(N,"/").concat(L),"data-skip-moving":"true"})}),eo===R.loading&&(0,o.jsx)(p.Z,{className:i.loader})]}):null}),er=i(42402),en=i.n(er),el=i(11949),es=i.n(el);let ea={[n.IK.light]:{[b]:es()},[n.IK.dark]:{[b]:en()}};var ed=e=>{let{mode:t,...i}=e,{mode:s}=(0,r.useContext)(l.Z);return(0,o.jsx)(eo,{...i,classes:ea[t||s]||ea[n.IK.light]})}},6751:function(e){e.exports={formWrapper:"BitrixForm_formWrapper__bGYHE",loader:"BitrixForm_loader__HsveJ",support:"BitrixForm_support__gLgvD",form:"BitrixForm_form__hhq_6",formWrapperError:"BitrixForm_formWrapperError__UIZUz",hideSubmitMessage:"BitrixForm_hideSubmitMessage__ktU5u"}},42402:function(e){e.exports={form:"BitrixFormDarkMode_form__5eRqW"}},11949:function(e){e.exports={form:"BitrixFormLightMode_form__r6nQ2"}}}]);
SML.di("./DN8NCGGW.js",import.meta.url,"DN8NCGGW");SML.di("./DVMhF-xZ.js",import.meta.url,"DVMhF-xZ");SML.di("./C9797NkP.js",import.meta.url,"C9797NkP");SML.di("./CElIDZoh.js",import.meta.url,"CElIDZoh");SML.di("./BRXvmgd_.js",import.meta.url,"BRXvmgd_");SML.di("./BsQJl0hY.js",import.meta.url,"BsQJl0hY");SML.di("./21VIldix.js",import.meta.url,"21VIldix");SML.di("./CnZCQZdH.js",import.meta.url,"CnZCQZdH");SML.di("./T7u0QkIY.js",import.meta.url,"T7u0QkIY");SML.di("./C_M_NGfT.js",import.meta.url,"C_M_NGfT");SML.di("./CWi6z3tG.js",import.meta.url,"CWi6z3tG");SML.di("./zrykt2nd.js",import.meta.url,"zrykt2nd");
SML.dm("DugAOtb-",["DN8NCGGW","DVMhF-xZ","C9797NkP","CElIDZoh","BRXvmgd_","BsQJl0hY","21VIldix","CnZCQZdH","T7u0QkIY","C_M_NGfT","CWi6z3tG","zrykt2nd"],(async(e,t,i,a)=>{const n=e.s,r=e=>{e.preventDefault()};let d=class extends n{constructor(){super(...arguments),this.isHamburgerMenuIncluded=!1,this.isLoggedIn=!1,this.showAccountManagerModal=!1,this.hamburgerMenuButton=null,this.menuDialog=null,this.loginButton=void 0,this.shredditInteractableElement=null,this.search=null,this.userDrawerButton=null,this.userDrawerMenu=null,this.userDrawerContent=null,this.userDrawerLoginButton=null,this.advertiseButton=null,this.createAnchor=null,this.recapCampaignLink=void 0,this.mScreenMediaQueryList=window.matchMedia?.("(min-width: 1200px)"),this.cachedIsHamburgerMenuShown=!(this.mScreenMediaQueryList?.matches??1),this.events=new t.E(this),this.googleApiController=new i.G(this),this._track=this.events.define("faceplate-track",(e=>{const{source:t,action:i,noun:a}=e.detail;"nav"===t&&"click"===i&&"create_community"===a&&this._closeDialog()})),this.handleMScreenMediaQueryListChange=({matches:e})=>{e&&this.cachedIsHamburgerMenuShown&&this._closeDialog(),this.cachedIsHamburgerMenuShown=!e},this.handleOpenUserDrawer=e=>{e.stopPropagation(),this._closeDialog(),t.a(this,t.b_())},this.handleCloseUserDrawer=e=>{e?.stopPropagation(),t.a(this,t.b$())},this.setupUserDrawer=async()=>{this.userDrawerButton=this.querySelector("#expand-user-drawer-button"),this.userDrawerMenu=this.userDrawerButton?.closest("rpl-dropdown")??null,this.userDrawerContent=this.querySelector("#user-drawer-content")??null},this.focusSearchInput=()=>{this.search?.shadowRoot?.querySelector("faceplate-search-input")?.focus()},this.handleClickHamburgerMenu=async()=>{await this.initializeHamburgerMenuSlottedElements(),this.menuDialog&&(this.menuDialog.open?this._closeDialog():(this._closeUserDrawer(),this.menuDialog.showModal(),t.a(this,t.bW())),t.a(this,t.bX()))},this.handleSearchDropdownOpen=()=>{this._closeUserDrawer(),this._closeDialog()},this.handleAdvertiseButtonClick=async e=>{const{isAdblockEnabled:i}=await t.dw();if(i){const i=t.c("faceplate-alert",{level:t.a5.notice,message:"To advertise, disable your ad blocker or add reddit.com as an exception."});e.target?.dispatchEvent(i)}},this.initializeHotkeys=()=>{t.d4("shreddit_hotkeys_m1")&&(this.hotkeySubscriberController=new t.d2(this),this.hotkeySubscriberController?.subscribe(t.d5.CREATE_POST,this.onHotkeyCreatePost))},this.cleanupHotkeys=()=>{t.d4("shreddit_hotkeys_m1")&&this.hotkeySubscriberController?.unsubscribe(t.d5.CREATE_POST,this.onHotkeyCreatePost)},this.onHotkeyCreatePost=()=>{this.createAnchor?.click()}}_closeDialog(){this.menuDialog?.open&&(this.menuDialog.hide(),this.reset(),t.a(this,t.bV()))}_closeUserDrawer(){this.userDrawerMenu?.hidden||this.userDrawerMenu?.hide()}connectedCallback(){super.connectedCallback(),this.initializeHotkeys()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListenersFromSlottedElements(),this.cleanupHotkeys()}addEventListenersToSlottedElements(){this.mScreenMediaQueryList?.addEventListener("change",this.handleMScreenMediaQueryListChange),this.userDrawerMenu?.addEventListener("rpl-dropdown:show",this.handleOpenUserDrawer),this.userDrawerMenu?.addEventListener("rpl-dropdown:hide",this.handleCloseUserDrawer),this.advertiseButton?.addEventListener("click",this.handleAdvertiseButtonClick)}removeEventListenersFromSlottedElements(){this.mScreenMediaQueryList?.removeEventListener("change",this.handleMScreenMediaQueryListChange),this.userDrawerMenu?.removeEventListener("rpl-dropdown:show",this.handleOpenUserDrawer),this.userDrawerMenu?.removeEventListener("rpl-dropdown:hide",this.handleCloseUserDrawer)}async initializeHamburgerMenuSlottedElements(){this.isHamburgerMenuIncluded&&(this.menuDialog||(this.menuDialog=this.shadowRoot?.querySelector("slot[name=reddit-header-hamburger-menu]")?.assignedElements({flatten:!0})?.find((e=>e.matches("rpl-dialog#menu")))??null))}initializeSlottedElements(){!this.loginButton&&this.showAccountManagerModal&&(this.loginButton=this.querySelector("a#login-button"),this.loginButton?.addEventListener("click",r)),!this.userDrawerLoginButton&&this.showAccountManagerModal&&(this.userDrawerLoginButton=this.querySelector("#login-list-item"),this.userDrawerLoginButton?.addEventListener("click",(e=>{e.preventDefault(),this._closeUserDrawer()}))),this.search||(this.search=this.querySelector("reddit-search-large"),this.search?.addEventListener(a.bk,this.handleSearchDropdownOpen)),this.userDrawerButton||this.setupUserDrawer(),this.advertiseButton||(this.advertiseButton=this.querySelector("#advertise-button")),t.d4("shreddit_hotkeys_m1")&&!this.createAnchor&&(this.createAnchor=this.querySelector("#create-post")),!this.recapCampaignLink&&this.loginButton&&(this.recapCampaignLink=this.querySelector("a#recap-entrypoint"),this.recapCampaignLink?.addEventListener("click",r))}reset(){this.menuDialog?.scrollTo(0,0)}static get styles(){return[t.t]}firstUpdated(){this.initialize()}async initialize(){this.hamburgerMenuButton||(this.hamburgerMenuButton=this.querySelector("#navbar-menu-button"),this.hamburgerMenuButton?.addEventListener("click",this.handleClickHamburgerMenu)),this.initializeSlottedElements(),this.addEventListenersToSlottedElements(),this.isLoggedIn&&this.googleApiController.initialize()}render(){return e.x` ${this.isHamburgerMenuIncluded?e.x`<slot class="v2" name="reddit-header-hamburger-menu"></slot>`:""} <slot class="v2" name="reddit-search-dialog"></slot> <slot></slot> `}};var s;e._([e.n({type:Boolean,attribute:"is-hamburger-menu-included"})],d.prototype,"isHamburgerMenuIncluded",void 0),e._([e.n({type:Boolean,attribute:"is-logged-in"})],d.prototype,"isLoggedIn",void 0),e._([e.n({type:Boolean,attribute:"show-accountmanager-modal"})],d.prototype,"showAccountManagerModal",void 0),d=e._([e.c("reddit-header-large")],d);let o=s=class extends e.s{constructor(){super(...arguments),this.activationIsEnabled=!1,this.onChatButtonClick=()=>{this.toggleUIState()},this.onChatButtonKeyDown=e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),t.bO("web_chat_widget_auto_focus_from_header_ks")?this.toggleUIState():this.maximizeAndFocusChat())}}getChatClientHost(){return document.querySelector("reddit-chat-host")}async activateFeature(){try{await t.f({name:t.dx})}catch(e){if(!e.message?.endsWith(`${t.dx} not found`))throw e}}async setUIState(){if(s.hasInitialized)return;s.hasInitialized=!0;const e=this.initialView;if(!e)return;this.activationIsEnabled&&(await this.activateFeature()),await window.customElements.whenDefined("reddit-chat-host");const t=this.getChatClientHost();t&&t.setUIState?.(e)}async toggleUIState(){await this.activateFeature();const e=this.getChatClientHost();e&&e.toggleUIState?.()}async maximizeAndFocusChat(){await this.activateFeature();const e=this.getChatClientHost();e&&(e.setUIState?.("maximized"),e.setFocusOnChatWidget())}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.onChatButtonClick),this.addEventListener("keydown",this.onChatButtonKeyDown),this.setUIState()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.onChatButtonClick),this.removeEventListener("keydown",this.onChatButtonKeyDown)}render(){return e.x`<slot></slot>`}};o.hasInitialized=!1,e._([e.n({type:Boolean,attribute:"activation-enabled"})],o.prototype,"activationIsEnabled",void 0),e._([e.n({type:String,attribute:"initial-view"})],o.prototype,"initialView",void 0),o=s=e._([e.c("reddit-chat-header-button")],o);const l="ADS_CTA_TOP_NAV_HIGHLIGHTED";let c=class extends e.s{constructor(){super(...arguments),this.source="nav"}static get styles(){return[t.t]}createRenderRoot(){return this}renderHighlightedCTAExperience(i){const n='closest([slot="close-button"])';return e.x`<rpl-coachmark open no-animate trigger="manual" appearance="primary" placement="bottom" label="Advertise on Reddit" .anchor="${this.querySelector("#advertise-button")}"> <span> ${i} ${a.bl({operation:t.O.StoreUxtargetingAction,triggerElem:"selector(#advertise-button)",variables:{input:{action:t.Z.Click,eligibleExperience:{experienceName:l,experience:t.Y.StringIdExperience}}}})} </span> <rpl-coachmark-card auto-close appearance="neutral" slot="content" class="whitespace-nowrap w-[220px]"> ${t.n({attributes:{type:"button","aria-label":"Close",slot:"close-button"},appearance:"plain",leadingIcon:e.m({size:e.I.Small}),size:t.$.Small})} <ac-track san="ads_upsell|click|highlighted_cta_coachmark_close_button" trigger-elem="${n}"> </ac-track> ${a.bl({operation:t.O.StoreUxtargetingAction,triggerElem:n,variables:{input:{action:t.Z.Dismiss,eligibleExperience:{experienceName:l,experience:t.Y.StringIdExperience}}}})} <span slot="title"> ${"Advertise on Reddit"} </span> <span class="block text-12 pb-xs"> ${"Your audience is already on Reddit, reach them and grow your business with Reddit Ads"} </span> <ac-track trigger="view" san="ads_upsell|view|highlighted_cta_coachmark"></ac-track> </rpl-coachmark-card> </rpl-coachmark>`;}renderExperience(e){return"highlighted_cta"===this.experience?this.renderHighlightedCTAExperience(e):e}render(){const t=e.x`<slot></slot> <ac-track trigger="view" san="${this.source}|view|advertise"></ac-track>`;return this.experience?this.renderExperience(t):t}};e._([e.n({type:String,attribute:"source"})],c.prototype,"source",void 0),e._([e.n({type:String,attribute:"experience"})],c.prototype,"experience",void 0),c=e._([e.c("advertise-button")],c),SML.di("./d23od-dq.js",import.meta.url,"d23od-dq").then((function(e){return e.r}))}));
SML.di("./DN8NCGGW.js",import.meta.url,"DN8NCGGW");SML.di("./DVMhF-xZ.js",import.meta.url,"DVMhF-xZ");SML.di("./DZv2BGTq.js",import.meta.url,"DZv2BGTq");SML.di("./C9797NkP.js",import.meta.url,"C9797NkP");SML.di("./CQH7Zvai.js",import.meta.url,"CQH7Zvai");SML.di("./D-k0IBN0.js",import.meta.url,"D-k0IBN0");SML.di("./CElIDZoh.js",import.meta.url,"CElIDZoh");SML.di("./C27SY6hW.js",import.meta.url,"C27SY6hW");
SML.dm("UPYdRahg",["DN8NCGGW","DVMhF-xZ","DZv2BGTq","C9797NkP","CQH7Zvai","D-k0IBN0","CElIDZoh","C27SY6hW"],(async(e,t,i,s,o,a,n)=>{const r="onboarding",c="google_one_tap";const l=new Set(t.aP.map((e=>t.aA({source:n.G,action:n.D,noun:e})))),p=o.W(e.s);let m=class extends p{constructor(){super(...arguments),this.isEmailPermissionRequired=!1,this.delay=0,this.hasCredentials=!1,this.googleApiController=new s.G(this,s.G.OneTapUX),this.authFlowController=new i.A(this),this.events=new t.E(this),this.showPrompt=async()=>{await new Promise((e=>{this.promptTimeout=setTimeout(e,this.delay)})),await this.googleApiController.initialize(),window.google?.accounts.id.prompt(this.momentListener),t.a(this,t.b({source:r,action:"request",noun:c}))},this.onGoogleCredentialResponse=async e=>{let i;const{credential:o,select_by:a}=e;try{const n=s.G.parseCredentialResponse(e);this.captchaSiteKey&&(i=await this.getRecaptchaToken()),this.authFlowController.identityProviderSigin({authFlow:t.aB.OneTap,email:n.email,idToken:o,isSignedInAutomatically:"auto"===a||"fedcm_auto"===a,provider:t.aQ.Google,recaptchaToken:i,recaptchaAction:this.captchaAction,emailPermissionRequired:this.isEmailPermissionRequired})}catch(e){window.Sentry?.captureException?.(e),this.authFlowController.trackSSOFailure({authFlow:t.aB.OneTap,provider:t.aQ.Google,reason:"unknown"})}},this.momentListener=e=>{if(e.isDismissedMoment()){const i=e.getDismissedReason();"credential_returned"!==i&&console.error(`Google One Tap prompt was dismissed: ${i}`),t.a(this,function(e){return t.b({source:r,action:"dismiss",noun:c},{action_info:{reason:e,success:"credential_returned"===e}})}(i))}},this.onFaceplateResponse=this.events.define("faceplate-response",(e=>{const{response:i}=e.detail,s=a.p(i.url)?.pathname;s===t.aR.IdentityProviderSignin&&i.status!==t.aS.MultipleAccountsFound&&i.status!==t.aS.UserAccountCreated&&i.status!==t.aS.UserLoggedIn&&this.dismiss()})),this.onFaceplateTrack=this.events.define("faceplate-track",(e=>{e.SAN&&l.has(e.SAN)&&this.dismiss()}))}connectedCallback(){super.connectedCallback(),this.showPrompt(),this.insertRecaptchaScript()}disconnectedCallback(){this.promptTimeout&&clearTimeout(this.promptTimeout),super.disconnectedCallback()}reloadThePage(){i.r()}dismiss(){this.parentNode?.removeChild(this)}};e._([e.n({type:Boolean,attribute:"is-email-permission-required"})],m.prototype,"isEmailPermissionRequired",void 0),e._([e.n({type:Number})],m.prototype,"delay",void 0),e._([e.b()],m.prototype,"hasCredentials",void 0),m=e._([e.c("auth-flow-google-one-tap-prompt")],m)}));
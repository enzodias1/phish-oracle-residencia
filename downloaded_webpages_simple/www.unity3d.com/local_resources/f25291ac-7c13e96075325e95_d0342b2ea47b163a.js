try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ca08b065-2da2-40bb-88f4-1e28a2d65699",e._sentryDebugIdIdentifier="sentry-dbid-ca08b065-2da2-40bb-88f4-1e28a2d65699")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4152],{4718:(e,t,r)=>{r.d(t,{C4:()=>pT,M2:()=>ei}),r(37811);var n=Object.create,a=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,s=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(e,t,r)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=r(32055),d=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),f=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of o(t))l.call(e,s)||s===r||a(e,s,{get:()=>t[s],enumerable:!(n=i(t,s))||n.enumerable});return e},p=(e,t,r)=>(r=null!=e?n(s(e)):{},f(!t&&e&&e.__esModule?r:a(r,"default",{value:e,enumerable:!0}),e)),h=(e,t,r)=>u(e,"symbol"!=typeof t?t+"":t,r),g=d((e,t)=>{"use strict";function r(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}t.exports=function(e,t,n){var a=n&&n.stringify||r;if("object"==typeof e&&null!==e){var i=t.length+1;if(1===i)return e;var o=Array(i);o[0]=a(e);for(var s=1;s<i;s++)o[s]=a(t[s]);return o.join(" ")}if("string"!=typeof e)return e;var l=t.length;if(0===l)return e;for(var u="",c=0,d=-1,f=e&&e.length||0,p=0;p<f;){if(37===e.charCodeAt(p)&&p+1<f){switch(d=d>-1?d:0,e.charCodeAt(p+1)){case 100:case 102:if(c>=l||null==t[c])break;d<p&&(u+=e.slice(d,p)),u+=Number(t[c]),d=p+2,p++;break;case 105:if(c>=l||null==t[c])break;d<p&&(u+=e.slice(d,p)),u+=Math.floor(Number(t[c])),d=p+2,p++;break;case 79:case 111:case 106:if(c>=l||void 0===t[c])break;d<p&&(u+=e.slice(d,p));var h=typeof t[c];if("string"===h){u+="'"+t[c]+"'",d=p+2,p++;break}if("function"===h){u+=t[c].name||"<anonymous>",d=p+2,p++;break}u+=a(t[c]),d=p+2,p++;break;case 115:if(c>=l)break;d<p&&(u+=e.slice(d,p)),u+=String(t[c]),d=p+2,p++;break;case 37:d<p&&(u+=e.slice(d,p)),u+="%",d=p+2,p++,c--}++c}++p}return -1===d?e:(d<f&&(u+=e.slice(d)),u)}}),y=d((e,t)=>{"use strict";var r=g();t.exports=u;var n=function(){function e(e){return"u">typeof e&&e}try{return"u">typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(t){return e(self)||e(window)||e(this)||{}}}().console||{};function a(e,t){return"silent"===e?1/0:t.levels.values[e]}var i=Symbol("pino.logFuncs"),o=Symbol("pino.hierarchy"),s={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function l(e,t){let r={logger:t,parent:e[o]};t[o]=r}function u(e){var t,r,o;let p,h,g;(e=e||{}).browser=e.browser||{};let y=e.browser.transmit;if(y&&"function"!=typeof y.send)throw Error("pino: transmit option must have a send function");let S=e.browser.write||n;e.browser.write&&(e.browser.asObject=!0);let b=e.serializers||{},C=(t=e.browser.serialize,Array.isArray(t)?t.filter(function(e){return"!stdSerializers.err"!==e}):!0===t&&Object.keys(b)),I=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(I=!1);let q=Object.keys(e.customLevels||{}),k=["error","fatal","warn","info","debug","trace"].concat(q);"function"==typeof S&&k.forEach(function(e){S[e]=S}),(!1===e.enabled||e.browser.disabled)&&(e.level="silent");let O=e.level||"info",A=Object.create(S);A.log||(A.log=m),p={},k.forEach(e=>{p[e]=S[e]?S[e]:n[e]||n[s[e]||"log"]||m}),A[i]=p,l({},A),Object.defineProperty(A,"levelVal",{get:function(){return a(this.level,this)}}),Object.defineProperty(A,"level",{get:function(){return this._level},set:function(e){if("silent"!==e&&!this.levels.values[e])throw Error("unknown level "+e);this._level=e,c(this,x,A,"error"),c(this,x,A,"fatal"),c(this,x,A,"warn"),c(this,x,A,"info"),c(this,x,A,"debug"),c(this,x,A,"trace"),q.forEach(e=>{c(this,x,A,e)})}});let x={transmit:y,serialize:C,asObject:e.browser.asObject,formatters:e.browser.formatters,levels:k,timestamp:"function"==typeof(r=e).timestamp?r.timestamp:!1===r.timestamp?v:w};return h=e.customLevels||{},A.levels={values:Object.assign({},u.levels.values,h),labels:Object.assign({},u.levels.labels,(g={},Object.keys(o=h).forEach(function(e){g[o[e]]=e}),g))},A.level=O,A.setMaxListeners=A.getMaxListeners=A.emit=A.addListener=A.on=A.prependListener=A.once=A.prependOnceListener=A.removeListener=A.removeAllListeners=A.listeners=A.listenerCount=A.eventNames=A.write=A.flush=m,A.serializers=b,A._serialize=C,A._stdErrSerialize=I,A.child=function(t,r){if(!t)throw Error("missing bindings for child Pino");r=r||{},C&&t.serializers&&(r.serializers=t.serializers);let n=r.serializers;if(C&&n){var a=Object.assign({},b,n),i=!0===e.browser.serialize?Object.keys(a):C;delete t.serializers,d([t],i,a,this._stdErrSerialize)}function o(e){this._childLevel=(0|e._childLevel)+1,this.bindings=t,a&&(this.serializers=a,this._serialize=i),y&&(this._logEvent=f([].concat(e._logEvent.bindings,t)))}o.prototype=this;let s=new o(this);return l(this,s),s.level=this.level,s},y&&(A._logEvent=f()),A}function c(e,t,s,l){var u,c,p,h,g,y,v;if(Object.defineProperty(e,l,{value:a(e.level,s)>a(l,s)?m:s[i][l],writable:!0,enumerable:!0,configurable:!0}),!t.transmit&&e[l]===m)return;e[l]=(u=e,c=t,p=s,h=l,g=u[i][h],function(){let e=c.timestamp(),t=Array(arguments.length),i=Object.getPrototypeOf&&Object.getPrototypeOf(this)===n?n:this;for(var o,s,l,y=0;y<t.length;y++)t[y]=arguments[y];if(c.serialize&&!c.asObject&&d(t,this._serialize,this.serializers,this._stdErrSerialize),c.asObject||c.formatters?g.call(i,function(e,t,n,a){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},{level:o=()=>e.levels.values[t],log:s=e=>e}=i;e._serialize&&d(n,e._serialize,e.serializers,e._stdErrSerialize);let l=n.slice(),u=l[0],c={};a&&(c.time=a),c.level=o(t,e.levels.values[t]);let f=(0|e._childLevel)+1;if(f<1&&(f=1),null!==u&&"object"==typeof u){for(;f--&&"object"==typeof l[0];)Object.assign(c,l.shift());u=l.length?r(l.shift(),l):void 0}else"string"==typeof u&&(u=r(l.shift(),l));return void 0!==u&&(c.msg=u),s(c)}(this,h,t,e,c.formatters)):g.apply(i,t),c.transmit){let r,n,i,g,y,m,v=c.transmit.level||u._level,w=p.levels.values[v],S=p.levels.values[h];if(S<w)return;o=this,s={ts:e,methodLevel:h,methodValue:S,transmitLevel:v,transmitValue:p.levels.values[c.transmit.level||u._level],send:c.transmit.send,val:a(u._level,p)},l=t,r=s.send,n=s.ts,i=s.methodLevel,g=s.methodValue,y=s.val,m=o._logEvent.bindings,d(l,o._serialize||Object.keys(o.serializers),o.serializers,void 0===o._stdErrSerialize||o._stdErrSerialize),o._logEvent.ts=n,o._logEvent.messages=l.filter(function(e){return -1===m.indexOf(e)}),o._logEvent.level.label=i,o._logEvent.level.value=g,r(i,o._logEvent,y),o._logEvent=f(m)}});let w=function(e){let t=[];e.bindings&&t.push(e.bindings);let r=e[o];for(;r.parent;)(r=r.parent).logger.bindings&&t.push(r.logger.bindings);return t.reverse()}(e);0!==w.length&&(e[l]=(y=w,v=e[l],function(){return v.apply(this,[...y,...arguments])}))}function d(e,t,r,n){for(let a in e)if(n&&e[a]instanceof Error)e[a]=u.stdSerializers.err(e[a]);else if("object"==typeof e[a]&&!Array.isArray(e[a]))for(let n in e[a])t&&t.indexOf(n)>-1&&n in r&&(e[a][n]=r[n](e[a][n]))}function f(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function p(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)void 0===t[r]&&(t[r]=e[r]);return t}function h(){return{}}function y(e){return e}function m(){}function v(){return!1}function w(){return Date.now()}u.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},u.stdSerializers={mapHttpRequest:h,mapHttpResponse:h,wrapRequestSerializer:y,wrapResponseSerializer:y,wrapErrorSerializer:y,req:h,res:h,err:p,errWithCause:p},u.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:w,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}}),t.exports.default=u,t.exports.pino=u}),m=d((e,t)=>{"use strict";!function(n,a){"object"==typeof e&&"u">typeof t?t.exports=a():"function"==typeof define&&r.amdO?define(a):(n="u">typeof globalThis?globalThis:n||self).dayjs=a()}(e,function(){var e="millisecond",t="second",r="minute",n="hour",a="week",i="month",o="quarter",s="year",l="date",u="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},p="en",h={};h[p]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}};var g="$isDayjsObject",y=function(e){return e instanceof S||!(!e||!e[g])},m=function e(t,r,n){var a;if(!t)return p;if("string"==typeof t){var i=t.toLowerCase();h[i]&&(a=i),r&&(h[i]=r,a=i);var o=t.split("-");if(!a&&o.length>1)return e(o[0])}else{var s=t.name;h[s]=t,a=s}return!n&&a&&(p=a),a||!n&&p},v=function(e,t){if(y(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new S(r)},w={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(r/60),2,"0")+":"+f(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,i),o=r-a<0,s=t.clone().add(n+(o?-1:1),i);return+(-(n+(r-a)/(o?a-s:s-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return({M:i,y:s,w:a,d:"day",D:l,h:n,m:r,s:t,ms:e,Q:o})[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};w.l=m,w.i=y,w.w=function(e,t){return v(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function f(e){this.$L=m(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var p=f.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(w.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(c);if(n){var a=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return this.$d.toString()!==u},p.isSame=function(e,t){var r=v(e);return this.startOf(t)<=r&&r<=this.endOf(t)},p.isAfter=function(e,t){return v(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<v(e)},p.$g=function(e,t,r){return w.u(e)?this[t]:this.set(r,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,o){var u=this,c=!!w.u(o)||o,d=w.p(e),f=function(e,t){var r=w.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return c?r:r.endOf("day")},p=function(e,t){return w.w(u.toDate()[e].apply(u.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},h=this.$W,g=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(d){case s:return c?f(1,0):f(31,11);case i:return c?f(1,g):f(0,g+1);case a:var v=this.$locale().weekStart||0,S=(h<v?h+7:h)-v;return f(c?y-S:y+(6-S),g);case"day":case l:return p(m+"Hours",0);case n:return p(m+"Minutes",1);case r:return p(m+"Seconds",2);case t:return p(m+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(a,o){var u,c=w.p(a),d="set"+(this.$u?"UTC":""),f=((u={}).day=d+"Date",u[l]=d+"Date",u[i]=d+"Month",u[s]=d+"FullYear",u[n]=d+"Hours",u[r]=d+"Minutes",u[t]=d+"Seconds",u[e]=d+"Milliseconds",u)[c],p="day"===c?this.$D+(o-this.$W):o;if(c===i||c===s){var h=this.clone().set(l,1);h.$d[f](p),h.init(),this.$d=h.set(l,Math.min(this.$D,h.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[w.p(e)]()},p.add=function(e,o){var l,u=this;e=Number(e);var c=w.p(o),d=function(t){var r=v(u);return w.w(r.date(r.date()+Math.round(t*e)),u)};if(c===i)return this.set(i,this.$M+e);if(c===s)return this.set(s,this.$y+e);if("day"===c)return d(1);if(c===a)return d(7);var f=((l={})[r]=6e4,l[n]=36e5,l[t]=1e3,l)[c]||1,p=this.$d.getTime()+e*f;return w.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||u;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=w.z(this),i=this.$H,o=this.$m,s=this.$M,l=r.weekdays,c=r.months,f=r.meridiem,p=function(e,r,a,i){return e&&(e[r]||e(t,n))||a[r].slice(0,i)},h=function(e){return w.s(i%12||12,e,"0")},g=f||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(d,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return w.s(t.$y,4,"0");case"M":return s+1;case"MM":return w.s(s+1,2,"0");case"MMM":return p(r.monthsShort,s,c,3);case"MMMM":return p(c,s);case"D":return t.$D;case"DD":return w.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(r.weekdaysMin,t.$W,l,2);case"ddd":return p(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return w.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return g(i,o,!0);case"A":return g(i,o,!1);case"m":return String(o);case"mm":return w.s(o,2,"0");case"s":return String(t.$s);case"ss":return w.s(t.$s,2,"0");case"SSS":return w.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")})},p.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},p.diff=function(e,l,u){var c,d=this,f=w.p(l),p=v(e),h=(p.utcOffset()-this.utcOffset())*6e4,g=this-p,y=function(){return w.m(d,p)};switch(f){case s:c=y()/12;break;case i:c=y();break;case o:c=y()/3;break;case a:c=(g-h)/6048e5;break;case"day":c=(g-h)/864e5;break;case n:c=g/36e5;break;case r:c=g/6e4;break;case t:c=g/1e3;break;default:c=g}return u?c:w.a(c)},p.daysInMonth=function(){return this.endOf(i).$D},p.$locale=function(){return h[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=m(e,t,!0);return n&&(r.$L=n),r},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},f}(),b=S.prototype;return v.prototype=b,[["$ms",e],["$s",t],["$m",r],["$H",n],["$W","day"],["$M",i],["$y",s],["$D",l]].forEach(function(e){b[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),v.extend=function(e,t){return e.$i||(e(t,S,v),e.$i=!0),v},v.locale=m,v.isDayjs=y,v.unix=function(e){return v(1e3*e)},v.en=h[p],v.Ls=h,v.p={},v})}),v=d((e,t)=>{"use strict";!function(n,a){"object"==typeof e&&"u">typeof t?t.exports=a():"function"==typeof define&&r.amdO?define(a):(n="u">typeof globalThis?globalThis:n||self).dayjs_plugin_timezone=a()}(e,function(){var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(r,n,a){var i,o=function(e,r,n){void 0===n&&(n={});var a,i,o,s,l=new Date(e);return(void 0===(a=n)&&(a={}),(s=t[o=r+"|"+(i=a.timeZoneName||"short")])||(s=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:i}),t[o]=s),s).formatToParts(l)},s=function(t,r){for(var n=o(t,r),i=[],s=0;s<n.length;s+=1){var l=n[s],u=l.type,c=l.value,d=e[u];d>=0&&(i[d]=parseInt(c,10))}var f=i[3],p=i[0]+"-"+i[1]+"-"+i[2]+" "+(24===f?0:f)+":"+i[4]+":"+i[5]+":000",h=+t;return(a.utc(p).valueOf()-(h-=h%1e3))/6e4},l=n.prototype;l.tz=function(e,t){void 0===e&&(e=i);var r,n=this.utcOffset(),o=this.toDate(),s=o.toLocaleString("en-US",{timeZone:e}),l=Math.round((o-new Date(s))/1e3/60),u=-(15*Math.round(o.getTimezoneOffset()/15))-l;if(Number(u)){if(r=a(s,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(u,!0),t){var c=r.utcOffset();r=r.add(n-c,"minute")}}else r=this.utcOffset(0,t);return r.$x.$timezone=e,r},l.offsetName=function(e){var t=this.$x.$timezone||a.tz.guess(),r=o(this.valueOf(),t,{timeZoneName:e}).find(function(e){return"timezonename"===e.type.toLowerCase()});return r&&r.value};var u=l.startOf;l.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return u.call(this,e,t);var r=a(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return u.call(r,e,t).tz(this.$x.$timezone,!0)},a.tz=function(e,t,r){var n=r&&t,o=r||t||i,l=s(+a(),o);if("string"!=typeof e)return a(e).tz(o);var u=function(e,t,r){var n=e-60*t*1e3,a=s(n,r);if(t===a)return[n,t];var i=s(n-=60*(a-t)*1e3,r);return a===i?[n,a]:[e-60*Math.min(a,i)*1e3,Math.max(a,i)]}(a.utc(e,n).valueOf(),l,o),c=u[0],d=u[1],f=a(c).utcOffset(d);return f.$x.$timezone=o,f},a.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},a.tz.setDefault=function(e){i=e}}})}),w=d((e,t)=>{"use strict";!function(n,a){"object"==typeof e&&"u">typeof t?t.exports=a():"function"==typeof define&&r.amdO?define(a):(n="u">typeof globalThis?globalThis:n||self).dayjs_plugin_utc=a()}(e,function(){var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,r=/([+-]|\d\d)/g;return function(n,a,i){var o=a.prototype;i.utc=function(e){var t={date:e,utc:!0,args:arguments};return new a(t)},o.utc=function(t){var r=i(this.toDate(),{locale:this.$L,utc:!0});return t?r.add(this.utcOffset(),e):r},o.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var s=o.parse;o.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var l=o.init;o.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var u=o.utcOffset;o.utcOffset=function(n,a){var i=this.$utils().u;if(i(n))return this.$u?0:i(this.$offset)?u.call(this):this.$offset;if("string"==typeof n&&null===(n=function(e){void 0===e&&(e="");var n=e.match(t);if(!n)return null;var a=(""+n[0]).match(r)||["-",0,0],i=a[0],o=60*a[1]+ +a[2];return 0===o?0:"+"===i?o:-o}(n)))return this;var o=16>=Math.abs(n)?60*n:n,s=this;if(a)return s.$offset=o,s.$u=0===n,s;if(0!==n){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(o+l,e)).$offset=o,s.$x.$localOffset=l}else s=this.utc();return s};var c=o.format;o.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return c.call(this,t)},o.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},o.isUTC=function(){return!!this.$u},o.toISOString=function(){return this.toDate().toISOString()},o.toString=function(){return this.toDate().toUTCString()};var d=o.toDate;o.toDate=function(e){return"s"===e&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var f=o.diff;o.diff=function(e,t,r){if(e&&this.$u===e.$u)return f.call(this,e,t,r);var n=this.local(),a=i(e).local();return f.call(n,a,t,r)}}})}),S=d((e,t)=>{"use strict";t.exports=fetch}),b=d(e=>{"use strict";var t=e&&e.__assign||function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};e.getSanitizedOptions=function(e){var n=t(t({},r),e);return n.numOfAttempts<1&&(n.numOfAttempts=1),n}}),C=d(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fullJitter=function(e){return Math.round(Math.random()*e)}}),I=d(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noJitter=function(e){return e}}),q=d(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=C(),r=I();e.JitterFactory=function(e){return"full"===e.jitter?t.fullJitter:r.noJitter}}),k=d(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=q();e.Delay=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise(function(t){return setTimeout(t,e.jitteredDelay)})},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return t.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return Math.min(this.options.startingDelay*Math.pow(this.options.timeMultiple,this.numOfDelayedAttempts),this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}()}),O=d(e=>{"use strict";var t=e&&e.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),r=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})},n=e&&e.__generator||function(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){var l=[i,s];if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};Object.defineProperty(e,"__esModule",{value:!0}),e.SkipFirstDelay=function(e){function a(){return null!==e&&e.apply(this,arguments)||this}return t(a,e),a.prototype.apply=function(){return r(this,void 0,void 0,function(){return n(this,function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]})})},Object.defineProperty(a.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),a}(k().Delay)}),A=d(e=>{"use strict";var t=e&&e.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AlwaysDelay=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t(r,e),r}(k().Delay)}),x=d(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=O(),r=A();e.DelayFactory=function(e,n){var a,i=(a=e).delayFirstAttempt?new r.AlwaysDelay(a):new t.SkipFirstDelay(a);return i.setAttemptNumber(n),i}}),R=d(e=>{"use strict";var t=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})},r=e&&e.__generator||function(e,t){var r,n,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){var l=[i,s];if(r)throw TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&l[0]?n.return:l[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;switch(n=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}};Object.defineProperty(e,"__esModule",{value:!0});var n=b(),a=x();e.backOff=function(e,a){return void 0===a&&(a={}),t(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,new i(e,n.getSanitizedOptions(a)).execute()];case 1:return[2,t.sent()]}})})};var i=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return t(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return t(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}})})},e}()}),E=d((e,t)=>{"use strict";t.exports=function(e){if(0==arguments.length)throw TypeError("1 argument required, but only 0 present.");if((e=(e="".concat(e)).replace(/[ \t\n\f\r]/g,"")).length%4==0&&(e=e.replace(/==?$/,"")),e.length%4==1||/[^+/0-9A-Za-z]/.test(e))return null;let t="",r=0,n=0;for(let a=0;a<e.length;a++)r<<=6,r|=function(e){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e);return t<0?void 0:t}(e[a]),24===(n+=6)&&(t+=String.fromCharCode((0xff0000&r)>>16),t+=String.fromCharCode((65280&r)>>8),t+=String.fromCharCode(255&r),r=n=0);return 12===n?(r>>=4,t+=String.fromCharCode(r)):18===n&&(r>>=2,t+=String.fromCharCode((65280&r)>>8),t+=String.fromCharCode(255&r)),t}}),D=d((e,t)=>{"use strict";t.exports=function(e){let t;if(0==arguments.length)throw TypeError("1 argument required, but only 0 present.");for(e="".concat(e),t=0;t<e.length;t++)if(e.charCodeAt(t)>255)return null;let r="";for(t=0;t<e.length;t+=3){let n=[void 0,void 0,void 0,void 0];n[0]=e.charCodeAt(t)>>2,n[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(n[1]|=e.charCodeAt(t+1)>>4,n[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(n[2]|=e.charCodeAt(t+2)>>6,n[3]=63&e.charCodeAt(t+2));for(let e=0;e<n.length;e++)typeof n[e]>"u"?r+="=":r+=function(e){if(e>=0&&e<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}(n[e])}return r}}),T=d((e,t)=>{"use strict";t.exports={atob:E(),btoa:D()}}),F=d((e,t)=>{"use strict";var r="u">typeof self?self:"u">typeof window?window:void 0;if(!r)throw Error("Unable to find global scope. Are you sure this is running in the browser?");if(!r.AbortController)throw Error('Could not find "AbortController" in the global scope. You need to polyfill it first');t.exports.AbortController=r.AbortController}),j=d((e,t)=>{"use strict";!function(n,a){"object"==typeof e&&"u">typeof t?t.exports=a():"function"==typeof define&&r.amdO?define(a):(n="u">typeof globalThis?globalThis:n||self).dayjs_plugin_quarterOfYear=a()}(e,function(){var e="month",t="quarter";return function(r,n){var a=n.prototype;a.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var i=a.add;a.add=function(r,n){return r=Number(r),this.$utils().p(n)===t?this.add(3*r,e):i.bind(this)(r,n)};var o=a.startOf;a.startOf=function(r,n){var a=this.$utils(),i=!!a.u(n)||n;if(a.p(r)===t){var s=this.quarter()-1;return i?this.month(3*s).startOf(e).startOf("day"):this.month(3*s+2).endOf(e).endOf("day")}return o.bind(this)(r,n)}}})}),M=d((e,t)=>{"use strict";!function(n,a){"object"==typeof e&&"u">typeof t?t.exports=a():"function"==typeof define&&r.amdO?define(a):(n="u">typeof globalThis?globalThis:n||self).dayjs_plugin_customParseFormat=a()}(e,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,n=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,i={},o=function(e){return(e*=1)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e||"Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),r=60*t[1]+(+t[2]||0);return 0===r?0:"+"===t[0]?-r:r}(e)}],u=function(e){var t=i[e];return t&&(t.indexOf?t:t.s.concat(t.f))},c=function(e,t){var r,n=i.meridiem;if(n){for(var a=1;a<=24;a+=1)if(e.indexOf(n(a,0,t))>-1){r=a>12;break}}else r=e===(t?"pm":"PM");return r},d={A:[a,function(e){this.afternoon=c(e,!1)}],a:[a,function(e){this.afternoon=c(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*e}],SS:[r,function(e){this.milliseconds=10*e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[n,s("seconds")],ss:[n,s("seconds")],m:[n,s("minutes")],mm:[n,s("minutes")],H:[n,s("hours")],h:[n,s("hours")],HH:[n,s("hours")],hh:[n,s("hours")],D:[n,s("day")],DD:[r,s("day")],Do:[a,function(e){var t=i.ordinal,r=e.match(/\d+/);if(this.day=r[0],t)for(var n=1;n<=31;n+=1)t(n).replace(/\[|\]/g,"")===e&&(this.day=n)}],M:[n,s("month")],MM:[r,s("month")],MMM:[a,function(e){var t=u("months"),r=(u("monthsShort")||t.map(function(e){return e.slice(0,3)})).indexOf(e)+1;if(r<1)throw Error();this.month=r%12||r}],MMMM:[a,function(e){var t=u("months").indexOf(e)+1;if(t<1)throw Error();this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[r,function(e){this.year=o(e)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};return function(r,n,a){a.p.customParseFormat=!0,r&&r.parseTwoDigitYear&&(o=r.parseTwoDigitYear);var s=n.prototype,l=s.parse;s.parse=function(r){var n=r.date,o=r.utc,s=r.args;this.$u=o;var u=s[1];if("string"==typeof u){var c=!0===s[2],f=!0===s[3],p=s[2];f&&(p=s[2]),i=this.$locale(),!c&&p&&(i=a.Ls[p]),this.$d=function(r,n,a){try{if(["x","X"].indexOf(n)>-1)return new Date(("X"===n?1e3:1)*r);var o=(function(r){var n,a;n=r,a=i&&i.formats;for(var o=(r=n.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,r,n){var i=n&&n.toUpperCase();return r||a[n]||e[n]||a[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,r){return t||r.slice(1)})})).match(t),s=o.length,l=0;l<s;l+=1){var u=o[l],c=d[u],f=c&&c[0],p=c&&c[1];o[l]=p?{regex:f,parser:p}:u.replace(/^\[|\]$/g,"")}return function(e){for(var t={},r=0,n=0;r<s;r+=1){var a=o[r];if("string"==typeof a)n+=a.length;else{var i=a.regex,l=a.parser,u=e.slice(n),c=i.exec(u)[0];l.call(t,c),e=e.replace(c,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var r=e.hours;t?r<12&&(e.hours+=12):12===r&&(e.hours=0),delete e.afternoon}}(t),t}})(n)(r),s=o.year,l=o.month,u=o.day,c=o.hours,f=o.minutes,p=o.seconds,h=o.milliseconds,g=o.zone,y=new Date,m=u||(s||l?1:y.getDate()),v=s||y.getFullYear(),w=0;s&&!l||(w=l>0?l-1:y.getMonth());var S=c||0,b=f||0,C=p||0,I=h||0;return g?new Date(Date.UTC(v,w,m,S,b,C,I+60*g.offset*1e3)):a?new Date(Date.UTC(v,w,m,S,b,C,I)):new Date(v,w,m,S,b,C,I)}catch(e){return new Date("")}}(n,u,o),this.init(),p&&!0!==p&&(this.$L=this.locale(p).$L),(c||f)&&n!=this.format(u)&&(this.$d=new Date("")),i={}}else if(u instanceof Array)for(var h=u.length,g=1;g<=h;g+=1){s[1]=u[g-1];var y=a.apply(this,s);if(y.isValid()){this.$d=y.$d,this.$L=y.$L,this.init();break}g===h&&(this.$d=new Date(""))}else l.call(this,r)}}})}),P=d((e,t)=>{"use strict";var r=/(^|; )Coveo-Pendragon=([^;]*)/;t.exports=()=>{var e;return(null==(e=r.exec(document.cookie))?void 0:e.pop())||null}}),U=(p(y()),Symbol.for("coveo-headless-internal-state"));!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};({...e})}({urihash:"example documentUriHash",source:"example sourceName",collection:"example collectionName",permanentid:"example contentIDValue"});var _=e=>({past:[],present:e,future:[]}),V=e=>{let{past:t,present:r,future:n}=e;if(!r||0===t.length)return e;let a=t[t.length-1];return{past:t.slice(0,t.length-1),present:a,future:[r,...n]}},Q=e=>{let{past:t,present:r,future:n}=e;return r&&0!==n.length?{past:[...t,r],present:n[0],future:n.slice(1)}:e},L=e=>{let{action:t,state:r,reducer:n}=e,{past:a,present:i}=r,o=n(i,t);return i?i===o?r:{past:[...a,i].slice(-10),present:o,future:[]}:_(o)},N=()=>({cq:"",cqWasSet:!1,aq:"",aqWasSet:!1,lq:"",lqWasSet:!1,dq:"",dqWasSet:!1,defaultFilters:{cq:"",aq:"",lq:"",dq:""}}),z=p(m()),$=p(v()),B=p(w()),H=p(S()),Y=p(R()),W=Error("Failed to load reducers."),G=class extends Error{constructor(){super(),this.name="ExpiredToken",this.message="The token being used to perform the request is expired."}},K=class extends Error{constructor(e,t){super(),this.name="Disconnected",this.message="Client could not connect to the following URL: ".concat(e),this.statusCode=null!=t?t:0}},J=p(T());function Z(e){return Array.isArray(e)}function X(e){return""===e.trim()}function ee(e){var t;return t=JSON.stringify(e),("u">typeof btoa?btoa:J.btoa)(encodeURI(t))}function et(e){if("object"!=typeof e||!e)return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function er(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}var en=class e{static async call(t){let r=function(e){let{url:t,method:r,requestParams:n,contentType:a,accessToken:i,signal:o}=e,s="POST"===e.method||"PUT"===e.method,l=function(e,t){return"application/x-www-form-urlencoded"===t?"object"==typeof e&&e&&Object.values(e).every(er)?function(e){let t=[];for(let r in e){let n=encodeURIComponent(r),a=encodeURIComponent(e[r]);t.push("".concat(n,"=").concat(a))}return t.join("&")}(e):"":JSON.stringify(e)}(n,a);return{url:t,method:r,headers:{"Content-Type":a,Authorization:"Bearer ".concat(i),...e.headers},...s&&{body:l},signal:o}}(t),{logger:n}=t,a=await e.preprocessRequest(r,t);n.info(a,"Platform request");let{url:i,...o}=a,s=async()=>{let e=await (0,H.default)(i,o);if(429===e.status)throw e;return e};try{let e=await (0,Y.backOff)(s,{retry:e=>{var t;let r=e&&(t=e.status,429===t);return r&&n.info("Platform retrying request"),r}});switch(e.status){case 419:case 401:throw n.info("Platform renewing token"),new G;case 404:throw new K(i,e.status);default:return n.info({response:e,requestInfo:a},"Platform response"),e}}catch(e){return"Failed to fetch"===e.message?new K(i):e}}static async preprocessRequest(e,t){let{origin:r,preprocessRequest:n,logger:a,requestMetadata:i}=t,{signal:o,...s}=e,l=et(s);try{let t=await n(e,r,i);return{...e,...t}}catch(e){a.error(e,"Platform request preprocessing failed. Returning default request options.")}return l}};function ea(e,t){let r=t&&t.environment&&"prod"!==t.environment?t.environment:"",n=t&&t.region&&"us"!==t.region?"-".concat(t.region):"";return"https://".concat(e).concat(r).concat(n,".cloud.coveo.com")}function ei(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prod",r="prod"===t?"":t,n="https://".concat(e,".org").concat(r,".coveo.com"),a="https://".concat(e,".analytics.org").concat(r,".coveo.com"),i="https://".concat(e,".admin.org").concat(r,".coveo.com");return{platform:n,analytics:a,search:"".concat(n,"/rest/search/v2"),admin:i}}function eo(e){return(null==e?void 0:e.multiRegionSubDomain)?"https://".concat(e.multiRegionSubDomain,".org.coveo.com"):ea("platform",e)}z.default.extend(B.default),z.default.extend($.default);var es="/rest/search/v2",el="/rest/ua",eu=()=>({organizationId:"",accessToken:"",platformUrl:eo(),search:{apiBaseUrl:"".concat(eo()).concat(es),locale:"en-US",timezone:z.default.tz.guess(),authenticationProviders:[]},analytics:{enabled:!0,apiBaseUrl:"".concat(ea("analytics",void 0)).concat(el),nextApiBaseUrl:"",originContext:"Search",originLevel2:"default",originLevel3:"default",anonymous:!1,deviceId:"",userDisplayName:"",documentLocation:"",trackingId:"",analyticsMode:"legacy",source:{}},knowledge:{answerConfigurationId:""}});function ec(){return{contextValues:{}}}var ed=()=>!1;function ef(){return{contextValues:{}}}var ep=()=>({correctedQuery:"",wordCorrections:[],originalQuery:""}),eh=()=>({correctedQuery:"",corrections:[],originalQuery:""});function eg(){return{enabled:!0}}function ey(){return{freezeFacetOrder:!1,facets:{}}}function em(){return{desiredCount:5,numberOfValues:8,set:{}}}var ev=["author","language","urihash","objecttype","collection","source","permanentid"],ew=([...ev],()=>({fieldsToInclude:ev,fetchAllFields:!1,fieldsDescription:[]})),eS=()=>({enabled:!1,fields:{collection:"foldingcollection",parent:"foldingparent",child:"foldingchild"},filterFieldRange:2,collections:{}});function eb(){return{id:"",isVisible:!0,isLoading:!1,isStreaming:!1,citations:[],liked:!1,disliked:!1,responseFormat:{answerStyle:"default",contentFormat:["text/plain"]},feedbackModalOpen:!1,feedbackSubmitted:!1,fieldsToIncludeInCitations:[],isAnswerGenerated:!1,expanded:!1}}function eC(){return{firstResult:0,defaultNumberOfResults:10,numberOfResults:10,totalCountFiltered:0}}var eI=()=>"",eq=()=>({q:"",enableQuerySyntax:!1}),ek=()=>"default",eO=class extends Error{constructor(e){super(e),this.name="SchemaValidationError"}},eA=class{validate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={...this.default,...e},n=[];for(let e in this.definition){let t=this.definition[e].validate(r[e]);t&&n.push("".concat(e,": ").concat(t))}if(n.length)throw new eO("\n  The following properties are invalid:\n\n    ".concat(n.join("\n	"),"\n  \n  ").concat(t,"\n  "));return r}get default(){let e={};for(let t in this.definition){let r=this.definition[t].default;void 0!==r&&(e[t]=r)}return e}constructor(e){this.definition=e}},ex=class{validate(e){return this.baseConfig.required&&eE(e)?"value is required.":null}get default(){return this.baseConfig.default instanceof Function?this.baseConfig.default():this.baseConfig.default}get required(){return!0===this.baseConfig.required}constructor(e={}){this.baseConfig=e}};function eR(e){return void 0===e}function eE(e){return eR(e)||null===e}var eD=class{validate(e){var t;return this.value.validate(e)||(eR(t=e)||eT(t)?e<this.config.min?"minimum value of ".concat(this.config.min," not respected."):e>this.config.max?"maximum value of ".concat(this.config.max," not respected."):null:"value is not a number.")}get default(){return this.value.default}get required(){return this.value.required}constructor(e={}){this.config=e,this.value=new ex(e)}};function eT(e){return"number"==typeof e&&!isNaN(e)}var eF=class{validate(e){var t;return this.value.validate(e)||(eR(t=e)||ej(t)?null:"value is not a boolean.")}get default(){return this.value.default}get required(){return this.value.required}constructor(e={}){this.value=new ex(e)}};function ej(e){return"boolean"==typeof e}var eM=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i,eP=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,eU=class{validate(e){let{emptyAllowed:t,url:r,regex:n,constrainTo:a,ISODate:i}=this.config;return this.value.validate(e)||(eR(e)?null:e_(e)?t||e.length?r&&!eM.test(e)?"value is not a valid URL.":n&&!n.test(e)?"value did not match provided regex ".concat(n):a&&!a.includes(e)?"value should be one of: ".concat(a.join(", "),"."):i&&!(eP.test(e)&&"Invalid Date"!==new Date(e).toString())?"value is not a valid ISO8601 date string":null:"value is an empty string.":"value is not a string.")}get default(){return this.value.default}get required(){return this.value.required}constructor(e={}){this.config={emptyAllowed:!0,url:!1,...e},this.value=new ex(this.config)}};function e_(e){return"[object String]"===Object.prototype.toString.call(e)}var eV=class{validate(e){if(eR(e))return this.config.options.required?"value is required and is currently undefined":null;if(!eQ(e))return"value is not an object";for(let[t,r]of Object.entries(this.config.values))if(r.required&&eE(e[t]))return"value does not contain ".concat(t);let t="";for(let[r,n]of Object.entries(this.config.values)){let a=e[r],i=n.validate(a);null!==i&&(t+=" "+i)}return""===t?null:t}get default(){}get required(){return!!this.config.options.required}constructor(e={}){this.config={options:{required:!1},values:{},...e}}};function eQ(e){return void 0!==e&&"object"==typeof e}var eL=class{validate(e){if(!eE(e)&&!Array.isArray(e))return"value is not an array";let t=this.value.validate(e);if(null!==t)return t;if(eE(e))return null;if(void 0!==this.config.max&&e.length>this.config.max)return"value contains more than ".concat(this.config.max);if(void 0!==this.config.min&&e.length<this.config.min)return"value contains less than ".concat(this.config.min);if(void 0!==this.config.each){let t="";return e.forEach(r=>{this.config.each.required&&eE(r)&&(t="value is null or undefined: ".concat(e.join(",")));let n=this.validatePrimitiveValue(r,this.config.each);null!==n&&(t+=" "+n)}),""===t?null:t}return null}validatePrimitiveValue(e,t){return ej(e)||e_(e)||eT(e)||eQ(e)?t.validate(e):"value is not a primitive value"}get default(){}get required(){return this.value.required}constructor(e={}){this.config=e,this.value=new ex(this.config)}};function eN(e){return Array.isArray(e)}var ez=class{validate(e){let t=this.value.validate(e);return null!==t?t:eR(e)||Object.values(this.config.enum).find(t=>t===e)?null:"value is not in enum."}get default(){return this.value.default}get required(){return this.value.required}constructor(e){this.config=e,this.value=new ex(e)}},e$=(e=>(e.Ascending="ascending",e.Descending="descending",e))(e$||{}),eB=(e=>(e.Relevancy="relevancy",e.QRE="qre",e.Date="date",e.Field="field",e.NoSort="nosort",e))(eB||{}),eH=e=>{if(eN(e))return e.map(e=>eH(e)).join(",");switch(e.by){case"relevancy":case"qre":case"nosort":return e.by;case"date":return"date ".concat(e.order);case"field":return"@".concat(e.field," ").concat(e.order);default:return""}},eY=()=>({by:"relevancy"});function eW(){return eH(eY())}new eV({values:{by:new ez({enum:eB,required:!0}),order:new ez({enum:e$}),field:new eU}});function eG(e){var t,r,n;return{context:e.context||ec(),dictionaryFieldContext:e.dictionaryFieldContext||ef(),facetSet:e.facetSet||{},numericFacetSet:e.numericFacetSet||{},dateFacetSet:e.dateFacetSet||{},categoryFacetSet:e.categoryFacetSet||{},automaticFacetSet:null!=(t=e.automaticFacetSet)?t:em(),pagination:e.pagination||eC(),query:e.query||eq(),tabSet:e.tabSet||{},advancedSearchQueries:e.advancedSearchQueries||N(),staticFilterSet:e.staticFilterSet||{},querySet:e.querySet||{},sortCriteria:e.sortCriteria||eW(),pipeline:e.pipeline||eI(),searchHub:e.searchHub||ek(),facetOptions:e.facetOptions||ey(),facetOrder:null!=(r=e.facetOrder)?r:[],debug:null!=(n=e.debug)?n:ed()}}var eK=()=>({liked:!1,disliked:!1,expanded:!1,feedbackModalOpen:!1,relatedQuestions:[]});function eJ(){return{uniqueId:"",content:"",isLoading:!1,position:-1,resultsWithPreview:[]}}function eZ(){return{answerSnippet:"",documentId:{contentIdKey:"",contentIdValue:""},question:"",relatedQuestions:[],score:0}}function eX(){return{response:{results:[],searchUid:"",totalCountFiltered:0,facets:[],generateAutomaticFacets:{facets:[]},queryCorrections:[],triggers:[],questionAnswer:eZ(),pipeline:"",splitTestRun:"",termsToHighlight:{},phrasesToHighlight:{},extendedResults:{}},duration:0,queryExecuted:"",error:null,automaticallyCorrected:!1,isLoading:!1,results:[],searchResponseId:"",requestId:"",questionAnswer:eZ(),extendedResults:{}}}function e0(e){if(X(e.openingDelimiter)||X(e.closingDelimiter))throw Error("delimiters should be a non-empty string");if(eE(e.content)||X(e.content))return e.content;if(0===e.highlights.length)return e3(e.content);let t=e.content.length,r="",n=0;for(let a=0;a<e.highlights.length;a++){let i=e.highlights[a],o=i.offset,s=o+i.length;if(s>t)break;r+=e3(e.content.slice(n,o)),r+=e.openingDelimiter,r+=e3(e.content.slice(o,s)),r+=e.closingDelimiter,n=s}return n!==t&&(r+=e3(e.content.slice(n))),r}function e1(e,t){return(e=e3(e)).replace(/\[(.*?)\]|\{(.*?)\}|\((.*?)\)/g,(e,r,n,a)=>r?e2(r,t.notMatchDelimiters):n?e2(n,t.exactMatchDelimiters):a?e2(a,t.correctionDelimiters):e)}function e2(e,t){return t?t.open+e+t.close:e}function e3(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r="(?:"+Object.keys(t).join("|")+")",n=RegExp(r),a=RegExp(r,"g");return n.test(e)?e.replace(a,e=>t[e]):e}function e5(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}((e,t)=>{for(var r in t)a(e,r,{get:t[r],enumerable:!0})})({},{escape:()=>e3,getHighlightedSuggestion:()=>e1,highlightString:()=>e0}),"function"==typeof Symbol&&Symbol.observable;var e4=()=>Math.random().toString(36).substring(7).split("").join("."),e6={INIT:"@@redux/INIT".concat(e4()),REPLACE:"@@redux/REPLACE".concat(e4()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(e4())};function e8(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function e9(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return e(t(...n))})}function e7(e){return e8(e)&&"type"in e&&"string"==typeof e.type}var te=Symbol.for("immer-nothing"),tt=Symbol.for("immer-draftable"),tr=Symbol.for("immer-state");function tn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var ta=Object.getPrototypeOf;function ti(e){return!!e&&!!e[tr]}function to(e){var t;return!!e&&(tl(e)||Array.isArray(e)||!!e[tt]||!!(null==(t=e.constructor)?void 0:t[tt])||th(e)||tg(e))}var ts=Object.prototype.constructor.toString();function tl(e){if(!e||"object"!=typeof e)return!1;let t=ta(e);if(null===t)return!0;let r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===ts}function tu(e,t){0===tc(e)?Object.entries(e).forEach(r=>{let[n,a]=r;t(n,a,e)}):e.forEach((r,n)=>t(n,r,e))}function tc(e){let t=e[tr];return t?t.type_:Array.isArray(e)?1:th(e)?2:3*!!tg(e)}function td(e,t){return 2===tc(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function tf(e,t){return 2===tc(e)?e.get(t):e[t]}function tp(e,t,r){let n=tc(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function th(e){return e instanceof Map}function tg(e){return e instanceof Set}function ty(e){return e.copy_||e.base_}function tm(e,t){if(th(e))return new Map(e);if(tg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&tl(e))return ta(e)?{...e}:Object.assign(Object.create(null),e);let r=Object.getOwnPropertyDescriptors(e);delete r[tr];let n=Reflect.ownKeys(r);for(let t=0;t<n.length;t++){let a=n[t],i=r[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(r[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(ta(e),r)}function tv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return tS(e)||ti(e)||!to(e)||(tc(e)>1&&(e.set=e.add=e.clear=e.delete=tw),Object.freeze(e),t&&tu(e,(e,t)=>tv(t,!0),!0)),e}function tw(){tn(2)}function tS(e){return Object.isFrozen(e)}var tb={};function tC(e){let t=tb[e];return t||tn(0,e),t}function tI(e,t){t&&(tC("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tq(e){tk(e),e.drafts_.forEach(tA),e.drafts_=null}function tk(e){e===nO&&(nO=e.parent_)}function tO(e){return nO={drafts_:[],parent_:nO,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tA(e){let t=e[tr];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function tx(e,t){t.unfinalizedDrafts_=t.drafts_.length;let r=t.drafts_[0];return void 0!==e&&e!==r?(r[tr].modified_&&(tq(t),tn(4)),to(e)&&(e=tR(t,e),t.parent_||tD(t,e)),t.patches_&&tC("Patches").generateReplacementPatches_(r[tr].base_,e,t.patches_,t.inversePatches_)):e=tR(t,r,[]),tq(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==te?e:void 0}function tR(e,t,r){if(tS(t))return t;let n=t[tr];if(!n)return tu(t,(a,i)=>tE(e,n,t,a,i,r),!0),t;if(n.scope_!==e)return t;if(!n.modified_)return tD(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;let t=n.copy_,a=t,i=!1;3===n.type_&&(a=new Set(t),t.clear(),i=!0),tu(a,(a,o)=>tE(e,n,t,a,o,r,i)),tD(e,t,!1),r&&e.patches_&&tC("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function tE(e,t,r,n,a,i,o){if(ti(a)){let o=tR(e,a,i&&t&&3!==t.type_&&!td(t.assigned_,n)?i.concat(n):void 0);if(tp(r,n,o),!ti(o))return;e.canAutoFreeze_=!1}else o&&r.add(a);if(to(a)&&!tS(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;tR(e,a),t&&t.scope_.parent_||tD(e,a)}}function tD(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tv(t,r)}var tT={get(e,t){if(t===tr)return e;let r=ty(e);if(!td(r,t)){var n,a;let i;return n=e,(i=tM(r,t))?"value"in i?i.value:null==(a=i.get)?void 0:a.call(n.draft_):void 0}let i=r[t];return e.finalized_||!to(i)?i:i===tj(e.base_,t)?(tU(e),e.copy_[t]=t_(i,e)):i},has:(e,t)=>t in ty(e),ownKeys:e=>Reflect.ownKeys(ty(e)),set(e,t,r){let n=tM(ty(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){let n=tj(ty(e),t),a=null==n?void 0:n[tr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if((r===n?0!==r||1/r==1/n:r!=r&&n!=n)&&(void 0!==r||td(e.base_,t)))return!0;tU(e),tP(e)}return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==tj(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,tU(e),tP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){let r=ty(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}},defineProperty(){tn(11)},getPrototypeOf:e=>ta(e.base_),setPrototypeOf(){tn(12)}},tF={};function tj(e,t){let r=e[tr];return(r?ty(r):e)[t]}function tM(e,t){if(!(t in e))return;let r=ta(e);for(;r;){let e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=ta(r)}}function tP(e){e.modified_||(e.modified_=!0,e.parent_&&tP(e.parent_))}function tU(e){e.copy_||(e.copy_=tm(e.base_,e.scope_.immer_.useStrictShallowCopy_))}function t_(e,t){let r=th(e)?tC("MapSet").proxyMap_(e,t):tg(e)?tC("MapSet").proxySet_(e,t):function(e,t){let r=Array.isArray(e),n={type_:+!!r,scope_:t?t.scope_:nO,modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},a=n,i=tT;r&&(a=[n],i=tF);let{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:nO).drafts_.push(r),r}tu(tT,(e,t)=>{tF[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),tF.deleteProperty=function(e,t){return tF.set.call(this,e,t,void 0)},tF.set=function(e,t,r){return tT.set.call(this,e[0],t,r,e[0])};var tV=new class{createDraft(e){var t;to(e)||tn(8),ti(e)&&(ti(t=e)||tn(10,t),e=function e(t){if(!to(t)||tS(t))return t;let r=t[tr],n;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,n=tm(t,r.scope_.immer_.useStrictShallowCopy_)}else n=tm(t,!0);return tu(n,(t,r)=>{tp(n,t,e(r))}),r&&(r.finalized_=!1),n}(t));let r=tO(this),n=t_(e,void 0);return n[tr].isManual_=!0,tk(r),n}finishDraft(e,t){let r=e&&e[tr];r&&r.isManual_||tn(9);let{scope_:n}=r;return tI(n,t),tx(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){let n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));let n=tC("Patches").applyPatches_;return ti(e)?n(e,t):this.produce(e,e=>n(e,t))}constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{let n;if("function"==typeof e&&"function"!=typeof t){let r=t;t=e;let n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return n.produce(e,e=>t.call(this,e,...i))}}if("function"!=typeof t&&tn(6),void 0!==r&&"function"!=typeof r&&tn(7),to(e)){let a=tO(this),i=t_(e,void 0),o=!0;try{n=t(i),o=!1}finally{o?tq(a):tk(a)}return tI(a,r),tx(n,a)}if(e&&"object"==typeof e)tn(1,e);else{if(void 0===(n=t(e))&&(n=e),n===te&&(n=void 0),this.autoFreeze_&&tv(n,!0),r){let t=[],a=[];tC("Patches").generateReplacementPatches_(e,n,t,a),r(t,a)}return n}},this.produceWithPatches=(e,t)=>{let r,n;var a=this;return"function"==typeof e?function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return a.produceWithPatches(t,t=>e(t,...n))}:[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}},tQ=tV.produce,tL=tV.produceWithPatches.bind(tV),tN=(tV.setAutoFreeze.bind(tV),tV.setUseStrictShallowCopy.bind(tV),tV.applyPatches.bind(tV));tV.createDraft.bind(tV),tV.finishDraft.bind(tV);var tz=e=>Array.isArray(e)?e:[e];Symbol(),Object.getPrototypeOf({});var t$="u">typeof WeakRef?WeakRef:class{deref(){return this.value}constructor(e){this.value=e}};function tB(){return{s:0,v:void 0,o:null,p:null}}function tH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=tB(),{resultEqualityCheck:n}=t,a,i=0;function o(){let t=r,{length:o}=arguments;for(let e=0;e<o;e++){let r=arguments[e];if("function"==typeof r||"object"==typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);let n=e.get(r);void 0===n?(t=tB(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);let n=e.get(r);void 0===n?(t=tB(),e.set(r,t)):t=n}}let s=t,l;if(1===t.s?l=t.v:(l=e.apply(null,arguments),i++),s.s=1,n){var u,c;let e=null!=(c=null==a||null==(u=a.deref)?void 0:u.call(a))?c:a;null!=e&&n(e,l)&&(l=e,0!==i&&i--),a="object"==typeof l&&null!==l||"function"==typeof l?new t$(l):l}return s.v=l,l}return o.clearCache=()=>{r=tB(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}var tY=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let a="function"==typeof e?{memoize:e,memoizeOptions:r}:e,i=function(){let e;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];let i=0,o=0,s,l={},u=r.pop();"object"==typeof u&&(l=u,u=r.pop()),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!=typeof e)throw TypeError(t)}(u,"createSelector expects an output function after the inputs, but received: [".concat(typeof u,"]"));let{memoize:c,memoizeOptions:d=[],argsMemoize:f=tH,argsMemoizeOptions:p=[],devModeChecks:h={}}={...a,...l},g=tz(d),y=tz(p),m=(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"==typeof e)){let r=e.map(e=>"function"==typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw TypeError("".concat(t,"[").concat(r,"]"))}}(e=Array.isArray(r[0])?r[0]:r,"createSelector expects all input-selectors to be functions, but received the following types: "),e),v=c(function(){return i++,u.apply(null,arguments)},...g);return Object.assign(f(function(){o++;let e=function(e,t){let r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}(m,arguments);return s=v.apply(null,e)},...y),{resultFunc:u,memoizedResultFunc:v,dependencies:m,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:c,argsMemoize:f})};return Object.assign(i,{withTypes:()=>i}),i}(tH),tW=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tY;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!=typeof e)throw TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));let r=Object.keys(e);return t(r.map(t=>e[t]),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[r[n]]=t,e),{})})},{withTypes:()=>tW}),tG=e=>{let{dispatch:t,getState:r}=e;return e=>n=>"function"==typeof n?n(t,r,void 0):e(n)},tK=("u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"u">typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"==typeof e.match);function tJ(e,t){function r(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];if(t){let r=t(...n);if(!r)throw Error(rI(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return r.toString=()=>"".concat(e),r.type=e,r.match=t=>e7(t)&&t.type===e,r}var tZ=class e extends Array{static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}};function tX(e){return to(e)?tQ(e,()=>{}):e}function t0(e,t,r){if(e.has(t)){let n=e.get(t);return r.update&&(n=r.update(n,t,e),e.set(t,n)),n}if(!r.insert)throw Error(rI(10));let n=r.insert(t,e);return e.set(t,n),n}var t1="RTK_autoBatch",t2=()=>e=>({payload:e,meta:{[t1]:!0}}),t3=e=>t=>{setTimeout(t,e)},t5="u">typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:t3(10),t4=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];let i=t(...n),o=!0,s=!1,l=!1,u=new Set,c="tick"===e.type?queueMicrotask:"raf"===e.type?t5:"callback"===e.type?e.queueNotification:t3(e.timeout),d=()=>{l=!1,s&&(s=!1,u.forEach(e=>e()))};return Object.assign({},i,{subscribe(e){let t=i.subscribe(()=>o&&e());return u.add(e),()=>{t(),u.delete(e)}},dispatch(e){try{var t;return(s=!(o=!(null==e||null==(t=e.meta)?void 0:t[t1])))&&(l||(l=!0,c(d))),i.dispatch(e)}finally{o=!0}}})}};function t6(e){let t={},r=[],n,a={addCase(e,r){let n="string"==typeof e?e:e.type;if(!n)throw Error(rI(28));if(n in t)throw Error(rI(29));return t[n]=r,a},addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),a),addDefaultCase:e=>(n=e,a)};return e(a),[t,r,n]}function t8(e,t){let[r,n,a]=t6(t),i;if("function"==typeof e)i=()=>tX(e());else{let t=tX(e);i=()=>t}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),t=arguments.length>1?arguments[1]:void 0,o=[r[t.type],...n.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===o.filter(e=>!!e).length&&(o=[a]),o.reduce((e,r)=>{if(r)if(ti(e)){let n=r(e,t);return void 0===n?e:n}else{if(to(e))return tQ(e,e=>r(e,t));{let n=r(e,t);if(void 0===n){if(null===e)return e;throw Error(rI(9))}return n}}return e},e)}return o.getInitialState=i,o}var t9=(e,t)=>tK(e)?e.match(t):e(t);function t7(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>t.some(t=>t9(t,e))}function re(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>t.every(t=>t9(t,e))}function rt(e,t){if(!e||!e.meta)return!1;let r="string"==typeof e.meta.requestId,n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function rr(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function rn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>rt(e,["pending"]):rr(t)?t7(...t.map(e=>e.pending)):rn()(t[0])}function ra(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>rt(e,["rejected"]):rr(t)?t7(...t.map(e=>e.rejected)):ra()(t[0])}function ri(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length||rr(t)?re(ra(...t),e=>e&&e.meta&&e.meta.rejectedWithValue):ri()(t[0])}function ro(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>rt(e,["fulfilled"]):rr(t)?t7(...t.map(e=>e.fulfilled)):ro()(t[0])}function rs(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>rt(e,["pending","fulfilled","rejected"]):rr(t)?t7(...t.flatMap(e=>[e.pending,e.rejected,e.fulfilled])):rs()(t[0])}var rl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ru=["name","message","stack","code"],rc=class{constructor(e,t){h(this,"_type"),this.payload=e,this.meta=t}},rd=class{constructor(e,t){h(this,"_type"),this.payload=e,this.meta=t}},rf=e=>{if("object"==typeof e&&null!==e){let t={};for(let r of ru)"string"==typeof e[r]&&(t[r]=e[r]);return t}return{message:String(e)}},rp=(()=>{function e(e,t,r){let n=tJ(e+"/fulfilled",(e,t,r,n)=>({payload:e,meta:{...n||{},arg:r,requestId:t,requestStatus:"fulfilled"}})),a=tJ(e+"/pending",(e,t,r)=>({payload:void 0,meta:{...r||{},arg:t,requestId:e,requestStatus:"pending"}})),i=tJ(e+"/rejected",(e,t,n,a,i)=>({payload:a,error:(r&&r.serializeError||rf)(e||"Rejected"),meta:{...i||{},arg:n,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:(null==e?void 0:e.name)==="AbortError",condition:(null==e?void 0:e.name)==="ConditionError"}}));return Object.assign(function(e){return(o,s,l)=>{let u=(null==r?void 0:r.idGenerator)?r.idGenerator(e):rl(),c=new AbortController,d,f;function p(e){f=e,c.abort()}let h=async function(){let h;try{var g,y,m;let i=null==r||null==(g=r.condition)?void 0:g.call(r,e,{getState:s,extra:l});if(m=i,null!==m&&"object"==typeof m&&"function"==typeof m.then&&(i=await i),!1===i||c.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let v=new Promise((e,t)=>{d=()=>{t({name:"AbortError",message:f||"Aborted"})},c.signal.addEventListener("abort",d)});o(a(u,e,null==r||null==(y=r.getPendingMeta)?void 0:y.call(r,{requestId:u,arg:e},{getState:s,extra:l}))),h=await Promise.race([v,Promise.resolve(t(e,{dispatch:o,getState:s,extra:l,requestId:u,signal:c.signal,abort:p,rejectWithValue:(e,t)=>new rc(e,t),fulfillWithValue:(e,t)=>new rd(e,t)})).then(t=>{if(t instanceof rc)throw t;return t instanceof rd?n(t.payload,u,e,t.meta):n(t,u,e)})])}catch(t){h=t instanceof rc?i(null,u,e,t.payload,t.meta):i(t,u,e)}finally{d&&c.signal.removeEventListener("abort",d)}return r&&!r.dispatchConditionRejection&&i.match(h)&&h.meta.condition||o(h),h}();return Object.assign(h,{abort:p,requestId:u,arg:e,unwrap:()=>h.then(rh)})}},{pending:a,rejected:i,fulfilled:n,settled:t7(i,n),typePrefix:e})}return e.withTypes=()=>e,e})();function rh(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var rg=Symbol.for("rtk-slice-createasyncthunk"),ry=function(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=null==t||null==(e=t.asyncThunk)?void 0:e[rg];return function(e){let{name:t,reducerPath:n=t}=e;if(!t)throw Error(rI(11));let a=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},i=Object.keys(a),o={},s={},l={},u=[],c={addCase(e,t){let r="string"==typeof e?e:e.type;if(!r)throw Error(rI(12));if(r in s)throw Error(rI(13));return s[r]=t,c},addMatcher:(e,t)=>(u.push({matcher:e,reducer:t}),c),exposeAction:(e,t)=>(l[e]=t,c),exposeCaseReducer:(e,t)=>(o[e]=t,c)};function d(){let[t={},r=[],n]="function"==typeof e.extraReducers?t6(e.extraReducers):[e.extraReducers],a={...t,...s};return t8(e.initialState,e=>{for(let t in a)e.addCase(t,a[t]);for(let t of u)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}i.forEach(n=>{let i=a[n],o={reducerName:n,type:"".concat(t,"/").concat(n),createNotation:"function"==typeof e.reducers};"asyncThunk"===i._reducerDefinitionType?function(e,t,r,n){let{type:a,reducerName:i}=e;if(!n)throw Error(rI(18));let{payloadCreator:o,fulfilled:s,pending:l,rejected:u,settled:c,options:d}=t,f=n(a,o,d);r.exposeAction(i,f),s&&r.addCase(f.fulfilled,s),l&&r.addCase(f.pending,l),u&&r.addCase(f.rejected,u),c&&r.addMatcher(f.settled,c),r.exposeCaseReducer(i,{fulfilled:s||rm,pending:l||rm,rejected:u||rm,settled:c||rm})}(o,i,c,r):function(e,t,r){let n,a,{type:i,reducerName:o,createNotation:s}=e;if("reducer"in t){if(s&&"reducerWithPrepare"!==t._reducerDefinitionType)throw Error(rI(17));n=t.reducer,a=t.prepare}else n=t;r.addCase(i,n).exposeCaseReducer(o,n).exposeAction(o,a?tJ(i,a):tJ(i))}(o,i,c)});let f=e=>e,p=new Map,h;function g(e,t){return h||(h=d()),h(e,t)}function y(){return h||(h=d()),h.getInitialState()}function m(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let n=e[t];return typeof n>"u"&&r&&(n=y()),n}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=t0(p,r,{insert:()=>new WeakMap});return t0(n,t,{insert:()=>{var n;let a={};for(let[i,o]of Object.entries(null!=(n=e.selectors)?n:{}))a[i]=function(e,t,r,n){function a(a){for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}(o,t,y,r);return a}})}return{reducerPath:t,getSelectors:a,get selectors(){return a(n)},selectSlice:n}}let v={name:t,reducer:g,actions:l,caseReducers:o,getInitialState:y,...m(n),injectInto(e){let{reducerPath:t,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null!=t?t:n;return e.inject({reducerPath:a,reducer:g},r),{...v,...m(a,!0)}}};return v}}();function rm(){}var rv="listener";"".concat(rv,"-").concat("cancelled"),"".concat(rv,"-").concat("completed");var{assign:rw}=Object,rS="listenerMiddleware",rb=rw(tJ("".concat(rS,"/add")),{withTypes:()=>rb}),rC=(tJ("".concat(rS,"/removeAll")),rw(tJ("".concat(rS,"/remove")),{withTypes:()=>rC}));function rI(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}async function rq(e,t){let r=e.getReader(),n;for(;!(n=await r.read()).done;)t(n.value)}function rk(){return{data:"",event:"",id:"",retry:void 0}}Symbol.for("rtk-state-proxy-original");var rO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r},rA="text/event-stream",rx="last-event-id";function rR(){}function rE(e,t){var{signal:r,headers:n,onopen:a,onmessage:i,onclose:o,onerror:s,openWhenHidden:l,fetch:u}=t,c=rO(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((t,d)=>{let f,p=Object.assign({},n);function h(){null==f||f.abort(),document.hidden||S()}p.accept||(p.accept=rA),!l&&rR()&&document.addEventListener("visibilitychange",h);let g=1e3,y=0;function m(){rR()&&document.removeEventListener("visibilitychange",h),clearTimeout(y),null==f||f.abort()}null==r||r.addEventListener("abort",()=>{m(),t()});let v=null!=u?u:v,w=null!=a?a:rD;async function S(){var r,n,a,l;f=typeof AbortController>"u"?null:new AbortController;try{let r,s,u,d,h,y,S=await v(e,Object.assign(Object.assign({},c),{headers:p,signal:null==f?void 0:f.signal}));await w(S),await rq(S.body,(n=e=>{e?p[rx]=e:delete p[rx]},a=e=>{g=e},r=rk(),s=new TextDecoder,l=function(e,t){if(0===e.length)null==i||i(r),r=rk();else if(t>0){let i=s.decode(e.subarray(0,t)),o=t+(32===e[t+1]?2:1),l=s.decode(e.subarray(o));switch(i){case"data":r.data=r.data?r.data+"\n"+l:l;break;case"event":r.event=l;break;case"id":n(r.id=l);break;case"retry":let u=parseInt(l,10);isNaN(u)||a(r.retry=u)}}},y=!1,function(e){var t,r;let n;void 0===u?(u=e,d=0,h=-1):(t=u,r=e,(n=new Uint8Array(t.length+r.length)).set(t),n.set(r,t.length),u=n);let a=u.length,i=0;for(;d<a;){y&&(10===u[d]&&(i=++d),y=!1);let e=-1;for(;d<a&&-1===e;++d)switch(u[d]){case 58:-1===h&&(h=d-i);break;case 13:y=!0;case 10:e=d}if(-1===e)break;l(u.subarray(i,e),h),i=d,h=-1}i===a?u=void 0:0!==i&&(u=u.subarray(i),d-=i)})),null==o||o(),m(),t()}catch(e){if(!(null==f?void 0:f.signal.aborted))try{let t=null!=(r=null==s?void 0:s(e))?r:g;clearTimeout(y),y=setTimeout(S,t)}catch(e){m(),d(e)}}}S()})}function rD(e){let t=e.headers.get("content-type");if(!(null==t?void 0:t.startsWith(rA)))throw Error("Expected content-type to be ".concat(rA,", Actual: ").concat(t))}function rT(){if(typeof window>"u"){let{AbortController:e}=F();return new e}return typeof AbortController>"u"?null:new AbortController}var rF=class{addParam(e,t){this._params={...this.params,[e]:t}}get basePath(){return this._basePath}get params(){return this._params}get hasParams(){return Object.entries(this._params).length}get href(){return this.hasParams?"".concat(this.basePath,"?").concat(Object.entries(this.params).map(e=>{let[t,r]=e;return"".concat(t,"=").concat(encodeURIComponent(r))}).join("&")):this.basePath}constructor(e){this._params={},this._basePath=e}},rj=e=>/^https:\/\/platform(dev|stg|hipaa)?(-)?(eu|au)?\.cloud\.coveo\.com/.test(e),rM=(e,t)=>{let r=rP(e);return r&&r.organizationId===t?r:null},rP=e=>{let t=e.match(RegExp("^https:\\/\\/(?<organizationId>\\w+)\\.org(?<environment>dev|stg|hipaa)?\\.coveo\\.com"));return(null==t?void 0:t.groups)?t.groups:null},rU=(e,t,r)=>new rF("".concat(e,"/rest/organizations/").concat(t,"/machinelearning/streaming/").concat(r)).href,r_=class extends null{},rV=class extends Error{constructor(e){super(e.message),this.payload=e}},rQ=class{add(e){this.timeouts.add(e)}remove(e){clearTimeout(e),this.timeouts.delete(e)}isActive(e){return this.timeouts.has(e)}constructor(){this.timeouts=new Set}};function rL(e){let{url:t,accessToken:r,organizationId:n,authentication:a,...i}=e;return i}var rN=e=>{let{response:t}=e;return t.body?rz(e):r$(t)},rz=e=>void 0!==e.body.exception?rB(e):void 0!==e.body.statusCode?e.body:{message:"unknown",statusCode:0,type:"unknown"},r$=e=>{let t=JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e)));return{...t,message:"Client side error: ".concat(t.message||""),statusCode:400,type:"ClientError"}},rB=e=>({message:e.body.exception.code,statusCode:e.response.status,type:e.body.exception.code}),rH=class{async enqueue(e,t){let r=this.currentAbortController,n=this.currentAbortController=rT();r&&(t.warnOnAbort&&t.logger.warn("Cancelling current pending search query"),r.abort());try{var a;return await e(null!=(a=null==n?void 0:n.signal)?a:null)}finally{this.currentAbortController===n&&(this.currentAbortController=null)}}constructor(){this.currentAbortController=null}},rY=(e,t,r,n)=>{let a=new rF("".concat(e.url).concat(n));return a.addParam("organizationId",e.organizationId),e.authentication&&a.addParam("authentication",e.authentication),{accessToken:e.accessToken,method:t,contentType:r,url:a.href,origin:"searchApiFetch"}},rW=(e,t)=>{let r=new rF("".concat(e.url).concat(t));return r.addParam("access_token",e.accessToken),r.addParam("organizationId",e.organizationId),r.addParam("uniqueId",e.uniqueId),void 0!==e.q&&r.addParam("q",e.q),void 0!==e.enableNavigation&&r.addParam("enableNavigation","".concat(e.enableNavigation)),void 0!==e.requestedOutputSize&&r.addParam("requestedOutputSize","".concat(e.requestedOutputSize)),void 0!==e.visitorId&&r.addParam("visitorId","".concat(e.visitorId)),r.href},rG=async(e,t)=>{let r=await en.call({...rY(e,"POST","application/x-www-form-urlencoded","/html"),requestParams:rL(e),requestMetadata:{method:"html"},...t});if(r instanceof Error)throw r;let n=((r.headers.get("content-type")||"").split(";").find(e=>-1!==e.indexOf("charset="))||"").split("=")[1]||"UTF-8",a=await r.arrayBuffer(),i=new TextDecoder(n).decode(a);return"string"==typeof i?{success:i}:{error:rN({response:r,body:i})}};function rK(e,t){if(t&&"AbortError"===e.name)return{error:{statusCode:e.code,type:e.name,message:e.message,ignored:!0}};if(e instanceof K)return{error:{statusCode:e.statusCode,type:e.name,message:e.message}};throw e}var rJ=e=>void 0!==e.success,rZ=e=>void 0!==e.error;function rX(e){return void 0!==e.results}function r0(e){let t=eZ();return eE(e.questionAnswer)?e.questionAnswer=t:e.questionAnswer={...t,...e.questionAnswer},e}var r1=new eU({required:!0,emptyAllowed:!1}),r2=new eU({required:!1,emptyAllowed:!1}),r3=new eU({required:!0,emptyAllowed:!0}),r5=new eU({required:!1,emptyAllowed:!0}),r4=new eL({each:r1,required:!0}),r6=new eU({required:!1,emptyAllowed:!1,regex:/^\d+\.\d+\.\d+$/}),r8=e=>{let{message:t,name:r,stack:n}=e;return{message:t,name:r,stack:n}},r9=(e,t)=>{if("required"in t)return{payload:new eA({value:t}).validate({value:e}).value};let r=new eV({options:{required:!0},values:t}).validate(e);if(r)throw new eO(r);return{payload:e}},r7=(e,t)=>{try{return r9(e,t)}catch(t){return{payload:e,error:r8(t)}}},ne=(e,t,r,n)=>nt(e,t,r,"Check the options of ".concat(n),"Controller initialization error"),nt=(e,t,r,n,a)=>{try{return t.validate(r,n)}catch(t){throw e.logger.error(t,a),t}},nr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,nn="0.7.10";function na(e,t,r,n){let{getReferrer:a,getLocation:i,getUserAgent:o}=r,s=function(e){let{trackingId:t}=e;return{trackingId:t}}(t),l=n.getClientId();return Object.freeze({type:e,config:s,ts:Date.now(),source:(t.source||[]).concat(["relay@".concat(nn)]),clientId:l,userAgent:o(),referrer:a(),location:i()})}function ni(e){let{url:t,token:r,trackingId:n,...a}=e;return Object.freeze({url:t,token:r,trackingId:n,...!!a.mode&&{mode:a.mode},...!!a.source&&{source:a.source}})}var no=function(){let e="coveo_",t=e=>{let t=e.split(".").slice(-2);return 2==t.length?t.join("."):""};return{getItem(t){let r="".concat(e).concat(t,"=");for(let e of document.cookie.split(";")){let t=e.replace(/^\s+/,"");if(0===t.lastIndexOf(r,0))return t.substring(r.length,t.length)}return null},setItem(r,n,a){let i=t(window.location.hostname),o=";expires=".concat(new Date(new Date().getTime()+a).toUTCString());document.cookie="".concat(e).concat(r,"=").concat(n).concat(o).concat(i?";domain=".concat(i):"",";path=/;SameSite=Lax")},removeItem(e){this.setItem(e,"",-1)}}}(),ns="2.80.2",nl=tY(e=>e.source,e=>Object.entries(e).map(e=>{let[t,r]=e;return"".concat(t,"@").concat(r)}).concat("@coveo/headless@".concat(ns))),nu=tY(e=>e.configuration.accessToken,e=>e.configuration.analytics,e=>nl(e.configuration.analytics),(e,t,r)=>{let{trackingId:n,nextApiBaseUrl:a,enabled:i}=t;return function(e){let t,r=(t=ni(e),{get:()=>t,update:e=>{t=ni({...t,...e})}}),n=function(){let e=[];function t(t){let{type:r,callback:n}=t;return e.findIndex(e=>e.type===r&&e.callback===n)}function r(r,n){let a;n?(a=t({type:r,callback:n}))>=0&&e.splice(a,1):function(t){if("*"===t)e.length=0;else for(let r=e.length-1;r>=0;r--)e[r].type===t&&e.splice(r,1)}(r)}return{add:function(n){return 0>t(n)&&e.push(n),()=>r(n.type,n.callback)},call:function(t){e.forEach(e=>{var r;if(r=t.meta.type,"*"===e.type||r===e.type)try{e.callback(t)}catch(e){console.error(e)}})},remove:r}}(),a={get:()=>Object.freeze("disabled"!==r.get().mode&&function(){try{return"object"==typeof window}catch(e){return!1}}()&&function(){try{let e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return e instanceof DOMException&&"QuotaExceededError"===e.name&&localStorage&&0!==localStorage.length}}()?{runtime:"browser",send:(e,t,r)=>{let n,a=navigator.sendBeacon("".concat(e,"?access_token=").concat(t),new Blob([JSON.stringify([r])],{type:"application/json"}));if((n="u">typeof window,{sendMessage(e){n&&window.postMessage(e,"*")}}).sendMessage({kind:"EVENT_PROTOCOL",event:r,url:e,token:t}),!a)throw Error("Failed to send the event(s) because the payload size exceeded the maximum allowed size (32 KB). Please contact support if the problem persists.")},getReferrer:()=>{let e;return""===(e=document.referrer)?null:e},getLocation:()=>window.location.href,getUserAgent:()=>navigator.userAgent,generateUUID:()=>crypto.randomUUID(),storage:{getItem:e=>no.getItem(e)||localStorage.getItem(e),removeItem(e){no.removeItem(e),localStorage.removeItem(e)},setItem(e,t){localStorage.setItem(e,t),no.setItem(e,t,31556952e3)}}}:{runtime:"null",send:()=>{},getReferrer:()=>null,getLocation:()=>null,getUserAgent:()=>null,generateUUID:()=>"",storage:{getItem:()=>null,removeItem(){},setItem(){}}})},i={getClientId:()=>{var e;let t="visitorId",r=a.get(),n=r.storage,i=n.getItem(t),o=i&&"string"==typeof(e=i)&&nr.test(e)?i:r.generateUUID();return n.setItem(t,o),o}};return{emit:(e,t)=>{let o=r.get(),s=a.get(),l={...t,meta:na(e,o,s,i)};return function(e){let{config:t,environment:r,event:n,listenerManager:a}=e,{url:i,token:o,mode:s}=t;"disabled"!==s&&(a.call(n),r.send(i,o,n))}({config:o,environment:s,event:l,listenerManager:n})},getMeta:e=>na(e,r.get(),a.get(),i),on:(e,t)=>n.add({type:e,callback:t}),off:(e,t)=>n.remove(e,t),updateConfig:e=>r.update(e),version:nn}}({mode:i?"emit":"disabled",url:a,token:e,trackingId:n,source:r})});function nc(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function nd(e,t,r,n){return new(r||(r=Promise))(function(a,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})}function nf(){return"u">typeof window}function np(){return"u">typeof navigator}function nh(){return"u">typeof document}function ng(){try{return"u">typeof localStorage}catch(e){return!1}}function ny(){return np()&&navigator.cookieEnabled}!function(e){e.search="search",e.click="click",e.custom="custom",e.view="view",e.collect="collect"}(nA||(nA={}));var nm=[nA.click,nA.custom,nA.search,nA.view],nv=(e,t)=>-1!==nm.indexOf(e)?Object.assign({language:nh()?document.documentElement.lang:"unknown",userAgent:np()?navigator.userAgent:"unknown"},t):t,nw=class e{static set(e,t,r){var n,a,i;r&&(n=new Date).setTime(n.getTime()+r),-1===(i=window.location.hostname).indexOf(".")?nS(e,t,n):nS(e,t,n,(a=i.split("."))[a.length-2]+"."+a[a.length-1])}static get(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){var a=r[n];if(0===(a=a.replace(/^\s+/,"")).lastIndexOf(t,0))return a.substring(t.length,a.length)}return null}static erase(t){e.set(t,"",-1)}};function nS(e,t,r,n){document.cookie="".concat(e,"=").concat(t)+(r?";expires=".concat(r.toUTCString()):"")+(n?";domain=".concat(n):"")+";path=/;SameSite=Lax"}var nb=class e{getItem(t){return nw.get("".concat(e.prefix).concat(t))}removeItem(t){nw.erase("".concat(e.prefix).concat(t))}setItem(t,r,n){nw.set("".concat(e.prefix).concat(t),r,n)}};nb.prefix="coveo_";var nC,nI,nq,nk,nO,nA,nx,nR=class{getItem(e){return localStorage.getItem(e)||this.cookieStorage.getItem(e)}removeItem(e){this.cookieStorage.removeItem(e),localStorage.removeItem(e)}setItem(e,t){localStorage.setItem(e,t),this.cookieStorage.setItem(e,t,31556926e3)}constructor(){this.cookieStorage=new nb}},nE=class{getItem(e){return null}removeItem(e){}setItem(e,t){}},nD="__coveo.analytics.history",nT=class{addElement(e){e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=this.getHistoryWithInternalTime();null!=t?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])}addElementAsync(e){return nd(this,void 0,void 0,function*(){e.internalTime=new Date().getTime(),e=this.cropQueryElement(this.stripEmptyQuery(e));let t=yield this.getHistoryWithInternalTimeAsync();null!=t?this.isValidEntry(e)&&this.setHistory([e].concat(t)):this.setHistory([e])})}getHistory(){let e=this.getHistoryWithInternalTime();return this.stripEmptyQueries(this.stripInternalTime(e))}getHistoryAsync(){return nd(this,void 0,void 0,function*(){let e=yield this.getHistoryWithInternalTimeAsync();return this.stripEmptyQueries(this.stripInternalTime(e))})}getHistoryWithInternalTime(){try{let e=this.store.getItem(nD);return e&&"string"==typeof e?JSON.parse(e):[]}catch(e){return[]}}getHistoryWithInternalTimeAsync(){return nd(this,void 0,void 0,function*(){try{let e=yield this.store.getItem(nD);return e?JSON.parse(e):[]}catch(e){return[]}})}setHistory(e){try{this.store.setItem(nD,JSON.stringify(e.slice(0,20)))}catch(e){}}clear(){try{this.store.removeItem(nD)}catch(e){}}getMostRecentElement(){let e=this.getHistoryWithInternalTime();return Array.isArray(e)?e.sort((e,t)=>(t.internalTime||0)-(e.internalTime||0))[0]:null}cropQueryElement(e){return e.name&&e.value&&"query"===e.name.toLowerCase()&&(e.value=e.value.slice(0,75)),e}isValidEntry(e){let t=this.getMostRecentElement();return!t||t.value!=e.value||(e.internalTime||0)-(t.internalTime||0)>6e4}stripInternalTime(e){return Array.isArray(e)?e.map(e=>{let{name:t,time:r,value:n}=e;return{name:t,time:r,value:n}}):[]}stripEmptyQuery(e){let{name:t,time:r,value:n}=e;return t&&"string"==typeof n&&"query"===t.toLowerCase()&&""===n.trim()?{name:t,time:r}:e}stripEmptyQueries(e){return e.map(e=>this.stripEmptyQuery(e))}constructor(e){this.store=e||(ng()?localStorage:ny()?new nb:!function(){try{return"u">typeof sessionStorage}catch(e){return!1}}()?new nE:sessionStorage)}},nF=Object.freeze({__proto__:null,HistoryStore:nT,MAX_NUMBER_OF_HISTORY_ELEMENTS:20,MAX_VALUE_SIZE:75,MIN_THRESHOLD_FOR_DUPLICATE_VALUE:6e4,STORE_KEY:nD,default:nT}),nj=(e,t)=>nd(void 0,void 0,void 0,function*(){return e===nA.view?(yield nM(t.contentIdValue),Object.assign({location:window.location.toString(),referrer:document.referrer,title:document.title},t)):t}),nM=e=>nd(void 0,void 0,void 0,function*(){let t=new nT,r={name:"PageView",value:e,time:new Date().toISOString()};yield t.addElementAsync(r)}),nP=new Uint8Array(16),nU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function n_(e){return"string"==typeof e&&nU.test(e)}var nV=[];for(let e=0;e<256;++e)nV.push((e+256).toString(16).slice(1));function nQ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(nV[e[t+0]]+nV[e[t+1]]+nV[e[t+2]]+nV[e[t+3]]+"-"+nV[e[t+4]]+nV[e[t+5]]+"-"+nV[e[t+6]]+nV[e[t+7]]+"-"+nV[e[t+8]]+nV[e[t+9]]+"-"+nV[e[t+10]]+nV[e[t+11]]+nV[e[t+12]]+nV[e[t+13]]+nV[e[t+14]]+nV[e[t+15]]).toLowerCase()}var nL={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function nN(e,t,r){if(nL.randomUUID&&!t&&!e)return nL.randomUUID();let n=(e=e||{}).random||(e.rng||function(){if(!nx&&!(nx="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nx(nP)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return nQ(n)}function nz(e,t){return e<<t|e>>>32-t}var n$=function(e,t,r){function n(e,t,n,a){var i;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof t&&(t=function(e){if(!n_(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/0x10000000000&255,r[11]=t/0x100000000&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}(t)),(null==(i=t)?void 0:i.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+e.length);if(o.set(t),o.set(e,t.length),(o=r(o))[6]=15&o[6]|80,o[8]=63&o[8]|128,n){a=a||0;for(let e=0;e<16;++e)n[a+e]=o[e];return n}return nQ(o)}try{n.name="v5"}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}(0,0,function(e){let t=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6],r=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0];if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let n=Math.ceil((e.length/4+2)/16),a=Array(n);for(let t=0;t<n;++t){let r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[n-1][14]=(e.length-1)*8/0x100000000,a[n-1][14]=Math.floor(a[n-1][14]),a[n-1][15]=(e.length-1)*8|0;for(let e=0;e<n;++e){let n=new Uint32Array(80);for(let t=0;t<16;++t)n[t]=a[e][t];for(let e=16;e<80;++e)n[e]=nz(n[e-3]^n[e-8]^n[e-14]^n[e-16],1);let i=r[0],o=r[1],s=r[2],l=r[3],u=r[4];for(let e=0;e<80;++e){let r=Math.floor(e/20),a=nz(i,5)+function(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}(r,o,s,l)+u+t[r]+n[e]>>>0;u=l,l=s,s=nz(o,30)>>>0,o=i,i=a}r[0]=r[0]+i>>>0,r[1]=r[1]+o>>>0,r[2]=r[2]+s>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+u>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}),nB="2.30.26",nH=e=>"".concat(e.protocol,"//").concat(e.hostname).concat(0===e.pathname.indexOf("/")?e.pathname:"/".concat(e.pathname)).concat(e.search),nY={pageview:"pageview",event:"event"},nW=class{constructor({client:e,uuidGenerator:t=nN}){this.client=e,this.uuidGenerator=t}},nG=class extends nW{getApi(e){return"setAction"===e?this.setAction:null}setAction(e,t){this.action=e,this.actionData=t}clearData(){this.clearPluginData(),this.action=void 0,this.actionData={}}getLocationInformation(e,t){return Object.assign({hitType:e},this.getNextValues(e,t))}updateLocationInformation(e,t){this.updateLocationForNextPageView(e,t)}getDefaultContextInformation(e){let t={title:nh()?document.title:"",encoding:nh()?document.characterSet:"UTF-8"},r={screenResolution:"".concat(screen.width,"x").concat(screen.height),screenColor:"".concat(screen.colorDepth,"-bit")},n={language:navigator.language,userAgent:navigator.userAgent};return Object.assign(Object.assign(Object.assign(Object.assign({},{time:Date.now(),eventId:this.uuidGenerator()}),r),n),t)}updateLocationForNextPageView(e,t){let{pageViewId:r,referrer:n,location:a}=this.getNextValues(e,t);this.lastReferrer=n,this.pageViewId=r,this.currentLocation=a,e===nY.pageview&&(this.nextPageViewId=this.uuidGenerator(),this.hasSentFirstPageView=!0)}getNextValues(e,t){return{pageViewId:e===nY.pageview?this.nextPageViewId:this.pageViewId,referrer:e===nY.pageview&&this.hasSentFirstPageView?this.currentLocation:this.lastReferrer,location:e===nY.pageview?this.getCurrentLocationFromPayload(t):this.currentLocation}}getCurrentLocationFromPayload(e){return e.page?"".concat(this.currentLocation.split("/").slice(0,3).join("/")).concat(e.page.replace(/^\/?(.*)$/,"/$1")):nH(window.location)}constructor({client:e,uuidGenerator:t=nN}){super({client:e,uuidGenerator:t}),this.actionData={},this.pageViewId=t(),this.nextPageViewId=this.pageViewId,this.currentLocation=nH(window.location),this.lastReferrer=nh()?document.referrer:"",this.addHooks()}},nK=class e{toString(){return this.clientId.replace(/-/g,"")+"."+this.creationDate.toString()}get expired(){let t=Math.floor(Date.now()/1e3)-this.creationDate;return t<0||t>e.expirationTime}validate(e,t){return!this.expired&&this.matchReferrer(e,t)}matchReferrer(e,t){try{let r=new URL(e);return t.some(e=>RegExp(e.replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")+"$").test(r.host))}catch(e){return!1}}static fromString(t){let r=t.split(".");if(2!==r.length)return null;let[n,a]=r;if(32!==n.length||isNaN(parseInt(a)))return null;let i=n.substring(0,8)+"-"+n.substring(8,12)+"-"+n.substring(12,16)+"-"+n.substring(16,20)+"-"+n.substring(20,32);return n_(i)?new e(i,1e3*Number.parseInt(a)):null}constructor(e,t){if(!n_(e))throw Error("Not a valid uuid");this.clientId=e,this.creationDate=Math.floor(t/1e3)}};nK.cvo_cid="cvo_cid",nK.expirationTime=120;var nJ=Object.keys;function nZ(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}var nX={id:"svc_ticket_id",subject:"svc_ticket_subject",description:"svc_ticket_description",category:"svc_ticket_category",productId:"svc_ticket_product_id",custom:"svc_ticket_custom"},n0=[...nJ(nX).map(e=>nX[e])].join("|"),n1=new RegExp("^(".concat(n0,"$)")),n2=e=>nJ(e).filter(t=>void 0!==e[t]).reduce((t,r)=>{let n=nX[r]||r;return Object.assign(Object.assign({},t),{[n]:e[r]})},{}),n3=[e=>n1.test(e)],n5={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",price:"pr",quantity:"qt",coupon:"cc",position:"ps",group:"group"},n4={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",group:"group"},n6={action:"pa",list:"pal",listSource:"pls"},n8={id:"ti",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",affiliation:"ta",step:"cos",option:"col"},n9={id:"quoteId",affiliation:"quoteAffiliation"},n7={id:"reviewId",rating:"reviewRating",comment:"reviewComment"},ae={add:n6,bookmark_add:n6,bookmark_remove:n6,click:n6,checkout:n6,checkout_option:n6,detail:n6,impression:n6,remove:n6,refund:Object.assign(Object.assign({},n6),n8),purchase:Object.assign(Object.assign({},n6),n8),quickview:n6,quote:Object.assign(Object.assign({},n6),n9),review:Object.assign(Object.assign({},n6),n7)},at=nJ(n5).map(e=>n5[e]),ar=nJ(n4).map(e=>n4[e]),an=nJ(n6).map(e=>n6[e]),aa=nJ(n8).map(e=>n8[e]),ai=nJ(n7).map(e=>n7[e]),ao=nJ(n9).map(e=>n9[e]),as=[...at,"custom"].join("|"),al=[...ar,"custom"].join("|"),au="(pr[0-9]+)",ac="(il[0-9]+pi[0-9]+)",ad=new RegExp("^".concat(au,"(").concat(as,")$")),af=new RegExp("^(".concat(ac,"(").concat(al,"))|(il[0-9]+nm)$")),ap=new RegExp("^(".concat(an.join("|"),")$")),ah=new RegExp("^(".concat(aa.join("|"),")$")),ag=new RegExp("^".concat(au,"custom$")),ay=new RegExp("^".concat(ac,"custom$")),am=new RegExp("^(".concat(["loyaltyCardId","loyaltyTier","thirdPartyPersona","companyName","favoriteStore","storeName","userIndustry","userRole","userDepartment","businessUnit",...ai,...ao].join("|"),")$")),av=[e=>af.test(e),e=>ad.test(e),e=>ap.test(e),e=>ah.test(e),e=>am.test(e)],aw=[ag,ay],aS=Object.assign(Object.assign({},Object.assign(Object.assign(Object.assign(Object.assign({},{anonymizeIp:"aip"}),{eventCategory:"ec",eventAction:"ea",eventLabel:"el",eventValue:"ev",page:"dp",visitorId:"cid",clientId:"cid",userId:"uid",currencyCode:"cu"}),{hitType:"t",pageViewId:"pid",encoding:"de",location:"dl",referrer:"dr",screenColor:"sd",screenResolution:"sr",title:"dt",userAgent:"ua",language:"ul",eventId:"z",time:"tm"}),["contentId","contentIdKey","contentType","searchHub","tab","searchUid","permanentId","contentLocale","trackingId"].reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:t}),{}))),{svcAction:"svc_action",svcActionData:"svc_action_data"}),ab=e=>{let t=!!e.action&&ae[e.action]||{};return nJ(e).reduce((r,n)=>{let a=t[n]||aS[n]||n;return Object.assign(Object.assign({},r),{[a]:e[n]})},{})},aC=nJ(aS).map(e=>aS[e]),aI=e=>-1!==aC.indexOf(e),aq=e=>"custom"===e,ak=e=>[...av,...n3,aI,aq].some(t=>t(e)),aO=e=>nJ(e).reduce((t,r)=>{let n=aA(r);return n?Object.assign(Object.assign({},t),ax(n,e[r])):Object.assign(Object.assign({},t),{[r]:e[r]})},{}),aA=e=>{let t;return[...aw].every(r=>{var n;return!(t=null==(n=r.exec(e))?void 0:n[1])}),t},ax=(e,t)=>nJ(t).reduce((r,n)=>Object.assign(Object.assign({},r),{["".concat(e).concat(n)]:t[n]}),{}),aR=class{sendEvent(e,t){return nd(this,void 0,void 0,function*(){if(!this.isAvailable())throw Error('navigator.sendBeacon is not supported in this browser. Consider adding a polyfill like "sendbeacon-polyfill".');let{baseUrl:r,preprocessRequest:n}=this.opts,a=yield this.getQueryParamsForEventType(e),{url:i,payload:o}=yield this.preProcessRequestAsPotentialJSONString("".concat(r,"/analytics/").concat(e,"?").concat(a),t,n),s=new Blob([this.encodeForEventType(e,o)],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon(i,s)})}isAvailable(){return"sendBeacon"in navigator}deleteHttpCookieVisitorId(){return Promise.resolve()}preProcessRequestAsPotentialJSONString(e,t,r){return nd(this,void 0,void 0,function*(){let n=e,a=t;if(r){let{url:i,body:o}=yield r({url:e,body:JSON.stringify(t)},"analyticsBeacon");n=i||e;try{a=JSON.parse(o)}catch(e){console.error("Unable to process the request body as a JSON string",e)}}return{payload:a,url:n}})}encodeForEventType(e,t){return this.isEventTypeLegacy(e)?this.encodeEventToJson(e,t):this.encodeEventToJson(e,t,this.opts.token)}getQueryParamsForEventType(e){return nd(this,void 0,void 0,function*(){let{token:t,visitorIdProvider:r}=this.opts,n=yield r.getCurrentVisitorId();return[t&&this.isEventTypeLegacy(e)?"access_token=".concat(t):"",n?"visitorId=".concat(n):"","discardVisitInfo=true"].filter(e=>!!e).join("&")})}isEventTypeLegacy(e){return -1!==[nA.click,nA.custom,nA.search,nA.view].indexOf(e)}encodeEventToJson(e,t,r){let n="".concat(e,"Event=").concat(encodeURIComponent(JSON.stringify(t)));return r&&(n="access_token=".concat(encodeURIComponent(r),"&").concat(n)),n}constructor(e){this.opts=e}},aE=class{sendEvent(e,t){return nd(this,void 0,void 0,function*(){return Promise.resolve()})}deleteHttpCookieVisitorId(){return nd(this,void 0,void 0,function*(){return Promise.resolve()})}},aD=window.fetch,aT=class{sendEvent(e,t){return nd(this,void 0,void 0,function*(){let{baseUrl:r,visitorIdProvider:n,preprocessRequest:a}=this.opts,i=this.shouldAppendVisitorId(e)?yield this.getVisitorIdParam():"",o={url:"".concat(r,"/analytics/").concat(e).concat(i),credentials:"include",mode:"cors",headers:this.getHeaders(),method:"POST",body:JSON.stringify(t)},s=Object.assign(Object.assign({},o),a?yield a(o,"analyticsFetch"):{}),{url:l}=s,u=nc(s,["url"]),c;try{c=yield aD(l,u)}catch(e){console.error("An error has occured when sending the event.",e);return}if(c.ok){let e=yield c.json();return e.visitorId&&n.setCurrentVisitorId(e.visitorId),e}try{c.json()}catch(e){}throw console.error('An error has occured when sending the "'.concat(e,'" event.'),c,t),Error('An error has occurred when sending the "'.concat(e,'" event. Check the console logs for more details.'))})}deleteHttpCookieVisitorId(){return nd(this,void 0,void 0,function*(){let{baseUrl:e}=this.opts;yield aD("".concat(e,"/analytics/visit"),{headers:this.getHeaders(),method:"DELETE"})})}shouldAppendVisitorId(e){return -1!==[nA.click,nA.custom,nA.search,nA.view].indexOf(e)}getVisitorIdParam(){return nd(this,void 0,void 0,function*(){let{visitorIdProvider:e}=this.opts,t=yield e.getCurrentVisitorId();return t?"?visitor=".concat(t):""})}getHeaders(){let{token:e}=this.opts;return Object.assign(Object.assign({},e?{Authorization:"Bearer ".concat(e)}:{}),{"Content-Type":"application/json"})}constructor(e){this.opts=e}},aF=class{getClientDependingOnEventType(e){return"click"===e&&this.beaconClient.isAvailable()?this.beaconClient:this.client}constructor(e,t){ng()&&ny()?this.storage=new nR:ng()?this.storage=localStorage:(console.warn("BrowserRuntime detected no valid storage available.",this),this.storage=new nE),this.client=new aT(e),this.beaconClient=new aR(e),window.addEventListener("beforeunload",()=>{for(let{eventType:e,payload:r}of t())this.beaconClient.sendEvent(e,r)})}},aj=class{getClientDependingOnEventType(e){return this.client}constructor(e,t){this.storage=t||new nE,this.client=new aT(e)}},aM=class{getClientDependingOnEventType(e){return this.client}constructor(){this.storage=new nE,this.client=new aE}},aP=e=>(null==e?void 0:e.startsWith("xx"))||!1,aU=["1",1,"yes",!0];function a_(){return np()&&[navigator.globalPrivacyControl,navigator.doNotTrack,navigator.msDoNotTrack,window.doNotTrack].some(e=>-1!==aU.indexOf(e))}var aV,aQ={default:"https://analytics.cloud.coveo.com/rest/ua"},aL=class{get defaultOptions(){return{endpoint:aQ.default,isCustomEndpoint:!1,token:"",version:"v15",beforeSendHooks:[],afterSendHooks:[]}}get version(){return nB}initRuntime(e){return nf()&&nh()?new aF(e,()=>{let e=[...this.bufferedRequests];return this.bufferedRequests=[],e}):("u">typeof navigator&&"ReactNative"==navigator.product&&console.warn("\n        We've detected you're using React Native but have not provided the corresponding runtime, \n        for an optimal experience please use the \"coveo.analytics/react-native\" subpackage.\n        Follow the Readme on how to set it up: https://github.com/coveo/coveo.analytics.js#using-react-native\n    "),new aj(e))}get storage(){return this.runtime.storage}determineVisitorId(){return nd(this,void 0,void 0,function*(){try{return nf()&&this.extractClientIdFromLink(window.location.href)||(yield this.storage.getItem("visitorId"))||nN()}catch(e){return console.log("Could not get visitor ID from the current runtime environment storage. Using a random ID instead.",e),nN()}})}getCurrentVisitorId(){return nd(this,void 0,void 0,function*(){if(!this.visitorId){let e=yield this.determineVisitorId();yield this.setCurrentVisitorId(e)}return this.visitorId})}setCurrentVisitorId(e){return nd(this,void 0,void 0,function*(){this.visitorId=e,yield this.storage.setItem("visitorId",e)})}setClientId(e,t){return nd(this,void 0,void 0,function*(){if(n_(e))this.setCurrentVisitorId(e.toLowerCase());else{if(!t)throw Error("Cannot generate uuid client id without a specific namespace string.");this.setCurrentVisitorId(n$(e,n$(t,"38824e1f-37f5-42d3-8372-a4b8fa9df946")))}})}getParameters(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return nd(this,void 0,void 0,function*(){return yield this.resolveParameters(e,...r)})}getPayload(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return nd(this,void 0,void 0,function*(){let t=yield this.resolveParameters(e,...r);return yield this.resolvePayloadForParameters(e,t)})}get currentVisitorId(){return"string"!=typeof(this.visitorId||this.storage.getItem("visitorId"))&&this.setCurrentVisitorId(nN()),this.visitorId}set currentVisitorId(e){this.visitorId=e,this.storage.setItem("visitorId",e)}extractClientIdFromLink(e){if(a_())return null;try{let t=new URL(e).searchParams.get(nK.cvo_cid);if(null==t)return null;let r=nK.fromString(t);return r&&nh()&&r.validate(document.referrer,this.acceptedLinkReferrers)?r.clientId:null}catch(e){}return null}resolveParameters(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return nd(this,void 0,void 0,function*(){let{variableLengthArgumentsNames:t=[],addVisitorIdParameter:n=!1,usesMeasurementProtocol:a=!1,addClientIdParameter:i=!1}=this.eventTypeMapping[e]||{};return yield[e=>t.length>0?this.parseVariableArgumentsPayload(t,e):e[0],e=>nd(this,void 0,void 0,function*(){return Object.assign(Object.assign({},e),{visitorId:n?yield this.getCurrentVisitorId():""})}),e=>nd(this,void 0,void 0,function*(){return i?Object.assign(Object.assign({},e),{clientId:yield this.getCurrentVisitorId()}):e}),e=>a?this.ensureAnonymousUserWhenUsingApiKey(e):e,t=>this.beforeSendHooks.reduce((t,r)=>nd(this,void 0,void 0,function*(){let n=yield t;return yield r(e,n)}),t)].reduce((e,t)=>nd(this,void 0,void 0,function*(){let r=yield e;return yield t(r)}),Promise.resolve(r))})}resolvePayloadForParameters(e,t){return nd(this,void 0,void 0,function*(){let{usesMeasurementProtocol:r=!1}=this.eventTypeMapping[e]||{};return yield[e=>this.setTrackingIdIfTrackingIdNotPresent(e),t=>this.removeEmptyPayloadValues(t,e),t=>this.validateParams(t,e),e=>r?ab(e):e,e=>r?this.removeUnknownParameters(e):e,e=>r?this.processCustomParameters(e):this.mapCustomParametersToCustomData(e)].reduce((e,t)=>nd(this,void 0,void 0,function*(){let r=yield e;return yield t(r)}),Promise.resolve(t))})}makeEvent(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return nd(this,void 0,void 0,function*(){let{newEventType:t=e}=this.eventTypeMapping[e]||{},n=yield this.resolveParameters(e,...r),a=yield this.resolvePayloadForParameters(e,n);return{eventType:t,payload:a,log:r=>nd(this,void 0,void 0,function*(){return this.bufferedRequests.push({eventType:t,payload:Object.assign(Object.assign({},a),r)}),yield Promise.all(this.afterSendHooks.map(t=>t(e,Object.assign(Object.assign({},n),r)))),yield this.deferExecution(),yield this.sendFromBuffer()})}})}sendEvent(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return nd(this,void 0,void 0,function*(){return(yield this.makeEvent(e,...r)).log({})})}deferExecution(){return new Promise(e=>setTimeout(e,0))}sendFromBuffer(){return nd(this,void 0,void 0,function*(){let e=this.bufferedRequests.shift();if(e){let{eventType:t,payload:r}=e;return this.runtime.getClientDependingOnEventType(t).sendEvent(t,r)}})}clear(){this.storage.removeItem("visitorId"),new nT().clear()}deleteHttpOnlyVisitorId(){this.runtime.client.deleteHttpCookieVisitorId()}makeSearchEvent(e){return nd(this,void 0,void 0,function*(){return this.makeEvent(nA.search,e)})}sendSearchEvent(e){var{searchQueryUid:t}=e,r=nc(e,["searchQueryUid"]);return nd(this,void 0,void 0,function*(){return(yield this.makeSearchEvent(r)).log({searchQueryUid:t})})}makeClickEvent(e){return nd(this,void 0,void 0,function*(){return this.makeEvent(nA.click,e)})}sendClickEvent(e){var{searchQueryUid:t}=e,r=nc(e,["searchQueryUid"]);return nd(this,void 0,void 0,function*(){return(yield this.makeClickEvent(r)).log({searchQueryUid:t})})}makeCustomEvent(e){return nd(this,void 0,void 0,function*(){return this.makeEvent(nA.custom,e)})}sendCustomEvent(e){var{lastSearchQueryUid:t}=e,r=nc(e,["lastSearchQueryUid"]);return nd(this,void 0,void 0,function*(){return(yield this.makeCustomEvent(r)).log({lastSearchQueryUid:t})})}makeViewEvent(e){return nd(this,void 0,void 0,function*(){return this.makeEvent(nA.view,e)})}sendViewEvent(e){return nd(this,void 0,void 0,function*(){return(yield this.makeViewEvent(e)).log({})})}getVisit(){return nd(this,void 0,void 0,function*(){let e=yield(yield fetch("".concat(this.baseUrl,"/analytics/visit"))).json();return this.visitorId=e.visitorId,e})}getHealth(){return nd(this,void 0,void 0,function*(){return yield(yield fetch("".concat(this.baseUrl,"/analytics/monitoring/health"))).json()})}registerBeforeSendEventHook(e){this.beforeSendHooks.push(e)}registerAfterSendEventHook(e){this.afterSendHooks.push(e)}addEventTypeMapping(e,t){this.eventTypeMapping[e]=t}setAcceptedLinkReferrers(e){if(Array.isArray(e)&&e.every(e=>"string"==typeof e))this.acceptedLinkReferrers=e;else throw Error("Parameter should be an array of domain strings")}parseVariableArgumentsPayload(e,t){let r={};for(let n=0,a=t.length;n<a;n++){let a=t[n];if("string"==typeof a)r[e[n]]=a;else if("object"==typeof a)return Object.assign(Object.assign({},r),a)}return r}isKeyAllowedEmpty(e,t){return -1!==(({[nA.search]:["queryText"]})[e]||[]).indexOf(t)}removeEmptyPayloadValues(e,t){let r=e=>"u">typeof e&&null!==e&&""!==e;return Object.keys(e).filter(n=>this.isKeyAllowedEmpty(t,n)||r(e[n])).reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:e[r]}),{})}removeUnknownParameters(e){return Object.keys(e).filter(e=>{if(ak(e))return!0;console.log(e,"is not processed by coveoua")}).reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:e[r]}),{})}processCustomParameters(e){let{custom:t}=e,r=nc(e,["custom"]),n={};t&&nZ(t)&&(n=this.lowercaseKeys(t));let a=aO(r);return Object.assign(Object.assign({},n),a)}mapCustomParametersToCustomData(e){let{custom:t}=e,r=nc(e,["custom"]);if(!(t&&nZ(t)))return e;{let n=this.lowercaseKeys(t);return Object.assign(Object.assign({},r),{customData:Object.assign(Object.assign({},n),e.customData)})}}lowercaseKeys(e){let t=Object.keys(e),r={};return t.forEach(t=>{r[t.toLowerCase()]=e[t]}),r}validateParams(e,t){let{anonymizeIp:r}=e,n=nc(e,["anonymizeIp"]);return void 0!==r&&-1==["0","false","undefined","null","{}","[]",""].indexOf("".concat(r).toLowerCase())&&(n.anonymizeIp=1),(t==nA.view||t==nA.click||t==nA.search||t==nA.custom)&&(n.originLevel3=this.limit(n.originLevel3,128)),t==nA.view&&(n.location=this.limit(n.location,128)),("pageview"==t||"event"==t)&&(n.referrer=this.limit(n.referrer,2048),n.location=this.limit(n.location,2048),n.page=this.limit(n.page,2048)),n}ensureAnonymousUserWhenUsingApiKey(e){let{userId:t}=e,r=nc(e,["userId"]);return aP(this.options.token)&&!t?(r.userId="anonymous",r):e}setTrackingIdIfTrackingIdNotPresent(e){let{trackingId:t}=e,r=nc(e,["trackingId"]);return t?e:(r.hasOwnProperty("custom")&&nZ(r.custom)&&(r.custom.hasOwnProperty("context_website")||r.custom.hasOwnProperty("siteName"))&&(r.trackingId=r.custom.context_website||r.custom.siteName),r.hasOwnProperty("customData")&&nZ(r.customData)&&(r.customData.hasOwnProperty("context_website")||r.customData.hasOwnProperty("siteName"))&&(r.trackingId=r.customData.context_website||r.customData.siteName),r)}limit(e,t){return"string"!=typeof e?e:e.substring(0,t)}get baseUrl(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aQ.default,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v15",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e=e.replace(/\/$/,""),r)return"".concat(e,"/").concat(t);let n=e.endsWith("/rest")||e.endsWith("/rest/ua");return"".concat(e).concat(n?"":"/rest","/").concat(t)}(this.options.endpoint,this.options.version,this.options.isCustomEndpoint)}constructor(e){if(this.acceptedLinkReferrers=[],!e)throw Error("You have to pass options to this constructor");this.options=Object.assign(Object.assign({},this.defaultOptions),e),this.visitorId="",this.bufferedRequests=[],this.beforeSendHooks=[nj,nv].concat(this.options.beforeSendHooks),this.afterSendHooks=this.options.afterSendHooks,this.eventTypeMapping={};let t={baseUrl:this.baseUrl,token:this.options.token,visitorIdProvider:this,preprocessRequest:this.options.preprocessRequest};a_()?this.runtime=new aM:this.runtime=this.options.runtimeEnvironment||this.initRuntime(t),this.addEventTypeMapping(nA.view,{newEventType:nA.view,addClientIdParameter:!0}),this.addEventTypeMapping(nA.click,{newEventType:nA.click,addClientIdParameter:!0}),this.addEventTypeMapping(nA.custom,{newEventType:nA.custom,addClientIdParameter:!0}),this.addEventTypeMapping(nA.search,{newEventType:nA.search,addClientIdParameter:!0})}};!function(e){e.contextChanged="contextChanged",e.expandToFullUI="expandToFullUI",e.openUserActions="openUserActions",e.showPrecedingSessions="showPrecedingSessions",e.showFollowingSessions="showFollowingSessions",e.clickViewedDocument="clickViewedDocument",e.clickPageView="clickPageView",e.createArticle="createArticle"}(aV||(aV={})),function(e){e.interfaceLoad="interfaceLoad",e.interfaceChange="interfaceChange",e.didyoumeanAutomatic="didyoumeanAutomatic",e.didyoumeanClick="didyoumeanClick",e.resultsSort="resultsSort",e.searchboxSubmit="searchboxSubmit",e.searchboxClear="searchboxClear",e.searchboxAsYouType="searchboxAsYouType",e.breadcrumbFacet="breadcrumbFacet",e.breadcrumbResetAll="breadcrumbResetAll",e.documentQuickview="documentQuickview",e.documentOpen="documentOpen",e.omniboxAnalytics="omniboxAnalytics",e.omniboxFromLink="omniboxFromLink",e.searchFromLink="searchFromLink",e.triggerNotify="notify",e.triggerExecute="execute",e.triggerQuery="query",e.undoTriggerQuery="undoQuery",e.triggerRedirect="redirect",e.pagerResize="pagerResize",e.pagerNumber="pagerNumber",e.pagerNext="pagerNext",e.pagerPrevious="pagerPrevious",e.pagerScrolling="pagerScrolling",e.staticFilterClearAll="staticFilterClearAll",e.staticFilterSelect="staticFilterSelect",e.staticFilterDeselect="staticFilterDeselect",e.facetClearAll="facetClearAll",e.facetSearch="facetSearch",e.facetSelect="facetSelect",e.facetSelectAll="facetSelectAll",e.facetDeselect="facetDeselect",e.facetExclude="facetExclude",e.facetUnexclude="facetUnexclude",e.facetUpdateSort="facetUpdateSort",e.facetShowMore="showMoreFacetResults",e.facetShowLess="showLessFacetResults",e.queryError="query",e.queryErrorBack="errorBack",e.queryErrorClear="errorClearQuery",e.queryErrorRetry="errorRetry",e.recommendation="recommendation",e.recommendationInterfaceLoad="recommendationInterfaceLoad",e.recommendationOpen="recommendationOpen",e.likeSmartSnippet="likeSmartSnippet",e.dislikeSmartSnippet="dislikeSmartSnippet",e.expandSmartSnippet="expandSmartSnippet",e.collapseSmartSnippet="collapseSmartSnippet",e.openSmartSnippetFeedbackModal="openSmartSnippetFeedbackModal",e.closeSmartSnippetFeedbackModal="closeSmartSnippetFeedbackModal",e.sendSmartSnippetReason="sendSmartSnippetReason",e.expandSmartSnippetSuggestion="expandSmartSnippetSuggestion",e.collapseSmartSnippetSuggestion="collapseSmartSnippetSuggestion",e.showMoreSmartSnippetSuggestion="showMoreSmartSnippetSuggestion",e.showLessSmartSnippetSuggestion="showLessSmartSnippetSuggestion",e.openSmartSnippetSource="openSmartSnippetSource",e.openSmartSnippetSuggestionSource="openSmartSnippetSuggestionSource",e.openSmartSnippetInlineLink="openSmartSnippetInlineLink",e.openSmartSnippetSuggestionInlineLink="openSmartSnippetSuggestionInlineLink",e.recentQueryClick="recentQueriesClick",e.clearRecentQueries="clearRecentQueries",e.recentResultClick="recentResultClick",e.clearRecentResults="clearRecentResults",e.noResultsBack="noResultsBack",e.showMoreFoldedResults="showMoreFoldedResults",e.showLessFoldedResults="showLessFoldedResults",e.copyToClipboard="copyToClipboard",e.caseSendEmail="Case.SendEmail",e.feedItemTextPost="FeedItem.TextPost",e.caseAttach="caseAttach",e.caseDetach="caseDetach",e.retryGeneratedAnswer="retryGeneratedAnswer",e.likeGeneratedAnswer="likeGeneratedAnswer",e.dislikeGeneratedAnswer="dislikeGeneratedAnswer",e.openGeneratedAnswerSource="openGeneratedAnswerSource",e.generatedAnswerStreamEnd="generatedAnswerStreamEnd",e.generatedAnswerSourceHover="generatedAnswerSourceHover",e.generatedAnswerCopyToClipboard="generatedAnswerCopyToClipboard",e.generatedAnswerHideAnswers="generatedAnswerHideAnswers",e.generatedAnswerShowAnswers="generatedAnswerShowAnswers",e.generatedAnswerExpand="generatedAnswerExpand",e.generatedAnswerCollapse="generatedAnswerCollapse",e.generatedAnswerFeedbackSubmit="generatedAnswerFeedbackSubmit",e.rephraseGeneratedAnswer="rephraseGeneratedAnswer",e.generatedAnswerFeedbackSubmitV2="generatedAnswerFeedbackSubmitV2"}(nC||(nC={}));var aN={[nC.triggerNotify]:"queryPipelineTriggers",[nC.triggerExecute]:"queryPipelineTriggers",[nC.triggerQuery]:"queryPipelineTriggers",[nC.triggerRedirect]:"queryPipelineTriggers",[nC.queryError]:"errors",[nC.queryErrorBack]:"errors",[nC.queryErrorClear]:"errors",[nC.queryErrorRetry]:"errors",[nC.pagerNext]:"getMoreResults",[nC.pagerPrevious]:"getMoreResults",[nC.pagerNumber]:"getMoreResults",[nC.pagerResize]:"getMoreResults",[nC.pagerScrolling]:"getMoreResults",[nC.facetSearch]:"facet",[nC.facetShowLess]:"facet",[nC.facetShowMore]:"facet",[nC.recommendation]:"recommendation",[nC.likeSmartSnippet]:"smartSnippet",[nC.dislikeSmartSnippet]:"smartSnippet",[nC.expandSmartSnippet]:"smartSnippet",[nC.collapseSmartSnippet]:"smartSnippet",[nC.openSmartSnippetFeedbackModal]:"smartSnippet",[nC.closeSmartSnippetFeedbackModal]:"smartSnippet",[nC.sendSmartSnippetReason]:"smartSnippet",[nC.expandSmartSnippetSuggestion]:"smartSnippetSuggestions",[nC.collapseSmartSnippetSuggestion]:"smartSnippetSuggestions",[nC.showMoreSmartSnippetSuggestion]:"smartSnippetSuggestions",[nC.showLessSmartSnippetSuggestion]:"smartSnippetSuggestions",[nC.clearRecentQueries]:"recentQueries",[nC.recentResultClick]:"recentlyClickedDocuments",[nC.clearRecentResults]:"recentlyClickedDocuments",[nC.showLessFoldedResults]:"folding",[nC.caseDetach]:"case",[nC.likeGeneratedAnswer]:"generatedAnswer",[nC.dislikeGeneratedAnswer]:"generatedAnswer",[nC.openGeneratedAnswerSource]:"generatedAnswer",[nC.generatedAnswerStreamEnd]:"generatedAnswer",[nC.generatedAnswerSourceHover]:"generatedAnswer",[nC.generatedAnswerCopyToClipboard]:"generatedAnswer",[nC.generatedAnswerHideAnswers]:"generatedAnswer",[nC.generatedAnswerShowAnswers]:"generatedAnswer",[nC.generatedAnswerExpand]:"generatedAnswer",[nC.generatedAnswerCollapse]:"generatedAnswer",[nC.generatedAnswerFeedbackSubmit]:"generatedAnswer",[nC.generatedAnswerFeedbackSubmitV2]:"generatedAnswer",[aV.expandToFullUI]:"interface",[aV.openUserActions]:"User Actions",[aV.showPrecedingSessions]:"User Actions",[aV.showFollowingSessions]:"User Actions",[aV.clickViewedDocument]:"User Actions",[aV.clickPageView]:"User Actions",[aV.createArticle]:"createArticle"},az=class{getPayload(){return Promise.resolve()}getParameters(){return Promise.resolve()}makeEvent(e){return Promise.resolve({eventType:e,payload:null,log:()=>Promise.resolve()})}sendEvent(){return Promise.resolve()}makeSearchEvent(){return this.makeEvent(nA.search)}sendSearchEvent(){return Promise.resolve()}makeClickEvent(){return this.makeEvent(nA.click)}sendClickEvent(){return Promise.resolve()}makeCustomEvent(){return this.makeEvent(nA.custom)}sendCustomEvent(){return Promise.resolve()}makeViewEvent(){return this.makeEvent(nA.view)}sendViewEvent(){return Promise.resolve()}getVisit(){return Promise.resolve({id:"",visitorId:""})}getHealth(){return Promise.resolve({status:""})}registerBeforeSendEventHook(){}registerAfterSendEventHook(){}addEventTypeMapping(){}get version(){return nB}constructor(){this.runtime=new aM,this.currentVisitorId=""}},a$=e=>(function e(t){let r=t.join(";");return r.length<=256?r:e(t.slice(1))})(function(e){let t="";return e.filter(e=>{let r=e!==t;return t=e,r})}(e.map(e=>e.replace(/;/g,""))));function aB(e){let t="string"==typeof e.partialQueries?e.partialQueries:a$(e.partialQueries),r="string"==typeof e.suggestions?e.suggestions:a$(e.suggestions);return Object.assign(Object.assign({},e),{partialQueries:t,suggestions:r})}var aH=class{disable(){this.coveoAnalyticsClient=new az}enable(){this.coveoAnalyticsClient=new aL(this.opts)}makeInterfaceLoad(){return this.makeSearchEvent(nC.interfaceLoad)}logInterfaceLoad(){return nd(this,void 0,void 0,function*(){return(yield this.makeInterfaceLoad()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendationInterfaceLoad(){return this.makeSearchEvent(nC.recommendationInterfaceLoad)}logRecommendationInterfaceLoad(){return nd(this,void 0,void 0,function*(){return(yield this.makeRecommendationInterfaceLoad()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendation(){return this.makeCustomEvent(nC.recommendation)}logRecommendation(){return nd(this,void 0,void 0,function*(){return(yield this.makeRecommendation()).log({searchUID:this.provider.getSearchUID()})})}makeRecommendationOpen(e,t){return this.makeClickEvent(nC.recommendationOpen,e,t)}logRecommendationOpen(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeRecommendationOpen(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterClearAll(e){return this.makeSearchEvent(nC.staticFilterClearAll,e)}logStaticFilterClearAll(e){return nd(this,void 0,void 0,function*(){return(yield this.makeStaticFilterClearAll(e)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterSelect(e){return this.makeSearchEvent(nC.staticFilterSelect,e)}logStaticFilterSelect(e){return nd(this,void 0,void 0,function*(){return(yield this.makeStaticFilterSelect(e)).log({searchUID:this.provider.getSearchUID()})})}makeStaticFilterDeselect(e){return this.makeSearchEvent(nC.staticFilterDeselect,e)}logStaticFilterDeselect(e){return nd(this,void 0,void 0,function*(){return(yield this.makeStaticFilterDeselect(e)).log({searchUID:this.provider.getSearchUID()})})}makeFetchMoreResults(){return this.makeCustomEvent(nC.pagerScrolling,{type:"getMoreResults"})}logFetchMoreResults(){return nd(this,void 0,void 0,function*(){return(yield this.makeFetchMoreResults()).log({searchUID:this.provider.getSearchUID()})})}makeInterfaceChange(e){return this.makeSearchEvent(nC.interfaceChange,e)}logInterfaceChange(e){return nd(this,void 0,void 0,function*(){return(yield this.makeInterfaceChange(e)).log({searchUID:this.provider.getSearchUID()})})}makeDidYouMeanAutomatic(){return this.makeSearchEvent(nC.didyoumeanAutomatic)}logDidYouMeanAutomatic(){return nd(this,void 0,void 0,function*(){return(yield this.makeDidYouMeanAutomatic()).log({searchUID:this.provider.getSearchUID()})})}makeDidYouMeanClick(){return this.makeSearchEvent(nC.didyoumeanClick)}logDidYouMeanClick(){return nd(this,void 0,void 0,function*(){return(yield this.makeDidYouMeanClick()).log({searchUID:this.provider.getSearchUID()})})}makeResultsSort(e){return this.makeSearchEvent(nC.resultsSort,e)}logResultsSort(e){return nd(this,void 0,void 0,function*(){return(yield this.makeResultsSort(e)).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxSubmit(){return this.makeSearchEvent(nC.searchboxSubmit)}logSearchboxSubmit(){return nd(this,void 0,void 0,function*(){return(yield this.makeSearchboxSubmit()).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxClear(){return this.makeSearchEvent(nC.searchboxClear)}logSearchboxClear(){return nd(this,void 0,void 0,function*(){return(yield this.makeSearchboxClear()).log({searchUID:this.provider.getSearchUID()})})}makeSearchboxAsYouType(){return this.makeSearchEvent(nC.searchboxAsYouType)}logSearchboxAsYouType(){return nd(this,void 0,void 0,function*(){return(yield this.makeSearchboxAsYouType()).log({searchUID:this.provider.getSearchUID()})})}makeBreadcrumbFacet(e){return this.makeSearchEvent(nC.breadcrumbFacet,e)}logBreadcrumbFacet(e){return nd(this,void 0,void 0,function*(){return(yield this.makeBreadcrumbFacet(e)).log({searchUID:this.provider.getSearchUID()})})}makeBreadcrumbResetAll(){return this.makeSearchEvent(nC.breadcrumbResetAll)}logBreadcrumbResetAll(){return nd(this,void 0,void 0,function*(){return(yield this.makeBreadcrumbResetAll()).log({searchUID:this.provider.getSearchUID()})})}makeDocumentQuickview(e,t){return this.makeClickEvent(nC.documentQuickview,e,t)}logDocumentQuickview(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeDocumentQuickview(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeDocumentOpen(e,t){return this.makeClickEvent(nC.documentOpen,e,t)}logDocumentOpen(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeDocumentOpen(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOmniboxAnalytics(e){return this.makeSearchEvent(nC.omniboxAnalytics,aB(e))}logOmniboxAnalytics(e){return nd(this,void 0,void 0,function*(){return(yield this.makeOmniboxAnalytics(e)).log({searchUID:this.provider.getSearchUID()})})}makeOmniboxFromLink(e){return this.makeSearchEvent(nC.omniboxFromLink,aB(e))}logOmniboxFromLink(e){return nd(this,void 0,void 0,function*(){return(yield this.makeOmniboxFromLink(e)).log({searchUID:this.provider.getSearchUID()})})}makeSearchFromLink(){return this.makeSearchEvent(nC.searchFromLink)}logSearchFromLink(){return nd(this,void 0,void 0,function*(){return(yield this.makeSearchFromLink()).log({searchUID:this.provider.getSearchUID()})})}makeTriggerNotify(e){return this.makeCustomEvent(nC.triggerNotify,e)}logTriggerNotify(e){return nd(this,void 0,void 0,function*(){return(yield this.makeTriggerNotify(e)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerExecute(e){return this.makeCustomEvent(nC.triggerExecute,e)}logTriggerExecute(e){return nd(this,void 0,void 0,function*(){return(yield this.makeTriggerExecute(e)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerQuery(){return this.makeCustomEvent(nC.triggerQuery,{query:this.provider.getSearchEventRequestPayload().queryText},"queryPipelineTriggers")}logTriggerQuery(){return nd(this,void 0,void 0,function*(){return(yield this.makeTriggerQuery()).log({searchUID:this.provider.getSearchUID()})})}makeUndoTriggerQuery(e){return this.makeSearchEvent(nC.undoTriggerQuery,e)}logUndoTriggerQuery(e){return nd(this,void 0,void 0,function*(){return(yield this.makeUndoTriggerQuery(e)).log({searchUID:this.provider.getSearchUID()})})}makeTriggerRedirect(e){return this.makeCustomEvent(nC.triggerRedirect,Object.assign(Object.assign({},e),{query:this.provider.getSearchEventRequestPayload().queryText}))}logTriggerRedirect(e){return nd(this,void 0,void 0,function*(){return(yield this.makeTriggerRedirect(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerResize(e){return this.makeCustomEvent(nC.pagerResize,e)}logPagerResize(e){return nd(this,void 0,void 0,function*(){return(yield this.makePagerResize(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerNumber(e){return this.makeCustomEvent(nC.pagerNumber,e)}logPagerNumber(e){return nd(this,void 0,void 0,function*(){return(yield this.makePagerNumber(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerNext(e){return this.makeCustomEvent(nC.pagerNext,e)}logPagerNext(e){return nd(this,void 0,void 0,function*(){return(yield this.makePagerNext(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerPrevious(e){return this.makeCustomEvent(nC.pagerPrevious,e)}logPagerPrevious(e){return nd(this,void 0,void 0,function*(){return(yield this.makePagerPrevious(e)).log({searchUID:this.provider.getSearchUID()})})}makePagerScrolling(){return this.makeCustomEvent(nC.pagerScrolling)}logPagerScrolling(){return nd(this,void 0,void 0,function*(){return(yield this.makePagerScrolling()).log({searchUID:this.provider.getSearchUID()})})}makeFacetClearAll(e){return this.makeSearchEvent(nC.facetClearAll,e)}logFacetClearAll(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetClearAll(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSearch(e){return this.makeSearchEvent(nC.facetSearch,e)}logFacetSearch(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetSearch(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSelect(e){return this.makeSearchEvent(nC.facetSelect,e)}logFacetSelect(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetSelect(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetDeselect(e){return this.makeSearchEvent(nC.facetDeselect,e)}logFacetDeselect(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetDeselect(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetExclude(e){return this.makeSearchEvent(nC.facetExclude,e)}logFacetExclude(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetExclude(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetUnexclude(e){return this.makeSearchEvent(nC.facetUnexclude,e)}logFacetUnexclude(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetUnexclude(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetSelectAll(e){return this.makeSearchEvent(nC.facetSelectAll,e)}logFacetSelectAll(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetSelectAll(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetUpdateSort(e){return this.makeSearchEvent(nC.facetUpdateSort,e)}logFacetUpdateSort(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetUpdateSort(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetShowMore(e){return this.makeCustomEvent(nC.facetShowMore,e)}logFacetShowMore(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetShowMore(e)).log({searchUID:this.provider.getSearchUID()})})}makeFacetShowLess(e){return this.makeCustomEvent(nC.facetShowLess,e)}logFacetShowLess(e){return nd(this,void 0,void 0,function*(){return(yield this.makeFacetShowLess(e)).log({searchUID:this.provider.getSearchUID()})})}makeQueryError(e){return this.makeCustomEvent(nC.queryError,e)}logQueryError(e){return nd(this,void 0,void 0,function*(){return(yield this.makeQueryError(e)).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorBack(){return nd(this,void 0,void 0,function*(){let e=yield this.makeCustomEvent(nC.queryErrorBack);return{description:e.description,log:()=>nd(this,void 0,void 0,function*(){return yield e.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(nC.queryErrorBack)})}})}logQueryErrorBack(){return nd(this,void 0,void 0,function*(){return(yield this.makeQueryErrorBack()).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorRetry(){return nd(this,void 0,void 0,function*(){let e=yield this.makeCustomEvent(nC.queryErrorRetry);return{description:e.description,log:()=>nd(this,void 0,void 0,function*(){return yield e.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(nC.queryErrorRetry)})}})}logQueryErrorRetry(){return nd(this,void 0,void 0,function*(){return(yield this.makeQueryErrorRetry()).log({searchUID:this.provider.getSearchUID()})})}makeQueryErrorClear(){return nd(this,void 0,void 0,function*(){let e=yield this.makeCustomEvent(nC.queryErrorClear);return{description:e.description,log:()=>nd(this,void 0,void 0,function*(){return yield e.log({searchUID:this.provider.getSearchUID()}),this.logSearchEvent(nC.queryErrorClear)})}})}logQueryErrorClear(){return nd(this,void 0,void 0,function*(){return(yield this.makeQueryErrorClear()).log({searchUID:this.provider.getSearchUID()})})}makeLikeSmartSnippet(){return this.makeCustomEvent(nC.likeSmartSnippet)}logLikeSmartSnippet(){return nd(this,void 0,void 0,function*(){return(yield this.makeLikeSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeDislikeSmartSnippet(){return this.makeCustomEvent(nC.dislikeSmartSnippet)}logDislikeSmartSnippet(){return nd(this,void 0,void 0,function*(){return(yield this.makeDislikeSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeExpandSmartSnippet(){return this.makeCustomEvent(nC.expandSmartSnippet)}logExpandSmartSnippet(){return nd(this,void 0,void 0,function*(){return(yield this.makeExpandSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeCollapseSmartSnippet(){return this.makeCustomEvent(nC.collapseSmartSnippet)}logCollapseSmartSnippet(){return nd(this,void 0,void 0,function*(){return(yield this.makeCollapseSmartSnippet()).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetFeedbackModal(){return this.makeCustomEvent(nC.openSmartSnippetFeedbackModal)}logOpenSmartSnippetFeedbackModal(){return nd(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetFeedbackModal()).log({searchUID:this.provider.getSearchUID()})})}makeCloseSmartSnippetFeedbackModal(){return this.makeCustomEvent(nC.closeSmartSnippetFeedbackModal)}logCloseSmartSnippetFeedbackModal(){return nd(this,void 0,void 0,function*(){return(yield this.makeCloseSmartSnippetFeedbackModal()).log({searchUID:this.provider.getSearchUID()})})}makeSmartSnippetFeedbackReason(e,t){return this.makeCustomEvent(nC.sendSmartSnippetReason,{reason:e,details:t})}logSmartSnippetFeedbackReason(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeSmartSnippetFeedbackReason(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeExpandSmartSnippetSuggestion(e){return this.makeCustomEvent(nC.expandSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}logExpandSmartSnippetSuggestion(e){return nd(this,void 0,void 0,function*(){return(yield this.makeExpandSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeCollapseSmartSnippetSuggestion(e){return this.makeCustomEvent(nC.collapseSmartSnippetSuggestion,"documentId"in e?e:{documentId:e})}logCollapseSmartSnippetSuggestion(e){return nd(this,void 0,void 0,function*(){return(yield this.makeCollapseSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeShowMoreSmartSnippetSuggestion(e){return this.makeCustomEvent(nC.showMoreSmartSnippetSuggestion,e)}logShowMoreSmartSnippetSuggestion(e){return nd(this,void 0,void 0,function*(){return(yield this.makeShowMoreSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeShowLessSmartSnippetSuggestion(e){return this.makeCustomEvent(nC.showLessSmartSnippetSuggestion,e)}logShowLessSmartSnippetSuggestion(e){return nd(this,void 0,void 0,function*(){return(yield this.makeShowLessSmartSnippetSuggestion(e)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSource(e,t){return this.makeClickEvent(nC.openSmartSnippetSource,e,t)}logOpenSmartSnippetSource(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSource(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSuggestionSource(e,t){return this.makeClickEvent(nC.openSmartSnippetSuggestionSource,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}makeCopyToClipboard(e,t){return this.makeClickEvent(nC.copyToClipboard,e,t)}logCopyToClipboard(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeCopyToClipboard(e,t)).log({searchUID:this.provider.getSearchUID()})})}logOpenSmartSnippetSuggestionSource(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSuggestionSource(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetInlineLink(e,t){return this.makeClickEvent(nC.openSmartSnippetInlineLink,e,{contentIDKey:t.contentIDKey,contentIDValue:t.contentIDValue},t)}logOpenSmartSnippetInlineLink(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetInlineLink(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeOpenSmartSnippetSuggestionInlineLink(e,t){return this.makeClickEvent(nC.openSmartSnippetSuggestionInlineLink,e,{contentIDKey:t.documentId.contentIdKey,contentIDValue:t.documentId.contentIdValue},t)}logOpenSmartSnippetSuggestionInlineLink(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeOpenSmartSnippetSuggestionInlineLink(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeRecentQueryClick(){return this.makeSearchEvent(nC.recentQueryClick)}logRecentQueryClick(){return nd(this,void 0,void 0,function*(){return(yield this.makeRecentQueryClick()).log({searchUID:this.provider.getSearchUID()})})}makeClearRecentQueries(){return this.makeCustomEvent(nC.clearRecentQueries)}logClearRecentQueries(){return nd(this,void 0,void 0,function*(){return(yield this.makeClearRecentQueries()).log({searchUID:this.provider.getSearchUID()})})}makeRecentResultClick(e,t){return this.makeCustomEvent(nC.recentResultClick,{info:e,identifier:t})}logRecentResultClick(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeRecentResultClick(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeClearRecentResults(){return this.makeCustomEvent(nC.clearRecentResults)}logClearRecentResults(){return nd(this,void 0,void 0,function*(){return(yield this.makeClearRecentResults()).log({searchUID:this.provider.getSearchUID()})})}makeNoResultsBack(){return this.makeSearchEvent(nC.noResultsBack)}logNoResultsBack(){return nd(this,void 0,void 0,function*(){return(yield this.makeNoResultsBack()).log({searchUID:this.provider.getSearchUID()})})}makeShowMoreFoldedResults(e,t){return this.makeClickEvent(nC.showMoreFoldedResults,e,t)}logShowMoreFoldedResults(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeShowMoreFoldedResults(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeShowLessFoldedResults(){return this.makeCustomEvent(nC.showLessFoldedResults)}logShowLessFoldedResults(){return nd(this,void 0,void 0,function*(){return(yield this.makeShowLessFoldedResults()).log({searchUID:this.provider.getSearchUID()})})}makeEventDescription(e,t){var r;return{actionCause:t,customData:null==(r=e.payload)?void 0:r.customData}}makeCustomEvent(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aN[e];return nd(this,void 0,void 0,function*(){this.coveoAnalyticsClient.getParameters;let n=Object.assign(Object.assign({},this.provider.getBaseMetadata()),t),a=Object.assign(Object.assign({},(yield this.getBaseEventRequest(n))),{eventType:r,eventValue:e}),i=yield this.coveoAnalyticsClient.makeCustomEvent(a);return{description:this.makeEventDescription(i,e),log:e=>{let{searchUID:t}=e;return i.log({lastSearchQueryUid:t})}}})}logCustomEvent(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aN[e];return nd(this,void 0,void 0,function*(){return(yield this.makeCustomEvent(e,t,r)).log({searchUID:this.provider.getSearchUID()})})}makeCustomEventWithType(e,t,r){return nd(this,void 0,void 0,function*(){let n=Object.assign(Object.assign({},this.provider.getBaseMetadata()),r),a=Object.assign(Object.assign({},(yield this.getBaseEventRequest(n))),{eventType:t,eventValue:e}),i=yield this.coveoAnalyticsClient.makeCustomEvent(a);return{description:this.makeEventDescription(i,e),log:e=>{let{searchUID:t}=e;return i.log({lastSearchQueryUid:t})}}})}logCustomEventWithType(e,t,r){return nd(this,void 0,void 0,function*(){return(yield this.makeCustomEventWithType(e,t,r)).log({searchUID:this.provider.getSearchUID()})})}logSearchEvent(e,t){return nd(this,void 0,void 0,function*(){return(yield this.makeSearchEvent(e,t)).log({searchUID:this.provider.getSearchUID()})})}makeSearchEvent(e,t){return nd(this,void 0,void 0,function*(){let r=yield this.getBaseSearchEventRequest(e,t),n=yield this.coveoAnalyticsClient.makeSearchEvent(r);return{description:this.makeEventDescription(n,e),log:e=>{let{searchUID:t}=e;return n.log({searchQueryUid:t})}}})}makeClickEvent(e,t,r,n){return nd(this,void 0,void 0,function*(){let a=Object.assign(Object.assign(Object.assign({},t),(yield this.getBaseEventRequest(Object.assign(Object.assign({},r),n)))),{queryPipeline:this.provider.getPipeline(),actionCause:e}),i=yield this.coveoAnalyticsClient.makeClickEvent(a);return{description:this.makeEventDescription(i,e),log:e=>{let{searchUID:t}=e;return i.log({searchQueryUid:t})}}})}logClickEvent(e,t,r,n){return nd(this,void 0,void 0,function*(){return(yield this.makeClickEvent(e,t,r,n)).log({searchUID:this.provider.getSearchUID()})})}getBaseSearchEventRequest(e,t){var r,n;return nd(this,void 0,void 0,function*(){return Object.assign(Object.assign(Object.assign({},(yield this.getBaseEventRequest(Object.assign(Object.assign({},t),null==(n=(r=this.provider).getGeneratedAnswerMetadata)?void 0:n.call(r))))),this.provider.getSearchEventRequestPayload()),{queryPipeline:this.provider.getPipeline(),actionCause:e})})}getBaseEventRequest(e){return nd(this,void 0,void 0,function*(){let t=Object.assign(Object.assign({},this.provider.getBaseMetadata()),e);return Object.assign(Object.assign(Object.assign({},this.getOrigins()),this.getSplitTestRun()),{customData:t,language:this.provider.getLanguage(),facetState:this.provider.getFacetState?this.provider.getFacetState():[],anonymous:this.provider.getIsAnonymous(),clientId:yield this.getClientId()})})}getOrigins(){var e,t;return{originContext:null==(t=(e=this.provider).getOriginContext)?void 0:t.call(e),originLevel1:this.provider.getOriginLevel1(),originLevel2:this.provider.getOriginLevel2(),originLevel3:this.provider.getOriginLevel3()}}getClientId(){return this.coveoAnalyticsClient instanceof aL?this.coveoAnalyticsClient.getCurrentVisitorId():void 0}getSplitTestRun(){let e=this.provider.getSplitTestRunName?this.provider.getSplitTestRunName():"",t=this.provider.getSplitTestRunVersion?this.provider.getSplitTestRunVersion():"";return Object.assign(Object.assign({},e&&{splitTestRunName:e}),t&&{splitTestRunVersion:t})}makeLikeGeneratedAnswer(e){return this.makeCustomEvent(nC.likeGeneratedAnswer,e)}logLikeGeneratedAnswer(e){return nd(this,void 0,void 0,function*(){return(yield this.makeLikeGeneratedAnswer(e)).log({searchUID:this.provider.getSearchUID()})})}makeDislikeGeneratedAnswer(e){return this.makeCustomEvent(nC.dislikeGeneratedAnswer,e)}logDislikeGeneratedAnswer(e){return nd(this,void 0,void 0,function*(){return(yield this.makeDislikeGeneratedAnswer(e)).log({searchUID:this.provider.getSearchUID()})})}makeOpenGeneratedAnswerSource(e){return this.makeCustomEvent(nC.openGeneratedAnswerSource,e)}logOpenGeneratedAnswerSource(e){return nd(this,void 0,void 0,function*(){return(yield this.makeOpenGeneratedAnswerSource(e)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerSourceHover(e){return this.makeCustomEvent(nC.generatedAnswerSourceHover,e)}logGeneratedAnswerSourceHover(e){return nd(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerSourceHover(e)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerCopyToClipboard(e){return this.makeCustomEvent(nC.generatedAnswerCopyToClipboard,e)}logGeneratedAnswerCopyToClipboard(e){return nd(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerCopyToClipboard(e)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerHideAnswers(e){return this.makeCustomEvent(nC.generatedAnswerHideAnswers,e)}logGeneratedAnswerHideAnswers(e){return nd(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerHideAnswers(e)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerShowAnswers(e){return this.makeCustomEvent(nC.generatedAnswerShowAnswers,e)}logGeneratedAnswerShowAnswers(e){return nd(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerShowAnswers(e)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerExpand(e){return this.makeCustomEvent(nC.generatedAnswerExpand,e)}logGeneratedAnswerExpand(e){return nd(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerExpand(e)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerCollapse(e){return this.makeCustomEvent(nC.generatedAnswerCollapse,e)}logGeneratedAnswerCollapse(e){return nd(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerCollapse(e)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerFeedbackSubmit(e){return this.makeCustomEvent(nC.generatedAnswerFeedbackSubmit,e)}logGeneratedAnswerFeedbackSubmit(e){return nd(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerFeedbackSubmit(e)).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerFeedbackSubmitV2(e){return this.makeCustomEvent(nC.generatedAnswerFeedbackSubmitV2,e)}logGeneratedAnswerFeedbackSubmitV2(e){return nd(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerFeedbackSubmitV2(e)).log({searchUID:this.provider.getSearchUID()})})}makeRephraseGeneratedAnswer(e){return this.makeSearchEvent(nC.rephraseGeneratedAnswer,e)}logRephraseGeneratedAnswer(e){return nd(this,void 0,void 0,function*(){return(yield this.makeRephraseGeneratedAnswer(e)).log({searchUID:this.provider.getSearchUID()})})}makeRetryGeneratedAnswer(){return this.makeSearchEvent(nC.retryGeneratedAnswer)}logRetryGeneratedAnswer(){return nd(this,void 0,void 0,function*(){return(yield this.makeRetryGeneratedAnswer()).log({searchUID:this.provider.getSearchUID()})})}makeGeneratedAnswerStreamEnd(e){return this.makeCustomEvent(nC.generatedAnswerStreamEnd,e)}logGeneratedAnswerStreamEnd(e){return nd(this,void 0,void 0,function*(){return(yield this.makeGeneratedAnswerStreamEnd(e)).log({searchUID:this.provider.getSearchUID()})})}constructor(e,t){this.opts=e,this.provider=t;let r=!1===e.enableAnalytics||a_();this.coveoAnalyticsClient=r?new az:new aL(e)}},aY=Object.assign({},nY),aW=Object.keys(aY).map(e=>aY[e]),aG=class extends nG{getApi(e){let t=super.getApi(e);return null!==t?t:"setTicket"===e?this.setTicket:null}addHooks(){this.addHooksForEvent(),this.addHooksForPageView(),this.addHooksForSVCEvents()}setTicket(e){this.ticket=e}clearPluginData(){this.ticket={}}addHooksForSVCEvents(){var e=this;this.client.registerBeforeSendEventHook(function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];let[i]=n;return -1!==aW.indexOf(t)?e.addSVCDataToPayload(t,i):i}),this.client.registerAfterSendEventHook(function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];let[i]=n;return -1!==aW.indexOf(t)&&e.updateLocationInformation(t,i),i})}addHooksForPageView(){this.client.addEventTypeMapping(aY.pageview,{newEventType:nA.collect,variableLengthArgumentsNames:["page"],addVisitorIdParameter:!0,usesMeasurementProtocol:!0})}addHooksForEvent(){this.client.addEventTypeMapping(aY.event,{newEventType:nA.collect,variableLengthArgumentsNames:["eventCategory","eventAction","eventLabel","eventValue"],addVisitorIdParameter:!0,usesMeasurementProtocol:!0})}addSVCDataToPayload(e,t){var r;let n=Object.assign(Object.assign(Object.assign(Object.assign({},this.getLocationInformation(e,t)),this.getDefaultContextInformation(e)),this.action?{svcAction:this.action}:{}),Object.keys(null!=(r=this.actionData)?r:{}).length>0?{svcActionData:this.actionData}:{}),a=this.getTicketPayload();return this.clearData(),Object.assign(Object.assign(Object.assign({},a),n),t)}getTicketPayload(){return n2(this.ticket)}constructor({client:e,uuidGenerator:t=nN}){super({client:e,uuidGenerator:t}),this.ticket={}}};aG.Id="svc",function(e){e.click="click",e.flowStart="flowStart"}(nI||(nI={})),function(e){e.enterInterface="ticket_create_start",e.fieldUpdate="ticket_field_update",e.fieldSuggestionClick="ticket_classification_click",e.suggestionClick="suggestion_click",e.suggestionRate="suggestion_rate",e.nextCaseStep="ticket_next_stage",e.caseCancelled="ticket_cancel",e.caseSolved="ticket_cancel",e.caseCreated="ticket_create"}(nq||(nq={})),function(e){e.quit="Quit",e.solved="Solved"}(nk||(nk={}));var aK=class{disable(){this.coveoAnalyticsClient=new az,this.svc=new aG({client:this.coveoAnalyticsClient})}enable(){this.coveoAnalyticsClient=new aL(this.options),this.svc=new aG({client:this.coveoAnalyticsClient})}logEnterInterface(e){return this.svc.setAction(nq.enterInterface),this.svc.setTicket(e.ticket),this.sendFlowStartEvent()}logUpdateCaseField(e){return this.svc.setAction(nq.fieldUpdate,{fieldName:e.fieldName}),this.svc.setTicket(e.ticket),this.sendClickEvent()}logSelectFieldSuggestion(e){return this.svc.setAction(nq.fieldSuggestionClick,e.suggestion),this.svc.setTicket(e.ticket),this.sendClickEvent()}logSelectDocumentSuggestion(e){return this.svc.setAction(nq.suggestionClick,e.suggestion),this.svc.setTicket(e.ticket),this.sendClickEvent()}logRateDocumentSuggestion(e){return this.svc.setAction(nq.suggestionRate,Object.assign({rate:e.rating},e.suggestion)),this.svc.setTicket(e.ticket),this.sendClickEvent()}logMoveToNextCaseStep(e){return this.svc.setAction(nq.nextCaseStep,{stage:null==e?void 0:e.stage}),this.svc.setTicket(e.ticket),this.sendClickEvent()}logCaseCancelled(e){return this.svc.setAction(nq.caseCancelled,{reason:nk.quit}),this.svc.setTicket(e.ticket),this.sendClickEvent()}logCaseSolved(e){return this.svc.setAction(nq.caseSolved,{reason:nk.solved}),this.svc.setTicket(e.ticket),this.sendClickEvent()}logCaseCreated(e){return this.svc.setAction(nq.caseCreated),this.svc.setTicket(e.ticket),this.sendClickEvent()}sendFlowStartEvent(){return this.coveoAnalyticsClient.sendEvent("event","svc",nI.flowStart,this.provider?{searchHub:this.provider.getOriginLevel1()}:null)}sendClickEvent(){return this.coveoAnalyticsClient.sendEvent("event","svc",nI.click,this.provider?{searchHub:this.provider.getOriginLevel1()}:null)}constructor(e,t){var r;this.options=e,this.provider=t;let n=(null==(r=e.enableAnalytics)||r)&&!a_();this.coveoAnalyticsClient=n?new aL(e):new az,this.svc=new aG({client:this.coveoAnalyticsClient})}},aJ=e=>new aL(e).getCurrentVisitorId(),aZ=new nF.HistoryStore,aX=(e,t)=>"function"==typeof t?function(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];let i=et(n[0]);try{return t.apply(t,n)}catch(t){return e.error(t,"Error in analytics preprocessRequest. Returning original request."),i}}:void 0,a0=(e,t)=>function(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];let i=et(n[1]);try{return t.apply(t,n)}catch(t){return e.error(t,"Error in analytics hook. Returning original request."),i}},a1=class{getSearchUID(){return null}getOriginLevel1(){return this.state.searchHub||ek()}constructor(e){this.state=e()}},a2=(e,t)=>{let r=e=>e.facetId===t;return"productListing"in e&&e.productListing&&"facets"in e.productListing&&"results"in e.productListing.facets?e.productListing.facets.results.find(r):"search"in e&&e.search?e.search.response.facets.find(r):void 0},a3=(e,t)=>{let r=a2(e,t);if(function(e,t){return!!t&&t.facetId in e.facetSet}(e,r))return r},a5=e=>"productListing"in e?e.productListing.isLoading:e.search.isLoading;function a4(e){let{activeValue:t,ancestryMap:r}=function(e){let t=[...e],r=new Map;for(;t.length>0;){let e=t.shift();if("selected"===e.state)return{activeValue:e,ancestryMap:r};if(r)for(let t of e.children)r.set(t,e);t.unshift(...e.children)}return{}}(e);return t?function(e,t){let r=[];if(!e)return[];let n=e;do r.unshift(n),n=t.get(n);while(n);return r}(t,r):[]}var a6=(e,t)=>{let r=a2(e,t);if(function(e,t){return!!t&&t.facetId in e.categoryFacetSet}(e,r))return r},a8=(e,t)=>{var r;return null==(r=e.categoryFacetSet[t])?void 0:r.request},a9=(e,t)=>{var r;let n=a8(e,t);return a4(null!=(r=null==n?void 0:n.currentValues)?r:[])},a7=(e,t)=>{let r=im(t,e),n=r?r.field:"",a=iy(n,e);return{facetId:e,facetField:n,facetTitle:a}};function ie(e,t){let{facetId:r,facetValue:n}=e,a=a7(r,t),i=iv(t,r);return{...a,facetValue:"hierarchical"===i?id(t,r):n}}function it(e){var t,r,n,a,i;return{facetSet:null!=(t=e.facetSet)?t:{},categoryFacetSet:null!=(r=e.categoryFacetSet)?r:{},dateFacetSet:null!=(n=e.dateFacetSet)?n:{},numericFacetSet:null!=(a=e.numericFacetSet)?a:{},automaticFacetSet:null!=(i=e.automaticFacetSet)?i:em()}}var ir=e=>{let t=[];return io(e).forEach((r,n)=>{let a=iv(e,r.facetId),i=ig(r,n+1);if(ii(r)){if(!a9(e,r.facetId).length)return;t.push({...i,...ip(e,r.facetId),facetType:a,state:"selected"});return}r.currentValues.forEach((e,n)=>{if("idle"===e.state)return;let o=il(e,n+1,a),s=ia(r)?ic(e):iu(e);t.push({...i,...o,...s})})}),is(e).forEach((e,r)=>{let n=ih(e,r+1);e.values.forEach((e,r)=>{if("idle"===e.state)return;let a=il(e,r+1,"specific"),i=ic(e);t.push({...n,...a,...i})})}),t},ia=e=>"specific"===e.type,ii=e=>"hierarchical"===e.type,io=e=>[...Object.values(e.facetSet),...Object.values(e.categoryFacetSet),...Object.values(e.dateFacetSet),...Object.values(e.numericFacetSet)].map(e=>e.request),is=e=>[...Object.values(e.automaticFacetSet.set)].map(e=>e.response),il=(e,t,r)=>({state:e.state,valuePosition:t,facetType:r}),iu=e=>({displayValue:"".concat(e.start,"..").concat(e.end),value:"".concat(e.start,"..").concat(e.end),start:e.start,end:e.end,endInclusive:e.endInclusive}),ic=e=>({displayValue:e.value,value:e.value}),id=(e,t)=>a9(e,t).map(e=>e.value).join(";"),ip=(e,t)=>{let r=id(e,t);return{value:r,valuePosition:1,displayValue:r}},ih=(e,t)=>({title:iy(e.field,e.field),field:e.field,id:e.field,facetPosition:t}),ig=(e,t)=>({title:iy(e.field,e.facetId),field:e.field,id:e.facetId,facetPosition:t}),iy=(e,t)=>"".concat(e,"_").concat(t),im=(e,t)=>{var r,n,a,i,o;return(null==(r=e.facetSet[t])?void 0:r.request)||(null==(n=e.categoryFacetSet[t])?void 0:n.request)||(null==(a=e.dateFacetSet[t])?void 0:a.request)||(null==(i=e.numericFacetSet[t])?void 0:i.request)||(null==(o=e.automaticFacetSet.set[t])?void 0:o.response)},iv=(e,t)=>{let r=im(e,t);return r?r.type:"specific"},iw=e=>{let t=e.configuration.search.locale.split("-")[0];return t&&2===t.length?t:"en"},iS=class{getLanguage(){return iw(this.state)}getBaseMetadata(){let{context:e,configuration:t}=this.state,r=(null==e?void 0:e.contextValues)||{},n={};for(let[e,t]of Object.entries(r))n["context_".concat(e)]=t;return"legacy"===t.analytics.analyticsMode&&(n.coveoHeadlessVersion=ns),n}getOriginContext(){return this.state.configuration.analytics.originContext}getOriginLevel1(){return this.state.searchHub||ek()}getOriginLevel2(){return this.state.configuration.analytics.originLevel2}getOriginLevel3(){return this.state.configuration.analytics.originLevel3}getIsAnonymous(){return this.state.configuration.analytics.anonymous}constructor(e){this.getState=e,this.state=e()}},ib=()=>({url:"",clientId:"",additionalFields:[],advancedParameters:{debug:!1},products:[],facets:{results:[]},error:null,isLoading:!1,responseId:""}),iC=class extends iS{getPipeline(){return""}getSearchEventRequestPayload(){return{queryText:"",responseTime:0,results:this.mapResultsToAnalyticsDocument(),numberOfResults:this.numberOfResults}}getSearchUID(){var e;return(null==(e=this.getState().productListing)?void 0:e.responseId)||this.initialState.responseId}mapResultsToAnalyticsDocument(){var e;return null==(e=this.state.productListing)?void 0:e.products.map(e=>({documentUri:e.documentUri,documentUriHash:e.documentUriHash,permanentid:e.permanentid}))}get numberOfResults(){return this.state.productListing.products.length}constructor(){super(...arguments),this.initialState=ib()}},iI=class e extends iS{getFacetState(){return ir(it(this.getState()))}getPipeline(){var t;return this.state.pipeline||(null==(t=this.state.search)?void 0:t.response.pipeline)||e.fallbackPipelineName}getSearchEventRequestPayload(){return{queryText:this.queryText,responseTime:this.responseTime,results:this.resultURIs,numberOfResults:this.numberOfResults}}getSearchUID(){var e,t;let r=this.getState();return(null==(e=r.search)?void 0:e.searchResponseId)||(null==(t=r.search)?void 0:t.response.searchUid)||eX().response.searchUid}getSplitTestRunName(){var e;return null==(e=this.state.search)?void 0:e.response.splitTestRun}getSplitTestRunVersion(){var t;let r=!!this.getSplitTestRunName(),n=(null==(t=this.state.search)?void 0:t.response.pipeline)||this.state.pipeline||e.fallbackPipelineName;return r?n:void 0}getBaseMetadata(){var e,t,r;let n=this.getState(),a=super.getBaseMetadata(),i=null==(r=n.search)||null==(t=r.response)||null==(e=t.extendedResults)?void 0:e.generativeQuestionAnsweringId;return i&&(a.generativeQuestionAnsweringId=i),a}getFacetMetadata(e,t){var r,n;let a=null!=(n=null==(r=this.getFacetRequest(e))?void 0:r.field)?n:"";return{...this.getBaseMetadata(),facetId:e,facetField:a,facetValue:t,facetTitle:"".concat(a,"_").concat(e)}}getFacetClearAllMetadata(e){var t,r;let n=null!=(r=null==(t=this.getFacetRequest(e))?void 0:t.field)?r:"";return{...this.getBaseMetadata(),facetId:e,facetField:n,facetTitle:"".concat(n,"_").concat(e)}}getFacetUpdateSortMetadata(e,t){var r,n;let a=null!=(n=null==(r=this.getFacetRequest(e))?void 0:r.field)?n:"";return{...this.getBaseMetadata(),facetId:e,facetField:a,criteria:t,facetTitle:"".concat(a,"_").concat(e)}}getRangeBreadcrumbFacetMetadata(e,t){var r,n;let a=null!=(n=null==(r=this.getFacetRequest(e))?void 0:r.field)?n:"";return{...this.getBaseMetadata(),facetId:e,facetField:a,facetRangeEnd:t.end,facetRangeEndInclusive:t.endInclusive,facetRangeStart:t.start,facetTitle:"".concat(a,"_").concat(e)}}getResultSortMetadata(){var e;return{...this.getBaseMetadata(),resultsSortBy:null!=(e=this.state.sortCriteria)?e:eW()}}getStaticFilterToggleMetadata(e,t){return{...this.getBaseMetadata(),staticFilterId:e,staticFilterValue:t}}getStaticFilterClearAllMetadata(e){return{...this.getBaseMetadata(),staticFilterId:e}}getUndoTriggerQueryMetadata(e){return{...this.getBaseMetadata(),undoneQuery:e}}getCategoryBreadcrumbFacetMetadata(e,t){var r,n;let a=null!=(n=null==(r=this.getFacetRequest(e))?void 0:r.field)?n:"";return{...this.getBaseMetadata(),categoryFacetId:e,categoryFacetField:a,categoryFacetPath:t,categoryFacetTitle:"".concat(a,"_").concat(e)}}getOmniboxAnalyticsMetadata(e,t){let r=this.state.querySuggest&&this.state.querySuggest[e],n=r.completions.map(e=>e.expression),a=r.partialQueries.length-1,i=r.partialQueries[a]||"",o=r.responseId;return{...this.getBaseMetadata(),suggestionRanking:n.indexOf(t),partialQuery:i,partialQueries:r.partialQueries.length>0?r.partialQueries:"",suggestions:n.length>0?n:"",querySuggestResponseId:o}}getInterfaceChangeMetadata(){return{...this.getBaseMetadata(),interfaceChangeTo:this.state.configuration.analytics.originLevel2}}getOmniboxFromLinkMetadata(e){return{...this.getBaseMetadata(),...e}}getGeneratedAnswerMetadata(){var e;let t=this.getState(),r={};return(null==(e=t.generatedAnswer)?void 0:e.isVisible)!==void 0&&(r.showGeneratedAnswer=t.generatedAnswer.isVisible),r}get resultURIs(){var e;return null==(e=this.results)?void 0:e.map(e=>({documentUri:e.uri,documentUriHash:e.raw.urihash}))}get results(){var e;return null==(e=this.state.search)?void 0:e.response.results}get queryText(){var e;return(null==(e=this.state.query)?void 0:e.q)||eq().q}get responseTime(){var e;return(null==(e=this.state.search)?void 0:e.duration)||eX().duration}get numberOfResults(){var e;return(null==(e=this.state.search)?void 0:e.response.totalCountFiltered)||eX().response.totalCountFiltered}constructor(){super(...arguments),this.getFacetRequest=e=>{var t,r,n,a,i,o,s,l,u,c;return(null==(r=this.state.facetSet)||null==(t=r[e])?void 0:t.request)||(null==(a=this.state.categoryFacetSet)||null==(n=a[e])?void 0:n.request)||(null==(o=this.state.dateFacetSet)||null==(i=o[e])?void 0:i.request)||(null==(l=this.state.numericFacetSet)||null==(s=l[e])?void 0:s.request)||(null==(c=this.state.automaticFacetSet)||null==(u=c.set[e])?void 0:u.response)}}};iI.fallbackPipelineName="default";var iq=iI,ik=()=>{let e=aZ.getHistory().reverse().find(e=>"PageView"===e.name&&e.value);return e?e.value:""};function iO(e){var t,r;let n=function e(t){return t.childResults?t.childResults.flatMap(t=>[t,...e(t)]):[]}(e),a=[e,...n].filter(e=>e.parentResult).map(e=>e.parentResult);return t=[e,...n,...a],r=e=>e.uniqueId,[...t.reduce((e,t)=>{let n=r(t);return e.has(n)||e.set(n,t),e},new Map).values()]}var iA=(e,t,r)=>function(){for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return iE(1===a.length?{...a[0],__legacy__getBuilder:t(a[0].__legacy__getBuilder),analyticsConfigurator:e,providerClass:r}:{prefix:a[0],__legacy__getBuilder:t(a[1]),__legacy__provider:a[2],analyticsConfigurator:e,providerClass:r})},ix=e=>"legacy"===e.configuration.analytics.analyticsMode,iR=e=>"next"===e.configuration.analytics.analyticsMode,iE=e=>{let{prefix:t,__legacy__getBuilder:r,__legacy__provider:n,analyticsPayloadBuilder:a,analyticsType:i,analyticsConfigurator:o,providerClass:s}=e;return null!=n||(n=e=>new s(e)),function(e,t){let r=t=>Object.assign(rp(e,t),{instantlyCallable:!0}),n=r(async(e,r)=>{let{getState:n,extra:a}=r,{analyticsClientMiddleware:i,preprocessRequest:o,logger:s}=a;return await (await t({getState:n,analyticsClientMiddleware:i,preprocessRequest:o,logger:s})).log({state:n(),extra:a})});return Object.assign(n,{prepare:async e=>{let{getState:n,analyticsClientMiddleware:a,preprocessRequest:i,logger:o}=e,{description:s,log:l}=await t({getState:n,analyticsClientMiddleware:a,preprocessRequest:i,logger:o});return{description:s,action:r(async(e,t)=>{let{getState:r,extra:n}=t;return await l({state:r(),extra:n})})}}}),n}(t,async e=>{let{getState:t,analyticsClientMiddleware:s,preprocessRequest:l,logger:u}=e,c=[],d={log:async e=>{let{state:t}=e;for(let e of c)await e(t)}},f=t(),p=o({getState:t,logger:u,analyticsClientMiddleware:s,preprocessRequest:l,provider:n(t)}),h=await r(p,t());d.description=null==h?void 0:h.description,c.push(async e=>{ix(e)&&await iD(h,n,e,u,p.coveoAnalyticsClient)});let{emit:g}=nu(f);return c.push(async e=>{if(iR(e)&&i&&a){let t=a(e);await iQ(g,i,t)}}),d})};async function iD(e,t,r,n,a){t(()=>r);let i=await (null==e?void 0:e.log({searchUID:t(()=>r).getSearchUID()}));n.info({client:a,response:i},"Analytics response")}var iT=iA(e=>{let{logger:t,getState:r,analyticsClientMiddleware:n=(e,t)=>t,preprocessRequest:a,provider:i=new iq(r)}=e,o=r(),s=o.configuration.accessToken,l=o.configuration.analytics.apiBaseUrl,u=o.configuration.analytics.runtimeEnvironment,c=o.configuration.analytics.enabled,d=new aH({token:s,endpoint:l,runtimeEnvironment:u,preprocessRequest:aX(t,a),beforeSendHooks:[a0(t,n),(e,r)=>(t.info({...r,type:e,endpoint:l,token:s},"Analytics request"),r)]},i);return c||d.disable(),d},e=>e,iq);iA(e=>{let{logger:t,getState:r,analyticsClientMiddleware:n=(e,t)=>t,preprocessRequest:a,provider:i=new a1(r)}=e,o=r(),s=o.configuration.accessToken,l=o.configuration.analytics.apiBaseUrl,u=o.configuration.analytics.runtimeEnvironment,c=o.configuration.analytics.enabled,d=new aK({enableAnalytics:c,token:s,endpoint:l,runtimeEnvironment:u,preprocessRequest:aX(t,a),beforeSendHooks:[a0(t,n),(e,r)=>(t.info({...r,type:e,endpoint:l,token:s},"Analytics request"),r)]},i);return c||d.disable(),d},e=>(t,r)=>Promise.resolve({description:{actionCause:"caseAssist"},log:async n=>{e(t,r)}}),a1);var iF=iA(e=>{let{logger:t,getState:r,analyticsClientMiddleware:n=(e,t)=>t,preprocessRequest:a,provider:i=new iC(r)}=e,o=r(),s=o.configuration.accessToken,l=o.configuration.analytics.apiBaseUrl,u=o.configuration.analytics.runtimeEnvironment,c=o.configuration.analytics.enabled,d=new aH({token:s,endpoint:l,runtimeEnvironment:u,preprocessRequest:aX(t,a),beforeSendHooks:[a0(t,n),(e,r)=>(t.info({...r,type:e,endpoint:l,token:s},"Analytics request"),r)]},i);return c||d.disable(),d},e=>e,iC),ij=(e,t)=>{var r;let n=-1,a=null==(r=t.search)?void 0:r.results;return(n=iV(e,a))<0&&(n=function(e,t){for(let[r,n]of t.entries())if(-1!==iV(e,iO(n)))return r;return -1}(e,a)),n<0&&(n=0),function(e,t,r){let n,a,i=e.raw.collection;return{collectionName:"string"==typeof i?i:"default",documentAuthor:eE(n=e.raw.author)?"unknown":Array.isArray(n)?n.join(";"):"".concat(n),documentPosition:t+1,documentTitle:e.title,documentUri:e.uri,documentUriHash:e.raw.urihash,documentUrl:e.clickUri,rankingModifier:e.rankingModifier||"",sourceName:eE(a=e.raw.source)?"unknown":a,queryPipeline:r.pipeline||eI()}}(e,(e=>{var r,n;return e+(null!=(n=null==(r=t.pagination)?void 0:r.firstResult)?n:0)})(n),t)},iM=e=>(e.raw.permanentid||console.warn("Missing field permanentid on result. This might cause many issues with your Coveo deployment. See https://docs.coveo.com/en/1913 and https://docs.coveo.com/en/1640 for more information.",e),{contentIDKey:"permanentid",contentIDValue:e.raw.permanentid||""}),iP={urihash:new eU,sourcetype:new eU,permanentid:new eU},iU={uniqueId:r1,raw:new eV({values:iP}),title:r1,uri:r1,clickUri:r1,rankingModifier:new eU({required:!1,emptyAllowed:!0})},i_=e=>new eA(iU).validate(function(e){var t;return Object.assign({},...Object.keys(iU).map(t=>({[t]:e[t]})),{raw:(t=e.raw,Object.assign({},...Object.keys(iP).map(e=>({[e]:t[e]}))))})}(e));function iV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.findIndex(t=>{let{uniqueId:r}=t;return r===e.uniqueId})}async function iQ(e,t,r){await e(t,r)}var iL=e=>r7(e,{evt:r1,type:r2}),iN=()=>iT("analytics/interface/change",(e,t)=>e.makeInterfaceChange({interfaceChangeTo:t.configuration.analytics.originLevel2})),iz=()=>({actionCause:"interfaceChange"}),i$=()=>r1,iB=tJ("configuration/updateBasicConfiguration",e=>r7(e,{accessToken:r2,organizationId:r2,platformUrl:r2})),iH=tJ("configuration/updateSearchConfiguration",e=>r7(e,{apiBaseUrl:r2,pipeline:new eU({required:!1,emptyAllowed:!0}),searchHub:r2,timezone:r2,locale:r2,authenticationProviders:new eL({required:!1,each:r1})})),iY={enabled:new eF({default:!0}),originContext:r2,originLevel2:r2,originLevel3:r2,apiBaseUrl:r2,nextApiBaseUrl:r2,runtimeEnvironment:new ex,anonymous:new eF({default:!1}),deviceId:r2,userDisplayName:r2,documentLocation:r2,trackingId:r2,analyticsMode:new eU({constrainTo:["legacy","next"],required:!1,default:"legacy"}),source:new eV({options:{required:!1},values:["@coveo/atomic","@coveo/quantic"].reduce((e,t)=>(e[t]=r6,e),{})})},iW=tJ("configuration/updateAnalyticsConfiguration",e=>r7(e,iY)),iG=tJ("configuration/analytics/disable"),iK=tJ("configuration/analytics/enable"),iJ=tJ("configuration/analytics/originlevel2",e=>r7(e,{originLevel2:i$()})),iZ=tJ("configuration/analytics/originlevel3",e=>r7(e,{originLevel3:i$()})),iX={q:new eU,enableQuerySyntax:new eF,aq:new eU,cq:new eU,firstResult:new eD({min:0}),numberOfResults:new eD({min:0}),sortCriteria:new eU,f:new eV,fExcluded:new eV,cf:new eV,nf:new eV,mnf:new eV,df:new eV,debug:new eF,sf:new eV,tab:new eU,af:new eV},i0=tJ("searchParameters/restore",e=>r7(e,iX)),i1=tJ("debug/enable"),i2=tJ("debug/disable"),i3=t8(ed(),e=>{e.addCase(i1,()=>!0).addCase(i2,()=>!1).addCase(i0,(e,t)=>{var r;return null!=(r=t.payload.debug)?r:e})}),i5=tJ("history/undo"),i4=tJ("history/redo"),i6=tJ("history/snapshot"),i8=(rp("history/back",async(e,t)=>{let{dispatch:r}=t;r(i5()),await r(i8())}),rp("history/forward",async(e,t)=>{let{dispatch:r}=t;r(i4()),await r(i8())}),rp("history/change",async(e,t)=>{let{getState:r}=t;return r().history.present})),i9=tJ("pipeline/set",e=>r7(e,new eU({required:!0,emptyAllowed:!0}))),i7=t8(eI(),e=>{e.addCase(i9,(e,t)=>t.payload).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.pipeline)?n:e}).addCase(iH,(e,t)=>t.payload.pipeline||e)}),oe=tJ("searchHub/set",e=>r7(e,new eU({required:!0,emptyAllowed:!0}))),ot=t8(ek(),e=>{e.addCase(oe,(e,t)=>t.payload).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.searchHub)?n:e}).addCase(iH,(e,t)=>t.payload.searchHub||e)}),or=tJ("breadcrumb/deselectAll"),on=tJ("breadcrumb/deselectAllNonBreadcrumbs"),oa=tJ("facet/updateFacetAutoSelection",e=>r7(e,{allow:new eF({required:!0})})),oi=class extends iq{get activeInstantResultQuery(){let e=this.getState().instantResults;for(let t in e)for(let r in e[t].cache)if(e[t].cache[r].isActive)return e[t].q;return null}get activeInstantResultCache(){let e=this.getState().instantResults;for(let t in e)for(let r in e[t].cache)if(e[t].cache[r].isActive)return e[t].cache[r];return null}get results(){var e;return null==(e=this.activeInstantResultCache)?void 0:e.results}get queryText(){var e;return null!=(e=this.activeInstantResultQuery)?e:eq().q}get responseTime(){var e,t;return null!=(t=null==(e=this.activeInstantResultCache)?void 0:e.duration)?t:eX().duration}get numberOfResults(){var e,t;return null!=(t=null==(e=this.activeInstantResultCache)?void 0:e.totalCountFiltered)?t:eX().response.totalCountFiltered}getSearchUID(){var e;return(null==(e=this.activeInstantResultCache)?void 0:e.searchUid)||super.getSearchUID()}constructor(e){super(e),this.getState=e}},oo=()=>iT("analytics/instantResult/searchboxAsYouType",e=>e.makeSearchboxAsYouType(),e=>new oi(e)),os=()=>({actionCause:"searchboxAsYouType"}),ol={id:r1},ou={...ol,q:r3},oc=tJ("instantResults/register",e=>r7(e,ol)),od=tJ("instantResults/updateQuery",e=>r7(e,ou)),of=tJ("instantResults/clearExpired",e=>r7(e,ol)),op=new eD({required:!0,min:0}),oh=tJ("pagination/registerNumberOfResults",e=>r7(e,op)),og=tJ("pagination/updateNumberOfResults",e=>r7(e,op)),oy=tJ("pagination/registerPage",e=>r7(e,op)),om=tJ("pagination/updatePage",e=>r7(e,op)),ov=tJ("pagination/nextPage"),ow=tJ("pagination/previousPage"),oS=tJ("query/updateQuery",e=>r7(e,{q:new eU,enableQuerySyntax:new eF})),ob=(e,t,r)=>({analytics:{clientId:t.clientId,clientTimestamp:new Date().toISOString(),documentReferrer:t.referrer,documentLocation:t.location,originContext:e.originContext,...r&&{actionCause:r.actionCause},...r&&{customData:r.customData},...e.userDisplayName&&{userDisplayName:e.userDisplayName},...e.deviceId&&{deviceId:e.deviceId},...e.trackingId&&{trackingId:e.trackingId},capture:!0,source:nl(e)}}),oC=(e,t,r)=>{var n,a,i,o;return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,debug:e.debug,tab:e.configuration.analytics.originLevel2,referrer:t.referrer,timezone:e.configuration.search.timezone,...e.configuration.analytics.enabled&&{visitorId:t.clientId},...(null==(n=e.advancedSearchQueries)?void 0:n.aq)&&{aq:e.advancedSearchQueries.aq},...(null==(a=e.advancedSearchQueries)?void 0:a.cq)&&{cq:e.advancedSearchQueries.cq},...(null==(i=e.advancedSearchQueries)?void 0:i.lq)&&{lq:e.advancedSearchQueries.lq},...(null==(o=e.advancedSearchQueries)?void 0:o.dq)&&{dq:e.advancedSearchQueries.dq},...e.context&&{context:e.context.contextValues},...e.fields&&!e.fields.fetchAllFields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.query&&{q:e.query.q,enableQuerySyntax:e.query.enableQuerySyntax},...e.searchHub&&{searchHub:e.searchHub},...e.sortCriteria&&{sortCriteria:e.sortCriteria},...e.configuration.analytics.enabled&&ob(e.configuration.analytics,t,r),...e.excerptLength&&!eE(e.excerptLength.length)&&{excerptLength:e.excerptLength.length},...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}}},oI=async(e,t)=>{let r="next"===e.analyticsMode;return{analytics:{clientId:await aJ(e),clientTimestamp:new Date().toISOString(),documentReferrer:e.originLevel3,originContext:e.originContext,...t&&{actionCause:t.actionCause,customData:t.customData},...t&&!r&&{customData:t.customData},...e.userDisplayName&&{userDisplayName:e.userDisplayName},...e.documentLocation&&{documentLocation:e.documentLocation},...e.deviceId&&{deviceId:e.deviceId},...ik()&&{pageId:ik()},...r&&e.trackingId&&{trackingId:e.trackingId},capture:r,...r&&{source:nl(e)}}}},oq=async(e,t)=>{var r,n,a,i;return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,debug:e.debug,tab:e.configuration.analytics.originLevel2,referrer:e.configuration.analytics.originLevel3,timezone:e.configuration.search.timezone,...e.configuration.analytics.enabled&&{visitorId:await aJ(e.configuration.analytics),actionsHistory:aZ.getHistory()},...(null==(r=e.advancedSearchQueries)?void 0:r.aq)&&{aq:e.advancedSearchQueries.aq},...(null==(n=e.advancedSearchQueries)?void 0:n.cq)&&{cq:e.advancedSearchQueries.cq},...(null==(a=e.advancedSearchQueries)?void 0:a.lq)&&{lq:e.advancedSearchQueries.lq},...(null==(i=e.advancedSearchQueries)?void 0:i.dq)&&{dq:e.advancedSearchQueries.dq},...e.context&&{context:e.context.contextValues},...e.fields&&!e.fields.fetchAllFields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.dictionaryFieldContext&&{dictionaryFieldContext:e.dictionaryFieldContext.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.query&&{q:e.query.q,enableQuerySyntax:e.query.enableQuerySyntax},...e.searchHub&&{searchHub:e.searchHub},...e.sortCriteria&&{sortCriteria:e.sortCriteria},...e.configuration.analytics.enabled&&await oI(e.configuration.analytics,t),...e.excerptLength&&!eE(e.excerptLength.length)&&{excerptLength:e.excerptLength.length},...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}}},ok=()=>iT("search/logFetchMoreResults",e=>e.makeFetchMoreResults()),oO=e=>iT("search/queryError",(t,r)=>{var n,a,i,o;return t.makeQueryError({query:(null==(n=r.query)?void 0:n.q)||eq().q,aq:(null==(a=r.advancedSearchQueries)?void 0:a.aq)||N().aq,cq:(null==(i=r.advancedSearchQueries)?void 0:i.cq)||N().cq,dq:(null==(o=r.advancedSearchQueries)?void 0:o.dq)||N().dq,errorType:e.type,errorMessage:e.message})}),oA=p(m()),ox=p(j()),oR=p(m()),oE=p(M());oR.default.extend(oE.default);var oD="YYYY/MM/DD@HH:mm:ss";function oT(e,t){let r=(0,oR.default)(e,t);return r.isValid()||t?r:(0,oR.default)(e,oD)}function oF(e){return e.format(oD)}function oj(e,t){let r=oT(e,t);if(!r.isValid()){let r=' with the format "'.concat(t,'"');throw Error('Could not parse the provided date "'.concat(e,'"').concat(t?r:". Please provide a date format string in the configuration options. See https://day.js.org/docs/en/parse/string-format for more information."))}oM(r)}function oM(e){if(e.isBefore("1401-01-01"))throw Error("Date is before year 1401, which is unsupported by the API: ".concat(e))}oA.default.extend(ox.default);var oP=["past","now","next"],oU=["minute","hour","day","week","month","quarter","year"],o_=e=>{let t="now"===e;return{amount:new eD({required:!t,min:1}),unit:new eU({required:!t,constrainTo:oU}),period:new eU({required:!0,constrainTo:oP})}};function oV(e){if("string"==typeof e&&!oz(e))throw Error('The value "'.concat(e,'" is not respecting the relative date format "period-amount-unit"'));let t="string"==typeof e?o$(e):e;new eA(o_(t.period)).validate(t);let r=oQ(t),n=JSON.stringify(t);if(!r.isValid())throw Error("Date is invalid: ".concat(n));oM(r)}function oQ(e){let{period:t,amount:r,unit:n}=e;switch(t){case"past":return(0,oA.default)().subtract(r,n);case"next":return(0,oA.default)().add(r,n);case"now":return(0,oA.default)()}}function oL(e){return oF(oQ(o$(e)))}function oN(e){return e.toLocaleLowerCase().split("-")}function oz(e){let[t,r,n]=oN(e);if("now"===t)return!0;if(!oP.includes(t)||!oU.includes(n))return!1;let a=parseInt(r);return!(isNaN(a)||a<=0)}function o$(e){let[t,r,n]=oN(e);return"now"===t?{period:"now"}:{period:t,amount:r?parseInt(r):void 0,unit:n||void 0}}function oB(e){return"start".concat(e)}function oH(e){return"end".concat(e)}var oY=()=>({dateFacetValueMap:{}});function oW(e,t){if("dateRange"===e.type){let{facetId:r,currentValues:n}=e;return t.dateFacetValueMap[r]={},{...e,currentValues:n.map(e=>{let n,a;return n=e.start,a=e.end,oz(n)&&(n=oL(n),t.dateFacetValueMap[r][oB(n)]=e.start),oz(a)&&(a=oL(a),t.dateFacetValueMap[r][oH(a)]=e.end),{...e,start:n,end:a}})}}return e}function oG(e){var t;let r=oY();return{request:{...e,facets:null==(t=e.facets)?void 0:t.map(e=>oW(e,r))},mappings:r}}function oK(e,t){var r;return"success"in e?{success:{...e.success,facets:null==(r=e.success.facets)?void 0:r.map(e=>e.facetId in t.dateFacetValueMap?{...e,values:e.values.map(r=>{var n;return n=e.facetId,{...r,start:t.dateFacetValueMap[n][oB(r.start)]||r.start,end:t.dateFacetValueMap[n][oH(r.end)]||r.end}})}:e)}}:e}var oJ=tJ("didYouMean/enable"),oZ=tJ("didYouMean/disable"),oX=tJ("didYouMean/automaticCorrections/disable"),o0=tJ("didYouMean/automaticCorrections/enable"),o1=tJ("didYouMean/correction",e=>r7(e,r1)),o2=tJ("didYouMean/automaticCorrections/mode",e=>r7(e,new eU({constrainTo:["next","legacy"],emptyAllowed:!1,required:!0}))),o3=()=>iT("analytics/didyoumean/automatic",e=>e.makeDidYouMeanAutomatic()),o5=()=>({actionCause:"didYouMeanAutomatic"}),o4=new eV({values:{undoneQuery:r3},options:{required:!0}}),o6=()=>iT("analytics/trigger/query",(e,t)=>{var r;return(null==(r=t.triggers)?void 0:r.queryModification.newQuery)?e.makeTriggerQuery():null}),o8=tJ("trigger/query/ignore",e=>r7(e,new eU({emptyAllowed:!0,required:!0}))),o9=tJ("trigger/query/modification",e=>r7(e,new eV({values:{originalQuery:r2,modification:r2}})));function o7(e){return Object.values(e).map(e=>e.request)}function se(e,t){let r={};e.forEach(e=>r[e.facetId]=e);let n=[];return t.forEach(e=>{e in r&&(n.push(r[e]),delete r[e])}),[...n,...Object.values(r)]}function st(e){return o7(e).map(e=>{let t=e.currentValues.some(e=>{let{state:t}=e;return"idle"!==t});return e.generateAutomaticRanges&&!t?{...e,currentValues:[]}:e})}function sr(e){var t,r,n,a,i,o;return se([...o7(null!=(n=(r=e).facetSet)?n:{}).map(e=>"alphanumericDescending"===e.sortCriteria?{...e,sortCriteria:{type:"alphanumeric",order:"descending"}}:e),...st(null!=(a=r.numericFacetSet)?a:{}),...st(null!=(i=r.dateFacetSet)?i:{}),...o7(null!=(o=r.categoryFacetSet)?o:{})].filter(t=>{var r,n,a;let{facetId:i}=t;return null==(a=null==(n=e.facetOptions)||null==(r=n.facets[i])?void 0:r.enabled)||a}),null!=(t=e.facetOrder)?t:[])}var sn=async(e,t)=>{var r;let n=function(e){var t,r;return[(null==(t=e.advancedSearchQueries)?void 0:t.cq.trim())||"",(null==(r=Object.values(e.tabSet||{}).find(e=>e.isActive))?void 0:r.expression.trim())||"",...Object.values(e.staticFilterSet||{}).map(e=>{let t=e.values.filter(e=>"selected"===e.state&&!!e.expression.trim()),r=t.map(e=>e.expression).join(" OR ");return t.length>1?"(".concat(r,")"):r})].filter(e=>!!e).join(" AND ")}(e),a=sr(e),i=function(e){var t;let r=null==(t=e.automaticFacetSet)?void 0:t.set;return r?Object.values(r).map(e=>e.response).map(sa).filter(e=>e.currentValues.length>0):void 0}(e);return oG({...await oq(e,t),...e.didYouMean&&{queryCorrection:{enabled:e.didYouMean.enableDidYouMean&&"next"===e.didYouMean.queryCorrectionMode,options:{automaticallyCorrect:e.didYouMean.automaticallyCorrectQuery?"whenNoResults":"never"}},enableDidYouMean:e.didYouMean.enableDidYouMean&&"legacy"===e.didYouMean.queryCorrectionMode},...n&&{cq:n},...a.length&&{facets:a},...e.pagination&&{numberOfResults:e.pagination?e.pagination.firstResult+e.pagination.numberOfResults>5e3?5e3-e.pagination.firstResult:e.pagination.numberOfResults:void 0,firstResult:e.pagination.firstResult},...e.facetOptions&&{facetOptions:{freezeFacetOrder:e.facetOptions.freezeFacetOrder}},...(null==(r=e.folding)?void 0:r.enabled)&&{filterField:e.folding.fields.collection,childField:e.folding.fields.parent,parentField:e.folding.fields.child,filterFieldRange:e.folding.filterFieldRange},...e.automaticFacetSet&&{generateAutomaticFacets:{desiredCount:e.automaticFacetSet.desiredCount,numberOfValues:e.automaticFacetSet.numberOfValues,currentFacets:i}},...e.generatedAnswer&&{pipelineRuleParameters:{mlGenerativeQuestionAnswering:{responseFormat:e.generatedAnswer.responseFormat,citationsFieldToInclude:e.generatedAnswer.fieldsToIncludeInCitations}}}})};function sa(e){let{field:t,label:r,values:n}=e;return{field:t,label:r,currentValues:n.filter(e=>"selected"===e.state)}}var si=class{async fetchFromAPI(e,t){var r;let{mappings:n,request:a}=e,i=new Date().getTime();return{response:oK(await this.extra.apiClient.search(a,t),n),duration:new Date().getTime()-i,queryExecuted:(null==(r=this.getState().query)?void 0:r.q)||"",requestExecuted:a}}async process(e){var t,r,n;return null!=(n=null!=(r=null!=(t=this.processQueryErrorOrContinue(e))?t:await this.processQueryCorrectionsOrContinue(e))?r:await this.processQueryTriggersOrContinue(e))?n:this.processSuccessResponse(e)}processQueryErrorOrContinue(e){return rZ(e.response)?(this.dispatch(oO(e.response.error)),this.rejectWithValue(e.response.error)):null}async processQueryCorrectionsOrContinue(e){let t=this.getState(),r=this.getSuccessResponse(e);if(!r||!t.didYouMean)return null;let{enableDidYouMean:n,automaticallyCorrectQuery:a}=t.didYouMean,{results:i,queryCorrections:o,queryCorrection:s}=r;if(!n||!a)return null;let l=0===i.length&&o&&0!==o.length,u=!eE(s)&&!eE(s.correctedQuery);if(!l&&!u)return null;let c=l?await this.processLegacyDidYouMeanAutoCorrection(e):this.processModernDidYouMeanAutoCorrection(e);return this.dispatch(i6(eG(this.getState()))),c}async processLegacyDidYouMeanAutoCorrection(e){let t=this.getCurrentQuery(),r=this.getSuccessResponse(e);if(!r.queryCorrections)return null;let{correctedQuery:n}=r.queryCorrections[0],a=await this.automaticallyRetryQueryWithCorrection(n);return rZ(a.response)?(this.dispatch(oO(a.response.error)),this.rejectWithValue(a.response.error)):(this.logOriginalAnalyticsQueryBeforeAutoCorrection(e),this.dispatch(i6(eG(this.getState()))),{...a,response:{...a.response.success,queryCorrections:r.queryCorrections},automaticallyCorrected:!0,originalQuery:t,analyticsAction:o3()})}processModernDidYouMeanAutoCorrection(e){let t=this.getSuccessResponse(e),{correctedQuery:r,originalQuery:n}=t.queryCorrection;return this.onUpdateQueryForCorrection(r),{...e,response:{...t},queryExecuted:r,automaticallyCorrected:!0,originalQuery:n,analyticsAction:o3()}}logOriginalAnalyticsQueryBeforeAutoCorrection(e){let t=this.getState(),r=this.getSuccessResponse(e);this.analyticsAction&&this.analyticsAction()(this.dispatch,()=>this.getStateAfterResponse(e.queryExecuted,e.duration,t,r),this.extra)}async processQueryTriggersOrContinue(e){var t,r;let n=this.getSuccessResponse(e);if(!n)return null;let a=(null==(t=n.triggers.find(e=>"query"===e.type))?void 0:t.content)||"";if(!a)return null;if((null==(r=this.getState().triggers)?void 0:r.queryModification.queryToIgnore)===a)return this.dispatch(o8("")),null;this.analyticsAction&&await this.dispatch(this.analyticsAction);let i=this.getCurrentQuery(),o=await this.automaticallyRetryQueryWithTriggerModification(a);return rZ(o.response)?(this.dispatch(oO(o.response.error)),this.rejectWithValue(o.response.error)):(this.dispatch(i6(eG(this.getState()))),{...o,response:{...o.response.success},automaticallyCorrected:!1,originalQuery:i,analyticsAction:o6()})}getStateAfterResponse(e,t,r,n){var a,i;return{...r,query:{q:e,enableQuerySyntax:null!=(i=null==(a=r.query)?void 0:a.enableQuerySyntax)?i:eq().enableQuerySyntax},search:{...eX(),duration:t,response:n,results:n.results}}}processSuccessResponse(e){return this.dispatch(i6(eG(this.getState()))),{...e,response:this.getSuccessResponse(e),automaticallyCorrected:!1,originalQuery:this.getCurrentQuery(),analyticsAction:this.analyticsAction}}getSuccessResponse(e){return rJ(e.response)?e.response.success:null}async automaticallyRetryQueryWithCorrection(e){this.onUpdateQueryForCorrection(e);let t=await this.fetchFromAPI(await sn(this.getState()),{origin:"mainSearch"});return this.dispatch(o1(e)),t}async automaticallyRetryQueryWithTriggerModification(e){return this.dispatch(o9({newQuery:e,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(e),await this.fetchFromAPI(await sn(this.getState()),{origin:"mainSearch"})}getCurrentQuery(){var e;let t=this.getState();return(null==(e=t.query)?void 0:e.q)!==void 0?t.query.q:""}get extra(){return this.config.extra}getState(){return this.config.getState()}get dispatch(){return this.config.dispatch}get analyticsAction(){return this.config.analyticsAction}get rejectWithValue(){return this.config.rejectWithValue}constructor(e,t=e=>{this.dispatch(oS({q:e}))}){this.config=e,this.onUpdateQueryForCorrection=t}};rp("search/prepareForSearchWithQuery",(e,t)=>{let{dispatch:r}=t;r7(e,{q:new eU,enableQuerySyntax:new eF,clearFilters:new eF}),e.clearFilters&&(r(or()),r(on())),r(oa({allow:!0})),r(oS({q:e.q,enableQuerySyntax:e.enableQuerySyntax})),r(om(1))});var so=rp("search/executeSearch",async(e,t)=>{let r=t.getState();return await sv(r,t,e)}),ss=rp("search/fetchPage",async(e,t)=>{let r=t.getState();return await sg(r,t,e)}),sl=rp("search/fetchMoreResults",async(e,t)=>{let r=t.getState();return await sy(t,r)}),su=rp("search/fetchFacetValues",async(e,t)=>{let r=t.getState();return await sm(t,e,r)}),sc=(rp("search/fetchInstantResults",async(e,t)=>sh(e,t)),async(e,t)=>{var r,n,a,i;let o=await sn(e,t);return o.request={...o.request,firstResult:(null!=(a=null==(r=e.pagination)?void 0:r.firstResult)?a:0)+(null!=(i=null==(n=e.search)?void 0:n.results.length)?i:0)},o}),sd=async(e,t,r)=>oG({...await oq(e),...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},numberOfResults:r,q:t}),sf=async(e,t)=>{let r=await sn(e,t);return r.request.numberOfResults=0,r},sp=e=>{var t;e.configuration.analytics.enabled&&aZ.addElement({name:"Query",...(null==(t=e.query)?void 0:t.q)&&{value:e.query.q},time:JSON.stringify(new Date)})};async function sh(e,t){r7(e,{id:r1,q:r1,maxResultsPerQuery:new eD({required:!0,min:1}),cacheTimeout:new eD});let{q:r,maxResultsPerQuery:n}=e,a=t.getState(),i=new si({...t,analyticsAction:oo()},r=>{t.dispatch(od({q:r,id:e.id}))}),o=await sd(a,r,n),s=await i.fetchFromAPI(o,{origin:"instantResults",disableAbortWarning:!0}),l=await i.process(s);return"response"in l?{results:l.response.results,searchUid:l.response.searchUid,analyticsAction:l.analyticsAction,totalCountFiltered:l.response.totalCountFiltered,duration:l.duration}:l}async function sg(e,t,r){sp(e);let{analyticsClientMiddleware:n,preprocessRequest:a,logger:i}=t.extra,{description:o}=await r.prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:a,logger:i}),s=new si({...t,analyticsAction:r}),l=await sn(e,o),u=await s.fetchFromAPI(l,{origin:"mainSearch"});return await s.process(u)}async function sy(e,t){let{analyticsClientMiddleware:r,preprocessRequest:n,logger:a}=e.extra,{description:i}=await ok().prepare({getState:()=>e.getState(),analyticsClientMiddleware:r,preprocessRequest:n,logger:a}),o=new si({...e,analyticsAction:ok()}),s=await sc(t,i),l=await o.fetchFromAPI(s,{origin:"mainSearch"});return await o.process(l)}async function sm(e,t,r){let{analyticsClientMiddleware:n,preprocessRequest:a,logger:i}=e.extra,{description:o}=await t.prepare({getState:()=>e.getState(),analyticsClientMiddleware:n,preprocessRequest:a,logger:i}),s=new si({...e,analyticsAction:t}),l=await sf(r,o),u=await s.fetchFromAPI(l,{origin:"facetValues"});return await s.process(u)}async function sv(e,t,r){sp(e);let{analyticsClientMiddleware:n,preprocessRequest:a,logger:i}=t.extra,{description:o}=await r.prepare({getState:()=>t.getState(),analyticsClientMiddleware:n,preprocessRequest:a,logger:i}),s=await sn(e,o),l=new si({...t,analyticsAction:r}),u=await l.fetchFromAPI(s,{origin:"mainSearch"});return await l.process(u)}var sw=async(e,t,r)=>{var n;let a=function(e){var t,r;return[(null==(t=e.advancedSearchQueries)?void 0:t.cq.trim())||"",(null==(r=Object.values(e.tabSet||{}).find(e=>e.isActive))?void 0:r.expression.trim())||"",...Object.values(e.staticFilterSet||{}).map(e=>{let t=e.values.filter(e=>"selected"===e.state&&!!e.expression.trim()),r=t.map(e=>e.expression).join(" OR ");return t.length>1?"(".concat(r,")"):r})].filter(e=>!!e).join(" AND ")}(e),i=function(e){var t,r,n,a,i,o,s;return se([...o7(null!=(a=(n=r=e).facetSet)?a:{}).map(e=>"alphanumericDescending"===e.sortCriteria?{...e,sortCriteria:{type:"alphanumeric",order:"descending"}}:e),...sb(null!=(i=n.numericFacetSet)?i:{}),...sb(null!=(o=n.dateFacetSet)?o:{}),...o7(null!=(s=n.categoryFacetSet)?s:{})].filter(e=>{var t,n,a;let{facetId:i}=e;return null==(a=null==(n=r.facetOptions)||null==(t=n.facets[i])?void 0:t.enabled)||a}),null!=(t=e.facetOrder)?t:[])}(e),o=function(e){var t;let r=null==(t=e.automaticFacetSet)?void 0:t.set;return r?Object.values(r).map(e=>e.response).map(sS).filter(e=>e.currentValues.length>0):void 0}(e);return oG({..."legacy"===e.configuration.analytics.analyticsMode?await oq(e,r):oC(e,t,r),...e.didYouMean&&{queryCorrection:{enabled:e.didYouMean.enableDidYouMean&&"next"===e.didYouMean.queryCorrectionMode,options:{automaticallyCorrect:e.didYouMean.automaticallyCorrectQuery?"whenNoResults":"never"}},enableDidYouMean:e.didYouMean.enableDidYouMean&&"legacy"===e.didYouMean.queryCorrectionMode},...a&&{cq:a},...i.length&&{facets:i},...e.pagination&&{numberOfResults:e.pagination?e.pagination.firstResult+e.pagination.numberOfResults>5e3?5e3-e.pagination.firstResult:e.pagination.numberOfResults:void 0,firstResult:e.pagination.firstResult},...e.facetOptions&&{facetOptions:{freezeFacetOrder:e.facetOptions.freezeFacetOrder}},...(null==(n=e.folding)?void 0:n.enabled)&&{filterField:e.folding.fields.collection,childField:e.folding.fields.parent,parentField:e.folding.fields.child,filterFieldRange:e.folding.filterFieldRange},...e.automaticFacetSet&&{generateAutomaticFacets:{desiredCount:e.automaticFacetSet.desiredCount,numberOfValues:e.automaticFacetSet.numberOfValues,currentFacets:o}},...e.generatedAnswer&&{pipelineRuleParameters:{mlGenerativeQuestionAnswering:{responseFormat:e.generatedAnswer.responseFormat,citationsFieldToInclude:e.generatedAnswer.fieldsToIncludeInCitations}}}})};function sS(e){let{field:t,label:r,values:n}=e;return{field:t,label:r,currentValues:n.filter(e=>"selected"===e.state)}}function sb(e){return o7(e).map(e=>{let t=e.currentValues.some(e=>{let{state:t}=e;return"idle"!==t});return e.generateAutomaticRanges&&!t?{...e,currentValues:[]}:e})}var sC=class{async fetchFromAPI(e,t){var r;let{mappings:n,request:a}=e,i=new Date().getTime();return{response:oK(await this.extra.apiClient.search(a,t),n),duration:new Date().getTime()-i,queryExecuted:(null==(r=this.getState().query)?void 0:r.q)||"",requestExecuted:a}}async process(e){var t,r,n;return null!=(n=null!=(r=null!=(t=this.processQueryErrorOrContinue(e))?t:await this.processQueryCorrectionsOrContinue(e))?r:await this.processQueryTriggersOrContinue(e))?n:this.processSuccessResponse(e)}processQueryErrorOrContinue(e){return rZ(e.response)?(this.dispatch(oO(e.response.error)),this.rejectWithValue(e.response.error)):null}async processQueryCorrectionsOrContinue(e){let t=this.getState(),r=this.getSuccessResponse(e);if(!r||!t.didYouMean)return null;let{enableDidYouMean:n,automaticallyCorrectQuery:a}=t.didYouMean,{results:i,queryCorrections:o,queryCorrection:s}=r;if(!n||!a)return null;let l=0===i.length&&o&&0!==o.length,u=!eE(s)&&!eE(s.correctedQuery);if(!l&&!u)return null;let c=l?await this.processLegacyDidYouMeanAutoCorrection(e):this.processModernDidYouMeanAutoCorrection(e);return this.dispatch(i6(eG(this.getState()))),c}async processLegacyDidYouMeanAutoCorrection(e){let t=this.getCurrentQuery(),r=this.getSuccessResponse(e);if(!r.queryCorrections)return null;let{correctedQuery:n}=r.queryCorrections[0],a=await this.automaticallyRetryQueryWithCorrection(n);return rZ(a.response)?(this.dispatch(oO(a.response.error)),this.rejectWithValue(a.response.error)):(this.dispatch(i6(eG(this.getState()))),{...a,response:{...a.response.success,queryCorrections:r.queryCorrections},automaticallyCorrected:!0,originalQuery:t})}processModernDidYouMeanAutoCorrection(e){let t=this.getSuccessResponse(e),{correctedQuery:r,originalQuery:n}=t.queryCorrection;return this.onUpdateQueryForCorrection(r),{...e,response:{...t},queryExecuted:r,automaticallyCorrected:!0,originalQuery:n}}async processQueryTriggersOrContinue(e){var t,r;let n=this.getSuccessResponse(e);if(!n)return null;let a=(null==(t=n.triggers.find(e=>"query"===e.type))?void 0:t.content)||"";if(!a)return null;if((null==(r=this.getState().triggers)?void 0:r.queryModification.queryToIgnore)===a)return this.dispatch(o8("")),null;let i=this.getCurrentQuery(),o=await this.automaticallyRetryQueryWithTriggerModification(a);return rZ(o.response)?(this.dispatch(oO(o.response.error)),this.rejectWithValue(o.response.error)):(this.dispatch(i6(eG(this.getState()))),{...o,response:{...o.response.success},automaticallyCorrected:!1,originalQuery:i})}processSuccessResponse(e){return this.dispatch(i6(eG(this.getState()))),{...e,response:this.getSuccessResponse(e),automaticallyCorrected:!1,originalQuery:this.getCurrentQuery()}}getSuccessResponse(e){return rJ(e.response)?e.response.success:null}async automaticallyRetryQueryWithCorrection(e){this.onUpdateQueryForCorrection(e);let t=this.getState(),{actionCause:r}=o5(),n=await this.fetchFromAPI(await sw(t,this.extra.navigatorContext,{actionCause:r}),{origin:"mainSearch"});return this.dispatch(o1(e)),n}async automaticallyRetryQueryWithTriggerModification(e){return this.dispatch(o9({newQuery:e,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(e),await this.fetchFromAPI(await sw(this.getState(),this.extra.navigatorContext),{origin:"mainSearch"})}getCurrentQuery(){var e;let t=this.getState();return(null==(e=t.query)?void 0:e.q)!==void 0?t.query.q:""}get extra(){return this.config.extra}getState(){return this.config.getState()}get dispatch(){return this.config.dispatch}get rejectWithValue(){return this.config.rejectWithValue}constructor(e,t=e=>{this.dispatch(oS({q:e}))}){this.config=e,this.onUpdateQueryForCorrection=t}},sI=(rp("search/prepareForSearchWithQuery",(e,t)=>{let{dispatch:r}=t;r7(e,{q:new eU,enableQuerySyntax:new eF,clearFilters:new eF}),e.clearFilters&&(r(or()),r(on())),r(oa({allow:!0})),r(oS({q:e.q,enableQuerySyntax:e.enableQuerySyntax})),r(om(1))}),rp("search/executeSearch",async(e,t)=>{let r=t.getState();if("legacy"===r.configuration.analytics.analyticsMode)return sv(r,t,e.legacy);sD(r);let n=e.next?sT(e.next):void 0,a=await sw(r,t.extra.navigatorContext,n),i=new sC({...t,analyticsAction:null!=n?n:{}}),o=await i.fetchFromAPI(a,{origin:"mainSearch"});return await i.process(o)})),sq=rp("search/fetchPage",async(e,t)=>{let r=t.getState();if(sD(r),"legacy"===r.configuration.analytics.analyticsMode||!e.next)return sg(r,t,e.legacy);let n=new sC({...t,analyticsAction:e.next}),a=await sw(r,t.extra.navigatorContext,e.next),i=await n.fetchFromAPI(a,{origin:"mainSearch"});return await n.process(i)}),sk=rp("search/fetchMoreResults",async(e,t)=>{let r=t.getState();if("legacy"===r.configuration.analytics.analyticsMode)return sy(t,r);let n=function(e,t){return{...new iq(t).getBaseMetadata(),actionCause:e,type:e}}("browseResults",t.getState),a=new sC({...t,analyticsAction:n}),i=await sx(r,t.extra.navigatorContext,n),o=await a.fetchFromAPI(i,{origin:"mainSearch"});return await a.process(o)}),sO=rp("search/fetchFacetValues",async(e,t)=>{let r=t.getState();if("legacy"===r.configuration.analytics.analyticsMode)return sv(r,t,e.legacy);let n=new sC({...t,analyticsAction:{}}),a=await sE(r,t.extra.navigatorContext),i=await n.fetchFromAPI(a,{origin:"facetValues"});return await n.process(i)}),sA=rp("search/fetchInstantResults",async(e,t)=>{let r=t.getState();if("legacy"===r.configuration.analytics.analyticsMode)return sh(e,t);r7(e,{id:r1,q:r1,maxResultsPerQuery:new eD({required:!0,min:1}),cacheTimeout:new eD});let{q:n,maxResultsPerQuery:a}=e,i=sT(os()),o=await sR(r,t.extra.navigatorContext,n,a,i),s=new sC({...t,analyticsAction:i},r=>{t.dispatch(od({q:r,id:e.id}))}),l=await s.fetchFromAPI(o,{origin:"instantResults",disableAbortWarning:!0}),u=await s.process(l);return"response"in u?{results:u.response.results,searchUid:u.response.searchUid,totalCountFiltered:u.response.totalCountFiltered,duration:u.duration}:u}),sx=async(e,t,r)=>{var n,a,i,o;let s=await sw(e,t,r);return s.request={...s.request,firstResult:(null!=(i=null==(n=e.pagination)?void 0:n.firstResult)?i:0)+(null!=(o=null==(a=e.search)?void 0:a.results.length)?o:0)},s},sR=async(e,t,r,n,a)=>oG({...oC(e,t,a),...e.didYouMean&&{enableDidYouMean:e.didYouMean.enableDidYouMean},numberOfResults:n,q:r}),sE=async(e,t,r)=>{let n=await sw(e,t,r);return n.request.numberOfResults=0,n},sD=e=>{var t;e.configuration.analytics.enabled&&aZ.addElement({name:"Query",...(null==(t=e.query)?void 0:t.q)&&{value:e.query.q},time:JSON.stringify(new Date)})},sT=e=>({actionCause:e.actionCause,type:e.actionCause}),sF=(e,t)=>eE(e[t])?eE(e.raw[t])?null:e.raw[t]:e[t];function sj(e,t){var r;let n=null!=(r=t.payload)?r:null;n&&(e.response=eX().response,e.results=[],e.questionAnswer=eZ()),e.error=n,e.isLoading=!1}function sM(e,t){e.error=null,e.response=t.payload.response,e.queryExecuted=t.payload.queryExecuted,e.duration=t.payload.duration,e.isLoading=!1}function sP(e,t){e.isLoading=!0,e.requestId=t.meta.requestId}var sU=t8(eX(),e=>{e.addCase(so.rejected,(e,t)=>sj(e,t)),e.addCase(sl.rejected,(e,t)=>sj(e,t)),e.addCase(ss.rejected,(e,t)=>sj(e,t)),e.addCase(so.fulfilled,(e,t)=>{!function(e,t){sM(e,t),e.results=t.payload.response.results,e.searchResponseId=t.payload.response.searchUid,e.questionAnswer=t.payload.response.questionAnswer,e.extendedResults=t.payload.response.extendedResults}(e,t)}),e.addCase(sl.fulfilled,(e,t)=>{sM(e,t),e.results=[...e.results,...t.payload.response.results]}),e.addCase(ss.fulfilled,(e,t)=>{sM(e,t),e.results=t.payload.response.results}),e.addCase(su.fulfilled,(e,t)=>{e.response.facets=t.payload.response.facets,e.response.searchUid=t.payload.response.searchUid}),e.addCase(so.pending,sP),e.addCase(sl.pending,sP),e.addCase(ss.pending,sP)}),s_=tY(e=>e.query,e=>e),sV=e=>{var t,r,n;return null==(n=e.search)||null==(r=n.response)||null==(t=r.extendedResults)?void 0:t.generativeQuestionAnsweringId},sQ=e=>{var t;return null==(t=e.generatedAnswer)?void 0:t.fieldsToIncludeInCitations},sL=tY(e=>{var t;return null==(t=e.generatedAnswer)?void 0:t.citations},(e,t)=>t,(e,t)=>null==e?void 0:e.find(e=>e.id===t));tY(e=>{var t;return null==(t=s_(e))?void 0:t.q},e=>e.search.requestId,(e,t)=>({q:e,requestId:t}));var sN=tY(e=>e.pipeline,e=>e),sz=tY(e=>e.searchHub,e=>e);function s$(e){let t=0;for(let r in e)t++;return t}var sB=e=>[].concat(...e);function sH(e){return null!=e}var sY=e=>e.replace(/\/$/,""),sW=e=>e.replace(/^\//,""),sG=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return fetch(...t)},sK=e=>e.status>=200&&e.status<=299,sJ=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function sZ(e){if(!e8(e))return e;let t={...e};for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return t}var sX=class{constructor(e,t){this.value=e,this.meta=t}};async function s0(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=~~((Math.random()+.4)*(300<<Math.min(e,t)));await new Promise(e=>setTimeout(t=>e(t),r))}var s1={},s2=Object.assign((e,t)=>async(r,n,a)=>{let[i]=[5,(t||s1).maxRetries,(a||s1).maxRetries].filter(e=>void 0!==e).slice(-1),o={maxRetries:i,backoff:s0,retryCondition:(e,t,r)=>{let{attempt:n}=r;return n<=i},...t,...a},s=0;for(;;)try{let t=await e(r,n,a);if(t.error)throw new sX(t);return t}catch(e){if(s++,e.throwImmediately){if(e instanceof sX)return e.value;throw e}if(e instanceof sX&&!o.retryCondition(e.value.error,r,{attempt:s,baseQueryApi:n,extraOptions:a}))return e.value;await o.backoff(s,o.maxRetries)}},{fail:function(e){throw Object.assign(new sX({error:e}),{throwImmediately:!0})}}),s3=tJ("__rtkq/focused"),s5=tJ("__rtkq/unfocused"),s4=tJ("__rtkq/online"),s6=tJ("__rtkq/offline");function s8(e){return"query"===e.type}function s9(e,t,r,n,a,i){return"function"==typeof e?e(t,r,n,a).map(s7).map(i):Array.isArray(e)?e.map(s7).map(i):[]}function s7(e){return"string"==typeof e?{type:e}:e}var le=Symbol("forceQueryFn"),lt=e=>"function"==typeof e[le];function lr(e){return e}function ln(e,t,r,n){return s9(r[e.meta.arg.endpointName][t],ro(e)?e.payload:void 0,ri(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,n)}function la(e,t,r){let n=e[t];n&&r(n)}function li(e){var t;return null!=(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)?t:e.requestId}function lo(e,t,r){let n=e[li(t)];n&&r(n)}var ls={},ll=Symbol.for("RTKQ/skipToken"),lu={status:"uninitialized"},lc=tQ(lu,()=>{}),ld=tQ(lu,()=>{}),lf=WeakMap?new WeakMap:void 0,lp=e=>{let{endpointName:t,queryArgs:r}=e,n="",a=null==lf?void 0:lf.get(r);if("string"==typeof a)n=a;else{let e=JSON.stringify(r,(e,t)=>t=e8(t="bigint"==typeof t?{$bigint:t.toString()}:t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t);e8(r)&&(null==lf||lf.set(r,e)),n=e}return"".concat(t,"(").concat(n,")")};function lh(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Object.assign(e,...r)}var lg=e=>{let{api:t,queryThunk:r,internalState:n}=e,a="".concat(t.reducerPath,"/subscriptions"),i=null,o=null,{updateSubscriptionOptions:s,unsubscribeQueryResult:l}=t.internalActions,u=(e,n)=>{var a,i,o,u,c,d,f,p,h;if(s.match(n)){let{queryCacheKey:t,requestId:r,options:a}=n.payload;return(null==e||null==(o=e[t])?void 0:o[r])&&(e[t][r]=a),!0}if(l.match(n)){let{queryCacheKey:t,requestId:r}=n.payload;return e[t]&&delete e[t][r],!0}if(t.internalActions.removeQueryResult.match(n))return delete e[n.payload.queryCacheKey],!0;if(r.pending.match(n)){let{meta:{arg:t,requestId:r}}=n,i=null!=(u=e[a=t.queryCacheKey])?u:e[a]={};return i["".concat(r,"_running")]={},t.subscribe&&(i[r]=null!=(d=null!=(c=t.subscriptionOptions)?c:i[r])?d:{}),!0}let g=!1;if(r.fulfilled.match(n)||r.rejected.match(n)){let t=e[n.meta.arg.queryCacheKey]||{},r="".concat(n.meta.requestId,"_running");g||(g=!!t[r]),delete t[r]}if(r.rejected.match(n)){let{meta:{condition:t,arg:r,requestId:a}}=n;if(t&&r.subscribe){let t=null!=(f=e[i=r.queryCacheKey])?f:e[i]={};t[a]=null!=(h=null!=(p=r.subscriptionOptions)?p:t[a])?h:{},g=!0}}return g},c=()=>n.currentSubscriptions,d={getSubscriptions:c,getSubscriptionCount:e=>{var t;return s$(null!=(t=c()[e])?t:{})},isRequestSubscribed:(e,t)=>{var r,n;return!!(null==(n=c())||null==(r=n[e])?void 0:r[t])}};return(e,s)=>{if(i||(i=JSON.parse(JSON.stringify(n.currentSubscriptions))),t.util.resetApiState.match(e))return i=n.currentSubscriptions={},o=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(e))return[!1,d];let l=u(n.currentSubscriptions,e),c=!0;if(l){o||(o=setTimeout(()=>{let e=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,r]=tL(i,()=>e);s.next(t.internalActions.subscriptionsUpdated(r)),i=e,o=null},500));let l="string"==typeof e.type&&!!e.type.startsWith(a),u=r.rejected.match(e)&&e.meta.condition&&!!e.meta.arg.subscribe;c=!l&&!u}return[c,!1]}},ly=e=>{let{reducerPath:t,api:r,queryThunk:n,context:a,internalState:i}=e,{removeQueryResult:o,unsubscribeQueryResult:s}=r.internalActions,l=t7(s.match,n.fulfilled,n.rejected);function u(e){let t=i.currentSubscriptions[e];return!!t&&!function(e){for(let t in e)return!1;return!0}(t)}let c={};function d(e,t,r,n){var i,s;let l=null!=(s=null==(i=a.endpointDefinitions[t])?void 0:i.keepUnusedDataFor)?s:n.keepUnusedDataFor;if(l===1/0)return;let d=Math.max(0,Math.min(l,2147482.647));if(!u(e)){let t=c[e];t&&clearTimeout(t),c[e]=setTimeout(()=>{u(e)||r.dispatch(o({queryCacheKey:e})),delete c[e]},1e3*d)}}return(e,n,i)=>{if(l(e)){var o;let r=n.getState()[t],{queryCacheKey:a}=s.match(e)?e.payload:e.meta.arg;d(a,null==(o=r.queries[a])?void 0:o.endpointName,n,r.config)}if(r.util.resetApiState.match(e))for(let[e,t]of Object.entries(c))t&&clearTimeout(t),delete c[e];if(a.hasRehydrationInfo(e)){let r=n.getState()[t],{queries:i}=a.extractRehydrationInfo(e);for(let[e,t]of Object.entries(i))d(e,null==t?void 0:t.endpointName,n,r.config)}}},lm=Error("Promise never resolved before cacheEntryRemoved."),lv=e=>{let{api:t,reducerPath:r,context:n,queryThunk:a,mutationThunk:i,internalState:o}=e,s=rs(a),l=rs(i),u=ro(a,i),c={};function d(e,r,a,i,o){let s=n.endpointDefinitions[e],l=null==s?void 0:s.onCacheEntryAdded;if(!l)return;let u={},d=new Promise(e=>{u.cacheEntryRemoved=e}),f=Promise.race([new Promise(e=>{u.valueResolved=e}),d.then(()=>{throw lm})]);f.catch(()=>{}),c[a]=u;let p=t.endpoints[e].select("query"===s.type?r:a),h=i.dispatch((e,t,r)=>r),g={...i,getCacheEntry:()=>p(i.getState()),requestId:o,extra:h,updateCachedData:"query"===s.type?n=>i.dispatch(t.util.updateQueryData(e,r,n)):void 0,cacheDataLoaded:f,cacheEntryRemoved:d};Promise.resolve(l(r,g)).catch(e=>{if(e!==lm)throw e})}return(e,n,o)=>{let f=function(e){var r;return s(e)?e.meta.arg.queryCacheKey:l(e)?null!=(r=e.meta.arg.fixedCacheKey)?r:e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?li(e.payload):""}(e);if(a.pending.match(e)){let t=o[r].queries[f],a=n.getState()[r].queries[f];!t&&a&&d(e.meta.arg.endpointName,e.meta.arg.originalArgs,f,n,e.meta.requestId)}else if(i.pending.match(e))n.getState()[r].mutations[f]&&d(e.meta.arg.endpointName,e.meta.arg.originalArgs,f,n,e.meta.requestId);else if(u(e)){let t=c[f];(null==t?void 0:t.valueResolved)&&(t.valueResolved({data:e.payload,meta:e.meta.baseQueryMeta}),delete t.valueResolved)}else if(t.internalActions.removeQueryResult.match(e)||t.internalActions.removeMutationResult.match(e)){let e=c[f];e&&(delete c[f],e.cacheEntryRemoved())}else if(t.util.resetApiState.match(e))for(let[e,t]of Object.entries(c))delete c[e],t.cacheEntryRemoved()}},lw=e=>{let{api:t,context:{apiUid:r},reducerPath:n}=e;return(e,n)=>{t.util.resetApiState.match(e)&&n.dispatch(t.internalActions.middlewareRegistered(r))}},lS=e=>{let{reducerPath:t,context:r,context:{endpointDefinitions:n},mutationThunk:a,queryThunk:i,api:o,assertTagType:s,refetchQuery:l,internalState:u}=e,{removeQueryResult:c}=o.internalActions,d=t7(ro(a),ri(a)),f=t7(ro(a,i),ra(a,i)),p=[];function h(e,n){let a=n.getState(),i=a[t];if(p.push(...e),"delayed"===i.config.invalidationBehavior&&function(e){var t,r;for(let r in e.queries)if((null==(t=e.queries[r])?void 0:t.status)==="pending")return!0;for(let t in e.mutations)if((null==(r=e.mutations[t])?void 0:r.status)==="pending")return!0;return!1}(i))return;let s=p;if(p=[],0===s.length)return;let d=o.util.selectInvalidatedBy(a,s);r.batch(()=>{for(let{queryCacheKey:t}of Array.from(d.values())){var e;let r=i.queries[t],a=null!=(e=u.currentSubscriptions[t])?e:{};r&&(0===s$(a)?n.dispatch(c({queryCacheKey:t})):"uninitialized"!==r.status&&n.dispatch(l(r,t)))}})}return(e,t)=>{d(e)?h(ln(e,"invalidatesTags",n,s),t):f(e)?h([],t):o.util.invalidateTags.match(e)&&h(s9(e.payload,void 0,void 0,void 0,void 0,s),t)}},lb=e=>{let{reducerPath:t,queryThunk:r,api:n,refetchQuery:a,internalState:i}=e,o={};function s(e,r){let{queryCacheKey:n}=e,l=r.getState()[t],u=l.queries[n],d=i.currentSubscriptions[n];if(!u||"uninitialized"===u.status)return;let{lowestPollingInterval:f,skipPollingIfUnfocused:p}=c(d);if(!Number.isFinite(f))return;let h=o[n];(null==h?void 0:h.timeout)&&(clearTimeout(h.timeout),h.timeout=void 0);let g=Date.now()+f;o[n]={nextPollTimestamp:g,pollingInterval:f,timeout:setTimeout(()=>{(l.config.focused||!p)&&r.dispatch(a(u,n)),s({queryCacheKey:n},r)},f)}}function l(e,r){let{queryCacheKey:n}=e,a=r.getState()[t].queries[n],l=i.currentSubscriptions[n];if(!a||"uninitialized"===a.status)return;let{lowestPollingInterval:d}=c(l);if(!Number.isFinite(d))return void u(n);let f=o[n],p=Date.now()+d;(!f||p<f.nextPollTimestamp)&&s({queryCacheKey:n},r)}function u(e){let t=o[e];(null==t?void 0:t.timeout)&&clearTimeout(t.timeout),delete o[e]}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1,r=Number.POSITIVE_INFINITY;for(let n in e)e[n].pollingInterval&&(r=Math.min(e[n].pollingInterval,r),t=e[n].skipPollingIfUnfocused||t);return{lowestPollingInterval:r,skipPollingIfUnfocused:t}}return(e,t)=>{(n.internalActions.updateSubscriptionOptions.match(e)||n.internalActions.unsubscribeQueryResult.match(e))&&l(e.payload,t),(r.pending.match(e)||r.rejected.match(e)&&e.meta.condition)&&l(e.meta.arg,t),(r.fulfilled.match(e)||r.rejected.match(e)&&!e.meta.condition)&&s(e.meta.arg,t),n.util.resetApiState.match(e)&&function(){for(let e of Object.keys(o))u(e)}()}},lC=e=>{let{api:t,context:r,queryThunk:n,mutationThunk:a}=e,i=rn(n,a),o=ra(n,a),s=ro(n,a),l={};return(e,n)=>{var a,u,c;if(i(e)){let{requestId:a,arg:{endpointName:i,originalArgs:o}}=e.meta,s=r.endpointDefinitions[i],u=null==s?void 0:s.onQueryStarted;if(u){let e={},r=new Promise((t,r)=>{e.resolve=t,e.reject=r});r.catch(()=>{}),l[a]=e;let c=t.endpoints[i].select("query"===s.type?o:a),d=n.dispatch((e,t,r)=>r),f={...n,getCacheEntry:()=>c(n.getState()),requestId:a,extra:d,updateCachedData:"query"===s.type?e=>n.dispatch(t.util.updateQueryData(i,o,e)):void 0,queryFulfilled:r};u(o,f)}}else if(s(e)){let{requestId:t,baseQueryMeta:r}=e.meta;null==(a=l[t])||a.resolve({data:e.payload,meta:r}),delete l[t]}else if(o(e)){let{requestId:t,rejectedWithValue:r,baseQueryMeta:n}=e.meta;null==(u=l[t])||u.reject({error:null!=(c=e.payload)?c:e.error,isUnhandledError:!r,meta:n}),delete l[t]}}},lI=e=>{let{reducerPath:t,context:r,api:n,refetchQuery:a,internalState:i}=e,{removeQueryResult:o}=n.internalActions;function s(e,n){let s=e.getState()[t],l=s.queries,u=i.currentSubscriptions;r.batch(()=>{for(let t of Object.keys(u)){let r=l[t],i=u[t];i&&r&&(Object.values(i).some(e=>!0===e[n])||Object.values(i).every(e=>void 0===e[n])&&s.config[n])&&(0===s$(i)?e.dispatch(o({queryCacheKey:t})):"uninitialized"!==r.status&&e.dispatch(a(r,t)))}})}return(e,t)=>{s3.match(e)&&s(t,"refetchOnFocus"),s4.match(e)&&s(t,"refetchOnReconnect")}},lq=Symbol(),lk=(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){let r=tH(t=>{var r,n;return null==(r=e.extractRehydrationInfo)?void 0:r.call(e,t,{reducerPath:null!=(n=e.reducerPath)?n:"api"})}),n={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...e,extractRehydrationInfo:r,serializeQueryArgs(t){let r=lp;if("serializeQueryArgs"in t.endpointDefinition){let e=t.endpointDefinition.serializeQueryArgs;r=t=>{let r=e(t);return"string"==typeof r?r:lp({...t,queryArgs:r})}}else e.serializeQueryArgs&&(r=e.serializeQueryArgs);return r(t)},tagTypes:[...e.tagTypes||[]]},a={endpointDefinitions:{},batch(e){e()},apiUid:rl(),extractRehydrationInfo:r,hasRehydrationInfo:tH(e=>null!=r(e))},i={injectEndpoints:function(e){for(let[t,r]of Object.entries(e.endpoints({query:e=>({...e,type:"query"}),mutation:e=>({...e,type:"mutation"})}))){if(!0!==e.overrideExisting&&t in a.endpointDefinitions){if("throw"===e.overrideExisting)throw Error(rI(39));continue}for(let e of(a.endpointDefinitions[t]=r,o))e.injectEndpoint(t,r)}return i},enhanceEndpoints(e){let{addTagTypes:t,endpoints:r}=e;if(t)for(let e of t)n.tagTypes.includes(e)||n.tagTypes.push(e);if(r)for(let[e,t]of Object.entries(r))"function"==typeof t?t(a.endpointDefinitions[e]):Object.assign(a.endpointDefinitions[e]||{},t);return i}},o=t.map(e=>e.init(i,n,a));return i.injectEndpoints({endpoints:e.endpoints})}})(function(){let{createSelector:e=tY}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:lq,init(t,r,n){let{baseQuery:a,tagTypes:i,reducerPath:o,serializeQueryArgs:s,keepUnusedDataFor:l,refetchOnMountOrArgChange:u,refetchOnFocus:c,refetchOnReconnect:d,invalidationBehavior:f}=r;!function(){var e;let t="replace",r="remove";function n(e){if(!to(e))return e;if(Array.isArray(e))return e.map(n);if(th(e))return new Map(Array.from(e.entries()).map(e=>{let[t,r]=e;return[t,n(r)]}));if(tg(e))return new Set(Array.from(e).map(n));let t=Object.create(ta(e));for(let r in e)t[r]=n(e[r]);return td(e,tt)&&(t[tt]=e[tt]),t}function a(e){return ti(e)?n(e):e}e="Patches",tb[e]||(tb[e]={applyPatches_:function(e,a){return a.forEach(a=>{let{path:i,op:o}=a,s=e;for(let e=0;e<i.length-1;e++){let t=tc(s),r=i[e];"string"!=typeof r&&"number"!=typeof r&&(r=""+r),(0===t||1===t)&&("__proto__"===r||"constructor"===r)&&tn(19),"function"==typeof s&&"prototype"===r&&tn(19),"object"!=typeof(s=tf(s,r))&&tn(18,i.join("/"))}let l=tc(s),u=n(a.value),c=i[i.length-1];switch(o){case t:switch(l){case 2:return s.set(c,u);case 3:tn(16);default:return s[c]=u}case"add":switch(l){case 1:return"-"===c?s.push(u):s.splice(c,0,u);case 2:return s.set(c,u);case 3:return s.add(u);default:return s[c]=u}case r:switch(l){case 1:return s.splice(c,1);case 2:return s.delete(c);case 3:return s.delete(a.value);default:return delete s[c]}default:tn(17,o)}}),e},generatePatches_:function(e,n,i,o){switch(e.type_){case 0:case 2:return function(e,n,i,o){let{base_:s,copy_:l}=e;tu(e.assigned_,(e,u)=>{let c=tf(s,e),d=tf(l,e),f=u?td(s,e)?t:"add":r;if(c===d&&f===t)return;let p=n.concat(e);i.push(f===r?{op:f,path:p}:{op:f,path:p,value:d}),o.push("add"===f?{op:r,path:p}:f===r?{op:"add",path:p,value:a(c)}:{op:t,path:p,value:a(c)})})}(e,n,i,o);case 1:return function(e,n,i,o){let{base_:s,assigned_:l}=e,u=e.copy_;u.length<s.length&&([s,u]=[u,s],[i,o]=[o,i]);for(let e=0;e<s.length;e++)if(l[e]&&u[e]!==s[e]){let r=n.concat([e]);i.push({op:t,path:r,value:a(u[e])}),o.push({op:t,path:r,value:a(s[e])})}for(let e=s.length;e<u.length;e++){let t=n.concat([e]);i.push({op:"add",path:t,value:a(u[e])})}for(let e=u.length-1;s.length<=e;--e){let t=n.concat([e]);o.push({op:r,path:t})}}(e,n,i,o);case 3:return function(e,t,n,a){let{base_:i,copy_:o}=e,s=0;i.forEach(e=>{if(!o.has(e)){let i=t.concat([s]);n.push({op:r,path:i,value:e}),a.unshift({op:"add",path:i,value:e})}s++}),s=0,o.forEach(e=>{if(!i.has(e)){let i=t.concat([s]);n.push({op:"add",path:i,value:e}),a.unshift({op:r,path:i,value:e})}s++})}(e,n,i,o)}},generateReplacementPatches_:function(e,r,n,a){n.push({op:t,path:[],value:r===te?void 0:r}),a.push({op:t,path:[],value:e})}})}();let p=e=>e;Object.assign(t,{reducerPath:o,endpoints:{},internalActions:{onOnline:s4,onOffline:s6,onFocus:s3,onFocusLost:s5},util:{}});let{queryThunk:h,mutationThunk:g,patchQueryData:y,updateQueryData:m,upsertQueryData:v,prefetch:w,buildMatchThunkActions:S}=function(e){let{reducerPath:t,baseQuery:r,context:{endpointDefinitions:n},serializeQueryArgs:a,api:i,assertTagType:o}=e,s=async(e,t)=>{let{signal:a,abort:i,rejectWithValue:o,fulfillWithValue:s,dispatch:u,getState:c,extra:d}=t,f=n[e.endpointName];try{let t=lr,n,o={signal:a,abort:i,dispatch:u,getState:c,extra:d,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?l(e,c()):void 0},p="query"===e.type?e[le]:void 0;if(p?n=p():f.query?(n=await r(f.query(e.originalArgs),o,f.extraOptions),f.transformResponse&&(t=f.transformResponse)):n=await f.queryFn(e.originalArgs,o,f.extraOptions,e=>r(e,o,f.extraOptions)),n.error)throw new sX(n.error,n.meta);return s(await t(n.data,n.meta,e.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:n.meta,[t1]:!0})}catch(r){let t=r;if(t instanceof sX){let r=lr;f.query&&f.transformErrorResponse&&(r=f.transformErrorResponse);try{return o(await r(t.value,t.meta,e.originalArgs),{baseQueryMeta:t.meta,[t1]:!0})}catch(e){t=e}}throw console.error(t),t}};function l(e,r){var n,a,i,o;let s=null==(a=r[t])||null==(n=a.queries)?void 0:n[e.queryCacheKey],l=null==(i=r[t])?void 0:i.config.refetchOnMountOrArgChange,u=null==s?void 0:s.fulfilledTimeStamp,c=null!=(o=e.forceRefetch)?o:e.subscribe&&l;return!!c&&(!0===c||(Number(new Date)-Number(u))/1e3>=c)}let u=rp("".concat(t,"/executeQuery"),s,{getPendingMeta:()=>({startedTimeStamp:Date.now(),[t1]:!0}),condition(e,r){var a,i,o;let{getState:s}=r,u=s(),c=null==(i=u[t])||null==(a=i.queries)?void 0:a[e.queryCacheKey],d=null==c?void 0:c.fulfilledTimeStamp,f=e.originalArgs,p=null==c?void 0:c.originalArgs,h=n[e.endpointName];return!!lt(e)||(null==c?void 0:c.status)!=="pending"&&(!!(l(e,u)||s8(h)&&(null==h||null==(o=h.forceRefetch)?void 0:o.call(h,{currentArg:f,previousArg:p,endpointState:c,state:u})))||!d)},dispatchConditionRejection:!0}),c=rp("".concat(t,"/executeMutation"),s,{getPendingMeta:()=>({startedTimeStamp:Date.now(),[t1]:!0})}),d=e=>"force"in e,f=e=>"ifOlderThan"in e;function p(e){return t=>{var r,n;return(null==t||null==(n=t.meta)||null==(r=n.arg)?void 0:r.endpointName)===e}}return{queryThunk:u,mutationThunk:c,prefetch:(e,t,r)=>(n,a)=>{let o=d(r)&&r.force,s=f(r)&&r.ifOlderThan,l=function(){let r=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return i.endpoints[e].initiate(t,{forceRefetch:r,isPrefetch:!0})},u=i.endpoints[e].select(t)(a());if(o)n(l());else if(s){let e=null==u?void 0:u.fulfilledTimeStamp;if(!e)return void n(l());(Number(new Date)-Number(new Date(e)))/1e3>=s&&n(l())}else n(l(!1))},updateQueryData:function(e,t,r){let n=!(arguments.length>3)||void 0===arguments[3]||arguments[3];return(a,o)=>{let s,l=i.endpoints[e].select(t)(o()),u={patches:[],inversePatches:[],undo:()=>a(i.util.patchQueryData(e,t,u.inversePatches,n))};if("uninitialized"===l.status)return u;if("data"in l)if(to(l.data)){let[e,t,n]=tL(l.data,r);u.patches.push(...t),u.inversePatches.push(...n),s=e}else s=r(l.data),u.patches.push({op:"replace",path:[],value:s}),u.inversePatches.push({op:"replace",path:[],value:l.data});return 0===u.patches.length||a(i.util.patchQueryData(e,t,u.patches,n)),u}},upsertQueryData:(e,t,r)=>n=>n(i.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[le]:()=>({data:r})})),patchQueryData:(e,t,r,s)=>(l,u)=>{let c=n[e],d=a({queryArgs:t,endpointDefinition:c,endpointName:e});if(l(i.internalActions.queryResultPatched({queryCacheKey:d,patches:r})),!s)return;let f=i.endpoints[e].select(t)(u()),p=s9(c.providesTags,f.data,void 0,t,{},o);l(i.internalActions.updateProvidedBy({queryCacheKey:d,providedTags:p}))},buildMatchThunkActions:function(e,t){return{matchPending:re(rn(e),p(t)),matchFulfilled:re(ro(e),p(t)),matchRejected:re(ra(e),p(t))}}}}({baseQuery:a,reducerPath:o,context:n,api:t,serializeQueryArgs:s,assertTagType:p}),{reducer:b,actions:C}=function(e){let{reducerPath:t,queryThunk:r,mutationThunk:n,context:{endpointDefinitions:a,apiUid:i,extractRehydrationInfo:o,hasRehydrationInfo:s},assertTagType:l,config:u}=e,c=tJ("".concat(t,"/resetApiState")),d=ry({name:"".concat(t,"/queries"),initialState:ls,reducers:{removeQueryResult:{reducer(e,t){let{payload:{queryCacheKey:r}}=t;delete e[r]},prepare:t2()},queryResultPatched:{reducer(e,t){let{payload:{queryCacheKey:r,patches:n}}=t;la(e,r,e=>{e.data=tN(e.data,n.concat())})},prepare:t2()}},extraReducers(e){e.addCase(r.pending,(e,t)=>{var r,n;let{meta:a,meta:{arg:i}}=t,o=lt(i);null!=e[r=i.queryCacheKey]||(e[r]={status:"uninitialized",endpointName:i.endpointName}),la(e,i.queryCacheKey,e=>{e.status="pending",e.requestId=o&&e.requestId?e.requestId:a.requestId,void 0!==i.originalArgs&&(e.originalArgs=i.originalArgs),e.startedTimeStamp=a.startedTimeStamp})}).addCase(r.fulfilled,(e,t)=>{let{meta:r,payload:n}=t;la(e,r.arg.queryCacheKey,e=>{var t,i;if(e.requestId!==r.requestId&&!lt(r.arg))return;let{merge:o}=a[r.arg.endpointName];if(e.status="fulfilled",o)if(void 0!==e.data){let{fulfilledTimeStamp:t,arg:a,baseQueryMeta:i,requestId:s}=r,l=tQ(e.data,e=>o(e,n,{arg:a.originalArgs,baseQueryMeta:i,fulfilledTimeStamp:t,requestId:s}));e.data=l}else e.data=n;else e.data=null==(t=a[r.arg.endpointName].structuralSharing)||t?function e(t,r){if(t===r||!(e8(t)&&e8(r)||Array.isArray(t)&&Array.isArray(r)))return r;let n=Object.keys(r),a=Object.keys(t),i=n.length===a.length,o=Array.isArray(r)?[]:{};for(let a of n)o[a]=e(t[a],r[a]),i&&(i=t[a]===o[a]);return i?t:o}(ti(e.data)?(ti(i=e.data)||tn(15,i),i[tr].base_):e.data,n):n;delete e.error,e.fulfilledTimeStamp=r.fulfilledTimeStamp})}).addCase(r.rejected,(e,t)=>{let{meta:{condition:r,arg:n,requestId:a},error:i,payload:o}=t;la(e,n.queryCacheKey,e=>{r||e.requestId===a&&(e.status="rejected",e.error=null!=o?o:i)})}).addMatcher(s,(e,t)=>{let{queries:r}=o(t);for(let[t,n]of Object.entries(r))((null==n?void 0:n.status)==="fulfilled"||(null==n?void 0:n.status)==="rejected")&&(e[t]=n)})}}),f=ry({name:"".concat(t,"/mutations"),initialState:ls,reducers:{removeMutationResult:{reducer(e,t){let{payload:r}=t,n=li(r);n in e&&delete e[n]},prepare:t2()}},extraReducers(e){e.addCase(n.pending,(e,t)=>{let{meta:r,meta:{requestId:n,arg:a,startedTimeStamp:i}}=t;a.track&&(e[li(r)]={requestId:n,status:"pending",endpointName:a.endpointName,startedTimeStamp:i})}).addCase(n.fulfilled,(e,t)=>{let{payload:r,meta:n}=t;n.arg.track&&lo(e,n,e=>{e.requestId===n.requestId&&(e.status="fulfilled",e.data=r,e.fulfilledTimeStamp=n.fulfilledTimeStamp)})}).addCase(n.rejected,(e,t)=>{let{payload:r,error:n,meta:a}=t;a.arg.track&&lo(e,a,e=>{e.requestId===a.requestId&&(e.status="rejected",e.error=null!=r?r:n)})}).addMatcher(s,(e,t)=>{let{mutations:r}=o(t);for(let[t,n]of Object.entries(r))((null==n?void 0:n.status)==="fulfilled"||(null==n?void 0:n.status)==="rejected")&&t!==(null==n?void 0:n.requestId)&&(e[t]=n)})}}),p=ry({name:"".concat(t,"/invalidation"),initialState:ls,reducers:{updateProvidedBy:{reducer(e,t){var r,n,a,i;let{queryCacheKey:o,providedTags:s}=t.payload;for(let t of Object.values(e))for(let e of Object.values(t)){let t=e.indexOf(o);-1!==t&&e.splice(t,1)}for(let{type:t,id:l}of s){let s=null!=(i=(r=null!=(a=e[t])?a:e[t]={})[n=l||"__internal_without_id"])?i:r[n]=[];s.includes(o)||s.push(o)}},prepare:t2()}},extraReducers(e){e.addCase(d.actions.removeQueryResult,(e,t)=>{let{payload:{queryCacheKey:r}}=t;for(let t of Object.values(e))for(let e of Object.values(t)){let t=e.indexOf(r);-1!==t&&e.splice(t,1)}}).addMatcher(s,(e,t)=>{var r,n,a,i;let{provided:s}=o(t);for(let[t,o]of Object.entries(s))for(let[s,l]of Object.entries(o)){let o=null!=(i=(r=null!=(a=e[t])?a:e[t]={})[n=s||"__internal_without_id"])?i:r[n]=[];for(let e of l)o.includes(e)||o.push(e)}}).addMatcher(t7(ro(r),ri(r)),(e,t)=>{let r=ln(t,"providesTags",a,l),{queryCacheKey:n}=t.meta.arg;p.caseReducers.updateProvidedBy(e,p.actions.updateProvidedBy({queryCacheKey:n,providedTags:r}))})}}),h=ry({name:"".concat(t,"/subscriptions"),initialState:ls,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),g=ry({name:"".concat(t,"/internalSubscriptions"),initialState:ls,reducers:{subscriptionsUpdated:{reducer:(e,t)=>tN(e,t.payload),prepare:t2()}}}),y=ry({name:"".concat(t,"/config"),initialState:{online:typeof navigator>"u"||void 0===navigator.onLine||navigator.onLine,focused:typeof document>"u"||"hidden"!==document.visibilityState,middlewareRegistered:!1,...u},reducers:{middlewareRegistered(e,t){let{payload:r}=t;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&i===r||"conflict"}},extraReducers:e=>{e.addCase(s4,e=>{e.online=!0}).addCase(s6,e=>{e.online=!1}).addCase(s3,e=>{e.focused=!0}).addCase(s5,e=>{e.focused=!1}).addMatcher(s,e=>({...e}))}}),m=function(e){let t=Object.keys(e),r={};for(let n=0;n<t.length;n++){let a=t[n];"function"==typeof e[a]&&(r[a]=e[a])}let n=Object.keys(r),a;try{Object.keys(r).forEach(e=>{let t=r[e];if(typeof t(void 0,{type:e6.INIT})>"u")throw Error(e5(12));if(typeof t(void 0,{type:e6.PROBE_UNKNOWN_ACTION()})>"u")throw Error(e5(13))})}catch(e){a=e}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(a)throw a;let i=!1,o={};for(let a=0;a<n.length;a++){let s=n[a],l=r[s],u=e[s],c=l(u,t);if(typeof c>"u")throw t&&t.type,Error(e5(14));o[s]=c,i=i||c!==u}return(i=i||n.length!==Object.keys(e).length)?o:e}}({queries:d.reducer,mutations:f.reducer,provided:p.reducer,subscriptions:g.reducer,config:y.reducer});return{reducer:(e,t)=>m(c.match(t)?void 0:e,t),actions:{...y.actions,...d.actions,...h.actions,...g.actions,...f.actions,...p.actions,resetApiState:c}}}({context:n,queryThunk:h,mutationThunk:g,reducerPath:o,assertTagType:p,config:{refetchOnFocus:c,refetchOnReconnect:d,refetchOnMountOrArgChange:u,keepUnusedDataFor:l,reducerPath:o,invalidationBehavior:f}});lh(t.util,{patchQueryData:y,updateQueryData:m,upsertQueryData:v,prefetch:w,resetApiState:C.resetApiState}),lh(t.internalActions,C);let{middleware:I,actions:q}=function(e){let{reducerPath:t,queryThunk:r,api:n,context:a}=e,{apiUid:i}=a,o={invalidateTags:tJ("".concat(t,"/invalidateTags"))},s=e=>e.type.startsWith("".concat(t,"/")),l=[lw,ly,lS,lb,lv,lC];return{middleware:r=>{let o=!1,c={...e,internalState:{currentSubscriptions:{}},refetchQuery:u,isThisApiSliceAction:s},d=l.map(e=>e(c)),f=lg(c),p=lI(c);return e=>l=>{if(!e7(l))return e(l);o||(o=!0,r.dispatch(n.internalActions.middlewareRegistered(i)));let u={...r,next:e},c=r.getState(),[h,g]=f(l,u,c),y;if(y=h?e(l):g,r.getState()[t]&&(p(l,u,c),s(l)||a.hasRehydrationInfo(l)))for(let e of d)e(l,u,c);return y}},actions:o};function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t,...n})}}({reducerPath:o,context:n,queryThunk:h,mutationThunk:g,api:t,assertTagType:p});lh(t.util,q),lh(t,{reducer:b,middleware:I});let{buildQuerySelector:k,buildMutationSelector:O,selectInvalidatedBy:A,selectCachedArgsForQuery:x}=function(e){let{serializeQueryArgs:t,reducerPath:r,createSelector:n}=e,a=e=>lc,i=e=>ld;return{buildQuerySelector:function(e,i){return s=>{let l=t({queryArgs:s,endpointDefinition:i,endpointName:e});return n(s===ll?a:e=>{var t,n,a;return null!=(a=null==(n=e[r])||null==(t=n.queries)?void 0:t[l])?a:lc},o)}},buildMutationSelector:function(){return e=>{var t;let a;return n((a="object"==typeof e?null!=(t=li(e))?t:ll:e)===ll?i:e=>{var t,n,i;return null!=(i=null==(n=e[r])||null==(t=n.mutations)?void 0:t[a])?i:ld},o)}},selectInvalidatedBy:function(e,t){let n=e[r],a=new Set;for(let e of t.map(s7)){var i;let t=n.provided[e.type];if(t)for(let r of null!=(i=void 0!==e.id?t[e.id]:sB(Object.values(t)))?i:[])a.add(r)}return sB(Array.from(a.values()).map(e=>{let t=n.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))},selectCachedArgsForQuery:function(e,t){return Object.values(e[r].queries).filter(e=>(null==e?void 0:e.endpointName)===t&&"uninitialized"!==e.status).map(e=>e.originalArgs)}};function o(e){var t;return{...e,...{status:t=e.status,isUninitialized:"uninitialized"===t,isLoading:"pending"===t,isSuccess:"fulfilled"===t,isError:"rejected"===t}}}}({serializeQueryArgs:s,reducerPath:o,createSelector:e});lh(t.util,{selectInvalidatedBy:A,selectCachedArgsForQuery:x});let{buildInitiateQuery:R,buildInitiateMutation:E,getRunningMutationThunk:D,getRunningMutationsThunk:T,getRunningQueriesThunk:F,getRunningQueryThunk:j}=function(e){let{serializeQueryArgs:t,queryThunk:r,mutationThunk:n,api:a,context:i}=e,o=new Map,s=new Map,{unsubscribeQueryResult:l,removeMutationResult:u,updateSubscriptionOptions:c}=a.internalActions;return{buildInitiateQuery:function(e,n){let i=function(s){let{subscribe:u=!0,forceRefetch:d,subscriptionOptions:f,[le]:p,...h}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(g,y)=>{var m;let v=t({queryArgs:s,endpointDefinition:n,endpointName:e}),w=r({...h,type:"query",subscribe:u,forceRefetch:d,subscriptionOptions:f,endpointName:e,originalArgs:s,queryCacheKey:v,[le]:p}),S=a.endpoints[e].select(s),b=g(w),C=S(y()),{requestId:I,abort:q}=b,k=C.requestId!==I,O=null==(m=o.get(g))?void 0:m[v],A=()=>S(y()),x=Object.assign(p?b.then(A):k&&!O?Promise.resolve(C):Promise.all([O,b]).then(A),{arg:s,requestId:I,subscriptionOptions:f,queryCacheKey:v,abort:q,async unwrap(){let e=await x;if(e.isError)throw e.error;return e.data},refetch:()=>g(i(s,{subscribe:!1,forceRefetch:!0})),unsubscribe(){u&&g(l({queryCacheKey:v,requestId:I}))},updateSubscriptionOptions(t){x.subscriptionOptions=t,g(c({endpointName:e,requestId:I,queryCacheKey:v,options:t}))}});if(!O&&!k&&!p){let e=o.get(g)||{};e[v]=x,o.set(g,e),x.then(()=>{delete e[v],s$(e)||o.delete(g)})}return x}};return i},buildInitiateMutation:function(e){return function(t){let{track:r=!0,fixedCacheKey:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(i,o)=>{var l,c;let d=i(n({type:"mutation",endpointName:e,originalArgs:t,track:r,fixedCacheKey:a})),{requestId:f,abort:p,unwrap:h}=d,g=Object.assign((l=d.unwrap().then(e=>({data:e})),c=e=>({error:e}),l.catch(c)),{arg:d.arg,requestId:f,abort:p,unwrap:h,reset:()=>{i(u({requestId:f,fixedCacheKey:a}))}}),y=s.get(i)||{};return s.set(i,y),y[f]=g,g.then(()=>{delete y[f],s$(y)||s.delete(i)}),a&&(y[a]=g,g.then(()=>{y[a]===g&&(delete y[a],s$(y)||s.delete(i))})),g}}},getRunningQueryThunk:function(e,r){return n=>{var a;let s=t({queryArgs:r,endpointDefinition:i.endpointDefinitions[e],endpointName:e});return null==(a=o.get(n))?void 0:a[s]}},getRunningMutationThunk:function(e,t){return e=>{var r;return null==(r=s.get(e))?void 0:r[t]}},getRunningQueriesThunk:function(){return e=>Object.values(o.get(e)||{}).filter(sH)},getRunningMutationsThunk:function(){return e=>Object.values(s.get(e)||{}).filter(sH)}}}({queryThunk:h,mutationThunk:g,api:t,serializeQueryArgs:s,context:n});return lh(t.util,{getRunningMutationThunk:D,getRunningMutationsThunk:T,getRunningQueryThunk:j,getRunningQueriesThunk:F}),{name:lq,injectEndpoint(e,r){var n,a;null!=(n=t.endpoints)[e]||(n[e]={}),s8(r)?lh(t.endpoints[e],{name:e,select:k(e,r),initiate:R(e,r)},S(h,e)):"mutation"===r.type&&lh(t.endpoints[e],{name:e,select:O(),initiate:E(e)},S(g,e))}}}}}())({reducerPath:"answer",baseQuery:s2(async(e,t,r)=>{let n=t.getState(),{accessToken:a,organizationId:i,platformUrl:o}=n.configuration,s=n.generatedAnswer.answerConfigurationId,l={...e,headers:{...(null==e?void 0:e.headers)||{},Authorization:"Bearer ".concat(a)}};try{return{data:(function(){let{baseUrl:e,prepareHeaders:t=e=>e,fetchFn:r=sG,paramsSerializer:n,isJsonContentType:a=sJ,jsonContentType:i="application/json",jsonReplacer:o,timeout:s,responseHandler:l,validateStatus:u,...c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return typeof fetch>"u"&&r===sG&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(f,p)=>{let{signal:h,getState:g,extra:y,endpoint:m,forced:v,type:w}=p,S,{url:b,headers:C=new Headers(c.headers),params:I,responseHandler:q=null!=l?l:"json",validateStatus:k=null!=u?u:sK,timeout:O=s,...A}="string"==typeof f?{url:f}:f,x={...c,signal:h,...A};C=new Headers(sZ(C)),x.headers=await t(C,{getState:g,extra:y,endpoint:m,forced:v,type:w})||C;let R=e=>"object"==typeof e&&(e8(e)||Array.isArray(e)||"function"==typeof e.toJSON);if(!x.headers.has("content-type")&&R(x.body)&&x.headers.set("content-type",i),R(x.body)&&a(x.headers)&&(x.body=JSON.stringify(x.body,o)),I){let e=~b.indexOf("?")?"&":"?";b+=e+(n?n(I):new URLSearchParams(sZ(I)))}let E=new Request(b=function(e,t){var r;if(!e)return t;if(!t)return e;if(r=t,RegExp("(^|:)//").test(r))return t;let n=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=sY(e),t=sW(t),"".concat(e).concat(n).concat(t)}(e,b),x);S={request:new Request(b,x)};let D,T=!1,F=O&&setTimeout(()=>{T=!0,p.abort()},O);try{D=await r(E)}catch(e){return{error:{status:T?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(e)},meta:S}}finally{F&&clearTimeout(F)}let j=D.clone();S.response=j;let M,P="";try{let e;if(await Promise.all([d(D,q).then(e=>M=e,t=>e=t),j.text().then(e=>P=e,()=>{})]),e)throw e}catch(e){return{error:{status:"PARSING_ERROR",originalStatus:D.status,data:P,error:String(e)},meta:S}}return k(D,M)?{data:M,meta:S}:{error:{status:D.status,data:M},meta:S}};async function d(e,t){if("function"==typeof t)return t(e);if("content-type"===t&&(t=a(e.headers)?"json":"text"),"json"===t){let t=await e.text();return t.length?JSON.parse(t):null}return e.text()}})({baseUrl:"".concat(o,"/rest/organizations/").concat(i,"/answer/v1/configs/").concat(s)})(l,t,r)}}catch(e){return{error:e}}},{maxRetries:3}),endpoints:()=>({})}),lO=(e,t)=>{let{answerStyle:r,contentFormat:n}=t;e.answerStyle=r,e.contentFormat=n,e.isStreaming=!0,e.isLoading=!1},lA=(e,t)=>{void 0===e.answer?e.answer=t.textDelta:"string"==typeof t.textDelta&&(e.answer=e.answer.concat(t.textDelta))},lx=(e,t)=>{e.citations=t.citations},lR=(e,t)=>{e.generated=t.answerGenerated,e.isStreaming=!1},lE=(e,t)=>{e.error={message:t.errorMessage,code:t.code},e.isStreaming=!1,e.isLoading=!1,console.error("".concat(t.errorMessage," - code ").concat(t.code))},lD=(e,t)=>{let r=JSON.parse(e.data);"ERROR"===r.finishReason&&r.errorMessage&&lE(t,r);let n=r.payload.length?JSON.parse(r.payload):{};switch(r.payloadType){case"genqa.headerMessageType":n.answerStyle&&n.contentFormat&&lO(t,n);break;case"genqa.messageType":n.textDelta&&lA(t,n);break;case"genqa.citationsType":n.citations&&lx(t,n);break;case"genqa.endOfStreamType":var a;((null==(a=t.answer)?void 0:a.length)||n.answerGenerated)&&lR(t,n)}},lT=lk.injectEndpoints({overrideExisting:!0,endpoints:e=>({getAnswer:e.query({queryFn:()=>({data:{answerStyle:void 0,contentFormat:void 0,answer:void 0,citations:void 0,error:void 0,generated:!1,isStreaming:!0,isLoading:!0}}),async onCacheEntryAdded(e,t){let{getState:r,cacheDataLoaded:n,updateCachedData:a}=t;await n;let{configuration:i,generatedAnswer:o}=r(),{platformUrl:s,organizationId:l,accessToken:u}=i;await rE("".concat(s,"/rest/organizations/").concat(l,"/answer/v1/configs/").concat(o.answerConfigurationId,"/generate"),{method:"POST",body:JSON.stringify(e),headers:{Authorization:"Bearer ".concat(u),Accept:"application/json","Content-Type":"application/json","Accept-Encoding":"*"},fetch,onopen:async e=>{let t=e.headers.get("x-answer-id");t&&a(e=>{e.answerId=t})},onmessage:e=>{a(t=>{lD(e,t)})},onerror:e=>{throw e}})}})})}),lF=tY(e=>{var t;return null==(t=s_(e))?void 0:t.q},e=>e.search.requestId,(e,t)=>({q:e,requestId:t})),lj={},lM=(e,t)=>{var r;return{...lj,[e]:null==(r=sr(t))?void 0:r.map(e=>oW(e,oY())).sort((e,t)=>e.facetId>t.facetId?1:t.facetId>e.facetId?-1:0)}},lP=e=>e.pagination?e.pagination.firstResult+e.pagination.numberOfResults>5e3?5e3-e.pagination.firstResult:e.pagination.numberOfResults:void 0,lU=(e,t)=>{var r,n,a;let i=null==(r=s_(e))?void 0:r.q,o=sz(e),s=sN(e),l=null!=(a=sQ(e))?a:[];return i&&"fetch"===t&&(lj=lM(i,e)),{q:i,pipelineRuleParameters:{mlGenerativeQuestionAnswering:{responseFormat:e.generatedAnswer.responseFormat,citationsFieldToInclude:l}},...(null==o?void 0:o.length)&&{searchHub:o},...(null==s?void 0:s.length)&&{pipeline:s},...(null==(n=lj[i])?void 0:n.length)&&{facets:lj[i]},...e.fields&&{fieldsToInclude:e.fields.fieldsToInclude},...e.didYouMean&&{queryCorrection:{enabled:e.didYouMean.enableDidYouMean&&"next"===e.didYouMean.queryCorrectionMode,options:{automaticallyCorrect:e.didYouMean.automaticallyCorrectQuery?"whenNoResults":"never"}},enableDidYouMean:e.didYouMean.enableDidYouMean&&"legacy"===e.didYouMean.queryCorrectionMode},...e.pagination&&{numberOfResults:lP(e),firstResult:e.pagination.firstResult},tab:e.configuration.analytics.originLevel2}},l_=e=>lT.endpoints.getAnswer.initiate(lU(e,"fetch")),lV=t8(ns,e=>e),lQ=p(P()),lL=tJ("commerce/configuration/updateBasicConfiguration",e=>r7(e,{accessToken:r2,organizationId:r2,platformUrl:r2})),lN=tJ("commerce/configuration/updateAnalyticsConfiguration",e=>r7(e,{enabled:iY.enabled,source:iY.source,trackingId:iY.trackingId})),lz=tJ("commerce/configuration/analytics/disable"),l$=tJ("commerce/configuration/analytics/enable"),lB=tJ("tab/register",e=>r7(e,new eV({values:{id:r1,expression:r3}}))),lH=tJ("tab/updateActiveTab",e=>r7(e,r1)),lY=t8(eu(),e=>e.addCase(iB,(e,t)=>{lW(e,t.payload)}).addCase(lL,(e,t)=>{lW(e,t.payload)}).addCase(iH,(e,t)=>{t.payload.apiBaseUrl&&(e.search.apiBaseUrl=t.payload.apiBaseUrl),t.payload.locale&&(e.search.locale=t.payload.locale),t.payload.timezone&&(e.search.timezone=t.payload.timezone),t.payload.authenticationProviders&&(e.search.authenticationProviders=t.payload.authenticationProviders)}).addCase(iW,(e,t)=>{eE(t.payload.enabled)||(e.analytics.enabled=t.payload.enabled),eE(t.payload.originContext)||(e.analytics.originContext=t.payload.originContext),eE(t.payload.originLevel2)||(e.analytics.originLevel2=t.payload.originLevel2),eE(t.payload.originLevel3)||(e.analytics.originLevel3=t.payload.originLevel3),eE(t.payload.apiBaseUrl)||(e.analytics.apiBaseUrl=t.payload.apiBaseUrl),eE(t.payload.nextApiBaseUrl)||(e.analytics.nextApiBaseUrl=t.payload.nextApiBaseUrl),eE(t.payload.trackingId)||(e.analytics.trackingId=t.payload.trackingId),eE(t.payload.analyticsMode)||(e.analytics.analyticsMode=t.payload.analyticsMode),eE(t.payload.source)||(e.analytics.source=t.payload.source);let r=(0,lQ.default)();r&&(e.analytics.analyticsMode="next",e.analytics.trackingId=r),eE(t.payload.runtimeEnvironment)||(e.analytics.runtimeEnvironment=t.payload.runtimeEnvironment),eE(t.payload.anonymous)||(e.analytics.anonymous=t.payload.anonymous),eE(t.payload.deviceId)||(e.analytics.deviceId=t.payload.deviceId),eE(t.payload.userDisplayName)||(e.analytics.userDisplayName=t.payload.userDisplayName),eE(t.payload.documentLocation)||(e.analytics.documentLocation=t.payload.documentLocation)}).addCase(lN,(e,t)=>{eE(t.payload.enabled)||(e.analytics.enabled=t.payload.enabled),eE(t.payload.trackingId)||(e.analytics.trackingId=t.payload.trackingId),eE(t.payload.source)||(e.analytics.source=t.payload.source)}).addCase(iG,e=>{e.analytics.enabled=!1}).addCase(lz,e=>{e.analytics.enabled=!1}).addCase(iK,e=>{e.analytics.enabled=!0}).addCase(l$,e=>{e.analytics.enabled=!0}).addCase(iJ,(e,t)=>{e.analytics.originLevel2=t.payload.originLevel2}).addCase(iZ,(e,t)=>{e.analytics.originLevel3=t.payload.originLevel3}).addCase(lH,(e,t)=>{e.analytics.originLevel2=t.payload}).addCase(i0,(e,t)=>{e.analytics.originLevel2=t.payload.tab||e.analytics.originLevel2}));function lW(e,t){t.accessToken&&(e.accessToken=t.accessToken),t.organizationId&&(e.organizationId=t.organizationId),t.platformUrl&&(e.platformUrl=t.platformUrl,e.search.apiBaseUrl="".concat(t.platformUrl).concat(es),e.analytics.apiBaseUrl=function(e,t){if(rj(e))return e.replace(/^(https:\/\/)platform/,"$1analytics")+el;let r=rM(e,t);return r?ei(t,r.environment).analytics:e}(t.platformUrl,e.organizationId))}p(y());var lG=p(T()),lK=(e,t,r,n,a,i)=>{let o=e[t];eE(o)||eE(a)||a!==o&&a!==n&&(i.warn("Mismatch on access token (JWT Token) ".concat(t," and engine configuration.")),i.warn("To remove this warning, make sure that access token value [".concat(o,"] matches engine configuration value [").concat(r,"]")))},lJ=(e,t)=>!(eE(e)||t===e),lZ=e=>{try{let t="u">typeof atob?atob:lG.atob,r=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=t(r);if(!n)return!1;let a=decodeURIComponent(n.split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(a)}catch(e){return!1}},lX=(e,t)=>(lJ(e.searchHub,t.searchHub)&&(t.searchHub=e.searchHub),t),l0=(e,t,r,n)=>(lK(e,"searchHub",t.searchHub,ek(),r,n),lX(e,t)),l1=(e,t)=>(lJ(e.pipeline,t.pipeline)&&(t.pipeline=e.pipeline),t),l2=(e,t,r,n)=>(lK(e,"pipeline",t.pipeline,eI(),r,n),l1(e,t)),l3=(e,t)=>(lJ(e.userDisplayName,t.configuration.analytics.userDisplayName)&&(t.configuration.analytics.userDisplayName=e.userDisplayName),t),l5=(e,t,r,n)=>(lK(e,"userDisplayName",t.configuration.analytics.userDisplayName,eu().analytics.userDisplayName,r,n),l3(e,t));function l4(e){let t,r=new Map,n=()=>0===r.size,a=e=>{try{let r=JSON.stringify(e),n=t!==r;return t=r,n}catch(e){return console.warn('Could not detect if state has changed, check the controller "get state method"',e),!0}};return{subscribe(i){i();let o=Symbol(),s;return n()&&(t=JSON.stringify(this.state),s=e.subscribe(()=>{a(this.state)&&r.forEach(e=>e())})),r.set(o,i),()=>{r.delete(o),n()&&s&&s()}},get state(){return{}}}}new eA({...{organizationId:r1,accessToken:r1,platformUrl:new eU({required:!1,emptyAllowed:!1}),name:new eU({required:!1,emptyAllowed:!1}),analytics:new eV({options:{required:!1},values:{enabled:new eF({required:!1}),originContext:new eU({required:!1}),originLevel2:new eU({required:!1}),originLevel3:new eU({required:!1}),analyticsMode:new eU({constrainTo:["legacy","next"],required:!1})}})},search:new eV({options:{required:!1},values:{pipeline:new eU({required:!1,emptyAllowed:!0}),searchHub:r2,locale:r2,timezone:r2,authenticationProviders:new eL({required:!1,each:r1})}})});var l6=e=>{let t=/^(\w+(?:\s\w+)*): ([-0-9]+)$/;if(!e)return null;let r=e.match(/(\w+(?:\s\w+)*): ([-0-9]+)/g);if(!r)return null;let n={};for(let e of r){let r=e.match(t);if(r){let e=r[1],t=r[2];n[e]=Number(t)}}return n},l8=(e,t)=>{let r=[],n;for(;null!==(n=t.exec(e));)r.push(n);return r},l9=e=>{let t=/([^:]+): ([0-9]+), ([0-9]+); /g;if(!e||!e[1])return null;let r=l8(e[1],/((?:[^:]+: [0-9]+, [0-9]+; )+)\n((?:\w+: [0-9]+; )+)/g);if(!r)return null;let n={};for(let e of r){let r=l8(e[1],t),a={};for(let e of r)a[e[1]]={Correlation:Number(e[2]),"TF-IDF":Number(e[3])};let i=l6(e[2]);n[Object.keys(a).join(", ")]={terms:a,Weights:i}}return n},l7=e=>{let t=/(Expression:\s".*")\sScore:\s(?!0)([-0-9]+)\n+/g,r=t.exec(e),n=[];for(;r;)n.push({expression:r[1],score:parseInt(r[2],10)}),r=t.exec(e);return n},ue=tJ("fields/registerFieldsToInclude",e=>r7(e,r4)),ut=tJ("fields/fetchall/enable"),ur=tJ("fields/fetchall/disable"),un=rp("fields/fetchDescription",async(e,t)=>{let{extra:r,getState:n,rejectWithValue:a}=t,i=n(),{accessToken:o,organizationId:s}=i.configuration,{apiBaseUrl:l}=i.configuration.search,u=await r.apiClient.fieldDescriptions({accessToken:o,organizationId:s,url:l});return rZ(u)?a(u.error):u.success.fields}),ua={collectionField:new eU({emptyAllowed:!1,required:!1}),parentField:new eU({emptyAllowed:!1,required:!1}),childField:new eU({emptyAllowed:!1,required:!1}),numberOfFoldedResults:new eD({min:0,required:!1})},ui=tJ("folding/register",e=>r7(e,ua)),uo=rp("folding/loadCollection",async(e,t)=>{let{getState:r,rejectWithValue:n,extra:{apiClient:a,navigatorContext:i}}=t,o=r(),s="legacy"===o.configuration.analytics.analyticsMode?await oq(o):oC(o,i),l=await a.search({...s,q:function(e){return""===e.query.q?"":e.query.enableQuerySyntax?"".concat(e.query.q," OR @uri"):"( <@- ".concat(e.query.q," -@> ) OR @uri")}(o),enableQuerySyntax:!0,cq:"@".concat(o.folding.fields.collection,'="').concat(e,'"'),filterField:o.folding.fields.collection,childField:o.folding.fields.parent,parentField:o.folding.fields.child,filterFieldRange:100},{origin:"foldingCollection"});return rZ(l)?n(l.error):{collectionId:e,results:l.success.results,rootResult:o.folding.collections[e].result}}),us=t8(ew(),e=>e.addCase(ue,(e,t)=>{e.fieldsToInclude=[...new Set(e.fieldsToInclude.concat(t.payload))]}).addCase(ut,e=>{e.fetchAllFields=!0}).addCase(ur,e=>{e.fetchAllFields=!1}).addCase(un.fulfilled,(e,t)=>{let{payload:r}=t;e.fieldsDescription=r}).addCase(ui,(e,t)=>{var r,n,a;let{payload:i}=t,o=eS().fields;e.fieldsToInclude.push(null!=(r=i.collectionField)?r:o.collection,null!=(n=i.parentField)?n:o.parent,null!=(a=i.childField)?a:o.child)})),ul=(new eA({enabled:new eF({default:!1})}),new eL({each:r1,required:!0})),uu=(e,t)=>(r7(e,r1),e_(t)?r7(t,r1):r7(t,ul),{payload:{contextKey:e,contextValue:t}}),uc=tJ("context/set",e=>{for(let[t,r]of Object.entries(e))uu(t,r);return{payload:e}}),ud=tJ("context/add",e=>uu(e.contextKey,e.contextValue)),uf=tJ("context/remove",e=>r7(e,r1)),up=(t8(ec(),e=>{e.addCase(uc,(e,t)=>{e.contextValues=t.payload}).addCase(ud,(e,t)=>{e.contextValues[t.payload.contextKey]=t.payload.contextValue}).addCase(uf,(e,t)=>{delete e.contextValues[t.payload]}).addCase(i8.fulfilled,(e,t)=>{t.payload&&(e.contextValues=t.payload.context.contextValues)})}),{caseId:"caseContext",caseNumber:"caseContext"}),uh=class extends Error{constructor(e){super('The key "'.concat(e,'" is reserved for internal use. Use ').concat(up[e]," to set this value.}"))}};function ug(e){return null.includes(e)}new eA({values:new eV({options:{required:!1}})});var uy=tJ("dictionaryFieldContext/set",e=>{let t=r7(e,new eV({options:{required:!0}})).error;if(t)return{payload:e,error:t};let r=r7(Object.values(e),new eL({each:r3})).error;return r?{payload:e,error:r}:{payload:e}}),um=tJ("dictionaryFieldContext/add",e=>r7(e,new eV({options:{required:!0},values:{field:r3,key:r3}}))),uv=tJ("dictionaryFieldContext/remove",e=>r7(e,r3)),uw=(t8(ef(),e=>{e.addCase(uy,(e,t)=>{e.contextValues=t.payload}).addCase(um,(e,t)=>{let{field:r,key:n}=t.payload;e.contextValues[r]=n}).addCase(uv,(e,t)=>{delete e.contextValues[t.payload]}).addCase(i8.fulfilled,(e,t)=>{t.payload&&(e.contextValues=t.payload.dictionaryFieldContext.contextValues)})}),tY(e=>""!==e.queryCorrection.correctedQuery||""!==e.wasCorrectedTo,e=>e),(e,t)=>{var r;let n={...eh(),...t,correctedQuery:(null==t?void 0:t.correctedQuery)||(null==t||null==(r=t.corrections[0])?void 0:r.correctedQuery)||""};e.queryCorrection=n,e.wasCorrectedTo=n.correctedQuery}),uS=(t8({enableDidYouMean:!1,wasCorrectedTo:"",wasAutomaticallyCorrected:!1,queryCorrection:ep(),originalQuery:"",automaticallyCorrectQuery:!0,queryCorrectionMode:"legacy"},e=>{e.addCase(oJ,e=>{e.enableDidYouMean=!0}).addCase(oZ,e=>{e.enableDidYouMean=!1}).addCase(o0,e=>{e.automaticallyCorrectQuery=!0}).addCase(oX,e=>{e.automaticallyCorrectQuery=!1}).addCase(sI.pending,e=>{e.queryCorrection=ep(),e.wasAutomaticallyCorrected=!1,e.wasCorrectedTo=""}).addCase(sI.fulfilled,(e,t)=>{let{queryCorrection:r,queryCorrections:n}=t.payload.response;"legacy"===e.queryCorrectionMode&&(e.queryCorrection=n&&n[0]?n[0]:ep()),"next"===e.queryCorrectionMode&&uw(e,r),e.wasAutomaticallyCorrected=t.payload.automaticallyCorrected,e.originalQuery=t.payload.originalQuery}).addCase(o1,(e,t)=>{e.wasCorrectedTo=t.payload}).addCase(o2,(e,t)=>{e.queryCorrectionMode=t.payload})}),tJ("facetOptions/update",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{freezeFacetOrder:!0};return r7(e,{freezeFacetOrder:new eF({required:!1})})})),ub=tJ("facetOptions/facet/enable",e=>r7(e,r1)),uC=tJ("facetOptions/facet/disable",e=>r7(e,r1)),uI={facetId:r1,captions:new eV({options:{required:!1}}),numberOfValues:new eD({required:!1,min:1}),query:new eU({required:!1,emptyAllowed:!0})},uq={path:new eL({required:!0,each:r1}),displayValue:r3,rawValue:r3,count:new eD({required:!0,min:0})},uk=tJ("categoryFacet/selectSearchResult",e=>r7(e,{facetId:r1,value:new eV({values:uq})})),uO=tJ("categoryFacetSearch/register",e=>r7(e,uI));function uA(e,t){var r;let{facetId:n,criterion:a}=t,i=null==(r=e[n])?void 0:r.request;i&&(i.sortCriteria=a)}function ux(e){e&&(e.currentValues=e.currentValues.map(e=>({...e,state:"idle"})),e.preventAutoSelect=!0)}function uR(e,t){e&&(e.numberOfValues=t)}function uE(e,t){let r=e[t];r&&(r.request.numberOfValues=r.initialNumberOfValues,r.request.currentValues=[],r.request.preventAutoSelect=!0)}function uD(e,t,r){e.currentValues=function(e,t){if(!e.length)return[];let r=uT(e[0],t),n=r;for(let r of e.splice(1)){let e=uT(r,t);n.children.push(e),n=e}return n.state="selected",n.retrieveChildren=!0,[r]}(t,r),e.numberOfValues=t.length?1:r,e.preventAutoSelect=!0}function uT(e,t){return{value:e,retrieveCount:t,children:[],state:"idle",retrieveChildren:!1}}var uF={state:new ex({required:!0}),numberOfResults:new eD({required:!0,min:0}),value:new eU({required:!0,emptyAllowed:!0}),path:new eL({required:!0,each:r1}),moreValuesAvailable:new eF({required:!1})},uj={facetId:r1,field:r1,delimitingCharacter:new eU({required:!1,emptyAllowed:!0}),filterFacetCount:new eF({required:!1}),injectionDepth:new eD({required:!1,min:0}),numberOfValues:new eD({required:!1,min:1}),sortCriteria:new ex({required:!1}),basePath:new eL({required:!1,each:r1}),filterByBasePath:new eF({required:!1})},uM=tJ("categoryFacet/register",e=>r7(e,uj)),uP=tJ("categoryFacet/toggleSelectValue",e=>{try{return r9(e.facetId,r1),function e(t){t.children.forEach(t=>{e(t)}),r9({state:t.state,numberOfResults:t.numberOfResults,value:t.value,path:t.path,moreValuesAvailable:t.moreValuesAvailable},uF)}(e.selection),{payload:e,error:null}}catch(t){return{payload:e,error:r8(t)}}}),uU=tJ("categoryFacet/deselectAll",e=>r7(e,uj.facetId)),u_=tJ("categoryFacet/updateNumberOfValues",e=>r7(e,{facetId:uj.facetId,numberOfValues:uj.numberOfValues})),uV=tJ("categoryFacet/updateSortCriterion",e=>r7(e,{facetId:uj.facetId,criterion:new ex})),uQ=tJ("categoryFacet/updateBasePath",e=>r7(e,{facetId:uj.facetId,basePath:new eL({each:r1})})),uL=(t8({},e=>{e.addCase(uM,(e,t)=>{var r;let n=t.payload,{facetId:a}=n;if(a in e)return;let i=(r=n,{...uL,currentValues:[],preventAutoSelect:!1,type:"hierarchical",...r}),o=i.numberOfValues;e[a]={request:i,initialNumberOfValues:o}}).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.categoryFacetSet)?n:e}).addCase(i0,(e,t)=>{let r=t.payload.cf||{};Object.keys(e).forEach(t=>{let n=e[t].request,a=r[t]||[];(a.length||n.currentValues.length)&&uD(n,a,e[t].initialNumberOfValues)})}).addCase(uV,(e,t)=>{var r;let{facetId:n,criterion:a}=t.payload,i=null==(r=e[n])?void 0:r.request;i&&(i.sortCriteria=a)}).addCase(uQ,(e,t)=>{var r;let{facetId:n,basePath:a}=t.payload,i=null==(r=e[n])?void 0:r.request;i&&(i.basePath=[...a])}).addCase(uP,(e,t)=>{var r;let{facetId:n,selection:a,retrieveCount:i}=t.payload,o=null==(r=e[n])?void 0:r.request;if(!o)return;let{path:s}=a,l=function(e,t,r){let n=e.currentValues;for(let e of t){let t=n[0];t&&e===t.value||(t=uN(e,r),n.length=0,n.push(t)),t.retrieveChildren=!1,t.state="idle",n=t.children}return n}(o,s.slice(0,s.length-1),i);if(l.length){let e=l[0];e.retrieveChildren=!0,e.state="selected",e.children=[];return}let u=uN(a.value,i);u.state="selected",l.push(u),o.numberOfValues=1}).addCase(uU,(e,t)=>{uE(e,t.payload)}).addCase(or,e=>{Object.keys(e).forEach(t=>uE(e,t))}).addCase(oa,(e,t)=>Object.keys(e).forEach(r=>{e[r].request.preventAutoSelect=!t.payload.allow})).addCase(u_,(e,t)=>{var r;let{facetId:n,numberOfValues:a}=t.payload,i=null==(r=e[n])?void 0:r.request;if(i){if(!i.currentValues.length)return uR(i,a);!function(e,t){var r;let{facetId:n,numberOfValues:a}=t,i=null==(r=e[n])?void 0:r.request.currentValues[0];if(i){for(;i.children.length&&(null==i?void 0:i.state)!=="selected";)i=i.children[0];i.retrieveCount=a}}(e,t.payload)}}).addCase(uk,(e,t)=>{let{facetId:r,value:n}=t.payload,a=e[r];if(!a)return;let i=[...n.path,n.rawValue];uD(a.request,i,a.initialNumberOfValues)}).addCase(sO.fulfilled,(e,t)=>{uz(e,t.payload.response.facets)}).addCase(sI.fulfilled,(e,t)=>{uz(e,t.payload.response.facets)}).addCase(uC,(e,t)=>{uE(e,t.payload)})}),{delimitingCharacter:";",filterFacetCount:!0,injectionDepth:1e3,numberOfValues:5,sortCriteria:"occurrences",basePath:[],filterByBasePath:!0,resultsMustMatch:"atLeastOneValue"});function uN(e,t){return{value:e,state:"idle",children:[],retrieveChildren:!0,retrieveCount:t}}function uz(e,t){t.forEach(t=>{var r,n,a,i;let o,s;if(n=e,!(t.facetId in n))return;let l=null==(r=e[t.facetId])?void 0:r.request;if(!l)return;let u=(a=l,i=t,o=a4(a.currentValues),s=a4(i.values),o.length!==s.length);l.currentValues=u?[]:l.currentValues,l.preventAutoSelect=!1})}var u$=e=>{var t,r;return t=e.cartItems,r=e.cart,[...Object.values(t.reduce((e,t)=>{let{productId:n,quantity:a}=r[t];return n in e||(e[n]={productId:n,quantity:0}),e[n].quantity+=a,e},{}))]},uB=(e=>(e.Relevance="relevance",e.Fields="fields",e))(uB||{}),uH=(e=>(e.Ascending="asc",e.Descending="desc",e))(uH||{});new eV({options:{required:!1},values:{by:new ez({enum:uB,required:!0}),fields:new eL({each:new eV({values:{name:new eU,direction:new ez({enum:uH})}})})}}),new eV({options:{required:!1},values:{by:new ez({enum:uB,required:!0}),fields:new eL({each:new eV({values:{field:new eU({required:!0}),direction:new ez({enum:uH}),displayName:new eU}})})}});var uY=(e,t)=>({...uW(e,t),facets:[...function(e){return e.facetOrder&&e.commerceFacetSet?e.facetOrder.filter(t=>{var r;return null==(r=e.commerceFacetSet)?void 0:r[t]}).map(t=>e.commerceFacetSet[t].request).filter(e=>e&&e.values.length>0):[]}(e),...function(e){return e.manualNumericFacetSet?Object.entries(e.manualNumericFacetSet).filter(e=>{let[t,r]=e;return void 0!==r.manualRange}).map(e=>{let[t,r]=e;return{facetId:t,field:t,numberOfValues:1,isFieldExpanded:!1,preventAutoSelect:!0,type:"numericalRange",values:[r.manualRange],initialNumberOfValues:1}}):[]}(e)],...e.commerceSort&&{sort:function(e){return"relevance"===e.by?{sortCriteria:"relevance"}:{sortCriteria:"fields",fields:e.fields.map(e=>{let{name:t,direction:r}=e;return{field:t,direction:r}})}}(e.commerceSort.appliedSort)}}),uW=(e,t,r)=>{let{view:n,...a}=e.commerceContext;return{accessToken:e.configuration.accessToken,url:e.configuration.platformUrl,organizationId:e.configuration.organizationId,trackingId:e.configuration.analytics.trackingId,...a,...e.configuration.analytics.enabled?{clientId:t.clientId}:{},context:{...t.userAgent?{user:{userAgent:t.userAgent}}:{},view:{...n,...t.referrer?{referrer:t.referrer}:{}},capture:e.configuration.analytics.enabled,cart:u$(e.cart),source:nl(e.configuration.analytics)},...uG(e,r)}},uG=(e,t)=>{var r,n;let a=t?null==(r=e.commercePagination)?void 0:r.recommendations[t]:null==(n=e.commercePagination)?void 0:n.principal;return a&&{page:a.page,...a.perPage&&{perPage:a.perPage}}},uK=(e,t,r,n)=>{var a,i;let o="*".concat(t.categoryFacetSearchSet[e].options.query,"*"),s=null==(a=t.commerceFacetSet[u4(e)])?void 0:a.request,l=s&&"hierarchical"===s.type?s&&uJ(s):[],u=l.length?[l]:[],c=null==(i=t.commerceQuery)?void 0:i.query,{url:d,accessToken:f,organizationId:p,trackingId:h,language:g,country:y,currency:m,clientId:v,context:w,...S}=uY(t,n);return{url:d,accessToken:f,organizationId:p,facetId:u4(e),facetQuery:o,ignorePaths:u,trackingId:h,language:g,country:y,currency:m,clientId:v,context:w,query:c,...!r&&{...S,query:""}}},uJ=e=>{let t=[],r=e.values[0];for(;r;)t.push(r.value),r=r.children[0];return t},uZ=(e,t,r,n)=>{var a;let i="*".concat(t.facetSearchSet[e].options.query,"*"),o=null==(a=t.commerceQuery)?void 0:a.query,{url:s,accessToken:l,organizationId:u,trackingId:c,language:d,country:f,currency:p,clientId:h,context:g,...y}=uY(t,n);return{url:s,accessToken:l,organizationId:u,facetId:u4(e),facetQuery:i,trackingId:c,language:d,country:f,currency:p,clientId:h,context:g,query:o,...!r&&{...y,query:""}}},uX=e=>async(t,r)=>{let{facetId:n,facetSearchType:a}=t,{getState:i,extra:{validatePayload:o,navigatorContext:s,apiClient:l}}=r,u=i();o(n,r1);let c=u2(u,n)||u3(u,n)?uZ(n,u,e,s):uK(n,u,e,s);return{facetId:n,response:await l.facetSearch(c,a)}},u0=rp("commerce/facetSearch/executeSearch",uX(!1)),u1=rp("commerce/facetSearch/facetFieldSuggest",uX(!0)),u2=(e,t)=>"facetSearchSet"in e&&void 0!==e.facetSearchSet[t]&&void 0!==e.commerceFacetSet[t],u3=(e,t)=>"fieldSuggestionsOrder"in e&&e.fieldSuggestionsOrder.some(e=>e.facetId===t&&"regular"===e.type),u5="field_suggestion:";function u4(e){return e.startsWith(u5)?e.slice(u5.length):e}function u6(e){return e.startsWith(u5)?e:"".concat(u5).concat(e)}var u8=e=>void 0!==e.error,u9=tY(e=>{var t;return(null==(t=e.commercePagination)?void 0:t.principal.perPage)||0},e=>e),u7=(tY((e,t)=>{var r,n;return(null==(n=e.commercePagination)||null==(r=n.recommendations[t])?void 0:r.perPage)||0},e=>e),tY(e=>{var t;return(null==(t=e.commercePagination)?void 0:t.principal.totalEntries)||0},e=>e));tY((e,t)=>{var r,n;return(null==(n=e.commercePagination)||null==(r=n.recommendations[t])?void 0:r.totalEntries)||0},e=>e),tY(e=>{var t;return(null==(t=e.commercePagination)?void 0:t.principal.page)||0},e=>e),tY((e,t)=>{var r,n;return(null==(n=e.commercePagination)||null==(r=n.recommendations[t])?void 0:r.page)||0},e=>e),tY(e=>e[U].productListing.responseId,e=>e),tY(e=>e.productListing.responseId,e=>e),tY(e=>e.productListing.requestId,e=>e);var ce=tY(e=>{var t;return(null==(t=e.productListing)?void 0:t.products.length)||0},e=>e),ct=tY(e=>({total:u7(e),current:ce(e)}),e=>{let{current:t,total:r}=e;return t<r});tY(e=>{var t;return null==(t=e.productListing)?void 0:t.isLoading},e=>!eE(e)&&e),tY(e=>{var t;return null==(t=e.productListing)?void 0:t.error},e=>null!=e?e:null);var cr=rp("commerce/productListing/fetch",async(e,t)=>{let{getState:r,rejectWithValue:n,extra:{apiClient:a,navigatorContext:i}}=t,o=r(),s=await a.getProductListing(uY(o,i));return u8(s)?n(s.error):{response:s.success}}),cn=(rp("commerce/productListing/fetchMoreProducts",async(e,t)=>{let{getState:r,rejectWithValue:n,extra:{apiClient:a,navigatorContext:i}}=t,o=r();if(!ct(o))return null;let s=u9(o),l=ce(o)/s,u=await a.getProductListing({...uY(o,i),page:l});return u8(u)?n(u.error):{response:u.success}}),{child:new eV({options:{required:!0},values:{permanentid:new eU({required:!0})}})});tJ("commerce/productListing/promoteChildToParent",e=>r7(e,cn));var ca=tJ("commerce/querySuggest/clear",e=>r7(e,{id:r1})),ci=rp("commerce/querySuggest/fetch",async(e,t)=>{let{getState:r,rejectWithValue:n,extra:{apiClient:a,validatePayload:i,navigatorContext:o}}=t;i(e,{id:r1});let s=r(),l=cl(e.id,s,o),u=await a.querySuggest(l);return u8(u)?n(u.error):{id:e.id,query:l.query,...u.success}}),co=tJ("commerce/querySuggest/register",e=>r7(e,{id:r1,count:new eD({min:0})})),cs=tJ("commerce/querySuggest/selectSuggestion",e=>r7(e,{id:r1,expression:r3})),cl=(e,t,r)=>{let{view:n,...a}=t.commerceContext;return{accessToken:t.configuration.accessToken,url:t.configuration.platformUrl,organizationId:t.configuration.organizationId,trackingId:t.configuration.analytics.trackingId,query:t.querySet[e],...a,...t.configuration.analytics.enabled?{clientId:r.clientId}:{},context:{...r.userAgent?{user:{userAgent:r.userAgent}}:{},view:{...n,...r.referrer?{referrer:r.referrer}:{}},capture:t.configuration.analytics.enabled,cart:u$(t.cart),source:nl(t.configuration.analytics)}}};tJ("commerce/facets/core/updateNumberOfValues",e=>r7(e,{facetId:r1,numberOfValues:new eD({required:!0,min:1})})),tJ("commerce/facets/core/updateIsFieldExpanded",e=>r7(e,{facetId:r1,isFieldExpanded:new eF({required:!0})}));var cu=tJ("commerce/facets/core/clearAll"),cc=(tJ("commerce/facets/core/deselectAllValues",e=>r7(e,{facetId:r1})),tJ("commerce/facets/core/updateFreezeCurrentValues",e=>r7(e,{facetId:r1,freezeCurrentValues:new eF({required:!0})})),tJ("commerce/facets/core/updateAutoSelectionForAll",e=>r7(e,{allow:new eF({required:!0})}))),cd={slotId:r5},cf={...cd,pageSize:new eD({required:!0,min:0})},cp=(tJ("commerce/pagination/setPageSize",e=>r7(e,cf)),{...cd,page:new eD({required:!0,min:0})}),ch=tJ("commerce/pagination/selectPage",e=>r7(e,cp));tJ("commerce/pagination/nextPage",e=>r7(e,cd)),tJ("commerce/pagination/previousPage",e=>r7(e,cd)),tJ("commerce/pagination/registerRecommendationsSlot",e=>r7(e,{slotId:r1}));var cg=tJ("commerce/query/update",e=>r7(e,{query:new eU})),cy=tJ("commerce/triggers/query/updateIgnore",e=>r7(e,{q:new eU({emptyAllowed:!0,required:!0})})),cm=tJ("commerce/triggers/query/applyModification",e=>r7(e,new eV({values:{originalQuery:r2,modification:r2}})));function cv(e,t,r,n){if(void 0===e)return{};let a=Object.entries(e).filter(e=>{let[r]=e;return t(r)}).map(e=>{let[t,{request:n}]=e,a=r(n);return a.length?{[t]:a}:{}}).reduce((e,t)=>({...e,...t}),{});return Object.keys(a).length?{[n]:a}:{}}tY(e=>e[U].commerceSearch.responseId,e=>e),tY(e=>e.commerceSearch.responseId,e=>e),tY(e=>e.commerceSearch.requestId,e=>e);var cw=tY(e=>{var t;return(null==(t=e.commerceSearch)?void 0:t.products.length)||0},e=>e),cS=tY(e=>({total:u7(e),current:cw(e)}),e=>{let{current:t,total:r}=e;return t<r}),cb=(tY(e=>{var t;return null==(t=e.commerceSearch)?void 0:t.isLoading},e=>!eE(e)&&e),tY(e=>{var t;return null==(t=e.commerceSearch)?void 0:t.error},e=>null!=e?e:null),tY(e=>{var t;return null==(t=e.commerceQuery)?void 0:t.query},e=>null!=e?e:"")),cC=(tY(e=>{var t;return null==(t=e.commerceSearch)?void 0:t.queryExecuted},e=>e),(e,t)=>{var r;return eE(null==(r=t.queryCorrection)?void 0:r.correctedQuery)?cb(e):t.queryCorrection.correctedQuery}),cI=class{async process(e){var t,r,n;return null!=(n=null!=(r=null!=(t=this.processQueryErrorOrContinue(e))?t:await this.processQueryCorrectionsOrContinue(e))?r:await this.processQueryTriggersOrContinue(e))?n:this.processSuccessResponse(e)}async fetchFromAPI(e){let t=new Date().getTime();return{response:await this.extra.apiClient.search(e),duration:new Date().getTime()-t,queryExecuted:this.getState().commerceQuery.query||"",requestExecuted:e}}processSuccessResponse(e){return{...e,response:this.getSuccessResponse(e),originalQuery:this.getCurrentQuery()}}processQueryErrorOrContinue(e){return u8(e.response)?this.rejectWithValue(e.response.error):null}async processQueryCorrectionsOrContinue(e){let t=this.getState(),r=this.getSuccessResponse(e);if(!r||!t.didYouMean)return null;let{queryCorrection:n}=r;if(!(!eE(n)&&!eE(n.correctedQuery)))return null;let{correctedQuery:a,originalQuery:i}=r.queryCorrection;return this.onUpdateQueryForCorrection(a),{...e,response:{...r},queryExecuted:cC(t,r),originalQuery:i}}async processQueryTriggersOrContinue(e){var t,r;let n=this.getSuccessResponse(e);if(!n)return null;let a=(null==(t=n.triggers.find(e=>"query"===e.type))?void 0:t.content)||"";if(!a)return null;if((null==(r=this.getState().triggers)?void 0:r.queryModification.queryToIgnore)===a)return this.dispatch(cy({q:""})),null;let i=this.getCurrentQuery(),o=await this.automaticallyRetryQueryWithTriggerModification(a);return u8(o.response)?this.rejectWithValue(o.response.error):{...o,response:{...o.response.success},originalQuery:i}}async automaticallyRetryQueryWithTriggerModification(e){return this.dispatch(cm({newQuery:e,originalQuery:this.getCurrentQuery()})),this.onUpdateQueryForCorrection(e),await this.fetchFromAPI({...uY(this.getState(),this.navigatorContext),query:e})}get dispatch(){return this.config.dispatch}get rejectWithValue(){return this.config.rejectWithValue}getState(){return this.config.getState()}get navigatorContext(){return this.config.extra.navigatorContext}getCurrentQuery(){let e=this.getState();return void 0!==e.commerceQuery.query?e.commerceQuery.query:""}getSuccessResponse(e){return u8(e.response)?null:e.response.success}get extra(){return this.config.extra}onUpdateQueryForCorrection(e){this.dispatch(cg({query:e}))}constructor(e){this.config=e}},cq=rp("commerce/search/executeSearch",async(e,t)=>{let{getState:r}=t,n=r(),{navigatorContext:a}=t.extra,i=uY(n,a),o=cb(n),s=new cI(t),l=await s.fetchFromAPI({...i,query:o});return s.process(l)}),ck=(rp("commerce/search/fetchMoreProducts",async(e,t)=>{let{getState:r}=t,n=r(),{navigatorContext:a}=t.extra;if(!cS(n))return null;let i=u9(n),o=cw(n)/i,s=cb(n),l=uY(n,a),u=new cI(t),c=await u.fetchFromAPI({...l,query:s,page:o});return u.process(c)}),rp("commerce/search/prepareForSearchWithQuery",(e,t)=>{let{dispatch:r}=t;r7(e,{query:new eU,clearFilters:new eF}),e.clearFilters&&(r(cu()),r(on())),r(cc({allow:!0})),r(cg({query:e.query})),r(ch({page:0}))}),rp("commerce/search/fetchInstantProducts",async(e,t)=>{let{getState:r,rejectWithValue:n,extra:a}=t,i=r(),{apiClient:o,navigatorContext:s}=a,{q:l}=e,u=await o.productSuggestions({...uY(i,s),query:l});if(u8(u))return n(u.error);let c=u.success.products.slice(0,5);return{response:{...u.success,products:c}}}),{child:new eV({options:{required:!0},values:{permanentid:new eU({required:!0})}})});function cO(e,t,r){let{facetId:n}=t;if(e[n])return;let a={...cM,...t},i=r();e[n]={options:a,isLoading:!1,response:i,initialNumberOfValues:a.numberOfValues,requestId:""}}function cA(e,t){let{facetId:r,...n}=t,a=e[r];a&&(a.options={...a.options,...n})}function cx(e,t,r){let n=e[t];n&&(n.requestId=r,n.isLoading=!0)}function cR(e,t){let r=e[t];r&&(r.isLoading=!1)}function cE(e,t,r){let{facetId:n,response:a}=t,i=e[n];i&&i.requestId===r&&(i.isLoading=!1,i.response=a)}function cD(e,t,r){let{facetId:n,response:a}=t,i=e[n];i&&i.requestId===r&&(i.isLoading=!1,"success"in a&&(i.response=a.success))}function cT(e,t,r,n){let{facetId:a,response:i}=t,o=u6(a),s=e[o];if(s){if(s.requestId!==r)return}else cO(e,{facetId:o},n),s=e[o];s.isLoading=!1,"success"in i&&(s.response=i.success)}function cF(e,t,r){let{facetId:n}=t,a=e[n];a&&(a.requestId="",a.isLoading=!1,a.response=r(),a.options.numberOfValues=a.initialNumberOfValues,a.options.query=cM.query)}function cj(e,t){Object.keys(e).forEach(r=>cF(e,{facetId:r},t))}tJ("commerce/search/promoteChildToParent",e=>r7(e,ck));var cM={captions:{},numberOfValues:10,query:""},cP=async(e,t,r,n)=>{let a=t.categoryFacetSearchSet[e].options,i=t.categoryFacetSet[e].request,{captions:o,query:s,numberOfValues:l}=a,{field:u,delimitingCharacter:c,basePath:d,filterFacetCount:f}=i,p=cU(i),h=p.length?[p]:[];return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,...t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")},basePath:d,captions:o,numberOfValues:l,query:"*".concat(s,"*"),field:u,delimitingCharacter:c,ignorePaths:h,filterFacetCount:f,type:"hierarchical",...n?{}:{searchContext:(await sw(t,r)).request}}},cU=e=>{let t=[],r=e.currentValues[0];for(;r;)t.push(r.value),r=r.children[0];return t},c_=async(e,t,r,n)=>{let{captions:a,query:i,numberOfValues:o}=t.facetSearchSet[e].options,{field:s,currentValues:l,filterFacetCount:u}=t.facetSet[e].request,c=l.filter(e=>"idle"!==e.state).map(e=>e.value);return{url:t.configuration.search.apiBaseUrl,accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,...t.configuration.search.authenticationProviders&&{authentication:t.configuration.search.authenticationProviders.join(",")},captions:a,numberOfValues:o,query:"*".concat(i,"*"),field:s,ignoreValues:c,filterFacetCount:u,type:"specific",...n?{}:{searchContext:(await sw(t,r)).request}}},cV=e=>async(t,r)=>{let{getState:n,extra:{apiClient:a,validatePayload:i,navigatorContext:o}}=r,s=n(),l;return i(t,r1),l=cz(s,t)?await c_(t,s,o,e):await cP(t,s,o,e),{facetId:t,response:await a.facetSearch(l)}},cQ=rp("facetSearch/executeSearch",cV(!1)),cL=rp("facetSearch/executeSearch",cV(!0)),cN=tJ("facetSearch/clearResults",e=>r7(e,{facetId:r1})),cz=(e,t)=>void 0!==e.facetSearchSet&&void 0!==e.facetSet&&void 0!==e.facetSet[t],c$={facetId:r1,value:new eV({values:{displayValue:r3,rawValue:r3,count:new eD({required:!0,min:0})}})},cB=tJ("facetSearch/register",e=>r7(e,uI)),cH=tJ("facetSearch/update",e=>r7(e,uI)),cY=tJ("facetSearch/toggleSelectValue",e=>r7(e,c$)),cW=tJ("facetSearch/toggleExcludeValue",e=>r7(e,c$));function cG(){return{moreValuesAvailable:!1,values:[]}}t8({},e=>{e.addCase(uO,(e,t)=>{cO(e,t.payload,cG)}).addCase(cH,(e,t)=>{cA(e,t.payload)}).addCase(u0.pending,(e,t)=>{let{facetId:r}=t.meta.arg;cx(e,r,t.meta.requestId)}).addCase(u1.pending,(e,t)=>{let{facetId:r}=t.meta.arg;cx(e,r,t.meta.requestId)}).addCase(cQ.pending,(e,t)=>{cx(e,t.meta.arg,t.meta.requestId)}).addCase(u0.rejected,(e,t)=>{let{facetId:r}=t.meta.arg;cR(e,r)}).addCase(u1.rejected,(e,t)=>{let{facetId:r}=t.meta.arg;cR(e,u6(r))}).addCase(cQ.rejected,(e,t)=>{cR(e,t.meta.arg)}).addCase(u0.fulfilled,(e,t)=>{cD(e,t.payload,t.meta.requestId)}).addCase(u1.fulfilled,(e,t)=>{cT(e,t.payload,t.meta.requestId,cG)}).addCase(ci.fulfilled,(e,t)=>{!function(e,t,r,n){if(t.fieldSuggestionsFacets)for(let i of t.fieldSuggestionsFacets){var a;let o=u6(i.facetId);o in e||"hierarchical"!==i.type||(e[o]={options:{...cM,query:null!=(a=t.query)?a:""},isLoading:!1,response:n(),initialNumberOfValues:cM.numberOfValues,requestId:r})}}(e,t.payload,t.meta.requestId,cG)}).addCase(cQ.fulfilled,(e,t)=>{cE(e,t.payload,t.meta.requestId)}).addCase(cN,(e,t)=>{let{payload:{facetId:r}}=t;cF(e,{facetId:r},cG)}).addCase(cr.fulfilled,e=>cj(e,cG)).addCase(cq.fulfilled,e=>cj(e,cG)).addCase(sI.fulfilled,e=>{cj(e,cG)})});var cK=e=>iT("analytics/facet/reset",(t,r)=>{r7(e,r1);let n=a7(e,it(r));return t.makeFacetClearAll(n)}),cJ=e=>iT("analytics/facet/select",(t,r)=>{r7(e,{facetId:r1,facetValue:r1});let n=ie(e,it(r));return t.makeFacetSelect(n)}),cZ=e=>iT("analytics/facet/exclude",(t,r)=>{r7(e,{facetId:r1,facetValue:r1});let n=ie(e,it(r));return t.makeFacetExclude(n)}),cX=e=>iT("analytics/facet/deselect",(t,r)=>{r7(e,{facetId:r1,facetValue:r1});let n=ie(e,it(r));return t.makeFacetDeselect(n)}),c0=e=>iT("analytics/facet/unexclude",(t,r)=>{r7(e,{facetId:r1,facetValue:r1});let n=ie(e,it(r));return t.makeFacetUnexclude(n)}),c1=()=>({actionCause:"facetClearAll"}),c2=()=>({actionCause:"facetSelect"}),c3=()=>({actionCause:"facetExclude"}),c5=()=>({actionCause:"facetDeselect"}),c4=()=>({actionCause:"facetUnexclude"}),c6=(e,t)=>{var r,n;return null==(n=null==(r=e.facetOptions.facets[t])?void 0:r.enabled)||n},c8=new eU({regex:/^[a-zA-Z0-9-_]+$/}),c9=new eU({required:!0}),c7=new eL({each:new eU}),de=new eU,dt=new eF,dr=new eF,dn=new eD({min:0}),da=new eD({min:1}),di=new eF({required:!0}),ds=new eV,dl=new eV({values:{captions:ds,numberOfValues:da,query:new eU}}),du=new eV({options:{required:!1},values:{type:new eU({constrainTo:["simple"],emptyAllowed:!1,required:!0}),values:new eL({required:!0,max:25,each:new eU({emptyAllowed:!1,required:!0})})}}),dc=new eF,dd=new eL({min:1,max:25,required:!1,each:new eU({emptyAllowed:!1,required:!0})}),df={value:r1,numberOfResults:new eD({min:0}),state:r1},dp={facetId:r1,field:new eU({required:!0,emptyAllowed:!0}),filterFacetCount:new eF({required:!1}),injectionDepth:new eD({required:!1,min:0}),numberOfValues:new eD({required:!1,min:1}),sortCriteria:new ex({required:!1}),resultsMustMatch:new ex({required:!1}),allowedValues:du,customSort:dd},dh=tJ("facet/register",e=>r7(e,dp)),dg=tJ("facet/toggleSelectValue",e=>r7(e,{facetId:r1,selection:new eV({values:df})})),dy=tJ("facet/toggleExcludeValue",e=>r7(e,{facetId:r1,selection:new eV({values:df})})),dm=tJ("facet/deselectAll",e=>r7(e,r1)),dv=tJ("facet/updateSortCriterion",e=>r7(e,{facetId:r1,criterion:new ex({required:!0})})),dw=tJ("facet/updateNumberOfValues",e=>r7(e,{facetId:r1,numberOfValues:new eD({required:!0,min:1})})),dS=tJ("facet/updateIsFieldExpanded",e=>r7(e,{facetId:r1,isFieldExpanded:new eF({required:!0})})),db=tJ("facet/updateFreezeCurrentValues",e=>r7(e,{facetId:r1,freezeCurrentValues:new eF({required:!0})}));function dC(e){var t,r;return{start:dI(e.start,e),end:dI(e.end,e),endInclusive:null!=(t=e.endInclusive)&&t,state:null!=(r=e.state)?r:"idle"}}function dI(e,t){let{dateFormat:r}=t;return e&&"object"==typeof e&&"period"in e?(oV(e),function(e){let{period:t,amount:r,unit:n}=e;switch(t){case"past":case"next":return"".concat(t,"-").concat(r,"-").concat(n);case"now":return t}}(e)):"string"==typeof e&&oz(e)?(oV(e),e):(oj(e,r),oF(oT(e,r)))}var dq=tJ("rangeFacet/updateSortCriterion",e=>r7(e,{facetId:r1,criterion:new ex({required:!0})})),dk={state:r1,start:new eD({required:!0}),end:new eD({required:!0}),endInclusive:new eF({required:!0}),numberOfResults:new eD({required:!0,min:0})},dO={start:r1,end:r1,endInclusive:new eF({required:!0}),state:r1,numberOfResults:new eD({required:!0,min:0})},dA=e=>({facetId:r1,selection:new eV("string"==typeof e.start?{values:dO}:{values:dk})}),dx={start:r1,end:r1,endInclusive:new eF({required:!0}),state:r1},dR={facetId:r1,field:r1,currentValues:new eL({required:!1,each:new eV({values:dx})}),generateAutomaticRanges:new eF({required:!0}),filterFacetCount:new eF({required:!1}),injectionDepth:new eD({required:!1,min:0}),numberOfValues:new eD({required:!1,min:1}),sortCriteria:new ex({required:!1}),rangeAlgorithm:new ex({required:!1})};function dE(e){e.currentValues&&e.currentValues.forEach(e=>{let{start:t,end:r}=dC(e);if(oT(oz(t)?oL(t):t).isAfter(oT(oz(r)?oL(r):r)))throw Error("The start value is greater than the end value for the date range ".concat(e.start," to ").concat(e.end))})}var dD=tJ("dateFacet/register",e=>{try{return r9(e,dR),dE(e),{payload:e,error:null}}catch(t){return{payload:e,error:r8(t)}}}),dT=tJ("dateFacet/toggleSelectValue",e=>r7(e,{facetId:r1,selection:new eV({values:dO})})),dF=tJ("dateFacet/toggleExcludeValue",e=>r7(e,{facetId:r1,selection:new eV({values:dO})})),dj=tJ("dateFacet/updateFacetValues",e=>{try{return r9(e,{facetId:r1,values:new eL({each:new eV({values:dO})})}),dE({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:r8(t)}}}),dM={state:r1,start:new eD({required:!0}),end:new eD({required:!0}),endInclusive:new eF({required:!0})},dP={facetId:r1,field:r1,currentValues:new eL({required:!1,each:new eV({values:dM})}),generateAutomaticRanges:new eF({required:!0}),filterFacetCount:new eF({required:!1}),injectionDepth:new eD({required:!1,min:0}),numberOfValues:new eD({required:!1,min:1}),sortCriteria:new ex({required:!1}),rangeAlgorithm:new ex({required:!1})};function dU(e){e.currentValues&&e.currentValues.forEach(e=>{let{start:t,end:r}=e;if(t>r)throw Error("The start value is greater than the end value for the numeric range ".concat(t," to ").concat(r))})}var d_=tJ("numericFacet/register",e=>{try{return r7(e,dP),dU(e),{payload:e,error:null}}catch(t){return{payload:e,error:r8(t)}}}),dV=tJ("numericFacet/toggleSelectValue",e=>r7(e,{facetId:r1,selection:new eV({values:dk})})),dQ=tJ("numericFacet/toggleExcludeValue",e=>r7(e,{facetId:r1,selection:new eV({values:dk})})),dL=tJ("numericFacet/updateFacetValues",e=>{try{return r9(e,{facetId:r1,values:new eL({each:new eV({values:dk})})}),dU({currentValues:e.values}),{payload:e,error:null}}catch(t){return{payload:e,error:r8(t)}}});function dN(e){let{facetSet:t,numericFacetSet:r,dateFacetSet:n,categoryFacetSet:a}=e;return[t,r,n,a]}t8(ey(),e=>{e.addCase(uS,(e,t)=>({...e,...t.payload})).addCase(sI.fulfilled,e=>{e.freezeFacetOrder=!1}).addCase(sI.rejected,e=>{e.freezeFacetOrder=!1}).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.facetOptions)?n:e}).addCase(uM,(e,t)=>{e.facets[t.payload.facetId]=eg()}).addCase(dh,(e,t)=>{e.facets[t.payload.facetId]=eg()}).addCase(dD,(e,t)=>{e.facets[t.payload.facetId]=eg()}).addCase(d_,(e,t)=>{e.facets[t.payload.facetId]=eg()}).addCase(ub,(e,t)=>{e.facets[t.payload].enabled=!0}).addCase(uC,(e,t)=>{e.facets[t.payload].enabled=!1}).addCase(i0,(e,t)=>{var r,n,a,i,o;[...Object.keys(null!=(r=t.payload.f)?r:{}),...Object.keys(null!=(n=t.payload.fExcluded)?n:{}),...Object.keys(null!=(a=t.payload.cf)?a:{}),...Object.keys(null!=(i=t.payload.nf)?i:{}),...Object.keys(null!=(o=t.payload.df)?o:{})].forEach(t=>{t in e||(e.facets[t]=eg()),e.facets[t].enabled=!0})})});function dz(e,t){let r=e.dispatch,{options:n,getFacetSearch:a,executeFacetSearchActionCreator:i,executeFieldSuggestActionCreator:o}=t,{facetId:s}=n;return{updateText(e){r(cH({facetId:s,query:e,numberOfValues:a().initialNumberOfValues}))},showMoreResults(){let{initialNumberOfValues:e,options:n}=a();r(cH({facetId:s,numberOfValues:n.numberOfValues+e})),r(t.isForFieldSuggestions?o(s):i(s))},search(){r(t.isForFieldSuggestions?o(s):i(s))},clear(){r(cN({facetId:s}))},updateCaptions(e){r(cH({facetId:s,captions:e}))},get state(){let{response:e,isLoading:t,options:r}=a(),{query:n}=r,i=e.values;return{...e,values:i,isLoading:t,query:n}}}}new eA({field:c9,basePath:c7,delimitingCharacter:de,facetId:c8,facetSearch:dl,filterByBasePath:dt,filterFacetCount:dr,injectionDepth:dn,numberOfValues:da,sortCriteria:new eU({constrainTo:["alphanumeric","occurrences"]})});var d$=new eU({required:!0,emptyAllowed:!1,constrainTo:Intl.supportedValuesOf("currency")}),dB={url:r1},dH={language:r1,country:r1,currency:d$,view:new eV({options:{required:!0},values:dB})};new eA(dH),tJ("commerce/context/set",e=>r7(e,dH));var dY=tJ("commerce/context/setView",e=>r7(e,dB));function dW(){return{moreValuesAvailable:!1,values:[]}}t8({},e=>{e.addCase(cB,(e,t)=>{cO(e,t.payload,dW)}).addCase(cH,(e,t)=>{cA(e,t.payload)}).addCase(u0.pending,(e,t)=>{let{facetId:r}=t.meta.arg;cx(e,r,t.meta.requestId)}).addCase(u1.pending,(e,t)=>{let{facetId:r}=t.meta.arg;cx(e,u6(r),t.meta.requestId)}).addCase(cQ.pending,(e,t)=>{cx(e,t.meta.arg,t.meta.requestId)}).addCase(u0.rejected,(e,t)=>{let{facetId:r}=t.meta.arg;cR(e,r)}).addCase(u1.rejected,(e,t)=>{let{facetId:r}=t.meta.arg;cR(e,u6(r))}).addCase(cQ.rejected,(e,t)=>{cR(e,t.meta.arg)}).addCase(u0.fulfilled,(e,t)=>{cD(e,t.payload,t.meta.requestId)}).addCase(u1.fulfilled,(e,t)=>{cT(e,t.payload,t.meta.requestId,dW)}).addCase(ci.fulfilled,(e,t)=>{!function(e,t,r,n){var a;if(t.fieldSuggestionsFacets)for(let i of t.fieldSuggestionsFacets)i.facetId in e||"regular"!==i.type||(e[i.facetId]={options:{...cM,query:null!=(a=t.query)?a:""},isLoading:!1,response:n(),initialNumberOfValues:cM.numberOfValues,requestId:r})}(e,t.payload,t.meta.requestId,dW)}).addCase(cQ.fulfilled,(e,t)=>{cE(e,t.payload,t.meta.requestId)}).addCase(cN,(e,t)=>{let{payload:r}=t;cF(e,r,dW)}).addCase(sI.fulfilled,e=>{cj(e,dW)}).addCase(cr.fulfilled,e=>cj(e,dW)).addCase(cq.fulfilled,e=>cj(e,dW)).addCase(dY,e=>cj(e,dW))});var dG=()=>iF("analytics/productListing/load",e=>e.makeInterfaceLoad(),e=>new iC(e));tJ("productlisting/setUrl",e=>r7(e,{url:new eU({required:!0,url:!0})})),tJ("productlisting/setAdditionalFields",e=>r7(e,{additionalFields:new eL({required:!0,each:new eU({required:!0,emptyAllowed:!1})})}));var dK=rp("productlisting/fetch",async(e,t)=>{let{getState:r,dispatch:n,rejectWithValue:a,extra:i}=t,o=r(),{apiClient:s}=i,l=await s.getProducts(await dJ(o));return u8(l)?(n(oO(l.error)),a(l.error)):{response:l.success,analyticsAction:dG()}}),dJ=async e=>{var t,r,n;let a=function(e){var t,r,n,a,i,o;return se([...o7(null!=(n=(r=e).facetSet)?n:{}),...o7(null!=(a=r.numericFacetSet)?a:{}),...o7(null!=(i=r.dateFacetSet)?i:{}),...o7(null!=(o=r.categoryFacetSet)?o:{})],null!=(t=e.facetOrder)?t:[])}(e),i=await aJ(e.configuration.analytics);return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,platformUrl:e.configuration.platformUrl,url:null==(t=e.productListing)?void 0:t.url,...e.configuration.analytics.enabled&&i?{clientId:i}:{},...(null==(r=e.productListing.additionalFields)?void 0:r.length)?{additionalFields:e.productListing.additionalFields}:{},...e.productListing.advancedParameters&&e.productListing.advancedParameters.debug?{advancedParameters:e.productListing.advancedParameters||{}}:{},...a.length&&{facets:{requests:a}},...e.pagination&&{pagination:{numberOfValues:e.pagination.numberOfResults,page:Math.ceil(e.pagination.firstResult/(e.pagination.numberOfResults||1))+1}},..."relevance"!==((null==(n=e.sort)?void 0:n.by)||"relevance")&&{sort:e.sort},...e.context&&{userContext:e.context.contextValues}}};function dZ(e,t){let{currentValues:r}=e,n=r.findIndex(e=>"idle"===e.state),a=-1===n?r.length:n;e.currentValues=[...r.slice(0,a),t,...r.slice(a+1)],e.numberOfValues=e.currentValues.length}function dX(e,t){e&&(e.currentValues=t.values.map(d1),e.freezeCurrentValues=!1,e.preventAutoSelect=!1)}t8({},e=>{e.addCase(dh,(e,t)=>{var r;let{facetId:n}=t.payload;n in e||(e[n]={request:(r=t.payload,{...d0,type:"specific",currentValues:[],freezeCurrentValues:!1,isFieldExpanded:!1,preventAutoSelect:!1,...r}),hasBreadcrumbs:!0})}).addCase(i8.fulfilled,(e,t)=>{if(t.payload&&0!==Object.keys(t.payload.facetSet).length)return t.payload.facetSet}).addCase(i0,(e,t)=>{let r=t.payload.f||{},n=t.payload.fExcluded||{};Object.keys(e).forEach(t=>{let{request:a}=e[t],i=r[t]||[],o=n[t]||[],s=i.length+o.length,l=a.currentValues.filter(e=>!i.includes(e.value)&&!o.includes(e.value));a.currentValues=[...i.map(d2),...o.map(d3),...l.map(d5)],a.preventAutoSelect=s>0,a.numberOfValues=Math.max(s,a.numberOfValues)})}).addCase(dg,(e,t)=>{var r;let{facetId:n,selection:a}=t.payload,i=null==(r=e[n])?void 0:r.request;if(!i)return;i.preventAutoSelect=!0;let o=i.currentValues.find(e=>e.value===a.value);if(!o)return void dZ(i,a);let s="selected"===o.state;o.state=s?"idle":"selected",i.freezeCurrentValues=!0}).addCase(dy,(e,t)=>{var r;let{facetId:n,selection:a}=t.payload,i=null==(r=e[n])?void 0:r.request;if(!i)return;i.preventAutoSelect=!0;let o=i.currentValues.find(e=>e.value===a.value);if(!o)return void dZ(i,a);let s="excluded"===o.state;o.state=s?"idle":"excluded",i.freezeCurrentValues=!0}).addCase(db,(e,t)=>{var r;let{facetId:n,freezeCurrentValues:a}=t.payload,i=null==(r=e[n])?void 0:r.request;i&&(i.freezeCurrentValues=a)}).addCase(dm,(e,t)=>{var r;ux(null==(r=e[t.payload])?void 0:r.request)}).addCase(or,e=>{Object.values(e).filter(e=>e.hasBreadcrumbs).forEach(e=>{let{request:t}=e;return ux(t)})}).addCase(on,e=>{Object.values(e).filter(e=>!e.hasBreadcrumbs).forEach(e=>{let{request:t}=e;return ux(t)})}).addCase(oa,(e,t)=>Object.values(e).forEach(e=>{e.request.preventAutoSelect=!t.payload.allow})).addCase(dv,(e,t)=>{uA(e,t.payload)}).addCase(dw,(e,t)=>{var r;let{facetId:n,numberOfValues:a}=t.payload;uR(null==(r=e[n])?void 0:r.request,a)}).addCase(dS,(e,t)=>{var r;let{facetId:n,isFieldExpanded:a}=t.payload,i=null==(r=e[n])?void 0:r.request;i&&(i.isFieldExpanded=a)}).addCase(sI.fulfilled,(e,t)=>{t.payload.response.facets.forEach(t=>{var r;return dX(null==(r=e[t.facetId])?void 0:r.request,t)})}).addCase(dK.fulfilled,(e,t)=>{var r,n;((null==(n=t.payload.response)||null==(r=n.facets)?void 0:r.results)||[]).forEach(t=>{var r;return dX(null==(r=e[t.facetId])?void 0:r.request,t)})}).addCase(sO.fulfilled,(e,t)=>{t.payload.response.facets.forEach(t=>{var r;return dX(null==(r=e[t.facetId])?void 0:r.request,t)})}).addCase(cY,(e,t)=>{var r;let{facetId:n,value:a}=t.payload,i=null==(r=e[n])?void 0:r.request;if(!i)return;let{rawValue:o}=a,{currentValues:s}=i,l=s.find(e=>e.value===o);if(l){l.state="selected";return}dZ(i,d2(o)),i.freezeCurrentValues=!0,i.preventAutoSelect=!0}).addCase(cW,(e,t)=>{var r;let{facetId:n,value:a}=t.payload,i=null==(r=e[n])?void 0:r.request;if(!i)return;let{rawValue:o}=a,{currentValues:s}=i,l=s.find(e=>e.value===o);if(l){l.state="excluded";return}dZ(i,d3(o)),i.freezeCurrentValues=!0,i.preventAutoSelect=!0}).addCase(uC,(e,t)=>{if(!(t.payload in e))return;let{request:r}=e[t.payload];ux(r)})});var d0={filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"automatic",resultsMustMatch:"atLeastOneValue"};function d1(e){let{value:t,state:r}=e;return{value:t,state:r}}function d2(e){return{value:e,state:"selected"}}function d3(e){return{value:e,state:"excluded"}}function d5(e){return{...e,state:"idle"}}var d4=e=>"selected"===e.state,d6=e=>"excluded"===e.state,d8={facetId:r1,selection:new eV({values:df})},d9=(rp("facet/executeToggleSelect",(e,t)=>{let{facetId:r,selection:n}=e,{dispatch:a,extra:{validatePayload:i}}=t;i({facetId:r,selection:n},d8),a(dg({facetId:r,selection:n})),a(uS())}),rp("facet/executeToggleExclude",(e,t)=>{let{facetId:r,selection:n}=e,{dispatch:a,extra:{validatePayload:i}}=t;i({facetId:r,selection:n},d8),a(dy({facetId:r,selection:n})),a(uS())}),["allValues","atLeastOneValue"]),d7=["score","alphanumeric","alphanumericDescending","occurrences","automatic"],fe=(new eA({facetId:c8,field:c9,filterFacetCount:dr,injectionDepth:dn,numberOfValues:da,sortCriteria:new eU({constrainTo:d7}),resultsMustMatch:new eU({constrainTo:d9}),facetSearch:dl}),new eA({facetId:c8,field:c9,filterFacetCount:dr,injectionDepth:dn,numberOfValues:da,sortCriteria:new eU({constrainTo:d7}),resultsMustMatch:new eU({constrainTo:d9}),facetSearch:dl,allowedValues:du,hasBreadcrumbs:dc,customSort:dd}),e=>"selected"===e.state),ft=e=>"excluded"===e.state,fr=tJ("rangeFacet/executeToggleSelect",e=>r7(e,dA(e.selection))),fn=tJ("rangeFacet/executeToggleExclude",e=>r7(e,dA(e.selection))),fa={facetId:r1,selection:new eV({values:dO})},fi=(rp("dateFacet/executeToggleSelect",(e,t)=>{let{dispatch:r,extra:{validatePayload:n}}=t;n(e,fa),r(dT(e)),r(fr(e)),r(uS())}),rp("dateFacet/executeToggleExclude",(e,t)=>{let{dispatch:r,extra:{validatePayload:n}}=t;n(e,fa),r(dF(e)),r(fn(e)),r(uS())}),{filterFacetCount:!0,injectionDepth:1e3,numberOfValues:8,sortCriteria:"ascending",rangeAlgorithm:"even",resultsMustMatch:"atLeastOneValue"});function fo(e,t){let{request:r}=t,{facetId:n}=r;if(n in e)return;let a=fh(r);r.numberOfValues=a,e[n]=t}function fs(e,t,r){var n;let a=null==(n=e[t])?void 0:n.request;a&&(a.currentValues=r,a.numberOfValues=fh(a))}function fl(e,t,r){var n;let a=null==(n=e[t])?void 0:n.request;if(!a)return;let i=fp(a.currentValues,r);if(!i)return;let o="selected"===i.state;i.state=o?"idle":"selected",a.preventAutoSelect=!0}function fu(e,t,r){var n;let a=null==(n=e[t])?void 0:n.request;if(!a)return;let i=fp(a.currentValues,r);if(!i)return;let o="excluded"===i.state;i.state=o?"idle":"excluded",a.preventAutoSelect=!0}function fc(e,t){var r;let n=null==(r=e[t])?void 0:r.request;n&&n.currentValues.forEach(e=>e.state="idle")}function fd(e,t){Object.entries(e).forEach(e=>{let[r,{request:n}]=e,a=t[r]||[];n.currentValues.forEach(e=>{let t=!!fp(a,e);return e.state=t?"selected":"idle",e});let i=a.filter(e=>!fp(n.currentValues,e)),o=n.currentValues;o.push(...i),n.numberOfValues=Math.max(n.numberOfValues,o.length)})}function ff(e,t,r){t.forEach(t=>{var n;let a=null==(n=e[t.facetId])?void 0:n.request;a&&(a.currentValues=r(t.values),a.preventAutoSelect=!1)})}function fp(e,t){let{start:r,end:n}=t;return e.find(e=>e.start===r&&e.end===n)}function fh(e){let{generateAutomaticRanges:t,currentValues:r,numberOfValues:n}=e;return t?Math.max(n,r.length):r.length}function fg(e){return e.map(e=>{let{numberOfResults:t,...r}=e;return r})}t8({},e=>{e.addCase(dD,(e,t)=>{var r;let{payload:n}=t;fo(e,{request:(r=n,{...fi,currentValues:[],preventAutoSelect:!1,type:"dateRange",...r})})}).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.dateFacetSet)?n:e}).addCase(i0,(e,t)=>{fd(e,t.payload.df||{})}).addCase(dT,(e,t)=>{let{facetId:r,selection:n}=t.payload;fl(e,r,n)}).addCase(dF,(e,t)=>{let{facetId:r,selection:n}=t.payload;fu(e,r,n)}).addCase(dj,(e,t)=>{let{facetId:r,values:n}=t.payload;fs(e,r,n)}).addCase(dm,(e,t)=>{fc(e,t.payload)}).addCase(or,e=>{Object.keys(e).forEach(t=>{fc(e,t)})}).addCase(dq,(e,t)=>{uA(e,t.payload)}).addCase(sI.fulfilled,(e,t)=>{ff(e,t.payload.response.facets,fg)}).addCase(dK.fulfilled,(e,t)=>{var r,n;ff(e,(null==(n=t.payload.response)||null==(r=n.facets)?void 0:r.results)||[],fg)}).addCase(uC,(e,t)=>{fc(e,t.payload)})});var fy=["idle","selected","excluded"],fm=["ascending","descending"],fv=["even","equiprobable"],fw=new eA({facetId:c8,field:c9,generateAutomaticRanges:di,filterFacetCount:dr,injectionDepth:dn,numberOfValues:da,currentValues:new eL({each:new eV({values:{start:new eU,end:new eU,endInclusive:new eF,state:new eU({constrainTo:fy})}})}),sortCriteria:new eU({constrainTo:fm}),rangeAlgorithm:new eU({constrainTo:fv})});function fS(e){return e.map(e=>{let{numberOfResults:t,...r}=e;return r})}t8({},e=>{e.addCase(d_,(e,t)=>{var r;let{payload:n}=t;fo(e,{request:(r=n,{...fi,currentValues:[],preventAutoSelect:!1,type:"numericalRange",...r})})}).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.numericFacetSet)?n:e}).addCase(i0,(e,t)=>{fd(e,t.payload.nf||{})}).addCase(dV,(e,t)=>{let{facetId:r,selection:n}=t.payload;fl(e,r,n)}).addCase(dQ,(e,t)=>{let{facetId:r,selection:n}=t.payload;fu(e,r,n)}).addCase(dL,(e,t)=>{let{facetId:r,values:n}=t.payload;fs(e,r,n)}).addCase(dm,(e,t)=>{fc(e,t.payload)}).addCase(or,e=>{Object.keys(e).forEach(t=>{fc(e,t)})}).addCase(dq,(e,t)=>{uA(e,t.payload)}).addCase(sI.fulfilled,(e,t)=>{ff(e,t.payload.response.facets,fS)}).addCase(dK.fulfilled,(e,t)=>{var r,n;ff(e,(null==(n=t.payload.response)||null==(r=n.facets)?void 0:r.results)||[],fS)}).addCase(uC,(e,t)=>{fc(e,t.payload)})});var fb={facetId:r1,selection:new eV({values:dk})};rp("numericFacet/executeToggleSelect",(e,t)=>{let{dispatch:r,extra:{validatePayload:n}}=t;n(e,fb),r(dV(e)),r(fr(e)),r(uS())}),rp("numericFacet/executeToggleExclude",(e,t)=>{let{dispatch:r,extra:{validatePayload:n}}=t;n(e,fb),r(dQ(e)),r(fn(e)),r(uS())});var fC=new eA({facetId:c8,field:c9,generateAutomaticRanges:di,filterFacetCount:dr,injectionDepth:dn,numberOfValues:da,currentValues:new eL({each:new eV({values:{start:new eD,end:new eD,endInclusive:new eF,state:new eU({constrainTo:fy})}})}),sortCriteria:new eU({constrainTo:fm}),resultsMustMatch:new eU({constrainTo:d9}),rangeAlgorithm:new eU({constrainTo:fv})}),fI=(e,t)=>{let r=a2(e,t);if(function(e,t){return!!t&&t.facetId in e.numericFacetSet}(e,r))return r},fq=(e,t)=>{let r=a2(e,t);if(function(e,t){return!!t&&t.facetId in e.dateFacetSet}(e,r))return r},fk={f:new eV,cf:new eV,nf:new eV,mnf:new eV,df:new eV,sortCriteria:new eV,page:new eD({min:0}),perPage:new eD({min:1})},fO=tJ("commerce/productListingParameters/restore",e=>r7(e,fk)),fA={q:new eU,...fk},fx=tJ("commerce/searchParameters/restore",e=>r7(e,fA));function fR(e,t){return t.payload.response.facets.map(e=>e.facetId)}function fE(e,t){var r,n,a,i,o;return[...Object.keys(null!=(r=t.payload.f)?r:{}),...Object.keys(null!=(n=t.payload.nf)?n:{}),...Object.keys(null!=(a=t.payload.df)?a:{}),...Object.keys(null!=(i=t.payload.cf)?i:{}),...Object.keys(null!=(o=t.payload.mnf)?o:{})]}t8([],e=>{e.addCase(sI.fulfilled,fR).addCase(cr.fulfilled,fR).addCase(cq.fulfilled,fR).addCase(fx,fE).addCase(fO,fE).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.facetOrder)?n:e})});var fD=Object.getOwnPropertyNames,fT=Object.getOwnPropertySymbols,fF=Object.prototype.hasOwnProperty;function fj(e,t){return function(r,n,a){return e(r,n,a)&&t(r,n,a)}}function fM(e){return function(t,r,n){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n);var a=n.cache,i=a.get(t),o=a.get(r);if(i&&o)return i===r&&o===t;a.set(t,r),a.set(r,t);var s=e(t,r,n);return a.delete(t),a.delete(r),s}}function fP(e){return fD(e).concat(fT(e))}var fU=Object.hasOwn||function(e,t){return fF.call(e,t)};function f_(e,t){return e||t?e===t:e===t||e!=e&&t!=t}var fV="_owner",fQ=Object.getOwnPropertyDescriptor,fL=Object.keys;function fN(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function fz(e,t){return f_(e.getTime(),t.getTime())}function f$(e,t,r){if(e.size!==t.size)return!1;for(var n,a,i={},o=e.entries(),s=0;(n=o.next())&&!n.done;){for(var l=t.entries(),u=!1,c=0;(a=l.next())&&!a.done;){var d=n.value,f=d[0],p=d[1],h=a.value,g=h[0],y=h[1];!u&&!i[c]&&(u=r.equals(f,g,s,c,e,t,r)&&r.equals(p,y,f,g,e,t,r))&&(i[c]=!0),c++}if(!u)return!1;s++}return!0}function fB(e,t,r){var n,a=fL(e),i=a.length;if(fL(t).length!==i)return!1;for(;i-- >0;)if((n=a[i])===fV&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!fU(t,n)||!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function fH(e,t,r){var n,a,i,o=fP(e),s=o.length;if(fP(t).length!==s)return!1;for(;s-- >0;)if((n=o[s])===fV&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!fU(t,n)||!r.equals(e[n],t[n],n,n,e,t,r)||(a=fQ(e,n),i=fQ(t,n),(a||i)&&(!a||!i||a.configurable!==i.configurable||a.enumerable!==i.enumerable||a.writable!==i.writable)))return!1;return!0}function fY(e,t){return f_(e.valueOf(),t.valueOf())}function fW(e,t){return e.source===t.source&&e.flags===t.flags}function fG(e,t,r){if(e.size!==t.size)return!1;for(var n,a,i={},o=e.values();(n=o.next())&&!n.done;){for(var s=t.values(),l=!1,u=0;(a=s.next())&&!a.done;)!l&&!i[u]&&(l=r.equals(n.value,a.value,n.value,a.value,e,t,r))&&(i[u]=!0),u++;if(!l)return!1}return!0}function fK(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var fJ=Array.isArray,fZ="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,fX=Object.assign,f0=Object.prototype.toString.call.bind(Object.prototype.toString);function f1(e){void 0===e&&(e={});var t,r,n,a,i,o,s,l,u,c=e.circular,d=e.createInternalComparator,f=e.createState,p=e.strict,h=(r=(t=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?fH:fN,areDatesEqual:fz,areMapsEqual:n?fj(f$,fH):f$,areObjectsEqual:n?fH:fB,arePrimitiveWrappersEqual:fY,areRegExpsEqual:fW,areSetsEqual:n?fj(fG,fH):fG,areTypedArraysEqual:n?fH:fK};if(r&&(a=fX({},a,r(a))),t){var i=fM(a.areArraysEqual),o=fM(a.areMapsEqual),s=fM(a.areObjectsEqual),l=fM(a.areSetsEqual);a=fX({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return a}(e)).areArraysEqual,n=t.areDatesEqual,a=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,s=t.areRegExpsEqual,l=t.areSetsEqual,u=t.areTypedArraysEqual,function(e,t,c){if(e===t)return!0;if(null==e||null==t||"object"!=typeof e||"object"!=typeof t)return e!=e&&t!=t;var d=e.constructor;if(d!==t.constructor)return!1;if(d===Object)return i(e,t,c);if(fJ(e))return r(e,t,c);if(null!=fZ&&fZ(e))return u(e,t,c);if(d===Date)return n(e,t,c);if(d===RegExp)return s(e,t,c);if(d===Map)return a(e,t,c);if(d===Set)return l(e,t,c);var f=f0(e);return"[object Date]"===f?n(e,t,c):"[object RegExp]"===f?s(e,t,c):"[object Map]"===f?a(e,t,c):"[object Set]"===f?l(e,t,c):"[object Object]"===f?"function"!=typeof e.then&&"function"!=typeof t.then&&i(e,t,c):"[object Arguments]"===f?i(e,t,c):("[object Boolean]"===f||"[object Number]"===f||"[object String]"===f)&&o(e,t,c)}),g=d?d(h):function(e,t,r,n,a,i,o){return h(e,t,o)};return function(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(e,o){var s=n(),l=s.cache;return r(e,o,{cache:void 0===l?t?new WeakMap:void 0:l,equals:a,meta:s.meta,strict:i})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(e,t){return r(e,t,o)}}({circular:void 0!==c&&c,comparator:h,createState:f,equals:g,strict:void 0!==p&&p})}function f2(e,t){return e.length===t.length&&e.every(e=>-1!==t.findIndex(t=>f3(e,t)))}f1(),f1({strict:!0}),f1({circular:!0}),f1({circular:!0,strict:!0}),f1({createInternalComparator:function(){return f_}}),f1({strict:!0,createInternalComparator:function(){return f_}}),f1({circular:!0,createInternalComparator:function(){return f_}}),f1({circular:!0,createInternalComparator:function(){return f_},strict:!0});var f3=f1({createCustomConfig:e=>({...e,areArraysEqual:f2})}),f5=t8(eG({}),e=>{e.addCase(i6,(e,t)=>f4(e,t.payload)?void 0:t.payload)}),f4=(e,t)=>f6(e.context,t.context)&&f8(e.dictionaryFieldContext,t.dictionaryFieldContext)&&ps(e.advancedSearchQueries,t.advancedSearchQueries)&&f9(e.tabSet,t.tabSet)&&pe(e.staticFilterSet,t.staticFilterSet)&&pr(e.facetSet,t.facetSet)&&pr(e.dateFacetSet,t.dateFacetSet)&&pr(e.numericFacetSet,t.numericFacetSet)&&pa(e.automaticFacetSet,t.automaticFacetSet)&&pn(e.categoryFacetSet,t.categoryFacetSet)&&pi(e.pagination,t.pagination)&&po(e.query,t.query)&&pl(e,t)&&pu(e.pipeline,t.pipeline)&&pc(e.searchHub,t.searchHub)&&pd(e.facetOrder,t.facetOrder)&&pf(e.debug,t.debug),f6=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),f8=(e,t)=>JSON.stringify(e.contextValues)===JSON.stringify(t.contextValues),f9=(e,t)=>{let r=f7(e),n=f7(t);return(null==r?void 0:r.id)===(null==n?void 0:n.id)},f7=e=>Object.values(e).find(e=>e.isActive),pe=(e,t)=>{for(let[r,n]of Object.entries(t)){if(!e[r])return!1;let t=pt(e[r]),a=pt(n);if(JSON.stringify(t)!==JSON.stringify(a))return!1}return!0},pt=e=>e.values.filter(e=>"idle"!==e.state),pr=(e,t)=>{for(let[r,n]of Object.entries(t)){if(!e[r])return!1;let t=e[r].request.currentValues.filter(e=>"idle"!==e.state),a=n.request.currentValues.filter(e=>"idle"!==e.state);if(JSON.stringify(t)!==JSON.stringify(a))return!1}return!0},pn=(e,t)=>{for(let[n,a]of Object.entries(t)){var r;if(!e[n])return!1;let t=a4(null==(r=e[n])?void 0:r.request.currentValues).map(e=>{let{value:t}=e;return t}),i=a4(null==a?void 0:a.request.currentValues).map(e=>{let{value:t}=e;return t});if(JSON.stringify(t)!==JSON.stringify(i))return!1}return!0},pa=(e,t)=>{for(let[r,n]of Object.entries(t.set)){if(!e.set[r])return!1;let t=e.set[r].response.values.filter(e=>"idle"!==e.state),a=n.response.values.filter(e=>"idle"!==e.state);if(JSON.stringify(t)!==JSON.stringify(a))return!1}return!0},pi=(e,t)=>e.firstResult===t.firstResult&&e.numberOfResults===t.numberOfResults,po=(e,t)=>JSON.stringify(e)===JSON.stringify(t),ps=(e,t)=>JSON.stringify(e)===JSON.stringify(t),pl=(e,t)=>e.sortCriteria===t.sortCriteria,pu=(e,t)=>e===t,pc=(e,t)=>e===t,pd=(e,t)=>(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;return e.length===t.length&&-1===e.findIndex((e,n)=>!r(t[n],e))})(e,t),pf=(e,t)=>e===t,pp=((e=>{let{actionTypes:t,reducer:r}=e,n=_();return})({actionTypes:{redo:i4.type,undo:i5.type,snapshot:i6.type},reducer:f5}),new eD({min:1,default:8,required:!1})),ph={desiredCount:new eD({min:1,max:20,default:5,required:!1}),numberOfValues:pp},pg=tJ("automaticFacet/setOptions",e=>r7(e,ph)),py=tJ("automaticFacet/deselectAll",e=>r7(e,r1)),pm=tJ("automaticFacet/toggleSelectValue",e=>r7(e,{field:r1,selection:new eV({values:df})}));function pv(e){e.firstResult=eC().firstResult}function pw(e){let{firstResult:t,numberOfResults:r}=e;return pS(t,r)}t8(eC(),e=>{e.addCase(oh,(e,t)=>{let r=pw(e),n=t.payload;e.defaultNumberOfResults=e.numberOfResults=n,e.firstResult=(r-1)*n}).addCase(og,(e,t)=>{e.numberOfResults=t.payload,e.firstResult=0}).addCase(lH,e=>{e.firstResult=0}).addCase(oy,(e,t)=>{e.firstResult=(t.payload-1)*e.numberOfResults}).addCase(om,(e,t)=>{e.firstResult=(t.payload-1)*e.numberOfResults}).addCase(ow,e=>{let t=Math.max(pw(e)-1,1);e.firstResult=(t-1)*e.numberOfResults}).addCase(ov,e=>{let t=Math.min(pw(e)+1,function(e){let{totalCountFiltered:t,numberOfResults:r}=e;return pb(t,r)}(e));e.firstResult=(t-1)*e.numberOfResults}).addCase(i8.fulfilled,(e,t)=>{t.payload&&(e.numberOfResults=t.payload.pagination.numberOfResults,e.firstResult=t.payload.pagination.firstResult)}).addCase(i0,(e,t)=>{var r,n;e.firstResult=null!=(r=t.payload.firstResult)?r:e.firstResult,e.numberOfResults=null!=(n=t.payload.numberOfResults)?n:e.defaultNumberOfResults}).addCase(sI.fulfilled,(e,t)=>{let{response:r}=t.payload;e.totalCountFiltered=r.totalCountFiltered}).addCase(dK.fulfilled,(e,t)=>{let{response:r}=t.payload;e.totalCountFiltered=r.pagination.totalCount}).addCase(dm,e=>{pv(e)}).addCase(dF,e=>{pv(e)}).addCase(dy,e=>{pv(e)}).addCase(dQ,e=>{pv(e)}).addCase(cW,e=>{pv(e)}).addCase(dg,e=>{pv(e)}).addCase(uU,e=>{pv(e)}).addCase(uP,e=>{pv(e)}).addCase(uk,e=>{pv(e)}).addCase(dT,e=>{pv(e)}).addCase(dV,e=>{pv(e)}).addCase(or,e=>{pv(e)}).addCase(dj,e=>{pv(e)}).addCase(dL,e=>{pv(e)}).addCase(cY,e=>{pv(e)}).addCase(pm,e=>{pv(e)})});function pS(e,t){return Math.round(e/t)+1}function pb(e,t){return Math.ceil(Math.min(e,5e3)/t)}function pC(e){return e.pagination.numberOfResults}var pI=e=>pS(e.pagination.firstResult,pC(e)),pq=e=>pb(e.pagination.totalCountFiltered,pC(e));new eA({numberOfPages:new eD({default:5,min:0})}),new eA({page:new eD({min:1})});var pk=new eA({fieldsToInclude:new eL({required:!1,each:new eU({required:!0,emptyAllowed:!1})})}),pO={results:new eL({required:!0,each:new eV({values:iU})}),maxLength:new eD({required:!0,min:1,default:10})},pA=tJ("recentResults/registerRecentResults",e=>r7(e,pO)),px=tJ("recentResults/pushRecentResult",e=>(i_(e),{payload:e})),pR=tJ("recentResults/clearRecentResults"),pE=e=>iT({prefix:"analytics/result/open",__legacy__getBuilder:(t,r)=>(i_(e),t.makeDocumentOpen(ij(e,r),iM(e))),analyticsType:"itemClick",analyticsPayloadBuilder:t=>{var r,n;let a=ij(e,t),i=iM(e);return{searchUid:null!=(n=null==(r=t.search)?void 0:r.response.searchUid)?n:"",position:a.documentPosition,itemMetadata:{uniqueFieldName:i.contentIDKey,uniqueFieldValue:i.contentIDValue,title:a.documentTitle,author:a.documentAuthor,url:a.documentUrl}}}});function pD(e,t,r){var n,a,i,o,s,l,u,c,d,f,p,h;e.addReducers({configuration:lY}),!1;let g={selectionDelay:1e3,debounceWait:1e3,...t.options},y;return{select:(n=r,a=g.debounceWait,void 0===a&&(a=50),i={isImmediate:!0},u=null!=(o=i.isImmediate)&&o,c=null!=(s=i.callback)&&s,d=i.maxWait,f=Date.now(),p=[],(h=function(){var e=[].slice.call(arguments),t=this;return new Promise(function(r,i){var o=u&&void 0===l;if(void 0!==l&&clearTimeout(l),l=setTimeout(function(){if(l=void 0,f=Date.now(),!u){var r=n.apply(t,e);c&&c(r),p.forEach(function(e){return(0,e.resolve)(r)}),p=[]}},function(){if(void 0!==d){var e=Date.now()-f;if(e+a>=d)return d-e}return a}()),o){var s=n.apply(t,e);return c&&c(s),r(s)}p.push({resolve:r,reject:i})})}).cancel=function(e){void 0!==l&&clearTimeout(l),p.forEach(function(t){return(0,t.reject)(e)}),p=[]},h),beginDelayedSelect(){y=setTimeout(r,g.selectionDelay)},cancelPendingSelect(){y&&clearTimeout(y)}}}function pT(e,t){let r=!1,n=()=>{r||(r=!0,e.dispatch(pE(t.options.result)))};return pD(e,t,()=>{n(),e.dispatch(px(t.options.result))})}new eA({numberOfResults:new eD({min:0})});var pF={id:r1},pj=tJ("querySuggest/register",e=>r7(e,{...pF,count:new eD({min:0})})),pM=tJ("querySuggest/unregister",e=>r7(e,pF)),pP=tJ("querySuggest/selectSuggestion",e=>r7(e,{...pF,expression:r3})),pU=tJ("querySuggest/clear",e=>r7(e,pF)),p_=rp("querySuggest/fetch",async(e,t)=>{let{getState:r,rejectWithValue:n,extra:{apiClient:a,validatePayload:i,navigatorContext:o}}=t;i(e,pF);let s=e.id,l=await pV(s,r(),o),u=await a.querySuggest(l);return rZ(u)?n(u.error):{id:s,q:l.q,...u.success}}),pV=async(e,t,r)=>({accessToken:t.configuration.accessToken,organizationId:t.configuration.organizationId,url:t.configuration.search.apiBaseUrl,count:t.querySuggest[e].count,q:t.querySet[e],locale:t.configuration.search.locale,timezone:t.configuration.search.timezone,actionsHistory:t.configuration.analytics.enabled?aZ.getHistory():[],...t.context&&{context:t.context.contextValues},...t.pipeline&&{pipeline:t.pipeline},...t.searchHub&&{searchHub:t.searchHub},tab:t.configuration.analytics.originLevel2,...t.configuration.analytics.enabled&&{visitorId:await aJ(t.configuration.analytics),...t.configuration.analytics.enabled&&"legacy"===t.configuration.analytics.analyticsMode?await oI(t.configuration.analytics):ob(t.configuration.analytics,r)},...t.configuration.search.authenticationProviders.length&&{authentication:t.configuration.search.authenticationProviders.join(",")}}),pQ={id:r1,query:r3},pL=tJ("querySet/register",e=>r7(e,pQ)),pN=tJ("querySet/update",e=>r7(e,pQ)),pz=tJ("commerce/querySet/register",e=>r7(e,pQ)),p$=tJ("commerce/querySet/update",e=>r7(e,pQ));function pB(e,t){eE(t.payload.q)||pH(e,t.payload.q)}function pH(e,t){Object.keys(e).forEach(r=>e[r]=t)}t8({},e=>{e.addCase(pL,(e,t)=>pW(e,t.payload)).addCase(pz,(e,t)=>pW(e,t.payload)).addCase(pN,(e,t)=>{let{id:r,query:n}=t.payload;pY(e,r,n)}).addCase(p$,(e,t)=>{let{id:r,query:n}=t.payload;pY(e,r,n)}).addCase(pP,(e,t)=>{let{id:r,expression:n}=t.payload;pY(e,r,n)}).addCase(cs,(e,t)=>{let{id:r,expression:n}=t.payload;pY(e,r,n)}).addCase(cq.fulfilled,(e,t)=>{let{queryExecuted:r}=t.payload;pH(e,r)}).addCase(sI.fulfilled,(e,t)=>{let{queryExecuted:r}=t.payload;pH(e,r)}).addCase(i0,pB).addCase(fx,pB).addCase(i8.fulfilled,(e,t)=>{if(t.payload)for(let[r,n]of Object.entries(t.payload.querySet))pY(e,r,n)})});var pY=(e,t,r)=>{t in e&&(e[t]=r)},pW=(e,t)=>{let{id:r,query:n}=t;r in e||(e[r]=n)};function pG(e,t){let r=t.id;r in e||(e[r]={id:"",completions:[],responseId:"",count:5,currentRequestId:"",error:null,partialQueries:[],isLoading:!1,...t})}function pK(e,t){let r=e[t.meta.arg.id];r&&(r.currentRequestId=t.meta.requestId,r.isLoading=!0)}function pJ(e,t){let r=e[t.meta.arg.id];r&&(r.error=t.payload||null,r.isLoading=!1)}function pZ(e,t){let r=e[t.id];r&&(r.responseId="",r.completions=[],r.partialQueries=[])}t8({},e=>e.addCase(pj,(e,t)=>{pG(e,t.payload)}).addCase(co,(e,t)=>{pG(e,t.payload)}).addCase(pM,(e,t)=>{delete e[t.payload.id]}).addCase(p_.pending,pK).addCase(p_.fulfilled,(e,t)=>{let r=e[t.meta.arg.id];if(!r||t.meta.requestId!==r.currentRequestId)return;let{q:n}=t.payload;n&&r.partialQueries.push(n.replace(/;/,encodeURIComponent(";"))),r.responseId=t.payload.responseId,r.completions=t.payload.completions,r.isLoading=!1,r.error=null}).addCase(p_.rejected,pJ).addCase(ci.pending,pK).addCase(ci.fulfilled,(e,t)=>{let r=e[t.meta.arg.id];if(!r||t.meta.requestId!==r.currentRequestId)return;let{query:n}=t.payload;n&&r.partialQueries.push(n.replace(/;/,encodeURIComponent(";"))),r.responseId=t.payload.responseId,r.completions=t.payload.completions.map(e=>({expression:e.expression,highlighted:e.highlighted,score:0,executableConfidence:0})),r.isLoading=!1,r.error=null}).addCase(ci.rejected,pJ).addCase(pU,(e,t)=>{pZ(e,t.payload)}).addCase(ca,(e,t)=>{pZ(e,t.payload)})),t8(eq(),e=>e.addCase(oS,(e,t)=>({...e,...t.payload})).addCase(o1,(e,t)=>{e.q=t.payload}).addCase(pP,(e,t)=>{e.q=t.payload.expression}).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.query)?n:e}).addCase(i0,(e,t)=>{var r,n;e.q=null!=(r=t.payload.q)?r:e.q,e.enableQuerySyntax=null!=(n=t.payload.enableQuerySyntax)?n:e.enableQuerySyntax}));var pX={open:new eU,close:new eU},p0={id:r1,numberOfSuggestions:new eD({min:0}),enableQuerySyntax:new eF,highlightOptions:new eV({values:{notMatchDelimiters:new eV({values:pX}),exactMatchDelimiters:new eV({values:pX}),correctionDelimiters:new eV({values:pX})}}),clearFilters:new eF};new eA(p0);var p1=(e,t)=>{let{id:r}=e;if(!t[r])return t[r]={q:"",cache:{}},t},p2=(e,t)=>{let{q:r,id:n}=e;r&&(t[n].q=r)},p3=(e,t)=>{let{id:r}=e;Object.entries(t[r].cache).forEach(e=>{let[n,a]=e;(function(e){return!!e&&e.expiresAt&&Date.now()>=e.expiresAt})(a)&&delete t[r].cache[n]})},p5=(e,t,r)=>{for(let e in t)for(let r in t[e].cache)t[e].cache[r].isActive=!1;if(!p8(e,t))return void p9(e,t,r);let n=p8(e,t);n.isLoading=!0,n.isActive=!0,n.error=null},p4=(e,t,r)=>{let{id:n,q:a,searchUid:i,cacheTimeout:o,totalCountFiltered:s,duration:l}=e;t[n].cache[a]={...p8(e,t),...r,isActive:!0,searchUid:i,isLoading:!1,error:null,expiresAt:o?o+Date.now():0,totalCountFiltered:s,duration:l}},p6=(e,t)=>{let{id:r,q:n,error:a}=e;t[r].cache[n].error=a||null,t[r].cache[n].isLoading=!1,t[r].cache[n].isActive=!1},p8=(e,t)=>{let{q:r,id:n}=e;return t[n].cache[r]||null},p9=(e,t,r)=>{let{q:n,id:a}=e;t[a].cache[n]={isLoading:!0,error:null,expiresAt:0,isActive:!0,searchUid:"",totalCountFiltered:0,duration:0,...r}},p7=(t8({},e=>{e.addCase(oc,(e,t)=>{p1(t.payload,e)}),e.addCase(od,(e,t)=>{p2(t.payload,e)}),e.addCase(of,(e,t)=>{p3(t.payload,e)}),e.addCase(sA.pending,(e,t)=>{p5(t.meta.arg,e,{results:[]})}),e.addCase(sA.fulfilled,(e,t)=>{let{results:r}=t.payload;p4({...t.payload,...t.meta.arg},e,{results:r})}),e.addCase(sA.rejected,(e,t)=>{p6(t.meta.arg,e)})}),new eA({searchBoxId:r2,maxResultsPerQuery:new eD({required:!0,min:1}),cacheTimeout:new eD}),{by:new ez({enum:eB,required:!0})}),he=tJ("sortCriteria/register",e=>hr(e)),ht=tJ("sortCriteria/update",e=>hr(e)),hr=e=>eN(e)?(e.forEach(e=>r7(e,p7)),{payload:e}):r7(e,p7),hn=(t8(eW(),e=>{e.addCase(he,(e,t)=>eH(t.payload)).addCase(ht,(e,t)=>eH(t.payload)).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.sortCriteria)?n:e}).addCase(i0,(e,t)=>{var r;return null!=(r=t.payload.sortCriteria)?r:e})}),new eV({options:{required:!0},values:{caption:r3,expression:r3,state:new eU({constrainTo:["idle","selected","excluded"]})}})),ha=new eL({required:!0,each:hn}),hi=tJ("staticFilter/register",e=>r7(e,{id:r1,values:ha})),ho=tJ("staticFilter/toggleSelect",e=>r7(e,{id:r1,value:hn})),hs=tJ("staticFilter/toggleExclude",e=>r7(e,{id:r1,value:hn})),hl=tJ("staticFilter/deselectAllFilterValues",e=>r7(e,r1)),hu=e=>iT("analytics/staticFilter/select",t=>t.makeStaticFilterSelect(e)),hc=e=>iT("analytics/staticFilter/deselect",t=>t.makeStaticFilterDeselect(e)),hd=()=>({actionCause:"staticFilterSelect"}),hf=()=>({actionCause:"staticFilterDeselect"});t8({},e=>e.addCase(hi,(e,t)=>{let r=t.payload,{id:n}=r;n in e||(e[n]=r)}).addCase(ho,(e,t)=>{let{id:r,value:n}=t.payload,a=e[r];if(!a)return;let i=a.values.find(e=>e.caption===n.caption);if(!i)return;let o="selected"===i.state;i.state=o?"idle":"selected"}).addCase(hs,(e,t)=>{let{id:r,value:n}=t.payload,a=e[r];if(!a)return;let i=a.values.find(e=>e.caption===n.caption);if(!i)return;let o="excluded"===i.state;i.state=o?"idle":"excluded"}).addCase(hl,(e,t)=>{let r=e[t.payload];r&&r.values.forEach(e=>e.state="idle")}).addCase(or,e=>{Object.values(e).forEach(e=>{e.values.forEach(e=>e.state="idle")})}).addCase(i0,(e,t)=>{let r=t.payload.sf||{};Object.entries(e).forEach(e=>{let[t,n]=e,a=r[t]||[];n.values.forEach(e=>{e.state=a.includes(e.caption)?"selected":"idle"})})})),new eA({id:r1,values:ha});function hp(e,t){t in e&&Object.keys(e).forEach(r=>{e[r].isActive=r===t})}t8({},e=>{e.addCase(lB,(e,t)=>{let r=t.payload,{id:n}=r;n in e||(e[n]={...r,isActive:!1})}).addCase(lH,(e,t)=>{hp(e,t.payload)}).addCase(i0,(e,t)=>{hp(e,t.payload.tab||"")}).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.tabSet)?n:e})}),new eA({expression:r3,id:r1,clearFiltersOnTabChange:new eF}),new eA({isActive:new eF});var hh={categoryFacetId:r1,categoryFacetPath:new eL({required:!0,each:r1})},hg=(e,t)=>{var r;let{categoryFacetId:n,categoryFacetPath:a}=t,i=null==(r=e.categoryFacetSet[n])?void 0:r.request.field,o="".concat(i,"_").concat(n);return{categoryFacetId:n,categoryFacetPath:a,categoryFacetField:i,categoryFacetTitle:o}},hy=(e,t)=>{let{facetId:r,selection:n}=t,a=(e.dateFacetSet[r]||e.numericFacetSet[r]).request.field,i="".concat(a,"_").concat(r);return{facetId:r,facetField:a,facetTitle:i,facetRangeEndInclusive:n.endInclusive,facetRangeEnd:"".concat(n.end),facetRangeStart:"".concat(n.start)}};function hm(e){return"redirect"===e.type}var hv=class{get basicExpression(){return this.response.parsedInput.basicExpression}get largeExpression(){return this.response.parsedInput.largeExpression}get redirectionUrl(){let e=this.response.preprocessingOutput.triggers.filter(hm);return e.length?e[0].content:null}constructor(e){this.response=e}},hw=tJ("standaloneSearchBox/register",e=>r7(e,{id:r1,redirectionUrl:r1,overwrite:new eF({required:!1})})),hS=tJ("standaloneSearchBox/updateRedirectionUrl",e=>r7(e,{id:r1,redirectionUrl:r1})),hb=tJ("standaloneSearchBox/reset",e=>r7(e,{id:r1})),hC=tJ("standaloneSearchBox/updateAnalyticsToSearchFromLink",e=>r7(e,{id:r1})),hI=tJ("standaloneSearchBox/updateAnalyticsToOmniboxFromLink"),hq=rp("standaloneSearchBox/fetchRedirect",async(e,t)=>{let{dispatch:r,getState:n,rejectWithValue:a,extra:{apiClient:i,validatePayload:o,navigatorContext:s}}=t;o(e,{id:new eU({emptyAllowed:!1})});let l=await hO(n(),s),u=await i.plan(l);if(rZ(u))return a(u.error);let{redirectionUrl:c}=new hv(u.success);return c&&r(hk(c)),c||""}),hk=e=>iT("analytics/standaloneSearchBox/redirect",t=>t.makeTriggerRedirect({redirectedTo:e})),hO=async(e,t)=>({accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.search.apiBaseUrl,locale:e.configuration.search.locale,timezone:e.configuration.search.timezone,q:e.query.q,...e.context&&{context:e.context.contextValues},...e.pipeline&&{pipeline:e.pipeline},...e.searchHub&&{searchHub:e.searchHub},...e.configuration.analytics.enabled&&{visitorId:await aJ(e.configuration.analytics)},...e.configuration.analytics.enabled&&"legacy"===e.configuration.analytics.analyticsMode?await oI(e.configuration.analytics):ob(e.configuration.analytics,t),...e.configuration.search.authenticationProviders.length&&{authentication:e.configuration.search.authenticationProviders.join(",")}});function hA(e){return{defaultRedirectionUrl:e,redirectTo:"",isLoading:!1,analytics:{cause:"",metadata:null}}}t8({},e=>e.addCase(hw,(e,t)=>{let{id:r,redirectionUrl:n,overwrite:a}=t.payload;!a&&r in e||(e[r]=hA(n))}).addCase(hb,(e,t)=>{let{id:r}=t.payload,n=e[r];if(n){e[r]=hA(n.defaultRedirectionUrl);return}}).addCase(hS,(e,t)=>{let{id:r,redirectionUrl:n}=t.payload;r in e&&(e[r]=hA(n))}).addCase(hq.pending,(e,t)=>{let r=e[t.meta.arg.id];r&&(r.isLoading=!0)}).addCase(hq.fulfilled,(e,t)=>{let r=t.payload,n=e[t.meta.arg.id];n&&(n.redirectTo=r||n.defaultRedirectionUrl,n.isLoading=!1)}).addCase(hq.rejected,(e,t)=>{let r=e[t.meta.arg.id];r&&(r.isLoading=!1)}).addCase(hC,(e,t)=>{let r=e[t.payload.id];r&&(r.analytics.cause="searchFromLink")}).addCase(hI,(e,t)=>{let r=e[t.payload.id];r&&(r.analytics.cause="omniboxFromLink",r.analytics.metadata=t.payload.metadata)})),new eA({...p0,redirectionUrl:new eU({required:!0,emptyAllowed:!1}),overwrite:new eF({required:!1})});function hx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach(r=>t[r]=e[r].map(e=>"".concat(e.start,"..").concat(e.end))),t}new eA({parameters:new eV({options:{required:!0},values:iX})});function hR(e){return t=>{var r,n,a;return null==(a=null==(n=e.facetOptions)||null==(r=n.facets[t])?void 0:r.enabled)||a}}function hE(e){return e.currentValues.filter(e=>"selected"===e.state).map(e=>e.value)}function hD(e){return e.currentValues.filter(e=>"selected"===e.state)}function hT(e){return e.currentValues.filter(e=>"excluded"===e.state).map(e=>e.value)}var hF=/^(f|fExcluded|cf|nf|df|sf|af|mnf)-(.+)$/,hj={f:!0,fExcluded:!0,cf:!0,sf:!0,af:!0,nf:!0,df:!0,mnf:!0};function hM(e){return e in{q:!0,aq:!0,cq:!0,enableQuerySyntax:!0,firstResult:!0,numberOfResults:!0,sortCriteria:!0,debug:!0,tab:!0}||e in hj}var hP=e=>t=>Object.entries(t).map(e).filter(e=>e).join("&");function hU(e){var t,r,n,a,i,o,s;let[l,u]=e;return hM(l)?l in hj&&!((t=l)in hj&&t in{nf:!0,df:!0,mnf:!0})?h_(r=u)&&hV(r,e=>"string"==typeof e)?(n=l,Object.entries(u).map(e=>{let[t,r]=e;return"".concat(n,"-").concat(t).concat("=").concat(r.map(e=>encodeURIComponent(e)).join(","))}).join("&")):"":"nf"===l||"df"===l?h_(a=u)&&hV(a,e=>h_(e)&&"start"in e&&"end"in e)?(i=l,Object.entries(u).map(e=>{let[t,r]=e,n=r.map(e=>{let{start:t,end:r,endInclusive:n}=e;return"".concat(t).concat(n?"...":"..").concat(r)}).join(",");return"".concat(i,"-").concat(t).concat("=").concat(n)}).join("&")):"":(o=l,s=u,"".concat(o).concat("=").concat(encodeURIComponent(s))):""}function h_(e){return!!(e&&"object"==typeof e)}function hV(e,t){return 0===Object.entries(e).filter(e=>{let r=e[1];return!Array.isArray(r)||!r.every(t)}).length}function hQ(e){return e.split("&").map(e=>(function(e){let[t,...r]=e.split("=");return[t,r.join("=")]})(e)).map(hL).filter(hz).map(e=>(function(e){let t,r,n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],[a,i]=e;return"enableQuerySyntax"===a||"debug"===a?[a,"true"===i]:"firstResult"===a||"numberOfResults"===a?[a,parseInt(i)]:a in hj?[a,(t=JSON.parse(i),r={},Object.entries(t).forEach(e=>{let[t,n]=e;r[t]=n.map(e=>e_(e)?decodeURIComponent(e):e)}),r)]:[a,n?decodeURIComponent(i):i]})(e)).reduce((e,t)=>{let[r,n]=t;if(r in hj){let t={...e[r],...n};return{...e,[r]:t}}return{...e,[r]:n}},{})}function hL(e){var t,r;let[n,a]=e,i=hF.exec(n);if(!i)return e;let o=i[1],s=i[2],l=(t=o,r=a.split(","),"nf"===t||"mnf"===t?r.map(e=>{let{startAsString:t,endAsString:r,isEndInclusive:n}=h$(e);return{start:parseFloat(t),end:parseFloat(r),endInclusive:n}}).filter(e=>{let{start:t,end:r}=e;return Number.isFinite(t)&&Number.isFinite(r)}).map(e=>{let{start:t,end:r,endInclusive:n}=e;return{endInclusive:!1,state:"idle",start:t,end:r,state:"selected",endInclusive:n}}):"df"===t?r.map(e=>{let{isEndInclusive:t,startAsString:r,endAsString:n}=h$(e);return{start:r,end:n,endInclusive:t}}).filter(e=>{let{start:t,end:r}=e;return hN(t)&&hN(r)}).map(e=>{let{start:t,end:r,endInclusive:n}=e;return dC({start:t,end:r,state:"selected",endInclusive:n})}):r);return[o,JSON.stringify({[s]:l})]}function hN(e){try{return oF(oT(e))===e?(oj(e,oD),!0):!!oz(e)&&(oV(e),!0)}catch(e){return!1}}function hz(e){let t=hM(e[0]),r=2===e.length;return t&&r}function h$(e){let t=-1!==e.indexOf("..."),[r,n]=e.split(t?"...":"..");return{isEndInclusive:t,startAsString:r,endAsString:n}}new eA({fragment:new eU});async function hB(e,t){var r;let{search:n,accessToken:a,organizationId:i,analytics:o}=e.configuration,s=(null==(r=e.query)?void 0:r.q)||"";return{url:n.apiBaseUrl,accessToken:a,organizationId:i,enableNavigation:!1,...o.enabled&&{visitorId:await aJ(e.configuration.analytics)},q:s,...t,requestedOutputSize:t.requestedOutputSize||0,...n.authenticationProviders.length&&{authentication:n.authenticationProviders.join(",")}}}var hH=rp("resultPreview/fetchResultContent",async(e,t)=>{let{extra:r,getState:n,rejectWithValue:a}=t,i=n(),o=await hB(i,e),s=await r.apiClient.html(o);return rZ(s)?a(s.error):{content:s.success,uniqueId:e.uniqueId}}),hY=tJ("resultPreview/next"),hW=tJ("resultPreview/previous"),hG=tJ("resultPreview/prepare",e=>r7(e,{results:new eL({required:!0})})),hK=rp("resultPreview/updateContentURL",async(e,t)=>{let{getState:r,extra:n}=t,a=r(),i=rW(await e.buildResultPreviewRequest(a,{uniqueId:e.uniqueId,requestedOutputSize:e.requestedOutputSize}),e.path);return(null==i?void 0:i.length)>2048&&n.logger.error("The content URL was truncated as it exceeds the maximum allowed length of ".concat(2048," characters.")),{contentURL:i}}),hJ=e=>{let{content:t,isLoading:r,uniqueId:n,contentURL:a}=eJ();e.content=t,e.isLoading=r,e.uniqueId=n,e.contentURL=a},hZ=e=>e.filter(e=>e.hasHtmlVersion).map(e=>e.uniqueId);function hX(e,t){return e.raw[t.parent]}function h0(e,t){let r=e.raw[t.child];return Z(r)?r[0]:r}function h1(e,t,r){let n={};return e.forEach(e=>{var a;let i,o,s=e.raw[t.collection];s&&(h0(e,t)||e.parentResult)&&(n[s]=(i=iO(e),{result:o=null!=(a=null!=r?r:i.find(e=>{var r,n;let a=void 0===hX(e,t),i=(r=hX(e,t),n=h0(e,t),(r||n)!==void 0&&r===n);return a||i}))?a:function e(t){return t.parentResult?e(t.parentResult):t}(e),children:function e(t,r,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=h0(t,n);return i?-1!==a.indexOf(i)?[]:r.filter(e=>{let r=h0(e,n)===h0(t,n);return hX(e,n)===i&&!r}).map(t=>({result:t,children:e(t,r,n,[...a,i])})):[]}(o,i,t),moreResultsAvailable:!0,isLoadingMoreResults:!1}))}),n}function h2(e,t){if(!e.collections[t])throw Error("Missing collection ".concat(t," from ").concat(Object.keys(e.collections),": Folding most probably in an invalid state..."));return e.collections[t]}t8(eJ(),e=>{e.addCase(hH.pending,e=>{e.isLoading=!0}).addCase(hH.fulfilled,(e,t)=>{let{content:r,uniqueId:n}=t.payload;e.position=e.resultsWithPreview.indexOf(n),e.content=r,e.uniqueId=n,e.isLoading=!1}).addCase(sI.fulfilled,(e,t)=>{hJ(e),e.resultsWithPreview=hZ(t.payload.response.results)}).addCase(sk.fulfilled,(e,t)=>{hJ(e),e.resultsWithPreview=e.resultsWithPreview.concat(hZ(t.payload.response.results))}).addCase(sq.fulfilled,hJ).addCase(hG,(e,t)=>{e.resultsWithPreview=hZ(t.payload.results)}).addCase(hY,e=>{if(e.isLoading)return;let t=e.position+1;t>e.resultsWithPreview.length-1&&(t=0),e.position=t}).addCase(hW,e=>{if(e.isLoading)return;let t=e.position-1;t<0&&(t=e.resultsWithPreview.length-1),e.position=t}).addCase(hK.fulfilled,(e,t)=>{e.contentURL=t.payload.contentURL})}),t8(eS(),e=>e.addCase(sI.fulfilled,(e,t)=>{let{payload:r}=t;e.collections=e.enabled?h1(r.response.results,e.fields):{}}).addCase(sq.fulfilled,(e,t)=>{let{payload:r}=t;e.collections=e.enabled?h1(r.response.results,e.fields):{}}).addCase(sk.fulfilled,(e,t)=>{let{payload:r}=t;e.collections=e.enabled?{...e.collections,...h1(r.response.results,e.fields)}:{}}).addCase(ui,(e,t)=>{var r,n,a,i;let{payload:o}=t;return e.enabled?e:{enabled:!0,collections:{},fields:{collection:null!=(r=o.collectionField)?r:e.fields.collection,parent:null!=(n=o.parentField)?n:e.fields.parent,child:null!=(a=o.childField)?a:e.fields.child},filterFieldRange:null!=(i=o.numberOfFoldedResults)?i:e.filterFieldRange}}).addCase(uo.pending,(e,t)=>{let{meta:r}=t;h2(e,r.arg).isLoadingMoreResults=!0}).addCase(uo.rejected,(e,t)=>{let{meta:r}=t;h2(e,r.arg).isLoadingMoreResults=!1}).addCase(uo.fulfilled,(e,t)=>{let{payload:{collectionId:r,results:n,rootResult:a}}=t,i=h1(n,e.fields,a);if(!i||!i[r])throw Error("Unable to create collection ".concat(r," from received results: ").concat(JSON.stringify(n),". Folding most probably in an invalid state... "));e.collections[r]=i[r],e.collections[r].moreResultsAvailable=!1})),new eA(ua);function h3(e){return e.query="",e.queryModification={originalQuery:"",newQuery:"",queryToIgnore:e.queryModification.queryToIgnore},e}t8({redirectTo:"",query:"",executions:[],notifications:[],queryModification:{originalQuery:"",newQuery:"",queryToIgnore:""}},e=>e.addCase(sI.pending,h3).addCase(sI.fulfilled,(e,t)=>(function(e,t){var r;let n=[],a=[],i=[],o=[];return t.forEach(e=>{switch(e.type){case"redirect":n.push(e.content);break;case"query":a.push(e.content);break;case"execute":i.push({functionName:e.content.name,params:e.content.params});break;case"notify":o.push(e.content)}}),e.redirectTo=null!=(r=n[0])?r:"",e.query=e.queryModification.newQuery,e.executions=i,e.notifications=o,e})(e,t.payload.response.triggers)).addCase(o9,(e,t)=>(function(e,t){return e.queryModification={...t,queryToIgnore:""},e})(e,t.payload)).addCase(o8,(e,t)=>(function(e,t){return e.queryModification.queryToIgnore=t,e})(e,t.payload)));var h5=()=>new eV({values:{questionAnswerId:r1},options:{required:!0}}),h4=()=>new eV({values:{linkText:r3,linkURL:r3},options:{required:!0}});function h6(e){return r7(e,h5())}function h8(e,t){var r,n,a,i;let o=null!=t?t:null==(n=e.search)||null==(r=n.questionAnswer)?void 0:r.documentId;return o&&e.search&&(a=o.contentIdKey,i=o.contentIdValue,e.search.results.find(e=>sF(e,a)===i))}function h9(e,t){var r,n,a,i,o,s;let l=null!=(o=null==(r=e.questionAnswering)?void 0:r.relatedQuestions.findIndex(e=>e.questionAnswerId===t))?o:-1;return -1===l?null:null!=(s=null==(i=e.search)||null==(a=i.questionAnswer)||null==(n=a.relatedQuestions)?void 0:n[l])?s:null}var h7=e=>iT({prefix:"analytics/smartSnippet/source/open",__legacy__getBuilder:(t,r)=>{r7(e,h4());let n=h8(r);return n?t.makeOpenSmartSnippetInlineLink(ij(n,r),{...iM(n),...e}):null},analyticsType:"Qna.CitationClick",analyticsPayloadBuilder:e=>{var t;let r=iM(h8(e));return{answer:{responseId:(null==(t=e.search)?void 0:t.response.searchUid)||"",type:"SmartSnippet"},citation:{id:r.contentIDValue,type:"InlineLink"}}}}),ge=(e,t)=>iT({prefix:"analytics/smartSnippetSuggestion/source/open",__legacy__getBuilder:(r,n)=>{r7(e,h5()),r7(t,h4());let a=h9(n,e.questionAnswerId);if(!a)return null;let i=h8(n,a.documentId);return i?r.makeOpenSmartSnippetSuggestionInlineLink(ij(i,n),{question:a.question,answerSnippet:a.answerSnippet,documentId:a.documentId,linkText:t.linkText,linkURL:t.linkURL}):null},analyticsType:"Qna.CitationClick",analyticsPayloadBuilder:t=>{var r;let n=h9(t,e.questionAnswerId);return{answer:{responseId:(null==(r=t.search)?void 0:r.response.searchUid)||"",type:"SmartSnippetSuggestion"},citation:{id:(null==n?void 0:n.documentId.contentIdValue)||"",type:"InlineLink"}}}}),gt=tJ("smartSnippet/expand"),gr=tJ("smartSnippet/collapse"),gn=tJ("smartSnippet/like"),ga=tJ("smartSnippet/dislike"),gi=tJ("smartSnippet/feedbackModal/open"),go=tJ("smartSnippet/feedbackModal/close"),gs=tJ("smartSnippet/related/expand",e=>h6(e)),gl=tJ("smartSnippet/related/collapse",e=>h6(e)),gu=(e,t)=>e.findIndex(e=>e.questionAnswerId===t.questionAnswerId);function gc(e){let{question:t,answerSnippet:r,documentId:{contentIdKey:n,contentIdValue:a}}=e;return ee({question:t,answerSnippet:r,contentIdKey:n,contentIdValue:a})}var gd=t8(eK(),e=>e.addCase(gt,e=>{e.expanded=!0}).addCase(gr,e=>{e.expanded=!1}).addCase(gn,e=>{e.liked=!0,e.disliked=!1,e.feedbackModalOpen=!1}).addCase(ga,e=>{e.liked=!1,e.disliked=!0}).addCase(gi,e=>{e.feedbackModalOpen=!0}).addCase(go,e=>{e.feedbackModalOpen=!1}).addCase(sI.fulfilled,(e,t)=>{let r=t.payload.response.questionAnswer.relatedQuestions.map((t,r)=>(function(e,t){let r=gc(e);return t&&r===t.questionAnswerId?t:{contentIdKey:e.documentId.contentIdKey,contentIdValue:e.documentId.contentIdValue,expanded:!1,questionAnswerId:r}})(t,e.relatedQuestions[r])),n=gc(t.payload.response.questionAnswer);return e.questionAnswerId===n?{...e,relatedQuestions:r}:{...eK(),relatedQuestions:r,questionAnswerId:n}}).addCase(gs,(e,t)=>{let r=gu(e.relatedQuestions,t.payload);-1!==r&&(e.relatedQuestions[r].expanded=!0)}).addCase(gl,(e,t)=>{let r=gu(e.relatedQuestions,t.payload);-1!==r&&(e.relatedQuestions[r].expanded=!1)})),gf={queries:new eL({required:!0,each:new eU({emptyAllowed:!1})}),maxLength:new eD({required:!0,min:1,default:10})},gp=tJ("recentQueries/registerRecentQueries",e=>r7(e,gf)),gh=tJ("recentQueries/clearRecentQueries");function gg(e,t){e.queries=t.payload.queries.slice(0,t.payload.maxLength),e.maxLength=t.payload.maxLength}function gy(e){e.queries=[]}function gm(e){return{value:e,state:"selected",numberOfResults:0}}function gv(e){return"object"==typeof e}t8({queries:[],maxLength:10},e=>{e.addCase(gp,gg).addCase(gh,gy).addCase(sI.fulfilled,(e,t)=>{let r=t.payload.queryExecuted.trim(),n=t.payload.response.results;r.length&&n.length&&function(e,t){t.queries=t.queries.filter(t=>t!==e);let r=t.queries.slice(0,t.maxLength-1);t.queries=[e,...r]}(r,e)})}),new eA({queries:new eL({required:!0})}),new eA({maxLength:new eD({required:!0,min:1}),clearFilters:new eF}),t8({results:[],maxLength:10},e=>{e.addCase(pA,(e,t)=>{e.results=t.payload.results.slice(0,t.payload.maxLength),e.maxLength=t.payload.maxLength}).addCase(pR,e=>{e.results=[]}).addCase(px,(e,t)=>{let r=t.payload;e.results=e.results.filter(e=>e.uniqueId!==r.uniqueId);let n=e.results.slice(0,e.maxLength-1);e.results=[r,...n]})}),new eA({results:new eL({required:!0})}),new eA({maxLength:new eD({required:!0,min:1})}),t8(em(),e=>{e.addCase(sI.fulfilled,(e,t)=>{var r,n;e.set={},null==(n=t.payload.response.generateAutomaticFacets)||null==(r=n.facets)||r.forEach(t=>{e.set[t.field]={response:t}})}).addCase(pg,(e,t)=>{t.payload.desiredCount&&(e.desiredCount=t.payload.desiredCount),t.payload.numberOfValues&&(e.numberOfValues=t.payload.numberOfValues)}).addCase(pm,(e,t)=>{var r;let{field:n,selection:a}=t.payload,i=null==(r=e.set[n])?void 0:r.response;if(!i)return;let o=i.values.find(e=>e.value===a.value);if(!o)return;let s="selected"===o.state;o.state=s?"idle":"selected"}).addCase(py,(e,t)=>{var r;let n=t.payload,a=null==(r=e.set[n])?void 0:r.response;if(a)for(let e of a.values)e.state="idle"}).addCase(i0,(e,t)=>{var r,n,a;let i=null!=(r=t.payload.af)?r:{},o=Object.keys(e.set);for(let t in i)if(!e.set[t]){let r={field:t,values:[],moreValuesAvailable:!1,label:"",indexScore:0},n=i[t].map(e=>gm(e));r.values.push(...n),e.set[t]={response:r}}for(let t of o)if(!(t in i))for(let r of(null==(n=e.set[t])?void 0:n.response).values)r.state="idle";for(let t in i){let r=null==(a=e.set[t])?void 0:a.response;if(r){let e=r.values,n=new Set(i[t]);for(let t of e)n.has(t.value)?(t.state="selected",n.delete(t.value)):t.state="idle";for(let e of n)r.values.push(gm(e))}}}).addCase(i8.fulfilled,(e,t)=>{if(t.payload&&0!==Object.keys(t.payload.automaticFacetSet.set).length)return t.payload.automaticFacetSet}).addCase(or,e=>{Object.values(e.set).forEach(e=>{let{response:t}=e;t.values.forEach(e=>e.state="idle")})})});var gw=e=>iT("analytics/generatedAnswer/streamEnd",(t,r)=>{var n,a;let i=sV(r),o=e?!(null==(n=r.generatedAnswer)?void 0:n.answer)||!(null==(a=r.generatedAnswer)?void 0:a.answer.length):void 0;return i?t.makeGeneratedAnswerStreamEnd({generativeQuestionAnsweringId:i,answerGenerated:e,answerTextIsEmpty:o}):null}),gS=async e=>{var t;return{accessToken:e.configuration.accessToken,organizationId:e.configuration.organizationId,url:e.configuration.platformUrl,streamId:null==(t=e.search.extendedResults)?void 0:t.generativeQuestionAnsweringId}},gb=["default","bullet","step","concise"],gC=new eU({required:!0}),gI=new eU,gq=new eF({required:!0}),gk={id:gC,title:gC,uri:gC,permanentid:gC,clickUri:gI},gO=new eU({required:!0,constrainTo:["text/plain","text/markdown"]}),gA=tJ("generatedAnswer/setIsVisible",e=>r7(e,gq)),gx=tJ("generatedAnswer/updateMessage",e=>r7(e,{textDelta:gC})),gR=tJ("generatedAnswer/updateCitations",e=>r7(e,{citations:new eL({required:!0,each:new eV({values:gk})})})),gE=tJ("generatedAnswer/updateError",e=>r7(e,{message:gI,code:new eD({min:0})})),gD=tJ("generatedAnswer/resetAnswer"),gT=tJ("generatedAnswer/like"),gF=tJ("generatedAnswer/dislike"),gj=tJ("generatedAnswer/feedbackModal/open"),gM=tJ("generatedAnswer/expand"),gP=tJ("generatedAnswer/collapse"),gU=tJ("generatedAnswer/setId",e=>r7(e,{id:new eU({required:!0})})),g_=tJ("generatedAnswer/feedbackModal/close"),gV=tJ("generatedAnswer/sendFeedback"),gQ=tJ("generatedAnswer/setIsLoading",e=>r7(e,gq)),gL=tJ("generatedAnswer/setIsStreaming",e=>r7(e,gq)),gN=tJ("generatedAnswer/setAnswerContentFormat",e=>r7(e,gO)),gz=tJ("generatedAnswer/updateResponseFormat",e=>r7(e,{answerStyle:new eU({required:!0,constrainTo:gb}),contentFormat:new eL({each:gO,default:["text/plain"]})})),g$=tJ("knowledge/updateAnswerConfigurationId",e=>r7(e,gC)),gB=tJ("generatedAnswer/registerFieldsToIncludeInCitations",e=>r7(e,r4)),gH=tJ("generatedAnswer/setIsAnswerGenerated",e=>r7(e,gq)),gY=rp("generatedAnswer/streamAnswer",async(e,t)=>{var r;let n=t.getState(),{dispatch:a,extra:i}=t,{setAbortControllerRef:o}=e,s=await gS(n),l=(e,t)=>{switch(e){case"genqa.headerMessageType":a(gN(JSON.parse(t).contentFormat));break;case"genqa.messageType":a(gx(JSON.parse(t)));break;case"genqa.citationsType":a(gR(JSON.parse(t)));break;case"genqa.endOfStreamType":{let e=JSON.parse(t).answerGenerated;a(gL(!1)),a(gH(e)),a(gw(e));break}default:n.debug&&i.logger.warn('Unknown payloadType: "'.concat(e,'"'))}};a(gQ(!0));let u=e=>e.streamId===t.getState().search.extendedResults.generativeQuestionAnsweringId,c=null==(r=i.streamingClient)?void 0:r.streamGeneratedAnswer(s,{write:e=>{u(s)&&(a(gQ(!1)),e.payload&&e.payloadType&&l(e.payloadType,e.payload))},abort:e=>{u(s)&&a(gE(e))},close:()=>{u(s)&&a(gL(!1))},resetAnswer:()=>{u(s)&&a(gD())}});c?o(c):a(gQ(!1))}),gW=t8(eb(),e=>e.addCase(gA,(e,t)=>{let{payload:r}=t;e.isVisible=r}).addCase(gU,(e,t)=>{let{payload:r}=t;e.id=r.id}).addCase(gx,(e,t)=>{let{payload:r}=t;e.isLoading=!1,e.isStreaming=!0,e.answer||(e.answer=""),e.answer+=r.textDelta,delete e.error}).addCase(gR,(e,t)=>{let{payload:r}=t;e.isLoading=!1,e.isStreaming=!0;let n=new Map;for(let t of[e.citations,r.citations])for(let e of t)n.set(e.uri,e);e.citations=Array.from(n.values()),delete e.error}).addCase(gE,(e,t)=>{let{payload:r}=t;e.isLoading=!1,e.isStreaming=!1,e.error={...r,isRetryable:1===r.code},e.citations=[],delete e.answer}).addCase(gT,e=>{e.liked=!0,e.disliked=!1}).addCase(gF,e=>{e.liked=!1,e.disliked=!0}).addCase(gj,e=>{e.feedbackModalOpen=!0}).addCase(g_,e=>{e.feedbackModalOpen=!1}).addCase(gV,e=>{e.feedbackSubmitted=!0}).addCase(gD,e=>({...eb(),...e.answerConfigurationId?{answerConfigurationId:e.answerConfigurationId}:{},responseFormat:e.responseFormat,fieldsToIncludeInCitations:e.fieldsToIncludeInCitations,isVisible:e.isVisible,id:e.id})).addCase(gQ,(e,t)=>{let{payload:r}=t;e.isLoading=r}).addCase(gL,(e,t)=>{let{payload:r}=t;e.isStreaming=r}).addCase(gN,(e,t)=>{let{payload:r}=t;e.answerContentFormat=r}).addCase(gz,(e,t)=>{let{payload:r}=t;e.responseFormat=r}).addCase(gB,(e,t)=>{e.fieldsToIncludeInCitations=[...new Set(e.fieldsToIncludeInCitations.concat(t.payload))]}).addCase(gH,(e,t)=>{let{payload:r}=t;e.isAnswerGenerated=r}).addCase(gM,e=>{e.expanded=!0}).addCase(gP,e=>{e.expanded=!1}).addCase(g$,(e,t)=>{let{payload:r}=t;e.answerConfigurationId=r}));lk.injectEndpoints({endpoints:e=>({post:e.mutation({query:e=>({url:"/evaluations",method:"POST",body:e})})})});var gG=e=>"yes"===e||"no"!==e&&null,gK=()=>new eU({required:!1,emptyAllowed:!0}),gJ=tJ("advancedSearchQueries/update",e=>r7(e,{aq:gK(),cq:gK(),lq:gK(),dq:gK()})),gZ=tJ("advancedSearchQueries/register",e=>r7(e,{aq:gK(),cq:gK(),lq:gK(),dq:gK()})),gX=(t8(N(),e=>{e.addCase(gJ,(e,t)=>{let{aq:r,cq:n,lq:a,dq:i}=t.payload;eR(r)||(e.aq=r,e.aqWasSet=!0),eR(n)||(e.cq=n,e.cqWasSet=!0),eR(a)||(e.lq=a,e.lqWasSet=!0),eR(i)||(e.dq=i,e.dqWasSet=!0)}).addCase(gZ,(e,t)=>{let{aq:r,cq:n,lq:a,dq:i}=t.payload;eR(r)||(e.defaultFilters.aq=r,e.aqWasSet||(e.aq=r)),eR(n)||(e.defaultFilters.cq=n,e.cqWasSet||(e.cq=n)),eR(a)||(e.defaultFilters.lq=a,e.lqWasSet||(e.lq=a)),eR(i)||(e.defaultFilters.dq=i,e.dqWasSet||(e.dq=i))}).addCase(i8.fulfilled,(e,t)=>{var r,n;return null!=(n=null==(r=t.payload)?void 0:r.advancedSearchQueries)?n:e}).addCase(i0,(e,t)=>{let{aq:r,cq:n}=t.payload;eR(r)||(e.aq=r,e.aqWasSet=!0),eR(n)||(e.cq=n,e.cqWasSet=!0)})}),tJ("excerptLength/set",e=>r7(e,new eD({min:0,required:!0}))));t8({length:void 0},e=>{e.addCase(gX,(e,t)=>{e.length=t.payload})}),new eA({content:new ex({required:!0}),conditions:new ex({required:!0}),priority:new eD({required:!1,default:0,min:0}),fields:new eL({required:!1,each:r1})}),rp("analytics/addPageViewEntry",async(e,t)=>{let{getState:r}=t;r().configuration.analytics.enabled&&aZ.addElement({name:"PageView",value:e,time:JSON.stringify(new Date)})});"u">typeof window||(r.g.crypto||(r.g.crypto=c("crypto")),!r.g.crypto.getRandomValues&&r.g.crypto.webcrypto&&(r.g.crypto.getRandomValues=r.g.crypto.webcrypto.getRandomValues.bind(r.g.crypto.webcrypto)))}}]);